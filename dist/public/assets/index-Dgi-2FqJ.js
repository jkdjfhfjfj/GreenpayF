var LQ=Object.defineProperty;var wO=e=>{throw TypeError(e)};var IQ=(e,t,r)=>t in e?LQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ur=(e,t,r)=>IQ(e,typeof t!="symbol"?t+"":t,r),D5=(e,t,r)=>t.has(e)||wO("Cannot "+r);var he=(e,t,r)=>(D5(e,t,"read from private field"),r?r.call(e):t.get(e)),Mt=(e,t,r)=>t.has(e)?wO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ct=(e,t,r,n)=>(D5(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),sr=(e,t,r)=>(D5(e,t,"access private method"),r);var xb=(e,t,r,n)=>({set _(i){ct(e,t,i,r)},get _(){return he(e,t,n)}});function DQ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var yb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Er(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Q$={exports:{}},fj={},J$={exports:{}},fr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy=Symbol.for("react.element"),RQ=Symbol.for("react.portal"),FQ=Symbol.for("react.fragment"),$Q=Symbol.for("react.strict_mode"),BQ=Symbol.for("react.profiler"),UQ=Symbol.for("react.provider"),zQ=Symbol.for("react.context"),VQ=Symbol.for("react.forward_ref"),qQ=Symbol.for("react.suspense"),WQ=Symbol.for("react.memo"),HQ=Symbol.for("react.lazy"),jO=Symbol.iterator;function KQ(e){return e===null||typeof e!="object"?null:(e=jO&&e[jO]||e["@@iterator"],typeof e=="function"?e:null)}var e7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t7=Object.assign,r7={};function og(e,t,r){this.props=e,this.context=t,this.refs=r7,this.updater=r||e7}og.prototype.isReactComponent={};og.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};og.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function n7(){}n7.prototype=og.prototype;function H4(e,t,r){this.props=e,this.context=t,this.refs=r7,this.updater=r||e7}var K4=H4.prototype=new n7;K4.constructor=H4;t7(K4,og.prototype);K4.isPureReactComponent=!0;var NO=Array.isArray,i7=Object.prototype.hasOwnProperty,G4={current:null},a7={key:!0,ref:!0,__self:!0,__source:!0};function s7(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)i7.call(t,n)&&!a7.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Jy,type:e,key:s,ref:o,props:i,_owner:G4.current}}function GQ(e,t){return{$$typeof:Jy,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Y4(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jy}function YQ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var SO=/\/+/g;function R5(e,t){return typeof e=="object"&&e!==null&&e.key!=null?YQ(""+e.key):t.toString(36)}function b1(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Jy:case RQ:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+R5(o,0):n,NO(i)?(r="",e!=null&&(r=e.replace(SO,"$&/")+"/"),b1(i,t,r,"",function(u){return u})):i!=null&&(Y4(i)&&(i=GQ(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(SO,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",NO(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+R5(s,l);o+=b1(s,t,r,c,i)}else if(c=KQ(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+R5(s,l++),o+=b1(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function vb(e,t,r){if(e==null)return e;var n=[],i=0;return b1(e,n,"","",function(s){return t.call(r,s,i++)}),n}function XQ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Na={current:null},w1={transition:null},ZQ={ReactCurrentDispatcher:Na,ReactCurrentBatchConfig:w1,ReactCurrentOwner:G4};function o7(){throw Error("act(...) is not supported in production builds of React.")}fr.Children={map:vb,forEach:function(e,t,r){vb(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return vb(e,function(){t++}),t},toArray:function(e){return vb(e,function(t){return t})||[]},only:function(e){if(!Y4(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fr.Component=og;fr.Fragment=FQ;fr.Profiler=BQ;fr.PureComponent=H4;fr.StrictMode=$Q;fr.Suspense=qQ;fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZQ;fr.act=o7;fr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=t7({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=G4.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)i7.call(t,c)&&!a7.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Jy,type:e.type,key:i,ref:s,props:n,_owner:o}};fr.createContext=function(e){return e={$$typeof:zQ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:UQ,_context:e},e.Consumer=e};fr.createElement=s7;fr.createFactory=function(e){var t=s7.bind(null,e);return t.type=e,t};fr.createRef=function(){return{current:null}};fr.forwardRef=function(e){return{$$typeof:VQ,render:e}};fr.isValidElement=Y4;fr.lazy=function(e){return{$$typeof:HQ,_payload:{_status:-1,_result:e},_init:XQ}};fr.memo=function(e,t){return{$$typeof:WQ,type:e,compare:t===void 0?null:t}};fr.startTransition=function(e){var t=w1.transition;w1.transition={};try{e()}finally{w1.transition=t}};fr.unstable_act=o7;fr.useCallback=function(e,t){return Na.current.useCallback(e,t)};fr.useContext=function(e){return Na.current.useContext(e)};fr.useDebugValue=function(){};fr.useDeferredValue=function(e){return Na.current.useDeferredValue(e)};fr.useEffect=function(e,t){return Na.current.useEffect(e,t)};fr.useId=function(){return Na.current.useId()};fr.useImperativeHandle=function(e,t,r){return Na.current.useImperativeHandle(e,t,r)};fr.useInsertionEffect=function(e,t){return Na.current.useInsertionEffect(e,t)};fr.useLayoutEffect=function(e,t){return Na.current.useLayoutEffect(e,t)};fr.useMemo=function(e,t){return Na.current.useMemo(e,t)};fr.useReducer=function(e,t,r){return Na.current.useReducer(e,t,r)};fr.useRef=function(e){return Na.current.useRef(e)};fr.useState=function(e){return Na.current.useState(e)};fr.useSyncExternalStore=function(e,t,r){return Na.current.useSyncExternalStore(e,t,r)};fr.useTransition=function(){return Na.current.useTransition()};fr.version="18.3.1";J$.exports=fr;var S=J$.exports;const se=Er(S),l7=DQ({__proto__:null,default:se},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QQ=S,JQ=Symbol.for("react.element"),eJ=Symbol.for("react.fragment"),tJ=Object.prototype.hasOwnProperty,rJ=QQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nJ={key:!0,ref:!0,__self:!0,__source:!0};function c7(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)tJ.call(t,n)&&!nJ.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:JQ,type:e,key:s,ref:o,props:i,_owner:rJ.current}}fj.Fragment=eJ;fj.jsx=c7;fj.jsxs=c7;Q$.exports=fj;var a=Q$.exports,u7={exports:{}},bs={},d7={exports:{}},f7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,Z){var le=B.length;B.push(Z);e:for(;0<le;){var fe=le-1>>>1,$=B[fe];if(0<i($,Z))B[fe]=Z,B[le]=$,le=fe;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var Z=B[0],le=B.pop();if(le!==Z){B[0]=le;e:for(var fe=0,$=B.length,Y=$>>>1;fe<Y;){var J=2*(fe+1)-1,ae=B[J],de=J+1,ce=B[de];if(0>i(ae,le))de<$&&0>i(ce,ae)?(B[fe]=ce,B[de]=le,fe=de):(B[fe]=ae,B[J]=le,fe=J);else if(de<$&&0>i(ce,le))B[fe]=ce,B[de]=le,fe=de;else break e}}return Z}function i(B,Z){var le=B.sortIndex-Z.sortIndex;return le!==0?le:B.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,y=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var Z=r(u);Z!==null;){if(Z.callback===null)n(u);else if(Z.startTime<=B)n(u),Z.sortIndex=Z.expirationTime,t(c,Z);else break;Z=r(u)}}function j(B){if(m=!1,w(B),!y)if(r(c)!==null)y=!0,F(N);else{var Z=r(u);Z!==null&&q(j,Z.startTime-B)}}function N(B,Z){y=!1,m&&(m=!1,g(C),C=-1),p=!0;var le=h;try{for(w(Z),f=r(c);f!==null&&(!(f.expirationTime>Z)||B&&!E());){var fe=f.callback;if(typeof fe=="function"){f.callback=null,h=f.priorityLevel;var $=fe(f.expirationTime<=Z);Z=e.unstable_now(),typeof $=="function"?f.callback=$:f===r(c)&&n(c),w(Z)}else n(c);f=r(c)}if(f!==null)var Y=!0;else{var J=r(u);J!==null&&q(j,J.startTime-Z),Y=!1}return Y}finally{f=null,h=le,p=!1}}var P=!1,k=null,C=-1,O=5,I=-1;function E(){return!(e.unstable_now()-I<O)}function A(){if(k!==null){var B=e.unstable_now();I=B;var Z=!0;try{Z=k(!0,B)}finally{Z?D():(P=!1,k=null)}}else P=!1}var D;if(typeof x=="function")D=function(){x(A)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,G=R.port2;R.port1.onmessage=A,D=function(){G.postMessage(null)}}else D=function(){v(A,0)};function F(B){k=B,P||(P=!0,D())}function q(B,Z){C=v(function(){B(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,F(N))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(B){switch(h){case 1:case 2:case 3:var Z=3;break;default:Z=h}var le=h;h=Z;try{return B()}finally{h=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var le=h;h=B;try{return Z()}finally{h=le}},e.unstable_scheduleCallback=function(B,Z,le){var fe=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?fe+le:fe):le=fe,B){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=le+$,B={id:d++,callback:Z,priorityLevel:B,startTime:le,expirationTime:$,sortIndex:-1},le>fe?(B.sortIndex=le,t(u,B),r(c)===null&&B===r(u)&&(m?(g(C),C=-1):m=!0,q(j,le-fe))):(B.sortIndex=$,t(c,B),y||p||(y=!0,F(N))),B},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(B){var Z=h;return function(){var le=h;h=Z;try{return B.apply(this,arguments)}finally{h=le}}}})(f7);d7.exports=f7;var iJ=d7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aJ=S,ms=iJ;function Ye(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h7=new Set,w0={};function wh(e,t){hm(e,t),hm(e+"Capture",t)}function hm(e,t){for(w0[e]=t,e=0;e<t.length;e++)h7.add(t[e])}var Fc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rP=Object.prototype.hasOwnProperty,sJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_O={},PO={};function oJ(e){return rP.call(PO,e)?!0:rP.call(_O,e)?!1:sJ.test(e)?PO[e]=!0:(_O[e]=!0,!1)}function lJ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cJ(e,t,r,n){if(t===null||typeof t>"u"||lJ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Sa(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var zi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){zi[e]=new Sa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];zi[t]=new Sa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){zi[e]=new Sa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){zi[e]=new Sa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){zi[e]=new Sa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){zi[e]=new Sa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){zi[e]=new Sa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){zi[e]=new Sa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){zi[e]=new Sa(e,5,!1,e.toLowerCase(),null,!1,!1)});var X4=/[\-:]([a-z])/g;function Z4(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(X4,Z4);zi[t]=new Sa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(X4,Z4);zi[t]=new Sa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(X4,Z4);zi[t]=new Sa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){zi[e]=new Sa(e,1,!1,e.toLowerCase(),null,!1,!1)});zi.xlinkHref=new Sa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){zi[e]=new Sa(e,1,!1,e.toLowerCase(),null,!0,!0)});function Q4(e,t,r,n){var i=zi.hasOwnProperty(t)?zi[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cJ(t,r,i,n)&&(r=null),n||i===null?oJ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Jc=aJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bb=Symbol.for("react.element"),cp=Symbol.for("react.portal"),up=Symbol.for("react.fragment"),J4=Symbol.for("react.strict_mode"),nP=Symbol.for("react.profiler"),p7=Symbol.for("react.provider"),m7=Symbol.for("react.context"),eC=Symbol.for("react.forward_ref"),iP=Symbol.for("react.suspense"),aP=Symbol.for("react.suspense_list"),tC=Symbol.for("react.memo"),Eu=Symbol.for("react.lazy"),g7=Symbol.for("react.offscreen"),AO=Symbol.iterator;function sx(e){return e===null||typeof e!="object"?null:(e=AO&&e[AO]||e["@@iterator"],typeof e=="function"?e:null)}var An=Object.assign,F5;function Rx(e){if(F5===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);F5=t&&t[1]||""}return`
`+F5+e}var $5=!1;function B5(e,t){if(!e||$5)return"";$5=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{$5=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Rx(e):""}function uJ(e){switch(e.tag){case 5:return Rx(e.type);case 16:return Rx("Lazy");case 13:return Rx("Suspense");case 19:return Rx("SuspenseList");case 0:case 2:case 15:return e=B5(e.type,!1),e;case 11:return e=B5(e.type.render,!1),e;case 1:return e=B5(e.type,!0),e;default:return""}}function sP(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case up:return"Fragment";case cp:return"Portal";case nP:return"Profiler";case J4:return"StrictMode";case iP:return"Suspense";case aP:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case m7:return(e.displayName||"Context")+".Consumer";case p7:return(e._context.displayName||"Context")+".Provider";case eC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tC:return t=e.displayName||null,t!==null?t:sP(e.type)||"Memo";case Eu:t=e._payload,e=e._init;try{return sP(e(t))}catch{}}return null}function dJ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sP(t);case 8:return t===J4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function md(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function x7(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fJ(e){var t=x7(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wb(e){e._valueTracker||(e._valueTracker=fJ(e))}function y7(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=x7(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function J1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function oP(e,t){var r=t.checked;return An({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function kO(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=md(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function v7(e,t){t=t.checked,t!=null&&Q4(e,"checked",t,!1)}function lP(e,t){v7(e,t);var r=md(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cP(e,t.type,r):t.hasOwnProperty("defaultValue")&&cP(e,t.type,md(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function CO(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function cP(e,t,r){(t!=="number"||J1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Fx=Array.isArray;function Ep(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+md(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function uP(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ye(91));return An({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function TO(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ye(92));if(Fx(r)){if(1<r.length)throw Error(Ye(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:md(r)}}function b7(e,t){var r=md(t.value),n=md(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function EO(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function w7(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dP(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?w7(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jb,j7=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jb=jb||document.createElement("div"),jb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function j0(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Xx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hJ=["Webkit","ms","Moz","O"];Object.keys(Xx).forEach(function(e){hJ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xx[t]=Xx[e]})});function N7(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Xx.hasOwnProperty(e)&&Xx[e]?(""+t).trim():t+"px"}function S7(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=N7(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var pJ=An({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fP(e,t){if(t){if(pJ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ye(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ye(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ye(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ye(62))}}function hP(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pP=null;function rC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mP=null,Op=null,Mp=null;function OO(e){if(e=rv(e)){if(typeof mP!="function")throw Error(Ye(280));var t=e.stateNode;t&&(t=xj(t),mP(e.stateNode,e.type,t))}}function _7(e){Op?Mp?Mp.push(e):Mp=[e]:Op=e}function P7(){if(Op){var e=Op,t=Mp;if(Mp=Op=null,OO(e),t)for(e=0;e<t.length;e++)OO(t[e])}}function A7(e,t){return e(t)}function k7(){}var U5=!1;function C7(e,t,r){if(U5)return e(t,r);U5=!0;try{return A7(e,t,r)}finally{U5=!1,(Op!==null||Mp!==null)&&(k7(),P7())}}function N0(e,t){var r=e.stateNode;if(r===null)return null;var n=xj(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ye(231,t,typeof r));return r}var gP=!1;if(Fc)try{var ox={};Object.defineProperty(ox,"passive",{get:function(){gP=!0}}),window.addEventListener("test",ox,ox),window.removeEventListener("test",ox,ox)}catch{gP=!1}function mJ(e,t,r,n,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Zx=!1,ew=null,tw=!1,xP=null,gJ={onError:function(e){Zx=!0,ew=e}};function xJ(e,t,r,n,i,s,o,l,c){Zx=!1,ew=null,mJ.apply(gJ,arguments)}function yJ(e,t,r,n,i,s,o,l,c){if(xJ.apply(this,arguments),Zx){if(Zx){var u=ew;Zx=!1,ew=null}else throw Error(Ye(198));tw||(tw=!0,xP=u)}}function jh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function T7(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function MO(e){if(jh(e)!==e)throw Error(Ye(188))}function vJ(e){var t=e.alternate;if(!t){if(t=jh(e),t===null)throw Error(Ye(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return MO(i),e;if(s===n)return MO(i),t;s=s.sibling}throw Error(Ye(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o)throw Error(Ye(189))}}if(r.alternate!==n)throw Error(Ye(190))}if(r.tag!==3)throw Error(Ye(188));return r.stateNode.current===r?e:t}function E7(e){return e=vJ(e),e!==null?O7(e):null}function O7(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=O7(e);if(t!==null)return t;e=e.sibling}return null}var M7=ms.unstable_scheduleCallback,LO=ms.unstable_cancelCallback,bJ=ms.unstable_shouldYield,wJ=ms.unstable_requestPaint,Wn=ms.unstable_now,jJ=ms.unstable_getCurrentPriorityLevel,nC=ms.unstable_ImmediatePriority,L7=ms.unstable_UserBlockingPriority,rw=ms.unstable_NormalPriority,NJ=ms.unstable_LowPriority,I7=ms.unstable_IdlePriority,hj=null,Sl=null;function SJ(e){if(Sl&&typeof Sl.onCommitFiberRoot=="function")try{Sl.onCommitFiberRoot(hj,e,void 0,(e.current.flags&128)===128)}catch{}}var Ro=Math.clz32?Math.clz32:AJ,_J=Math.log,PJ=Math.LN2;function AJ(e){return e>>>=0,e===0?32:31-(_J(e)/PJ|0)|0}var Nb=64,Sb=4194304;function $x(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nw(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=$x(l):(s&=o,s!==0&&(n=$x(s)))}else o=r&~i,o!==0?n=$x(o):s!==0&&(n=$x(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ro(t),i=1<<r,n|=e[r],t&=~i;return n}function kJ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CJ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ro(s),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=kJ(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function yP(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function D7(){var e=Nb;return Nb<<=1,!(Nb&4194240)&&(Nb=64),e}function z5(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ev(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ro(t),e[t]=r}function TJ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Ro(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function iC(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ro(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Wr=0;function R7(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var F7,aC,$7,B7,U7,vP=!1,_b=[],Ju=null,ed=null,td=null,S0=new Map,_0=new Map,Lu=[],EJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function IO(e,t){switch(e){case"focusin":case"focusout":Ju=null;break;case"dragenter":case"dragleave":ed=null;break;case"mouseover":case"mouseout":td=null;break;case"pointerover":case"pointerout":S0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_0.delete(t.pointerId)}}function lx(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=rv(t),t!==null&&aC(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function OJ(e,t,r,n,i){switch(t){case"focusin":return Ju=lx(Ju,e,t,r,n,i),!0;case"dragenter":return ed=lx(ed,e,t,r,n,i),!0;case"mouseover":return td=lx(td,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return S0.set(s,lx(S0.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,_0.set(s,lx(_0.get(s)||null,e,t,r,n,i)),!0}return!1}function z7(e){var t=_f(e.target);if(t!==null){var r=jh(t);if(r!==null){if(t=r.tag,t===13){if(t=T7(r),t!==null){e.blockedOn=t,U7(e.priority,function(){$7(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function j1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=bP(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);pP=n,r.target.dispatchEvent(n),pP=null}else return t=rv(r),t!==null&&aC(t),e.blockedOn=r,!1;t.shift()}return!0}function DO(e,t,r){j1(e)&&r.delete(t)}function MJ(){vP=!1,Ju!==null&&j1(Ju)&&(Ju=null),ed!==null&&j1(ed)&&(ed=null),td!==null&&j1(td)&&(td=null),S0.forEach(DO),_0.forEach(DO)}function cx(e,t){e.blockedOn===t&&(e.blockedOn=null,vP||(vP=!0,ms.unstable_scheduleCallback(ms.unstable_NormalPriority,MJ)))}function P0(e){function t(i){return cx(i,e)}if(0<_b.length){cx(_b[0],e);for(var r=1;r<_b.length;r++){var n=_b[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ju!==null&&cx(Ju,e),ed!==null&&cx(ed,e),td!==null&&cx(td,e),S0.forEach(t),_0.forEach(t),r=0;r<Lu.length;r++)n=Lu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Lu.length&&(r=Lu[0],r.blockedOn===null);)z7(r),r.blockedOn===null&&Lu.shift()}var Lp=Jc.ReactCurrentBatchConfig,iw=!0;function LJ(e,t,r,n){var i=Wr,s=Lp.transition;Lp.transition=null;try{Wr=1,sC(e,t,r,n)}finally{Wr=i,Lp.transition=s}}function IJ(e,t,r,n){var i=Wr,s=Lp.transition;Lp.transition=null;try{Wr=4,sC(e,t,r,n)}finally{Wr=i,Lp.transition=s}}function sC(e,t,r,n){if(iw){var i=bP(e,t,r,n);if(i===null)Q5(e,t,n,aw,r),IO(e,n);else if(OJ(i,e,t,r,n))n.stopPropagation();else if(IO(e,n),t&4&&-1<EJ.indexOf(e)){for(;i!==null;){var s=rv(i);if(s!==null&&F7(s),s=bP(e,t,r,n),s===null&&Q5(e,t,n,aw,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Q5(e,t,n,null,r)}}var aw=null;function bP(e,t,r,n){if(aw=null,e=rC(n),e=_f(e),e!==null)if(t=jh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=T7(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return aw=e,null}function V7(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jJ()){case nC:return 1;case L7:return 4;case rw:case NJ:return 16;case I7:return 536870912;default:return 16}default:return 16}}var Gu=null,oC=null,N1=null;function q7(){if(N1)return N1;var e,t=oC,r=t.length,n,i="value"in Gu?Gu.value:Gu.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return N1=i.slice(e,1<n?1-n:void 0)}function S1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pb(){return!0}function RO(){return!1}function ws(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pb:RO,this.isPropagationStopped=RO,this}return An(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pb)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pb)},persist:function(){},isPersistent:Pb}),t}var lg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lC=ws(lg),tv=An({},lg,{view:0,detail:0}),DJ=ws(tv),V5,q5,ux,pj=An({},tv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ux&&(ux&&e.type==="mousemove"?(V5=e.screenX-ux.screenX,q5=e.screenY-ux.screenY):q5=V5=0,ux=e),V5)},movementY:function(e){return"movementY"in e?e.movementY:q5}}),FO=ws(pj),RJ=An({},pj,{dataTransfer:0}),FJ=ws(RJ),$J=An({},tv,{relatedTarget:0}),W5=ws($J),BJ=An({},lg,{animationName:0,elapsedTime:0,pseudoElement:0}),UJ=ws(BJ),zJ=An({},lg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),VJ=ws(zJ),qJ=An({},lg,{data:0}),$O=ws(qJ),WJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GJ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=KJ[e])?!!t[e]:!1}function cC(){return GJ}var YJ=An({},tv,{key:function(e){if(e.key){var t=WJ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=S1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?HJ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cC,charCode:function(e){return e.type==="keypress"?S1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?S1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),XJ=ws(YJ),ZJ=An({},pj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BO=ws(ZJ),QJ=An({},tv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cC}),JJ=ws(QJ),eee=An({},lg,{propertyName:0,elapsedTime:0,pseudoElement:0}),tee=ws(eee),ree=An({},pj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nee=ws(ree),iee=[9,13,27,32],uC=Fc&&"CompositionEvent"in window,Qx=null;Fc&&"documentMode"in document&&(Qx=document.documentMode);var aee=Fc&&"TextEvent"in window&&!Qx,W7=Fc&&(!uC||Qx&&8<Qx&&11>=Qx),UO=" ",zO=!1;function H7(e,t){switch(e){case"keyup":return iee.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K7(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dp=!1;function see(e,t){switch(e){case"compositionend":return K7(t);case"keypress":return t.which!==32?null:(zO=!0,UO);case"textInput":return e=t.data,e===UO&&zO?null:e;default:return null}}function oee(e,t){if(dp)return e==="compositionend"||!uC&&H7(e,t)?(e=q7(),N1=oC=Gu=null,dp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return W7&&t.locale!=="ko"?null:t.data;default:return null}}var lee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lee[e.type]:t==="textarea"}function G7(e,t,r,n){_7(n),t=sw(t,"onChange"),0<t.length&&(r=new lC("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Jx=null,A0=null;function cee(e){a9(e,0)}function mj(e){var t=pp(e);if(y7(t))return e}function uee(e,t){if(e==="change")return t}var Y7=!1;if(Fc){var H5;if(Fc){var K5="oninput"in document;if(!K5){var qO=document.createElement("div");qO.setAttribute("oninput","return;"),K5=typeof qO.oninput=="function"}H5=K5}else H5=!1;Y7=H5&&(!document.documentMode||9<document.documentMode)}function WO(){Jx&&(Jx.detachEvent("onpropertychange",X7),A0=Jx=null)}function X7(e){if(e.propertyName==="value"&&mj(A0)){var t=[];G7(t,A0,e,rC(e)),C7(cee,t)}}function dee(e,t,r){e==="focusin"?(WO(),Jx=t,A0=r,Jx.attachEvent("onpropertychange",X7)):e==="focusout"&&WO()}function fee(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mj(A0)}function hee(e,t){if(e==="click")return mj(t)}function pee(e,t){if(e==="input"||e==="change")return mj(t)}function mee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zo=typeof Object.is=="function"?Object.is:mee;function k0(e,t){if(zo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!rP.call(t,i)||!zo(e[i],t[i]))return!1}return!0}function HO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function KO(e,t){var r=HO(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=HO(r)}}function Z7(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Z7(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Q7(){for(var e=window,t=J1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=J1(e.document)}return t}function dC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gee(e){var t=Q7(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Z7(r.ownerDocument.documentElement,r)){if(n!==null&&dC(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=KO(r,s);var o=KO(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xee=Fc&&"documentMode"in document&&11>=document.documentMode,fp=null,wP=null,e0=null,jP=!1;function GO(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jP||fp==null||fp!==J1(n)||(n=fp,"selectionStart"in n&&dC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),e0&&k0(e0,n)||(e0=n,n=sw(wP,"onSelect"),0<n.length&&(t=new lC("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=fp)))}function Ab(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var hp={animationend:Ab("Animation","AnimationEnd"),animationiteration:Ab("Animation","AnimationIteration"),animationstart:Ab("Animation","AnimationStart"),transitionend:Ab("Transition","TransitionEnd")},G5={},J7={};Fc&&(J7=document.createElement("div").style,"AnimationEvent"in window||(delete hp.animationend.animation,delete hp.animationiteration.animation,delete hp.animationstart.animation),"TransitionEvent"in window||delete hp.transitionend.transition);function gj(e){if(G5[e])return G5[e];if(!hp[e])return e;var t=hp[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in J7)return G5[e]=t[r];return e}var e9=gj("animationend"),t9=gj("animationiteration"),r9=gj("animationstart"),n9=gj("transitionend"),i9=new Map,YO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kd(e,t){i9.set(e,t),wh(t,[e])}for(var Y5=0;Y5<YO.length;Y5++){var X5=YO[Y5],yee=X5.toLowerCase(),vee=X5[0].toUpperCase()+X5.slice(1);kd(yee,"on"+vee)}kd(e9,"onAnimationEnd");kd(t9,"onAnimationIteration");kd(r9,"onAnimationStart");kd("dblclick","onDoubleClick");kd("focusin","onFocus");kd("focusout","onBlur");kd(n9,"onTransitionEnd");hm("onMouseEnter",["mouseout","mouseover"]);hm("onMouseLeave",["mouseout","mouseover"]);hm("onPointerEnter",["pointerout","pointerover"]);hm("onPointerLeave",["pointerout","pointerover"]);wh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wh("onBeforeInput",["compositionend","keypress","textInput","paste"]);wh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bee=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bx));function XO(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,yJ(n,t,void 0,e),e.currentTarget=null}function a9(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;XO(i,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;XO(i,l,u),s=c}}}if(tw)throw e=xP,tw=!1,xP=null,e}function hn(e,t){var r=t[AP];r===void 0&&(r=t[AP]=new Set);var n=e+"__bubble";r.has(n)||(s9(t,e,2,!1),r.add(n))}function Z5(e,t,r){var n=0;t&&(n|=4),s9(r,e,n,t)}var kb="_reactListening"+Math.random().toString(36).slice(2);function C0(e){if(!e[kb]){e[kb]=!0,h7.forEach(function(r){r!=="selectionchange"&&(bee.has(r)||Z5(r,!1,e),Z5(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kb]||(t[kb]=!0,Z5("selectionchange",!1,t))}}function s9(e,t,r,n){switch(V7(t)){case 1:var i=LJ;break;case 4:i=IJ;break;default:i=sC}r=i.bind(null,t,r,e),i=void 0,!gP||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Q5(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=_f(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}C7(function(){var u=s,d=rC(r),f=[];e:{var h=i9.get(e);if(h!==void 0){var p=lC,y=e;switch(e){case"keypress":if(S1(r)===0)break e;case"keydown":case"keyup":p=XJ;break;case"focusin":y="focus",p=W5;break;case"focusout":y="blur",p=W5;break;case"beforeblur":case"afterblur":p=W5;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=FO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=FJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=JJ;break;case e9:case t9:case r9:p=UJ;break;case n9:p=tee;break;case"scroll":p=DJ;break;case"wheel":p=nee;break;case"copy":case"cut":case"paste":p=VJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=BO}var m=(t&4)!==0,v=!m&&e==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var x=u,w;x!==null;){w=x;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,g!==null&&(j=N0(x,g),j!=null&&m.push(T0(x,j,w)))),v)break;x=x.return}0<m.length&&(h=new p(h,y,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==pP&&(y=r.relatedTarget||r.fromElement)&&(_f(y)||y[$c]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?_f(y):null,y!==null&&(v=jh(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=FO,j="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=BO,j="onPointerLeave",g="onPointerEnter",x="pointer"),v=p==null?h:pp(p),w=y==null?h:pp(y),h=new m(j,x+"leave",p,r,d),h.target=v,h.relatedTarget=w,j=null,_f(d)===u&&(m=new m(g,x+"enter",y,r,d),m.target=w,m.relatedTarget=v,j=m),v=j,p&&y)t:{for(m=p,g=y,x=0,w=m;w;w=Wh(w))x++;for(w=0,j=g;j;j=Wh(j))w++;for(;0<x-w;)m=Wh(m),x--;for(;0<w-x;)g=Wh(g),w--;for(;x--;){if(m===g||g!==null&&m===g.alternate)break t;m=Wh(m),g=Wh(g)}m=null}else m=null;p!==null&&ZO(f,h,p,m,!1),y!==null&&v!==null&&ZO(f,v,y,m,!0)}}e:{if(h=u?pp(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=uee;else if(VO(h))if(Y7)N=pee;else{N=fee;var P=dee}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=hee);if(N&&(N=N(e,u))){G7(f,N,r,d);break e}P&&P(e,h,u),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&cP(h,"number",h.value)}switch(P=u?pp(u):window,e){case"focusin":(VO(P)||P.contentEditable==="true")&&(fp=P,wP=u,e0=null);break;case"focusout":e0=wP=fp=null;break;case"mousedown":jP=!0;break;case"contextmenu":case"mouseup":case"dragend":jP=!1,GO(f,r,d);break;case"selectionchange":if(xee)break;case"keydown":case"keyup":GO(f,r,d)}var k;if(uC)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else dp?H7(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(W7&&r.locale!=="ko"&&(dp||C!=="onCompositionStart"?C==="onCompositionEnd"&&dp&&(k=q7()):(Gu=d,oC="value"in Gu?Gu.value:Gu.textContent,dp=!0)),P=sw(u,C),0<P.length&&(C=new $O(C,e,null,r,d),f.push({event:C,listeners:P}),k?C.data=k:(k=K7(r),k!==null&&(C.data=k)))),(k=aee?see(e,r):oee(e,r))&&(u=sw(u,"onBeforeInput"),0<u.length&&(d=new $O("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}a9(f,t)})}function T0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function sw(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=N0(e,r),s!=null&&n.unshift(T0(e,s,i)),s=N0(e,t),s!=null&&n.push(T0(e,s,i))),e=e.return}return n}function Wh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ZO(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=N0(r,s),c!=null&&o.unshift(T0(r,c,l))):i||(c=N0(r,s),c!=null&&o.push(T0(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var wee=/\r\n?/g,jee=/\u0000|\uFFFD/g;function QO(e){return(typeof e=="string"?e:""+e).replace(wee,`
`).replace(jee,"")}function Cb(e,t,r){if(t=QO(t),QO(e)!==t&&r)throw Error(Ye(425))}function ow(){}var NP=null,SP=null;function _P(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var PP=typeof setTimeout=="function"?setTimeout:void 0,Nee=typeof clearTimeout=="function"?clearTimeout:void 0,JO=typeof Promise=="function"?Promise:void 0,See=typeof queueMicrotask=="function"?queueMicrotask:typeof JO<"u"?function(e){return JO.resolve(null).then(e).catch(_ee)}:PP;function _ee(e){setTimeout(function(){throw e})}function J5(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),P0(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);P0(t)}function rd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function e6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var cg=Math.random().toString(36).slice(2),gl="__reactFiber$"+cg,E0="__reactProps$"+cg,$c="__reactContainer$"+cg,AP="__reactEvents$"+cg,Pee="__reactListeners$"+cg,Aee="__reactHandles$"+cg;function _f(e){var t=e[gl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$c]||r[gl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=e6(e);e!==null;){if(r=e[gl])return r;e=e6(e)}return t}e=r,r=e.parentNode}return null}function rv(e){return e=e[gl]||e[$c],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ye(33))}function xj(e){return e[E0]||null}var kP=[],mp=-1;function Cd(e){return{current:e}}function xn(e){0>mp||(e.current=kP[mp],kP[mp]=null,mp--)}function un(e,t){mp++,kP[mp]=e.current,e.current=t}var gd={},la=Cd(gd),Ia=Cd(!1),Qf=gd;function pm(e,t){var r=e.type.contextTypes;if(!r)return gd;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Da(e){return e=e.childContextTypes,e!=null}function lw(){xn(Ia),xn(la)}function t6(e,t,r){if(la.current!==gd)throw Error(Ye(168));un(la,t),un(Ia,r)}function o9(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Ye(108,dJ(e)||"Unknown",i));return An({},r,n)}function cw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gd,Qf=la.current,un(la,e),un(Ia,Ia.current),!0}function r6(e,t,r){var n=e.stateNode;if(!n)throw Error(Ye(169));r?(e=o9(e,t,Qf),n.__reactInternalMemoizedMergedChildContext=e,xn(Ia),xn(la),un(la,e)):xn(Ia),un(Ia,r)}var gc=null,yj=!1,eS=!1;function l9(e){gc===null?gc=[e]:gc.push(e)}function kee(e){yj=!0,l9(e)}function Td(){if(!eS&&gc!==null){eS=!0;var e=0,t=Wr;try{var r=gc;for(Wr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}gc=null,yj=!1}catch(i){throw gc!==null&&(gc=gc.slice(e+1)),M7(nC,Td),i}finally{Wr=t,eS=!1}}return null}var gp=[],xp=0,uw=null,dw=0,Us=[],zs=0,Jf=null,wc=1,jc="";function ff(e,t){gp[xp++]=dw,gp[xp++]=uw,uw=e,dw=t}function c9(e,t,r){Us[zs++]=wc,Us[zs++]=jc,Us[zs++]=Jf,Jf=e;var n=wc;e=jc;var i=32-Ro(n)-1;n&=~(1<<i),r+=1;var s=32-Ro(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,wc=1<<32-Ro(t)+i|r<<i|n,jc=s+e}else wc=1<<s|r<<i|n,jc=e}function fC(e){e.return!==null&&(ff(e,1),c9(e,1,0))}function hC(e){for(;e===uw;)uw=gp[--xp],gp[xp]=null,dw=gp[--xp],gp[xp]=null;for(;e===Jf;)Jf=Us[--zs],Us[zs]=null,jc=Us[--zs],Us[zs]=null,wc=Us[--zs],Us[zs]=null}var ds=null,os=null,vn=!1,Ao=null;function u9(e,t){var r=Ws(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function n6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ds=e,os=rd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ds=e,os=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Jf!==null?{id:wc,overflow:jc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ws(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ds=e,os=null,!0):!1;default:return!1}}function CP(e){return(e.mode&1)!==0&&(e.flags&128)===0}function TP(e){if(vn){var t=os;if(t){var r=t;if(!n6(e,t)){if(CP(e))throw Error(Ye(418));t=rd(r.nextSibling);var n=ds;t&&n6(e,t)?u9(n,r):(e.flags=e.flags&-4097|2,vn=!1,ds=e)}}else{if(CP(e))throw Error(Ye(418));e.flags=e.flags&-4097|2,vn=!1,ds=e}}}function i6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ds=e}function Tb(e){if(e!==ds)return!1;if(!vn)return i6(e),vn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_P(e.type,e.memoizedProps)),t&&(t=os)){if(CP(e))throw d9(),Error(Ye(418));for(;t;)u9(e,t),t=rd(t.nextSibling)}if(i6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ye(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){os=rd(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}os=null}}else os=ds?rd(e.stateNode.nextSibling):null;return!0}function d9(){for(var e=os;e;)e=rd(e.nextSibling)}function mm(){os=ds=null,vn=!1}function pC(e){Ao===null?Ao=[e]:Ao.push(e)}var Cee=Jc.ReactCurrentBatchConfig;function dx(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ye(309));var n=r.stateNode}if(!n)throw Error(Ye(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ye(284));if(!r._owner)throw Error(Ye(290,e))}return e}function Eb(e,t){throw e=Object.prototype.toString.call(t),Error(Ye(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function a6(e){var t=e._init;return t(e._payload)}function f9(e){function t(g,x){if(e){var w=g.deletions;w===null?(g.deletions=[x],g.flags|=16):w.push(x)}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function i(g,x){return g=sd(g,x),g.index=0,g.sibling=null,g}function s(g,x,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<x?(g.flags|=2,x):w):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,x,w,j){return x===null||x.tag!==6?(x=oS(w,g.mode,j),x.return=g,x):(x=i(x,w),x.return=g,x)}function c(g,x,w,j){var N=w.type;return N===up?d(g,x,w.props.children,j,w.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Eu&&a6(N)===x.type)?(j=i(x,w.props),j.ref=dx(g,x,w),j.return=g,j):(j=E1(w.type,w.key,w.props,null,g.mode,j),j.ref=dx(g,x,w),j.return=g,j)}function u(g,x,w,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=lS(w,g.mode,j),x.return=g,x):(x=i(x,w.children||[]),x.return=g,x)}function d(g,x,w,j,N){return x===null||x.tag!==7?(x=Hf(w,g.mode,j,N),x.return=g,x):(x=i(x,w),x.return=g,x)}function f(g,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=oS(""+x,g.mode,w),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case bb:return w=E1(x.type,x.key,x.props,null,g.mode,w),w.ref=dx(g,null,x),w.return=g,w;case cp:return x=lS(x,g.mode,w),x.return=g,x;case Eu:var j=x._init;return f(g,j(x._payload),w)}if(Fx(x)||sx(x))return x=Hf(x,g.mode,w,null),x.return=g,x;Eb(g,x)}return null}function h(g,x,w,j){var N=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(g,x,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bb:return w.key===N?c(g,x,w,j):null;case cp:return w.key===N?u(g,x,w,j):null;case Eu:return N=w._init,h(g,x,N(w._payload),j)}if(Fx(w)||sx(w))return N!==null?null:d(g,x,w,j,null);Eb(g,w)}return null}function p(g,x,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(w)||null,l(x,g,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case bb:return g=g.get(j.key===null?w:j.key)||null,c(x,g,j,N);case cp:return g=g.get(j.key===null?w:j.key)||null,u(x,g,j,N);case Eu:var P=j._init;return p(g,x,w,P(j._payload),N)}if(Fx(j)||sx(j))return g=g.get(w)||null,d(x,g,j,N,null);Eb(x,j)}return null}function y(g,x,w,j){for(var N=null,P=null,k=x,C=x=0,O=null;k!==null&&C<w.length;C++){k.index>C?(O=k,k=null):O=k.sibling;var I=h(g,k,w[C],j);if(I===null){k===null&&(k=O);break}e&&k&&I.alternate===null&&t(g,k),x=s(I,x,C),P===null?N=I:P.sibling=I,P=I,k=O}if(C===w.length)return r(g,k),vn&&ff(g,C),N;if(k===null){for(;C<w.length;C++)k=f(g,w[C],j),k!==null&&(x=s(k,x,C),P===null?N=k:P.sibling=k,P=k);return vn&&ff(g,C),N}for(k=n(g,k);C<w.length;C++)O=p(k,g,C,w[C],j),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?C:O.key),x=s(O,x,C),P===null?N=O:P.sibling=O,P=O);return e&&k.forEach(function(E){return t(g,E)}),vn&&ff(g,C),N}function m(g,x,w,j){var N=sx(w);if(typeof N!="function")throw Error(Ye(150));if(w=N.call(w),w==null)throw Error(Ye(151));for(var P=N=null,k=x,C=x=0,O=null,I=w.next();k!==null&&!I.done;C++,I=w.next()){k.index>C?(O=k,k=null):O=k.sibling;var E=h(g,k,I.value,j);if(E===null){k===null&&(k=O);break}e&&k&&E.alternate===null&&t(g,k),x=s(E,x,C),P===null?N=E:P.sibling=E,P=E,k=O}if(I.done)return r(g,k),vn&&ff(g,C),N;if(k===null){for(;!I.done;C++,I=w.next())I=f(g,I.value,j),I!==null&&(x=s(I,x,C),P===null?N=I:P.sibling=I,P=I);return vn&&ff(g,C),N}for(k=n(g,k);!I.done;C++,I=w.next())I=p(k,g,C,I.value,j),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?C:I.key),x=s(I,x,C),P===null?N=I:P.sibling=I,P=I);return e&&k.forEach(function(A){return t(g,A)}),vn&&ff(g,C),N}function v(g,x,w,j){if(typeof w=="object"&&w!==null&&w.type===up&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case bb:e:{for(var N=w.key,P=x;P!==null;){if(P.key===N){if(N=w.type,N===up){if(P.tag===7){r(g,P.sibling),x=i(P,w.props.children),x.return=g,g=x;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Eu&&a6(N)===P.type){r(g,P.sibling),x=i(P,w.props),x.ref=dx(g,P,w),x.return=g,g=x;break e}r(g,P);break}else t(g,P);P=P.sibling}w.type===up?(x=Hf(w.props.children,g.mode,j,w.key),x.return=g,g=x):(j=E1(w.type,w.key,w.props,null,g.mode,j),j.ref=dx(g,x,w),j.return=g,g=j)}return o(g);case cp:e:{for(P=w.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(g,x.sibling),x=i(x,w.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=lS(w,g.mode,j),x.return=g,g=x}return o(g);case Eu:return P=w._init,v(g,x,P(w._payload),j)}if(Fx(w))return y(g,x,w,j);if(sx(w))return m(g,x,w,j);Eb(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(g,x.sibling),x=i(x,w),x.return=g,g=x):(r(g,x),x=oS(w,g.mode,j),x.return=g,g=x),o(g)):r(g,x)}return v}var gm=f9(!0),h9=f9(!1),fw=Cd(null),hw=null,yp=null,mC=null;function gC(){mC=yp=hw=null}function xC(e){var t=fw.current;xn(fw),e._currentValue=t}function EP(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ip(e,t){hw=e,mC=yp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ea=!0),e.firstContext=null)}function Js(e){var t=e._currentValue;if(mC!==e)if(e={context:e,memoizedValue:t,next:null},yp===null){if(hw===null)throw Error(Ye(308));yp=e,hw.dependencies={lanes:0,firstContext:e}}else yp=yp.next=e;return t}var Pf=null;function yC(e){Pf===null?Pf=[e]:Pf.push(e)}function p9(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,yC(t)):(r.next=i.next,i.next=r),t.interleaved=r,Bc(e,n)}function Bc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ou=!1;function vC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m9(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nd(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Pr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Bc(e,r)}return i=n.interleaved,i===null?(t.next=t,yC(n)):(t.next=i.next,i.next=t),n.interleaved=t,Bc(e,r)}function _1(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,iC(e,r)}}function s6(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function pw(e,t,r,n){var i=e.updateQueue;Ou=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,m=l;switch(h=t,p=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=An({},f,h);break e;case 2:Ou=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);th|=o,e.lanes=o,e.memoizedState=f}}function o6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ye(191,i));i.call(n)}}}var nv={},_l=Cd(nv),O0=Cd(nv),M0=Cd(nv);function Af(e){if(e===nv)throw Error(Ye(174));return e}function bC(e,t){switch(un(M0,t),un(O0,e),un(_l,nv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dP(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dP(t,e)}xn(_l),un(_l,t)}function xm(){xn(_l),xn(O0),xn(M0)}function g9(e){Af(M0.current);var t=Af(_l.current),r=dP(t,e.type);t!==r&&(un(O0,e),un(_l,r))}function wC(e){O0.current===e&&(xn(_l),xn(O0))}var Nn=Cd(0);function mw(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tS=[];function jC(){for(var e=0;e<tS.length;e++)tS[e]._workInProgressVersionPrimary=null;tS.length=0}var P1=Jc.ReactCurrentDispatcher,rS=Jc.ReactCurrentBatchConfig,eh=0,Pn=null,pi=null,ji=null,gw=!1,t0=!1,L0=0,Tee=0;function Hi(){throw Error(Ye(321))}function NC(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!zo(e[r],t[r]))return!1;return!0}function SC(e,t,r,n,i,s){if(eh=s,Pn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P1.current=e===null||e.memoizedState===null?Lee:Iee,e=r(n,i),t0){s=0;do{if(t0=!1,L0=0,25<=s)throw Error(Ye(301));s+=1,ji=pi=null,t.updateQueue=null,P1.current=Dee,e=r(n,i)}while(t0)}if(P1.current=xw,t=pi!==null&&pi.next!==null,eh=0,ji=pi=Pn=null,gw=!1,t)throw Error(Ye(300));return e}function _C(){var e=L0!==0;return L0=0,e}function dl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ji===null?Pn.memoizedState=ji=e:ji=ji.next=e,ji}function eo(){if(pi===null){var e=Pn.alternate;e=e!==null?e.memoizedState:null}else e=pi.next;var t=ji===null?Pn.memoizedState:ji.next;if(t!==null)ji=t,pi=e;else{if(e===null)throw Error(Ye(310));pi=e,e={memoizedState:pi.memoizedState,baseState:pi.baseState,baseQueue:pi.baseQueue,queue:pi.queue,next:null},ji===null?Pn.memoizedState=ji=e:ji=ji.next=e}return ji}function I0(e,t){return typeof t=="function"?t(e):t}function nS(e){var t=eo(),r=t.queue;if(r===null)throw Error(Ye(311));r.lastRenderedReducer=e;var n=pi,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((eh&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Pn.lanes|=d,th|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,zo(n,t.memoizedState)||(Ea=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Pn.lanes|=s,th|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function iS(e){var t=eo(),r=t.queue;if(r===null)throw Error(Ye(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);zo(s,t.memoizedState)||(Ea=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function x9(){}function y9(e,t){var r=Pn,n=eo(),i=t(),s=!zo(n.memoizedState,i);if(s&&(n.memoizedState=i,Ea=!0),n=n.queue,PC(w9.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||ji!==null&&ji.memoizedState.tag&1){if(r.flags|=2048,D0(9,b9.bind(null,r,n,i,t),void 0,null),Si===null)throw Error(Ye(349));eh&30||v9(r,t,i)}return i}function v9(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pn.updateQueue,t===null?(t={lastEffect:null,stores:null},Pn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function b9(e,t,r,n){t.value=r,t.getSnapshot=n,j9(t)&&N9(e)}function w9(e,t,r){return r(function(){j9(t)&&N9(e)})}function j9(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zo(e,r)}catch{return!0}}function N9(e){var t=Bc(e,1);t!==null&&Fo(t,e,1,-1)}function l6(e){var t=dl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:I0,lastRenderedState:e},t.queue=e,e=e.dispatch=Mee.bind(null,Pn,e),[t.memoizedState,e]}function D0(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Pn.updateQueue,t===null?(t={lastEffect:null,stores:null},Pn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function S9(){return eo().memoizedState}function A1(e,t,r,n){var i=dl();Pn.flags|=e,i.memoizedState=D0(1|t,r,void 0,n===void 0?null:n)}function vj(e,t,r,n){var i=eo();n=n===void 0?null:n;var s=void 0;if(pi!==null){var o=pi.memoizedState;if(s=o.destroy,n!==null&&NC(n,o.deps)){i.memoizedState=D0(t,r,s,n);return}}Pn.flags|=e,i.memoizedState=D0(1|t,r,s,n)}function c6(e,t){return A1(8390656,8,e,t)}function PC(e,t){return vj(2048,8,e,t)}function _9(e,t){return vj(4,2,e,t)}function P9(e,t){return vj(4,4,e,t)}function A9(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function k9(e,t,r){return r=r!=null?r.concat([e]):null,vj(4,4,A9.bind(null,t,e),r)}function AC(){}function C9(e,t){var r=eo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&NC(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function T9(e,t){var r=eo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&NC(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function E9(e,t,r){return eh&21?(zo(r,t)||(r=D7(),Pn.lanes|=r,th|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ea=!0),e.memoizedState=r)}function Eee(e,t){var r=Wr;Wr=r!==0&&4>r?r:4,e(!0);var n=rS.transition;rS.transition={};try{e(!1),t()}finally{Wr=r,rS.transition=n}}function O9(){return eo().memoizedState}function Oee(e,t,r){var n=ad(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},M9(e))L9(t,r);else if(r=p9(e,t,r,n),r!==null){var i=ba();Fo(r,e,n,i),I9(r,t,n)}}function Mee(e,t,r){var n=ad(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(M9(e))L9(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(i.hasEagerState=!0,i.eagerState=l,zo(l,o)){var c=t.interleaved;c===null?(i.next=i,yC(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=p9(e,t,i,n),r!==null&&(i=ba(),Fo(r,e,n,i),I9(r,t,n))}}function M9(e){var t=e.alternate;return e===Pn||t!==null&&t===Pn}function L9(e,t){t0=gw=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function I9(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,iC(e,r)}}var xw={readContext:Js,useCallback:Hi,useContext:Hi,useEffect:Hi,useImperativeHandle:Hi,useInsertionEffect:Hi,useLayoutEffect:Hi,useMemo:Hi,useReducer:Hi,useRef:Hi,useState:Hi,useDebugValue:Hi,useDeferredValue:Hi,useTransition:Hi,useMutableSource:Hi,useSyncExternalStore:Hi,useId:Hi,unstable_isNewReconciler:!1},Lee={readContext:Js,useCallback:function(e,t){return dl().memoizedState=[e,t===void 0?null:t],e},useContext:Js,useEffect:c6,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,A1(4194308,4,A9.bind(null,t,e),r)},useLayoutEffect:function(e,t){return A1(4194308,4,e,t)},useInsertionEffect:function(e,t){return A1(4,2,e,t)},useMemo:function(e,t){var r=dl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=dl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Oee.bind(null,Pn,e),[n.memoizedState,e]},useRef:function(e){var t=dl();return e={current:e},t.memoizedState=e},useState:l6,useDebugValue:AC,useDeferredValue:function(e){return dl().memoizedState=e},useTransition:function(){var e=l6(!1),t=e[0];return e=Eee.bind(null,e[1]),dl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Pn,i=dl();if(vn){if(r===void 0)throw Error(Ye(407));r=r()}else{if(r=t(),Si===null)throw Error(Ye(349));eh&30||v9(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,c6(w9.bind(null,n,s,e),[e]),n.flags|=2048,D0(9,b9.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=dl(),t=Si.identifierPrefix;if(vn){var r=jc,n=wc;r=(n&~(1<<32-Ro(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=L0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Tee++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Iee={readContext:Js,useCallback:C9,useContext:Js,useEffect:PC,useImperativeHandle:k9,useInsertionEffect:_9,useLayoutEffect:P9,useMemo:T9,useReducer:nS,useRef:S9,useState:function(){return nS(I0)},useDebugValue:AC,useDeferredValue:function(e){var t=eo();return E9(t,pi.memoizedState,e)},useTransition:function(){var e=nS(I0)[0],t=eo().memoizedState;return[e,t]},useMutableSource:x9,useSyncExternalStore:y9,useId:O9,unstable_isNewReconciler:!1},Dee={readContext:Js,useCallback:C9,useContext:Js,useEffect:PC,useImperativeHandle:k9,useInsertionEffect:_9,useLayoutEffect:P9,useMemo:T9,useReducer:iS,useRef:S9,useState:function(){return iS(I0)},useDebugValue:AC,useDeferredValue:function(e){var t=eo();return pi===null?t.memoizedState=e:E9(t,pi.memoizedState,e)},useTransition:function(){var e=iS(I0)[0],t=eo().memoizedState;return[e,t]},useMutableSource:x9,useSyncExternalStore:y9,useId:O9,unstable_isNewReconciler:!1};function wo(e,t){if(e&&e.defaultProps){t=An({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function OP(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:An({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var bj={isMounted:function(e){return(e=e._reactInternals)?jh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ba(),i=ad(e),s=kc(n,i);s.payload=t,r!=null&&(s.callback=r),t=nd(e,s,i),t!==null&&(Fo(t,e,i,n),_1(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ba(),i=ad(e),s=kc(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=nd(e,s,i),t!==null&&(Fo(t,e,i,n),_1(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ba(),n=ad(e),i=kc(r,n);i.tag=2,t!=null&&(i.callback=t),t=nd(e,i,n),t!==null&&(Fo(t,e,n,r),_1(t,e,n))}};function u6(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!k0(r,n)||!k0(i,s):!0}function D9(e,t,r){var n=!1,i=gd,s=t.contextType;return typeof s=="object"&&s!==null?s=Js(s):(i=Da(t)?Qf:la.current,n=t.contextTypes,s=(n=n!=null)?pm(e,i):gd),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bj,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function d6(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&bj.enqueueReplaceState(t,t.state,null)}function MP(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},vC(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Js(s):(s=Da(t)?Qf:la.current,i.context=pm(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(OP(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&bj.enqueueReplaceState(i,i.state,null),pw(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ym(e,t){try{var r="",n=t;do r+=uJ(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function aS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function LP(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ree=typeof WeakMap=="function"?WeakMap:Map;function R9(e,t,r){r=kc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){vw||(vw=!0,qP=n),LP(e,t)},r}function F9(e,t,r){r=kc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){LP(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){LP(e,t),typeof n!="function"&&(id===null?id=new Set([this]):id.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function f6(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Ree;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Zee.bind(null,e,t,r),t.then(e,e))}function h6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function p6(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=kc(-1,1),t.tag=2,nd(r,t,1))),r.lanes|=1),e)}var Fee=Jc.ReactCurrentOwner,Ea=!1;function ga(e,t,r,n){t.child=e===null?h9(t,null,r,n):gm(t,e.child,r,n)}function m6(e,t,r,n,i){r=r.render;var s=t.ref;return Ip(t,i),n=SC(e,t,r,n,s,i),r=_C(),e!==null&&!Ea?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uc(e,t,i)):(vn&&r&&fC(t),t.flags|=1,ga(e,t,n,i),t.child)}function g6(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!IC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,$9(e,t,s,n,i)):(e=E1(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:k0,r(o,n)&&e.ref===t.ref)return Uc(e,t,i)}return t.flags|=1,e=sd(s,n),e.ref=t.ref,e.return=t,t.child=e}function $9(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(k0(s,n)&&e.ref===t.ref)if(Ea=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Ea=!0);else return t.lanes=e.lanes,Uc(e,t,i)}return IP(e,t,r,n,i)}function B9(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},un(bp,rs),rs|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,un(bp,rs),rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,un(bp,rs),rs|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,un(bp,rs),rs|=n;return ga(e,t,i,r),t.child}function U9(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function IP(e,t,r,n,i){var s=Da(r)?Qf:la.current;return s=pm(t,s),Ip(t,i),r=SC(e,t,r,n,s,i),n=_C(),e!==null&&!Ea?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uc(e,t,i)):(vn&&n&&fC(t),t.flags|=1,ga(e,t,r,i),t.child)}function x6(e,t,r,n,i){if(Da(r)){var s=!0;cw(t)}else s=!1;if(Ip(t,i),t.stateNode===null)k1(e,t),D9(t,r,n),MP(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Js(u):(u=Da(r)?Qf:la.current,u=pm(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&d6(t,o,n,u),Ou=!1;var h=t.memoizedState;o.state=h,pw(t,n,o,i),c=t.memoizedState,l!==n||h!==c||Ia.current||Ou?(typeof d=="function"&&(OP(t,r,d,n),c=t.memoizedState),(l=Ou||u6(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,m9(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:wo(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Js(c):(c=Da(r)?Qf:la.current,c=pm(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&d6(t,o,n,c),Ou=!1,h=t.memoizedState,o.state=h,pw(t,n,o,i);var y=t.memoizedState;l!==f||h!==y||Ia.current||Ou?(typeof p=="function"&&(OP(t,r,p,n),y=t.memoizedState),(u=Ou||u6(t,r,u,n,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return DP(e,t,r,n,s,i)}function DP(e,t,r,n,i,s){U9(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&r6(t,r,!1),Uc(e,t,s);n=t.stateNode,Fee.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=gm(t,e.child,null,s),t.child=gm(t,null,l,s)):ga(e,t,l,s),t.memoizedState=n.state,i&&r6(t,r,!0),t.child}function z9(e){var t=e.stateNode;t.pendingContext?t6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&t6(e,t.context,!1),bC(e,t.containerInfo)}function y6(e,t,r,n,i){return mm(),pC(i),t.flags|=256,ga(e,t,r,n),t.child}var RP={dehydrated:null,treeContext:null,retryLane:0};function FP(e){return{baseLanes:e,cachePool:null,transitions:null}}function V9(e,t,r){var n=t.pendingProps,i=Nn.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),un(Nn,i&1),e===null)return TP(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Nj(o,n,0,null),e=Hf(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=FP(r),t.memoizedState=RP,e):kC(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return $ee(e,t,o,n,l,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=sd(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=sd(l,s):(s=Hf(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?FP(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=RP,n}return s=e.child,e=s.sibling,n=sd(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function kC(e,t){return t=Nj({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ob(e,t,r,n){return n!==null&&pC(n),gm(t,e.child,null,r),e=kC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $ee(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=aS(Error(Ye(422))),Ob(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Nj({mode:"visible",children:n.children},i,0,null),s=Hf(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&gm(t,e.child,null,o),t.child.memoizedState=FP(o),t.memoizedState=RP,s);if(!(t.mode&1))return Ob(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Ye(419)),n=aS(s,n,void 0),Ob(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ea||l){if(n=Si,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Bc(e,i),Fo(n,e,i,-1))}return LC(),n=aS(Error(Ye(421))),Ob(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Qee.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,os=rd(i.nextSibling),ds=t,vn=!0,Ao=null,e!==null&&(Us[zs++]=wc,Us[zs++]=jc,Us[zs++]=Jf,wc=e.id,jc=e.overflow,Jf=t),t=kC(t,n.children),t.flags|=4096,t)}function v6(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),EP(e.return,t,r)}function sS(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function q9(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(ga(e,t,n.children,r),n=Nn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&v6(e,r,t);else if(e.tag===19)v6(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(un(Nn,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&mw(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),sS(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&mw(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}sS(t,!0,r,null,s);break;case"together":sS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function k1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Uc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),th|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ye(153));if(t.child!==null){for(e=t.child,r=sd(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=sd(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Bee(e,t,r){switch(t.tag){case 3:z9(t),mm();break;case 5:g9(t);break;case 1:Da(t.type)&&cw(t);break;case 4:bC(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;un(fw,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(un(Nn,Nn.current&1),t.flags|=128,null):r&t.child.childLanes?V9(e,t,r):(un(Nn,Nn.current&1),e=Uc(e,t,r),e!==null?e.sibling:null);un(Nn,Nn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return q9(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),un(Nn,Nn.current),n)break;return null;case 22:case 23:return t.lanes=0,B9(e,t,r)}return Uc(e,t,r)}var W9,$P,H9,K9;W9=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};$P=function(){};H9=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Af(_l.current);var s=null;switch(r){case"input":i=oP(e,i),n=oP(e,n),s=[];break;case"select":i=An({},i,{value:void 0}),n=An({},n,{value:void 0}),s=[];break;case"textarea":i=uP(e,i),n=uP(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ow)}fP(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(w0.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(w0.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&hn("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};K9=function(e,t,r,n){r!==n&&(t.flags|=4)};function fx(e,t){if(!vn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ki(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Uee(e,t,r){var n=t.pendingProps;switch(hC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ki(t),null;case 1:return Da(t.type)&&lw(),Ki(t),null;case 3:return n=t.stateNode,xm(),xn(Ia),xn(la),jC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Tb(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ao!==null&&(KP(Ao),Ao=null))),$P(e,t),Ki(t),null;case 5:wC(t);var i=Af(M0.current);if(r=t.type,e!==null&&t.stateNode!=null)H9(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ye(166));return Ki(t),null}if(e=Af(_l.current),Tb(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[gl]=t,n[E0]=s,e=(t.mode&1)!==0,r){case"dialog":hn("cancel",n),hn("close",n);break;case"iframe":case"object":case"embed":hn("load",n);break;case"video":case"audio":for(i=0;i<Bx.length;i++)hn(Bx[i],n);break;case"source":hn("error",n);break;case"img":case"image":case"link":hn("error",n),hn("load",n);break;case"details":hn("toggle",n);break;case"input":kO(n,s),hn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},hn("invalid",n);break;case"textarea":TO(n,s),hn("invalid",n)}fP(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Cb(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Cb(n.textContent,l,e),i=["children",""+l]):w0.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&hn("scroll",n)}switch(r){case"input":wb(n),CO(n,s,!0);break;case"textarea":wb(n),EO(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ow)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=w7(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[gl]=t,e[E0]=n,W9(e,t,!1,!1),t.stateNode=e;e:{switch(o=hP(r,n),r){case"dialog":hn("cancel",e),hn("close",e),i=n;break;case"iframe":case"object":case"embed":hn("load",e),i=n;break;case"video":case"audio":for(i=0;i<Bx.length;i++)hn(Bx[i],e);i=n;break;case"source":hn("error",e),i=n;break;case"img":case"image":case"link":hn("error",e),hn("load",e),i=n;break;case"details":hn("toggle",e),i=n;break;case"input":kO(e,n),i=oP(e,n),hn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=An({},n,{value:void 0}),hn("invalid",e);break;case"textarea":TO(e,n),i=uP(e,n),hn("invalid",e);break;default:i=n}fP(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?S7(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&j7(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&j0(e,c):typeof c=="number"&&j0(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(w0.hasOwnProperty(s)?c!=null&&s==="onScroll"&&hn("scroll",e):c!=null&&Q4(e,s,c,o))}switch(r){case"input":wb(e),CO(e,n,!1);break;case"textarea":wb(e),EO(e);break;case"option":n.value!=null&&e.setAttribute("value",""+md(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Ep(e,!!n.multiple,s,!1):n.defaultValue!=null&&Ep(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ow)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ki(t),null;case 6:if(e&&t.stateNode!=null)K9(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ye(166));if(r=Af(M0.current),Af(_l.current),Tb(t)){if(n=t.stateNode,r=t.memoizedProps,n[gl]=t,(s=n.nodeValue!==r)&&(e=ds,e!==null))switch(e.tag){case 3:Cb(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cb(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[gl]=t,t.stateNode=n}return Ki(t),null;case 13:if(xn(Nn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(vn&&os!==null&&t.mode&1&&!(t.flags&128))d9(),mm(),t.flags|=98560,s=!1;else if(s=Tb(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Ye(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ye(317));s[gl]=t}else mm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ki(t),s=!1}else Ao!==null&&(KP(Ao),Ao=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Nn.current&1?gi===0&&(gi=3):LC())),t.updateQueue!==null&&(t.flags|=4),Ki(t),null);case 4:return xm(),$P(e,t),e===null&&C0(t.stateNode.containerInfo),Ki(t),null;case 10:return xC(t.type._context),Ki(t),null;case 17:return Da(t.type)&&lw(),Ki(t),null;case 19:if(xn(Nn),s=t.memoizedState,s===null)return Ki(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)fx(s,!1);else{if(gi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=mw(e),o!==null){for(t.flags|=128,fx(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return un(Nn,Nn.current&1|2),t.child}e=e.sibling}s.tail!==null&&Wn()>vm&&(t.flags|=128,n=!0,fx(s,!1),t.lanes=4194304)}else{if(!n)if(e=mw(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),fx(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!vn)return Ki(t),null}else 2*Wn()-s.renderingStartTime>vm&&r!==1073741824&&(t.flags|=128,n=!0,fx(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Wn(),t.sibling=null,r=Nn.current,un(Nn,n?r&1|2:r&1),t):(Ki(t),null);case 22:case 23:return MC(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?rs&1073741824&&(Ki(t),t.subtreeFlags&6&&(t.flags|=8192)):Ki(t),null;case 24:return null;case 25:return null}throw Error(Ye(156,t.tag))}function zee(e,t){switch(hC(t),t.tag){case 1:return Da(t.type)&&lw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xm(),xn(Ia),xn(la),jC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wC(t),null;case 13:if(xn(Nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ye(340));mm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xn(Nn),null;case 4:return xm(),null;case 10:return xC(t.type._context),null;case 22:case 23:return MC(),null;case 24:return null;default:return null}}var Mb=!1,ta=!1,Vee=typeof WeakSet=="function"?WeakSet:Set,ft=null;function vp(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){In(e,t,n)}else r.current=null}function BP(e,t,r){try{r()}catch(n){In(e,t,n)}}var b6=!1;function qee(e,t){if(NP=iw,e=Q7(),dC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(l=o+i),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===i&&(l=o),h===s&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(SP={focusedElem:e,selectionRange:r},iw=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){t=ft;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,v=y.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:wo(t.type,m),v);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ye(163))}}catch(j){In(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}return y=b6,b6=!1,y}function r0(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&BP(t,r,s)}i=i.next}while(i!==n)}}function wj(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function UP(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function G9(e){var t=e.alternate;t!==null&&(e.alternate=null,G9(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gl],delete t[E0],delete t[AP],delete t[Pee],delete t[Aee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Y9(e){return e.tag===5||e.tag===3||e.tag===4}function w6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Y9(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zP(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ow));else if(n!==4&&(e=e.child,e!==null))for(zP(e,t,r),e=e.sibling;e!==null;)zP(e,t,r),e=e.sibling}function VP(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(VP(e,t,r),e=e.sibling;e!==null;)VP(e,t,r),e=e.sibling}var Di=null,No=!1;function ju(e,t,r){for(r=r.child;r!==null;)X9(e,t,r),r=r.sibling}function X9(e,t,r){if(Sl&&typeof Sl.onCommitFiberUnmount=="function")try{Sl.onCommitFiberUnmount(hj,r)}catch{}switch(r.tag){case 5:ta||vp(r,t);case 6:var n=Di,i=No;Di=null,ju(e,t,r),Di=n,No=i,Di!==null&&(No?(e=Di,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Di.removeChild(r.stateNode));break;case 18:Di!==null&&(No?(e=Di,r=r.stateNode,e.nodeType===8?J5(e.parentNode,r):e.nodeType===1&&J5(e,r),P0(e)):J5(Di,r.stateNode));break;case 4:n=Di,i=No,Di=r.stateNode.containerInfo,No=!0,ju(e,t,r),Di=n,No=i;break;case 0:case 11:case 14:case 15:if(!ta&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&BP(r,t,o),i=i.next}while(i!==n)}ju(e,t,r);break;case 1:if(!ta&&(vp(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){In(r,t,l)}ju(e,t,r);break;case 21:ju(e,t,r);break;case 22:r.mode&1?(ta=(n=ta)||r.memoizedState!==null,ju(e,t,r),ta=n):ju(e,t,r);break;default:ju(e,t,r)}}function j6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Vee),t.forEach(function(n){var i=Jee.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function go(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Di=l.stateNode,No=!1;break e;case 3:Di=l.stateNode.containerInfo,No=!0;break e;case 4:Di=l.stateNode.containerInfo,No=!0;break e}l=l.return}if(Di===null)throw Error(Ye(160));X9(s,o,i),Di=null,No=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){In(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Z9(t,e),t=t.sibling}function Z9(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(go(t,e),ll(e),n&4){try{r0(3,e,e.return),wj(3,e)}catch(m){In(e,e.return,m)}try{r0(5,e,e.return)}catch(m){In(e,e.return,m)}}break;case 1:go(t,e),ll(e),n&512&&r!==null&&vp(r,r.return);break;case 5:if(go(t,e),ll(e),n&512&&r!==null&&vp(r,r.return),e.flags&32){var i=e.stateNode;try{j0(i,"")}catch(m){In(e,e.return,m)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&v7(i,s),hP(l,o);var u=hP(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?S7(i,f):d==="dangerouslySetInnerHTML"?j7(i,f):d==="children"?j0(i,f):Q4(i,d,f,u)}switch(l){case"input":lP(i,s);break;case"textarea":b7(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ep(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ep(i,!!s.multiple,s.defaultValue,!0):Ep(i,!!s.multiple,s.multiple?[]:"",!1))}i[E0]=s}catch(m){In(e,e.return,m)}}break;case 6:if(go(t,e),ll(e),n&4){if(e.stateNode===null)throw Error(Ye(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){In(e,e.return,m)}}break;case 3:if(go(t,e),ll(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{P0(t.containerInfo)}catch(m){In(e,e.return,m)}break;case 4:go(t,e),ll(e);break;case 13:go(t,e),ll(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(EC=Wn())),n&4&&j6(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ta=(u=ta)||d,go(t,e),ta=u):go(t,e),ll(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ft=e,d=e.child;d!==null;){for(f=ft=d;ft!==null;){switch(h=ft,p=h.child,h.tag){case 0:case 11:case 14:case 15:r0(4,h,h.return);break;case 1:vp(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){In(n,r,m)}}break;case 5:vp(h,h.return);break;case 22:if(h.memoizedState!==null){S6(f);continue}}p!==null?(p.return=h,ft=p):S6(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=N7("display",o))}catch(m){In(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){In(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:go(t,e),ll(e),n&4&&j6(e);break;case 21:break;default:go(t,e),ll(e)}}function ll(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Y9(r)){var n=r;break e}r=r.return}throw Error(Ye(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(j0(i,""),n.flags&=-33);var s=w6(e);VP(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=w6(e);zP(e,l,o);break;default:throw Error(Ye(161))}}catch(c){In(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wee(e,t,r){ft=e,Q9(e)}function Q9(e,t,r){for(var n=(e.mode&1)!==0;ft!==null;){var i=ft,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Mb;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||ta;l=Mb;var u=ta;if(Mb=o,(ta=c)&&!u)for(ft=i;ft!==null;)o=ft,c=o.child,o.tag===22&&o.memoizedState!==null?_6(i):c!==null?(c.return=o,ft=c):_6(i);for(;s!==null;)ft=s,Q9(s),s=s.sibling;ft=i,Mb=l,ta=u}N6(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ft=s):N6(e)}}function N6(e){for(;ft!==null;){var t=ft;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ta||wj(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ta)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:wo(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&o6(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}o6(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&P0(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ye(163))}ta||t.flags&512&&UP(t)}catch(h){In(t,t.return,h)}}if(t===e){ft=null;break}if(r=t.sibling,r!==null){r.return=t.return,ft=r;break}ft=t.return}}function S6(e){for(;ft!==null;){var t=ft;if(t===e){ft=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ft=r;break}ft=t.return}}function _6(e){for(;ft!==null;){var t=ft;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{wj(4,t)}catch(c){In(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){In(t,i,c)}}var s=t.return;try{UP(t)}catch(c){In(t,s,c)}break;case 5:var o=t.return;try{UP(t)}catch(c){In(t,o,c)}}}catch(c){In(t,t.return,c)}if(t===e){ft=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ft=l;break}ft=t.return}}var Hee=Math.ceil,yw=Jc.ReactCurrentDispatcher,CC=Jc.ReactCurrentOwner,Ks=Jc.ReactCurrentBatchConfig,Pr=0,Si=null,ni=null,Ui=0,rs=0,bp=Cd(0),gi=0,R0=null,th=0,jj=0,TC=0,n0=null,Ta=null,EC=0,vm=1/0,mc=null,vw=!1,qP=null,id=null,Lb=!1,Yu=null,bw=0,i0=0,WP=null,C1=-1,T1=0;function ba(){return Pr&6?Wn():C1!==-1?C1:C1=Wn()}function ad(e){return e.mode&1?Pr&2&&Ui!==0?Ui&-Ui:Cee.transition!==null?(T1===0&&(T1=D7()),T1):(e=Wr,e!==0||(e=window.event,e=e===void 0?16:V7(e.type)),e):1}function Fo(e,t,r,n){if(50<i0)throw i0=0,WP=null,Error(Ye(185));ev(e,r,n),(!(Pr&2)||e!==Si)&&(e===Si&&(!(Pr&2)&&(jj|=r),gi===4&&Iu(e,Ui)),Ra(e,n),r===1&&Pr===0&&!(t.mode&1)&&(vm=Wn()+500,yj&&Td()))}function Ra(e,t){var r=e.callbackNode;CJ(e,t);var n=nw(e,e===Si?Ui:0);if(n===0)r!==null&&LO(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&LO(r),t===1)e.tag===0?kee(P6.bind(null,e)):l9(P6.bind(null,e)),See(function(){!(Pr&6)&&Td()}),r=null;else{switch(R7(n)){case 1:r=nC;break;case 4:r=L7;break;case 16:r=rw;break;case 536870912:r=I7;break;default:r=rw}r=sB(r,J9.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function J9(e,t){if(C1=-1,T1=0,Pr&6)throw Error(Ye(327));var r=e.callbackNode;if(Dp()&&e.callbackNode!==r)return null;var n=nw(e,e===Si?Ui:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ww(e,n);else{t=n;var i=Pr;Pr|=2;var s=tB();(Si!==e||Ui!==t)&&(mc=null,vm=Wn()+500,Wf(e,t));do try{Yee();break}catch(l){eB(e,l)}while(!0);gC(),yw.current=s,Pr=i,ni!==null?t=0:(Si=null,Ui=0,t=gi)}if(t!==0){if(t===2&&(i=yP(e),i!==0&&(n=i,t=HP(e,i))),t===1)throw r=R0,Wf(e,0),Iu(e,n),Ra(e,Wn()),r;if(t===6)Iu(e,n);else{if(i=e.current.alternate,!(n&30)&&!Kee(i)&&(t=ww(e,n),t===2&&(s=yP(e),s!==0&&(n=s,t=HP(e,s))),t===1))throw r=R0,Wf(e,0),Iu(e,n),Ra(e,Wn()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Ye(345));case 2:hf(e,Ta,mc);break;case 3:if(Iu(e,n),(n&130023424)===n&&(t=EC+500-Wn(),10<t)){if(nw(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ba(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=PP(hf.bind(null,e,Ta,mc),t);break}hf(e,Ta,mc);break;case 4:if(Iu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Ro(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=Wn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Hee(n/1960))-n,10<n){e.timeoutHandle=PP(hf.bind(null,e,Ta,mc),n);break}hf(e,Ta,mc);break;case 5:hf(e,Ta,mc);break;default:throw Error(Ye(329))}}}return Ra(e,Wn()),e.callbackNode===r?J9.bind(null,e):null}function HP(e,t){var r=n0;return e.current.memoizedState.isDehydrated&&(Wf(e,t).flags|=256),e=ww(e,t),e!==2&&(t=Ta,Ta=r,t!==null&&KP(t)),e}function KP(e){Ta===null?Ta=e:Ta.push.apply(Ta,e)}function Kee(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!zo(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Iu(e,t){for(t&=~TC,t&=~jj,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ro(t),n=1<<r;e[r]=-1,t&=~n}}function P6(e){if(Pr&6)throw Error(Ye(327));Dp();var t=nw(e,0);if(!(t&1))return Ra(e,Wn()),null;var r=ww(e,t);if(e.tag!==0&&r===2){var n=yP(e);n!==0&&(t=n,r=HP(e,n))}if(r===1)throw r=R0,Wf(e,0),Iu(e,t),Ra(e,Wn()),r;if(r===6)throw Error(Ye(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hf(e,Ta,mc),Ra(e,Wn()),null}function OC(e,t){var r=Pr;Pr|=1;try{return e(t)}finally{Pr=r,Pr===0&&(vm=Wn()+500,yj&&Td())}}function rh(e){Yu!==null&&Yu.tag===0&&!(Pr&6)&&Dp();var t=Pr;Pr|=1;var r=Ks.transition,n=Wr;try{if(Ks.transition=null,Wr=1,e)return e()}finally{Wr=n,Ks.transition=r,Pr=t,!(Pr&6)&&Td()}}function MC(){rs=bp.current,xn(bp)}function Wf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Nee(r)),ni!==null)for(r=ni.return;r!==null;){var n=r;switch(hC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&lw();break;case 3:xm(),xn(Ia),xn(la),jC();break;case 5:wC(n);break;case 4:xm();break;case 13:xn(Nn);break;case 19:xn(Nn);break;case 10:xC(n.type._context);break;case 22:case 23:MC()}r=r.return}if(Si=e,ni=e=sd(e.current,null),Ui=rs=t,gi=0,R0=null,TC=jj=th=0,Ta=n0=null,Pf!==null){for(t=0;t<Pf.length;t++)if(r=Pf[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Pf=null}return e}function eB(e,t){do{var r=ni;try{if(gC(),P1.current=xw,gw){for(var n=Pn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}gw=!1}if(eh=0,ji=pi=Pn=null,t0=!1,L0=0,CC.current=null,r===null||r.return===null){gi=1,R0=t,ni=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=Ui,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=h6(o);if(p!==null){p.flags&=-257,p6(p,o,l,s,t),p.mode&1&&f6(s,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var m=new Set;m.add(c),t.updateQueue=m}else y.add(c);break e}else{if(!(t&1)){f6(s,u,t),LC();break e}c=Error(Ye(426))}}else if(vn&&l.mode&1){var v=h6(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),p6(v,o,l,s,t),pC(ym(c,l));break e}}s=c=ym(c,l),gi!==4&&(gi=2),n0===null?n0=[s]:n0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=R9(s,c,t);s6(s,g);break e;case 1:l=c;var x=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(id===null||!id.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=F9(s,l,t);s6(s,j);break e}}s=s.return}while(s!==null)}nB(r)}catch(N){t=N,ni===r&&r!==null&&(ni=r=r.return);continue}break}while(!0)}function tB(){var e=yw.current;return yw.current=xw,e===null?xw:e}function LC(){(gi===0||gi===3||gi===2)&&(gi=4),Si===null||!(th&268435455)&&!(jj&268435455)||Iu(Si,Ui)}function ww(e,t){var r=Pr;Pr|=2;var n=tB();(Si!==e||Ui!==t)&&(mc=null,Wf(e,t));do try{Gee();break}catch(i){eB(e,i)}while(!0);if(gC(),Pr=r,yw.current=n,ni!==null)throw Error(Ye(261));return Si=null,Ui=0,gi}function Gee(){for(;ni!==null;)rB(ni)}function Yee(){for(;ni!==null&&!bJ();)rB(ni)}function rB(e){var t=aB(e.alternate,e,rs);e.memoizedProps=e.pendingProps,t===null?nB(e):ni=t,CC.current=null}function nB(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=zee(r,t),r!==null){r.flags&=32767,ni=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gi=6,ni=null;return}}else if(r=Uee(r,t,rs),r!==null){ni=r;return}if(t=t.sibling,t!==null){ni=t;return}ni=t=e}while(t!==null);gi===0&&(gi=5)}function hf(e,t,r){var n=Wr,i=Ks.transition;try{Ks.transition=null,Wr=1,Xee(e,t,r,n)}finally{Ks.transition=i,Wr=n}return null}function Xee(e,t,r,n){do Dp();while(Yu!==null);if(Pr&6)throw Error(Ye(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ye(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(TJ(e,s),e===Si&&(ni=Si=null,Ui=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Lb||(Lb=!0,sB(rw,function(){return Dp(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ks.transition,Ks.transition=null;var o=Wr;Wr=1;var l=Pr;Pr|=4,CC.current=null,qee(e,r),Z9(r,e),gee(SP),iw=!!NP,SP=NP=null,e.current=r,Wee(r),wJ(),Pr=l,Wr=o,Ks.transition=s}else e.current=r;if(Lb&&(Lb=!1,Yu=e,bw=i),s=e.pendingLanes,s===0&&(id=null),SJ(r.stateNode),Ra(e,Wn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(vw)throw vw=!1,e=qP,qP=null,e;return bw&1&&e.tag!==0&&Dp(),s=e.pendingLanes,s&1?e===WP?i0++:(i0=0,WP=e):i0=0,Td(),null}function Dp(){if(Yu!==null){var e=R7(bw),t=Ks.transition,r=Wr;try{if(Ks.transition=null,Wr=16>e?16:e,Yu===null)var n=!1;else{if(e=Yu,Yu=null,bw=0,Pr&6)throw Error(Ye(331));var i=Pr;for(Pr|=4,ft=e.current;ft!==null;){var s=ft,o=s.child;if(ft.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ft=u;ft!==null;){var d=ft;switch(d.tag){case 0:case 11:case 15:r0(8,d,s)}var f=d.child;if(f!==null)f.return=d,ft=f;else for(;ft!==null;){d=ft;var h=d.sibling,p=d.return;if(G9(d),d===u){ft=null;break}if(h!==null){h.return=p,ft=h;break}ft=p}}}var y=s.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}ft=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ft=o;else e:for(;ft!==null;){if(s=ft,s.flags&2048)switch(s.tag){case 0:case 11:case 15:r0(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ft=g;break e}ft=s.return}}var x=e.current;for(ft=x;ft!==null;){o=ft;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ft=w;else e:for(o=x;ft!==null;){if(l=ft,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wj(9,l)}}catch(N){In(l,l.return,N)}if(l===o){ft=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ft=j;break e}ft=l.return}}if(Pr=i,Td(),Sl&&typeof Sl.onPostCommitFiberRoot=="function")try{Sl.onPostCommitFiberRoot(hj,e)}catch{}n=!0}return n}finally{Wr=r,Ks.transition=t}}return!1}function A6(e,t,r){t=ym(r,t),t=R9(e,t,1),e=nd(e,t,1),t=ba(),e!==null&&(ev(e,1,t),Ra(e,t))}function In(e,t,r){if(e.tag===3)A6(e,e,r);else for(;t!==null;){if(t.tag===3){A6(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(id===null||!id.has(n))){e=ym(r,e),e=F9(t,e,1),t=nd(t,e,1),e=ba(),t!==null&&(ev(t,1,e),Ra(t,e));break}}t=t.return}}function Zee(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ba(),e.pingedLanes|=e.suspendedLanes&r,Si===e&&(Ui&r)===r&&(gi===4||gi===3&&(Ui&130023424)===Ui&&500>Wn()-EC?Wf(e,0):TC|=r),Ra(e,t)}function iB(e,t){t===0&&(e.mode&1?(t=Sb,Sb<<=1,!(Sb&130023424)&&(Sb=4194304)):t=1);var r=ba();e=Bc(e,t),e!==null&&(ev(e,t,r),Ra(e,r))}function Qee(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),iB(e,r)}function Jee(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ye(314))}n!==null&&n.delete(t),iB(e,r)}var aB;aB=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ia.current)Ea=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ea=!1,Bee(e,t,r);Ea=!!(e.flags&131072)}else Ea=!1,vn&&t.flags&1048576&&c9(t,dw,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;k1(e,t),e=t.pendingProps;var i=pm(t,la.current);Ip(t,r),i=SC(null,t,n,e,i,r);var s=_C();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Da(n)?(s=!0,cw(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vC(t),i.updater=bj,t.stateNode=i,i._reactInternals=t,MP(t,n,e,r),t=DP(null,t,n,!0,s,r)):(t.tag=0,vn&&s&&fC(t),ga(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(k1(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=tte(n),e=wo(n,e),i){case 0:t=IP(null,t,n,e,r);break e;case 1:t=x6(null,t,n,e,r);break e;case 11:t=m6(null,t,n,e,r);break e;case 14:t=g6(null,t,n,wo(n.type,e),r);break e}throw Error(Ye(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wo(n,i),IP(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wo(n,i),x6(e,t,n,i,r);case 3:e:{if(z9(t),e===null)throw Error(Ye(387));n=t.pendingProps,s=t.memoizedState,i=s.element,m9(e,t),pw(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ym(Error(Ye(423)),t),t=y6(e,t,n,r,i);break e}else if(n!==i){i=ym(Error(Ye(424)),t),t=y6(e,t,n,r,i);break e}else for(os=rd(t.stateNode.containerInfo.firstChild),ds=t,vn=!0,Ao=null,r=h9(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mm(),n===i){t=Uc(e,t,r);break e}ga(e,t,n,r)}t=t.child}return t;case 5:return g9(t),e===null&&TP(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,_P(n,i)?o=null:s!==null&&_P(n,s)&&(t.flags|=32),U9(e,t),ga(e,t,o,r),t.child;case 6:return e===null&&TP(t),null;case 13:return V9(e,t,r);case 4:return bC(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=gm(t,null,n,r):ga(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wo(n,i),m6(e,t,n,i,r);case 7:return ga(e,t,t.pendingProps,r),t.child;case 8:return ga(e,t,t.pendingProps.children,r),t.child;case 12:return ga(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,un(fw,n._currentValue),n._currentValue=o,s!==null)if(zo(s.value,o)){if(s.children===i.children&&!Ia.current){t=Uc(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=kc(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),EP(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ye(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),EP(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ga(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ip(t,r),i=Js(i),n=n(i),t.flags|=1,ga(e,t,n,r),t.child;case 14:return n=t.type,i=wo(n,t.pendingProps),i=wo(n.type,i),g6(e,t,n,i,r);case 15:return $9(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wo(n,i),k1(e,t),t.tag=1,Da(n)?(e=!0,cw(t)):e=!1,Ip(t,r),D9(t,n,i),MP(t,n,i,r),DP(null,t,n,!0,e,r);case 19:return q9(e,t,r);case 22:return B9(e,t,r)}throw Error(Ye(156,t.tag))};function sB(e,t){return M7(e,t)}function ete(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,r,n){return new ete(e,t,r,n)}function IC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tte(e){if(typeof e=="function")return IC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===eC)return 11;if(e===tC)return 14}return 2}function sd(e,t){var r=e.alternate;return r===null?(r=Ws(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function E1(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")IC(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case up:return Hf(r.children,i,s,t);case J4:o=8,i|=8;break;case nP:return e=Ws(12,r,t,i|2),e.elementType=nP,e.lanes=s,e;case iP:return e=Ws(13,r,t,i),e.elementType=iP,e.lanes=s,e;case aP:return e=Ws(19,r,t,i),e.elementType=aP,e.lanes=s,e;case g7:return Nj(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case p7:o=10;break e;case m7:o=9;break e;case eC:o=11;break e;case tC:o=14;break e;case Eu:o=16,n=null;break e}throw Error(Ye(130,e==null?e:typeof e,""))}return t=Ws(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Hf(e,t,r,n){return e=Ws(7,e,n,t),e.lanes=r,e}function Nj(e,t,r,n){return e=Ws(22,e,n,t),e.elementType=g7,e.lanes=r,e.stateNode={isHidden:!1},e}function oS(e,t,r){return e=Ws(6,e,null,t),e.lanes=r,e}function lS(e,t,r){return t=Ws(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rte(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=z5(0),this.expirationTimes=z5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z5(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function DC(e,t,r,n,i,s,o,l,c){return e=new rte(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ws(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vC(s),e}function nte(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cp,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function oB(e){if(!e)return gd;e=e._reactInternals;e:{if(jh(e)!==e||e.tag!==1)throw Error(Ye(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Da(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ye(171))}if(e.tag===1){var r=e.type;if(Da(r))return o9(e,r,t)}return t}function lB(e,t,r,n,i,s,o,l,c){return e=DC(r,n,!0,e,i,s,o,l,c),e.context=oB(null),r=e.current,n=ba(),i=ad(r),s=kc(n,i),s.callback=t??null,nd(r,s,i),e.current.lanes=i,ev(e,i,n),Ra(e,n),e}function Sj(e,t,r,n){var i=t.current,s=ba(),o=ad(i);return r=oB(r),t.context===null?t.context=r:t.pendingContext=r,t=kc(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=nd(i,t,o),e!==null&&(Fo(e,i,o,s),_1(e,i,o)),o}function jw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function k6(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function RC(e,t){k6(e,t),(e=e.alternate)&&k6(e,t)}function ite(){return null}var cB=typeof reportError=="function"?reportError:function(e){console.error(e)};function FC(e){this._internalRoot=e}_j.prototype.render=FC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ye(409));Sj(e,t,null,null)};_j.prototype.unmount=FC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rh(function(){Sj(null,e,null,null)}),t[$c]=null}};function _j(e){this._internalRoot=e}_j.prototype.unstable_scheduleHydration=function(e){if(e){var t=B7();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Lu.length&&t!==0&&t<Lu[r].priority;r++);Lu.splice(r,0,e),r===0&&z7(e)}};function $C(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function C6(){}function ate(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=jw(o);s.call(u)}}var o=lB(t,n,e,0,null,!1,!1,"",C6);return e._reactRootContainer=o,e[$c]=o.current,C0(e.nodeType===8?e.parentNode:e),rh(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=jw(c);l.call(u)}}var c=DC(e,0,!1,null,null,!1,!1,"",C6);return e._reactRootContainer=c,e[$c]=c.current,C0(e.nodeType===8?e.parentNode:e),rh(function(){Sj(t,c,r,n)}),c}function Aj(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=jw(o);l.call(c)}}Sj(t,o,e,i)}else o=ate(r,t,e,i,n);return jw(o)}F7=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=$x(t.pendingLanes);r!==0&&(iC(t,r|1),Ra(t,Wn()),!(Pr&6)&&(vm=Wn()+500,Td()))}break;case 13:rh(function(){var n=Bc(e,1);if(n!==null){var i=ba();Fo(n,e,1,i)}}),RC(e,1)}};aC=function(e){if(e.tag===13){var t=Bc(e,134217728);if(t!==null){var r=ba();Fo(t,e,134217728,r)}RC(e,134217728)}};$7=function(e){if(e.tag===13){var t=ad(e),r=Bc(e,t);if(r!==null){var n=ba();Fo(r,e,t,n)}RC(e,t)}};B7=function(){return Wr};U7=function(e,t){var r=Wr;try{return Wr=e,t()}finally{Wr=r}};mP=function(e,t,r){switch(t){case"input":if(lP(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=xj(n);if(!i)throw Error(Ye(90));y7(n),lP(n,i)}}}break;case"textarea":b7(e,r);break;case"select":t=r.value,t!=null&&Ep(e,!!r.multiple,t,!1)}};A7=OC;k7=rh;var ste={usingClientEntryPoint:!1,Events:[rv,pp,xj,_7,P7,OC]},hx={findFiberByHostInstance:_f,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ote={bundleType:hx.bundleType,version:hx.version,rendererPackageName:hx.rendererPackageName,rendererConfig:hx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=E7(e),e===null?null:e.stateNode},findFiberByHostInstance:hx.findFiberByHostInstance||ite,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ib=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ib.isDisabled&&Ib.supportsFiber)try{hj=Ib.inject(ote),Sl=Ib}catch{}}bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ste;bs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$C(t))throw Error(Ye(200));return nte(e,t,null,r)};bs.createRoot=function(e,t){if(!$C(e))throw Error(Ye(299));var r=!1,n="",i=cB;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=DC(e,1,!1,null,null,r,!1,n,i),e[$c]=t.current,C0(e.nodeType===8?e.parentNode:e),new FC(t)};bs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ye(188)):(e=Object.keys(e).join(","),Error(Ye(268,e)));return e=E7(t),e=e===null?null:e.stateNode,e};bs.flushSync=function(e){return rh(e)};bs.hydrate=function(e,t,r){if(!Pj(t))throw Error(Ye(200));return Aj(null,e,t,!0,r)};bs.hydrateRoot=function(e,t,r){if(!$C(e))throw Error(Ye(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=cB;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=lB(t,null,e,1,r??null,i,!1,s,o),e[$c]=t.current,C0(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new _j(t)};bs.render=function(e,t,r){if(!Pj(t))throw Error(Ye(200));return Aj(null,e,t,!1,r)};bs.unmountComponentAtNode=function(e){if(!Pj(e))throw Error(Ye(40));return e._reactRootContainer?(rh(function(){Aj(null,null,e,!1,function(){e._reactRootContainer=null,e[$c]=null})}),!0):!1};bs.unstable_batchedUpdates=OC;bs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Pj(r))throw Error(Ye(200));if(e==null||e._reactInternals===void 0)throw Error(Ye(38));return Aj(e,t,r,!1,n)};bs.version="18.3.1-next-f1338f8080-20240426";function uB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uB)}catch(e){console.error(e)}}uB(),u7.exports=bs;var Nh=u7.exports;const lte=Er(Nh);var dB,T6=Nh;dB=T6.createRoot,T6.hydrateRoot;var cte=typeof Element<"u",ute=typeof Map=="function",dte=typeof Set=="function",fte=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function O1(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!O1(e[n],t[n]))return!1;return!0}var s;if(ute&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(n=s.next()).done;)if(!t.has(n.value[0]))return!1;for(s=e.entries();!(n=s.next()).done;)if(!O1(n.value[1],t.get(n.value[0])))return!1;return!0}if(dte&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(n=s.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(fte&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;if(cte&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&e.$$typeof)&&!O1(e[i[n]],t[i[n]]))return!1;return!0}return e!==e&&t!==t}var hte=function(t,r){try{return O1(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const pte=Er(hte);var mte=function(e,t,r,n,i,s,o,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,i,s,o,l],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},gte=mte;const E6=Er(gte);var xte=function(t,r,n,i){var s=n?n.call(i,t,r):void 0;if(s!==void 0)return!!s;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var o=Object.keys(t),l=Object.keys(r);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),u=0;u<o.length;u++){var d=o[u];if(!c(d))return!1;var f=t[d],h=r[d];if(s=n?n.call(i,f,h,d):void 0,s===!1||s===void 0&&f!==h)return!1}return!0};const yte=Er(xte);var fB=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(fB||{}),cS={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},O6=Object.values(fB),BC={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},vte=Object.entries(BC).reduce((e,[t,r])=>(e[r]=t,e),{}),Mo="data-rh",Rp={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Fp=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},bte=e=>{let t=Fp(e,"title");const r=Fp(e,Rp.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=Fp(e,Rp.DEFAULT_TITLE);return t||n||void 0},wte=e=>Fp(e,Rp.ON_CHANGE_CLIENT_STATE)||(()=>{}),uS=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),jte=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const i=Object.keys(n);for(let s=0;s<i.length;s+=1){const l=i[s].toLowerCase();if(e.indexOf(l)!==-1&&n[l])return r.concat(n)}}return r},[]),Nte=e=>console&&typeof console.warn=="function"&&console.warn(e),px=(e,t,r)=>{const n={};return r.filter(i=>Array.isArray(i[e])?!0:(typeof i[e]<"u"&&Nte(`Helmet: ${e} should be of type "Array". Instead found type "${typeof i[e]}"`),!1)).map(i=>i[e]).reverse().reduce((i,s)=>{const o={};s.filter(c=>{let u;const d=Object.keys(c);for(let h=0;h<d.length;h+=1){const p=d[h],y=p.toLowerCase();t.indexOf(y)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(y==="rel"&&c[y].toLowerCase()==="stylesheet")&&(u=y),t.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(u=p)}if(!u||!c[u])return!1;const f=c[u].toLowerCase();return n[u]||(n[u]={}),o[u]||(o[u]={}),n[u][f]?!1:(o[u][f]=!0,!0)}).reverse().forEach(c=>i.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const u=l[c],d={...n[u],...o[u]};n[u]=d}return i},[]).reverse()},Ste=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},_te=e=>({baseTag:jte(["href"],e),bodyAttributes:uS("bodyAttributes",e),defer:Fp(e,Rp.DEFER),encode:Fp(e,Rp.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:uS("htmlAttributes",e),linkTags:px("link",["rel","href"],e),metaTags:px("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:px("noscript",["innerHTML"],e),onChangeClientState:wte(e),scriptTags:px("script",["src","innerHTML"],e),styleTags:px("style",["cssText"],e),title:bte(e),titleAttributes:uS("titleAttributes",e),prioritizeSeoTags:Ste(e,Rp.PRIORITIZE_SEO_TAGS)}),hB=e=>Array.isArray(e)?e.join(""):e,Pte=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},dS=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(Pte(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},M6=(e,t)=>({...e,[t]:void 0}),Ate=["noscript","script","style"],GP=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),pB=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),kte=(e,t,r,n)=>{const i=pB(r),s=hB(t);return i?`<${e} ${Mo}="true" ${i}>${GP(s,n)}</${e}>`:`<${e} ${Mo}="true">${GP(s,n)}</${e}>`},Cte=(e,t,r=!0)=>t.reduce((n,i)=>{const s=i,o=Object.keys(s).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const f=typeof s[d]>"u"?d:`${d}="${GP(s[d],r)}"`;return u?`${u} ${f}`:f},""),l=s.innerHTML||s.cssText||"",c=Ate.indexOf(e)===-1;return`${n}<${e} ${Mo}="true" ${o}${c?"/>":`>${l}</${e}>`}`},""),mB=(e,t={})=>Object.keys(e).reduce((r,n)=>{const i=BC[n];return r[i||n]=e[n],r},t),Tte=(e,t,r)=>{const n={key:t,[Mo]:!0},i=mB(r,n);return[se.createElement("title",i,t)]},M1=(e,t)=>t.map((r,n)=>{const i={key:n,[Mo]:!0};return Object.keys(r).forEach(s=>{const l=BC[s]||s;if(l==="innerHTML"||l==="cssText"){const c=r.innerHTML||r.cssText;i.dangerouslySetInnerHTML={__html:c}}else i[l]=r[s]}),se.createElement(e,i)}),Rs=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>Tte(e,t.title,t.titleAttributes),toString:()=>kte(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>mB(t),toString:()=>pB(t)};default:return{toComponent:()=>M1(e,t),toString:()=>Cte(e,t,r)}}},Ete=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const i=dS(e,cS.meta),s=dS(t,cS.link),o=dS(r,cS.script);return{priorityMethods:{toComponent:()=>[...M1("meta",i.priority),...M1("link",s.priority),...M1("script",o.priority)],toString:()=>`${Rs("meta",i.priority,n)} ${Rs("link",s.priority,n)} ${Rs("script",o.priority,n)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},Ote=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:u}=e;let{linkTags:d,metaTags:f,scriptTags:h}=e,p={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:p,linkTags:d,metaTags:f,scriptTags:h}=Ete(e)),{priority:p,base:Rs("base",t,n),bodyAttributes:Rs("bodyAttributes",r,n),htmlAttributes:Rs("htmlAttributes",i,n),link:Rs("link",d,n),meta:Rs("meta",f,n),noscript:Rs("noscript",s,n),script:Rs("script",h,n),style:Rs("style",o,n),title:Rs("title",{title:l,titleAttributes:c},n)}},YP=Ote,Db=[],gB=!!(typeof window<"u"&&window.document&&window.document.createElement),XP=class{constructor(e,t){ur(this,"instances",[]);ur(this,"canUseDOM",gB);ur(this,"context");ur(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Db:this.instances,add:e=>{(this.canUseDOM?Db:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Db:this.instances).indexOf(e);(this.canUseDOM?Db:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=YP({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Mte={},xB=se.createContext(Mte),Rf,yB=(Rf=class extends S.Component{constructor(r){super(r);ur(this,"helmetData");this.helmetData=new XP(this.props.context||{},Rf.canUseDOM)}render(){return se.createElement(xB.Provider,{value:this.helmetData.value},this.props.children)}},ur(Rf,"canUseDOM",gB),Rf),Hh=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${Mo}]`),i=[].slice.call(n),s=[];let o;return t&&t.length&&t.forEach(l=>{const c=document.createElement(e);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=u,f=typeof l[d]>"u"?"":l[d];c.setAttribute(u,f)}c.setAttribute(Mo,"true"),i.some((u,d)=>(o=d,c.isEqualNode(u)))?i.splice(o,1):s.push(c)}),i.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),s.forEach(l=>r.appendChild(l)),{oldTags:i,newTags:s}},ZP=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(Mo),i=n?n.split(","):[],s=[...i],o=Object.keys(t);for(const l of o){const c=t[l]||"";r.getAttribute(l)!==c&&r.setAttribute(l,c),i.indexOf(l)===-1&&i.push(l);const u=s.indexOf(l);u!==-1&&s.splice(u,1)}for(let l=s.length-1;l>=0;l-=1)r.removeAttribute(s[l]);i.length===s.length?r.removeAttribute(Mo):r.getAttribute(Mo)!==o.join(",")&&r.setAttribute(Mo,o.join(","))},Lte=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=hB(e)),ZP("title",t)},L6=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:d,title:f,titleAttributes:h}=e;ZP("body",n),ZP("html",i),Lte(f,h);const p={baseTag:Hh("base",r),linkTags:Hh("link",s),metaTags:Hh("meta",o),noscriptTags:Hh("noscript",l),scriptTags:Hh("script",u),styleTags:Hh("style",d)},y={},m={};Object.keys(p).forEach(v=>{const{newTags:g,oldTags:x}=p[v];g.length&&(y[v]=g),x.length&&(m[v]=p[v].oldTags)}),t&&t(),c(e,y,m)},mx=null,Ite=e=>{mx&&cancelAnimationFrame(mx),e.defer?mx=requestAnimationFrame(()=>{L6(e,()=>{mx=null})}):(L6(e),mx=null)},Dte=Ite,I6=class extends S.Component{constructor(){super(...arguments);ur(this,"rendered",!1)}shouldComponentUpdate(t){return!yte(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:r}=this.props.context;let n=null;const i=_te(t.get().map(s=>{const o={...s.props};return delete o.context,o}));yB.canUseDOM?Dte(i):YP&&(n=YP(i)),r(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},tP,Rte=(tP=class extends S.Component{shouldComponentUpdate(e){return!pte(M6(this.props,"helmetData"),M6(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return E6(O6.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${O6.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),E6(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return se.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:i,...s}=n.props,o=Object.keys(s).reduce((c,u)=>(c[vte[u]||u]=s[u],c),{});let{type:l}=n;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(n,i),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(i,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,o,i);break;default:t=this.mapObjectTypeChildren(n,t,o,i);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof XP)){const i=n;n=new XP(i.context,!0),delete r.helmetData}return n?se.createElement(I6,{...r,context:n.value}):se.createElement(xB.Consumer,null,i=>se.createElement(I6,{...r,context:i}))}},ur(tP,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),tP);function Fte(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,i,s,o=[],l="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)r=i[0],r==="*"?(o.push(r),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~n?n:~s?s:i.length)),l+=~n&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(l+=(~n?"?":"")+"\\"+i.substring(s))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var vB={exports:{}},bB={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm=S;function $te(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bte=typeof Object.is=="function"?Object.is:$te,Ute=bm.useState,zte=bm.useEffect,Vte=bm.useLayoutEffect,qte=bm.useDebugValue;function Wte(e,t){var r=t(),n=Ute({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return Vte(function(){i.value=r,i.getSnapshot=t,fS(i)&&s({inst:i})},[e,r,t]),zte(function(){return fS(i)&&s({inst:i}),e(function(){fS(i)&&s({inst:i})})},[e]),qte(r),r}function fS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Bte(e,r)}catch{return!0}}function Hte(e,t){return t()}var Kte=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Hte:Wte;bB.useSyncExternalStore=bm.useSyncExternalStore!==void 0?bm.useSyncExternalStore:Kte;vB.exports=bB;var Gte=vB.exports;const Yte=l7.useInsertionEffect,Xte=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zte=Xte?S.useLayoutEffect:S.useEffect,Qte=Yte||Zte,wB=e=>{const t=S.useRef([e,(...r)=>t[0](...r)]).current;return Qte(()=>{t[0]=e}),t[1]},Jte="popstate",UC="pushState",zC="replaceState",ere="hashchange",D6=[Jte,UC,zC,ere],tre=e=>{for(const t of D6)addEventListener(t,e);return()=>{for(const t of D6)removeEventListener(t,e)}},jB=(e,t)=>Gte.useSyncExternalStore(tre,e,t),rre=()=>location.search,nre=({ssrSearch:e=""}={})=>jB(rre,()=>e),R6=()=>location.pathname,ire=({ssrPath:e}={})=>jB(R6,e?()=>e:R6),are=(e,{replace:t=!1,state:r=null}={})=>history[t?zC:UC](r,"",e),sre=(e={})=>[ire(e),are],F6=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[F6]>"u"){for(const e of[UC,zC]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,F6,{value:!0})}const ore=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",NB=(e="")=>e==="/"?"":e,lre=(e,t)=>e[0]==="~"?e.slice(1):NB(t)+e,cre=(e="",t)=>ore($6(NB(e)),$6(t)),$6=e=>{try{return decodeURI(e)}catch{return e}},SB={hook:sre,searchHook:nre,parser:Fte,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},_B=S.createContext(SB),iv=()=>S.useContext(_B),PB={},AB=S.createContext(PB),ure=()=>S.useContext(AB),kj=e=>{const[t,r]=e.hook(e);return[cre(e.base,t),wB((n,i)=>r(lre(n,e.base),i))]},Jt=()=>kj(iv()),kB=(e,t,r,n)=>{const{pattern:i,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=i.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},dre=({children:e,...t})=>{var d,f;const r=iv(),n=t.hook?SB:r;let i=n;const[s,o]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=s),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=S.useRef({}),c=l.current,u=c;for(let h in n){const p=h==="base"?n[h]+(t[h]||""):t[h]||n[h];c===u&&p!==u[h]&&(l.current=u={...u}),u[h]=p,p!==n[h]&&(i=u)}return S.createElement(_B.Provider,{value:i,children:e})},B6=({children:e,component:t},r)=>t?S.createElement(t,{params:r}):typeof e=="function"?e(r):e,fre=e=>{let t=S.useRef(PB),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},Ft=({path:e,nest:t,match:r,...n})=>{const i=iv(),[s]=kj(i),[o,l,c]=r??kB(i.parser,e,s,t),u=fre({...ure(),...l});if(!o)return null;const d=c?S.createElement(dre,{base:c},B6(n,u)):B6(n,u);return S.createElement(AB.Provider,{value:u,children:d})},_i=S.forwardRef((e,t)=>{const r=iv(),[n,i]=kj(r),{to:s="",href:o=s,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,...p}=e,y=wB(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(l==null||l(v),v.defaultPrevented||(v.preventDefault(),i(o,e)))}),m=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&S.isValidElement(u)?S.cloneElement(u,{onClick:y,href:m}):S.createElement("a",{...p,onClick:y,href:m,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),CB=e=>Array.isArray(e)?e.flatMap(t=>CB(t&&t.type===S.Fragment?t.props.children:t)):[e],hre=({children:e,location:t})=>{const r=iv(),[n]=kj(r);for(const i of CB(e)){let s=0;if(S.isValidElement(i)&&(s=kB(r.parser,i.props.path,t||n,i.props.nest))[0])return S.cloneElement(i,{match:s})}return null};var ug=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nh=typeof window>"u"||"Deno"in globalThis;function $s(){}function pre(e,t){return typeof e=="function"?e(t):e}function QP(e){return typeof e=="number"&&e>=0&&e!==1/0}function TB(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $p(e,t){return typeof e=="function"?e(t):e}function ko(e,t){return typeof e=="function"?e(t):e}function U6(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==VC(o,t.options))return!1}else if(!F0(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||s&&!s(t))}function z6(e,t){const{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(ih(t.options.mutationKey)!==ih(s))return!1}else if(!F0(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function VC(e,t){return((t==null?void 0:t.queryKeyHashFn)||ih)(e)}function ih(e){return JSON.stringify(e,(t,r)=>JP(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function F0(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!F0(e[r],t[r])):!1}function EB(e,t){if(e===t)return e;const r=V6(e)&&V6(t);if(r||JP(e)&&JP(t)){const n=r?e:Object.keys(e),i=n.length,s=r?t:Object.keys(t),o=s.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:s[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=EB(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return i===o&&c===i?e:l}return t}function Nw(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function V6(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function JP(e){if(!q6(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!q6(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function q6(e){return Object.prototype.toString.call(e)==="[object Object]"}function mre(e){return new Promise(t=>{setTimeout(t,e)})}function eA(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?EB(e,t):t}function gre(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function xre(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var qC=Symbol();function OB(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===qC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ff,$u,em,z$,yre=(z$=class extends ug{constructor(){super();Mt(this,Ff);Mt(this,$u);Mt(this,em);ct(this,em,t=>{if(!nh&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){he(this,$u)||this.setEventListener(he(this,em))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,$u))==null||t.call(this),ct(this,$u,void 0))}setEventListener(t){var r;ct(this,em,t),(r=he(this,$u))==null||r.call(this),ct(this,$u,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){he(this,Ff)!==t&&(ct(this,Ff,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof he(this,Ff)=="boolean"?he(this,Ff):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ff=new WeakMap,$u=new WeakMap,em=new WeakMap,z$),WC=new yre,tm,Bu,rm,V$,vre=(V$=class extends ug{constructor(){super();Mt(this,tm,!0);Mt(this,Bu);Mt(this,rm);ct(this,rm,t=>{if(!nh&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){he(this,Bu)||this.setEventListener(he(this,rm))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,Bu))==null||t.call(this),ct(this,Bu,void 0))}setEventListener(t){var r;ct(this,rm,t),(r=he(this,Bu))==null||r.call(this),ct(this,Bu,t(this.setOnline.bind(this)))}setOnline(t){he(this,tm)!==t&&(ct(this,tm,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return he(this,tm)}},tm=new WeakMap,Bu=new WeakMap,rm=new WeakMap,V$),Sw=new vre;function tA(){let e,t;const r=new Promise((i,s)=>{e=i,t=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function bre(e){return Math.min(1e3*2**e,3e4)}function MB(e){return(e??"online")==="online"?Sw.isOnline():!0}var LB=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function hS(e){return e instanceof LB}function IB(e){let t=!1,r=0,n=!1,i;const s=tA(),o=m=>{var v;n||(h(new LB(m)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>WC.isFocused()&&(e.networkMode==="always"||Sw.isOnline())&&e.canRun(),d=()=>MB(e.networkMode)&&e.canRun(),f=m=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,m),i==null||i(),s.resolve(m))},h=m=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,m),i==null||i(),s.reject(m))},p=()=>new Promise(m=>{var v;i=g=>{(n||u())&&m(g)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;i=void 0,n||(m=e.onContinue)==null||m.call(e)}),y=()=>{if(n)return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(f).catch(g=>{var P;if(n)return;const x=e.retry??(nh?0:3),w=e.retryDelay??bre,j=typeof w=="function"?w(r,g):w,N=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,g);if(t||!N){h(g);return}r++,(P=e.onFail)==null||P.call(e,r,g),mre(j).then(()=>u()?void 0:p()).then(()=>{t?h(g):y()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),s)}}function wre(){let e=[],t=0,r=l=>{l()},n=l=>{l()},i=l=>setTimeout(l,0);const s=l=>{t?e.push(l):i(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var mi=wre(),$f,q$,DB=(q$=class{constructor(){Mt(this,$f)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),QP(this.gcTime)&&ct(this,$f,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(nh?1/0:5*60*1e3))}clearGcTimeout(){he(this,$f)&&(clearTimeout(he(this,$f)),ct(this,$f,void 0))}},$f=new WeakMap,q$),nm,im,Fs,Qi,Yy,Bf,jo,hc,W$,jre=(W$=class extends DB{constructor(t){super();Mt(this,jo);Mt(this,nm);Mt(this,im);Mt(this,Fs);Mt(this,Qi);Mt(this,Yy);Mt(this,Bf);ct(this,Bf,!1),ct(this,Yy,t.defaultOptions),this.setOptions(t.options),this.observers=[],ct(this,Fs,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ct(this,nm,Nre(this.options)),this.state=t.state??he(this,nm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=he(this,Qi))==null?void 0:t.promise}setOptions(t){this.options={...he(this,Yy),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&he(this,Fs).remove(this)}setData(t,r){const n=eA(this.state.data,t,this.options);return sr(this,jo,hc).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){sr(this,jo,hc).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=he(this,Qi))==null?void 0:n.promise;return(i=he(this,Qi))==null||i.cancel(t),r?r.then($s).catch($s):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(he(this,nm))}isActive(){return this.observers.some(t=>ko(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!TB(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=he(this,Qi))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=he(this,Qi))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),he(this,Fs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(he(this,Qi)&&(he(this,Bf)?he(this,Qi).cancel({revert:!0}):he(this,Qi).cancelRetry()),this.scheduleGc()),he(this,Fs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||sr(this,jo,hc).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(he(this,Qi))return he(this,Qi).continueRetry(),he(this,Qi).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ct(this,Bf,!0),n.signal)})},s=()=>{const f=OB(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return i(h),ct(this,Bf,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),ct(this,im,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&sr(this,jo,hc).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,p,y,m;hS(f)&&f.silent||sr(this,jo,hc).call(this,{type:"error",error:f}),hS(f)||((p=(h=he(this,Fs).config).onError)==null||p.call(h,f,this),(m=(y=he(this,Fs).config).onSettled)==null||m.call(y,this.state.data,f,this)),this.scheduleGc()};return ct(this,Qi,IB({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,p,y,m;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){l(v);return}(p=(h=he(this,Fs).config).onSuccess)==null||p.call(h,f,this),(m=(y=he(this,Fs).config).onSettled)==null||m.call(y,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{sr(this,jo,hc).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{sr(this,jo,hc).call(this,{type:"pause"})},onContinue:()=>{sr(this,jo,hc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),he(this,Qi).start()}},nm=new WeakMap,im=new WeakMap,Fs=new WeakMap,Qi=new WeakMap,Yy=new WeakMap,Bf=new WeakMap,jo=new WeakSet,hc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...RB(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return hS(i)&&i.revert&&he(this,im)?{...he(this,im),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),mi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),he(this,Fs).notify({query:this,type:"updated",action:t})})},W$);function RB(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:MB(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Nre(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var fl,H$,Sre=(H$=class extends ug{constructor(t={}){super();Mt(this,fl);this.config=t,ct(this,fl,new Map)}build(t,r,n){const i=r.queryKey,s=r.queryHash??VC(i,r);let o=this.get(s);return o||(o=new jre({cache:this,queryKey:i,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){he(this,fl).has(t.queryHash)||(he(this,fl).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=he(this,fl).get(t.queryHash);r&&(t.destroy(),r===t&&he(this,fl).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){mi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return he(this,fl).get(t)}getAll(){return[...he(this,fl).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>U6(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>U6(t,n)):r}notify(t){mi.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){mi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){mi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},fl=new WeakMap,H$),hl,ha,Uf,pl,ku,K$,_re=(K$=class extends DB{constructor(t){super();Mt(this,pl);Mt(this,hl);Mt(this,ha);Mt(this,Uf);this.mutationId=t.mutationId,ct(this,ha,t.mutationCache),ct(this,hl,[]),this.state=t.state||FB(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){he(this,hl).includes(t)||(he(this,hl).push(t),this.clearGcTimeout(),he(this,ha).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ct(this,hl,he(this,hl).filter(r=>r!==t)),this.scheduleGc(),he(this,ha).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){he(this,hl).length||(this.state.status==="pending"?this.scheduleGc():he(this,ha).remove(this))}continue(){var t;return((t=he(this,Uf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,o,l,c,u,d,f,h,p,y,m,v,g,x,w,j,N,P,k;ct(this,Uf,IB({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,O)=>{sr(this,pl,ku).call(this,{type:"failed",failureCount:C,error:O})},onPause:()=>{sr(this,pl,ku).call(this,{type:"pause"})},onContinue:()=>{sr(this,pl,ku).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>he(this,ha).canRun(this)}));const r=this.state.status==="pending",n=!he(this,Uf).canStart();try{if(!r){sr(this,pl,ku).call(this,{type:"pending",variables:t,isPaused:n}),await((s=(i=he(this,ha).config).onMutate)==null?void 0:s.call(i,t,this));const O=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));O!==this.state.context&&sr(this,pl,ku).call(this,{type:"pending",context:O,variables:t,isPaused:n})}const C=await he(this,Uf).start();return await((u=(c=he(this,ha).config).onSuccess)==null?void 0:u.call(c,C,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,C,t,this.state.context)),await((p=(h=he(this,ha).config).onSettled)==null?void 0:p.call(h,C,null,this.state.variables,this.state.context,this)),await((m=(y=this.options).onSettled)==null?void 0:m.call(y,C,null,t,this.state.context)),sr(this,pl,ku).call(this,{type:"success",data:C}),C}catch(C){try{throw await((g=(v=he(this,ha).config).onError)==null?void 0:g.call(v,C,t,this.state.context,this)),await((w=(x=this.options).onError)==null?void 0:w.call(x,C,t,this.state.context)),await((N=(j=he(this,ha).config).onSettled)==null?void 0:N.call(j,void 0,C,this.state.variables,this.state.context,this)),await((k=(P=this.options).onSettled)==null?void 0:k.call(P,void 0,C,t,this.state.context)),C}finally{sr(this,pl,ku).call(this,{type:"error",error:C})}}finally{he(this,ha).runNext(this)}}},hl=new WeakMap,ha=new WeakMap,Uf=new WeakMap,pl=new WeakSet,ku=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),mi.batch(()=>{he(this,hl).forEach(n=>{n.onMutationUpdate(t)}),he(this,ha).notify({mutation:this,type:"updated",action:t})})},K$);function FB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ts,Xy,G$,Pre=(G$=class extends ug{constructor(t={}){super();Mt(this,ts);Mt(this,Xy);this.config=t,ct(this,ts,new Map),ct(this,Xy,Date.now())}build(t,r,n){const i=new _re({mutationCache:this,mutationId:++xb(this,Xy)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){const r=Rb(t),n=he(this,ts).get(r)??[];n.push(t),he(this,ts).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Rb(t);if(he(this,ts).has(r)){const i=(n=he(this,ts).get(r))==null?void 0:n.filter(s=>s!==t);i&&(i.length===0?he(this,ts).delete(r):he(this,ts).set(r,i))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=he(this,ts).get(Rb(t)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=he(this,ts).get(Rb(t)))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){mi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...he(this,ts).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>z6(r,n))}findAll(t={}){return this.getAll().filter(r=>z6(t,r))}notify(t){mi.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return mi.batch(()=>Promise.all(t.map(r=>r.continue().catch($s))))}},ts=new WeakMap,Xy=new WeakMap,G$);function Rb(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function W6(e){return{onFetch:(t,r)=>{var d,f,h,p,y;const n=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=t.state.data)==null?void 0:p.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},g=OB(t.options,t.fetchOptions),x=async(w,j,N)=>{if(m)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const P={queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};v(P);const k=await g(P),{maxPages:C}=t.options,O=N?xre:gre;return{pages:O(w.pages,k,C),pageParams:O(w.pageParams,j,C)}};if(i&&s.length){const w=i==="backward",j=w?Are:H6,N={pages:s,pageParams:o},P=j(n,N);l=await x(N,P,w)}else{const w=e??s.length;do{const j=c===0?o[0]??n.initialPageParam:H6(n,l);if(c>0&&j==null)break;l=await x(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function H6(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Are(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var On,Uu,zu,am,sm,Vu,om,lm,Y$,kre=(Y$=class{constructor(e={}){Mt(this,On);Mt(this,Uu);Mt(this,zu);Mt(this,am);Mt(this,sm);Mt(this,Vu);Mt(this,om);Mt(this,lm);ct(this,On,e.queryCache||new Sre),ct(this,Uu,e.mutationCache||new Pre),ct(this,zu,e.defaultOptions||{}),ct(this,am,new Map),ct(this,sm,new Map),ct(this,Vu,0)}mount(){xb(this,Vu)._++,he(this,Vu)===1&&(ct(this,om,WC.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,On).onFocus())})),ct(this,lm,Sw.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,On).onOnline())})))}unmount(){var e,t;xb(this,Vu)._--,he(this,Vu)===0&&((e=he(this,om))==null||e.call(this),ct(this,om,void 0),(t=he(this,lm))==null||t.call(this),ct(this,lm,void 0))}isFetching(e){return he(this,On).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return he(this,Uu).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=he(this,On).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=he(this,On).build(this,r);return e.revalidateIfStale&&n.isStaleByTime($p(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return he(this,On).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=he(this,On).get(n.queryHash),s=i==null?void 0:i.state.data,o=pre(t,s);if(o!==void 0)return he(this,On).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return mi.batch(()=>he(this,On).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=he(this,On).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=he(this,On);mi.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=he(this,On),n={type:"active",...e};return mi.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=mi.batch(()=>he(this,On).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then($s).catch($s)}invalidateQueries(e={},t={}){return mi.batch(()=>{if(he(this,On).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=mi.batch(()=>he(this,On).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch($s)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then($s)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=he(this,On).build(this,t);return r.isStaleByTime($p(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($s).catch($s)}fetchInfiniteQuery(e){return e.behavior=W6(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($s).catch($s)}ensureInfiniteQueryData(e){return e.behavior=W6(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Sw.isOnline()?he(this,Uu).resumePausedMutations():Promise.resolve()}getQueryCache(){return he(this,On)}getMutationCache(){return he(this,Uu)}getDefaultOptions(){return he(this,zu)}setDefaultOptions(e){ct(this,zu,e)}setQueryDefaults(e,t){he(this,am).set(ih(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...he(this,am).values()];let r={};return t.forEach(n=>{F0(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){he(this,sm).set(ih(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...he(this,sm).values()];let r={};return t.forEach(n=>{F0(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...he(this,zu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=VC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===qC&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...he(this,zu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){he(this,On).clear(),he(this,Uu).clear()}},On=new WeakMap,Uu=new WeakMap,zu=new WeakMap,am=new WeakMap,sm=new WeakMap,Vu=new WeakMap,om=new WeakMap,lm=new WeakMap,Y$),ka,gr,Zy,pa,zf,cm,qu,ml,Qy,um,dm,Vf,qf,Wu,fm,Fr,Ux,rA,nA,iA,aA,sA,oA,lA,$B,X$,Cre=(X$=class extends ug{constructor(t,r){super();Mt(this,Fr);Mt(this,ka);Mt(this,gr);Mt(this,Zy);Mt(this,pa);Mt(this,zf);Mt(this,cm);Mt(this,qu);Mt(this,ml);Mt(this,Qy);Mt(this,um);Mt(this,dm);Mt(this,Vf);Mt(this,qf);Mt(this,Wu);Mt(this,fm,new Set);this.options=r,ct(this,ka,t),ct(this,ml,null),ct(this,qu,tA()),this.options.experimental_prefetchInRender||he(this,qu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(he(this,gr).addObserver(this),K6(he(this,gr),this.options)?sr(this,Fr,Ux).call(this):this.updateResult(),sr(this,Fr,aA).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cA(he(this,gr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cA(he(this,gr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,sr(this,Fr,sA).call(this),sr(this,Fr,oA).call(this),he(this,gr).removeObserver(this)}setOptions(t,r){const n=this.options,i=he(this,gr);if(this.options=he(this,ka).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ko(this.options.enabled,he(this,gr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");sr(this,Fr,lA).call(this),he(this,gr).setOptions(this.options),n._defaulted&&!Nw(this.options,n)&&he(this,ka).getQueryCache().notify({type:"observerOptionsUpdated",query:he(this,gr),observer:this});const s=this.hasListeners();s&&G6(he(this,gr),i,this.options,n)&&sr(this,Fr,Ux).call(this),this.updateResult(r),s&&(he(this,gr)!==i||ko(this.options.enabled,he(this,gr))!==ko(n.enabled,he(this,gr))||$p(this.options.staleTime,he(this,gr))!==$p(n.staleTime,he(this,gr)))&&sr(this,Fr,rA).call(this);const o=sr(this,Fr,nA).call(this);s&&(he(this,gr)!==i||ko(this.options.enabled,he(this,gr))!==ko(n.enabled,he(this,gr))||o!==he(this,Wu))&&sr(this,Fr,iA).call(this,o)}getOptimisticResult(t){const r=he(this,ka).getQueryCache().build(he(this,ka),t),n=this.createResult(r,t);return Ere(this,n)&&(ct(this,pa,n),ct(this,cm,this.options),ct(this,zf,he(this,gr).state)),n}getCurrentResult(){return he(this,pa)}trackResult(t,r){const n={};return Object.keys(t).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),t[i])})}),n}trackProp(t){he(this,fm).add(t)}getCurrentQuery(){return he(this,gr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=he(this,ka).defaultQueryOptions(t),n=he(this,ka).getQueryCache().build(he(this,ka),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return sr(this,Fr,Ux).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),he(this,pa)))}createResult(t,r){var C;const n=he(this,gr),i=this.options,s=he(this,pa),o=he(this,zf),l=he(this,cm),u=t!==n?t.state:he(this,Zy),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const O=this.hasListeners(),I=!O&&K6(t,r),E=O&&G6(t,n,r,i);(I||E)&&(f={...f,...RB(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:m,status:v}=f;if(r.select&&f.data!==void 0)if(s&&f.data===(o==null?void 0:o.data)&&r.select===he(this,Qy))p=he(this,um);else try{ct(this,Qy,r.select),p=r.select(f.data),p=eA(s==null?void 0:s.data,p,r),ct(this,um,p),ct(this,ml,null)}catch(O){ct(this,ml,O)}else p=f.data;if(r.placeholderData!==void 0&&p===void 0&&v==="pending"){let O;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))O=s.data;else if(O=typeof r.placeholderData=="function"?r.placeholderData((C=he(this,dm))==null?void 0:C.state.data,he(this,dm)):r.placeholderData,r.select&&O!==void 0)try{O=r.select(O),ct(this,ml,null)}catch(I){ct(this,ml,I)}O!==void 0&&(v="success",p=eA(s==null?void 0:s.data,O,r),h=!0)}he(this,ml)&&(y=he(this,ml),p=he(this,um),m=Date.now(),v="error");const g=f.fetchStatus==="fetching",x=v==="pending",w=v==="error",j=x&&g,N=p!==void 0,k={status:v,fetchStatus:f.fetchStatus,isPending:x,isSuccess:v==="success",isError:w,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!x,isLoadingError:w&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&N,isStale:HC(t,r),refetch:this.refetch,promise:he(this,qu)};if(this.options.experimental_prefetchInRender){const O=A=>{k.status==="error"?A.reject(k.error):k.data!==void 0&&A.resolve(k.data)},I=()=>{const A=ct(this,qu,k.promise=tA());O(A)},E=he(this,qu);switch(E.status){case"pending":t.queryHash===n.queryHash&&O(E);break;case"fulfilled":(k.status==="error"||k.data!==E.value)&&I();break;case"rejected":(k.status!=="error"||k.error!==E.reason)&&I();break}}return k}updateResult(t){const r=he(this,pa),n=this.createResult(he(this,gr),this.options);if(ct(this,zf,he(this,gr).state),ct(this,cm,this.options),he(this,zf).data!==void 0&&ct(this,dm,he(this,gr)),Nw(n,r))return;ct(this,pa,n);const i={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!he(this,fm).size)return!0;const c=new Set(l??he(this,fm));return this.options.throwOnError&&c.add("error"),Object.keys(he(this,pa)).some(u=>{const d=u;return he(this,pa)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&s()&&(i.listeners=!0),sr(this,Fr,$B).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&sr(this,Fr,aA).call(this)}},ka=new WeakMap,gr=new WeakMap,Zy=new WeakMap,pa=new WeakMap,zf=new WeakMap,cm=new WeakMap,qu=new WeakMap,ml=new WeakMap,Qy=new WeakMap,um=new WeakMap,dm=new WeakMap,Vf=new WeakMap,qf=new WeakMap,Wu=new WeakMap,fm=new WeakMap,Fr=new WeakSet,Ux=function(t){sr(this,Fr,lA).call(this);let r=he(this,gr).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch($s)),r},rA=function(){sr(this,Fr,sA).call(this);const t=$p(this.options.staleTime,he(this,gr));if(nh||he(this,pa).isStale||!QP(t))return;const n=TB(he(this,pa).dataUpdatedAt,t)+1;ct(this,Vf,setTimeout(()=>{he(this,pa).isStale||this.updateResult()},n))},nA=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(he(this,gr)):this.options.refetchInterval)??!1},iA=function(t){sr(this,Fr,oA).call(this),ct(this,Wu,t),!(nh||ko(this.options.enabled,he(this,gr))===!1||!QP(he(this,Wu))||he(this,Wu)===0)&&ct(this,qf,setInterval(()=>{(this.options.refetchIntervalInBackground||WC.isFocused())&&sr(this,Fr,Ux).call(this)},he(this,Wu)))},aA=function(){sr(this,Fr,rA).call(this),sr(this,Fr,iA).call(this,sr(this,Fr,nA).call(this))},sA=function(){he(this,Vf)&&(clearTimeout(he(this,Vf)),ct(this,Vf,void 0))},oA=function(){he(this,qf)&&(clearInterval(he(this,qf)),ct(this,qf,void 0))},lA=function(){const t=he(this,ka).getQueryCache().build(he(this,ka),this.options);if(t===he(this,gr))return;const r=he(this,gr);ct(this,gr,t),ct(this,Zy,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},$B=function(t){mi.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(he(this,pa))}),he(this,ka).getQueryCache().notify({query:he(this,gr),type:"observerResultsUpdated"})})},X$);function Tre(e,t){return ko(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function K6(e,t){return Tre(e,t)||e.state.data!==void 0&&cA(e,t,t.refetchOnMount)}function cA(e,t,r){if(ko(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&HC(e,t)}return!1}function G6(e,t,r,n){return(e!==t||ko(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&HC(e,r)}function HC(e,t){return ko(t.enabled,e)!==!1&&e.isStaleByTime($p(t.staleTime,e))}function Ere(e,t){return!Nw(e.getCurrentResult(),t)}var Hu,Ku,Ca,bc,Rc,L1,uA,Z$,Ore=(Z$=class extends ug{constructor(r,n){super();Mt(this,Rc);Mt(this,Hu);Mt(this,Ku);Mt(this,Ca);Mt(this,bc);ct(this,Hu,r),this.setOptions(n),this.bindMethods(),sr(this,Rc,L1).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=he(this,Hu).defaultMutationOptions(r),Nw(this.options,n)||he(this,Hu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:he(this,Ca),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ih(n.mutationKey)!==ih(this.options.mutationKey)?this.reset():((i=he(this,Ca))==null?void 0:i.state.status)==="pending"&&he(this,Ca).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=he(this,Ca))==null||r.removeObserver(this)}onMutationUpdate(r){sr(this,Rc,L1).call(this),sr(this,Rc,uA).call(this,r)}getCurrentResult(){return he(this,Ku)}reset(){var r;(r=he(this,Ca))==null||r.removeObserver(this),ct(this,Ca,void 0),sr(this,Rc,L1).call(this),sr(this,Rc,uA).call(this)}mutate(r,n){var i;return ct(this,bc,n),(i=he(this,Ca))==null||i.removeObserver(this),ct(this,Ca,he(this,Hu).getMutationCache().build(he(this,Hu),this.options)),he(this,Ca).addObserver(this),he(this,Ca).execute(r)}},Hu=new WeakMap,Ku=new WeakMap,Ca=new WeakMap,bc=new WeakMap,Rc=new WeakSet,L1=function(){var n;const r=((n=he(this,Ca))==null?void 0:n.state)??FB();ct(this,Ku,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},uA=function(r){mi.batch(()=>{var n,i,s,o,l,c,u,d;if(he(this,bc)&&this.hasListeners()){const f=he(this,Ku).variables,h=he(this,Ku).context;(r==null?void 0:r.type)==="success"?((i=(n=he(this,bc)).onSuccess)==null||i.call(n,r.data,f,h),(o=(s=he(this,bc)).onSettled)==null||o.call(s,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=he(this,bc)).onError)==null||c.call(l,r.error,f,h),(d=(u=he(this,bc)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(he(this,Ku))})})},Z$),BB=S.createContext(void 0),Jr=e=>{const t=S.useContext(BB);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Mre=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(BB.Provider,{value:e,children:t})),UB=S.createContext(!1),Lre=()=>S.useContext(UB);UB.Provider;function Ire(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Dre=S.createContext(Ire()),Rre=()=>S.useContext(Dre);function zB(e,t){return typeof e=="function"?e(...t):!!e}function dA(){}var Fre=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},$re=e=>{S.useEffect(()=>{e.clearReset()},[e])},Bre=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&zB(r,[e.error,n]),Ure=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},zre=(e,t)=>e.isLoading&&e.isFetching&&!t,Vre=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Y6=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function qre(e,t,r){var d,f,h,p,y;const n=Jr(),i=Lre(),s=Rre(),o=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=i?"isRestoring":"optimistic",Ure(o),Fre(o,s),$re(s);const l=!n.getQueryCache().get(o.queryHash),[c]=S.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(S.useSyncExternalStore(S.useCallback(m=>{const v=i?dA:c.subscribe(mi.batchCalls(m));return c.updateResult(),v},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),S.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),Vre(o,u))throw Y6(o,c,s);if(Bre({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((p=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,u),o.experimental_prefetchInRender&&!nh&&zre(u,i)){const m=l?Y6(o,c,s):(y=n.getQueryCache().get(o.queryHash))==null?void 0:y.promise;m==null||m.catch(dA).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Xt(e,t){return qre(e,Cre)}function kt(e,t){const r=Jr(),[n]=S.useState(()=>new Ore(r,e));S.useEffect(()=>{n.setOptions(e)},[n,e]);const i=S.useSyncExternalStore(S.useCallback(o=>n.subscribe(mi.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=S.useCallback((o,l)=>{n.mutate(o,l).catch(dA)},[n]);if(i.error&&zB(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function VB(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function qe(e,t,r){const n=await fetch(t,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await VB(n),n}const Wre=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await VB(r),await r.json())},Hre=new kre({defaultOptions:{queries:{queryFn:Wre({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Kre=1,Gre=1e6;let pS=0;function Yre(){return pS=(pS+1)%Number.MAX_SAFE_INTEGER,pS.toString()}const mS=new Map,X6=e=>{if(mS.has(e))return;const t=setTimeout(()=>{mS.delete(e),a0({type:"REMOVE_TOAST",toastId:e})},Gre);mS.set(e,t)},Xre=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Kre)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?X6(r):e.toasts.forEach(n=>{X6(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},I1=[];let D1={toasts:[]};function a0(e){D1=Xre(D1,e),I1.forEach(t=>{t(D1)})}function Zre({...e}){const t=Yre(),r=i=>a0({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>a0({type:"DISMISS_TOAST",toastId:t});return a0({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function Et(){const[e,t]=S.useState(D1);return S.useEffect(()=>(I1.push(t),()=>{const r=I1.indexOf(t);r>-1&&I1.splice(r,1)}),[e]),{...e,toast:Zre,dismiss:r=>a0({type:"DISMISS_TOAST",toastId:r})}}function jt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Z6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function qB(...e){return t=>{let r=!1;const n=e.map(i=>{const s=Z6(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():Z6(e[i],null)}}}}function br(...e){return S.useCallback(qB(...e),e)}function Qre(e,t){const r=S.createContext(t),n=s=>{const{children:o,...l}=s,c=S.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function i(s){const o=S.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,i]}function js(e,t=[]){let r=[];function n(s,o){const l=S.createContext(o),c=r.length;r=[...r,o];const u=f=>{var g;const{scope:h,children:p,...y}=f,m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,v=S.useMemo(()=>y,Object.values(y));return a.jsx(m.Provider,{value:v,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=S.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(o=>S.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return S.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,Jre(i,...t)]}function Jre(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function wm(e){const t=ene(e),r=S.forwardRef((n,i)=>{const{children:s,...o}=n,l=S.Children.toArray(s),c=l.find(rne);if(c){const u=c.props.children,d=l.map(f=>f===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:i,children:S.isValidElement(u)?S.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}var WB=wm("Slot");function ene(e){const t=S.forwardRef((r,n)=>{const{children:i,...s}=r;if(S.isValidElement(i)){const o=ine(i),l=nne(s,i.props);return i.type!==S.Fragment&&(l.ref=n?qB(n,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HB=Symbol("radix.slottable");function tne(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=HB,t}function rne(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HB}function nne(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{s(...l),i(...l)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function ine(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Cj(e){const t=e+"CollectionProvider",[r,n]=js(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:g}=m,x=se.useRef(null),w=se.useRef(new Map).current;return a.jsx(i,{scope:v,itemMap:w,collectionRef:x,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=wm(l),u=se.forwardRef((m,v)=>{const{scope:g,children:x}=m,w=s(l,g),j=br(v,w.collectionRef);return a.jsx(c,{ref:j,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=wm(d),p=se.forwardRef((m,v)=>{const{scope:g,children:x,...w}=m,j=se.useRef(null),N=br(v,j),P=s(d,g);return se.useEffect(()=>(P.itemMap.set(j,{ref:j,...w}),()=>void P.itemMap.delete(j))),a.jsx(h,{[f]:"",ref:N,children:x})});p.displayName=d;function y(m){const v=s(e+"CollectionConsumer",m);return se.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((P,k)=>w.indexOf(P.ref.current)-w.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},y,n]}var ane=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Tt=ane.reduce((e,t)=>{const r=wm(`Primitive.${t}`),n=S.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function KB(e,t){e&&Nh.flushSync(()=>e.dispatchEvent(t))}function Yn(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function sne(e,t=globalThis==null?void 0:globalThis.document){const r=Yn(e);S.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var one="DismissableLayer",fA="dismissableLayer.update",lne="dismissableLayer.pointerDownOutside",cne="dismissableLayer.focusOutside",Q6,GB=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),av=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=S.useContext(GB),[d,f]=S.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=S.useState({}),y=br(t,k=>f(k)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(v),x=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=x>=g,N=dne(k=>{const C=k.target,O=[...u.branches].some(I=>I.contains(C));!j||O||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},h),P=fne(k=>{const C=k.target;[...u.branches].some(I=>I.contains(C))||(s==null||s(k),o==null||o(k),k.defaultPrevented||l==null||l())},h);return sne(k=>{x===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),S.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Q6=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),J6(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Q6)}},[d,h,r,u]),S.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),J6())},[d,u]),S.useEffect(()=>{const k=()=>p({});return document.addEventListener(fA,k),()=>document.removeEventListener(fA,k)},[]),a.jsx(Tt.div,{...c,ref:y,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:jt(e.onFocusCapture,P.onFocusCapture),onBlurCapture:jt(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:jt(e.onPointerDownCapture,N.onPointerDownCapture)})});av.displayName=one;var une="DismissableLayerBranch",YB=S.forwardRef((e,t)=>{const r=S.useContext(GB),n=S.useRef(null),i=br(t,n);return S.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Tt.div,{...e,ref:i})});YB.displayName=une;function dne(e,t=globalThis==null?void 0:globalThis.document){const r=Yn(e),n=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){XB(lne,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function fne(e,t=globalThis==null?void 0:globalThis.document){const r=Yn(e),n=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!n.current&&XB(cne,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function J6(){const e=new CustomEvent(fA);document.dispatchEvent(e)}function XB(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?KB(i,s):i.dispatchEvent(s)}var hne=av,pne=YB,Pi=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},mne="Portal",Tj=S.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[i,s]=S.useState(!1);Pi(()=>s(!0),[]);const o=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?lte.createPortal(a.jsx(Tt.div,{...n,ref:t}),o):null});Tj.displayName=mne;function gne(e,t){return S.useReducer((r,n)=>t[r][n]??r,e)}var io=e=>{const{present:t,children:r}=e,n=xne(t),i=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),s=br(n.ref,yne(i));return typeof r=="function"||n.isPresent?S.cloneElement(i,{ref:s}):null};io.displayName="Presence";function xne(e){const[t,r]=S.useState(),n=S.useRef({}),i=S.useRef(e),s=S.useRef("none"),o=e?"mounted":"unmounted",[l,c]=gne(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=Fb(n.current);s.current=l==="mounted"?u:"none"},[l]),Pi(()=>{const u=n.current,d=i.current;if(d!==e){const h=s.current,p=Fb(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Pi(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Fb(n.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(s.current=Fb(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:S.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Fb(e){return(e==null?void 0:e.animationName)||"none"}function yne(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Rl({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=vne({defaultProp:t,onChange:r}),s=e!==void 0,o=s?e:n,l=Yn(r),c=S.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else i(u)},[s,e,i,l]);return[o,c]}function vne({defaultProp:e,onChange:t}){const r=S.useState(e),[n]=r,i=S.useRef(n),s=Yn(t);return S.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}var bne="VisuallyHidden",sv=S.forwardRef((e,t)=>a.jsx(Tt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));sv.displayName=bne;var wne=sv,KC="ToastProvider",[GC,jne,Nne]=Cj("Toast"),[ZB,sUe]=js("Toast",[Nne]),[Sne,Ej]=ZB(KC),QB=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=e,[l,c]=S.useState(null),[u,d]=S.useState(0),f=S.useRef(!1),h=S.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${KC}\`. Expected non-empty \`string\`.`),a.jsx(GC.Provider,{scope:t,children:a.jsx(Sne,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:S.useCallback(()=>d(p=>p+1),[]),onToastRemove:S.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};QB.displayName=KC;var JB="ToastViewport",_ne=["F8"],hA="toast.viewportPause",pA="toast.viewportResume",eU=S.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=_ne,label:i="Notifications ({hotkey})",...s}=e,o=Ej(JB,r),l=jne(r),c=S.useRef(null),u=S.useRef(null),d=S.useRef(null),f=S.useRef(null),h=br(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;S.useEffect(()=>{const v=g=>{var w;n.length!==0&&n.every(j=>g[j]||g.code===j)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),S.useEffect(()=>{const v=c.current,g=f.current;if(y&&v&&g){const x=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(hA);g.dispatchEvent(P),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(pA);g.dispatchEvent(P),o.isClosePausedRef.current=!1}},j=P=>{!v.contains(P.relatedTarget)&&w()},N=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",x),v.addEventListener("focusout",j),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",N),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[y,o.isClosePausedRef]);const m=S.useCallback(({tabbingDirection:v})=>{const x=l().map(w=>{const j=w.ref.current,N=[j,...Fne(j)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?x.reverse():x).flat()},[l]);return S.useEffect(()=>{const v=f.current;if(v){const g=x=>{var N,P,k;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const C=document.activeElement,O=x.shiftKey;if(x.target===v&&O){(N=u.current)==null||N.focus();return}const A=m({tabbingDirection:O?"backwards":"forwards"}),D=A.findIndex(R=>R===C);gS(A.slice(D+1))?x.preventDefault():O?(P=u.current)==null||P.focus():(k=d.current)==null||k.focus()}};return v.addEventListener("keydown",g),()=>v.removeEventListener("keydown",g)}},[l,m]),a.jsxs(pne,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&a.jsx(mA,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});gS(v)}}),a.jsx(GC.Slot,{scope:r,children:a.jsx(Tt.ol,{tabIndex:-1,...s,ref:h})}),y&&a.jsx(mA,{ref:d,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});gS(v)}})]})});eU.displayName=JB;var tU="ToastFocusProxy",mA=S.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,s=Ej(tU,r);return a.jsx(sv,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&n()}})});mA.displayName=tU;var Oj="Toast",Pne="toast.swipeStart",Ane="toast.swipeMove",kne="toast.swipeCancel",Cne="toast.swipeEnd",rU=S.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...o}=e,[l=!0,c]=Rl({prop:n,defaultProp:i,onChange:s});return a.jsx(io,{present:r||l,children:a.jsx(One,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Yn(e.onPause),onResume:Yn(e.onResume),onSwipeStart:jt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:jt(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:jt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:jt(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});rU.displayName=Oj;var[Tne,Ene]=ZB(Oj,{onClose(){}}),One=S.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...y}=e,m=Ej(Oj,r),[v,g]=S.useState(null),x=br(t,R=>g(R)),w=S.useRef(null),j=S.useRef(null),N=i||m.duration,P=S.useRef(0),k=S.useRef(N),C=S.useRef(0),{onToastAdd:O,onToastRemove:I}=m,E=Yn(()=>{var G;(v==null?void 0:v.contains(document.activeElement))&&((G=m.viewport)==null||G.focus()),o()}),A=S.useCallback(R=>{!R||R===1/0||(window.clearTimeout(C.current),P.current=new Date().getTime(),C.current=window.setTimeout(E,R))},[E]);S.useEffect(()=>{const R=m.viewport;if(R){const G=()=>{A(k.current),u==null||u()},F=()=>{const q=new Date().getTime()-P.current;k.current=k.current-q,window.clearTimeout(C.current),c==null||c()};return R.addEventListener(hA,F),R.addEventListener(pA,G),()=>{R.removeEventListener(hA,F),R.removeEventListener(pA,G)}}},[m.viewport,N,c,u,A]),S.useEffect(()=>{s&&!m.isClosePausedRef.current&&A(N)},[s,N,m.isClosePausedRef,A]),S.useEffect(()=>(O(),()=>I()),[O,I]);const D=S.useMemo(()=>v?cU(v):null,[v]);return m.viewport?a.jsxs(a.Fragment,{children:[D&&a.jsx(Mne,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),a.jsx(Tne,{scope:r,onClose:E,children:Nh.createPortal(a.jsx(GC.ItemSlot,{scope:r,children:a.jsx(hne,{asChild:!0,onEscapeKeyDown:jt(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||E(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Tt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:jt(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:jt(e.onPointerDown,R=>{R.button===0&&(w.current={x:R.clientX,y:R.clientY})}),onPointerMove:jt(e.onPointerMove,R=>{if(!w.current)return;const G=R.clientX-w.current.x,F=R.clientY-w.current.y,q=!!j.current,B=["left","right"].includes(m.swipeDirection),Z=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,le=B?Z(0,G):0,fe=B?0:Z(0,F),$=R.pointerType==="touch"?10:2,Y={x:le,y:fe},J={originalEvent:R,delta:Y};q?(j.current=Y,$b(Ane,f,J,{discrete:!1})):eM(Y,m.swipeDirection,$)?(j.current=Y,$b(Pne,d,J,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(G)>$||Math.abs(F)>$)&&(w.current=null)}),onPointerUp:jt(e.onPointerUp,R=>{const G=j.current,F=R.target;if(F.hasPointerCapture(R.pointerId)&&F.releasePointerCapture(R.pointerId),j.current=null,w.current=null,G){const q=R.currentTarget,B={originalEvent:R,delta:G};eM(G,m.swipeDirection,m.swipeThreshold)?$b(Cne,p,B,{discrete:!0}):$b(kne,h,B,{discrete:!0}),q.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Mne=e=>{const{__scopeToast:t,children:r,...n}=e,i=Ej(Oj,t),[s,o]=S.useState(!1),[l,c]=S.useState(!1);return Dne(()=>o(!0)),S.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Tj,{asChild:!0,children:a.jsx(sv,{...n,children:s&&a.jsxs(a.Fragment,{children:[i.label," ",r]})})})},Lne="ToastTitle",nU=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(Tt.div,{...n,ref:t})});nU.displayName=Lne;var Ine="ToastDescription",iU=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(Tt.div,{...n,ref:t})});iU.displayName=Ine;var aU="ToastAction",sU=S.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(lU,{altText:r,asChild:!0,children:a.jsx(YC,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${aU}\`. Expected non-empty \`string\`.`),null)});sU.displayName=aU;var oU="ToastClose",YC=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=Ene(oU,r);return a.jsx(lU,{asChild:!0,children:a.jsx(Tt.button,{type:"button",...n,ref:t,onClick:jt(e.onClick,i.onClose)})})});YC.displayName=oU;var lU=S.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return a.jsx(Tt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function cU(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Rne(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...cU(n))}}),t}function $b(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?KB(i,s):i.dispatchEvent(s)}var eM=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),s=n>i;return t==="left"||t==="right"?s&&n>r:!s&&i>r};function Dne(e=()=>{}){const t=Yn(e);Pi(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Rne(e){return e.nodeType===e.ELEMENT_NODE}function Fne(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function gS(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var $ne=QB,uU=eU,dU=rU,fU=nU,hU=iU,pU=sU,mU=YC;function gU(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=gU(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function vr(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=gU(e))&&(n&&(n+=" "),n+=t);return n}const tM=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,rM=vr,ov=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return rM(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=tM(d)||tM(f);return i[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(y=>{let[m,v]=y;return Array.isArray(v)?v.includes({...s,...l}[m]):{...s,...l}[m]===v})?[...u,f,h]:u},[]);return rM(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xU=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Une={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...l},c)=>S.createElement("svg",{ref:c,...Une,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:xU("lucide",i),...l},[...o.map(([u,d])=>S.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(e,t)=>{const r=S.forwardRef(({className:n,...i},s)=>S.createElement(zne,{ref:s,iconNode:t,className:xU(`lucide-${Bne(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=et("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=et("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=et("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=et("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=et("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=et("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=et("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=et("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=et("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=et("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=et("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=et("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=et("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=et("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=et("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=et("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=et("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=et("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=et("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=et("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=et("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=et("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=et("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=et("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=et("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=et("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=et("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=et("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=et("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=et("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=et("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=et("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=et("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=et("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=et("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=et("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=et("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=et("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=et("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=et("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=et("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=et("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=et("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=et("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=et("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=et("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=et("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=et("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=et("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=et("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=et("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=et("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=et("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=et("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=et("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=et("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=et("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=et("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=et("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=et("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=et("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=et("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=et("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=et("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sie=et("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=et("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=et("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=et("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=et("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=et("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=et("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=et("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=et("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=et("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=et("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=et("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=et("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=et("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=et("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=et("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),JC="-",cie=e=>{const t=die(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(JC);return l[0]===""&&l.length!==1&&l.shift(),kU(l,t)||uie(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},kU=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?kU(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(JC);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},cM=/^\[(.+)\]$/,uie=e=>{if(cM.test(e)){const t=cM.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},die=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return hie(Object.entries(e.classGroups),r).forEach(([s,o])=>{yA(o,n,s,t)}),n},yA=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:uM(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(fie(i)){yA(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{yA(o,uM(t,s),r,n)})})},uM=(e,t)=>{let r=e;return t.split(JC).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},fie=e=>e.isThemeGetter,hie=(e,t)=>t?e.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,i]}):e,pie=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},CU="!",mie=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let g=l[v];if(u===0){if(g===i&&(n||l.slice(v,v+s)===t)){c.push(l.slice(d,v)),d=v+s;continue}if(g==="/"){f=v;continue}}g==="["?u++:g==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(CU),y=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},gie=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},xie=e=>({cache:pie(e.cacheSize),parseClassName:mie(e),...cie(e)}),yie=/\s+/,vie=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(yie);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let y=!!p,m=n(y?h.substring(0,p):h);if(!m){if(!y){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}y=!1}const v=gie(d).join(":"),g=f?v+CU:v,x=g+m;if(s.includes(x))continue;s.push(x);const w=i(m,y);for(let j=0;j<w.length;++j){const N=w[j];s.push(g+N)}l=u+(l.length>0?" "+l:l)}return l};function bie(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=TU(t))&&(n&&(n+=" "),n+=r);return n}const TU=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=TU(e[n]))&&(r&&(r+=" "),r+=t);return r};function wie(e,...t){let r,n,i,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=xie(u),n=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=vie(c,r);return i(c,d),d}return function(){return s(bie.apply(null,arguments))}}const fn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},EU=/^\[(?:([a-z-]+):)?(.+)\]$/i,jie=/^\d+\/\d+$/,Nie=new Set(["px","full","screen"]),Sie=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_ie=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Pie=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Aie=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kie=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lc=e=>Bp(e)||Nie.has(e)||jie.test(e),Nu=e=>fg(e,"length",Die),Bp=e=>!!e&&!Number.isNaN(Number(e)),vS=e=>fg(e,"number",Bp),gx=e=>!!e&&Number.isInteger(Number(e)),Cie=e=>e.endsWith("%")&&Bp(e.slice(0,-1)),ar=e=>EU.test(e),Su=e=>Sie.test(e),Tie=new Set(["length","size","percentage"]),Eie=e=>fg(e,Tie,OU),Oie=e=>fg(e,"position",OU),Mie=new Set(["image","url"]),Lie=e=>fg(e,Mie,Fie),Iie=e=>fg(e,"",Rie),xx=()=>!0,fg=(e,t,r)=>{const n=EU.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Die=e=>_ie.test(e)&&!Pie.test(e),OU=()=>!1,Rie=e=>Aie.test(e),Fie=e=>kie.test(e),$ie=()=>{const e=fn("colors"),t=fn("spacing"),r=fn("blur"),n=fn("brightness"),i=fn("borderColor"),s=fn("borderRadius"),o=fn("borderSpacing"),l=fn("borderWidth"),c=fn("contrast"),u=fn("grayscale"),d=fn("hueRotate"),f=fn("invert"),h=fn("gap"),p=fn("gradientColorStops"),y=fn("gradientColorStopPositions"),m=fn("inset"),v=fn("margin"),g=fn("opacity"),x=fn("padding"),w=fn("saturate"),j=fn("scale"),N=fn("sepia"),P=fn("skew"),k=fn("space"),C=fn("translate"),O=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",ar,t],A=()=>[ar,t],D=()=>["",lc,Nu],R=()=>["auto",Bp,ar],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",ar],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[Bp,ar];return{cacheSize:500,separator:":",theme:{colors:[xx],spacing:[lc,Nu],blur:["none","",Su,ar],brightness:fe(),borderColor:[e],borderRadius:["none","","full",Su,ar],borderSpacing:A(),borderWidth:D(),contrast:fe(),grayscale:Z(),hueRotate:fe(),invert:Z(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[Cie,Nu],inset:E(),margin:E(),opacity:fe(),padding:A(),saturate:fe(),scale:fe(),sepia:Z(),skew:fe(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",ar]}],container:["container"],columns:[{columns:[Su]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),ar]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gx,ar]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ar]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",gx,ar]}],"grid-cols":[{"grid-cols":[xx]}],"col-start-end":[{col:["auto",{span:["full",gx,ar]},ar]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[xx]}],"row-start-end":[{row:["auto",{span:[gx,ar]},ar]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ar]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ar]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ar,t]}],"min-w":[{"min-w":[ar,t,"min","max","fit"]}],"max-w":[{"max-w":[ar,t,"none","full","min","max","fit","prose",{screen:[Su]},Su]}],h:[{h:[ar,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ar,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ar,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ar,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Su,Nu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vS]}],"font-family":[{font:[xx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ar]}],"line-clamp":[{"line-clamp":["none",Bp,vS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",lc,ar]}],"list-image":[{"list-image":["none",ar]}],"list-style-type":[{list:["none","disc","decimal",ar]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",lc,Nu]}],"underline-offset":[{"underline-offset":["auto",lc,ar]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ar]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ar]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),Oie]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Eie]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Lie]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:F()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[lc,ar]}],"outline-w":[{outline:[lc,Nu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[lc,Nu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Su,Iie]}],"shadow-color":[{shadow:[xx]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Su,ar]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ar]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",ar]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",ar]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[gx,ar]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ar]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ar]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ar]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[lc,Nu,vS]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Bie=wie($ie);function _t(...e){return Bie(vr(e))}const Uie=$ne,MU=S.forwardRef(({className:e,...t},r)=>a.jsx(uU,{ref:r,className:_t("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:top-0 sm:flex-col md:max-w-[420px] md:left-[50%] md:translate-x-[-50%]",e),...t}));MU.displayName=uU.displayName;const zie=ov("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-lg border p-6 pr-8 shadow-xl backdrop-blur-sm transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border-white/30 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white shadow-lg shadow-blue-500/25",destructive:"destructive group border-red-500/50 bg-gradient-to-r from-red-500 via-orange-500 to-pink-500 text-white shadow-lg shadow-red-500/25"}},defaultVariants:{variant:"default"}}),LU=S.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(dU,{ref:n,className:_t(zie({variant:t}),e),...r}));LU.displayName=dU.displayName;const Vie=S.forwardRef(({className:e,...t},r)=>a.jsx(pU,{ref:r,className:_t("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Vie.displayName=pU.displayName;const IU=S.forwardRef(({className:e,...t},r)=>a.jsx(mU,{ref:r,className:_t("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Vc,{className:"h-4 w-4"})}));IU.displayName=mU.displayName;const DU=S.forwardRef(({className:e,...t},r)=>a.jsx(fU,{ref:r,className:_t("text-sm font-semibold",e),...t}));DU.displayName=fU.displayName;const RU=S.forwardRef(({className:e,...t},r)=>a.jsx(hU,{ref:r,className:_t("text-sm opacity-90",e),...t}));RU.displayName=hU.displayName;function qie(){const{toasts:e}=Et();return a.jsxs(Uie,{children:[e.map(function({id:t,title:r,description:n,action:i,...s}){return a.jsxs(LU,{...s,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(DU,{children:r}),n&&a.jsx(RU,{children:n})]}),i,a.jsx(IU,{})]},t)}),a.jsx(MU,{})]})}var Wie=l7[" useId ".trim().toString()]||(()=>{}),Hie=0;function kl(e){const[t,r]=S.useState(Wie());return Pi(()=>{r(n=>n??String(Hie++))},[e]),t?`radix-${t}`:""}const Kie=["top","right","bottom","left"],xd=Math.min,as=Math.max,Cw=Math.round,Bb=Math.floor,Cl=e=>({x:e,y:e}),Gie={left:"right",right:"left",bottom:"top",top:"bottom"},Yie={start:"end",end:"start"};function vA(e,t,r){return as(e,xd(t,r))}function qc(e,t){return typeof e=="function"?e(t):e}function Wc(e){return e.split("-")[0]}function hg(e){return e.split("-")[1]}function e3(e){return e==="x"?"y":"x"}function t3(e){return e==="y"?"height":"width"}function yd(e){return["top","bottom"].includes(Wc(e))?"y":"x"}function r3(e){return e3(yd(e))}function Xie(e,t,r){r===void 0&&(r=!1);const n=hg(e),i=r3(e),s=t3(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Tw(o)),[o,Tw(o)]}function Zie(e){const t=Tw(e);return[bA(e),t,bA(t)]}function bA(e){return e.replace(/start|end/g,t=>Yie[t])}function Qie(e,t,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?s:o;default:return[]}}function Jie(e,t,r,n){const i=hg(e);let s=Qie(Wc(e),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(bA)))),s}function Tw(e){return e.replace(/left|right|bottom|top/g,t=>Gie[t])}function eae(e){return{top:0,right:0,bottom:0,left:0,...e}}function FU(e){return typeof e!="number"?eae(e):{top:e,right:e,bottom:e,left:e}}function Ew(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function dM(e,t,r){let{reference:n,floating:i}=e;const s=yd(t),o=r3(t),l=t3(o),c=Wc(t),u=s==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[l]/2-i[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-i.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(hg(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const tae=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=dM(u,n,c),h=n,p={},y=0;for(let m=0;m<l.length;m++){const{name:v,fn:g}=l[m],{x,y:w,data:j,reset:N}=await g({x:d,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=w??f,p={...p,[v]:{...p[v],...j}},N&&y<=50&&(y++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):N.rects),{x:d,y:f}=dM(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function B0(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=qc(t,e),y=FU(p),v=l[h?f==="floating"?"reference":"floating":f],g=Ew(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),j=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Ew(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(g.top-N.top+y.top)/j.y,bottom:(N.bottom-g.bottom+y.bottom)/j.y,left:(g.left-N.left+y.left)/j.x,right:(N.right-g.right+y.right)/j.x}}const rae=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=qc(e,t)||{};if(u==null)return{};const f=FU(d),h={x:r,y:n},p=r3(i),y=t3(p),m=await o.getDimensions(u),v=p==="y",g=v?"top":"left",x=v?"bottom":"right",w=v?"clientHeight":"clientWidth",j=s.reference[y]+s.reference[p]-h[p]-s.floating[y],N=h[p]-s.reference[p],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=P?P[w]:0;(!k||!await(o.isElement==null?void 0:o.isElement(P)))&&(k=l.floating[w]||s.floating[y]);const C=j/2-N/2,O=k/2-m[y]/2-1,I=xd(f[g],O),E=xd(f[x],O),A=I,D=k-m[y]-E,R=k/2-m[y]/2+C,G=vA(A,R,D),F=!c.arrow&&hg(i)!=null&&R!==G&&s.reference[y]/2-(R<A?I:E)-m[y]/2<0,q=F?R<A?R-A:R-D:0;return{[p]:h[p]+q,data:{[p]:G,centerOffset:R-G-q,...F&&{alignmentOffset:q}},reset:F}}}),nae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...v}=qc(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const g=Wc(i),x=yd(l),w=Wc(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(w||!m?[Tw(l)]:Zie(l)),P=y!=="none";!h&&P&&N.push(...Jie(l,m,y,j));const k=[l,...N],C=await B0(t,v),O=[];let I=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&O.push(C[g]),f){const R=Xie(i,o,j);O.push(C[R[0]],C[R[1]])}if(I=[...I,{placement:i,overflows:O}],!O.every(R=>R<=0)){var E,A;const R=(((E=s.flip)==null?void 0:E.index)||0)+1,G=k[R];if(G)return{data:{index:R,overflows:I},reset:{placement:G}};let F=(A=I.filter(q=>q.overflows[0]<=0).sort((q,B)=>q.overflows[1]-B.overflows[1])[0])==null?void 0:A.placement;if(!F)switch(p){case"bestFit":{var D;const q=(D=I.filter(B=>{if(P){const Z=yd(B.placement);return Z===x||Z==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(Z=>Z>0).reduce((Z,le)=>Z+le,0)]).sort((B,Z)=>B[1]-Z[1])[0])==null?void 0:D[0];q&&(F=q);break}case"initialPlacement":F=l;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function fM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function hM(e){return Kie.some(t=>e[t]>=0)}const iae=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=qc(e,t);switch(n){case"referenceHidden":{const s=await B0(t,{...i,elementContext:"reference"}),o=fM(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:hM(o)}}}case"escaped":{const s=await B0(t,{...i,altBoundary:!0}),o=fM(s,r.floating);return{data:{escapedOffsets:o,escaped:hM(o)}}}default:return{}}}}};async function aae(e,t){const{placement:r,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Wc(r),l=hg(r),c=yd(r)==="y",u=["left","top"].includes(o)?-1:1,d=s&&c?-1:1,f=qc(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const sae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:s,placement:o,middlewareData:l}=t,c=await aae(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},oae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:g,y:x}=v;return{x:g,y:x}}},...c}=qc(e,t),u={x:r,y:n},d=await B0(t,c),f=yd(Wc(i)),h=e3(f);let p=u[h],y=u[f];if(s){const v=h==="y"?"top":"left",g=h==="y"?"bottom":"right",x=p+d[v],w=p-d[g];p=vA(x,p,w)}if(o){const v=f==="y"?"top":"left",g=f==="y"?"bottom":"right",x=y+d[v],w=y-d[g];y=vA(x,y,w)}const m=l.fn({...t,[h]:p,[f]:y});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:s,[f]:o}}}}}},lae=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=qc(e,t),d={x:r,y:n},f=yd(i),h=e3(f);let p=d[h],y=d[f];const m=qc(l,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=h==="y"?"height":"width",j=s.reference[h]-s.floating[w]+v.mainAxis,N=s.reference[h]+s.reference[w]-v.mainAxis;p<j?p=j:p>N&&(p=N)}if(u){var g,x;const w=h==="y"?"width":"height",j=["top","left"].includes(Wc(i)),N=s.reference[f]-s.floating[w]+(j&&((g=o.offset)==null?void 0:g[f])||0)+(j?0:v.crossAxis),P=s.reference[f]+s.reference[w]+(j?0:((x=o.offset)==null?void 0:x[f])||0)-(j?v.crossAxis:0);y<N?y=N:y>P&&(y=P)}return{[h]:p,[f]:y}}}},cae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=qc(e,t),d=await B0(t,u),f=Wc(i),h=hg(i),p=yd(i)==="y",{width:y,height:m}=s.floating;let v,g;f==="top"||f==="bottom"?(v=f,g=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,v=h==="end"?"top":"bottom");const x=m-d.top-d.bottom,w=y-d.left-d.right,j=xd(m-d[v],x),N=xd(y-d[g],w),P=!t.middlewareData.shift;let k=j,C=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=x),P&&!h){const I=as(d.left,0),E=as(d.right,0),A=as(d.top,0),D=as(d.bottom,0);p?C=y-2*(I!==0||E!==0?I+E:as(d.left,d.right)):k=m-2*(A!==0||D!==0?A+D:as(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:k});const O=await o.getDimensions(l.floating);return y!==O.width||m!==O.height?{reset:{rects:!0}}:{}}}};function $j(){return typeof window<"u"}function pg(e){return $U(e)?(e.nodeName||"").toLowerCase():"#document"}function fs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ql(e){var t;return(t=($U(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function $U(e){return $j()?e instanceof Node||e instanceof fs(e).Node:!1}function Wo(e){return $j()?e instanceof Element||e instanceof fs(e).Element:!1}function Bl(e){return $j()?e instanceof HTMLElement||e instanceof fs(e).HTMLElement:!1}function pM(e){return!$j()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fs(e).ShadowRoot}function dv(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Ho(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function uae(e){return["table","td","th"].includes(pg(e))}function Bj(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function n3(e){const t=i3(),r=Wo(e)?Ho(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function dae(e){let t=vd(e);for(;Bl(t)&&!jm(t);){if(n3(t))return t;if(Bj(t))return null;t=vd(t)}return null}function i3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jm(e){return["html","body","#document"].includes(pg(e))}function Ho(e){return fs(e).getComputedStyle(e)}function Uj(e){return Wo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function vd(e){if(pg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||pM(e)&&e.host||ql(e);return pM(t)?t.host:t}function BU(e){const t=vd(e);return jm(t)?e.ownerDocument?e.ownerDocument.body:e.body:Bl(t)&&dv(t)?t:BU(t)}function U0(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=BU(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),o=fs(i);if(s){const l=wA(o);return t.concat(o,o.visualViewport||[],dv(i)?i:[],l&&r?U0(l):[])}return t.concat(i,U0(i,[],r))}function wA(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function UU(e){const t=Ho(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Bl(e),s=i?e.offsetWidth:r,o=i?e.offsetHeight:n,l=Cw(r)!==s||Cw(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function a3(e){return Wo(e)?e:e.contextElement}function Up(e){const t=a3(e);if(!Bl(t))return Cl(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:s}=UU(t);let o=(s?Cw(r.width):r.width)/n,l=(s?Cw(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const fae=Cl(0);function zU(e){const t=fs(e);return!i3()||!t.visualViewport?fae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hae(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==fs(e)?!1:t}function sh(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=a3(e);let o=Cl(1);t&&(n?Wo(n)&&(o=Up(n)):o=Up(e));const l=hae(s,r,n)?zU(s):Cl(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=fs(s),p=n&&Wo(n)?fs(n):n;let y=h,m=wA(y);for(;m&&n&&p!==y;){const v=Up(m),g=m.getBoundingClientRect(),x=Ho(m),w=g.left+(m.clientLeft+parseFloat(x.paddingLeft))*v.x,j=g.top+(m.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=j,y=fs(m),m=wA(y)}}return Ew({width:d,height:f,x:c,y:u})}function s3(e,t){const r=Uj(e).scrollLeft;return t?t.left+r:sh(ql(e)).left+r}function VU(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:s3(e,n)),s=n.top+t.scrollTop;return{x:i,y:s}}function pae(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const s=i==="fixed",o=ql(n),l=t?Bj(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=Cl(1);const d=Cl(0),f=Bl(n);if((f||!f&&!s)&&((pg(n)!=="body"||dv(o))&&(c=Uj(n)),Bl(n))){const p=sh(n);u=Up(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!s?VU(o,c,!0):Cl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function mae(e){return Array.from(e.getClientRects())}function gae(e){const t=ql(e),r=Uj(e),n=e.ownerDocument.body,i=as(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=as(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+s3(e);const l=-r.scrollTop;return Ho(n).direction==="rtl"&&(o+=as(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:l}}function xae(e,t){const r=fs(e),n=ql(e),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const u=i3();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}function yae(e,t){const r=sh(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=Bl(e)?Up(e):Cl(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=i*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function mM(e,t,r){let n;if(t==="viewport")n=xae(e,r);else if(t==="document")n=gae(ql(e));else if(Wo(t))n=yae(t,r);else{const i=zU(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Ew(n)}function qU(e,t){const r=vd(e);return r===t||!Wo(r)||jm(r)?!1:Ho(r).position==="fixed"||qU(r,t)}function vae(e,t){const r=t.get(e);if(r)return r;let n=U0(e,[],!1).filter(l=>Wo(l)&&pg(l)!=="body"),i=null;const s=Ho(e).position==="fixed";let o=s?vd(e):e;for(;Wo(o)&&!jm(o);){const l=Ho(o),c=n3(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||dv(o)&&!c&&qU(e,o))?n=n.filter(d=>d!==o):i=l,o=vd(o)}return t.set(e,n),n}function bae(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?Bj(t)?[]:vae(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=mM(t,d,i);return u.top=as(f.top,u.top),u.right=xd(f.right,u.right),u.bottom=xd(f.bottom,u.bottom),u.left=as(f.left,u.left),u},mM(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function wae(e){const{width:t,height:r}=UU(e);return{width:t,height:r}}function jae(e,t,r){const n=Bl(t),i=ql(t),s=r==="fixed",o=sh(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Cl(0);if(n||!n&&!s)if((pg(t)!=="body"||dv(i))&&(l=Uj(t)),n){const h=sh(t,!0,s,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else i&&(c.x=s3(i));const u=i&&!n&&!s?VU(i,l):Cl(0),d=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function bS(e){return Ho(e).position==="static"}function gM(e,t){if(!Bl(e)||Ho(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ql(e)===r&&(r=r.ownerDocument.body),r}function WU(e,t){const r=fs(e);if(Bj(e))return r;if(!Bl(e)){let i=vd(e);for(;i&&!jm(i);){if(Wo(i)&&!bS(i))return i;i=vd(i)}return r}let n=gM(e,t);for(;n&&uae(n)&&bS(n);)n=gM(n,t);return n&&jm(n)&&bS(n)&&!n3(n)?r:n||dae(e)||r}const Nae=async function(e){const t=this.getOffsetParent||WU,r=this.getDimensions,n=await r(e.floating);return{reference:jae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Sae(e){return Ho(e).direction==="rtl"}const _ae={convertOffsetParentRelativeRectToViewportRelativeRect:pae,getDocumentElement:ql,getClippingRect:bae,getOffsetParent:WU,getElementRects:Nae,getClientRects:mae,getDimensions:wae,getScale:Up,isElement:Wo,isRTL:Sae};function HU(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Pae(e,t){let r=null,n;const i=ql(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const y=Bb(f),m=Bb(i.clientWidth-(d+h)),v=Bb(i.clientHeight-(f+p)),g=Bb(d),w={rootMargin:-y+"px "+-m+"px "+-v+"px "+-g+"px",threshold:as(0,xd(1,c))||1};let j=!0;function N(P){const k=P[0].intersectionRatio;if(k!==c){if(!j)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!HU(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(N,{...w,root:i.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(e)}return o(!0),s}function Aae(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=a3(e),d=i||s?[...u?U0(u):[],...U0(t)]:[];d.forEach(g=>{i&&g.addEventListener("scroll",r,{passive:!0}),s&&g.addEventListener("resize",r)});const f=u&&l?Pae(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(g=>{let[x]=g;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let y,m=c?sh(e):null;c&&v();function v(){const g=sh(e);m&&!HU(m,g)&&r(),m=g,y=requestAnimationFrame(v)}return r(),()=>{var g;d.forEach(x=>{i&&x.removeEventListener("scroll",r),s&&x.removeEventListener("resize",r)}),f==null||f(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const kae=sae,Cae=oae,Tae=nae,Eae=cae,Oae=iae,xM=rae,Mae=lae,Lae=(e,t,r)=>{const n=new Map,i={platform:_ae,...r},s={...i.platform,_c:n};return tae(e,t,{...i,platform:s})};var R1=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Ow(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ow(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!Ow(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function KU(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yM(e,t){const r=KU(e);return Math.round(t*r)/r}function wS(e){const t=S.useRef(e);return R1(()=>{t.current=e}),t}function Iae(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=S.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=S.useState(n);Ow(h,n)||p(n);const[y,m]=S.useState(null),[v,g]=S.useState(null),x=S.useCallback(B=>{B!==P.current&&(P.current=B,m(B))},[]),w=S.useCallback(B=>{B!==k.current&&(k.current=B,g(B))},[]),j=s||y,N=o||v,P=S.useRef(null),k=S.useRef(null),C=S.useRef(d),O=c!=null,I=wS(c),E=wS(i),A=wS(u),D=S.useCallback(()=>{if(!P.current||!k.current)return;const B={placement:t,strategy:r,middleware:h};E.current&&(B.platform=E.current),Lae(P.current,k.current,B).then(Z=>{const le={...Z,isPositioned:A.current!==!1};R.current&&!Ow(C.current,le)&&(C.current=le,Nh.flushSync(()=>{f(le)}))})},[h,t,r,E,A]);R1(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[u]);const R=S.useRef(!1);R1(()=>(R.current=!0,()=>{R.current=!1}),[]),R1(()=>{if(j&&(P.current=j),N&&(k.current=N),j&&N){if(I.current)return I.current(j,N,D);D()}},[j,N,D,I,O]);const G=S.useMemo(()=>({reference:P,floating:k,setReference:x,setFloating:w}),[x,w]),F=S.useMemo(()=>({reference:j,floating:N}),[j,N]),q=S.useMemo(()=>{const B={position:r,left:0,top:0};if(!F.floating)return B;const Z=yM(F.floating,d.x),le=yM(F.floating,d.y);return l?{...B,transform:"translate("+Z+"px, "+le+"px)",...KU(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Z,top:le}},[r,l,F.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:D,refs:G,elements:F,floatingStyles:q}),[d,D,G,F,q])}const Dae=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?xM({element:n.current,padding:i}).fn(r):{}:n?xM({element:n,padding:i}).fn(r):{}}}},Rae=(e,t)=>({...kae(e),options:[e,t]}),Fae=(e,t)=>({...Cae(e),options:[e,t]}),$ae=(e,t)=>({...Mae(e),options:[e,t]}),Bae=(e,t)=>({...Tae(e),options:[e,t]}),Uae=(e,t)=>({...Eae(e),options:[e,t]}),zae=(e,t)=>({...Oae(e),options:[e,t]}),Vae=(e,t)=>({...Dae(e),options:[e,t]});var qae="Arrow",GU=S.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(Tt.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});GU.displayName=qae;var Wae=GU;function YU(e){const[t,r]=S.useState(void 0);return Pi(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var o3="Popper",[XU,zj]=js(o3),[Hae,ZU]=XU(o3),QU=e=>{const{__scopePopper:t,children:r}=e,[n,i]=S.useState(null);return a.jsx(Hae,{scope:t,anchor:n,onAnchorChange:i,children:r})};QU.displayName=o3;var JU="PopperAnchor",ez=S.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=ZU(JU,r),o=S.useRef(null),l=br(t,o);return S.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(Tt.div,{...i,ref:l})});ez.displayName=JU;var l3="PopperContent",[Kae,Gae]=XU(l3),tz=S.forwardRef((e,t)=>{var ce,be,oe,ye,je,pe;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=e,v=ZU(l3,r),[g,x]=S.useState(null),w=br(t,Ne=>x(Ne)),[j,N]=S.useState(null),P=YU(j),k=(P==null?void 0:P.width)??0,C=(P==null?void 0:P.height)??0,O=n+(s!=="center"?"-"+s:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},E=Array.isArray(u)?u:[u],A=E.length>0,D={padding:I,boundary:E.filter(Xae),altBoundary:A},{refs:R,floatingStyles:G,placement:F,isPositioned:q,middlewareData:B}=Iae({strategy:"fixed",placement:O,whileElementsMounted:(...Ne)=>Aae(...Ne,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[Rae({mainAxis:i+C,alignmentAxis:o}),c&&Fae({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?$ae():void 0,...D}),c&&Bae({...D}),Uae({...D,apply:({elements:Ne,rects:xe,availableWidth:V,availableHeight:Ve})=>{const{width:Ze,height:it}=xe.reference,De=Ne.floating.style;De.setProperty("--radix-popper-available-width",`${V}px`),De.setProperty("--radix-popper-available-height",`${Ve}px`),De.setProperty("--radix-popper-anchor-width",`${Ze}px`),De.setProperty("--radix-popper-anchor-height",`${it}px`)}}),j&&Vae({element:j,padding:l}),Zae({arrowWidth:k,arrowHeight:C}),h&&zae({strategy:"referenceHidden",...D})]}),[Z,le]=iz(F),fe=Yn(y);Pi(()=>{q&&(fe==null||fe())},[q,fe]);const $=(ce=B.arrow)==null?void 0:ce.x,Y=(be=B.arrow)==null?void 0:be.y,J=((oe=B.arrow)==null?void 0:oe.centerOffset)!==0,[ae,de]=S.useState();return Pi(()=>{g&&de(window.getComputedStyle(g).zIndex)},[g]),a.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:q?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(ye=B.transformOrigin)==null?void 0:ye.x,(je=B.transformOrigin)==null?void 0:je.y].join(" "),...((pe=B.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(Kae,{scope:r,placedSide:Z,onArrowChange:N,arrowX:$,arrowY:Y,shouldHideArrow:J,children:a.jsx(Tt.div,{"data-side":Z,"data-align":le,...m,ref:w,style:{...m.style,animation:q?void 0:"none"}})})})});tz.displayName=l3;var rz="PopperArrow",Yae={top:"bottom",right:"left",bottom:"top",left:"right"},nz=S.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=Gae(rz,n),o=Yae[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(Wae,{...i,ref:r,style:{...i.style,display:"block"}})})});nz.displayName=rz;function Xae(e){return e!==null}var Zae=e=>({name:"transformOrigin",options:e,fn(t){var v,g,x;const{placement:r,rects:n,middlewareData:i}=t,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=iz(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((g=i.arrow)==null?void 0:g.x)??0)+l/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+c/2;let y="",m="";return u==="bottom"?(y=o?f:`${h}px`,m=`${-c}px`):u==="top"?(y=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(y=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:y,y:m}}}});function iz(e){const[t,r="center"]=e.split("-");return[t,r]}var Qae=QU,az=ez,sz=tz,oz=nz,[Vj,oUe]=js("Tooltip",[zj]),c3=zj(),lz="TooltipProvider",Jae=700,vM="tooltip.open",[ese,cz]=Vj(lz),uz=e=>{const{__scopeTooltip:t,delayDuration:r=Jae,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=e,o=S.useRef(!0),l=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(ese,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:S.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};uz.displayName=lz;var dz="Tooltip",[lUe,qj]=Vj(dz),jA="TooltipTrigger",tse=S.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=qj(jA,r),s=cz(jA,r),o=c3(r),l=S.useRef(null),c=br(t,l,i.onTriggerChange),u=S.useRef(!1),d=S.useRef(!1),f=S.useCallback(()=>u.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(az,{asChild:!0,...o,children:a.jsx(Tt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:jt(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:jt(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:jt(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:jt(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:jt(e.onBlur,i.onClose),onClick:jt(e.onClick,i.onClose)})})});tse.displayName=jA;var rse="TooltipPortal",[cUe,nse]=Vj(rse,{forceMount:void 0}),Nm="TooltipContent",fz=S.forwardRef((e,t)=>{const r=nse(Nm,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=e,o=qj(Nm,e.__scopeTooltip);return a.jsx(io,{present:n||o.open,children:o.disableHoverableContent?a.jsx(hz,{side:i,...s,ref:t}):a.jsx(ise,{side:i,...s,ref:t})})}),ise=S.forwardRef((e,t)=>{const r=qj(Nm,e.__scopeTooltip),n=cz(Nm,e.__scopeTooltip),i=S.useRef(null),s=br(t,i),[o,l]=S.useState(null),{trigger:c,onClose:u}=r,d=i.current,{onPointerInTransitChange:f}=n,h=S.useCallback(()=>{l(null),f(!1)},[f]),p=S.useCallback((y,m)=>{const v=y.currentTarget,g={x:y.clientX,y:y.clientY},x=cse(g,v.getBoundingClientRect()),w=use(g,x),j=dse(m.getBoundingClientRect()),N=hse([...w,...j]);l(N),f(!0)},[f]);return S.useEffect(()=>()=>h(),[h]),S.useEffect(()=>{if(c&&d){const y=v=>p(v,d),m=v=>p(v,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),S.useEffect(()=>{if(o){const y=m=>{const v=m.target,g={x:m.clientX,y:m.clientY},x=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!fse(g,o);x?h():w&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),a.jsx(hz,{...e,ref:s})}),[ase,sse]=Vj(dz,{isInside:!1}),ose=tne("TooltipContent"),hz=S.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,c=qj(Nm,r),u=c3(r),{onClose:d}=c;return S.useEffect(()=>(document.addEventListener(vM,d),()=>document.removeEventListener(vM,d)),[d]),S.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(av,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(sz,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(ose,{children:n}),a.jsx(ase,{scope:r,isInside:!0,children:a.jsx(wne,{id:c.contentId,role:"tooltip",children:i||n})})]})})});fz.displayName=Nm;var pz="TooltipArrow",lse=S.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=c3(r);return sse(pz,r).isInside?null:a.jsx(oz,{...i,...n,ref:t})});lse.displayName=pz;function cse(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function use(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function dse(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function fse(e,t){const{x:r,y:n}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s].x,c=t[s].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(i=!i)}return i}function hse(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),pse(t)}function pse(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var mse=uz,mz=fz;const gse=mse,xse=S.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(mz,{ref:n,sideOffset:t,className:_t("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));xse.displayName=mz.displayName;const gz=S.createContext(null);function yse({children:e}){const[t,r]=S.useState(null),[n,i]=S.useState(!0);S.useEffect(()=>{const u=localStorage.getItem("greenpay_user");if(u)try{const d=JSON.parse(u);r(d),d!=null&&d.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}catch(d){console.error("Failed to parse stored user data:",d),localStorage.removeItem("greenpay_user")}i(!1)},[]);const s=u=>{r(u),localStorage.setItem("greenpay_user",JSON.stringify(u))},o=()=>{r(null),localStorage.removeItem("greenpay_user")},l=async()=>{if(t!=null&&t.id)try{const u=await fetch(`/api/users/${t.id}`);if(u.ok){const d=await u.json();r(d.user),localStorage.setItem("greenpay_user",JSON.stringify(d.user))}}catch(u){console.error("Failed to refresh user data:",u)}},c=!!t;return a.jsx(gz.Provider,{value:{user:t,login:s,logout:o,refreshUser:l,isAuthenticated:c,isLoading:n},children:e})}function kr(){const e=S.useContext(gz);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function vse(){const e=`https://wa.me/14704657028?text=${encodeURIComponent("Hi, I need support with GreenPay")}`;return a.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-50 w-14 h-14 bg-green-500 hover:bg-green-600 text-white rounded-full shadow-lg flex items-center justify-center transition-all duration-200 hover:scale-110 hover:shadow-xl",title:"Chat with us on WhatsApp",children:a.jsx(cv,{className:"w-6 h-6"})})}function bse(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}function Wj(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const NA=e=>Array.isArray(e);function xz(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function z0(e){return typeof e=="string"||Array.isArray(e)}function bM(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function u3(e,t,r,n){if(typeof t=="function"){const[i,s]=bM(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=bM(n);t=t(r!==void 0?r:e.custom,i,s)}return t}function Hj(e,t,r){const n=e.getProps();return u3(n,t,r!==void 0?r:n.custom,e)}const d3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],f3=["initial",...d3],fv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sh=new Set(fv),Cc=e=>e*1e3,Tc=e=>e/1e3,wse={type:"spring",stiffness:500,damping:25,restSpeed:10},jse=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Nse={type:"keyframes",duration:.8},Sse={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_se=(e,{keyframes:t})=>t.length>2?Nse:Sh.has(e)?e.startsWith("scale")?jse(t[1]):wse:Sse;function h3(e,t){return e?e[t]||e.default||e:void 0}const Pse={skipAnimations:!1,useManualTiming:!1},Ase=e=>e!==null;function Kj(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(Ase),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const sa=e=>e;let SA=sa;function kse(e){let t=new Set,r=new Set,n=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){s.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const p=f&&n?t:r;return d&&s.add(u),p.has(u)||p.add(u),u},cancel:u=>{r.delete(u),s.delete(u)},process:u=>{if(o=u,n){i=!0;return}n=!0,[t,r]=[r,t],r.clear(),t.forEach(l),n=!1,i&&(i=!1,c.process(u))}};return c}const Ub=["read","resolveKeyframes","update","preRender","render","postRender"],Cse=40;function yz(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=Ub.reduce((g,x)=>(g[x]=kse(s),g),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=o,p=()=>{const g=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(g-i.timestamp,Cse),1),i.timestamp=g,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(p))},y=()=>{r=!0,n=!0,i.isProcessing||e(p)};return{schedule:Ub.reduce((g,x)=>{const w=o[x];return g[x]=(j,N=!1,P=!1)=>(r||y(),w.schedule(j,N,P)),g},{}),cancel:g=>{for(let x=0;x<Ub.length;x++)o[Ub[x]].cancel(g)},state:i,steps:o}}const{schedule:Zr,cancel:bd,state:Fi,steps:jS}=yz(typeof requestAnimationFrame<"u"?requestAnimationFrame:sa,!0),vz=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Tse=1e-7,Ese=12;function Ose(e,t,r,n,i){let s,o,l=0;do o=t+(r-t)/2,s=vz(o,n,i)-e,s>0?r=o:t=o;while(Math.abs(s)>Tse&&++l<Ese);return o}function hv(e,t,r,n){if(e===t&&r===n)return sa;const i=s=>Ose(s,0,1,e,r);return s=>s===0||s===1?s:vz(i(s),t,n)}const bz=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,wz=e=>t=>1-e(1-t),jz=hv(.33,1.53,.69,.99),p3=wz(jz),Nz=bz(p3),Sz=e=>(e*=2)<1?.5*p3(e):.5*(2-Math.pow(2,-10*(e-1))),m3=e=>1-Math.sin(Math.acos(e)),_z=wz(m3),Pz=bz(m3),Az=e=>/^0[^.\s]+$/u.test(e);function Mse(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Az(e):!0}const kz=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Cz=e=>t=>typeof t=="string"&&t.startsWith(e),Tz=Cz("--"),Lse=Cz("var(--"),g3=e=>Lse(e)?Ise.test(e.split("/*")[0].trim()):!1,Ise=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Dse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Rse(e){const t=Dse.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function Ez(e,t,r=1){const[n,i]=Rse(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const o=s.trim();return kz(o)?parseFloat(o):o}return g3(i)?Ez(i,t,r+1):i}const Hc=(e,t,r)=>r>t?t:r<e?e:r,mg={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},V0={...mg,transform:e=>Hc(0,1,e)},zb={...mg,default:1},pv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Cu=pv("deg"),Tl=pv("%"),Dt=pv("px"),Fse=pv("vh"),$se=pv("vw"),wM={...Tl,parse:e=>Tl.parse(e)/100,transform:e=>Tl.transform(e*100)},Bse=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),jM=e=>e===mg||e===Dt,NM=(e,t)=>parseFloat(e.split(", ")[t]),SM=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return NM(i[1],t);{const s=n.match(/^matrix\((.+)\)$/u);return s?NM(s[1],e):0}},Use=new Set(["x","y","z"]),zse=fv.filter(e=>!Use.has(e));function Vse(e){const t=[];return zse.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Sm={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:SM(4,13),y:SM(5,14)};Sm.translateX=Sm.x;Sm.translateY=Sm.y;const Oz=e=>t=>t.test(e),qse={test:e=>e==="auto",parse:e=>e},Mz=[mg,Dt,Tl,Cu,$se,Fse,qse],_M=e=>Mz.find(Oz(e)),Kf=new Set;let _A=!1,PA=!1;function Lz(){if(PA){const e=Array.from(Kf).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=Vse(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,o])=>{var l;(l=n.getValue(s))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}PA=!1,_A=!1,Kf.forEach(e=>e.complete()),Kf.clear()}function Iz(){Kf.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(PA=!0)})}function Wse(){Iz(),Lz()}class x3{constructor(t,r,n,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Kf.add(this),_A||(_A=!0,Zr.read(Iz),Zr.resolveKeyframes(Lz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i==null?void 0:i.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Kf.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Kf.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const s0=e=>Math.round(e*1e5)/1e5,y3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Hse(e){return e==null}const Kse=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,v3=(e,t)=>r=>!!(typeof r=="string"&&Kse.test(r)&&r.startsWith(e)||t&&!Hse(r)&&Object.prototype.hasOwnProperty.call(r,t)),Dz=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,s,o,l]=n.match(y3);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Gse=e=>Hc(0,255,e),NS={...mg,transform:e=>Math.round(Gse(e))},kf={test:v3("rgb","red"),parse:Dz("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+NS.transform(e)+", "+NS.transform(t)+", "+NS.transform(r)+", "+s0(V0.transform(n))+")"};function Yse(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const AA={test:v3("#"),parse:Yse,transform:kf.transform},wp={test:v3("hsl","hue"),parse:Dz("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Tl.transform(s0(t))+", "+Tl.transform(s0(r))+", "+s0(V0.transform(n))+")"},Ji={test:e=>kf.test(e)||AA.test(e)||wp.test(e),parse:e=>kf.test(e)?kf.parse(e):wp.test(e)?wp.parse(e):AA.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?kf.transform(e):wp.transform(e)},Xse=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Zse(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(y3))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Xse))===null||r===void 0?void 0:r.length)||0)>0}const Rz="number",Fz="color",Qse="var",Jse="var(",PM="${}",eoe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function q0(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const l=t.replace(eoe,c=>(Ji.test(c)?(n.color.push(s),i.push(Fz),r.push(Ji.parse(c))):c.startsWith(Jse)?(n.var.push(s),i.push(Qse),r.push(c)):(n.number.push(s),i.push(Rz),r.push(parseFloat(c))),++s,PM)).split(PM);return{values:r,split:l,indexes:n,types:i}}function $z(e){return q0(e).values}function Bz(e){const{split:t,types:r}=q0(e),n=t.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=t[o],i[o]!==void 0){const l=r[o];l===Rz?s+=s0(i[o]):l===Fz?s+=Ji.transform(i[o]):s+=i[o]}return s}}const toe=e=>typeof e=="number"?0:e;function roe(e){const t=$z(e);return Bz(e)(t.map(toe))}const wd={test:Zse,parse:$z,createTransformer:Bz,getAnimatableNone:roe},noe=new Set(["brightness","contrast","saturate","opacity"]);function ioe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(y3)||[];if(!n)return e;const i=r.replace(n,"");let s=noe.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const aoe=/\b([a-z-]*)\(.*?\)/gu,kA={...wd,getAnimatableNone:e=>{const t=e.match(aoe);return t?t.map(ioe).join(" "):e}},soe={borderWidth:Dt,borderTopWidth:Dt,borderRightWidth:Dt,borderBottomWidth:Dt,borderLeftWidth:Dt,borderRadius:Dt,radius:Dt,borderTopLeftRadius:Dt,borderTopRightRadius:Dt,borderBottomRightRadius:Dt,borderBottomLeftRadius:Dt,width:Dt,maxWidth:Dt,height:Dt,maxHeight:Dt,top:Dt,right:Dt,bottom:Dt,left:Dt,padding:Dt,paddingTop:Dt,paddingRight:Dt,paddingBottom:Dt,paddingLeft:Dt,margin:Dt,marginTop:Dt,marginRight:Dt,marginBottom:Dt,marginLeft:Dt,backgroundPositionX:Dt,backgroundPositionY:Dt},ooe={rotate:Cu,rotateX:Cu,rotateY:Cu,rotateZ:Cu,scale:zb,scaleX:zb,scaleY:zb,scaleZ:zb,skew:Cu,skewX:Cu,skewY:Cu,distance:Dt,translateX:Dt,translateY:Dt,translateZ:Dt,x:Dt,y:Dt,z:Dt,perspective:Dt,transformPerspective:Dt,opacity:V0,originX:wM,originY:wM,originZ:Dt},AM={...mg,transform:Math.round},b3={...soe,...ooe,zIndex:AM,size:Dt,fillOpacity:V0,strokeOpacity:V0,numOctaves:AM},loe={...b3,color:Ji,backgroundColor:Ji,outlineColor:Ji,fill:Ji,stroke:Ji,borderColor:Ji,borderTopColor:Ji,borderRightColor:Ji,borderBottomColor:Ji,borderLeftColor:Ji,filter:kA,WebkitFilter:kA},w3=e=>loe[e];function Uz(e,t){let r=w3(e);return r!==kA&&(r=wd),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const coe=new Set(["auto","none","0"]);function uoe(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!coe.has(s)&&q0(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=Uz(r,i)}class zz extends x3{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),g3(u))){const d=Ez(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Bse.has(n)||t.length!==2)return;const[i,s]=t,o=_M(i),l=_M(s);if(o!==l)if(jM(o)&&jM(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)Mse(t[i])&&n.push(i);n.length&&uoe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sm[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const s=r.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Sm[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function j3(e){return typeof e=="function"}let F1;function doe(){F1=void 0}const El={now:()=>(F1===void 0&&El.set(Fi.isProcessing||Pse.useManualTiming?Fi.timestamp:performance.now()),F1),set:e=>{F1=e,queueMicrotask(doe)}},kM=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(wd.test(e)||e==="0")&&!e.startsWith("url("));function foe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function hoe(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=kM(i,t),l=kM(s,t);return!o||!l?!1:foe(e)||(r==="spring"||j3(r))&&n}const poe=40;class Vz{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=El.now(),this.options={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>poe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Wse(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=El.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:s,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!hoe(t,n,i,s))if(o)this.options.duration=0;else{c==null||c(Kj(t,this.options,r)),l==null||l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const _m=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},qz=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let s=0;s<i;s++)n+=e(_m(0,i-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function Wz(e,t){return t?e*(1e3/t):0}const moe=5;function Hz(e,t,r){const n=Math.max(t-moe,0);return Wz(r-e(n),t-n)}const Ln={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},SS=.001;function goe({duration:e=Ln.duration,bounce:t=Ln.bounce,velocity:r=Ln.velocity,mass:n=Ln.mass}){let i,s,o=1-t;o=Hc(Ln.minDamping,Ln.maxDamping,o),e=Hc(Ln.minDuration,Ln.maxDuration,Tc(e)),o<1?(i=u=>{const d=u*o,f=d*e,h=d-r,p=CA(u,o),y=Math.exp(-f);return SS-h/p*y},s=u=>{const f=u*o*e,h=f*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-f),m=CA(Math.pow(u,2),o);return(-i(u)+SS>0?-1:1)*((h-p)*y)/m}):(i=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-SS+d*f},s=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=yoe(i,s,l);if(e=Cc(e),isNaN(c))return{stiffness:Ln.stiffness,damping:Ln.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const xoe=12;function yoe(e,t,r){let n=r;for(let i=1;i<xoe;i++)n=n-e(n)/t(n);return n}function CA(e,t){return e*Math.sqrt(1-t*t)}const TA=2e4;function Kz(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<TA;)t+=r,n=e.next(t);return t>=TA?1/0:t}const voe=["duration","bounce"],boe=["stiffness","damping","mass"];function CM(e,t){return t.some(r=>e[r]!==void 0)}function woe(e){let t={velocity:Ln.velocity,stiffness:Ln.stiffness,damping:Ln.damping,mass:Ln.mass,isResolvedFromDuration:!1,...e};if(!CM(e,boe)&&CM(e,voe))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Hc(.05,1,1-e.bounce)*Math.sqrt(i);t={...t,mass:Ln.mass,stiffness:i,damping:s}}else{const r=goe(e);t={...t,...r,mass:Ln.mass},t.isResolvedFromDuration=!0}return t}function Gz(e=Ln.visualDuration,t=Ln.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=woe({...r,velocity:-Tc(r.velocity||0)}),y=h||0,m=u/(2*Math.sqrt(c*d)),v=o-s,g=Tc(Math.sqrt(c/d)),x=Math.abs(v)<5;n||(n=x?Ln.restSpeed.granular:Ln.restSpeed.default),i||(i=x?Ln.restDelta.granular:Ln.restDelta.default);let w;if(m<1){const N=CA(g,m);w=P=>{const k=Math.exp(-m*g*P);return o-k*((y+m*g*v)/N*Math.sin(N*P)+v*Math.cos(N*P))}}else if(m===1)w=N=>o-Math.exp(-g*N)*(v+(y+g*v)*N);else{const N=g*Math.sqrt(m*m-1);w=P=>{const k=Math.exp(-m*g*P),C=Math.min(N*P,300);return o-k*((y+m*g*v)*Math.sinh(C)+N*v*Math.cosh(C))/N}}const j={calculatedDuration:p&&f||null,next:N=>{const P=w(N);if(p)l.done=N>=f;else{let k=0;m<1&&(k=N===0?Cc(y):Hz(w,N,P));const C=Math.abs(k)<=n,O=Math.abs(o-P)<=i;l.done=C&&O}return l.value=l.done?o:P,l},toString:()=>{const N=Math.min(Kz(j),TA),P=qz(k=>j.next(N*k).value,N,30);return N+"ms "+P}};return j}function TM({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=C=>l!==void 0&&C<l||c!==void 0&&C>c,y=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let m=r*t;const v=f+m,g=o===void 0?v:o(v);g!==v&&(m=g-f);const x=C=>-m*Math.exp(-C/n),w=C=>g+x(C),j=C=>{const O=x(C),I=w(C);h.done=Math.abs(O)<=u,h.value=h.done?g:I};let N,P;const k=C=>{p(h.value)&&(N=C,P=Gz({keyframes:[h.value,y(h.value)],velocity:Hz(w,C,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:C=>{let O=!1;return!P&&N===void 0&&(O=!0,j(C),k(C)),N!==void 0&&C>=N?P.next(C-N):(!O&&j(C),h)}}}const joe=hv(.42,0,1,1),Noe=hv(0,0,.58,1),Yz=hv(.42,0,.58,1),Soe=e=>Array.isArray(e)&&typeof e[0]!="number",N3=e=>Array.isArray(e)&&typeof e[0]=="number",EM={linear:sa,easeIn:joe,easeInOut:Yz,easeOut:Noe,circIn:m3,circInOut:Pz,circOut:_z,backIn:p3,backInOut:Nz,backOut:jz,anticipate:Sz},OM=e=>{if(N3(e)){SA(e.length===4);const[t,r,n,i]=e;return hv(t,r,n,i)}else if(typeof e=="string")return SA(EM[e]!==void 0),EM[e];return e},_oe=(e,t)=>r=>t(e(r)),ld=(...e)=>e.reduce(_oe),_n=(e,t,r)=>e+(t-e)*r;function _S(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Poe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,o=0;if(!t)i=s=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=_S(c,l,e+1/3),s=_S(c,l,e),o=_S(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function Mw(e,t){return r=>r>0?t:e}const PS=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},Aoe=[AA,kf,wp],koe=e=>Aoe.find(t=>t.test(e));function MM(e){const t=koe(e);if(!t)return!1;let r=t.parse(e);return t===wp&&(r=Poe(r)),r}const LM=(e,t)=>{const r=MM(e),n=MM(t);if(!r||!n)return Mw(e,t);const i={...r};return s=>(i.red=PS(r.red,n.red,s),i.green=PS(r.green,n.green,s),i.blue=PS(r.blue,n.blue,s),i.alpha=_n(r.alpha,n.alpha,s),kf.transform(i))},EA=new Set(["none","hidden"]);function Coe(e,t){return EA.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Toe(e,t){return r=>_n(e,t,r)}function S3(e){return typeof e=="number"?Toe:typeof e=="string"?g3(e)?Mw:Ji.test(e)?LM:Moe:Array.isArray(e)?Xz:typeof e=="object"?Ji.test(e)?LM:Eoe:Mw}function Xz(e,t){const r=[...e],n=r.length,i=e.map((s,o)=>S3(s)(s,t[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}}function Eoe(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=S3(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function Ooe(e,t){var r;const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],l=e.indexes[o][i[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[s]=c,i[o]++}return n}const Moe=(e,t)=>{const r=wd.createTransformer(t),n=q0(e),i=q0(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?EA.has(e)&&!i.values.length||EA.has(t)&&!n.values.length?Coe(e,t):ld(Xz(Ooe(n,i),i.values),r):Mw(e,t)};function Zz(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?_n(e,t,r):S3(e)(e,t)}function Loe(e,t,r){const n=[],i=r||Zz,s=e.length-1;for(let o=0;o<s;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||sa:t;l=ld(c,l)}n.push(l)}return n}function Ioe(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(SA(s===t.length),s===1)return()=>t[0];if(s===2&&e[0]===e[1])return()=>t[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Loe(t,n,i),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=_m(e[d],e[d+1],u);return o[d](f)};return r?u=>c(Hc(e[0],e[s-1],u)):c}function Doe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=_m(0,t,n);e.push(_n(r,1,i))}}function Roe(e){const t=[0];return Doe(t,e.length-1),t}function Foe(e,t){return e.map(r=>r*t)}function $oe(e,t){return e.map(()=>t||Yz).splice(0,e.length-1)}function Lw({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=Soe(n)?n.map(OM):OM(n),s={done:!1,value:t[0]},o=Foe(r&&r.length===t.length?r:Roe(t),e),l=Ioe(o,t,{ease:Array.isArray(i)?i:$oe(t,i)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const Boe=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Zr.update(t,!0),stop:()=>bd(t),now:()=>Fi.isProcessing?Fi.timestamp:El.now()}},Uoe={decay:TM,inertia:TM,tween:Lw,keyframes:Lw,spring:Gz},zoe=e=>e/100;class _3 extends Vz{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||x3,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(s,l,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,l=j3(r)?r:Uoe[r]||Lw;let c,u;l!==Lw&&typeof t[0]!="number"&&(c=ld(zoe,Zz(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});s==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Kz(d));const{calculatedDuration:f}=d,h=f+i,p=h*(n+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=n;if(this.startTime===null)return s.next(0);const{delay:h,repeat:p,repeatType:y,repeatDelay:m,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),x=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,j=s;if(p){const C=Math.min(this.currentTime,d)/f;let O=Math.floor(C),I=C%1;!I&&C>=1&&(I=1),I===1&&O--,O=Math.min(O,p+1),!!(O%2)&&(y==="reverse"?(I=1-I,m&&(I-=m/f)):y==="mirror"&&(j=o)),w=Hc(0,1,I)*f}const N=x?{done:!1,value:c[0]}:j.next(w);l&&(N.value=l(N.value));let{done:P}=N;!x&&u!==null&&(P=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return k&&i!==void 0&&(N.value=Kj(c,this.options,i)),v&&v(N.value),k&&this.finish(),N}get duration(){const{resolved:t}=this;return t?Tc(t.calculatedDuration):0}get time(){return Tc(this.currentTime)}set time(t){t=Cc(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Tc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Boe,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Voe=new Set(["opacity","clipPath","filter","transform"]);function P3(e){let t;return()=>(t===void 0&&(t=e()),t)}const qoe={linearEasing:void 0};function Woe(e,t){const r=P3(e);return()=>{var n;return(n=qoe[t])!==null&&n!==void 0?n:r()}}const Iw=Woe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Qz(e){return!!(typeof e=="function"&&Iw()||!e||typeof e=="string"&&(e in OA||Iw())||N3(e)||Array.isArray(e)&&e.every(Qz))}const zx=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,OA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zx([0,.65,.55,1]),circOut:zx([.55,0,1,.45]),backIn:zx([.31,.01,.66,-.59]),backOut:zx([.33,1.53,.69,.99])};function Jz(e,t){if(e)return typeof e=="function"&&Iw()?qz(e,t):N3(e)?zx(e):Array.isArray(e)?e.map(r=>Jz(r,t)||OA.easeOut):OA[e]}function Hoe(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=Jz(l,i);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function IM(e,t){e.timeline=t,e.onfinish=null}const Koe=P3(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Dw=10,Goe=2e4;function Yoe(e){return j3(e.type)||e.type==="spring"||!Qz(e.ease)}function Xoe(e,t){const r=new _3({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let s=0;for(;!n.done&&s<Goe;)n=r.sample(s),i.push(n.value),s+=Dw;return{times:void 0,keyframes:i,duration:s-Dw,ease:"linear"}}const eV={anticipate:Sz,backInOut:Nz,circInOut:Pz};function Zoe(e){return e in eV}class DM extends Vz{constructor(t){super(t);const{name:r,motionValue:n,element:i,keyframes:s}=this.options;this.resolver=new zz(s,(o,l)=>this.onKeyframesResolved(o,l),r,n,i),this.resolver.scheduleResolve()}initPlayback(t,r){var n;let{duration:i=300,times:s,ease:o,type:l,motionValue:c,name:u,startTime:d}=this.options;if(!(!((n=c.owner)===null||n===void 0)&&n.current))return!1;if(typeof o=="string"&&Iw()&&Zoe(o)&&(o=eV[o]),Yoe(this.options)){const{onComplete:h,onUpdate:p,motionValue:y,element:m,...v}=this.options,g=Xoe(t,v);t=g.keyframes,t.length===1&&(t[1]=t[0]),i=g.duration,s=g.times,o=g.ease,l="keyframes"}const f=Hoe(c.owner.current,u,t,{...this.options,duration:i,times:s,ease:o});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(IM(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:h}=this.options;c.set(Kj(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:i,times:s,type:l,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Tc(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Tc(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Cc(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return sa;const{animation:n}=r;IM(n,t)}return sa}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:i,type:s,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...p}=this.options,y=new _3({...p,keyframes:n,duration:i,type:s,ease:o,times:l,isGenerator:!0}),m=Cc(this.time);u.setWithVelocity(y.sample(m-Dw).value,y.sample(m).value,Dw)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:i,repeatType:s,damping:o,type:l}=t;return Koe()&&n&&Voe.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}}const Qoe=P3(()=>window.ScrollTimeline!==void 0);class Joe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,r){return Promise.all(this.animations).then(t).catch(r)}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(i=>Qoe()&&i.attachTimeline?i.attachTimeline(t):r(i));return()=>{n.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function ele({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const A3=(e,t,r,n={},i,s)=>o=>{const l=h3(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Cc(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i};ele(l)||(d={...d,..._se(e,d)}),d.duration&&(d.duration=Cc(d.duration)),d.repeatDelay&&(d.repeatDelay=Cc(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&t.get()!==void 0){const h=Kj(d.keyframes,l);if(h!==void 0)return Zr.update(()=>{d.onUpdate(h),d.onComplete()}),new Joe([])}return!s&&DM.supports(d)?new DM(d):new _3(d)},tle=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),rle=e=>NA(e)?e[e.length-1]||0:e;function k3(e,t){e.indexOf(t)===-1&&e.push(t)}function C3(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class T3{constructor(){this.subscriptions=[]}add(t){return k3(this.subscriptions,t),()=>C3(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const RM=30,nle=e=>!isNaN(parseFloat(e));class ile{constructor(t,r={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const s=El.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=El.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=nle(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new T3);const n=this.events[t].add(r);return t==="change"?()=>{n(),Zr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=El.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>RM)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,RM);return Wz(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function W0(e,t){return new ile(e,t)}function ale(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,W0(r))}function sle(e,t){const r=Hj(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const o in s){const l=rle(s[o]);ale(e,o,l)}}const E3=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ole="framerAppearId",tV="data-"+E3(ole);function rV(e){return e.props[tV]}const ia=e=>!!(e&&e.getVelocity);function lle(e){return!!(ia(e)&&e.add)}function MA(e,t){const r=e.getValue("willChange");if(lle(r))return r.add(t)}function cle({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function nV(e,t,{delay:r=0,transitionOverride:n,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in c){const h=e.getValue(f,(s=e.latestValues[f])!==null&&s!==void 0?s:null),p=c[f];if(p===void 0||d&&cle(d,f))continue;const y={delay:r,...h3(o||{},f)};let m=!1;if(window.MotionHandoffAnimation){const g=rV(e);if(g){const x=window.MotionHandoffAnimation(g,f,Zr);x!==null&&(y.startTime=x,m=!0)}}MA(e,f),h.start(A3(f,h,p,e.shouldReduceMotion&&Sh.has(f)?{type:!1}:y,e,m));const v=h.animation;v&&u.push(v)}return l&&Promise.all(u).then(()=>{Zr.update(()=>{l&&sle(e,l)})}),u}function LA(e,t,r={}){var n;const i=Hj(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);const o=i?()=>Promise.all(nV(e,i,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return ule(e,t,d+u,f,h,r)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(r.delay)])}function ule(e,t,r=0,n=0,i=1,s){const o=[],l=(e.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(dle).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(LA(u,t,{...s,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function dle(e,t){return e.sortNodePosition(t)}function fle(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>LA(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=LA(e,t,r);else{const i=typeof t=="function"?Hj(e,t,r.custom):t;n=Promise.all(nV(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const hle=f3.length;function iV(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?iV(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<hle;r++){const n=f3[r],i=e.props[n];(z0(i)||i===!1)&&(t[n]=i)}return t}const ple=[...d3].reverse(),mle=d3.length;function gle(e){return t=>Promise.all(t.map(({animation:r,options:n})=>fle(e,r,n)))}function xle(e){let t=gle(e),r=FM(),n=!0;const i=c=>(u,d)=>{var f;const h=Hj(e,d,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:y,...m}=h;u={...u,...m,...y}}return u};function s(c){t=c(e)}function o(c){const{props:u}=e,d=iV(e.parent)||{},f=[],h=new Set;let p={},y=1/0;for(let v=0;v<mle;v++){const g=ple[v],x=r[g],w=u[g]!==void 0?u[g]:d[g],j=z0(w),N=g===c?x.isActive:null;N===!1&&(y=v);let P=w===d[g]&&w!==u[g]&&j;if(P&&n&&e.manuallyAnimateOnMount&&(P=!1),x.protectedKeys={...p},!x.isActive&&N===null||!w&&!x.prevProp||Wj(w)||typeof w=="boolean")continue;const k=yle(x.prevProp,w);let C=k||g===c&&x.isActive&&!P&&j||v>y&&j,O=!1;const I=Array.isArray(w)?w:[w];let E=I.reduce(i(g),{});N===!1&&(E={});const{prevResolvedValues:A={}}=x,D={...A,...E},R=q=>{C=!0,h.has(q)&&(O=!0,h.delete(q)),x.needsAnimating[q]=!0;const B=e.getValue(q);B&&(B.liveStyle=!1)};for(const q in D){const B=E[q],Z=A[q];if(p.hasOwnProperty(q))continue;let le=!1;NA(B)&&NA(Z)?le=!xz(B,Z):le=B!==Z,le?B!=null?R(q):h.add(q):B!==void 0&&h.has(q)?R(q):x.protectedKeys[q]=!0}x.prevProp=w,x.prevResolvedValues=E,x.isActive&&(p={...p,...E}),n&&e.blockInitialAnimation&&(C=!1),C&&(!(P&&k)||O)&&f.push(...I.map(q=>({animation:q,options:{type:g}})))}if(h.size){const v={};h.forEach(g=>{const x=e.getBaseTarget(g),w=e.getValue(g);w&&(w.liveStyle=!0),v[g]=x??null}),f.push({animation:v})}let m=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function l(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),r[c].isActive=u;const f=o(c);for(const h in r)r[h].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=FM(),n=!0}}}function yle(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!xz(t,e):!1}function uf(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function FM(){return{animate:uf(!0),whileInView:uf(),whileHover:uf(),whileTap:uf(),whileDrag:uf(),whileFocus:uf(),exit:uf()}}class Ed{constructor(t){this.isMounted=!1,this.node=t}update(){}}class vle extends Ed{constructor(t){super(t),t.animationState||(t.animationState=xle(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Wj(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let ble=0;class wle extends Ed{constructor(){super(...arguments),this.id=ble++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const jle={animation:{Feature:vle},exit:{Feature:wle}};function Nle(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const s=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const vo={x:!1,y:!1};function aV(){return vo.x||vo.y}function $M(e){return t=>{t.pointerType==="touch"||aV()||e(t)}}function Sle(e,t,r={}){const n=new AbortController,i={passive:!0,...r,signal:n.signal},s=$M(o=>{const{target:l}=o,c=t(o);if(!c||!l)return;const u=$M(d=>{c(d),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return Nle(e).forEach(o=>{o.addEventListener("pointerenter",s,i)}),()=>n.abort()}function _le(e){return e==="x"||e==="y"?vo[e]?null:(vo[e]=!0,()=>{vo[e]=!1}):vo.x||vo.y?null:(vo.x=vo.y=!0,()=>{vo.x=vo.y=!1})}const sV=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function mv(e){return{point:{x:e.pageX,y:e.pageY}}}const Ple=e=>t=>sV(t)&&e(t,mv(t));function Nc(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function cd(e,t,r,n){return Nc(e,t,Ple(r),n)}const BM=(e,t)=>Math.abs(e-t);function Ale(e,t){const r=BM(e.x,t.x),n=BM(e.y,t.y);return Math.sqrt(r**2+n**2)}class oV{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=kS(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=Ale(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:y}=f,{timestamp:m}=Fi;this.history.push({...y,timestamp:m});const{onStart:v,onMove:g}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=AS(h,this.transformPagePoint),Zr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=kS(f.type==="pointercancel"?this.lastMoveEventInfo:AS(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,v),y&&y(f,v)},!sV(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=mv(t),l=AS(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Fi;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,kS(l,this.history)),this.removeListeners=ld(cd(this.contextWindow,"pointermove",this.handlePointerMove),cd(this.contextWindow,"pointerup",this.handlePointerUp),cd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),bd(this.updatePoint)}}function AS(e,t){return t?{point:t(e.point)}:e}function UM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function kS({point:e},t){return{point:e,delta:UM(e,lV(t)),offset:UM(e,kle(t)),velocity:Cle(t,.1)}}function kle(e){return e[0]}function lV(e){return e[e.length-1]}function Cle(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=lV(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>Cc(t)));)r--;if(!n)return{x:0,y:0};const s=Tc(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function jp(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const cV=1e-4,Tle=1-cV,Ele=1+cV,uV=.01,Ole=0-uV,Mle=0+uV;function xs(e){return e.max-e.min}function Lle(e,t,r){return Math.abs(e-t)<=r}function zM(e,t,r,n=.5){e.origin=n,e.originPoint=_n(t.min,t.max,e.origin),e.scale=xs(r)/xs(t),e.translate=_n(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Tle&&e.scale<=Ele||isNaN(e.scale))&&(e.scale=1),(e.translate>=Ole&&e.translate<=Mle||isNaN(e.translate))&&(e.translate=0)}function o0(e,t,r,n){zM(e.x,t.x,r.x,n?n.originX:void 0),zM(e.y,t.y,r.y,n?n.originY:void 0)}function VM(e,t,r){e.min=r.min+t.min,e.max=e.min+xs(t)}function Ile(e,t,r){VM(e.x,t.x,r.x),VM(e.y,t.y,r.y)}function qM(e,t,r){e.min=t.min-r.min,e.max=e.min+xs(t)}function l0(e,t,r){qM(e.x,t.x,r.x),qM(e.y,t.y,r.y)}function Dle(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?_n(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?_n(r,e,n.max):Math.min(e,r)),e}function WM(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Rle(e,{top:t,left:r,bottom:n,right:i}){return{x:WM(e.x,r,i),y:WM(e.y,t,n)}}function HM(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Fle(e,t){return{x:HM(e.x,t.x),y:HM(e.y,t.y)}}function $le(e,t){let r=.5;const n=xs(e),i=xs(t);return i>n?r=_m(t.min,t.max-n,e.min):n>i&&(r=_m(e.min,e.max-i,t.min)),Hc(0,1,r)}function Ble(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const IA=.35;function Ule(e=IA){return e===!1?e=0:e===!0&&(e=IA),{x:KM(e,"left","right"),y:KM(e,"top","bottom")}}function KM(e,t,r){return{min:GM(e,t),max:GM(e,r)}}function GM(e,t){return typeof e=="number"?e:e[t]||0}const YM=()=>({translate:0,scale:1,origin:0,originPoint:0}),Np=()=>({x:YM(),y:YM()}),XM=()=>({min:0,max:0}),Vn=()=>({x:XM(),y:XM()});function Ds(e){return[e("x"),e("y")]}function dV({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function zle({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Vle(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function CS(e){return e===void 0||e===1}function DA({scale:e,scaleX:t,scaleY:r}){return!CS(e)||!CS(t)||!CS(r)}function pf(e){return DA(e)||fV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function fV(e){return ZM(e.x)||ZM(e.y)}function ZM(e){return e&&e!=="0%"}function Rw(e,t,r){const n=e-r,i=t*n;return r+i}function QM(e,t,r,n,i){return i!==void 0&&(e=Rw(e,i,n)),Rw(e,r,n)+t}function RA(e,t=0,r=1,n,i){e.min=QM(e.min,t,r,n,i),e.max=QM(e.max,t,r,n,i)}function hV(e,{x:t,y:r}){RA(e.x,t.translate,t.scale,t.originPoint),RA(e.y,r.translate,r.scale,r.originPoint)}const JM=.999999999999,eL=1.0000000000001;function qle(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,o;for(let l=0;l<i;l++){s=r[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&_p(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,hV(e,o)),n&&pf(s.latestValues)&&_p(e,s.latestValues))}t.x<eL&&t.x>JM&&(t.x=1),t.y<eL&&t.y>JM&&(t.y=1)}function Sp(e,t){e.min=e.min+t,e.max=e.max+t}function tL(e,t,r,n,i=.5){const s=_n(e.min,e.max,i);RA(e,t,r,s,n)}function _p(e,t){tL(e.x,t.x,t.scaleX,t.scale,t.originX),tL(e.y,t.y,t.scaleY,t.scale,t.originY)}function pV(e,t){return dV(Vle(e.getBoundingClientRect(),t))}function Wle(e,t,r){const n=pV(e,r),{scroll:i}=t;return i&&(Sp(n.x,i.offset.x),Sp(n.y,i.offset.y)),n}const mV=({current:e})=>e?e.ownerDocument.defaultView:null,Hle=new WeakMap;class Kle{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(mv(d).point)},s=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:y}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_le(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ds(v=>{let g=this.getAxisMotionValue(v).get()||0;if(Tl.test(g)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[v];w&&(g=xs(w)*(parseFloat(g)/100))}}this.originPoint[v]=g}),y&&Zr.postRender(()=>y(d,f)),MA(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:y,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(p&&this.currentDirection===null){this.currentDirection=Gle(v),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),m&&m(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Ds(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new oV(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:mV(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Zr.postRender(()=>s(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!Vb(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=Dle(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;r&&jp(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=Rle(i.layoutBox,r):this.constraints=!1,this.elastic=Ule(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ds(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Ble(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!jp(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Wle(n,i.root,this.visualElement.getTransformPagePoint());let o=Fle(i.layout.layoutBox,s);if(r){const l=r(zle(o));this.hasMutatedConstraints=!!l,l&&(o=dV(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ds(d=>{if(!Vb(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,y={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return MA(this.visualElement,t),n.start(A3(t,n,0,r,this.visualElement,!1))}stopAnimation(){Ds(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ds(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ds(r=>{const{drag:n}=this.getProps();if(!Vb(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];s.set(t[r]-_n(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!jp(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ds(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=$le({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ds(o=>{if(!Vb(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(_n(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Hle.set(this.visualElement,this);const t=this.visualElement.current,r=cd(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();jp(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Zr.read(n);const o=Nc(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ds(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=IA,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function Vb(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Gle(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Yle extends Ed{constructor(t){super(t),this.removeGroupControls=sa,this.removeListeners=sa,this.controls=new Kle(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sa}unmount(){this.removeGroupControls(),this.removeListeners()}}const rL=e=>(t,r)=>{e&&Zr.postRender(()=>e(t,r))};class Xle extends Ed{constructor(){super(...arguments),this.removePointerDownListener=sa}onPointerDown(t){this.session=new oV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:rL(t),onStart:rL(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&Zr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=cd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gj=S.createContext(null);function Zle(){const e=S.useContext(Gj);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,i=S.useId();S.useEffect(()=>n(i),[]);const s=S.useCallback(()=>r&&r(i),[i,r]);return!t&&r?[!1,s]:[!0]}const O3=S.createContext({}),gV=S.createContext({}),$1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nL(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const yx={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Dt.test(e))e=parseFloat(e);else return e;const r=nL(e,t.target.x),n=nL(e,t.target.y);return`${r}% ${n}%`}},Qle={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=wd.parse(e);if(i.length>5)return n;const s=wd.createTransformer(e),o=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const u=_n(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}},Fw={};function Jle(e){Object.assign(Fw,e)}const{schedule:M3,cancel:uUe}=yz(queueMicrotask,!1);class ece extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;Jle(tce),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),$1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Zr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),M3.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function xV(e){const[t,r]=Zle(),n=S.useContext(O3);return a.jsx(ece,{...e,layoutGroup:n,switchLayoutGroup:S.useContext(gV),isPresent:t,safeToRemove:r})}const tce={borderRadius:{...yx,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yx,borderTopRightRadius:yx,borderBottomLeftRadius:yx,borderBottomRightRadius:yx,boxShadow:Qle},yV=["TopLeft","TopRight","BottomLeft","BottomRight"],rce=yV.length,iL=e=>typeof e=="string"?parseFloat(e):e,aL=e=>typeof e=="number"||Dt.test(e);function nce(e,t,r,n,i,s){i?(e.opacity=_n(0,r.opacity!==void 0?r.opacity:1,ice(n)),e.opacityExit=_n(t.opacity!==void 0?t.opacity:1,0,ace(n))):s&&(e.opacity=_n(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<rce;o++){const l=`border${yV[o]}Radius`;let c=sL(t,l),u=sL(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||aL(c)===aL(u)?(e[l]=Math.max(_n(iL(c),iL(u),n),0),(Tl.test(u)||Tl.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=_n(t.rotate||0,r.rotate||0,n))}function sL(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ice=vV(0,.5,_z),ace=vV(.5,.95,sa);function vV(e,t,r){return n=>n<e?0:n>t?1:r(_m(e,t,n))}function oL(e,t){e.min=t.min,e.max=t.max}function Os(e,t){oL(e.x,t.x),oL(e.y,t.y)}function lL(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function cL(e,t,r,n,i){return e-=t,e=Rw(e,1/r,n),i!==void 0&&(e=Rw(e,1/i,n)),e}function sce(e,t=0,r=1,n=.5,i,s=e,o=e){if(Tl.test(t)&&(t=parseFloat(t),t=_n(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=_n(s.min,s.max,n);e===s&&(l-=t),e.min=cL(e.min,t,r,l,i),e.max=cL(e.max,t,r,l,i)}function uL(e,t,[r,n,i],s,o){sce(e,t[r],t[n],t[i],t.scale,s,o)}const oce=["x","scaleX","originX"],lce=["y","scaleY","originY"];function dL(e,t,r,n){uL(e.x,t,oce,r?r.x:void 0,n?n.x:void 0),uL(e.y,t,lce,r?r.y:void 0,n?n.y:void 0)}function fL(e){return e.translate===0&&e.scale===1}function bV(e){return fL(e.x)&&fL(e.y)}function hL(e,t){return e.min===t.min&&e.max===t.max}function cce(e,t){return hL(e.x,t.x)&&hL(e.y,t.y)}function pL(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function wV(e,t){return pL(e.x,t.x)&&pL(e.y,t.y)}function mL(e){return xs(e.x)/xs(e.y)}function gL(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class uce{constructor(){this.members=[]}add(t){k3(this.members,t),t.scheduleRender()}remove(t){if(C3(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dce(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:y}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),y&&(n+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const fce=(e,t)=>e.depth-t.depth;class hce{constructor(){this.children=[],this.isDirty=!1}add(t){k3(this.children,t),this.isDirty=!0}remove(t){C3(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(fce),this.isDirty=!1,this.children.forEach(t)}}function B1(e){const t=ia(e)?e.get():e;return tle(t)?t.toValue():t}function pce(e,t){const r=El.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(bd(n),e(s-t))};return Zr.read(n,!0),()=>bd(n)}function mce(e){return e instanceof SVGElement&&e.tagName!=="svg"}function gce(e,t,r){const n=ia(e)?e:W0(e);return n.start(A3("",n,t,r)),n.animation}const mf={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Vx=typeof window<"u"&&window.MotionDebug!==void 0,TS=["","X","Y","Z"],xce={visibility:"hidden"},xL=1e3;let yce=0;function ES(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function jV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=rV(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Zr,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&jV(n)}function NV({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=yce++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Vx&&(mf.totalNodes=mf.resolvedTargetDeltas=mf.recalculatedProjection=0),this.nodes.forEach(wce),this.nodes.forEach(Pce),this.nodes.forEach(Ace),this.nodes.forEach(jce),Vx&&window.MotionDebug.record(mf)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new hce)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new T3),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=mce(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=pce(h,250),$1.hasAnimatedSinceResize&&($1.hasAnimatedSinceResize=!1,this.nodes.forEach(vL))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||Oce,{onLayoutAnimationStart:v,onLayoutAnimationComplete:g}=d.getProps(),x=!this.targetLayout||!wV(this.targetLayout,y)||p,w=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const j={...h3(m,"layout"),onPlay:v,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else h||vL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kce),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yL);return}this.isUpdating||this.nodes.forEach(Sce),this.isUpdating=!1,this.nodes.forEach(_ce),this.nodes.forEach(vce),this.nodes.forEach(bce),this.clearAllSnapshots();const l=El.now();Fi.delta=Hc(0,1e3/60,l-Fi.timestamp),Fi.timestamp=l,Fi.isProcessing=!0,jS.update.process(Fi),jS.preRender.process(Fi),jS.render.process(Fi),Fi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,M3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Nce),this.sharedNodes.forEach(Cce)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!bV(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||pf(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Mce(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Vn();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Lce))){const{scroll:d}=this.root;d&&(Sp(c.x,d.offset.x),Sp(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=Vn();if(Os(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Os(c,o),Sp(c.x,f.offset.x),Sp(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=Vn();Os(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&_p(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),pf(d.latestValues)&&_p(c,d.latestValues)}return pf(this.latestValues)&&_p(c,this.latestValues),c}removeTransform(o){const l=Vn();Os(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!pf(u.latestValues))continue;DA(u.latestValues)&&u.updateSnapshot();const d=Vn(),f=u.measurePageBox();Os(d,f),dL(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return pf(this.latestValues)&&dL(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Fi.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vn(),this.relativeTargetOrigin=Vn(),l0(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Vn(),this.targetWithTransforms=Vn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ile(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Os(this.target,this.layout.layoutBox),hV(this.target,this.targetDelta)):Os(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vn(),this.relativeTargetOrigin=Vn(),l0(this.relativeTargetOrigin,this.target,p.target),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Vx&&mf.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||DA(this.parent.latestValues)||fV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Fi.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Os(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;qle(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Vn());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lL(this.prevProjectionDelta.x,this.projectionDelta.x),lL(this.prevProjectionDelta.y,this.projectionDelta.y)),o0(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!gL(this.projectionDelta.x,this.prevProjectionDelta.x)||!gL(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Vx&&mf.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Np(),this.projectionDelta=Np(),this.projectionDeltaWithTransform=Np()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Np();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Vn(),p=c?c.source:void 0,y=this.layout?this.layout.source:void 0,m=p!==y,v=this.getStack(),g=!v||v.members.length<=1,x=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(Ece));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const N=j/1e3;bL(f.x,o.x,N),bL(f.y,o.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(l0(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Tce(this.relativeTarget,this.relativeTargetOrigin,h,N),w&&cce(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Vn()),Os(w,this.relativeTarget)),m&&(this.animationValues=d,nce(d,u,this.latestValues,N,x,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zr.update(()=>{$1.hasAnimatedSinceResize=!0,this.currentAnimation=gce(0,xL,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&SV(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Vn();const f=xs(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=xs(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Os(l,c),_p(l,d),o0(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new uce),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&ES("z",o,u,this.animationValues);for(let d=0;d<TS.length;d++)ES(`rotate${TS[d]}`,o,u,this.animationValues),ES(`skew${TS[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return xce;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=B1(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=B1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!pf(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=dce(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in Fw){if(h[m]===void 0)continue;const{correct:v,applyTo:g}=Fw[m],x=u.transform==="none"?h[m]:v(h[m],f);if(g){const w=g.length;for(let j=0;j<w;j++)u[g[j]]=x}else u[m]=x}return this.options.layoutId&&(u.pointerEvents=f===this?B1(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(yL),this.root.sharedNodes.clear()}}}function vce(e){e.updateLayout()}function bce(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,o=r.source!==e.layout.source;s==="size"?Ds(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=xs(h);h.min=n[f].min,h.max=h.min+p}):SV(s,r.layoutBox,n)&&Ds(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=xs(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=Np();o0(l,n,r.layoutBox);const c=Np();o?o0(c,e.applyTransform(i,!0),r.measuredBox):o0(c,n,r.layoutBox);const u=!bV(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const y=Vn();l0(y,r.layoutBox,h.layoutBox);const m=Vn();l0(m,n,p.layoutBox),wV(y,m)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=y,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function wce(e){Vx&&mf.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function jce(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Nce(e){e.clearSnapshot()}function yL(e){e.clearMeasurements()}function Sce(e){e.isLayoutDirty=!1}function _ce(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function vL(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Pce(e){e.resolveTargetDelta()}function Ace(e){e.calcProjection()}function kce(e){e.resetSkewAndRotation()}function Cce(e){e.removeLeadSnapshot()}function bL(e,t,r){e.translate=_n(t.translate,0,r),e.scale=_n(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function wL(e,t,r,n){e.min=_n(t.min,r.min,n),e.max=_n(t.max,r.max,n)}function Tce(e,t,r,n){wL(e.x,t.x,r.x,n),wL(e.y,t.y,r.y,n)}function Ece(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Oce={duration:.45,ease:[.4,0,.1,1]},jL=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),NL=jL("applewebkit/")&&!jL("chrome/")?Math.round:sa;function SL(e){e.min=NL(e.min),e.max=NL(e.max)}function Mce(e){SL(e.x),SL(e.y)}function SV(e,t,r){return e==="position"||e==="preserve-aspect"&&!Lle(mL(t),mL(r),.2)}function Lce(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Ice=NV({attachResizeListener:(e,t)=>Nc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),OS={current:void 0},_V=NV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!OS.current){const e=new Ice({});e.mount(window),e.setOptions({layoutScroll:!0}),OS.current=e}return OS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Dce={pan:{Feature:Xle},drag:{Feature:Yle,ProjectionNode:_V,MeasureLayout:xV}};function _L(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r);const i=n[r?"onHoverStart":"onHoverEnd"];i&&Zr.postRender(()=>i(t,mv(t)))}class Rce extends Ed{mount(){const{current:t,props:r}=this.node;t&&(this.unmount=Sle(t,n=>(_L(this.node,n,!0),i=>_L(this.node,i,!1)),{passive:!r.onHoverStart&&!r.onHoverEnd}))}unmount(){}}class Fce extends Ed{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ld(Nc(this.node.current,"focus",()=>this.onFocus()),Nc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const PV=(e,t)=>t?e===t?!0:PV(e,t.parentElement):!1;function MS(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,mv(r))}class $ce extends Ed{constructor(){super(...arguments),this.removeStartListeners=sa,this.removeEndListeners=sa,this.removeAccessibleListeners=sa,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),s=cd(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps(),h=!f&&!PV(this.node.current,l.target)?d:u;h&&Zr.update(()=>h(l,c))},{passive:!(n.onTap||n.onPointerUp)}),o=cd(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=ld(s,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||MS("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Zr.postRender(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Nc(this.node.current,"keyup",o),MS("down",(l,c)=>{this.startPress(l,c)})},r=Nc(this.node.current,"keydown",t),n=()=>{this.isPressing&&MS("cancel",(s,o)=>this.cancelPress(s,o))},i=Nc(this.node.current,"blur",n);this.removeAccessibleListeners=ld(r,i)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Zr.postRender(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!aV()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Zr.postRender(()=>n(t,r))}mount(){const t=this.node.getProps(),r=cd(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Nc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ld(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const FA=new WeakMap,LS=new WeakMap,Bce=e=>{const t=FA.get(e.target);t&&t(e)},Uce=e=>{e.forEach(Bce)};function zce({root:e,...t}){const r=e||document;LS.has(r)||LS.set(r,{});const n=LS.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(Uce,{root:e,...t})),n[i]}function Vce(e,t,r){const n=zce(t);return FA.set(e,r),n.observe(e),()=>{FA.delete(e),n.unobserve(e)}}const qce={some:0,all:1};class Wce extends Ed{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:qce[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return Vce(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Hce(t,r))&&this.startObserver()}unmount(){}}function Hce({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Kce={inView:{Feature:Wce},tap:{Feature:$ce},focus:{Feature:Fce},hover:{Feature:Rce}},Gce={layout:{ProjectionNode:_V,MeasureLayout:xV}},L3=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Yj=S.createContext({}),I3=typeof window<"u",AV=I3?S.useLayoutEffect:S.useEffect,kV=S.createContext({strict:!1});function Yce(e,t,r,n,i){var s,o;const{visualElement:l}=S.useContext(Yj),c=S.useContext(kV),u=S.useContext(Gj),d=S.useContext(L3).reducedMotion,f=S.useRef();n=n||c.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,p=S.useContext(gV);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&Xce(f.current,r,i,p);const y=S.useRef(!1);S.useInsertionEffect(()=>{h&&y.current&&h.update(r,u)});const m=r[tV],v=S.useRef(!!m&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,m))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,m)));return AV(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),M3.render(h.render),v.current&&h.animationState&&h.animationState.animateChanges())}),S.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,m)}),v.current=!1))}),h}function Xce(e,t,r,n){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:CV(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&jp(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function CV(e){if(e)return e.options.allowProjection!==!1?e.projection:CV(e.parent)}function Zce(e,t,r){return S.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):jp(r)&&(r.current=n))},[t])}function Xj(e){return Wj(e.animate)||f3.some(t=>z0(e[t]))}function TV(e){return!!(Xj(e)||e.variants)}function Qce(e,t){if(Xj(e)){const{initial:r,animate:n}=e;return{initial:r===!1||z0(r)?r:void 0,animate:z0(n)?n:void 0}}return e.inherit!==!1?t:{}}function Jce(e){const{initial:t,animate:r}=Qce(e,S.useContext(Yj));return S.useMemo(()=>({initial:t,animate:r}),[PL(t),PL(r)])}function PL(e){return Array.isArray(e)?e.join(" "):e}const AL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pm={};for(const e in AL)Pm[e]={isEnabled:t=>AL[e].some(r=>!!t[r])};function eue(e){for(const t in e)Pm[t]={...Pm[t],...e[t]}}const tue=Symbol.for("motionComponentSymbol");function rue({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){e&&eue(e);function s(l,c){let u;const d={...S.useContext(L3),...l,layoutId:nue(l)},{isStatic:f}=d,h=Jce(l),p=n(l,f);if(!f&&I3){iue();const y=aue(d);u=y.MeasureLayout,h.visualElement=Yce(i,p,d,t,y.ProjectionNode)}return a.jsxs(Yj.Provider,{value:h,children:[u&&h.visualElement?a.jsx(u,{visualElement:h.visualElement,...d}):null,r(i,l,Zce(p,h.visualElement,c),p,f,h.visualElement)]})}const o=S.forwardRef(s);return o[tue]=i,o}function nue({layoutId:e}){const t=S.useContext(O3).id;return t&&e!==void 0?t+"-"+e:e}function iue(e,t){S.useContext(kV).strict}function aue(e){const{drag:t,layout:r}=Pm;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const sue=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function D3(e){return typeof e!="string"||e.includes("-")?!1:!!(sue.indexOf(e)>-1||/[A-Z]/u.test(e))}function EV(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const s in r)e.style.setProperty(s,r[s])}const OV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function MV(e,t,r,n){EV(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(OV.has(i)?i:E3(i),t.attrs[i])}function LV(e,{layout:t,layoutId:r}){return Sh.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Fw[e]||e==="opacity")}function R3(e,t,r){var n;const{style:i}=e,s={};for(const o in i)(ia(i[o])||t.style&&ia(t.style[o])||LV(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function IV(e,t,r){const n=R3(e,t,r);for(const i in e)if(ia(e[i])||ia(t[i])){const s=fv.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}function F3(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}function oue({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,i,s){const o={latestValues:lue(n,i,s,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const DV=e=>(t,r)=>{const n=S.useContext(Yj),i=S.useContext(Gj),s=()=>oue(e,t,n,i);return r?s():F3(s)};function lue(e,t,r,n){const i={},s=n(e,{});for(const h in s)i[h]=B1(s[h]);let{initial:o,animate:l}=e;const c=Xj(e),u=TV(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!Wj(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const y=u3(e,h[p]);if(y){const{transitionEnd:m,transition:v,...g}=y;for(const x in g){let w=g[x];if(Array.isArray(w)){const j=d?w.length-1:0;w=w[j]}w!==null&&(i[x]=w)}for(const x in m)i[x]=m[x]}}}return i}const $3=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),RV=()=>({...$3(),attrs:{}}),FV=(e,t)=>t&&typeof e=="number"?t.transform(e):e,cue={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uue=fv.length;function due(e,t,r){let n="",i=!0;for(let s=0;s<uue;s++){const o=fv[s],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=FV(l,b3[o]);if(!c){i=!1;const d=cue[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function B3(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Sh.has(c)){o=!0;continue}else if(Tz(c)){i[c]=u;continue}else{const d=FV(u,b3[c]);c.startsWith("origin")?(l=!0,s[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=due(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${c} ${u} ${d}`}}function kL(e,t,r){return typeof e=="string"?e:Dt.transform(t+r*e)}function fue(e,t,r){const n=kL(t,e.x,e.width),i=kL(r,e.y,e.height);return`${n} ${i}`}const hue={offset:"stroke-dashoffset",array:"stroke-dasharray"},pue={offset:"strokeDashoffset",array:"strokeDasharray"};function mue(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?hue:pue;e[s.offset]=Dt.transform(-n);const o=Dt.transform(t),l=Dt.transform(r);e[s.array]=`${o} ${l}`}function U3(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(B3(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:y}=e;h.transform&&(y&&(p.transform=h.transform),delete h.transform),y&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=fue(y,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),o!==void 0&&mue(h,o,l,c,!1)}const z3=e=>typeof e=="string"&&e.toLowerCase()==="svg",gue={useVisualState:DV({scrapeMotionValuesFromProps:IV,createRenderState:RV,onMount:(e,t,{renderState:r,latestValues:n})=>{Zr.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Zr.render(()=>{U3(r,n,z3(t.tagName),e.transformTemplate),MV(t,r)})}})},xue={useVisualState:DV({scrapeMotionValuesFromProps:R3,createRenderState:$3})};function $V(e,t,r){for(const n in t)!ia(t[n])&&!LV(n,r)&&(e[n]=t[n])}function yue({transformTemplate:e},t){return S.useMemo(()=>{const r=$3();return B3(r,t,e),Object.assign({},r.vars,r.style)},[t])}function vue(e,t){const r=e.style||{},n={};return $V(n,r,e),Object.assign(n,yue(e,t)),n}function bue(e,t){const r={},n=vue(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const wue=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $w(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||wue.has(e)}let BV=e=>!$w(e);function jue(e){e&&(BV=t=>t.startsWith("on")?!$w(t):e(t))}try{jue(require("@emotion/is-prop-valid").default)}catch{}function Nue(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(BV(i)||r===!0&&$w(i)||!t&&!$w(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function Sue(e,t,r,n){const i=S.useMemo(()=>{const s=RV();return U3(s,t,z3(n),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};$V(s,e.style,e),i.style={...s,...i.style}}return i}function _ue(e=!1){return(r,n,i,{latestValues:s},o)=>{const c=(D3(r)?Sue:bue)(n,s,o,r),u=Nue(n,typeof r=="string",e),d=r!==S.Fragment?{...u,...c,ref:i}:{},{children:f}=n,h=S.useMemo(()=>ia(f)?f.get():f,[f]);return S.createElement(r,{...d,children:h})}}function Pue(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...D3(n)?gue:xue,preloadedFeatures:e,useRender:_ue(i),createVisualElement:t,Component:n};return rue(o)}}const $A={current:null},UV={current:!1};function Aue(){if(UV.current=!0,!!I3)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$A.current=e.matches;e.addListener(t),t()}else $A.current=!1}function kue(e,t,r){for(const n in t){const i=t[n],s=r[n];if(ia(i))e.addValue(n,i);else if(ia(s))e.addValue(n,W0(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,W0(o!==void 0?o:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const CL=new WeakMap,Cue=[...Mz,Ji,wd],Tue=e=>Cue.find(Oz(e)),TL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Eue{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=x3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=El.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Zr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=Xj(r),this.isVariantNode=TV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];c[h]!==void 0&&ia(p)&&p.set(c[h],!1)}}mount(t){this.current=t,CL.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),UV.current||Aue(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$A.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){CL.delete(this.current),this.projection&&this.projection.unmount(),bd(this.notifyUpdate),bd(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Sh.has(t),i=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Zr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Pm){const r=Pm[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<TL.length;n++){const i=TL[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=kue(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=W0(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(kz(i)||Az(i))?i=parseFloat(i):!Tue(i)&&wd.test(r)&&(i=Uz(t,r)),this.setBaseTarget(t,ia(i)?i.get():i)),ia(i)?i.get():i}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=u3(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ia(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new T3),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class zV extends Eue{constructor(){super(...arguments),this.KeyframeResolver=zz}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ia(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Oue(e){return window.getComputedStyle(e)}class Mue extends zV{constructor(){super(...arguments),this.type="html",this.renderInstance=EV}readValueFromInstance(t,r){if(Sh.has(r)){const n=w3(r);return n&&n.default||0}else{const n=Oue(t),i=(Tz(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return pV(t,r)}build(t,r,n){B3(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return R3(t,r,n)}}class Lue extends zV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Sh.has(r)){const n=w3(r);return n&&n.default||0}return r=OV.has(r)?r:E3(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return IV(t,r,n)}build(t,r,n){U3(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,i){MV(t,r,n,i)}mount(t){this.isSVGTag=z3(t.tagName),super.mount(t)}}const Iue=(e,t)=>D3(e)?new Lue(t):new Mue(t,{allowProjection:e!==S.Fragment}),Due=Pue({...jle,...Kce,...Dce,...Gce},Iue),K=bse(Due);class Rue extends S.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Fue({children:e,isPresent:t}){const r=S.useId(),n=S.useRef(null),i=S.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=S.useContext(L3);return S.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=i.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),a.jsx(Rue,{isPresent:t,childRef:n,sizeRef:i,children:S.cloneElement(e,{ref:n})})}const $ue=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o})=>{const l=F3(Bue),c=S.useId(),u=S.useCallback(f=>{l.set(f,!0);for(const h of l.values())if(!h)return;n&&n()},[l,n]),d=S.useMemo(()=>({id:c,initial:t,isPresent:r,custom:i,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),s?[Math.random(),u]:[r,u]);return S.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[r]),S.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=a.jsx(Fue,{isPresent:r,children:e})),a.jsx(Gj.Provider,{value:d,children:e})};function Bue(){return new Map}const qb=e=>e.key||"";function EL(e){const t=[];return S.Children.forEach(e,r=>{S.isValidElement(r)&&t.push(r)}),t}const gv=({children:e,exitBeforeEnter:t,custom:r,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const l=S.useMemo(()=>EL(e),[e]),c=l.map(qb),u=S.useRef(!0),d=S.useRef(l),f=F3(()=>new Map),[h,p]=S.useState(l),[y,m]=S.useState(l);AV(()=>{u.current=!1,d.current=l;for(let x=0;x<y.length;x++){const w=qb(y[x]);c.includes(w)?f.delete(w):f.get(w)!==!0&&f.set(w,!1)}},[y,c.length,c.join("-")]);const v=[];if(l!==h){let x=[...l];for(let w=0;w<y.length;w++){const j=y[w],N=qb(j);c.includes(N)||(x.splice(w,0,j),v.push(j))}o==="wait"&&v.length&&(x=v),m(EL(x)),p(l);return}const{forceRender:g}=S.useContext(O3);return a.jsx(a.Fragment,{children:y.map(x=>{const w=qb(x),j=l===y||c.includes(w),N=()=>{if(f.has(w))f.set(w,!0);else return;let P=!0;f.forEach(k=>{k||(P=!1)}),P&&(g==null||g(),m(d.current),i&&i())};return a.jsx($ue,{isPresent:j,initial:!u.current||n?void 0:!1,custom:j?void 0:r,presenceAffectsLayout:s,mode:o,onExitComplete:j?void 0:N,children:x},w)})})},Uue=ov("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=S.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},s)=>{const o=n?WB:"button";return a.jsx(o,{className:_t(Uue({variant:t,size:r,className:e})),ref:s,...i})});ie.displayName="Button";function zue(){const[,e]=Jt();return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsx(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 elevation-1 sticky top-0 z-40",children:a.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:a.jsx(ah,{className:"w-5 h-5"})}),a.jsx("div",{children:a.jsx("h1",{className:"text-xl font-bold",children:"Page Not Found"})})]}),a.jsxs(ie,{onClick:()=>e("/dashboard"),className:"hidden sm:flex gap-2",children:[a.jsx(iM,{className:"w-4 h-4"}),"Dashboard"]})]})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12 md:py-24",children:a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(K.div,{animate:{y:[0,-10,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"text-8xl md:text-9xl font-bold bg-gradient-to-br from-primary via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"404"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:"Page Not Found"}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-md mx-auto",children:"Sorry, we couldn't find the page you're looking for. It might have been moved or doesn't exist."})]}),a.jsx(K.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"flex justify-center py-8",children:a.jsx("div",{className:"w-32 h-32 md:w-48 md:h-48 rounded-full bg-gradient-to-br from-primary/10 to-purple-500/10 flex items-center justify-center",children:a.jsx(vU,{className:"w-16 h-16 md:w-24 md:h-24 text-primary opacity-50"})})}),a.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"flex flex-col sm:flex-row gap-3 justify-center pt-8",children:[a.jsxs(ie,{onClick:()=>e("/dashboard"),className:"gap-2 h-11 px-6",size:"lg",children:[a.jsx(iM,{className:"w-5 h-5"}),"Go to Dashboard"]}),a.jsxs(ie,{onClick:()=>e("/"),variant:"outline",className:"gap-2 h-11 px-6",size:"lg",children:[a.jsx(ah,{className:"w-5 h-5"}),"Go Home"]})]}),a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"pt-12 border-t border-border",children:[a.jsx("p",{className:"text-sm font-semibold text-muted-foreground mb-4",children:"Quick Links"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 max-w-2xl mx-auto",children:[{label:"Transactions",path:"/transactions"},{label:"Send Money",path:"/send-money"},{label:"Cards",path:"/cards"},{label:"Settings",path:"/settings"}].map((t,r)=>a.jsx(K.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5+r*.1},onClick:()=>e(t.path),className:"px-4 py-2 rounded-lg bg-muted hover:bg-muted/80 text-sm font-medium transition-colors",children:t.label},t.path))})]}),a.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-xs text-muted-foreground pt-6",children:a.jsx("p",{children:"If you think this is a mistake, please contact support"})})]})})]})}function Vue(){const[,e]=Jt(),{isAuthenticated:t,isLoading:r}=kr();return S.useEffect(()=>{if(!r)if(t)e("/dashboard");else{const n=setTimeout(()=>{e("/login")},2e3);return()=>clearTimeout(n)}},[t,r,e]),a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#10b981] to-[#059669] flex flex-col",style:{background:"linear-gradient(to bottom right, #10b981, #059669)"},children:[a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-white px-6",children:[a.jsx(K.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6,type:"spring"},className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mb-8 elevation-3",children:a.jsx("span",{className:"material-icons text-[#10b981] text-4xl",style:{fontSize:"40px",color:"#10b981"},children:"attach_money"})}),a.jsx(K.h1,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.6},className:"text-4xl font-bold mb-4 text-center","data-testid":"app-title",children:"Welcome to GreenPay"}),a.jsx(K.p,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.6},className:"text-xl text-center text-green-100 mb-8 max-w-sm",children:"Send money to Africa safely, quickly, and affordably"}),a.jsxs(K.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.6},className:"w-full max-w-sm space-y-4",children:[a.jsx(K.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("/login"),className:"w-full bg-white text-[#10b981] font-semibold py-4 px-6 rounded-xl ripple elevation-2 transition-all duration-200 hover:bg-gray-50",style:{color:"#10b981",backgroundColor:"#ffffff"},"data-testid":"button-signin",children:"Sign In"}),a.jsx(K.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("/signup"),className:"w-full border-2 border-white text-white font-semibold py-4 px-6 rounded-xl ripple transition-all duration-200 hover:bg-white hover:text-primary","data-testid":"button-signup",children:"Create Account"})]})]}),a.jsx(K.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.6},className:"p-6 text-center",children:a.jsx("p",{className:"text-green-200 text-sm",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})})]})}var xv=e=>e.type==="checkbox",Cf=e=>e instanceof Date,xa=e=>e==null;const VV=e=>typeof e=="object";var Qn=e=>!xa(e)&&!Array.isArray(e)&&VV(e)&&!Cf(e),qV=e=>Qn(e)&&e.target?xv(e.target)?e.target.checked:e.target.value:e,que=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,WV=(e,t)=>e.has(que(t)),Wue=e=>{const t=e.constructor&&e.constructor.prototype;return Qn(t)&&t.hasOwnProperty("isPrototypeOf")},V3=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Li(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(V3&&(e instanceof Blob||n))&&(r||Qn(e)))if(t=r?[]:{},!r&&!Wue(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Li(e[i]));else return e;return t}var Zj=e=>Array.isArray(e)?e.filter(Boolean):[],qn=e=>e===void 0,at=(e,t,r)=>{if(!t||!Qn(e))return r;const n=Zj(t.split(/[,[\].]+?/)).reduce((i,s)=>xa(i)?i:i[s],e);return qn(n)||n===e?qn(e[t])?r:e[t]:n},is=e=>typeof e=="boolean",q3=e=>/^\w*$/.test(e),HV=e=>Zj(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Dr=(e,t,r)=>{let n=-1;const i=q3(t)?[t]:HV(t),s=i.length,o=s-1;for(;++n<s;){const l=i[n];let c=r;if(n!==o){const u=e[l];c=Qn(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Bw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},To={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},cc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},KV=se.createContext(null),Qj=()=>se.useContext(KV),Hue=e=>{const{children:t,...r}=e;return se.createElement(KV.Provider,{value:r},t)};var GV=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==To.all&&(t._proxyFormState[o]=!n||To.all),r&&(r[o]=!0),e[o]}});return i};function Kue(e){const t=Qj(),{control:r=t.control,disabled:n,name:i,exact:s}=e||{},[o,l]=se.useState(r._formState),c=se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=se.useRef(i);return u.current=i,se.useEffect(()=>r._subscribe({name:u.current,formState:c.current,exact:s,callback:d=>{!n&&l({...r._formState,...d})}}),[r,n,s]),se.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),se.useMemo(()=>GV(o,r,c.current,!1),[o,r])}var wl=e=>typeof e=="string",YV=(e,t,r,n,i)=>wl(e)?(n&&t.watch.add(e),at(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),at(r,s))):(n&&(t.watchAll=!0),r);function Gue(e){const t=Qj(),{control:r=t.control,name:n,defaultValue:i,disabled:s,exact:o}=e||{},l=se.useRef(n),c=se.useRef(i);l.current=n,se.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!s&&d(YV(l.current,r._names,f.values||r._formValues,!1,c.current))}),[r,s,o]);const[u,d]=se.useState(r._getWatch(n,i));return se.useEffect(()=>r._removeUnmounted()),u}function Yue(e){const t=Qj(),{name:r,disabled:n,control:i=t.control,shouldUnregister:s}=e,o=WV(i._names.array,r),l=Gue({control:i,name:r,defaultValue:at(i._formValues,r,at(i._defaultValues,r,e.defaultValue)),exact:!0}),c=Kue({control:i,name:r,exact:!0}),u=se.useRef(e),d=se.useRef(i.register(r,{...e.rules,value:l,...is(e.disabled)?{disabled:e.disabled}:{}})),f=se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!at(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!at(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!at(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!at(c.validatingFields,r)},error:{enumerable:!0,get:()=>at(c.errors,r)}}),[c,r]),h=se.useCallback(v=>d.current.onChange({target:{value:qV(v),name:r},type:Bw.CHANGE}),[r]),p=se.useCallback(()=>d.current.onBlur({target:{value:at(i._formValues,r),name:r},type:Bw.BLUR}),[r,i._formValues]),y=se.useCallback(v=>{const g=at(i._fields,r);g&&v&&(g._f.ref={focus:()=>v.focus(),select:()=>v.select(),setCustomValidity:x=>v.setCustomValidity(x),reportValidity:()=>v.reportValidity()})},[i._fields,r]),m=se.useMemo(()=>({name:r,value:l,...is(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:h,onBlur:p,ref:y}),[r,n,c.disabled,h,p,y,l]);return se.useEffect(()=>{const v=i._options.shouldUnregister||s;i.register(r,{...u.current.rules,...is(u.current.disabled)?{disabled:u.current.disabled}:{}});const g=(x,w)=>{const j=at(i._fields,x);j&&j._f&&(j._f.mount=w)};if(g(r,!0),v){const x=Li(at(i._options.defaultValues,r));Dr(i._defaultValues,r,x),qn(at(i._formValues,r))&&Dr(i._formValues,r,x)}return!o&&i.register(r),()=>{(o?v&&!i._state.action:v)?i.unregister(r):g(r,!1)}},[r,i,o,s]),se.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),se.useMemo(()=>({field:m,formState:c,fieldState:f}),[m,c,f])}const Xue=e=>e.render(Yue(e));var XV=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},c0=e=>Array.isArray(e)?e:[e],OL=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},BA=e=>xa(e)||!VV(e);function Du(e,t){if(BA(e)||BA(t))return e===t;if(Cf(e)&&Cf(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const s=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Cf(s)&&Cf(o)||Qn(s)&&Qn(o)||Array.isArray(s)&&Array.isArray(o)?!Du(s,o):s!==o)return!1}}return!0}var ma=e=>Qn(e)&&!Object.keys(e).length,W3=e=>e.type==="file",Eo=e=>typeof e=="function",Uw=e=>{if(!V3)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ZV=e=>e.type==="select-multiple",H3=e=>e.type==="radio",Zue=e=>H3(e)||xv(e),IS=e=>Uw(e)&&e.isConnected;function Que(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=qn(e)?n++:e[t[n++]];return e}function Jue(e){for(const t in e)if(e.hasOwnProperty(t)&&!qn(e[t]))return!1;return!0}function hi(e,t){const r=Array.isArray(t)?t:q3(t)?[t]:HV(t),n=r.length===1?e:Que(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Qn(n)&&ma(n)||Array.isArray(n)&&Jue(n))&&hi(e,r.slice(0,-1)),e}var QV=e=>{for(const t in e)if(Eo(e[t]))return!0;return!1};function zw(e,t={}){const r=Array.isArray(e);if(Qn(e)||r)for(const n in e)Array.isArray(e[n])||Qn(e[n])&&!QV(e[n])?(t[n]=Array.isArray(e[n])?[]:{},zw(e[n],t[n])):xa(e[n])||(t[n]=!0);return t}function JV(e,t,r){const n=Array.isArray(e);if(Qn(e)||n)for(const i in e)Array.isArray(e[i])||Qn(e[i])&&!QV(e[i])?qn(t)||BA(r[i])?r[i]=Array.isArray(e[i])?zw(e[i],[]):{...zw(e[i])}:JV(e[i],xa(t)?{}:t[i],r[i]):r[i]=!Du(e[i],t[i]);return r}var vx=(e,t)=>JV(e,t,zw(t));const ML={value:!1,isValid:!1},LL={value:!0,isValid:!0};var eq=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!qn(e[0].attributes.value)?qn(e[0].value)||e[0].value===""?LL:{value:e[0].value,isValid:!0}:LL:ML}return ML},tq=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>qn(e)?e:t?e===""?NaN:e&&+e:r&&wl(e)?new Date(e):n?n(e):e;const IL={isValid:!1,value:null};var rq=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,IL):IL;function DL(e){const t=e.ref;return W3(t)?t.files:H3(t)?rq(e.refs).value:ZV(t)?[...t.selectedOptions].map(({value:r})=>r):xv(t)?eq(e.refs).value:tq(qn(t.value)?e.ref.value:t.value,e)}var ede=(e,t,r,n)=>{const i={};for(const s of e){const o=at(t,s);o&&Dr(i,s,o._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Vw=e=>e instanceof RegExp,bx=e=>qn(e)?e:Vw(e)?e.source:Qn(e)?Vw(e.value)?e.value.source:e.value:e,RL=e=>({isOnSubmit:!e||e===To.onSubmit,isOnBlur:e===To.onBlur,isOnChange:e===To.onChange,isOnAll:e===To.all,isOnTouch:e===To.onTouched});const FL="AsyncFunction";var tde=e=>!!e&&!!e.validate&&!!(Eo(e.validate)&&e.validate.constructor.name===FL||Qn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===FL)),rde=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),$L=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const u0=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=at(e,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(u0(l,t))break}else if(Qn(l)&&u0(l,t))break}}};function BL(e,t,r){const n=at(e,r);if(n||q3(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=at(t,s),l=at(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:r}}var nde=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return ma(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||To.all))},ide=(e,t,r)=>!e||!t||e===t||c0(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),ade=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,sde=(e,t)=>!Zj(at(e,t)).length&&hi(e,t),ode=(e,t,r)=>{const n=c0(at(e,r));return Dr(n,"root",t[r]),Dr(e,r,n),e},U1=e=>wl(e);function UL(e,t,r="validate"){if(U1(e)||Array.isArray(e)&&e.every(U1)||is(e)&&!e)return{type:r,message:U1(e)?e:"",ref:t}}var Kh=e=>Qn(e)&&!Vw(e)?e:{value:e,message:""},zL=async(e,t,r,n,i,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:y,name:m,valueAsNumber:v,mount:g}=e._f,x=at(r,m);if(!g||t.has(m))return{};const w=l?l[0]:o,j=A=>{i&&w.reportValidity&&(w.setCustomValidity(is(A)?"":A||""),w.reportValidity())},N={},P=H3(o),k=xv(o),C=P||k,O=(v||W3(o))&&qn(o.value)&&qn(x)||Uw(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,I=XV.bind(null,m,n,N),E=(A,D,R,G=cc.maxLength,F=cc.minLength)=>{const q=A?D:R;N[m]={type:A?G:F,message:q,ref:o,...I(A?G:F,q)}};if(s?!Array.isArray(x)||!x.length:c&&(!C&&(O||xa(x))||is(x)&&!x||k&&!eq(l).isValid||P&&!rq(l).isValid)){const{value:A,message:D}=U1(c)?{value:!!c,message:c}:Kh(c);if(A&&(N[m]={type:cc.required,message:D,ref:w,...I(cc.required,D)},!n))return j(D),N}if(!O&&(!xa(f)||!xa(h))){let A,D;const R=Kh(h),G=Kh(f);if(!xa(x)&&!isNaN(x)){const F=o.valueAsNumber||x&&+x;xa(R.value)||(A=F>R.value),xa(G.value)||(D=F<G.value)}else{const F=o.valueAsDate||new Date(x),q=le=>new Date(new Date().toDateString()+" "+le),B=o.type=="time",Z=o.type=="week";wl(R.value)&&x&&(A=B?q(x)>q(R.value):Z?x>R.value:F>new Date(R.value)),wl(G.value)&&x&&(D=B?q(x)<q(G.value):Z?x<G.value:F<new Date(G.value))}if((A||D)&&(E(!!A,R.message,G.message,cc.max,cc.min),!n))return j(N[m].message),N}if((u||d)&&!O&&(wl(x)||s&&Array.isArray(x))){const A=Kh(u),D=Kh(d),R=!xa(A.value)&&x.length>+A.value,G=!xa(D.value)&&x.length<+D.value;if((R||G)&&(E(R,A.message,D.message),!n))return j(N[m].message),N}if(p&&!O&&wl(x)){const{value:A,message:D}=Kh(p);if(Vw(A)&&!x.match(A)&&(N[m]={type:cc.pattern,message:D,ref:o,...I(cc.pattern,D)},!n))return j(D),N}if(y){if(Eo(y)){const A=await y(x,r),D=UL(A,w);if(D&&(N[m]={...D,...I(cc.validate,D.message)},!n))return j(D.message),N}else if(Qn(y)){let A={};for(const D in y){if(!ma(A)&&!n)break;const R=UL(await y[D](x,r),w,D);R&&(A={...R,...I(D,R.message)},j(R.message),n&&(N[m]=A))}if(!ma(A)&&(N[m]={ref:w,...A},!n))return N}}return j(!0),N};const lde={mode:To.onSubmit,reValidateMode:To.onChange,shouldFocusError:!0};function cde(e={}){let t={...lde,...e},r={submitCount:0,isDirty:!1,isLoading:Eo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let i=Qn(t.defaultValues)||Qn(t.values)?Li(t.values||t.defaultValues)||{}:{},s=t.shouldUnregister?{}:Li(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:OL(),state:OL()},p=RL(t.mode),y=RL(t.reValidateMode),m=t.criteriaMode===To.all,v=ne=>me=>{clearTimeout(u),u=setTimeout(ne,me)},g=async ne=>{if(!t.disabled&&(d.isValid||f.isValid||ne)){const me=t.resolver?ma((await O()).errors):await E(n,!0);me!==r.isValid&&h.state.next({isValid:me})}},x=(ne,me)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((ne||Array.from(l.mount)).forEach(Ae=>{Ae&&(me?Dr(r.validatingFields,Ae,me):hi(r.validatingFields,Ae))}),h.state.next({validatingFields:r.validatingFields,isValidating:!ma(r.validatingFields)}))},w=(ne,me=[],Ae,Re,Le=!0,Fe=!0)=>{if(Re&&Ae&&!t.disabled){if(o.action=!0,Fe&&Array.isArray(at(n,ne))){const Ue=Ae(at(n,ne),Re.argA,Re.argB);Le&&Dr(n,ne,Ue)}if(Fe&&Array.isArray(at(r.errors,ne))){const Ue=Ae(at(r.errors,ne),Re.argA,Re.argB);Le&&Dr(r.errors,ne,Ue),sde(r.errors,ne)}if((d.touchedFields||f.touchedFields)&&Fe&&Array.isArray(at(r.touchedFields,ne))){const Ue=Ae(at(r.touchedFields,ne),Re.argA,Re.argB);Le&&Dr(r.touchedFields,ne,Ue)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=vx(i,s)),h.state.next({name:ne,isDirty:D(ne,me),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Dr(s,ne,me)},j=(ne,me)=>{Dr(r.errors,ne,me),h.state.next({errors:r.errors})},N=ne=>{r.errors=ne,h.state.next({errors:r.errors,isValid:!1})},P=(ne,me,Ae,Re)=>{const Le=at(n,ne);if(Le){const Fe=at(s,ne,qn(Ae)?at(i,ne):Ae);qn(Fe)||Re&&Re.defaultChecked||me?Dr(s,ne,me?Fe:DL(Le._f)):F(ne,Fe),o.mount&&g()}},k=(ne,me,Ae,Re,Le)=>{let Fe=!1,Ue=!1;const Qe={name:ne};if(!t.disabled){if(!Ae||Re){(d.isDirty||f.isDirty)&&(Ue=r.isDirty,r.isDirty=Qe.isDirty=D(),Fe=Ue!==Qe.isDirty);const dt=Du(at(i,ne),me);Ue=!!at(r.dirtyFields,ne),dt?hi(r.dirtyFields,ne):Dr(r.dirtyFields,ne,!0),Qe.dirtyFields=r.dirtyFields,Fe=Fe||(d.dirtyFields||f.dirtyFields)&&Ue!==!dt}if(Ae){const dt=at(r.touchedFields,ne);dt||(Dr(r.touchedFields,ne,Ae),Qe.touchedFields=r.touchedFields,Fe=Fe||(d.touchedFields||f.touchedFields)&&dt!==Ae)}Fe&&Le&&h.state.next(Qe)}return Fe?Qe:{}},C=(ne,me,Ae,Re)=>{const Le=at(r.errors,ne),Fe=(d.isValid||f.isValid)&&is(me)&&r.isValid!==me;if(t.delayError&&Ae?(c=v(()=>j(ne,Ae)),c(t.delayError)):(clearTimeout(u),c=null,Ae?Dr(r.errors,ne,Ae):hi(r.errors,ne)),(Ae?!Du(Le,Ae):Le)||!ma(Re)||Fe){const Ue={...Re,...Fe&&is(me)?{isValid:me}:{},errors:r.errors,name:ne};r={...r,...Ue},h.state.next(Ue)}},O=async ne=>{x(ne,!0);const me=await t.resolver(s,t.context,ede(ne||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return x(ne),me},I=async ne=>{const{errors:me}=await O(ne);if(ne)for(const Ae of ne){const Re=at(me,Ae);Re?Dr(r.errors,Ae,Re):hi(r.errors,Ae)}else r.errors=me;return me},E=async(ne,me,Ae={valid:!0})=>{for(const Re in ne){const Le=ne[Re];if(Le){const{_f:Fe,...Ue}=Le;if(Fe){const Qe=l.array.has(Fe.name),dt=Le._f&&tde(Le._f);dt&&d.validatingFields&&x([Re],!0);const ot=await zL(Le,l.disabled,s,m,t.shouldUseNativeValidation&&!me,Qe);if(dt&&d.validatingFields&&x([Re]),ot[Fe.name]&&(Ae.valid=!1,me))break;!me&&(at(ot,Fe.name)?Qe?ode(r.errors,ot,Fe.name):Dr(r.errors,Fe.name,ot[Fe.name]):hi(r.errors,Fe.name))}!ma(Ue)&&await E(Ue,me,Ae)}}return Ae.valid},A=()=>{for(const ne of l.unMount){const me=at(n,ne);me&&(me._f.refs?me._f.refs.every(Ae=>!IS(Ae)):!IS(me._f.ref))&&oe(ne)}l.unMount=new Set},D=(ne,me)=>!t.disabled&&(ne&&me&&Dr(s,ne,me),!Du($(),i)),R=(ne,me,Ae)=>YV(ne,l,{...o.mount?s:qn(me)?i:wl(ne)?{[ne]:me}:me},Ae,me),G=ne=>Zj(at(o.mount?s:i,ne,t.shouldUnregister?at(i,ne,[]):[])),F=(ne,me,Ae={})=>{const Re=at(n,ne);let Le=me;if(Re){const Fe=Re._f;Fe&&(!Fe.disabled&&Dr(s,ne,tq(me,Fe)),Le=Uw(Fe.ref)&&xa(me)?"":me,ZV(Fe.ref)?[...Fe.ref.options].forEach(Ue=>Ue.selected=Le.includes(Ue.value)):Fe.refs?xv(Fe.ref)?Fe.refs.length>1?Fe.refs.forEach(Ue=>(!Ue.defaultChecked||!Ue.disabled)&&(Ue.checked=Array.isArray(Le)?!!Le.find(Qe=>Qe===Ue.value):Le===Ue.value)):Fe.refs[0]&&(Fe.refs[0].checked=!!Le):Fe.refs.forEach(Ue=>Ue.checked=Ue.value===Le):W3(Fe.ref)?Fe.ref.value="":(Fe.ref.value=Le,Fe.ref.type||h.state.next({name:ne,values:Li(s)})))}(Ae.shouldDirty||Ae.shouldTouch)&&k(ne,Le,Ae.shouldTouch,Ae.shouldDirty,!0),Ae.shouldValidate&&fe(ne)},q=(ne,me,Ae)=>{for(const Re in me){const Le=me[Re],Fe=`${ne}.${Re}`,Ue=at(n,Fe);(l.array.has(ne)||Qn(Le)||Ue&&!Ue._f)&&!Cf(Le)?q(Fe,Le,Ae):F(Fe,Le,Ae)}},B=(ne,me,Ae={})=>{const Re=at(n,ne),Le=l.array.has(ne),Fe=Li(me);Dr(s,ne,Fe),Le?(h.array.next({name:ne,values:Li(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Ae.shouldDirty&&h.state.next({name:ne,dirtyFields:vx(i,s),isDirty:D(ne,Fe)})):Re&&!Re._f&&!xa(Fe)?q(ne,Fe,Ae):F(ne,Fe,Ae),$L(ne,l)&&h.state.next({...r}),h.state.next({name:o.mount?ne:void 0,values:Li(s)})},Z=async ne=>{o.mount=!0;const me=ne.target;let Ae=me.name,Re=!0;const Le=at(n,Ae),Fe=Ue=>{Re=Number.isNaN(Ue)||Cf(Ue)&&isNaN(Ue.getTime())||Du(Ue,at(s,Ae,Ue))};if(Le){let Ue,Qe;const dt=me.type?DL(Le._f):qV(ne),ot=ne.type===Bw.BLUR||ne.type===Bw.FOCUS_OUT,Yr=!rde(Le._f)&&!t.resolver&&!at(r.errors,Ae)&&!Le._f.deps||ade(ot,at(r.touchedFields,Ae),r.isSubmitted,y,p),pr=$L(Ae,l,ot);Dr(s,Ae,dt),ot?(Le._f.onBlur&&Le._f.onBlur(ne),c&&c(0)):Le._f.onChange&&Le._f.onChange(ne);const yt=k(Ae,dt,ot),Wt=!ma(yt)||pr;if(!ot&&h.state.next({name:Ae,type:ne.type,values:Li(s)}),Yr)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?ot&&g():ot||g()),Wt&&h.state.next({name:Ae,...pr?{}:yt});if(!ot&&pr&&h.state.next({...r}),t.resolver){const{errors:Or}=await O([Ae]);if(Fe(dt),Re){const Ot=BL(r.errors,n,Ae),cr=BL(Or,n,Ot.name||Ae);Ue=cr.error,Ae=cr.name,Qe=ma(Or)}}else x([Ae],!0),Ue=(await zL(Le,l.disabled,s,m,t.shouldUseNativeValidation))[Ae],x([Ae]),Fe(dt),Re&&(Ue?Qe=!1:(d.isValid||f.isValid)&&(Qe=await E(n,!0)));Re&&(Le._f.deps&&fe(Le._f.deps),C(Ae,Qe,Ue,yt))}},le=(ne,me)=>{if(at(r.errors,me)&&ne.focus)return ne.focus(),1},fe=async(ne,me={})=>{let Ae,Re;const Le=c0(ne);if(t.resolver){const Fe=await I(qn(ne)?ne:Le);Ae=ma(Fe),Re=ne?!Le.some(Ue=>at(Fe,Ue)):Ae}else ne?(Re=(await Promise.all(Le.map(async Fe=>{const Ue=at(n,Fe);return await E(Ue&&Ue._f?{[Fe]:Ue}:Ue)}))).every(Boolean),!(!Re&&!r.isValid)&&g()):Re=Ae=await E(n);return h.state.next({...!wl(ne)||(d.isValid||f.isValid)&&Ae!==r.isValid?{}:{name:ne},...t.resolver||!ne?{isValid:Ae}:{},errors:r.errors}),me.shouldFocus&&!Re&&u0(n,le,ne?Le:l.mount),Re},$=ne=>{const me={...o.mount?s:i};return qn(ne)?me:wl(ne)?at(me,ne):ne.map(Ae=>at(me,Ae))},Y=(ne,me)=>({invalid:!!at((me||r).errors,ne),isDirty:!!at((me||r).dirtyFields,ne),error:at((me||r).errors,ne),isValidating:!!at(r.validatingFields,ne),isTouched:!!at((me||r).touchedFields,ne)}),J=ne=>{ne&&c0(ne).forEach(me=>hi(r.errors,me)),h.state.next({errors:ne?r.errors:{}})},ae=(ne,me,Ae)=>{const Re=(at(n,ne,{_f:{}})._f||{}).ref,Le=at(r.errors,ne)||{},{ref:Fe,message:Ue,type:Qe,...dt}=Le;Dr(r.errors,ne,{...dt,...me,ref:Re}),h.state.next({name:ne,errors:r.errors,isValid:!1}),Ae&&Ae.shouldFocus&&Re&&Re.focus&&Re.focus()},de=(ne,me)=>Eo(ne)?h.state.subscribe({next:Ae=>ne(R(void 0,me),Ae)}):R(ne,me,!0),ce=ne=>h.state.subscribe({next:me=>{ide(ne.name,me.name,ne.exact)&&nde(me,ne.formState||d,De,ne.reRenderRoot)&&ne.callback({values:{...s},...r,...me})}}).unsubscribe,be=ne=>(o.mount=!0,f={...f,...ne.formState},ce({...ne,formState:f})),oe=(ne,me={})=>{for(const Ae of ne?c0(ne):l.mount)l.mount.delete(Ae),l.array.delete(Ae),me.keepValue||(hi(n,Ae),hi(s,Ae)),!me.keepError&&hi(r.errors,Ae),!me.keepDirty&&hi(r.dirtyFields,Ae),!me.keepTouched&&hi(r.touchedFields,Ae),!me.keepIsValidating&&hi(r.validatingFields,Ae),!t.shouldUnregister&&!me.keepDefaultValue&&hi(i,Ae);h.state.next({values:Li(s)}),h.state.next({...r,...me.keepDirty?{isDirty:D()}:{}}),!me.keepIsValid&&g()},ye=({disabled:ne,name:me})=>{(is(ne)&&o.mount||ne||l.disabled.has(me))&&(ne?l.disabled.add(me):l.disabled.delete(me))},je=(ne,me={})=>{let Ae=at(n,ne);const Re=is(me.disabled)||is(t.disabled);return Dr(n,ne,{...Ae||{},_f:{...Ae&&Ae._f?Ae._f:{ref:{name:ne}},name:ne,mount:!0,...me}}),l.mount.add(ne),Ae?ye({disabled:is(me.disabled)?me.disabled:t.disabled,name:ne}):P(ne,!0,me.value),{...Re?{disabled:me.disabled||t.disabled}:{},...t.progressive?{required:!!me.required,min:bx(me.min),max:bx(me.max),minLength:bx(me.minLength),maxLength:bx(me.maxLength),pattern:bx(me.pattern)}:{},name:ne,onChange:Z,onBlur:Z,ref:Le=>{if(Le){je(ne,me),Ae=at(n,ne);const Fe=qn(Le.value)&&Le.querySelectorAll&&Le.querySelectorAll("input,select,textarea")[0]||Le,Ue=Zue(Fe),Qe=Ae._f.refs||[];if(Ue?Qe.find(dt=>dt===Fe):Fe===Ae._f.ref)return;Dr(n,ne,{_f:{...Ae._f,...Ue?{refs:[...Qe.filter(IS),Fe,...Array.isArray(at(i,ne))?[{}]:[]],ref:{type:Fe.type,name:ne}}:{ref:Fe}}}),P(ne,!1,void 0,Fe)}else Ae=at(n,ne,{}),Ae._f&&(Ae._f.mount=!1),(t.shouldUnregister||me.shouldUnregister)&&!(WV(l.array,ne)&&o.action)&&l.unMount.add(ne)}}},pe=()=>t.shouldFocusError&&u0(n,le,l.mount),Ne=ne=>{is(ne)&&(h.state.next({disabled:ne}),u0(n,(me,Ae)=>{const Re=at(n,Ae);Re&&(me.disabled=Re._f.disabled||ne,Array.isArray(Re._f.refs)&&Re._f.refs.forEach(Le=>{Le.disabled=Re._f.disabled||ne}))},0,!1))},xe=(ne,me)=>async Ae=>{let Re;Ae&&(Ae.preventDefault&&Ae.preventDefault(),Ae.persist&&Ae.persist());let Le=Li(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:Fe,values:Ue}=await O();r.errors=Fe,Le=Ue}else await E(n);if(l.disabled.size)for(const Fe of l.disabled)Dr(Le,Fe,void 0);if(hi(r.errors,"root"),ma(r.errors)){h.state.next({errors:{}});try{await ne(Le,Ae)}catch(Fe){Re=Fe}}else me&&await me({...r.errors},Ae),pe(),setTimeout(pe);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ma(r.errors)&&!Re,submitCount:r.submitCount+1,errors:r.errors}),Re)throw Re},V=(ne,me={})=>{at(n,ne)&&(qn(me.defaultValue)?B(ne,Li(at(i,ne))):(B(ne,me.defaultValue),Dr(i,ne,Li(me.defaultValue))),me.keepTouched||hi(r.touchedFields,ne),me.keepDirty||(hi(r.dirtyFields,ne),r.isDirty=me.defaultValue?D(ne,Li(at(i,ne))):D()),me.keepError||(hi(r.errors,ne),d.isValid&&g()),h.state.next({...r}))},Ve=(ne,me={})=>{const Ae=ne?Li(ne):i,Re=Li(Ae),Le=ma(ne),Fe=Le?i:Re;if(me.keepDefaultValues||(i=Ae),!me.keepValues){if(me.keepDirtyValues){const Ue=new Set([...l.mount,...Object.keys(vx(i,s))]);for(const Qe of Array.from(Ue))at(r.dirtyFields,Qe)?Dr(Fe,Qe,at(s,Qe)):B(Qe,at(Fe,Qe))}else{if(V3&&qn(ne))for(const Ue of l.mount){const Qe=at(n,Ue);if(Qe&&Qe._f){const dt=Array.isArray(Qe._f.refs)?Qe._f.refs[0]:Qe._f.ref;if(Uw(dt)){const ot=dt.closest("form");if(ot){ot.reset();break}}}}for(const Ue of l.mount)B(Ue,at(Fe,Ue))}s=Li(Fe),h.array.next({values:{...Fe}}),h.state.next({values:{...Fe}})}l={mount:me.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!me.keepIsValid||!!me.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:me.keepSubmitCount?r.submitCount:0,isDirty:Le?!1:me.keepDirty?r.isDirty:!!(me.keepDefaultValues&&!Du(ne,i)),isSubmitted:me.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Le?{}:me.keepDirtyValues?me.keepDefaultValues&&s?vx(i,s):r.dirtyFields:me.keepDefaultValues&&ne?vx(i,ne):me.keepDirty?r.dirtyFields:{},touchedFields:me.keepTouched?r.touchedFields:{},errors:me.keepErrors?r.errors:{},isSubmitSuccessful:me.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ze=(ne,me)=>Ve(Eo(ne)?ne(s):ne,me),it=(ne,me={})=>{const Ae=at(n,ne),Re=Ae&&Ae._f;if(Re){const Le=Re.refs?Re.refs[0]:Re.ref;Le.focus&&(Le.focus(),me.shouldSelect&&Eo(Le.select)&&Le.select())}},De=ne=>{r={...r,...ne}},Je={control:{register:je,unregister:oe,getFieldState:Y,handleSubmit:xe,setError:ae,_subscribe:ce,_runSchema:O,_getWatch:R,_getDirty:D,_setValid:g,_setFieldArray:w,_setDisabledField:ye,_setErrors:N,_getFieldArray:G,_reset:Ve,_resetDefaultValues:()=>Eo(t.defaultValues)&&t.defaultValues().then(ne=>{Ze(ne,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:Ne,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(ne){o=ne},get _defaultValues(){return i},get _names(){return l},set _names(ne){l=ne},get _formState(){return r},get _options(){return t},set _options(ne){t={...t,...ne}}},subscribe:be,trigger:fe,register:je,handleSubmit:xe,watch:de,setValue:B,getValues:$,reset:Ze,resetField:V,clearErrors:J,unregister:oe,setError:ae,setFocus:it,getFieldState:Y};return{...Je,formControl:Je}}function Yo(e={}){const t=se.useRef(void 0),r=se.useRef(void 0),[n,i]=se.useState({isDirty:!1,isValidating:!1,isLoading:Eo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Eo(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:cde(e),formState:n},e.formControl&&e.defaultValues&&!Eo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const s=t.current.control;return s._options=e,se.useLayoutEffect(()=>s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0}),[s]),se.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),se.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),se.useEffect(()=>{e.values&&!Du(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[e.values,s]),se.useEffect(()=>{e.errors&&!ma(e.errors)&&s._setErrors(e.errors)},[e.errors,s]),se.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),se.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=GV(n,s),t.current}const VL=(e,t,r)=>{if(e&&"reportValidity"in e){const n=at(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},nq=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?VL(n.ref,r,e):n.refs&&n.refs.forEach(i=>VL(i,r,e))}},ude=(e,t)=>{t.shouldUseNativeValidation&&nq(e,t);const r={};for(const n in e){const i=at(t.fields,n),s=Object.assign(e[n]||{},{ref:i&&i.ref});if(dde(t.names||Object.keys(e),n)){const o=Object.assign({},at(r,n));Dr(o,"root",s),Dr(r,n,o)}else Dr(r,n,s)}return r},dde=(e,t)=>e.some(r=>r.startsWith(t+"."));var fde=function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=XV(o,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r},Xo=function(e,t,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&nq({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:ude(fde(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},Sr;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Sr||(Sr={}));var UA;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(UA||(UA={}));const ut=Sr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xc=e=>{switch(typeof e){case"undefined":return ut.undefined;case"string":return ut.string;case"number":return isNaN(e)?ut.nan:ut.number;case"boolean":return ut.boolean;case"function":return ut.function;case"bigint":return ut.bigint;case"symbol":return ut.symbol;case"object":return Array.isArray(e)?ut.array:e===null?ut.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ut.promise:typeof Map<"u"&&e instanceof Map?ut.map:typeof Set<"u"&&e instanceof Set?ut.set:typeof Date<"u"&&e instanceof Date?ut.date:ut.object;default:return ut.unknown}},Ke=Sr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),hde=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class hs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),n}static assert(t){if(!(t instanceof hs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Sr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}hs.create=e=>new hs(e);const Am=(e,t)=>{let r;switch(e.code){case Ke.invalid_type:e.received===ut.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ke.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Sr.jsonStringifyReplacer)}`;break;case Ke.unrecognized_keys:r=`Unrecognized key(s) in object: ${Sr.joinValues(e.keys,", ")}`;break;case Ke.invalid_union:r="Invalid input";break;case Ke.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Sr.joinValues(e.options)}`;break;case Ke.invalid_enum_value:r=`Invalid enum value. Expected ${Sr.joinValues(e.options)}, received '${e.received}'`;break;case Ke.invalid_arguments:r="Invalid function arguments";break;case Ke.invalid_return_type:r="Invalid function return type";break;case Ke.invalid_date:r="Invalid date";break;case Ke.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Sr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ke.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ke.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ke.custom:r="Invalid input";break;case Ke.invalid_intersection_types:r="Intersection results could not be merged";break;case Ke.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ke.not_finite:r="Number must be finite";break;default:r=t.defaultError,Sr.assertNever(e)}return{message:r}};let iq=Am;function pde(e){iq=e}function qw(){return iq}const Ww=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...i,path:s,message:l}},mde=[];function st(e,t){const r=qw(),n=Ww({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Am?void 0:Am].filter(i=>!!i)});e.common.issues.push(n)}class ca{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return Bt;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const s=await i.key,o=await i.value;n.push({key:s,value:o})}return ca.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Bt;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const Bt=Object.freeze({status:"aborted"}),Pp=e=>({status:"dirty",value:e}),wa=e=>({status:"valid",value:e}),zA=e=>e.status==="aborted",VA=e=>e.status==="dirty",oh=e=>e.status==="valid",H0=e=>typeof Promise<"u"&&e instanceof Promise;function Hw(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function aq(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var wt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(wt||(wt={}));var qx,Wx;class Ul{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const qL=(e,t)=>{if(oh(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new hs(e.common.issues);return this._error=r,this._error}}};function rr(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,l)=>{var c,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:l.defaultError}},description:i}}class or{get description(){return this._def.description}_getType(t){return xc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:xc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ca,ctx:{common:t.parent.common,data:t.data,parsedType:xc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(H0(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:xc(t)},s=this._parseSync({data:t,path:i.path,parent:i});return qL(i,s)}"~validate"(t){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:xc(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:i});return oh(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((n=(r=s==null?void 0:s.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(s=>oh(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:xc(t)},i=this._parse({data:t,path:n.path,parent:n}),s=await(H0(i)?i:Promise.resolve(i));return qL(n,s)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=t(i),l=()=>s.addIssue({code:Ke.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Ko({schema:this,typeName:Rt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ol.create(this,this._def)}nullable(){return _d.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Uo.create(this)}promise(){return Cm.create(this,this._def)}or(t){return X0.create([this,t],this._def)}and(t){return Z0.create(this,t,this._def)}transform(t){return new Ko({...rr(this._def),schema:this,typeName:Rt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new ry({...rr(this._def),innerType:this,defaultValue:r,typeName:Rt.ZodDefault})}brand(){return new K3({typeName:Rt.ZodBranded,type:this,...rr(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new ny({...rr(this._def),innerType:this,catchValue:r,typeName:Rt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return yv.create(this,t)}readonly(){return iy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const gde=/^c[^\s-]{8,}$/i,xde=/^[0-9a-z]+$/,yde=/^[0-9A-HJKMNP-TV-Z]{26}$/i,vde=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,bde=/^[a-z0-9_-]{21}$/i,wde=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,jde=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Nde=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Sde="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let DS;const _de=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Pde=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ade=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,kde=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Cde=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Tde=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,sq="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ede=new RegExp(`^${sq}$`);function oq(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Ode(e){return new RegExp(`^${oq(e)}$`)}function lq(e){let t=`${sq}T${oq(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Mde(e,t){return!!((t==="v4"||!t)&&_de.test(e)||(t==="v6"||!t)&&Ade.test(e))}function Lde(e,t){if(!wde.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}function Ide(e,t){return!!((t==="v4"||!t)&&Pde.test(e)||(t==="v6"||!t)&&kde.test(e))}class Lo extends or{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ut.string){const s=this._getOrReturnCtx(t);return st(s,{code:Ke.invalid_type,expected:ut.string,received:s.parsedType}),Bt}const n=new ca;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),st(i,{code:Ke.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),st(i,{code:Ke.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(t,i),o?st(i,{code:Ke.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&st(i,{code:Ke.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")Nde.test(t.data)||(i=this._getOrReturnCtx(t,i),st(i,{validation:"email",code:Ke.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")DS||(DS=new RegExp(Sde,"u")),DS.test(t.data)||(i=this._getOrReturnCtx(t,i),st(i,{validation:"emoji",code:Ke.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")vde.test(t.data)||(i=this._getOrReturnCtx(t,i),st(i,{validation:"uuid",code:Ke.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")bde.test(t.data)||(i=this._getOrReturnCtx(t,i),st(i,{validation:"nanoid",code:Ke.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")gde.test(t.data)||(i=this._getOrReturnCtx(t,i),st(i,{validation:"cuid",code:Ke.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")xde.test(t.data)||(i=this._getOrReturnCtx(t,i),st(i,{validation:"cuid2",code:Ke.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")yde.test(t.data)||(i=this._getOrReturnCtx(t,i),st(i,{validation:"ulid",code:Ke.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),st(i,{validation:"url",code:Ke.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),st(i,{validation:"regex",code:Ke.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),st(i,{code:Ke.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),st(i,{code:Ke.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),st(i,{code:Ke.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?lq(s).test(t.data)||(i=this._getOrReturnCtx(t,i),st(i,{code:Ke.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?Ede.test(t.data)||(i=this._getOrReturnCtx(t,i),st(i,{code:Ke.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?Ode(s).test(t.data)||(i=this._getOrReturnCtx(t,i),st(i,{code:Ke.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?jde.test(t.data)||(i=this._getOrReturnCtx(t,i),st(i,{validation:"duration",code:Ke.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?Mde(t.data,s.version)||(i=this._getOrReturnCtx(t,i),st(i,{validation:"ip",code:Ke.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?Lde(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),st(i,{validation:"jwt",code:Ke.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?Ide(t.data,s.version)||(i=this._getOrReturnCtx(t,i),st(i,{validation:"cidr",code:Ke.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?Cde.test(t.data)||(i=this._getOrReturnCtx(t,i),st(i,{validation:"base64",code:Ke.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?Tde.test(t.data)||(i=this._getOrReturnCtx(t,i),st(i,{validation:"base64url",code:Ke.invalid_string,message:s.message}),n.dirty()):Sr.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:Ke.invalid_string,...wt.errToObj(n)})}_addCheck(t){return new Lo({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...wt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...wt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...wt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...wt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...wt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...wt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...wt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...wt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...wt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...wt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...wt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...wt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...wt.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...wt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...wt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...wt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...wt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...wt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...wt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...wt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...wt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...wt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...wt.errToObj(r)})}nonempty(t){return this.min(1,wt.errToObj(t))}trim(){return new Lo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Lo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Lo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Lo.create=e=>{var t;return new Lo({checks:[],typeName:Rt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...rr(e)})};function Dde(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class jd extends or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ut.number){const s=this._getOrReturnCtx(t);return st(s,{code:Ke.invalid_type,expected:ut.number,received:s.parsedType}),Bt}let n;const i=new ca;for(const s of this._def.checks)s.kind==="int"?Sr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),st(n,{code:Ke.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ke.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ke.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Dde(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ke.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),st(n,{code:Ke.not_finite,message:s.message}),i.dirty()):Sr.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,wt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,wt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,wt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,wt.toString(r))}setLimit(t,r,n,i){return new jd({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:wt.toString(i)}]})}_addCheck(t){return new jd({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:wt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:wt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:wt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:wt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:wt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:wt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:wt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:wt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:wt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Sr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}jd.create=e=>new jd({checks:[],typeName:Rt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...rr(e)});class Nd extends or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ut.bigint)return this._getInvalidInput(t);let n;const i=new ca;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ke.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ke.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ke.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Sr.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return st(r,{code:Ke.invalid_type,expected:ut.bigint,received:r.parsedType}),Bt}gte(t,r){return this.setLimit("min",t,!0,wt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,wt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,wt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,wt.toString(r))}setLimit(t,r,n,i){return new Nd({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:wt.toString(i)}]})}_addCheck(t){return new Nd({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:wt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:wt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:wt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:wt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:wt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Nd.create=e=>{var t;return new Nd({checks:[],typeName:Rt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...rr(e)})};class K0 extends or{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ut.boolean){const n=this._getOrReturnCtx(t);return st(n,{code:Ke.invalid_type,expected:ut.boolean,received:n.parsedType}),Bt}return wa(t.data)}}K0.create=e=>new K0({typeName:Rt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...rr(e)});class lh extends or{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ut.date){const s=this._getOrReturnCtx(t);return st(s,{code:Ke.invalid_type,expected:ut.date,received:s.parsedType}),Bt}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return st(s,{code:Ke.invalid_date}),Bt}const n=new ca;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),st(i,{code:Ke.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),st(i,{code:Ke.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Sr.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new lh({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:wt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:wt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}lh.create=e=>new lh({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Rt.ZodDate,...rr(e)});class Kw extends or{_parse(t){if(this._getType(t)!==ut.symbol){const n=this._getOrReturnCtx(t);return st(n,{code:Ke.invalid_type,expected:ut.symbol,received:n.parsedType}),Bt}return wa(t.data)}}Kw.create=e=>new Kw({typeName:Rt.ZodSymbol,...rr(e)});class G0 extends or{_parse(t){if(this._getType(t)!==ut.undefined){const n=this._getOrReturnCtx(t);return st(n,{code:Ke.invalid_type,expected:ut.undefined,received:n.parsedType}),Bt}return wa(t.data)}}G0.create=e=>new G0({typeName:Rt.ZodUndefined,...rr(e)});class Y0 extends or{_parse(t){if(this._getType(t)!==ut.null){const n=this._getOrReturnCtx(t);return st(n,{code:Ke.invalid_type,expected:ut.null,received:n.parsedType}),Bt}return wa(t.data)}}Y0.create=e=>new Y0({typeName:Rt.ZodNull,...rr(e)});class km extends or{constructor(){super(...arguments),this._any=!0}_parse(t){return wa(t.data)}}km.create=e=>new km({typeName:Rt.ZodAny,...rr(e)});class Gf extends or{constructor(){super(...arguments),this._unknown=!0}_parse(t){return wa(t.data)}}Gf.create=e=>new Gf({typeName:Rt.ZodUnknown,...rr(e)});class Kc extends or{_parse(t){const r=this._getOrReturnCtx(t);return st(r,{code:Ke.invalid_type,expected:ut.never,received:r.parsedType}),Bt}}Kc.create=e=>new Kc({typeName:Rt.ZodNever,...rr(e)});class Gw extends or{_parse(t){if(this._getType(t)!==ut.undefined){const n=this._getOrReturnCtx(t);return st(n,{code:Ke.invalid_type,expected:ut.void,received:n.parsedType}),Bt}return wa(t.data)}}Gw.create=e=>new Gw({typeName:Rt.ZodVoid,...rr(e)});class Uo extends or{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==ut.array)return st(r,{code:Ke.invalid_type,expected:ut.array,received:r.parsedType}),Bt;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(o||l)&&(st(r,{code:o?Ke.too_big:Ke.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(st(r,{code:Ke.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(st(r,{code:Ke.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>i.type._parseAsync(new Ul(r,o,r.path,l)))).then(o=>ca.mergeArray(n,o));const s=[...r.data].map((o,l)=>i.type._parseSync(new Ul(r,o,r.path,l)));return ca.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new Uo({...this._def,minLength:{value:t,message:wt.toString(r)}})}max(t,r){return new Uo({...this._def,maxLength:{value:t,message:wt.toString(r)}})}length(t,r){return new Uo({...this._def,exactLength:{value:t,message:wt.toString(r)}})}nonempty(t){return this.min(1,t)}}Uo.create=(e,t)=>new Uo({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Rt.ZodArray,...rr(t)});function sp(e){if(e instanceof jn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ol.create(sp(n))}return new jn({...e._def,shape:()=>t})}else return e instanceof Uo?new Uo({...e._def,type:sp(e.element)}):e instanceof Ol?Ol.create(sp(e.unwrap())):e instanceof _d?_d.create(sp(e.unwrap())):e instanceof zl?zl.create(e.items.map(t=>sp(t))):e}class jn extends or{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Sr.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==ut.object){const u=this._getOrReturnCtx(t);return st(u,{code:Ke.invalid_type,expected:ut.object,received:u.parsedType}),Bt}const{status:n,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Kc&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=s[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ul(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Kc){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")l.length>0&&(st(i,{code:Ke.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ul(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>ca.mergeObjectSync(n,u)):ca.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return wt.errToObj,new jn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,s,o,l;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=wt.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new jn({...this._def,unknownKeys:"strip"})}passthrough(){return new jn({...this._def,unknownKeys:"passthrough"})}extend(t){return new jn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new jn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Rt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new jn({...this._def,catchall:t})}pick(t){const r={};return Sr.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new jn({...this._def,shape:()=>r})}omit(t){const r={};return Sr.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new jn({...this._def,shape:()=>r})}deepPartial(){return sp(this)}partial(t){const r={};return Sr.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new jn({...this._def,shape:()=>r})}required(t){const r={};return Sr.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Ol;)s=s._def.innerType;r[n]=s}}),new jn({...this._def,shape:()=>r})}keyof(){return cq(Sr.objectKeys(this.shape))}}jn.create=(e,t)=>new jn({shape:()=>e,unknownKeys:"strip",catchall:Kc.create(),typeName:Rt.ZodObject,...rr(t)});jn.strictCreate=(e,t)=>new jn({shape:()=>e,unknownKeys:"strict",catchall:Kc.create(),typeName:Rt.ZodObject,...rr(t)});jn.lazycreate=(e,t)=>new jn({shape:e,unknownKeys:"strip",catchall:Kc.create(),typeName:Rt.ZodObject,...rr(t)});class X0 extends or{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new hs(l.ctx.common.issues));return st(r,{code:Ke.invalid_union,unionErrors:o}),Bt}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new hs(c));return st(r,{code:Ke.invalid_union,unionErrors:l}),Bt}}get options(){return this._def.options}}X0.create=(e,t)=>new X0({options:e,typeName:Rt.ZodUnion,...rr(t)});const pc=e=>e instanceof J0?pc(e.schema):e instanceof Ko?pc(e.innerType()):e instanceof ey?[e.value]:e instanceof Sd?e.options:e instanceof ty?Sr.objectValues(e.enum):e instanceof ry?pc(e._def.innerType):e instanceof G0?[void 0]:e instanceof Y0?[null]:e instanceof Ol?[void 0,...pc(e.unwrap())]:e instanceof _d?[null,...pc(e.unwrap())]:e instanceof K3||e instanceof iy?pc(e.unwrap()):e instanceof ny?pc(e._def.innerType):[];class Jj extends or{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ut.object)return st(r,{code:Ke.invalid_type,expected:ut.object,received:r.parsedType}),Bt;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(st(r,{code:Ke.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Bt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const i=new Map;for(const s of r){const o=pc(s.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);i.set(l,s)}}return new Jj({typeName:Rt.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...rr(n)})}}function qA(e,t){const r=xc(e),n=xc(t);if(e===t)return{valid:!0,data:e};if(r===ut.object&&n===ut.object){const i=Sr.objectKeys(t),s=Sr.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o={...e,...t};for(const l of s){const c=qA(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ut.array&&n===ut.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],c=qA(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===ut.date&&n===ut.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Z0 extends or{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(s,o)=>{if(zA(s)||zA(o))return Bt;const l=qA(s.value,o.value);return l.valid?((VA(s)||VA(o))&&r.dirty(),{status:r.value,value:l.data}):(st(n,{code:Ke.invalid_intersection_types}),Bt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Z0.create=(e,t,r)=>new Z0({left:e,right:t,typeName:Rt.ZodIntersection,...rr(r)});class zl extends or{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ut.array)return st(n,{code:Ke.invalid_type,expected:ut.array,received:n.parsedType}),Bt;if(n.data.length<this._def.items.length)return st(n,{code:Ke.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Bt;!this._def.rest&&n.data.length>this._def.items.length&&(st(n,{code:Ke.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ul(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>ca.mergeArray(r,o)):ca.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new zl({...this._def,rest:t})}}zl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zl({items:e,typeName:Rt.ZodTuple,rest:null,...rr(t)})};class Q0 extends or{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ut.object)return st(n,{code:Ke.invalid_type,expected:ut.object,received:n.parsedType}),Bt;const i=[],s=this._def.keyType,o=this._def.valueType;for(const l in n.data)i.push({key:s._parse(new Ul(n,l,n.path,l)),value:o._parse(new Ul(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?ca.mergeObjectAsync(r,i):ca.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof or?new Q0({keyType:t,valueType:r,typeName:Rt.ZodRecord,...rr(n)}):new Q0({keyType:Lo.create(),valueType:t,typeName:Rt.ZodRecord,...rr(r)})}}class Yw extends or{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ut.map)return st(n,{code:Ke.invalid_type,expected:ut.map,received:n.parsedType}),Bt;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:i._parse(new Ul(n,l,n.path,[u,"key"])),value:s._parse(new Ul(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Bt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Bt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}Yw.create=(e,t,r)=>new Yw({valueType:t,keyType:e,typeName:Rt.ZodMap,...rr(r)});class ch extends or{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ut.set)return st(n,{code:Ke.invalid_type,expected:ut.set,received:n.parsedType}),Bt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(st(n,{code:Ke.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(st(n,{code:Ke.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Bt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new Ul(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new ch({...this._def,minSize:{value:t,message:wt.toString(r)}})}max(t,r){return new ch({...this._def,maxSize:{value:t,message:wt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}ch.create=(e,t)=>new ch({valueType:e,minSize:null,maxSize:null,typeName:Rt.ZodSet,...rr(t)});class zp extends or{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ut.function)return st(r,{code:Ke.invalid_type,expected:ut.function,received:r.parsedType}),Bt;function n(l,c){return Ww({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,qw(),Am].filter(u=>!!u),issueData:{code:Ke.invalid_arguments,argumentsError:c}})}function i(l,c){return Ww({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,qw(),Am].filter(u=>!!u),issueData:{code:Ke.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Cm){const l=this;return wa(async function(...c){const u=new hs([]),d=await l._def.args.parseAsync(c,s).catch(p=>{throw u.addIssue(n(c,p)),u}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,s).catch(p=>{throw u.addIssue(i(f,p)),u})})}else{const l=this;return wa(function(...c){const u=l._def.args.safeParse(c,s);if(!u.success)throw new hs([n(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(d,s);if(!f.success)throw new hs([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new zp({...this._def,args:zl.create(t).rest(Gf.create())})}returns(t){return new zp({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new zp({args:t||zl.create([]).rest(Gf.create()),returns:r||Gf.create(),typeName:Rt.ZodFunction,...rr(n)})}}class J0 extends or{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}J0.create=(e,t)=>new J0({getter:e,typeName:Rt.ZodLazy,...rr(t)});class ey extends or{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return st(r,{received:r.data,code:Ke.invalid_literal,expected:this._def.value}),Bt}return{status:"valid",value:t.data}}get value(){return this._def.value}}ey.create=(e,t)=>new ey({value:e,typeName:Rt.ZodLiteral,...rr(t)});function cq(e,t){return new Sd({values:e,typeName:Rt.ZodEnum,...rr(t)})}class Sd extends or{constructor(){super(...arguments),qx.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return st(r,{expected:Sr.joinValues(n),received:r.parsedType,code:Ke.invalid_type}),Bt}if(Hw(this,qx)||aq(this,qx,new Set(this._def.values)),!Hw(this,qx).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return st(r,{received:r.data,code:Ke.invalid_enum_value,options:n}),Bt}return wa(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Sd.create(t,{...this._def,...r})}exclude(t,r=this._def){return Sd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}qx=new WeakMap;Sd.create=cq;class ty extends or{constructor(){super(...arguments),Wx.set(this,void 0)}_parse(t){const r=Sr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ut.string&&n.parsedType!==ut.number){const i=Sr.objectValues(r);return st(n,{expected:Sr.joinValues(i),received:n.parsedType,code:Ke.invalid_type}),Bt}if(Hw(this,Wx)||aq(this,Wx,new Set(Sr.getValidEnumValues(this._def.values))),!Hw(this,Wx).has(t.data)){const i=Sr.objectValues(r);return st(n,{received:n.data,code:Ke.invalid_enum_value,options:i}),Bt}return wa(t.data)}get enum(){return this._def.values}}Wx=new WeakMap;ty.create=(e,t)=>new ty({values:e,typeName:Rt.ZodNativeEnum,...rr(t)});class Cm extends or{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ut.promise&&r.common.async===!1)return st(r,{code:Ke.invalid_type,expected:ut.promise,received:r.parsedType}),Bt;const n=r.parsedType===ut.promise?r.data:Promise.resolve(r.data);return wa(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Cm.create=(e,t)=>new Cm({type:e,typeName:Rt.ZodPromise,...rr(t)});class Ko extends or{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{st(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Bt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Bt:c.status==="dirty"||r.value==="dirty"?Pp(c.value):c});{if(r.value==="aborted")return Bt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Bt:l.status==="dirty"||r.value==="dirty"?Pp(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Bt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Bt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!oh(o))return o;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>oh(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:r.value,value:l})):o);Sr.assertNever(i)}}Ko.create=(e,t,r)=>new Ko({schema:e,typeName:Rt.ZodEffects,effect:t,...rr(r)});Ko.createWithPreprocess=(e,t,r)=>new Ko({schema:t,effect:{type:"preprocess",transform:e},typeName:Rt.ZodEffects,...rr(r)});class Ol extends or{_parse(t){return this._getType(t)===ut.undefined?wa(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ol.create=(e,t)=>new Ol({innerType:e,typeName:Rt.ZodOptional,...rr(t)});class _d extends or{_parse(t){return this._getType(t)===ut.null?wa(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_d.create=(e,t)=>new _d({innerType:e,typeName:Rt.ZodNullable,...rr(t)});class ry extends or{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ut.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ry.create=(e,t)=>new ry({innerType:e,typeName:Rt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...rr(t)});class ny extends or{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return H0(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new hs(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new hs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ny.create=(e,t)=>new ny({innerType:e,typeName:Rt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...rr(t)});class Xw extends or{_parse(t){if(this._getType(t)!==ut.nan){const n=this._getOrReturnCtx(t);return st(n,{code:Ke.invalid_type,expected:ut.nan,received:n.parsedType}),Bt}return{status:"valid",value:t.data}}}Xw.create=e=>new Xw({typeName:Rt.ZodNaN,...rr(e)});const Rde=Symbol("zod_brand");class K3 extends or{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class yv extends or{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Bt:s.status==="dirty"?(r.dirty(),Pp(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Bt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new yv({in:t,out:r,typeName:Rt.ZodPipeline})}}class iy extends or{_parse(t){const r=this._def.innerType._parse(t),n=i=>(oh(i)&&(i.value=Object.freeze(i.value)),i);return H0(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}iy.create=(e,t)=>new iy({innerType:e,typeName:Rt.ZodReadonly,...rr(t)});function WL(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function uq(e,t={},r){return e?km.create().superRefine((n,i)=>{var s,o;const l=e(n);if(l instanceof Promise)return l.then(c=>{var u,d;if(!c){const f=WL(t,n),h=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;i.addIssue({code:"custom",...f,fatal:h})}});if(!l){const c=WL(t,n),u=(o=(s=c.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0;i.addIssue({code:"custom",...c,fatal:u})}}):km.create()}const Fde={object:jn.lazycreate};var Rt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Rt||(Rt={}));const $de=(e,t={message:`Input not instance of ${e.name}`})=>uq(r=>r instanceof e,t),dq=Lo.create,fq=jd.create,Bde=Xw.create,Ude=Nd.create,hq=K0.create,zde=lh.create,Vde=Kw.create,qde=G0.create,Wde=Y0.create,Hde=km.create,Kde=Gf.create,Gde=Kc.create,Yde=Gw.create,Xde=Uo.create,Zde=jn.create,Qde=jn.strictCreate,Jde=X0.create,efe=Jj.create,tfe=Z0.create,rfe=zl.create,nfe=Q0.create,ife=Yw.create,afe=ch.create,sfe=zp.create,ofe=J0.create,lfe=ey.create,cfe=Sd.create,ufe=ty.create,dfe=Cm.create,HL=Ko.create,ffe=Ol.create,hfe=_d.create,pfe=Ko.createWithPreprocess,mfe=yv.create,gfe=()=>dq().optional(),xfe=()=>fq().optional(),yfe=()=>hq().optional(),vfe={string:e=>Lo.create({...e,coerce:!0}),number:e=>jd.create({...e,coerce:!0}),boolean:e=>K0.create({...e,coerce:!0}),bigint:e=>Nd.create({...e,coerce:!0}),date:e=>lh.create({...e,coerce:!0})},bfe=Bt;var St=Object.freeze({__proto__:null,defaultErrorMap:Am,setErrorMap:pde,getErrorMap:qw,makeIssue:Ww,EMPTY_PATH:mde,addIssueToContext:st,ParseStatus:ca,INVALID:Bt,DIRTY:Pp,OK:wa,isAborted:zA,isDirty:VA,isValid:oh,isAsync:H0,get util(){return Sr},get objectUtil(){return UA},ZodParsedType:ut,getParsedType:xc,ZodType:or,datetimeRegex:lq,ZodString:Lo,ZodNumber:jd,ZodBigInt:Nd,ZodBoolean:K0,ZodDate:lh,ZodSymbol:Kw,ZodUndefined:G0,ZodNull:Y0,ZodAny:km,ZodUnknown:Gf,ZodNever:Kc,ZodVoid:Gw,ZodArray:Uo,ZodObject:jn,ZodUnion:X0,ZodDiscriminatedUnion:Jj,ZodIntersection:Z0,ZodTuple:zl,ZodRecord:Q0,ZodMap:Yw,ZodSet:ch,ZodFunction:zp,ZodLazy:J0,ZodLiteral:ey,ZodEnum:Sd,ZodNativeEnum:ty,ZodPromise:Cm,ZodEffects:Ko,ZodTransformer:Ko,ZodOptional:Ol,ZodNullable:_d,ZodDefault:ry,ZodCatch:ny,ZodNaN:Xw,BRAND:Rde,ZodBranded:K3,ZodPipeline:yv,ZodReadonly:iy,custom:uq,Schema:or,ZodSchema:or,late:Fde,get ZodFirstPartyTypeKind(){return Rt},coerce:vfe,any:Hde,array:Xde,bigint:Ude,boolean:hq,date:zde,discriminatedUnion:efe,effect:HL,enum:cfe,function:sfe,instanceof:$de,intersection:tfe,lazy:ofe,literal:lfe,map:ife,nan:Bde,nativeEnum:ufe,never:Gde,null:Wde,nullable:hfe,number:fq,object:Zde,oboolean:yfe,onumber:xfe,optional:ffe,ostring:gfe,pipeline:mfe,preprocess:pfe,promise:dfe,record:nfe,set:afe,strictObject:Qde,string:dq,symbol:Vde,transformer:HL,tuple:rfe,undefined:qde,union:Jde,unknown:Kde,void:Yde,NEVER:bfe,ZodIssueCode:Ke,quotelessJson:hde,ZodError:hs});const $e=S.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:_t("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));$e.displayName="Input";var wfe="Label",pq=S.forwardRef((e,t)=>a.jsx(Tt.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));pq.displayName=wfe;var mq=pq;const jfe=ov("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ge=S.forwardRef(({className:e,...t},r)=>a.jsx(mq,{ref:r,className:_t(jfe(),e),...t}));Ge.displayName=mq.displayName;const to=Hue,gq=S.createContext({}),zt=({...e})=>a.jsx(gq.Provider,{value:{name:e.name},children:a.jsx(Xue,{...e})}),eN=()=>{const e=S.useContext(gq),t=S.useContext(xq),{getFieldState:r,formState:n}=Qj(),i=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},xq=S.createContext({}),$t=S.forwardRef(({className:e,...t},r)=>{const n=S.useId();return a.jsx(xq.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:_t("space-y-2",e),...t})})});$t.displayName="FormItem";const hr=S.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:i}=eN();return a.jsx(Ge,{ref:r,className:_t(n&&"text-destructive",e),htmlFor:i,...t})});hr.displayName="FormLabel";const qt=S.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=eN();return a.jsx(WB,{ref:t,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,...e})});qt.displayName="FormControl";const Nfe=S.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=eN();return a.jsx("p",{ref:r,id:n,className:_t("text-sm text-muted-foreground",e),...t})});Nfe.displayName="FormDescription";const Yt=S.forwardRef(({className:e,children:t,...r},n)=>{const{error:i,formMessageId:s}=eN(),o=i?String((i==null?void 0:i.message)??""):t;return o?a.jsx("p",{ref:n,id:s,className:_t("text-sm font-medium text-destructive",e),...r,children:o}):null});Yt.displayName="FormMessage";const Sfe=St.object({email:St.string().email("Please enter a valid email"),password:St.string().min(1,"Password is required")});function _fe(){const[,e]=Jt(),[t,r]=S.useState(!1),[n,i]=S.useState(!1),{toast:s}=Et(),{login:o}=kr();S.useEffect(()=>{window.PublicKeyCredential&&i(!0)},[]);const l=Yo({resolver:Xo(Sfe),defaultValues:{email:"",password:""}}),c=kt({mutationFn:async f=>(await qe("POST","/api/auth/login",f)).json(),onSuccess:f=>{f.requiresOtp?(s({title:"Verification code sent",description:`A 6-digit code was sent via ${f.sentVia}`}),localStorage.setItem("otpUserId",f.userId),localStorage.setItem("otpPhone",f.phone),localStorage.setItem("otpSentVia",f.sentVia||""),localStorage.setItem("otpEmail",f.email||""),e("/auth/otp-verification")):(o(f.user),s({title:"Welcome back!",description:"You have been successfully logged in."}),setTimeout(()=>{e("/dashboard")},100))},onError:f=>{s({title:"Login failed",description:f.message||"Invalid email or password. Please try again.",variant:"destructive"})}}),u=kt({mutationFn:async()=>{if(!n)throw new Error("Your device doesn't support biometric authentication");try{const h={challenge:crypto.getRandomValues(new Uint8Array(32)),timeout:6e4,userVerification:"preferred"},p=await navigator.credentials.get({publicKey:h});if(!p)throw new Error("Biometric authentication cancelled");return(await qe("POST","/api/auth/biometric/login",{credentialId:p.id})).json()}catch(f){throw f}},onSuccess:f=>{f.user&&(o(f.user),s({title:"Biometric Login Success",description:"Welcome back!"}),setTimeout(()=>{e("/dashboard")},100))},onError:f=>{s({title:"Biometric Login Failed",description:f.message||"Failed to authenticate with biometric",variant:"destructive"})}}),d=f=>{c.mutate(f)};return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors","data-testid":"button-back",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Sign In"})]}),a.jsx("div",{className:"flex-1 p-6",children:a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-sm mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(K.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"material-icons text-white text-2xl",children:"attach_money"})}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome Back"}),a.jsx("p",{className:"text-muted-foreground",children:"Sign in to your GreenPay account"})]}),a.jsx(to,{...l,children:a.jsxs("form",{onSubmit:l.handleSubmit(d),className:"space-y-6",children:[a.jsx(zt,{control:l.control,name:"email",render:({field:f})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Email or Phone"}),a.jsx(qt,{children:a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"material-icons absolute left-3 top-3 text-muted-foreground",children:"person"}),a.jsx($e,{...f,type:"email",placeholder:"Enter your email or phone",className:"pl-12","data-testid":"input-email"})]})}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:l.control,name:"password",render:({field:f})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Password"}),a.jsx(qt,{children:a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"material-icons absolute left-3 top-3 text-muted-foreground",children:"lock"}),a.jsx($e,{...f,type:t?"text":"password",placeholder:"Enter your password",className:"pl-12 pr-12","data-testid":"input-password"}),a.jsx("button",{type:"button",onClick:()=>r(!t),className:"material-icons absolute right-3 top-3 text-muted-foreground hover:text-foreground transition-colors","data-testid":"button-toggle-password",children:t?"visibility_off":"visibility"})]})}),a.jsx(Yt,{})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 text-primary border-border rounded focus:ring-ring","data-testid":"checkbox-remember"}),a.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Remember me"})]}),a.jsx("button",{type:"button",onClick:()=>e("/auth/forgot-password"),className:"text-sm text-primary hover:underline","data-testid":"button-forgot-password",children:"Forgot password?"})]}),a.jsx(ie,{type:"submit",className:"w-full ripple",disabled:c.isPending,"data-testid":"button-signin-submit",children:c.isPending?"Signing In...":"Sign In"})]})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",a.jsx("button",{onClick:()=>e("/signup"),className:"text-primary hover:underline font-medium","data-testid":"link-signup",children:"Sign up"})]})}),a.jsx("div",{className:"mt-4 text-center",children:a.jsxs("p",{className:"text-xs text-muted-foreground",children:["By signing in, you agree to our"," ",a.jsx("button",{onClick:()=>e("/terms"),className:"text-primary hover:underline font-medium",children:"Terms and Conditions"})]})}),a.jsxs("div",{className:"mt-8",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-border"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-background text-muted-foreground",children:"Or continue with"})})]}),n&&a.jsx("div",{className:"mt-6",children:a.jsxs(ie,{variant:"outline",className:"w-full flex items-center justify-center",onClick:()=>u.mutate(),disabled:u.isPending,"data-testid":"button-biometric",children:[a.jsx("span",{className:"material-icons text-muted-foreground mr-2",children:"fingerprint"}),a.jsx("span",{className:"text-sm font-medium",children:u.isPending?"Authenticating...":"Biometric Login"})]})}),!n&&a.jsx("div",{className:"mt-6 p-3 bg-muted rounded-lg text-center",children:a.jsx("p",{className:"text-xs text-muted-foreground",children:"Biometric login is not supported on this device"})})]})]})})]})}function WA(e,[t,r]){return Math.min(r,Math.max(t,e))}var Pfe=S.createContext(void 0);function vv(e){const t=S.useContext(Pfe);return e||t||"ltr"}var RS=0;function yq(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??KL()),document.body.insertAdjacentElement("beforeend",e[1]??KL()),RS++,()=>{RS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),RS--}},[])}function KL(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var FS="focusScope.autoFocusOnMount",$S="focusScope.autoFocusOnUnmount",GL={bubbles:!1,cancelable:!0},Afe="FocusScope",G3=S.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[l,c]=S.useState(null),u=Yn(i),d=Yn(s),f=S.useRef(null),h=br(t,m=>c(m)),p=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let m=function(w){if(p.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:Tu(f.current,{select:!0})},v=function(w){if(p.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Tu(f.current,{select:!0}))},g=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Tu(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const x=new MutationObserver(g);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),x.disconnect()}}},[n,l,p.paused]),S.useEffect(()=>{if(l){XL.add(p);const m=document.activeElement;if(!l.contains(m)){const g=new CustomEvent(FS,GL);l.addEventListener(FS,u),l.dispatchEvent(g),g.defaultPrevented||(kfe(Mfe(vq(l)),{select:!0}),document.activeElement===m&&Tu(l))}return()=>{l.removeEventListener(FS,u),setTimeout(()=>{const g=new CustomEvent($S,GL);l.addEventListener($S,d),l.dispatchEvent(g),g.defaultPrevented||Tu(m??document.body,{select:!0}),l.removeEventListener($S,d),XL.remove(p)},0)}}},[l,u,d,p]);const y=S.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(v&&g){const x=m.currentTarget,[w,j]=Cfe(x);w&&j?!m.shiftKey&&g===j?(m.preventDefault(),r&&Tu(w,{select:!0})):m.shiftKey&&g===w&&(m.preventDefault(),r&&Tu(j,{select:!0})):g===x&&m.preventDefault()}},[r,n,p.paused]);return a.jsx(Tt.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});G3.displayName=Afe;function kfe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Tu(n,{select:t}),document.activeElement!==r)return}function Cfe(e){const t=vq(e),r=YL(t,e),n=YL(t.reverse(),e);return[r,n]}function vq(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function YL(e,t){for(const r of e)if(!Tfe(r,{upTo:t}))return r}function Tfe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Efe(e){return e instanceof HTMLInputElement&&"select"in e}function Tu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Efe(e)&&t&&e.select()}}var XL=Ofe();function Ofe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=ZL(e,t),e.unshift(t)},remove(t){var r;e=ZL(e,t),(r=e[0])==null||r.resume()}}}function ZL(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Mfe(e){return e.filter(t=>t.tagName!=="A")}function bq(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Lfe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Gh=new WeakMap,Wb=new WeakMap,Hb={},BS=0,wq=function(e){return e&&(e.host||wq(e.parentNode))},Ife=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=wq(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Dfe=function(e,t,r,n){var i=Ife(t,Array.isArray(e)?e:[e]);Hb[r]||(Hb[r]=new WeakMap);var s=Hb[r],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),y=p!==null&&p!=="false",m=(Gh.get(h)||0)+1,v=(s.get(h)||0)+1;Gh.set(h,m),s.set(h,v),o.push(h),m===1&&y&&Wb.set(h,!0),v===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return d(t),l.clear(),BS++,function(){o.forEach(function(f){var h=Gh.get(f)-1,p=s.get(f)-1;Gh.set(f,h),s.set(f,p),h||(Wb.has(f)||f.removeAttribute(n),Wb.delete(f)),p||f.removeAttribute(r)}),BS--,BS||(Gh=new WeakMap,Gh=new WeakMap,Wb=new WeakMap,Hb={})}},jq=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=Lfe(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),Dfe(n,i,r,"aria-hidden")):function(){return null}},xl=function(){return xl=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},xl.apply(this,arguments)};function Nq(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Rfe(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var z1="right-scroll-bar-position",V1="width-before-scroll-bar",Ffe="with-scroll-bars-hidden",$fe="--removed-body-scroll-bar-size";function US(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Bfe(e,t){var r=S.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var Ufe=typeof window<"u"?S.useLayoutEffect:S.useEffect,QL=new WeakMap;function zfe(e,t){var r=Bfe(null,function(n){return e.forEach(function(i){return US(i,n)})});return Ufe(function(){var n=QL.get(r);if(n){var i=new Set(n),s=new Set(e),o=r.current;i.forEach(function(l){s.has(l)||US(l,null)}),s.forEach(function(l){i.has(l)||US(l,o)})}QL.set(r,e)},[e]),r}function Vfe(e){return e}function qfe(e,t){t===void 0&&(t=Vfe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return i}function Wfe(e){e===void 0&&(e={});var t=qfe(null);return t.options=xl({async:!0,ssr:!1},e),t}var Sq=function(e){var t=e.sideCar,r=Nq(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,xl({},r))};Sq.isSideCarExport=!0;function Hfe(e,t){return e.useMedium(t),Sq}var _q=Wfe(),zS=function(){},tN=S.forwardRef(function(e,t){var r=S.useRef(null),n=S.useState({onScrollCapture:zS,onWheelCapture:zS,onTouchMoveCapture:zS}),i=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,y=e.inert,m=e.allowPinchZoom,v=e.as,g=v===void 0?"div":v,x=e.gapMode,w=Nq(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=zfe([r,t]),P=xl(xl({},w),i);return S.createElement(S.Fragment,null,d&&S.createElement(j,{sideCar:_q,removeScrollBar:u,shards:f,noIsolation:p,inert:y,setCallbacks:s,allowPinchZoom:!!m,lockRef:r,gapMode:x}),o?S.cloneElement(S.Children.only(l),xl(xl({},P),{ref:N})):S.createElement(g,xl({},P,{className:c,ref:N}),l))});tN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tN.classNames={fullWidth:V1,zeroRight:z1};var Kfe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Gfe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Kfe();return t&&e.setAttribute("nonce",t),e}function Yfe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Xfe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Zfe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Gfe())&&(Yfe(t,r),Xfe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Qfe=function(){var e=Zfe();return function(t,r){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Pq=function(){var e=Qfe(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},Jfe={left:0,top:0,right:0,gap:0},VS=function(e){return parseInt(e||"",10)||0},ehe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[VS(r),VS(n),VS(i)]},the=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Jfe;var t=ehe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},rhe=Pq(),Vp="data-scroll-locked",nhe=function(e,t,r,n){var i=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Ffe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Vp,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(z1,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(V1,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(z1," .").concat(z1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(V1," .").concat(V1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Vp,`] {
    `).concat($fe,": ").concat(l,`px;
  }
`)},JL=function(){var e=parseInt(document.body.getAttribute(Vp)||"0",10);return isFinite(e)?e:0},ihe=function(){S.useEffect(function(){return document.body.setAttribute(Vp,(JL()+1).toString()),function(){var e=JL()-1;e<=0?document.body.removeAttribute(Vp):document.body.setAttribute(Vp,e.toString())}},[])},ahe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;ihe();var s=S.useMemo(function(){return the(i)},[i]);return S.createElement(rhe,{styles:nhe(s,!t,i,r?"":"!important")})},HA=!1;if(typeof window<"u")try{var Kb=Object.defineProperty({},"passive",{get:function(){return HA=!0,!0}});window.addEventListener("test",Kb,Kb),window.removeEventListener("test",Kb,Kb)}catch{HA=!1}var Yh=HA?{passive:!1}:!1,she=function(e){return e.tagName==="TEXTAREA"},Aq=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!she(e)&&r[t]==="visible")},ohe=function(e){return Aq(e,"overflowY")},lhe=function(e){return Aq(e,"overflowX")},eI=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=kq(e,n);if(i){var s=Cq(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},che=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},uhe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},kq=function(e,t){return e==="v"?ohe(t):lhe(t)},Cq=function(e,t){return e==="v"?che(t):uhe(t)},dhe=function(e,t){return e==="h"&&t==="rtl"?-1:1},fhe=function(e,t,r,n,i){var s=dhe(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var p=Cq(e,l),y=p[0],m=p[1],v=p[2],g=m-v-s*y;(y||g)&&kq(e,l)&&(f+=g,h+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(u=!0),u},Gb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tI=function(e){return[e.deltaX,e.deltaY]},rI=function(e){return e&&"current"in e?e.current:e},hhe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},phe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},mhe=0,Xh=[];function ghe(e){var t=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),i=S.useState(mhe++)[0],s=S.useState(Pq)[0],o=S.useRef(e);S.useEffect(function(){o.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=Rfe([e.lockRef.current],(e.shards||[]).map(rI),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=S.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var g=Gb(m),x=r.current,w="deltaX"in m?m.deltaX:x[0]-g[0],j="deltaY"in m?m.deltaY:x[1]-g[1],N,P=m.target,k=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in m&&k==="h"&&P.type==="range")return!1;var C=eI(k,P);if(!C)return!0;if(C?N=k:(N=k==="v"?"h":"v",C=eI(k,P)),!C)return!1;if(!n.current&&"changedTouches"in m&&(w||j)&&(n.current=N),!N)return!0;var O=n.current||N;return fhe(O,v,m,O==="h"?w:j,!0)},[]),c=S.useCallback(function(m){var v=m;if(!(!Xh.length||Xh[Xh.length-1]!==s)){var g="deltaY"in v?tI(v):Gb(v),x=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&hhe(N.delta,g)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(rI).filter(Boolean).filter(function(N){return N.contains(v.target)}),j=w.length>0?l(v,w[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),u=S.useCallback(function(m,v,g,x){var w={name:m,delta:v,target:g,should:x,shadowParent:xhe(g)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=S.useCallback(function(m){r.current=Gb(m),n.current=void 0},[]),f=S.useCallback(function(m){u(m.type,tI(m),m.target,l(m,e.lockRef.current))},[]),h=S.useCallback(function(m){u(m.type,Gb(m),m.target,l(m,e.lockRef.current))},[]);S.useEffect(function(){return Xh.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Yh),document.addEventListener("touchmove",c,Yh),document.addEventListener("touchstart",d,Yh),function(){Xh=Xh.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,Yh),document.removeEventListener("touchmove",c,Yh),document.removeEventListener("touchstart",d,Yh)}},[]);var p=e.removeScrollBar,y=e.inert;return S.createElement(S.Fragment,null,y?S.createElement(s,{styles:phe(i)}):null,p?S.createElement(ahe,{gapMode:e.gapMode}):null)}function xhe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const yhe=Hfe(_q,ghe);var Y3=S.forwardRef(function(e,t){return S.createElement(tN,xl({},e,{ref:t,sideCar:yhe}))});Y3.classNames=tN.classNames;var vhe=[" ","Enter","ArrowUp","ArrowDown"],bhe=[" ","Enter"],bv="Select",[rN,nN,whe]=Cj(bv),[gg,fUe]=js(bv,[whe,zj]),iN=zj(),[jhe,Od]=gg(bv),[Nhe,She]=gg(bv),Tq=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:y}=e,m=iN(t),[v,g]=S.useState(null),[x,w]=S.useState(null),[j,N]=S.useState(!1),P=vv(u),[k=!1,C]=Rl({prop:n,defaultProp:i,onChange:s}),[O,I]=Rl({prop:o,defaultProp:l,onChange:c}),E=S.useRef(null),A=v?y||!!v.closest("form"):!0,[D,R]=S.useState(new Set),G=Array.from(D).map(F=>F.props.value).join(";");return a.jsx(Qae,{...m,children:a.jsxs(jhe,{required:p,scope:t,trigger:v,onTriggerChange:g,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:kl(),value:O,onValueChange:I,open:k,onOpenChange:C,dir:P,triggerPointerDownPosRef:E,disabled:h,children:[a.jsx(rN.Provider,{scope:t,children:a.jsx(Nhe,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback(F=>{R(q=>new Set(q).add(F))},[]),onNativeOptionRemove:S.useCallback(F=>{R(q=>{const B=new Set(q);return B.delete(F),B})},[]),children:r})}),A?a.jsxs(tW,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:F=>I(F.target.value),disabled:h,form:y,children:[O===void 0?a.jsx("option",{value:""}):null,Array.from(D)]},G):null]})})};Tq.displayName=bv;var Eq="SelectTrigger",Oq=S.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,s=iN(r),o=Od(Eq,r),l=o.disabled||n,c=br(t,o.onTriggerChange),u=nN(r),d=S.useRef("touch"),[f,h,p]=rW(m=>{const v=u().filter(w=>!w.disabled),g=v.find(w=>w.value===o.value),x=nW(v,m,g);x!==void 0&&o.onValueChange(x.value)}),y=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return a.jsx(az,{asChild:!0,...s,children:a.jsx(Tt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":eW(o.value)?"":void 0,...i,ref:c,onClick:jt(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&y(m)}),onPointerDown:jt(i.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:jt(i.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&vhe.includes(m.key)&&(y(),m.preventDefault())})})})});Oq.displayName=Eq;var Mq="SelectValue",Lq=S.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...l}=e,c=Od(Mq,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=br(t,c.onValueNodeChange);return Pi(()=>{u(d)},[u,d]),a.jsx(Tt.span,{...l,ref:f,style:{pointerEvents:"none"},children:eW(c.value)?a.jsx(a.Fragment,{children:o}):s})});Lq.displayName=Mq;var _he="SelectIcon",Iq=S.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return a.jsx(Tt.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});Iq.displayName=_he;var Phe="SelectPortal",Dq=e=>a.jsx(Tj,{asChild:!0,...e});Dq.displayName=Phe;var uh="SelectContent",Rq=S.forwardRef((e,t)=>{const r=Od(uh,e.__scopeSelect),[n,i]=S.useState();if(Pi(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Nh.createPortal(a.jsx(Fq,{scope:e.__scopeSelect,children:a.jsx(rN.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),s):null}return a.jsx($q,{...e,ref:t})});Rq.displayName=uh;var bo=10,[Fq,Md]=gg(uh),Ahe="SelectContentImpl",khe=wm("SelectContent.RemoveScroll"),$q=S.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:v,...g}=e,x=Od(uh,r),[w,j]=S.useState(null),[N,P]=S.useState(null),k=br(t,ce=>j(ce)),[C,O]=S.useState(null),[I,E]=S.useState(null),A=nN(r),[D,R]=S.useState(!1),G=S.useRef(!1);S.useEffect(()=>{if(w)return jq(w)},[w]),yq();const F=S.useCallback(ce=>{const[be,...oe]=A().map(pe=>pe.ref.current),[ye]=oe.slice(-1),je=document.activeElement;for(const pe of ce)if(pe===je||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===be&&N&&(N.scrollTop=0),pe===ye&&N&&(N.scrollTop=N.scrollHeight),pe==null||pe.focus(),document.activeElement!==je))return},[A,N]),q=S.useCallback(()=>F([C,w]),[F,C,w]);S.useEffect(()=>{D&&q()},[D,q]);const{onOpenChange:B,triggerPointerDownPosRef:Z}=x;S.useEffect(()=>{if(w){let ce={x:0,y:0};const be=ye=>{var je,pe;ce={x:Math.abs(Math.round(ye.pageX)-(((je=Z.current)==null?void 0:je.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((pe=Z.current)==null?void 0:pe.y)??0))}},oe=ye=>{ce.x<=10&&ce.y<=10?ye.preventDefault():w.contains(ye.target)||B(!1),document.removeEventListener("pointermove",be),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",oe,{capture:!0})}}},[w,B,Z]),S.useEffect(()=>{const ce=()=>B(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[B]);const[le,fe]=rW(ce=>{const be=A().filter(je=>!je.disabled),oe=be.find(je=>je.ref.current===document.activeElement),ye=nW(be,ce,oe);ye&&setTimeout(()=>ye.ref.current.focus())}),$=S.useCallback((ce,be,oe)=>{const ye=!G.current&&!oe;(x.value!==void 0&&x.value===be||ye)&&(O(ce),ye&&(G.current=!0))},[x.value]),Y=S.useCallback(()=>w==null?void 0:w.focus(),[w]),J=S.useCallback((ce,be,oe)=>{const ye=!G.current&&!oe;(x.value!==void 0&&x.value===be||ye)&&E(ce)},[x.value]),ae=n==="popper"?KA:Bq,de=ae===KA?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:v}:{};return a.jsx(Fq,{scope:r,content:w,viewport:N,onViewportChange:P,itemRefCallback:$,selectedItem:C,onItemLeave:Y,itemTextRefCallback:J,focusSelectedItem:q,selectedItemText:I,position:n,isPositioned:D,searchRef:le,children:a.jsx(Y3,{as:khe,allowPinchZoom:!0,children:a.jsx(G3,{asChild:!0,trapped:x.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:jt(i,ce=>{var be;(be=x.trigger)==null||be.focus({preventScroll:!0}),ce.preventDefault()}),children:a.jsx(av,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:a.jsx(ae,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ce=>ce.preventDefault(),...g,...de,onPlaced:()=>R(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:jt(g.onKeyDown,ce=>{const be=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!be&&ce.key.length===1&&fe(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let ye=A().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const je=ce.target,pe=ye.indexOf(je);ye=ye.slice(pe+1)}setTimeout(()=>F(ye)),ce.preventDefault()}})})})})})})});$q.displayName=Ahe;var Che="SelectItemAlignedPosition",Bq=S.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,s=Od(uh,r),o=Md(uh,r),[l,c]=S.useState(null),[u,d]=S.useState(null),f=br(t,k=>d(k)),h=nN(r),p=S.useRef(!1),y=S.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:g,focusSelectedItem:x}=o,w=S.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&m&&v&&g){const k=s.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),O=s.valueNode.getBoundingClientRect(),I=g.getBoundingClientRect();if(s.dir!=="rtl"){const je=I.left-C.left,pe=O.left-je,Ne=k.left-pe,xe=k.width+Ne,V=Math.max(xe,C.width),Ve=window.innerWidth-bo,Ze=WA(pe,[bo,Math.max(bo,Ve-V)]);l.style.minWidth=xe+"px",l.style.left=Ze+"px"}else{const je=C.right-I.right,pe=window.innerWidth-O.right-je,Ne=window.innerWidth-k.right-pe,xe=k.width+Ne,V=Math.max(xe,C.width),Ve=window.innerWidth-bo,Ze=WA(pe,[bo,Math.max(bo,Ve-V)]);l.style.minWidth=xe+"px",l.style.right=Ze+"px"}const E=h(),A=window.innerHeight-bo*2,D=m.scrollHeight,R=window.getComputedStyle(u),G=parseInt(R.borderTopWidth,10),F=parseInt(R.paddingTop,10),q=parseInt(R.borderBottomWidth,10),B=parseInt(R.paddingBottom,10),Z=G+F+D+B+q,le=Math.min(v.offsetHeight*5,Z),fe=window.getComputedStyle(m),$=parseInt(fe.paddingTop,10),Y=parseInt(fe.paddingBottom,10),J=k.top+k.height/2-bo,ae=A-J,de=v.offsetHeight/2,ce=v.offsetTop+de,be=G+F+ce,oe=Z-be;if(be<=J){const je=E.length>0&&v===E[E.length-1].ref.current;l.style.bottom="0px";const pe=u.clientHeight-m.offsetTop-m.offsetHeight,Ne=Math.max(ae,de+(je?Y:0)+pe+q),xe=be+Ne;l.style.height=xe+"px"}else{const je=E.length>0&&v===E[0].ref.current;l.style.top="0px";const Ne=Math.max(J,G+m.offsetTop+(je?$:0)+de)+oe;l.style.height=Ne+"px",m.scrollTop=be-J+m.offsetTop}l.style.margin=`${bo}px 0`,l.style.minHeight=le+"px",l.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,l,u,m,v,g,s.dir,n]);Pi(()=>w(),[w]);const[j,N]=S.useState();Pi(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const P=S.useCallback(k=>{k&&y.current===!0&&(w(),x==null||x(),y.current=!1)},[w,x]);return a.jsx(Ehe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:P,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(Tt.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Bq.displayName=Che;var The="SelectPopperPosition",KA=S.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=bo,...s}=e,o=iN(r);return a.jsx(sz,{...o,...s,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});KA.displayName=The;var[Ehe,X3]=gg(uh,{}),GA="SelectViewport",Uq=S.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,s=Md(GA,r),o=X3(GA,r),l=br(t,s.onViewportChange),c=S.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(rN.Slot,{scope:r,children:a.jsx(Tt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:jt(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-bo*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),g=Math.max(m,v);if(g<y){const x=g+p,w=Math.min(y,x),j=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Uq.displayName=GA;var zq="SelectGroup",[Ohe,Mhe]=gg(zq),Lhe=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=kl();return a.jsx(Ohe,{scope:r,id:i,children:a.jsx(Tt.div,{role:"group","aria-labelledby":i,...n,ref:t})})});Lhe.displayName=zq;var Vq="SelectLabel",qq=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Mhe(Vq,r);return a.jsx(Tt.div,{id:i.id,...n,ref:t})});qq.displayName=Vq;var Zw="SelectItem",[Ihe,Wq]=gg(Zw),Hq=S.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=e,l=Od(Zw,r),c=Md(Zw,r),u=l.value===n,[d,f]=S.useState(s??""),[h,p]=S.useState(!1),y=br(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,n,i)}),m=kl(),v=S.useRef("touch"),g=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Ihe,{scope:r,value:n,disabled:i,textId:m,isSelected:u,onItemTextChange:S.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:a.jsx(rN.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:a.jsx(Tt.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:jt(o.onFocus,()=>p(!0)),onBlur:jt(o.onBlur,()=>p(!1)),onClick:jt(o.onClick,()=>{v.current!=="mouse"&&g()}),onPointerUp:jt(o.onPointerUp,()=>{v.current==="mouse"&&g()}),onPointerDown:jt(o.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:jt(o.onPointerMove,x=>{var w;v.current=x.pointerType,i?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:jt(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:jt(o.onKeyDown,x=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&x.key===" "||(bhe.includes(x.key)&&g(),x.key===" "&&x.preventDefault())})})})})});Hq.displayName=Zw;var Hx="SelectItemText",Kq=S.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...s}=e,o=Od(Hx,r),l=Md(Hx,r),c=Wq(Hx,r),u=She(Hx,r),[d,f]=S.useState(null),h=br(t,g=>f(g),c.onItemTextChange,g=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,g,c.value,c.disabled)}),p=d==null?void 0:d.textContent,y=S.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return Pi(()=>(m(y),()=>v(y)),[m,v,y]),a.jsxs(a.Fragment,{children:[a.jsx(Tt.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Nh.createPortal(s.children,o.valueNode):null]})});Kq.displayName=Hx;var Gq="SelectItemIndicator",Yq=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Wq(Gq,r).isSelected?a.jsx(Tt.span,{"aria-hidden":!0,...n,ref:t}):null});Yq.displayName=Gq;var YA="SelectScrollUpButton",Xq=S.forwardRef((e,t)=>{const r=Md(YA,e.__scopeSelect),n=X3(YA,e.__scopeSelect),[i,s]=S.useState(!1),o=br(t,n.onScrollButtonChange);return Pi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx(Qq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Xq.displayName=YA;var XA="SelectScrollDownButton",Zq=S.forwardRef((e,t)=>{const r=Md(XA,e.__scopeSelect),n=X3(XA,e.__scopeSelect),[i,s]=S.useState(!1),o=br(t,n.onScrollButtonChange);return Pi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx(Qq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Zq.displayName=XA;var Qq=S.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,s=Md("SelectScrollButton",r),o=S.useRef(null),l=nN(r),c=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),Pi(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Tt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:jt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:jt(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:jt(i.onPointerLeave,()=>{c()})})}),Dhe="SelectSeparator",Jq=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Tt.div,{"aria-hidden":!0,...n,ref:t})});Jq.displayName=Dhe;var ZA="SelectArrow",Rhe=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=iN(r),s=Od(ZA,r),o=Md(ZA,r);return s.open&&o.position==="popper"?a.jsx(oz,{...i,...n,ref:t}):null});Rhe.displayName=ZA;function eW(e){return e===""||e===void 0}var tW=S.forwardRef((e,t)=>{const{value:r,...n}=e,i=S.useRef(null),s=br(t,i),o=bq(r);return S.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),a.jsx(sv,{asChild:!0,children:a.jsx("select",{...n,ref:s,defaultValue:r})})});tW.displayName="BubbleSelect";function rW(e){const t=Yn(e),r=S.useRef(""),n=S.useRef(0),i=S.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=S.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function nW(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=Fhe(e,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function Fhe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var $he=Tq,iW=Oq,Bhe=Lq,Uhe=Iq,zhe=Dq,aW=Rq,Vhe=Uq,sW=qq,oW=Hq,qhe=Kq,Whe=Yq,lW=Xq,cW=Zq,uW=Jq;const Hr=$he,Kr=Bhe,$r=S.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(iW,{ref:n,className:_t("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(Uhe,{asChild:!0,children:a.jsx(XC,{className:"h-4 w-4 opacity-50"})})]}));$r.displayName=iW.displayName;const dW=S.forwardRef(({className:e,...t},r)=>a.jsx(lW,{ref:r,className:_t("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Kne,{className:"h-4 w-4"})}));dW.displayName=lW.displayName;const fW=S.forwardRef(({className:e,...t},r)=>a.jsx(cW,{ref:r,className:_t("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(XC,{className:"h-4 w-4"})}));fW.displayName=cW.displayName;const Br=S.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>a.jsx(zhe,{children:a.jsxs(aW,{ref:i,className:_t("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(dW,{}),a.jsx(Vhe,{className:_t("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(fW,{})]})}));Br.displayName=aW.displayName;const Hhe=S.forwardRef(({className:e,...t},r)=>a.jsx(sW,{ref:r,className:_t("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Hhe.displayName=sW.displayName;const nt=S.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(oW,{ref:n,className:_t("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Whe,{children:a.jsx(Sn,{className:"h-4 w-4"})})}),a.jsx(qhe,{children:t})]}));nt.displayName=oW.displayName;const Khe=S.forwardRef(({className:e,...t},r)=>a.jsx(uW,{ref:r,className:_t("-mx-1 my-1 h-px bg-muted",e),...t}));Khe.displayName=uW.displayName;const Ghe=[{code:"US",name:"United States",flag:""},{code:"UK",name:"United Kingdom",flag:""},{code:"CA",name:"Canada",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""},{code:"NG",name:"Nigeria",flag:""},{code:"GH",name:"Ghana",flag:""},{code:"KE",name:"Kenya",flag:""},{code:"ZA",name:"South Africa",flag:""},{code:"CM",name:"Cameroon",flag:""}],hW=[{code:"USD",name:"US Dollar",symbol:"$"},{code:"KES",name:"Kenyan Shilling",symbol:"KSh"}],Yhe=[{question:"How long do transfers take?",answer:"Most transfers complete within 5 minutes to African countries. Bank transfers may take up to 1-2 business days."},{question:"What are the transfer fees?",answer:"Fees start from $2.99 per transfer. The exact fee depends on the amount, destination, and delivery method."},{question:"How to verify my account?",answer:"Upload a valid ID (passport, national ID, or driver's license), proof of address, and take a selfie. Verification usually takes 24-48 hours."},{question:"Can I cancel a transfer?",answer:"Yes, you can cancel a transfer if it hasn't been processed yet. Go to Transactions and tap on the pending transfer to cancel."},{question:"Is my money safe?",answer:"Yes, we use bank-level security and are regulated by financial authorities. Your funds are protected by FDIC insurance."},{question:"How much can I send?",answer:"Daily limits start at $2,500 for verified accounts. Monthly limits can go up to $50,000 based on your verification level."}],Xhe=St.object({fullName:St.string().min(2,"Full name must be at least 2 characters"),email:St.string().email("Please enter a valid email"),phone:St.string().min(9,"Phone number must be 9 digits").max(9,"Phone number must be 9 digits").regex(/^[17]\d{8}$/,"Phone number must start with 1 or 7 and be 9 digits (e.g., 145454534 or 712345678)"),phoneCountryCode:St.string().min(1,"Please select country code"),country:St.string().min(1,"Please select your country"),password:St.string().min(8,"Password must be at least 8 characters"),confirmPassword:St.string(),agreeToTerms:St.boolean().refine(e=>e===!0,"You must agree to the terms")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Zhe(){const[,e]=Jt(),{toast:t}=Et(),{login:r}=kr(),n=Yo({resolver:Xo(Xhe),defaultValues:{fullName:"",email:"",phone:"",phoneCountryCode:"+254",country:"",password:"",confirmPassword:"",agreeToTerms:!1}}),i=kt({mutationFn:async l=>(await qe("POST","/api/auth/signup",l)).json(),onSuccess:l=>{r(l.user),t({title:"Account created!",description:"Welcome to GreenPay! Complete your profile to get started."}),e("/dashboard")},onError:()=>{t({title:"Signup failed",description:"Unable to create account. Please try again.",variant:"destructive"})}}),s=l=>{const{confirmPassword:c,agreeToTerms:u,phoneCountryCode:d,...f}=l,h=d+f.phone;i.mutate({...f,phone:h})},o=[{code:"+254",country:"Kenya"},{code:"+234",country:"Nigeria"},{code:"+233",country:"Ghana"},{code:"+27",country:"South Africa"},{code:"+20",country:"Egypt"},{code:"+256",country:"Uganda"},{code:"+255",country:"Tanzania"},{code:"+1",country:"USA"},{code:"+44",country:"UK"}];return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors","data-testid":"button-back",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Create Account"})]}),a.jsx("div",{className:"flex-1 p-6",children:a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-sm mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Join GreenPay"}),a.jsx("p",{className:"text-muted-foreground",children:"Create your account to start sending money"})]}),a.jsx(to,{...n,children:a.jsxs("form",{onSubmit:n.handleSubmit(s),className:"space-y-4",children:[a.jsx(zt,{control:n.control,name:"fullName",render:({field:l})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Full Name"}),a.jsx(qt,{children:a.jsx($e,{...l,placeholder:"Enter your full name","data-testid":"input-fullname"})}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:n.control,name:"email",render:({field:l})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Email"}),a.jsx(qt,{children:a.jsx($e,{...l,type:"email",placeholder:"Enter your email","data-testid":"input-email"})}),a.jsx(Yt,{})]})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(zt,{control:n.control,name:"phoneCountryCode",render:({field:l})=>a.jsxs($t,{className:"w-28",children:[a.jsx(hr,{children:"Code"}),a.jsxs(Hr,{onValueChange:l.onChange,defaultValue:l.value,children:[a.jsx(qt,{children:a.jsx($r,{children:a.jsx(Kr,{})})}),a.jsx(Br,{children:o.map(c=>a.jsx(nt,{value:c.code,children:c.code},c.code))})]}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:n.control,name:"phone",render:({field:l})=>a.jsxs($t,{className:"flex-1",children:[a.jsx(hr,{children:"Phone Number"}),a.jsx(qt,{children:a.jsx($e,{...l,type:"tel",placeholder:"712345678","data-testid":"input-phone"})}),a.jsx(Yt,{})]})})]}),a.jsx(zt,{control:n.control,name:"country",render:({field:l})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Country"}),a.jsxs(Hr,{onValueChange:l.onChange,defaultValue:l.value,children:[a.jsx(qt,{children:a.jsx($r,{"data-testid":"select-country",children:a.jsx(Kr,{placeholder:"Select your country"})})}),a.jsx(Br,{children:Ghe.map(c=>a.jsxs(nt,{value:c.name,children:[c.flag," ",c.name]},c.code))})]}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:n.control,name:"password",render:({field:l})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Password"}),a.jsx(qt,{children:a.jsx($e,{...l,type:"password",placeholder:"Create a strong password","data-testid":"input-password"})}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:n.control,name:"confirmPassword",render:({field:l})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Confirm Password"}),a.jsx(qt,{children:a.jsx($e,{...l,type:"password",placeholder:"Confirm your password","data-testid":"input-confirm-password"})}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:n.control,name:"agreeToTerms",render:({field:l})=>a.jsxs($t,{className:"flex items-start space-x-2 space-y-0",children:[a.jsx(qt,{children:a.jsx("input",{type:"checkbox",checked:l.value,onChange:l.onChange,className:"w-4 h-4 text-primary border-border rounded focus:ring-ring mt-1","data-testid":"checkbox-terms"})}),a.jsxs("div",{className:"space-y-1 leading-none",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:["I agree to the"," ",a.jsx("button",{type:"button",onClick:c=>{c.preventDefault(),e("/terms")},className:"text-primary hover:underline font-medium",children:"Terms of Service"})," ","and"," ",a.jsx("button",{type:"button",onClick:c=>{c.preventDefault(),e("/privacy")},className:"text-primary hover:underline font-medium",children:"Privacy Policy"})]}),a.jsx(Yt,{})]})]})}),a.jsx(ie,{type:"submit",className:"w-full ripple",disabled:i.isPending,"data-testid":"button-create-account",children:i.isPending?"Creating Account...":"Create Account"})]})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",a.jsx("button",{onClick:()=>e("/login"),className:"text-primary hover:underline font-medium","data-testid":"link-signin",children:"Sign in"})]})})]})})]})}function Qhe(){const[,e]=Jt(),[t,r]=S.useState(new Array(6).fill("")),n=S.useRef([]),{toast:i}=Et(),{login:s}=kr(),[o,l]=S.useState(""),[c,u]=S.useState(""),[d,f]=S.useState(""),[h,p]=S.useState("");S.useEffect(()=>{const j=localStorage.getItem("otpUserId"),N=localStorage.getItem("otpPhone"),P=localStorage.getItem("otpEmail"),k=localStorage.getItem("otpSentVia");if(!j){i({title:"Session expired",description:"Please login again.",variant:"destructive"}),e("/login");return}l(j),u(N||""),f(P||""),p(k||""),n.current[0]&&n.current[0].focus()},[e,i]);const y=kt({mutationFn:async j=>(await qe("POST","/api/auth/verify-otp",{code:j,userId:o})).json(),onSuccess:j=>{localStorage.removeItem("otpUserId"),localStorage.removeItem("otpPhone"),s(j.user),i({title:"Login successful!",description:"You have been successfully verified and logged in."}),setTimeout(()=>{e("/dashboard")},100)},onError:()=>{i({title:"Verification failed",description:"Invalid or expired OTP code. Please try again.",variant:"destructive"}),r(new Array(6).fill("")),n.current[0]&&n.current[0].focus()}}),m=(j,N)=>{if(isNaN(Number(j.value)))return!1;r([...t.map((P,k)=>k===N?j.value:P)]),j.nextSibling&&j.value!==""&&j.nextSibling.focus()},v=(j,N)=>{var P;j.key==="Backspace"&&!t[N]&&N>0&&((P=n.current[N-1])==null||P.focus())},g=j=>{j.preventDefault();const N=t.join("");N.length===6&&y.mutate(N)},x=kt({mutationFn:async()=>(await qe("POST","/api/auth/resend-otp",{userId:o})).json(),onSuccess:j=>{i({title:"OTP Resent",description:j.message||"A new verification code has been sent."})},onError:()=>{i({title:"Resend failed",description:"Failed to resend verification code. Please try again.",variant:"destructive"})}}),w=()=>{x.mutate()};return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/login"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors","data-testid":"button-back",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Verify Login"})]}),a.jsx("div",{className:"flex-1 p-6 flex items-center justify-center",children:a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-sm mx-auto text-center",children:[a.jsx(K.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("span",{className:"material-icons text-white text-2xl",children:"sms"})}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Verify Login"}),a.jsxs("p",{className:"text-muted-foreground mb-8",children:["We've sent a 6-digit verification code via SMS and WhatsApp to",a.jsx("br",{}),a.jsx("strong",{children:c||"your phone"}),d&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsxs("span",{className:"text-sm",children:["A code has also been sent to ",a.jsx("strong",{children:d})]})]})]}),a.jsxs("form",{onSubmit:g,children:[a.jsx("div",{className:"flex justify-center space-x-3 mb-8",children:t.map((j,N)=>a.jsx("input",{type:"text",maxLength:1,value:j,onChange:P=>m(P.target,N),onKeyDown:P=>v(P,N),onFocus:P=>P.target.select(),ref:P=>n.current[N]=P,className:"w-12 h-12 text-center text-xl font-bold border border-border rounded-xl bg-input focus:outline-none focus:ring-2 focus:ring-ring transition-all","data-testid":`input-otp-${N}`},N))}),a.jsx(ie,{type:"submit",className:"w-full ripple mb-4",disabled:y.isPending||t.join("").length!==6,"data-testid":"button-verify",children:y.isPending?"Verifying...":"Verify Code"})]}),a.jsxs("p",{className:"text-muted-foreground text-sm",children:["Didn't receive a code?"," ",a.jsx("button",{onClick:w,disabled:x.isPending,className:"text-primary hover:underline font-medium disabled:opacity-50","data-testid":"button-resend",children:x.isPending?"Sending...":"Resend Code"})]})]})})]})}const Jhe=St.object({dateOfBirth:St.string().min(1,"Date of birth is required"),address:St.string().min(10,"Please enter your full address"),documentType:St.string().min(1,"Please select a document type")});function epe(){const[,e]=Jt(),[t,r]=S.useState({frontImage:null,backImage:null,selfie:null}),{toast:n}=Et(),{user:i}=kr(),{data:s,isLoading:o}=Xt({queryKey:[`/api/kyc/${i==null?void 0:i.id}`],queryFn:async()=>i!=null&&i.id?(await qe("GET",`/api/kyc/${i.id}`)).json():null,enabled:!!(i!=null&&i.id)}),l=s==null?void 0:s.kyc,c=Yo({resolver:Xo(Jhe),defaultValues:{dateOfBirth:"",address:"",documentType:""}}),u=kt({mutationFn:async h=>{var m;if(!t.frontImage||!t.backImage||!t.selfie)throw new Error("Please upload all required documents");const p=new FormData;p.append("userId",((m=i==null?void 0:i.id)==null?void 0:m.toString())||""),p.append("documentType",h.documentType),p.append("dateOfBirth",h.dateOfBirth),p.append("address",h.address),p.append("frontImage",t.frontImage),p.append("backImage",t.backImage),p.append("selfie",t.selfie);const y=await fetch("/api/kyc/submit",{method:"POST",credentials:"include",body:p});if(!y.ok){const v=await y.json();throw new Error(v.message||"Submission failed")}return y.json()},onSuccess:()=>{n({title:"Documents submitted!",description:"Your documents have been submitted for verification."}),e("/virtual-card-purchase")},onError:h=>{n({title:"Submission failed",description:h.message||"Unable to submit documents. Please try again.",variant:"destructive"})}}),d=h=>{u.mutate(h)},f=h=>p=>{var m;const y=(m=p.target.files)==null?void 0:m[0];y&&(r(v=>({...v,[h]:y})),n({title:"File uploaded",description:`${y.name} has been uploaded successfully.`}))};return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/otp-verification"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors","data-testid":"button-back",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Identity Verification"})]}),a.jsx("div",{className:"flex-1 p-6",children:a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-sm mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(K.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 bg-accent rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"material-icons text-accent-foreground text-2xl",children:"verified_user"})}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Verify Your Identity"}),a.jsx("p",{className:"text-muted-foreground",children:"Complete your profile to ensure secure transactions"})]}),o?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):(l==null?void 0:l.status)==="pending"?a.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-6 mb-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"material-icons text-amber-600 text-3xl",children:"pending"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-amber-900 mb-1",children:"Documents Under Review"}),a.jsx("p",{className:"text-sm text-amber-700",children:"Your KYC documents have been submitted and are currently being reviewed by our team. You will be notified once the verification is complete. Please wait for admin approval."}),a.jsx(ie,{onClick:()=>e("/dashboard"),variant:"outline",className:"mt-4",children:"Return to Dashboard"})]})]})}):(l==null?void 0:l.status)==="verified"?a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 mb-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"material-icons text-green-600 text-3xl",children:"check_circle"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"Verification Complete"}),a.jsx("p",{className:"text-sm text-green-700",children:"Your identity has been successfully verified. You can now access all features of your account."}),a.jsx(ie,{onClick:()=>e("/virtual-card-purchase"),className:"mt-4",children:"Continue to Virtual Card"})]})]})}):(l==null?void 0:l.status)==="rejected"?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 mb-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"material-icons text-red-600 text-3xl",children:"cancel"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:"Verification Rejected"}),a.jsxs("p",{className:"text-sm text-red-700 mb-2",children:["Your previous KYC submission was rejected. ",l.verificationNotes&&`Reason: ${l.verificationNotes}`]}),a.jsx("p",{className:"text-sm text-red-700",children:"Please upload clear, valid documents and resubmit your verification below."})]})]})}):null,!l||l.status==="rejected"?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold",children:"Personal Details"}),a.jsx("span",{className:"text-xs text-primary bg-primary/10 px-2 py-1 rounded-full",children:"Required"})]}),a.jsx(to,{...c,children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(zt,{control:c.control,name:"dateOfBirth",render:({field:h})=>a.jsxs($t,{children:[a.jsx(qt,{children:a.jsx($e,{...h,type:"date",placeholder:"Date of Birth","data-testid":"input-dob"})}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:c.control,name:"address",render:({field:h})=>a.jsxs($t,{children:[a.jsx(qt,{children:a.jsx($e,{...h,placeholder:"Full Address","data-testid":"input-address"})}),a.jsx(Yt,{})]})})]})})]}),a.jsxs("div",{className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold",children:"Identity Document"}),a.jsx("span",{className:"text-xs text-primary bg-primary/10 px-2 py-1 rounded-full",children:"Required"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(to,{...c,children:a.jsx(zt,{control:c.control,name:"documentType",render:({field:h})=>a.jsxs($t,{children:[a.jsxs(Hr,{onValueChange:h.onChange,defaultValue:h.value,children:[a.jsx(qt,{children:a.jsx($r,{"data-testid":"select-document-type",children:a.jsx(Kr,{placeholder:"Select document type"})})}),a.jsxs(Br,{children:[a.jsx(nt,{value:"national_id",children:"National ID"}),a.jsx(nt,{value:"passport",children:"Passport"}),a.jsx(nt,{value:"drivers_license",children:"Driver's License"})]})]}),a.jsx(Yt,{})]})})}),a.jsxs("div",{className:"border-2 border-dashed border-border rounded-xl p-6 text-center hover:border-primary transition-colors cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:f("frontImage"),className:"hidden",id:"front-upload"}),a.jsxs("label",{htmlFor:"front-upload",className:"cursor-pointer","data-testid":"upload-front",children:[a.jsx("span",{className:"material-icons text-3xl text-muted-foreground mb-2",children:"cloud_upload"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.frontImage?t.frontImage.name:"Tap to upload front side"})]})]}),a.jsxs("div",{className:"border-2 border-dashed border-border rounded-xl p-6 text-center hover:border-primary transition-colors cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:f("backImage"),className:"hidden",id:"back-upload"}),a.jsxs("label",{htmlFor:"back-upload",className:"cursor-pointer","data-testid":"upload-back",children:[a.jsx("span",{className:"material-icons text-3xl text-muted-foreground mb-2",children:"cloud_upload"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.backImage?t.backImage.name:"Tap to upload back side"})]})]})]})]}),a.jsxs("div",{className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold",children:"Selfie Verification"}),a.jsx("span",{className:"text-xs text-primary bg-primary/10 px-2 py-1 rounded-full",children:"Required"})]}),a.jsxs("div",{className:"border-2 border-dashed border-border rounded-xl p-6 text-center hover:border-primary transition-colors cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:f("selfie"),className:"hidden",id:"selfie-upload"}),a.jsxs("label",{htmlFor:"selfie-upload",className:"cursor-pointer","data-testid":"upload-selfie",children:[a.jsx("span",{className:"material-icons text-3xl text-muted-foreground mb-2",children:"camera_alt"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.selfie?t.selfie.name:"Take a selfie"})]})]})]}),a.jsx(ie,{onClick:c.handleSubmit(d),className:"w-full ripple",disabled:u.isPending,"data-testid":"button-continue-verification",children:u.isPending?"Submitting...":(l==null?void 0:l.status)==="rejected"?"Resubmit Verification":"Continue Verification"})]}):null]})})]})}function tpe(){const{user:e}=kr(),{toast:t}=Et();return kt({mutationFn:async()=>(await qe("POST","/api/virtual-card/initialize-payment",{userId:e==null?void 0:e.id})).json(),onSuccess:r=>{window.open(r.authorizationUrl,"_blank")},onError:r=>{t({title:"Payment Initialization Failed",description:r.message||"Unable to initialize payment",variant:"destructive"})}})}function rpe(){const e=Jr(),{user:t,login:r}=kr(),{toast:n}=Et();return kt({mutationFn:async i=>(await qe("POST","/api/virtual-card/verify-payment",{reference:i,userId:t==null?void 0:t.id})).json(),onSuccess:i=>{i.success&&i.card?(t&&r({...t,hasVirtualCard:!0}),e.invalidateQueries({queryKey:["virtual-card",t==null?void 0:t.id]}),e.invalidateQueries({queryKey:["transactions",t==null?void 0:t.id]}),n({title:"Payment Successful!",description:"Your virtual card has been activated."})):(e.invalidateQueries({queryKey:["transactions",t==null?void 0:t.id]}),n({title:"Payment Incomplete",description:i.message||"Your payment was not completed successfully.",variant:"destructive"}))},onError:i=>{n({title:"Payment Verification Failed",description:i.message||"Unable to verify payment status",variant:"destructive"})}})}function npe(){const[,e]=Jt(),{toast:t}=Et();kr(),S.useState(null);const[r,n]=S.useState("auto"),i=tpe(),s=rpe(),{data:o}=Xt({queryKey:["/api/manual-payment-settings"],queryFn:async()=>(await qe("GET","/api/manual-payment-settings")).json()});S.useState(()=>{(()=>{const u=new URLSearchParams(window.location.search),d=u.get("reference"),f=u.get("status");d&&f==="success"&&s.mutate(d,{onSuccess:()=>{e("/dashboard")}})})()});const l=()=>{i.mutate(void 0,{onSuccess:c=>{c.authorization_url&&(window.location.href=c.authorization_url)},onError:c=>{t({title:"Payment Failed",description:"Unable to initialize payment. Please try again.",variant:"destructive"})}})};return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/dashboard"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors","data-testid":"button-back",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Get Your Virtual Card"})]}),a.jsx("div",{className:"flex-1 p-6 flex items-center justify-center",children:a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-sm mx-auto text-center",children:[a.jsxs(K.div,{initial:{scale:.8,rotateY:-30},animate:{scale:1,rotateY:0},transition:{delay:.2,duration:.6},className:"bg-gradient-to-br from-primary to-secondary p-6 rounded-2xl mb-6 elevation-3",children:[a.jsx("div",{className:"bg-white/20 rounded-xl p-4 mb-4",children:a.jsx("span",{className:"material-icons text-white text-4xl",children:"credit_card"})}),a.jsx("h3",{className:"text-white text-xl font-bold mb-2",children:"GreenPay Virtual Card"}),a.jsx("p",{className:"text-green-100 text-sm",children:"Required for all transactions"})]}),a.jsx(K.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-2xl font-bold mb-4",children:"Almost There!"}),a.jsx(K.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-muted-foreground mb-8",children:"To start sending and receiving money, you need to purchase a virtual card for just $60. This one-time fee unlocks all features."}),a.jsxs(K.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"bg-card p-4 rounded-xl border border-border mb-6 elevation-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"font-medium",children:"Virtual Card (Annual)"}),a.jsx("span",{className:"text-xl font-bold text-primary",children:"$60"})]}),a.jsxs("div",{className:"text-left space-y-2 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"material-icons text-green-500 text-sm mr-2",children:"check"}),a.jsx("span",{children:"Send money worldwide"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"material-icons text-green-500 text-sm mr-2",children:"check"}),a.jsx("span",{children:"Receive money instantly"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"material-icons text-green-500 text-sm mr-2",children:"check"}),a.jsx("span",{children:"Withdraw to bank accounts"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"material-icons text-green-500 text-sm mr-2",children:"check"}),a.jsx("span",{children:"24/7 customer support"})]})]})]}),a.jsxs(K.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold text-sm",children:"Choose Payment Method"}),a.jsx(K.div,{whileTap:{scale:.98},onClick:()=>n("auto"),className:`relative p-4 rounded-xl border-2 cursor-pointer transition-all ${r==="auto"?"border-primary bg-primary/5":"border-border bg-card hover:border-primary/50"}`,children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center mt-0.5 transition-all ${r==="auto"?"border-primary bg-primary":"border-border"}`,children:r==="auto"&&a.jsx("span",{className:"material-icons text-white text-xs",children:"check"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h4",{className:"font-semibold",children:"Automatic Payment"}),a.jsx("span",{className:"bg-green-500/10 text-green-700 dark:text-green-400 text-xs px-2 py-0.5 rounded-full font-medium",children:"Recommended"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Instant activation via PayHero M-Pesa STK Push"}),a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx("span",{className:"material-icons text-green-500 text-xs",children:"bolt"}),a.jsx("span",{className:"text-muted-foreground",children:"Instant"}),a.jsx("span",{className:"material-icons text-green-500 text-xs ml-2",children:"security"}),a.jsx("span",{className:"text-muted-foreground",children:"Secure"})]})]})]})})}),a.jsx(K.div,{whileTap:{scale:.98},onClick:()=>n("manual"),className:`relative p-4 rounded-xl border-2 cursor-pointer transition-all ${r==="manual"?"border-primary bg-primary/5":"border-border bg-card hover:border-primary/50"}`,children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center mt-0.5 transition-all ${r==="manual"?"border-primary bg-primary":"border-border"}`,children:r==="manual"&&a.jsx("span",{className:"material-icons text-white text-xs",children:"check"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold mb-1",children:"Manual M-Pesa Payment"}),a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Pay via M-Pesa paybill and contact support for activation"}),a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx("span",{className:"material-icons text-amber-500 text-xs",children:"schedule"}),a.jsx("span",{className:"text-muted-foreground",children:"Requires manual activation"})]})]})]})})})]}),r==="auto"&&a.jsxs(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3",children:[a.jsx(ie,{onClick:l,className:"w-full ripple",disabled:i.isPending,"data-testid":"button-purchase-card",children:i.isPending?"Processing...":"Pay with M-Pesa - $60"}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Secure payment powered by PayHero"})]}),r==="manual"&&a.jsxs(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-muted/50 p-4 rounded-xl border border-border text-left space-y-3",children:[a.jsxs("h4",{className:"font-semibold flex items-center",children:[a.jsx("span",{className:"material-icons text-primary mr-2 text-sm",children:"payments"}),"Payment Instructions"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[a.jsx("span",{className:"text-muted-foreground",children:"Paybill Number:"}),a.jsx("span",{className:"font-mono font-semibold",children:(o==null?void 0:o.paybill)||"247"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[a.jsx("span",{className:"text-muted-foreground",children:"Account Number:"}),a.jsx("span",{className:"font-mono font-semibold",children:(o==null?void 0:o.account)||"4664"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),a.jsx("span",{className:"font-semibold",children:"KES 7,740"})]})]}),a.jsx("div",{className:"p-3 bg-amber-500/10 rounded-lg border border-amber-500/20",children:a.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-400",children:[a.jsx("span",{className:"material-icons text-xs mr-1 align-middle",children:"info"}),"After payment, contact support with your M-Pesa confirmation message to activate your card."]})}),a.jsxs(ie,{onClick:()=>e("/support"),variant:"outline",className:"w-full",children:[a.jsx("span",{className:"material-icons text-sm mr-2",children:"support_agent"}),"Contact Support"]})]})]})]})})]})}const ke=S.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:_t("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ke.displayName="Card";const He=S.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:_t("flex flex-col space-y-1.5 p-6",e),...t}));He.displayName="CardHeader";const Xe=S.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:_t("text-2xl font-semibold leading-none tracking-tight",e),...t}));Xe.displayName="CardTitle";const Ct=S.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:_t("text-sm text-muted-foreground",e),...t}));Ct.displayName="CardDescription";const Me=S.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:_t("p-6 pt-0",e),...t}));Me.displayName="CardContent";const ipe=S.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:_t("flex items-center p-6 pt-0",e),...t}));ipe.displayName="CardFooter";const ape=ov("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ec=S.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:_t(ape({variant:t}),e),...r}));Ec.displayName="Alert";const spe=S.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:_t("mb-1 font-medium leading-none tracking-tight",e),...t}));spe.displayName="AlertTitle";const Oc=S.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:_t("text-sm [&_p]:leading-relaxed",e),...t}));Oc.displayName="AlertDescription";function ope(){const[,e]=Jt(),{toast:t}=Et(),[r,n]=S.useState(""),[i,s]=S.useState(!1),[o,l]=S.useState(""),[c,u]=S.useState(!1),[d,f]=S.useState(""),h=async p=>{if(p.preventDefault(),l(""),!r.trim()){l("Please enter your phone number or email address");return}s(!0);try{const y=await qe("POST","/api/auth/forgot-password",{contact:r.trim()});if(y.ok){const m=await y.json();u(!0),f(m.sentVia||m.contact),t({title:"Success",description:"Reset code sent! Check your phone or email."}),setTimeout(()=>{e("/auth/reset-password")},2e3)}else{const m=await y.json();l(m.message||"Failed to send reset code"),t({title:"Error",description:m.message||"Failed to send reset code",variant:"destructive"})}}catch(y){const m=y.message||"Failed to send reset code. Please try again.";l(m),t({title:"Error",description:m,variant:"destructive"})}finally{s(!1)}};return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(ke,{className:"w-full max-w-md shadow-lg",children:[a.jsxs(He,{className:"space-y-2",children:[a.jsx(Xe,{className:"text-2xl",children:"Reset Password"}),a.jsx(Ct,{children:"Enter your phone number or email address to receive a reset code"})]}),a.jsxs(Me,{className:"space-y-4",children:[o&&a.jsxs(Ec,{variant:"destructive",children:[a.jsx(Ai,{className:"h-4 w-4"}),a.jsx(Oc,{children:o})]}),c&&a.jsx(Ec,{children:a.jsxs(Oc,{children:["Reset code sent to ",d,". Redirecting..."]})}),!c&&a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"contact",className:"text-sm font-medium",children:"Phone Number or Email"}),a.jsx($e,{id:"contact",type:"text",placeholder:"Enter phone (e.g., +254712345678) or email",value:r,onChange:p=>n(p.target.value),disabled:i,className:"w-full"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter your registered phone number (with country code) or email address"})]}),a.jsx(ie,{type:"submit",disabled:i||!r.trim(),className:"w-full",children:i?a.jsxs(a.Fragment,{children:[a.jsx(od,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):"Send Reset Code"})]}),a.jsxs(ie,{variant:"ghost",className:"w-full",onClick:()=>e("/login"),children:[a.jsx(ah,{className:"w-4 h-4 mr-2"}),"Back to Login"]})]})]})})}const lpe=St.object({code:St.string().length(6,"Code must be 6 digits"),newPassword:St.string().min(6,"Password must be at least 6 characters"),confirmPassword:St.string().min(6,"Password must be at least 6 characters")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function cpe(){const[,e]=Jt(),[t,r]=S.useState(!1),{toast:n}=Et(),i=Yo({resolver:Xo(lpe),defaultValues:{code:"",newPassword:"",confirmPassword:""}}),s=kt({mutationFn:async l=>{const c=localStorage.getItem("resetPhone");if(!c)throw new Error("Session expired. Please start again.");return(await qe("POST","/api/auth/reset-password",{phone:c,code:l.code,newPassword:l.newPassword})).json()},onSuccess:()=>{localStorage.removeItem("resetPhone"),n({title:"Password reset successful",description:"You can now sign in with your new password"}),e("/login")},onError:l=>{n({title:"Reset failed",description:l.message||"Invalid code or expired. Please try again.",variant:"destructive"})}}),o=l=>{s.mutate(l)};return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/login"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors","data-testid":"button-back",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Reset Password"})]}),a.jsx("div",{className:"flex-1 p-6",children:a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-sm mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(K.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"material-icons text-white text-2xl",children:"vpn_key"})}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Enter Reset Code"}),a.jsx("p",{className:"text-muted-foreground",children:"Enter the code sent to your phone and your new password"})]}),a.jsx(to,{...i,children:a.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-6",children:[a.jsx(zt,{control:i.control,name:"code",render:({field:l})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Reset Code"}),a.jsx(qt,{children:a.jsx($e,{...l,type:"text",placeholder:"000000",className:"h-12 text-center text-2xl tracking-widest",maxLength:6,autoComplete:"one-time-code"})}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:i.control,name:"newPassword",render:({field:l})=>a.jsxs($t,{children:[a.jsx(hr,{children:"New Password"}),a.jsx(qt,{children:a.jsxs("div",{className:"relative",children:[a.jsx($e,{...l,type:t?"text":"password",placeholder:"Enter new password",className:"h-12 pr-12",autoComplete:"new-password"}),a.jsx("button",{type:"button",onClick:()=>r(!t),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:a.jsx("span",{className:"material-icons text-xl",children:t?"visibility_off":"visibility"})})]})}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:i.control,name:"confirmPassword",render:({field:l})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Confirm Password"}),a.jsx(qt,{children:a.jsx($e,{...l,type:t?"text":"password",placeholder:"Confirm new password",className:"h-12",autoComplete:"new-password"})}),a.jsx(Yt,{})]})}),a.jsx(ie,{type:"submit",className:"w-full h-12 text-base font-semibold",disabled:s.isPending,children:s.isPending?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Resetting Password..."]}):"Reset Password"}),a.jsx("div",{className:"text-center",children:a.jsx(ie,{type:"button",variant:"link",onClick:()=>e("/auth/forgot-password"),className:"text-primary",children:"Resend Code"})})]})})]})})]})}const upe=ov("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function lt({className:e,variant:t,...r}){return a.jsx("div",{className:_t(upe({variant:t}),e),...r})}function an(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Pd(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const pW=6048e5,dpe=864e5,Yb=43200,nI=1440;let fpe={};function wv(){return fpe}function ay(e,t){var l,c,u,d;const r=wv(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=an(e),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Qw(e){return ay(e,{weekStartsOn:1})}function mW(e){const t=an(e),r=t.getFullYear(),n=Pd(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Qw(n),s=Pd(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Qw(s);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function iI(e){const t=an(e);return t.setHours(0,0,0,0),t}function Jw(e){const t=an(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function hpe(e,t){const r=iI(e),n=iI(t),i=+r-Jw(r),s=+n-Jw(n);return Math.round((i-s)/dpe)}function ppe(e){const t=mW(e),r=Pd(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Qw(r)}function q1(e,t){const r=an(e),n=an(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function mpe(e){return Pd(e,Date.now())}function gpe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function xpe(e){if(!gpe(e)&&typeof e!="number")return!1;const t=an(e);return!isNaN(Number(t))}function ype(e,t){const r=an(e),n=an(t),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function vpe(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function bpe(e,t){return+an(e)-+an(t)}function wpe(e){const t=an(e);return t.setHours(23,59,59,999),t}function jpe(e){const t=an(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Npe(e){const t=an(e);return+wpe(t)==+jpe(t)}function Spe(e,t){const r=an(e),n=an(t),i=q1(r,n),s=Math.abs(ype(r,n));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let l=q1(r,n)===-i;Npe(an(e))&&s===1&&q1(e,n)===1&&(l=!1),o=i*(s-Number(l))}return o===0?0:o}function _pe(e,t,r){const n=bpe(e,t)/1e3;return vpe(r==null?void 0:r.roundingMethod)(n)}function Ppe(e){const t=an(e),r=Pd(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Ape={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kpe=(e,t,r)=>{let n;const i=Ape[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function qS(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Cpe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Tpe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Epe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ope={date:qS({formats:Cpe,defaultWidth:"full"}),time:qS({formats:Tpe,defaultWidth:"full"}),dateTime:qS({formats:Epe,defaultWidth:"full"})},Mpe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Lpe=(e,t,r,n)=>Mpe[e];function wx(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const Ipe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Dpe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Rpe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Fpe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$pe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Bpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Upe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},zpe={ordinalNumber:Upe,era:wx({values:Ipe,defaultWidth:"wide"}),quarter:wx({values:Dpe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wx({values:Rpe,defaultWidth:"wide"}),day:wx({values:Fpe,defaultWidth:"wide"}),dayPeriod:wx({values:$pe,defaultWidth:"wide",formattingValues:Bpe,defaultFormattingWidth:"wide"})};function jx(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?qpe(l,f=>f.test(o)):Vpe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Vpe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function qpe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Wpe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const Hpe=/^(\d+)(th|st|nd|rd)?/i,Kpe=/\d+/i,Gpe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ype={any:[/^b/i,/^(a|c)/i]},Xpe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Zpe={any:[/1/i,/2/i,/3/i,/4/i]},Qpe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jpe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eme={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rme={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ime={ordinalNumber:Wpe({matchPattern:Hpe,parsePattern:Kpe,valueCallback:e=>parseInt(e,10)}),era:jx({matchPatterns:Gpe,defaultMatchWidth:"wide",parsePatterns:Ype,defaultParseWidth:"any"}),quarter:jx({matchPatterns:Xpe,defaultMatchWidth:"wide",parsePatterns:Zpe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:jx({matchPatterns:Qpe,defaultMatchWidth:"wide",parsePatterns:Jpe,defaultParseWidth:"any"}),day:jx({matchPatterns:eme,defaultMatchWidth:"wide",parsePatterns:tme,defaultParseWidth:"any"}),dayPeriod:jx({matchPatterns:rme,defaultMatchWidth:"any",parsePatterns:nme,defaultParseWidth:"any"})},gW={code:"en-US",formatDistance:kpe,formatLong:Ope,formatRelative:Lpe,localize:zpe,match:ime,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ame(e){const t=an(e);return hpe(t,Ppe(t))+1}function sme(e){const t=an(e),r=+Qw(t)-+ppe(t);return Math.round(r/pW)+1}function xW(e,t){var d,f,h,p;const r=an(e),n=r.getFullYear(),i=wv(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Pd(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=ay(o,t),c=Pd(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=ay(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function ome(e,t){var l,c,u,d;const r=wv(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=xW(e,t),s=Pd(e,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),ay(s,t)}function lme(e,t){const r=an(e),n=+ay(r,t)-+ome(r,t);return Math.round(n/pW)+1}function Vr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const _u={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Vr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Vr(r+1,2)},d(e,t){return Vr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Vr(e.getHours()%12||12,t.length)},H(e,t){return Vr(e.getHours(),t.length)},m(e,t){return Vr(e.getMinutes(),t.length)},s(e,t){return Vr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Vr(i,t.length)}},Zh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},aI={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return _u.y(e,t)},Y:function(e,t,r,n){const i=xW(e,n),s=i>0?i:1-i;if(t==="YY"){const o=s%100;return Vr(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):Vr(s,t.length)},R:function(e,t){const r=mW(e);return Vr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Vr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Vr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Vr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return _u.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Vr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=lme(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Vr(i,t.length)},I:function(e,t,r){const n=sme(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Vr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):_u.d(e,t)},D:function(e,t,r){const n=ame(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Vr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Vr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Vr(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Vr(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Zh.noon:n===0?i=Zh.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Zh.evening:n>=12?i=Zh.afternoon:n>=4?i=Zh.morning:i=Zh.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return _u.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):_u.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Vr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Vr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):_u.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):_u.s(e,t)},S:function(e,t){return _u.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return oI(n);case"XXXX":case"XX":return gf(n);case"XXXXX":case"XXX":default:return gf(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return oI(n);case"xxxx":case"xx":return gf(n);case"xxxxx":case"xxx":default:return gf(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sI(n,":");case"OOOO":default:return"GMT"+gf(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sI(n,":");case"zzzz":default:return"GMT"+gf(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Vr(n,t.length)},T:function(e,t,r){const n=e.getTime();return Vr(n,t.length)}};function sI(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+t+Vr(s,2)}function oI(e,t){return e%60===0?(e>0?"-":"+")+Vr(Math.abs(e)/60,2):gf(e,t)}function gf(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Vr(Math.trunc(n/60),2),s=Vr(n%60,2);return r+i+t+s}const lI=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},yW=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},cme=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return lI(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",lI(n,t)).replace("{{time}}",yW(i,t))},ume={p:yW,P:cme},dme=/^D+$/,fme=/^Y+$/,hme=["D","DD","YY","YYYY"];function pme(e){return dme.test(e)}function mme(e){return fme.test(e)}function gme(e,t,r){const n=xme(e,t,r);if(console.warn(n),hme.includes(e))throw new RangeError(n)}function xme(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bme=/^'([^]*?)'?$/,wme=/''/g,jme=/[a-zA-Z]/;function Qr(e,t,r){var d,f,h,p;const n=wv(),i=n.locale??gW,s=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=an(e);if(!xpe(l))throw new RangeError("Invalid time value");let c=t.match(vme).map(y=>{const m=y[0];if(m==="p"||m==="P"){const v=ume[m];return v(y,i.formatLong)}return y}).join("").match(yme).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const m=y[0];if(m==="'")return{isToken:!1,value:Nme(y)};if(aI[m])return{isToken:!0,value:y};if(m.match(jme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const m=y.value;(mme(m)||pme(m))&&gme(m,t,String(e));const v=aI[m[0]];return v(l,m,i.localize,u)}).join("")}function Nme(e){const t=e.match(bme);return t?t[1].replace(wme,"'"):e}function Sme(e,t,r){const n=wv(),i=(r==null?void 0:r.locale)??n.locale??gW,s=2520,o=q1(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=an(t),u=an(e)):(c=an(e),u=an(t));const d=_pe(u,c),f=(Jw(u)-Jw(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,l):d<10?i.formatDistance("lessThanXSeconds",10,l):d<20?i.formatDistance("lessThanXSeconds",20,l):d<40?i.formatDistance("halfAMinute",0,l):d<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):h===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",h,l);if(h<45)return i.formatDistance("xMinutes",h,l);if(h<90)return i.formatDistance("aboutXHours",1,l);if(h<nI){const y=Math.round(h/60);return i.formatDistance("aboutXHours",y,l)}else{if(h<s)return i.formatDistance("xDays",1,l);if(h<Yb){const y=Math.round(h/nI);return i.formatDistance("xDays",y,l)}else if(h<Yb*2)return p=Math.round(h/Yb),i.formatDistance("aboutXMonths",p,l)}if(p=Spe(u,c),p<12){const y=Math.round(h/Yb);return i.formatDistance("xMonths",y,l)}else{const y=p%12,m=Math.trunc(p/12);return y<3?i.formatDistance("aboutXYears",m,l):y<9?i.formatDistance("overXYears",m,l):i.formatDistance("almostXYears",m+1,l)}}function _me(e,t){return Sme(e,mpe(e),t)}function Pme(){const[e,t]=S.useState(!1),{user:r}=kr(),n=Jr(),[,i]=Jt(),{data:s={notifications:[]},isLoading:o}=Xt({queryKey:["/api/notifications",r==null?void 0:r.id],enabled:!!(r!=null&&r.id)}),l=(s==null?void 0:s.notifications)||[],c=kt({mutationFn:async p=>qe("POST",`/api/notifications/${p}/read`),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/notifications",r==null?void 0:r.id]})}}),u=l.filter(p=>!p.isRead).length,d=p=>{switch(p){case"success":return a.jsx(Rr,{className:"w-4 h-4 text-green-500"});case"warning":return a.jsx(Rj,{className:"w-4 h-4 text-yellow-500"});case"error":return a.jsx(Ai,{className:"w-4 h-4 text-red-500"});default:return a.jsx(Lj,{className:"w-4 h-4 text-blue-500"})}},f=p=>{c.mutate(p)},h=p=>{p.isRead||f(p.id),p.actionUrl&&(i(p.actionUrl),t(!1))};return o?a.jsx("div",{className:"relative",children:a.jsx(ie,{variant:"ghost",size:"sm",disabled:!0,children:a.jsx($o,{className:"w-5 h-5"})})}):a.jsxs("div",{className:"relative",children:[a.jsxs(ie,{variant:"ghost",size:"sm",onClick:()=>t(!e),className:"relative","data-testid":"button-notifications",children:[a.jsx($o,{className:"w-5 h-5"}),u>0&&a.jsx(lt,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs","data-testid":"badge-notification-count",children:u>9?"9+":u})]}),a.jsx(gv,{children:e&&a.jsxs(a.Fragment,{children:[a.jsx(K.div,{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>t(!1)}),a.jsxs(K.div,{className:"fixed top-4 left-4 right-4 sm:left-1/2 sm:right-auto sm:w-96 bg-background border border-border rounded-xl shadow-xl z-50 max-h-[80vh] overflow-hidden",style:{...window.innerWidth>=640?{left:"50%",transform:"translateX(-50%)",width:"24rem",right:"auto"}:{}},initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.2,ease:"easeOut"},children:[a.jsxs(K.div,{className:"flex items-center justify-between p-4 border-b border-border/50 bg-gradient-to-r from-primary/5 to-primary/10",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},children:[a.jsx("h3",{className:"font-semibold text-foreground",children:"Notifications"}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>t(!1),className:"h-8 w-8 p-0 hover:bg-destructive/10 hover:text-destructive transition-colors","data-testid":"button-close-notifications",children:a.jsx(Vc,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"max-h-[60vh] sm:max-h-80 overflow-y-auto",children:l.length===0?a.jsxs(K.div,{className:"p-8 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.3},children:[a.jsx($o,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground opacity-50"}),a.jsx("p",{className:"text-muted-foreground","data-testid":"text-no-notifications",children:"No notifications yet"})]}):a.jsx("div",{className:"p-2 space-y-2",children:l.map((p,y)=>a.jsx(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.05,duration:.3},whileHover:{scale:1.01},whileTap:{scale:.99},children:a.jsx(ke,{className:`cursor-pointer transition-all duration-200 hover:shadow-md border-border/30 ${p.isRead?"opacity-70 bg-background/50":"bg-primary/5 border-primary/20 shadow-sm"} ${p.actionUrl?"hover:bg-primary/10":""}`,onClick:()=>h(p),"data-testid":`notification-${p.id}`,children:a.jsxs(Me,{className:"p-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(K.div,{className:"flex-shrink-0 mt-1",initial:{scale:0},animate:{scale:1},transition:{delay:y*.05+.2,duration:.2,type:"spring"},children:d(p.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-medium text-foreground text-sm line-clamp-2",children:p.title}),a.jsx("p",{className:"text-muted-foreground text-sm mt-1 line-clamp-2",children:p.message}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsx("span",{className:"text-xs text-muted-foreground/80",children:_me(new Date(p.createdAt),{addSuffix:!0})}),!p.isRead&&a.jsx(ie,{size:"sm",variant:"ghost",onClick:m=>{m.stopPropagation(),f(p.id)},className:"text-xs h-7 px-2 hover:bg-primary/10 hover:text-primary transition-colors","data-testid":`button-mark-read-${p.id}`,children:"Mark as read"})]})]})]}),!p.isRead&&a.jsx(K.div,{className:"absolute top-3 right-3 w-2 h-2 bg-primary rounded-full",initial:{scale:0},animate:{scale:1},transition:{delay:y*.05+.3,duration:.2}})]})})},p.id))})})]})]})})]})}function Gt(e,t=2){const r=typeof e=="string"?parseFloat(e):e;return isNaN(r)?"0.00":r.toLocaleString("en-US",{minimumFractionDigits:t,maximumFractionDigits:t})}function W1(e){switch(e==null?void 0:e.toUpperCase()){case"KES":return"KSh ";case"USD":return"$";default:return"$"}}function Ame(){var I,E;const[,e]=Jt(),[t,r]=S.useState(!0);S.useState(!1);const[n,i]=S.useState("USD"),{user:s,logout:o,refreshUser:l}=kr(),{toast:c}=Et();S.useEffect(()=>{l()},[]);const{data:u}=Xt({queryKey:["/api/transactions",s==null?void 0:s.id],enabled:!!(s!=null&&s.id)}),{data:d}=Xt({queryKey:["/api/exchange-rates","USD"]}),{data:f}=Xt({queryKey:["/api/virtual-card",s==null?void 0:s.id],enabled:!!(s!=null&&s.id)}),{data:h}=Xt({queryKey:["/api/system-settings/card-price"]}),{data:p}=Xt({queryKey:["/api/users/login-history",s==null?void 0:s.id],queryFn:async()=>s!=null&&s.id?(await qe("GET",`/api/users/${s.id}/login-history`)).json():null,enabled:!!(s!=null&&s.id)}),y=(u==null?void 0:u.transactions)||[],m=(p==null?void 0:p.loginHistory)||[],v=parseFloat((s==null?void 0:s.balance)||"0"),g=parseFloat((s==null?void 0:s.kesBalance)||"0"),x=n==="USD"?v:g;d!=null&&d.rates;const w=(s==null?void 0:s.kycStatus)==="verified",j=f==null?void 0:f.card,N=j&&j.status==="active",P=N?"active":"inactive";h!=null&&h.price;const k=()=>{document.documentElement.classList.toggle("dark")},C=[{id:"send",icon:aa,label:"Send Money",path:"/send-money",color:"from-blue-500 to-blue-600",iconColor:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-950/20",disabled:!N,requiresCard:!0},{id:"receive",icon:Gs,label:"Receive",path:"/receive-money",color:"from-green-500 to-green-600",iconColor:"text-green-600",bgColor:"bg-green-50 dark:bg-green-950/20",disabled:!N,requiresCard:!0},{id:"airtime",icon:Dj,label:"Buy Airtime",path:"/airtime",color:"from-purple-500 to-purple-600",iconColor:"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-950/20",disabled:!1,requiresCard:!1},{id:"bills",icon:_U,label:"Pay Bills",path:"/bills",color:"from-red-500 to-red-600",iconColor:"text-red-600",bgColor:"bg-red-50 dark:bg-red-950/20",disabled:!1,requiresCard:!1},{id:"deposit",icon:uv,label:"Add Money",path:"/deposit",color:"from-orange-500 to-orange-600",iconColor:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-950/20",disabled:!1,requiresCard:!1}],O=A=>{if(A.disabled&&A.requiresCard){c({title:"Virtual Card Required",description:"Please get a virtual card first to use this feature. Tap 'Get Card' below.",variant:"default"});return}e(A.path)};return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-primary via-primary to-secondary p-6 text-white",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center flex-1",children:[s!=null&&s.profilePhotoUrl?a.jsx("img",{src:s.profilePhotoUrl,alt:"Profile",className:"w-12 h-12 rounded-full object-cover mr-3 border-2 border-white/30 shadow-lg"}):a.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center mr-3 border-2 border-white/30 shadow-lg",children:a.jsx("span",{className:"text-white font-bold text-lg",children:((I=s==null?void 0:s.fullName)==null?void 0:I.split(" ").map(A=>A[0]).join(""))||"JD"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"font-bold text-lg",children:["Hi, ",((E=s==null?void 0:s.fullName)==null?void 0:E.split(" ")[0])||"John","!"]}),a.jsx("p",{className:"text-xs text-white/80",children:"Welcome back "})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Pme,{}),a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/live-chat"),className:"p-2 rounded-full hover:opacity-80 transition-opacity",title:"Contact Support","data-testid":"button-support",children:a.jsx("span",{className:"material-icons text-white text-xl",children:"headset_mic"})}),a.jsx(K.button,{whileTap:{scale:.95},onClick:k,className:"p-2 rounded-full hover:opacity-80 transition-opacity mr-2","data-testid":"button-dark-mode",children:a.jsx("span",{className:"material-icons text-white text-xl",children:"brightness_6"})})]})]}),(s==null?void 0:s.country)&&a.jsxs(K.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.05},className:"flex items-center gap-2 mb-3 justify-start",children:[a.jsx(NU,{className:"w-3.5 h-3.5 text-white/70"}),a.jsx("span",{className:"text-white/70 text-xs",children:"Logged in"}),a.jsx("span",{className:"text-white/70 text-xs font-medium",children:s.country})]}),a.jsxs(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white/10 backdrop-blur-md rounded-2xl p-5 border border-white/20 shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex bg-white/10 rounded-lg p-1 backdrop-blur-sm",children:[a.jsx("button",{onClick:()=>i("USD"),className:`px-3 py-1.5 rounded-md text-xs font-semibold transition-all ${n==="USD"?"bg-white text-primary shadow-md":"text-white/70 hover:text-white"}`,children:"USD"}),a.jsx("button",{onClick:()=>i("KES"),className:`px-3 py-1.5 rounded-md text-xs font-semibold transition-all ${n==="KES"?"bg-white text-primary shadow-md":"text-white/70 hover:text-white"}`,children:"KES"})]}),a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>r(!t),className:"p-2 rounded-full hover:opacity-80 transition-opacity","data-testid":"button-toggle-balance",children:a.jsx("span",{className:"material-icons text-white text-lg",children:t?"visibility":"visibility_off"})})]}),a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-center justify-between mb-1",children:a.jsxs("p",{className:"text-white/70 text-xs flex items-center",children:[n," Balance",w&&a.jsx("span",{className:"material-icons text-green-300 ml-1 text-sm",children:"verified"})]})}),a.jsx("p",{className:"text-3xl font-bold mb-2","data-testid":"text-balance",children:t?n==="USD"?`$${Gt(x)}`:`KSh ${Gt(x)}`:""}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-white/60 text-xs",children:n==="USD"?a.jsxs(a.Fragment,{children:["Other: KSh ",t?Gt(g):""]}):a.jsxs(a.Fragment,{children:["Other: $",t?Gt(v):""]})}),a.jsxs(K.button,{whileTap:{scale:.95},onClick:()=>e("/exchange"),className:"flex items-center bg-white/10 hover:bg-white/20 px-2.5 py-1.5 rounded-lg transition-colors",children:[a.jsx("span",{className:"material-icons text-white text-sm mr-1",children:"currency_exchange"}),a.jsx("span",{className:"text-white text-xs font-medium",children:"Exchange"})]})]})]})})]})]}),a.jsxs("div",{className:"px-4 py-6 space-y-6",children:[!w&&(s==null?void 0:s.kycStatus)==="pending"&&a.jsxs(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 p-4 rounded-xl flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"material-icons text-blue-600 mr-3",children:"hourglass_empty"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-200 text-sm",children:"Documents Under Review"}),a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Your KYC documents are being verified"})]})]}),a.jsx(ie,{onClick:()=>e("/kyc"),size:"sm",variant:"outline",className:"border-blue-600 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-950/40 text-xs","data-testid":"button-view-kyc",children:"View Status"})]}),!w&&(s==null?void 0:s.kycStatus)==="rejected"&&a.jsxs(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 p-4 rounded-xl flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"material-icons text-red-600 mr-3",children:"error_outline"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-red-900 dark:text-red-200 text-sm",children:"Verification Failed"}),a.jsx("p",{className:"text-xs text-red-700 dark:text-red-300",children:"Please resubmit your documents"})]})]}),a.jsx(ie,{onClick:()=>e("/kyc"),size:"sm",className:"bg-red-600 hover:bg-red-700 text-white text-xs","data-testid":"button-resubmit-kyc",children:"Resubmit"})]}),!w&&(!(s!=null&&s.kycStatus)||(s==null?void 0:s.kycStatus)==="not_submitted")&&a.jsxs(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"material-icons text-amber-600 mr-3",children:"warning"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-amber-900 dark:text-amber-200 text-sm",children:"Verify Your Identity"}),a.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Complete KYC to unlock all features"})]})]}),a.jsx(ie,{onClick:()=>e("/kyc"),size:"sm",className:"bg-amber-600 hover:bg-amber-700 text-white text-xs","data-testid":"button-verify-kyc",children:"Verify"})]}),!N&&a.jsxs(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 p-4 rounded-xl flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Bo,{className:"w-5 h-5 text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-200 text-sm",children:"Get Virtual Card"}),a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Start making transactions"})]})]}),a.jsx(ie,{onClick:()=>e("/virtual-card"),size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white text-xs","data-testid":"button-activate-card",children:"Get Card"})]}),!(s!=null&&s.hasClaimedAirtimeBonus)&&a.jsx(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.15},className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-950/20 dark:to-pink-950/20 border border-purple-200 dark:border-purple-800 p-4 rounded-xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(sie,{className:"w-6 h-6 text-purple-600 mr-3 flex-shrink-0 animate-pulse"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-bold text-purple-900 dark:text-purple-200 text-sm mb-1",children:" Free Airtime Bonus!"}),a.jsx("p",{className:"text-xs text-purple-700 dark:text-purple-300",children:"Claim your one-time KES 15 airtime bonus now!"})]})]}),a.jsx(ie,{onClick:async()=>{try{const D=await(await qe("POST","/api/airtime/claim-bonus",{userId:s==null?void 0:s.id})).json();D.success?(c({title:"Bonus Claimed!",description:D.message}),await l(),e("/airtime")):c({title:"Error",description:D.message,variant:"destructive"})}catch{c({title:"Error",description:"Failed to claim bonus. Please try again.",variant:"destructive"})}},size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white text-xs",children:"Claim Now"})]})}),a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[a.jsx("h2",{className:"text-lg font-bold mb-4",children:"Quick Actions"}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:C.map((A,D)=>{const R=A.icon;return a.jsxs(K.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*D},whileTap:{scale:A.disabled?1:.95},onClick:()=>O(A),className:`${A.bgColor} p-5 rounded-2xl border border-border hover:shadow-lg transition-all ${A.disabled?"opacity-50 cursor-not-allowed":"hover:scale-105"}`,children:[a.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${A.color} flex items-center justify-center mb-3 shadow-md`,children:a.jsx(R,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-semibold text-sm",children:A.label}),A.disabled&&A.requiresCard&&a.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Card required"})]})]},A.id)})})]}),a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[a.jsx("h2",{className:"text-lg font-bold mb-4",children:"Services"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(K.button,{whileTap:{scale:.95},onClick:()=>e("/virtual-card"),className:"bg-card p-5 rounded-2xl border border-border hover:shadow-lg transition-all hover:scale-105","data-testid":"button-virtual-card",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-indigo-600 flex items-center justify-center mb-3 shadow-md",children:a.jsx("span",{className:"material-icons text-white text-2xl leading-none",children:"credit_card"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-semibold text-sm mb-1",children:"Virtual Card"}),a.jsx("p",{className:`text-xs ${P==="active"?"text-green-600":"text-amber-600"}`,children:P==="active"?" Active":" Inactive"})]})]}),a.jsxs(K.button,{whileTap:{scale:.95},onClick:()=>e("/transactions"),className:"bg-card p-5 rounded-2xl border border-border hover:shadow-lg transition-all hover:scale-105","data-testid":"button-transactions",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-pink-500 to-pink-600 flex items-center justify-center mb-3 shadow-md",children:a.jsx("span",{className:"material-icons text-white text-2xl leading-none",children:"receipt_long"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-semibold text-sm mb-1",children:"History"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.length," records"]})]})]}),a.jsxs(K.button,{whileTap:{scale:.95},onClick:()=>e("/exchange"),className:"bg-card p-5 rounded-2xl border border-border hover:shadow-lg transition-all hover:scale-105",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-teal-600 flex items-center justify-center mb-3 shadow-md",children:a.jsx("span",{className:"material-icons text-white text-2xl leading-none",children:"currency_exchange"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-semibold text-sm mb-1",children:"Exchange"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Multi-currency"})]})]}),a.jsxs(K.button,{whileTap:{scale:.95},onClick:()=>e("/support"),className:"bg-card p-5 rounded-2xl border border-border hover:shadow-lg transition-all hover:scale-105","data-testid":"button-support",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-rose-500 to-rose-600 flex items-center justify-center mb-3 shadow-md",children:a.jsx("span",{className:"material-icons text-white text-2xl leading-none",children:"support_agent"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-semibold text-sm mb-1",children:"Support"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"24/7 help"})]})]}),a.jsxs(K.button,{whileTap:{scale:.95},onClick:()=>e("/status"),className:"bg-card p-5 rounded-2xl border border-border hover:shadow-lg transition-all hover:scale-105",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center mb-3 shadow-md",children:a.jsx("span",{className:"material-icons text-white text-2xl leading-none",children:"health_and_safety"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-semibold text-sm mb-1",children:"System Status"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Service health"})]})]}),a.jsxs(K.button,{whileTap:{scale:.95},onClick:()=>e("/settings"),className:"bg-card p-5 rounded-2xl border border-border hover:shadow-lg transition-all hover:scale-105","data-testid":"button-settings",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center mb-3 shadow-md",children:a.jsx("span",{className:"material-icons text-white text-2xl leading-none",children:"settings"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-semibold text-sm mb-1",children:"Settings"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Preferences & security"})]})]}),a.jsxs(K.button,{whileTap:{scale:.95},onClick:()=>e("/loans"),className:"bg-card p-5 rounded-2xl border border-border hover:shadow-lg transition-all hover:scale-105",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center mb-3 shadow-md",children:a.jsx(Zn,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-semibold text-sm mb-1",children:"Loans"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Borrow easily"})]})]}),a.jsxs(K.button,{whileTap:{scale:.95},onClick:()=>e("/api-service"),className:"bg-card p-5 rounded-2xl border border-border hover:shadow-lg transition-all hover:scale-105",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mb-3 shadow-md",children:a.jsx(Fj,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-semibold text-sm mb-1",children:"API Services"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Generate & manage keys"})]})]})]})]}),y.length>0&&a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card rounded-2xl border border-border shadow-sm",children:[a.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[a.jsx("h3",{className:"font-bold text-base",children:"Recent Activity"}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>e("/transactions"),className:"text-xs","data-testid":"button-view-all-transactions",children:"View All"})]}),a.jsx("div",{className:"divide-y divide-border",children:y.slice(0,3).map((A,D)=>{var R;return a.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-muted/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center mr-3 ${A.type==="receive"||A.type==="deposit"?"bg-green-100 dark:bg-green-950/30 text-green-600":"bg-red-100 dark:bg-red-950/30 text-red-600"}`,children:a.jsx("span",{className:"material-icons text-lg",children:A.type==="receive"||A.type==="deposit"?"arrow_downward":"arrow_upward"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm capitalize",children:A.type.replace("_"," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(A.createdAt).toLocaleDateString()})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-bold text-sm ${A.type==="receive"||A.type==="deposit"?"text-green-600":"text-red-600"}`,children:[A.type==="receive"||A.type==="deposit"?"+":"-",((R=A.currency)==null?void 0:R.toUpperCase())==="KES"?"KSh ":"$",A.amount]}),a.jsx("p",{className:`text-xs ${A.status==="completed"?"text-green-600":A.status==="pending"?"text-amber-600":"text-red-600"}`,children:A.status})]})]},A.id||D)})})]}),m.length>0&&a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-card rounded-2xl border border-border shadow-sm",children:[a.jsx("div",{className:"p-4 border-b border-border",children:a.jsx("h3",{className:"font-bold text-base",children:"Recent Logins"})}),a.jsx("div",{className:"divide-y divide-border",children:m.slice(0,5).map((A,D)=>a.jsxs("div",{className:"p-4 flex items-start justify-between hover:bg-muted/50 transition-colors",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 dark:bg-blue-950/30 text-blue-600 flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx("span",{className:"material-icons text-lg",children:A.deviceType==="mobile"?"smartphone":"computer"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("p",{className:"font-medium text-sm truncate",children:[A.browser||"Unknown Browser",A.deviceType&&`  ${A.deviceType.charAt(0).toUpperCase()+A.deviceType.slice(1)}`]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:A.location||"Unknown Location"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:new Date(A.createdAt).toLocaleString()})]})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${A.status==="success"?"bg-green-100 text-green-700 dark:bg-green-950/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-950/30 dark:text-red-400"}`,children:A.status})})]},A.id||D))})]})]})]})}const ys=S.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:_t("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));ys.displayName="Textarea";function kme(){const[,e]=Jt(),[t,r]=S.useState(""),[n,i]=S.useState(null),[s,o]=S.useState(""),[l,c]=S.useState(""),[u,d]=S.useState([]),[f,h]=S.useState(!1),{user:p}=kr(),{toast:y}=Et(),m=Jr(),{data:v}=Xt({queryKey:["/api/transactions",p==null?void 0:p.id],enabled:!!(p!=null&&p.id)});v!=null&&v.transactions;const g=parseFloat((p==null?void 0:p.balance)||"0"),x=kt({mutationFn:async O=>{const E=`/api/users/search?q=${encodeURIComponent(O)}`;console.log("[Frontend API] Calling:",E);const A=await qe("GET",E);console.log("[Frontend API] Response status:",A.status);const D=await A.json();return console.log("[Frontend API] Response data:",D),D},onSuccess:O=>{console.log("[Frontend Search Success] Found users:",O.users),d(O.users||[]),h(!1)},onError:O=>{console.error("[Frontend Search Error] Search failed:",O),d([]),h(!1)}}),w=kt({mutationFn:async O=>(await qe("POST","/api/transfer",O)).json(),onSuccess:()=>{y({title:"Transfer Successful",description:`$${s} sent to ${n==null?void 0:n.fullName} successfully!`}),P(),m.invalidateQueries({queryKey:["/api/transactions",p==null?void 0:p.id]}),setTimeout(()=>{e("/dashboard")},2e3)},onError:O=>{y({title:"Transfer Failed",description:O.message||"Unable to complete transfer. Please try again.",variant:"destructive"})}}),j=async O=>{if(console.log("[Frontend Search] User typed:",O),O.length<2){console.log("[Frontend Search] Term too short, clearing results"),d([]);return}console.log("[Frontend Search] Starting search for:",O),h(!0),x.mutate(O)},N=O=>{i(O),d([]),r("")},P=()=>{i(null),o(""),c(""),r(""),d([])},k=()=>{if(console.log("[Frontend Transfer] Starting transfer..."),console.log("[Frontend Transfer] Selected user:",n),console.log("[Frontend Transfer] Current user ID:",p==null?void 0:p.id),console.log("[Frontend Transfer] Amount:",s),!n||!s||!p){console.error("[Frontend Transfer] Missing data:",{selectedUser:!!n,amount:!!s,user:!!p});return}const O=parseFloat(s);if(O<=0){console.error("[Frontend Transfer] Invalid amount:",O),y({title:"Invalid Amount",description:"Please enter a valid amount greater than 0.",variant:"destructive"});return}if(O>g){console.error("[Frontend Transfer] Insufficient balance:",{available:g,requested:O}),y({title:"Insufficient Balance",description:"You don't have enough balance for this transfer.",variant:"destructive"});return}const I={fromUserId:p.id,toUserId:n.id,amount:s,currency:"USD",description:l||`Transfer to ${n.fullName}`};console.log("[Frontend Transfer] Sending payload:",I),w.mutate(I)};if(!(p!=null&&p.hasVirtualCard))return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6",children:a.jsxs("div",{className:"text-center max-w-sm",children:[a.jsx("div",{className:"w-16 h-16 bg-destructive/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"material-icons text-destructive",children:"block"})}),a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Virtual Card Required"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"You need to purchase a virtual card before you can send money."}),a.jsx(ie,{onClick:()=>e("/virtual-card"),children:"Get Virtual Card"})]})});const C=()=>a.jsxs("div",{className:"space-y-4",children:[!n&&a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Ys,{className:"w-5 h-5"}),"Find GreenPay User"]}),a.jsx(Ct,{children:"Search for a GreenPay user by email or full name"})]}),a.jsxs(Me,{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(dg,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),a.jsx($e,{placeholder:"Enter email or full name...",value:t,onChange:O=>{r(O.target.value),j(O.target.value)},className:"pl-10","data-testid":"input-search-greenpay-user"})]}),f&&a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-muted-foreground",children:"Searching..."})}),u.length>0&&a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:u.map(O=>a.jsx(K.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>N(O),className:"p-3 border rounded-lg cursor-pointer hover:bg-muted transition-colors","data-testid":`greenpay-user-result-${O.id}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-primary font-semibold",children:O.fullName.split(" ").map(I=>I[0]).join("")})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:O.fullName}),a.jsx("p",{className:"text-sm text-muted-foreground",children:O.email})]})]})},O.id))}),t.length>=2&&!f&&u.length===0&&a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-muted-foreground",children:"No users found"})})]})]}),n&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ke,{children:[a.jsx(He,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Rr,{className:"w-5 h-5 text-green-600"}),"Sending to"]})}),a.jsx(Me,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-primary font-semibold text-lg",children:n.fullName.split(" ").map(O=>O[0]).join("")})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:n.fullName}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n.email})]})]}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>i(null),"data-testid":"button-change-greenpay-user",children:"Change"})]})})]}),a.jsxs(ke,{children:[a.jsx(He,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(aa,{className:"w-5 h-5"}),"Transfer Details"]})}),a.jsxs(Me,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"greenpay-amount",children:"Amount (USD)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Zn,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),a.jsx($e,{id:"greenpay-amount",type:"number",placeholder:"0.00",value:s,onChange:O=>o(O.target.value),className:"pl-10",min:"0",step:"0.01","data-testid":"input-greenpay-amount"})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Available: $",g.toFixed(2)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"greenpay-description",children:"Description (Optional)"}),a.jsx(ys,{id:"greenpay-description",placeholder:"What's this transfer for?",value:l,onChange:O=>c(O.target.value),rows:3,"data-testid":"input-greenpay-description"})]}),a.jsx(ie,{onClick:k,disabled:!s||parseFloat(s)<=0||w.isPending,className:"w-full",size:"lg","data-testid":"button-send-greenpay-money",children:w.isPending?"Processing Transfer...":a.jsxs(a.Fragment,{children:[a.jsx(aa,{className:"w-4 h-4 mr-2"}),"Send $",s||"0.00"]})})]})]})]}),a.jsx(ke,{children:a.jsx(Me,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:a.jsx("span",{className:"material-icons text-blue-600 text-sm",children:"info"})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-medium text-sm",children:"About GreenPay Transfers"}),a.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[a.jsx("p",{children:" Transfers between GreenPay users are instant and free"}),a.jsx("p",{children:" Both sender and recipient will receive notifications"}),a.jsx("p",{children:" Transfers are processed immediately with real-time balance updates"})]})]})]})})})]});return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/dashboard"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors","data-testid":"button-back",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Send Money"})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-primary to-secondary p-6 rounded-2xl text-white elevation-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-green-200 text-sm",children:"Available Balance"}),a.jsxs("p",{className:"text-3xl font-bold",children:["$",g.toFixed(2)]})]}),a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:a.jsx(Zn,{className:"w-6 h-6"})})]}),a.jsx("p",{className:"text-green-200 text-sm",children:"GreenPay Wallet"})]}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[a.jsx(Ys,{className:"w-5 h-5"}),"Send to GreenPay Users"]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Transfer money instantly to other GreenPay users - free and instant"})]}),C()]})]})]})}function Cme(e="USD"){return Xt({queryKey:["exchange-rates",e],queryFn:async()=>(await qe("GET",`/api/exchange-rates/${e}`)).json(),refetchInterval:3e4,staleTime:3e4})}const vW=Cme;function Tme(){var C;const[,e]=Jt(),[t,r]=S.useState(""),[n,i]=S.useState(""),[s,o]=S.useState("USD"),[l,c]=S.useState("KES"),[u,d]=S.useState(null),{user:f}=kr(),{toast:h}=Et(),{data:p}=vW(s);S.useEffect(()=>{const O=sessionStorage.getItem("selectedRecipient");if(O){const I=JSON.parse(O);d(I),c(I.currency||"KES")}else e("/send-money")},[e]);const y=((C=p==null?void 0:p.rates)==null?void 0:C[l])||1,m=t?parseFloat(t):0,v=m*y,g=m*.025,x=m+g,w=m?Gt(v):"0.00",j=m?Gt(g):"0.00",N=m?Gt(x):"0.00",P=()=>{if(!t||parseFloat(t)<=0){h({title:"Invalid Amount",description:"Please enter a valid amount",variant:"destructive"});return}if(parseFloat(t)>parseFloat((f==null?void 0:f.balance)||"0")){h({title:"Insufficient Balance",description:"You don't have enough balance for this transfer",variant:"destructive"});return}sessionStorage.setItem("transferDetails",JSON.stringify({recipient:u,amount:t,sourceCurrency:s,targetCurrency:l,convertedAmount:w,fee:j,total:N,description:n,exchangeRate:y})),e("/send-confirm")},k=[{code:"USD",name:"US Dollar",symbol:"$"},{code:"KES",name:"Kenyan Shilling",symbol:"KSh"}];return u?a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/send-money"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors","data-testid":"button-back",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Send Amount"})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex items-center justify-center mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-muted text-muted-foreground rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),a.jsx("div",{className:"w-16 h-1 bg-primary mx-2"}),a.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),a.jsx("div",{className:"w-16 h-1 bg-muted mx-2"}),a.jsx("div",{className:"w-8 h-8 bg-muted text-muted-foreground rounded-full flex items-center justify-center text-sm font-bold",children:"3"})]})}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Sending to"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-white font-semibold text-sm",children:u.name.split(" ").map(O=>O[0]).join("").toUpperCase()})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:u.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.country,"  ",u.currency]})]})]})]}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card p-6 rounded-xl border border-border elevation-1",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"How much are you sending?"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex space-x-3",children:a.jsxs("div",{className:"flex-1",children:[a.jsx(Ge,{htmlFor:"amount",children:"You send"}),a.jsxs("div",{className:"relative",children:[a.jsx($e,{id:"amount",type:"number",placeholder:"0.00",value:t,onChange:O=>r(O.target.value),className:"pr-16 text-2xl h-14","data-testid":"input-amount"}),a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsxs(Hr,{value:s,onValueChange:o,children:[a.jsx($r,{className:"w-20 h-8 text-sm border-0 bg-transparent",children:a.jsx(Kr,{})}),a.jsx(Br,{children:k.map(O=>a.jsx(nt,{value:O.code,children:O.code},O.code))})]})})]})]})}),a.jsx("div",{className:"text-center py-2",children:a.jsxs("div",{className:"flex items-center justify-center text-sm text-muted-foreground",children:[a.jsx("span",{className:"material-icons mr-1 text-sm",children:"sync_alt"}),"1 ",s," = ",y.toFixed(4)," ",l]})}),a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"converted",children:"Recipient gets"}),a.jsxs("div",{className:"relative",children:[a.jsx($e,{id:"converted",value:w,disabled:!0,className:"pr-16 text-2xl h-14 bg-muted/50"}),a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm font-medium",children:l})]})]}),a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"description",children:"Description (Optional)"}),a.jsx($e,{id:"description",placeholder:"What's this for?",value:n,onChange:O=>i(O.target.value),"data-testid":"input-description"})]})]})]}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Transaction breakdown"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Transfer amount"}),a.jsxs("span",{children:[t||"0.00"," ",s]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Transfer fee"}),a.jsxs("span",{children:[j," ",s]})]}),a.jsx("div",{className:"border-t border-border pt-2 mt-2",children:a.jsxs("div",{className:"flex justify-between font-semibold",children:[a.jsx("span",{children:"Total to pay"}),a.jsxs("span",{children:[N," ",s]})]})})]})]}),a.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-center",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Available balance: ",a.jsxs("span",{className:"font-semibold",children:["$",Gt(parseFloat((f==null?void 0:f.balance)||"0"))," USD"]})]})}),a.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:a.jsx(ie,{onClick:P,className:"w-full ripple",disabled:!t||parseFloat(t)<=0,"data-testid":"button-continue",children:"Continue"})})]})]}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})})}function Eme(){var d,f,h,p,y,m;const[,e]=Jt(),[t,r]=S.useState(null),[n,i]=S.useState(new Array(4).fill("")),{toast:s}=Et(),{user:o}=kr();S.useEffect(()=>{const v=sessionStorage.getItem("transferData");v?r(JSON.parse(v)):e("/send-money")},[e]);const l=kt({mutationFn:async()=>(await qe("POST","/api/transactions",{userId:o==null?void 0:o.id,type:"send",amount:t.amount,currency:t.currency,recipientDetails:t.recipient,fee:t.fee,exchangeRate:t.exchangeRate.toString(),description:`Sent to ${t.recipient.name}`})).json(),onSuccess:()=>{var g;const v=((g=t.currency)==null?void 0:g.toUpperCase())==="KES"?"KSh ":"$";s({title:"Transfer successful!",description:`${v}${t.amount} has been sent to ${t.recipient.name}.`}),sessionStorage.removeItem("selectedRecipient"),sessionStorage.removeItem("transferData"),e("/dashboard")},onError:()=>{s({title:"Transfer failed",description:"Unable to complete the transfer. Please try again.",variant:"destructive"})}}),c=(v,g)=>{if(isNaN(Number(v.value)))return!1;i([...n.map((x,w)=>w===g?v.value:x)]),v.nextSibling&&v.value!==""&&v.nextSibling.focus()},u=()=>{n.join("").length===4?l.mutate():s({title:"Invalid PIN",description:"Please enter your 4-digit transaction PIN.",variant:"destructive"})};return t?a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/send-amount"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors","data-testid":"button-back",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Confirm Transfer"})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex items-center justify-center mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),a.jsx("div",{className:"w-16 h-1 bg-primary mx-2"}),a.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),a.jsx("div",{className:"w-16 h-1 bg-primary mx-2"}),a.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"})]})}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card p-6 rounded-xl border border-border elevation-1",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-white font-bold text-xl",children:t.recipient.initials})}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:t.recipient.name}),a.jsx("p",{className:"text-muted-foreground",children:t.recipient.country})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[a.jsx("span",{className:"text-muted-foreground",children:"You send"}),a.jsxs("span",{className:"font-semibold text-lg",children:[((d=t.currency)==null?void 0:d.toUpperCase())==="KES"?"KSh ":"$",t.amount]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[a.jsx("span",{className:"text-muted-foreground",children:"They receive"}),a.jsxs("span",{className:"font-semibold text-lg",children:[((f=t.targetCurrency)==null?void 0:f.toUpperCase())==="KES"?"KSh ":"$",t.recipientAmount]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[a.jsx("span",{className:"text-muted-foreground",children:"Transfer fee"}),a.jsxs("span",{className:"font-medium",children:[((h=t.currency)==null?void 0:h.toUpperCase())==="KES"?"KSh ":"$",t.fee]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[a.jsx("span",{className:"text-muted-foreground",children:"Exchange rate"}),a.jsxs("span",{className:"font-medium",children:["1 ",((p=t.currency)==null?void 0:p.toUpperCase())||"USD"," = ",t.exchangeRate.toLocaleString()," ",((y=t.targetCurrency)==null?void 0:y.toUpperCase())||"KES"]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"font-bold",children:"Total to pay"}),a.jsxs("span",{className:"font-bold text-xl text-primary",children:[((m=t.currency)==null?void 0:m.toUpperCase())==="KES"?"KSh ":"$",t.total]})]})]})]}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card p-6 rounded-xl border border-border elevation-1",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-accent rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"material-icons text-accent-foreground",children:"lock"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Enter Transaction PIN"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Please enter your 4-digit PIN to confirm this transfer"})]}),a.jsx("div",{className:"flex justify-center space-x-3 mb-6",children:n.map((v,g)=>a.jsx("input",{type:"password",maxLength:1,value:v,onChange:x=>c(x.target,g),onFocus:x=>x.target.select(),className:"w-12 h-12 text-center text-xl font-bold border border-border rounded-xl bg-input focus:outline-none focus:ring-2 focus:ring-ring transition-all","data-testid":`input-pin-${g}`},g))})]}),a.jsx(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-accent/10 p-4 rounded-xl border border-accent/20",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"material-icons text-accent mr-3 mt-0.5",children:"info"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-accent mb-1",children:"Important"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"This transfer cannot be cancelled once confirmed. Please verify all details are correct."})]})]})}),a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-3",children:[a.jsx(ie,{onClick:u,className:"w-full ripple bg-primary hover:bg-primary/90",disabled:l.isPending||n.join("").length!==4,"data-testid":"button-confirm-transfer",children:l.isPending?"Processing...":`Confirm Transfer - $${t.total}`}),a.jsx(ie,{variant:"outline",onClick:()=>e("/send-amount"),className:"w-full","data-testid":"button-edit-transfer",children:"Edit Transfer"})]})]})]}):a.jsx("div",{children:"Loading..."})}function Ome({value:e,size:t=192,className:r=""}){const n=S.useRef(null);S.useEffect(()=>{const l=n.current;if(!l)return;const c=l.getContext("2d");if(!c)return;const u=t/25,d=25;c.fillStyle="white",c.fillRect(0,0,t,t),c.fillStyle="black",i(c,0,0,u),i(c,(d-7)*u,0,u),i(c,0,(d-7)*u,u);for(let f=0;f<d;f++)for(let h=0;h<d;h++){if(s(f,h,d))continue;o(e+f+h)%3===0&&c.fillRect(f*u,h*u,u,u)}},[e,t]);function i(l,c,u,d){l.fillRect(c,u,7*d,7*d),l.fillStyle="white",l.fillRect(c+d,u+d,5*d,5*d),l.fillStyle="black",l.fillRect(c+2*d,u+2*d,3*d,3*d)}function s(l,c,u){return l<9&&c<9||l>=u-8&&c<9||l<9&&c>=u-8}function o(l){let c=0;for(let u=0;u<l.length;u++){const d=l.charCodeAt(u);c=(c<<5)-c+d,c=c&c}return Math.abs(c)}return a.jsx("canvas",{ref:n,width:t,height:t,className:`border border-border rounded-lg ${r}`,"data-testid":"qr-code"})}const Mme=St.object({amount:St.string().min(1,"Amount is required").refine(e=>parseFloat(e)>0,"Amount must be greater than 0"),currency:St.string().min(1,"Please select a currency"),toEmail:St.string().optional(),toPhone:St.string().optional(),message:St.string().optional()}).refine(e=>e.toEmail||e.toPhone,{message:"Please enter either email or phone number",path:["toEmail"]});function Lme(){var d;const[,e]=Jt(),[t,r]=S.useState("qr"),{toast:n}=Et(),{user:i}=kr(),s=Yo({resolver:Xo(Mme),defaultValues:{amount:"",currency:"USD",toEmail:"",toPhone:"",message:""}}),o=kt({mutationFn:async f=>(await qe("POST","/api/payment-requests",{fromUserId:i==null?void 0:i.id,...f})).json(),onSuccess:()=>{n({title:"Payment request sent!",description:"The recipient will be notified about your payment request."}),s.reset()},onError:()=>{n({title:"Request failed",description:"Unable to send payment request. Please try again.",variant:"destructive"})}}),l=f=>{o.mutate(f)},c=(f,h)=>{navigator.clipboard.writeText(f),n({title:"Copied!",description:`${h} copied to clipboard.`})},u=()=>{navigator.share?navigator.share({title:"GreenPay QR Code",text:"Scan this QR code to send me money via GreenPay"}):n({title:"QR Code ready",description:"Save or screenshot the QR code to share."})};return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/dashboard"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors","data-testid":"button-back",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Receive Money"})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex space-x-1 bg-muted p-1 rounded-lg",children:[a.jsx("button",{onClick:()=>r("qr"),className:`flex-1 py-2 px-3 text-sm font-medium rounded-md transition-all ${t==="qr"?"bg-card text-foreground elevation-1":"text-muted-foreground hover:text-foreground"}`,"data-testid":"tab-qr",children:"QR Code"}),a.jsx("button",{onClick:()=>r("request"),className:`flex-1 py-2 px-3 text-sm font-medium rounded-md transition-all ${t==="request"?"bg-card text-foreground elevation-1":"text-muted-foreground hover:text-foreground"}`,"data-testid":"tab-request",children:"Request Payment"})]}),t==="qr"&&a.jsxs(a.Fragment,{children:[a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card p-6 rounded-xl border border-border text-center elevation-1",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Scan to Pay"}),a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(Ome,{value:`greenpay://pay/${i==null?void 0:i.id}`,size:192,className:"mx-auto"})}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Share this QR code for instant payments"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs(ie,{onClick:u,className:"flex-1","data-testid":"button-share-qr",children:[a.jsx("span",{className:"material-icons text-sm mr-1",children:"share"}),"Share"]}),a.jsxs(ie,{variant:"outline",onClick:u,className:"flex-1","data-testid":"button-save-qr",children:[a.jsx("span",{className:"material-icons text-sm mr-1",children:"file_download"}),"Save"]})]})]}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold",children:"Share Account Details"}),a.jsx("button",{onClick:()=>{var h;const f=`Account: GP-${(h=i==null?void 0:i.id)==null?void 0:h.slice(-9)}
Bank: GreenPay Digital Bank
Name: ${i==null?void 0:i.fullName}`;navigator.clipboard.writeText(f),n({title:"All details copied!"})},className:"text-primary text-sm hover:underline","data-testid":"button-copy-all",children:"Copy All"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted rounded-xl",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Account Number"}),a.jsxs("p",{className:"font-medium",children:["GP-",((d=i==null?void 0:i.id)==null?void 0:d.slice(-9))||"123456789"]})]}),a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>{var f;return c(`GP-${((f=i==null?void 0:i.id)==null?void 0:f.slice(-9))||"123456789"}`,"Account number")},className:"material-icons text-muted-foreground hover:text-foreground transition-colors","data-testid":"button-copy-account",children:"content_copy"})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted rounded-xl",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Bank Name"}),a.jsx("p",{className:"font-medium",children:"GreenPay Digital Bank"})]}),a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>c("GreenPay Digital Bank","Bank name"),className:"material-icons text-muted-foreground hover:text-foreground transition-colors","data-testid":"button-copy-bank",children:"content_copy"})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted rounded-xl",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Account Name"}),a.jsx("p",{className:"font-medium",children:i==null?void 0:i.fullName})]}),a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>c((i==null?void 0:i.fullName)||"","Account name"),className:"material-icons text-muted-foreground hover:text-foreground transition-colors","data-testid":"button-copy-name",children:"content_copy"})]})]})]})]}),t==="request"&&a.jsx(a.Fragment,{children:a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Request Payment"}),a.jsx(to,{...s,children:a.jsxs("form",{onSubmit:s.handleSubmit(l),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsx(zt,{control:s.control,name:"currency",render:({field:f})=>a.jsx($t,{children:a.jsxs(Hr,{onValueChange:f.onChange,defaultValue:f.value,children:[a.jsx(qt,{children:a.jsx($r,{"data-testid":"select-currency",children:a.jsx(Kr,{})})}),a.jsx(Br,{children:hW.slice(0,3).map(h=>a.jsx(nt,{value:h.code,children:h.code},h.code))})]})})}),a.jsx("div",{className:"col-span-2",children:a.jsx(zt,{control:s.control,name:"amount",render:({field:f})=>a.jsxs($t,{children:[a.jsx(qt,{children:a.jsx($e,{...f,type:"number",step:"0.01",placeholder:"0.00","data-testid":"input-request-amount"})}),a.jsx(Yt,{})]})})})]}),a.jsx(zt,{control:s.control,name:"toEmail",render:({field:f})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Recipient Email"}),a.jsx(qt,{children:a.jsx($e,{...f,type:"email",placeholder:"Enter email address","data-testid":"input-recipient-email"})}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:s.control,name:"toPhone",render:({field:f})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Recipient Phone (Alternative)"}),a.jsx(qt,{children:a.jsx($e,{...f,type:"tel",placeholder:"Enter phone number","data-testid":"input-recipient-phone"})}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:s.control,name:"message",render:({field:f})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Message (Optional)"}),a.jsx(qt,{children:a.jsx(ys,{...f,placeholder:"Add a note for your payment request",className:"h-20","data-testid":"textarea-message"})}),a.jsx(Yt,{})]})}),a.jsx(ie,{type:"submit",className:"w-full ripple",disabled:o.isPending,"data-testid":"button-send-request",children:o.isPending?"Sending...":"Send Payment Request"})]})})]})}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card rounded-xl border border-border elevation-1",children:[a.jsx("div",{className:"p-4 border-b border-border",children:a.jsx("h3",{className:"font-semibold",children:"Recent Requests"})}),a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("span",{className:"material-icons text-muted-foreground mb-3 block text-3xl",children:"inbox"}),a.jsx("p",{className:"text-muted-foreground",children:"No payment requests yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Your payment requests will appear here"})]})]})]})]})}const Ime="modulepreload",Dme=function(e){return"/"+e},cI={},WS=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=Dme(c),c in cI)return;cI[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Ime,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function qr(e){"@babel/helpers - typeof";return qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qr(e)}var Go=Uint8Array,cs=Uint16Array,Z3=Int32Array,Q3=new Go([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),J3=new Go([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),uI=new Go([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bW=function(e,t){for(var r=new cs(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new Z3(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},wW=bW(Q3,2),Rme=wW.b,QA=wW.r;Rme[28]=258,QA[258]=28;var Fme=bW(J3,0),dI=Fme.r,JA=new cs(32768);for(var gn=0;gn<32768;++gn){var Pu=(gn&43690)>>1|(gn&21845)<<1;Pu=(Pu&52428)>>2|(Pu&13107)<<2,Pu=(Pu&61680)>>4|(Pu&3855)<<4,JA[gn]=((Pu&65280)>>8|(Pu&255)<<8)>>1}var d0=function(e,t,r){for(var n=e.length,i=0,s=new cs(t);i<n;++i)e[i]&&++s[e[i]-1];var o=new cs(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var l;if(r){l=new cs(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],d=t-e[i],f=o[e[i]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)l[JA[f]>>c]=u}else for(l=new cs(n),i=0;i<n;++i)e[i]&&(l[i]=JA[o[e[i]-1]++]>>15-e[i]);return l},dh=new Go(288);for(var gn=0;gn<144;++gn)dh[gn]=8;for(var gn=144;gn<256;++gn)dh[gn]=9;for(var gn=256;gn<280;++gn)dh[gn]=7;for(var gn=280;gn<288;++gn)dh[gn]=8;var e2=new Go(32);for(var gn=0;gn<32;++gn)e2[gn]=5;var $me=d0(dh,9,0),Bme=d0(e2,5,0),jW=function(e){return(e+7)/8|0},Ume=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Go(e.subarray(t,r))},uc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Nx=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},HS=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return{t:SW,l:0};if(i==1){var o=new Go(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(N,P){return N.f-P.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=i-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var h=s[0].s,n=1;n<i;++n)s[n].s>h&&(h=s[n].s);var p=new cs(h+1),y=ek(r[d-1],p,0);if(y>t){var n=0,m=0,v=y-t,g=1<<v;for(s.sort(function(P,k){return p[k.s]-p[P.s]||P.f-k.f});n<i;++n){var x=s[n].s;if(p[x]>t)m+=g-(1<<y-p[x]),p[x]=t;else break}for(m>>=v;m>0;){var w=s[n].s;p[w]<t?m-=1<<t-p[w]++-1:++n}for(;n>=0&&m;--n){var j=s[n].s;p[j]==t&&(--p[j],++m)}y=t}return{t:new Go(p),l:y}},ek=function(e,t,r){return e.s==-1?Math.max(ek(e.l,t,r+1),ek(e.r,t,r+1)):t[e.s]=r},fI=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new cs(++t),n=0,i=e[0],s=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[l]}return{c:r.subarray(0,n),n:t}},Sx=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},NW=function(e,t,r){var n=r.length,i=jW(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<n;++s)e[i+s+4]=r[s];return(i+4+n)*8},hI=function(e,t,r,n,i,s,o,l,c,u,d){uc(t,d++,r),++i[256];for(var f=HS(i,15),h=f.t,p=f.l,y=HS(s,15),m=y.t,v=y.l,g=fI(h),x=g.c,w=g.n,j=fI(m),N=j.c,P=j.n,k=new cs(19),C=0;C<x.length;++C)++k[x[C]&31];for(var C=0;C<N.length;++C)++k[N[C]&31];for(var O=HS(k,7),I=O.t,E=O.l,A=19;A>4&&!I[uI[A-1]];--A);var D=u+5<<3,R=Sx(i,dh)+Sx(s,e2)+o,G=Sx(i,h)+Sx(s,m)+o+14+3*A+Sx(k,I)+2*k[16]+3*k[17]+7*k[18];if(c>=0&&D<=R&&D<=G)return NW(t,d,e.subarray(c,c+u));var F,q,B,Z;if(uc(t,d,1+(G<R)),d+=2,G<R){F=d0(h,p,0),q=h,B=d0(m,v,0),Z=m;var le=d0(I,E,0);uc(t,d,w-257),uc(t,d+5,P-1),uc(t,d+10,A-4),d+=14;for(var C=0;C<A;++C)uc(t,d+3*C,I[uI[C]]);d+=3*A;for(var fe=[x,N],$=0;$<2;++$)for(var Y=fe[$],C=0;C<Y.length;++C){var J=Y[C]&31;uc(t,d,le[J]),d+=I[J],J>15&&(uc(t,d,Y[C]>>5&127),d+=Y[C]>>12)}}else F=$me,q=dh,B=Bme,Z=e2;for(var C=0;C<l;++C){var ae=n[C];if(ae>255){var J=ae>>18&31;Nx(t,d,F[J+257]),d+=q[J+257],J>7&&(uc(t,d,ae>>23&31),d+=Q3[J]);var de=ae&31;Nx(t,d,B[de]),d+=Z[de],de>3&&(Nx(t,d,ae>>5&8191),d+=J3[de])}else Nx(t,d,F[ae]),d+=q[ae]}return Nx(t,d,F[256]),d+q[256]},zme=new Z3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),SW=new Go(0),Vme=function(e,t,r,n,i,s){var o=s.z||e.length,l=new Go(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),u=s.l,d=(s.r||0)&7;if(t){d&&(c[0]=s.r>>3);for(var f=zme[t-1],h=f>>13,p=f&8191,y=(1<<r)-1,m=s.p||new cs(32768),v=s.h||new cs(y+1),g=Math.ceil(r/3),x=2*g,w=function(xe){return(e[xe]^e[xe+1]<<g^e[xe+2]<<x)&y},j=new Z3(25e3),N=new cs(288),P=new cs(32),k=0,C=0,O=s.i||0,I=0,E=s.w||0,A=0;O+2<o;++O){var D=w(O),R=O&32767,G=v[D];if(m[R]=G,v[D]=R,E<=O){var F=o-O;if((k>7e3||I>24576)&&(F>423||!u)){d=hI(e,c,0,j,N,P,C,I,A,O-A,d),I=k=C=0,A=O;for(var q=0;q<286;++q)N[q]=0;for(var q=0;q<30;++q)P[q]=0}var B=2,Z=0,le=p,fe=R-G&32767;if(F>2&&D==w(O-fe))for(var $=Math.min(h,F)-1,Y=Math.min(32767,O),J=Math.min(258,F);fe<=Y&&--le&&R!=G;){if(e[O+B]==e[O+B-fe]){for(var ae=0;ae<J&&e[O+ae]==e[O+ae-fe];++ae);if(ae>B){if(B=ae,Z=fe,ae>$)break;for(var de=Math.min(fe,ae-2),ce=0,q=0;q<de;++q){var be=O-fe+q&32767,oe=m[be],ye=be-oe&32767;ye>ce&&(ce=ye,G=be)}}}R=G,G=m[R],fe+=R-G&32767}if(Z){j[I++]=268435456|QA[B]<<18|dI[Z];var je=QA[B]&31,pe=dI[Z]&31;C+=Q3[je]+J3[pe],++N[257+je],++P[pe],E=O+B,++k}else j[I++]=e[O],++N[e[O]]}}for(O=Math.max(O,E);O<o;++O)j[I++]=e[O],++N[e[O]];d=hI(e,c,u,j,N,P,C,I,A,O-A,d),u||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=v,s.p=m,s.i=O,s.w=E)}else{for(var O=s.w||0;O<o+u;O+=65535){var Ne=O+65535;Ne>=o&&(c[d/8|0]=u,Ne=o),d=NW(c,d+1,e.subarray(O,Ne))}s.i=o}return Ume(l,0,n+jW(d)+i)},_W=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,s=r.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},qme=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Go(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return Vme(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},PW=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Wme=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=_W();i.p(t.dictionary),PW(e,2,i.d())}};function tk(e,t){t||(t={});var r=_W();r.p(e);var n=qme(e,t,t.dictionary?6:2,4);return Wme(n,t),PW(n,n.length-4,r.d()),n}var Hme=typeof TextDecoder<"u"&&new TextDecoder,Kme=0;try{Hme.decode(SW,{stream:!0}),Kme=1}catch{}function Gme(e){if(Array.isArray(e))return e}function Yme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function pI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Xme(e,t){if(e){if(typeof e=="string")return pI(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pI(e,t):void 0}}function Zme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mI(e,t){return Gme(e)||Yme(e,t)||Xme(e,t)||Zme()}function gI(e,t="utf8"){return new TextDecoder(t).decode(e)}const Qme=new TextEncoder;function Jme(e){return Qme.encode(e)}const ege=1024*8,tge=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),KS={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class eT{constructor(t=ege,r={}){ur(this,"buffer");ur(this,"byteLength");ur(this,"byteOffset");ur(this,"length");ur(this,"offset");ur(this,"lastWrittenByte");ur(this,"littleEndian");ur(this,"_data");ur(this,"_mark");ur(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,s=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof eT)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=KS[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===tge&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const c=new KS[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new KS[r](s);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return gI(this.readBytes(t))}decodeText(t=1,r="utf8"){return gI(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(Jme(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const rge=4,xI=0,yI=1,nge=2;function xg(e){let t=e.length;for(;--t>=0;)e[t]=0}const ige=0,AW=1,age=2,sge=3,oge=258,tT=29,jv=256,sy=jv+1+tT,qp=30,rT=19,kW=2*sy+1,Tf=15,GS=16,lge=7,nT=256,CW=16,TW=17,EW=18,rk=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),H1=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),cge=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),OW=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),uge=512,yc=new Array((sy+2)*2);xg(yc);const f0=new Array(qp*2);xg(f0);const oy=new Array(uge);xg(oy);const ly=new Array(oge-sge+1);xg(ly);const iT=new Array(tT);xg(iT);const t2=new Array(qp);xg(t2);function YS(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let MW,LW,IW;function XS(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const DW=e=>e<256?oy[e]:oy[256+(e>>>7)],cy=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Ma=(e,t,r)=>{e.bi_valid>GS-r?(e.bi_buf|=t<<e.bi_valid&65535,cy(e,e.bi_buf),e.bi_buf=t>>GS-e.bi_valid,e.bi_valid+=r-GS):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},yl=(e,t,r)=>{Ma(e,r[t*2],r[t*2+1])},RW=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},dge=e=>{e.bi_valid===16?(cy(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},fge=(e,t)=>{const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,f,h,p,y,m=0;for(h=0;h<=Tf;h++)e.bl_count[h]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<kW;u++)d=e.heap[u],h=r[r[d*2+1]*2+1]+1,h>c&&(h=c,m++),r[d*2+1]=h,!(d>n)&&(e.bl_count[h]++,p=0,d>=l&&(p=o[d-l]),y=r[d*2],e.opt_len+=y*(h+p),s&&(e.static_len+=y*(i[d*2+1]+p)));if(m!==0){do{for(h=c-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,m-=2}while(m>0);for(h=c;h!==0;h--)for(d=e.bl_count[h];d!==0;)f=e.heap[--u],!(f>n)&&(r[f*2+1]!==h&&(e.opt_len+=(h-r[f*2+1])*r[f*2],r[f*2+1]=h),d--)}},FW=(e,t,r)=>{const n=new Array(Tf+1);let i=0,s,o;for(s=1;s<=Tf;s++)i=i+r[s-1]<<1,n[s]=i;for(o=0;o<=t;o++){let l=e[o*2+1];l!==0&&(e[o*2]=RW(n[l]++,l))}},hge=()=>{let e,t,r,n,i;const s=new Array(Tf+1);for(r=0,n=0;n<tT-1;n++)for(iT[n]=r,e=0;e<1<<rk[n];e++)ly[r++]=n;for(ly[r-1]=n,i=0,n=0;n<16;n++)for(t2[n]=i,e=0;e<1<<H1[n];e++)oy[i++]=n;for(i>>=7;n<qp;n++)for(t2[n]=i<<7,e=0;e<1<<H1[n]-7;e++)oy[256+i++]=n;for(t=0;t<=Tf;t++)s[t]=0;for(e=0;e<=143;)yc[e*2+1]=8,e++,s[8]++;for(;e<=255;)yc[e*2+1]=9,e++,s[9]++;for(;e<=279;)yc[e*2+1]=7,e++,s[7]++;for(;e<=287;)yc[e*2+1]=8,e++,s[8]++;for(FW(yc,sy+1,s),e=0;e<qp;e++)f0[e*2+1]=5,f0[e*2]=RW(e,5);MW=new YS(yc,rk,jv+1,sy,Tf),LW=new YS(f0,H1,0,qp,Tf),IW=new YS(new Array(0),cge,0,rT,lge)},$W=e=>{let t;for(t=0;t<sy;t++)e.dyn_ltree[t*2]=0;for(t=0;t<qp;t++)e.dyn_dtree[t*2]=0;for(t=0;t<rT;t++)e.bl_tree[t*2]=0;e.dyn_ltree[nT*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},BW=e=>{e.bi_valid>8?cy(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},vI=(e,t,r,n)=>{const i=t*2,s=r*2;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]},ZS=(e,t,r)=>{const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&vI(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!vI(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},bI=(e,t,r)=>{let n,i,s=0,o,l;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+s++]&255,n+=(e.pending_buf[e.sym_buf+s++]&255)<<8,i=e.pending_buf[e.sym_buf+s++],n===0?yl(e,i,t):(o=ly[i],yl(e,o+jv+1,t),l=rk[o],l!==0&&(i-=iT[o],Ma(e,i,l)),n--,o=DW(n),yl(e,o,r),l=H1[o],l!==0&&(n-=t2[o],Ma(e,n,l)));while(s<e.sym_next);yl(e,nT,t)},nk=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,l,c=-1,u;for(e.heap_len=0,e.heap_max=kW,o=0;o<s;o++)r[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=n[u*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)ZS(e,r,o);u=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ZS(e,r,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,r[u*2]=r[o*2]+r[l*2],e.depth[u]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,r[o*2+1]=r[l*2+1]=u,e.heap[1]=u++,ZS(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],fge(e,t),FW(r,c,e.bl_count)},wI=(e,t,r)=>{let n,i=-1,s,o=t[0*2+1],l=0,c=7,u=4;for(o===0&&(c=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)s=o,o=t[(n+1)*2+1],!(++l<c&&s===o)&&(l<u?e.bl_tree[s*2]+=l:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[CW*2]++):l<=10?e.bl_tree[TW*2]++:e.bl_tree[EW*2]++,l=0,i=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4))},jI=(e,t,r)=>{let n,i=-1,s,o=t[0*2+1],l=0,c=7,u=4;for(o===0&&(c=138,u=3),n=0;n<=r;n++)if(s=o,o=t[(n+1)*2+1],!(++l<c&&s===o)){if(l<u)do yl(e,s,e.bl_tree);while(--l!==0);else s!==0?(s!==i&&(yl(e,s,e.bl_tree),l--),yl(e,CW,e.bl_tree),Ma(e,l-3,2)):l<=10?(yl(e,TW,e.bl_tree),Ma(e,l-3,3)):(yl(e,EW,e.bl_tree),Ma(e,l-11,7));l=0,i=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4)}},pge=e=>{let t;for(wI(e,e.dyn_ltree,e.l_desc.max_code),wI(e,e.dyn_dtree,e.d_desc.max_code),nk(e,e.bl_desc),t=rT-1;t>=3&&e.bl_tree[OW[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},mge=(e,t,r,n)=>{let i;for(Ma(e,t-257,5),Ma(e,r-1,5),Ma(e,n-4,4),i=0;i<n;i++)Ma(e,e.bl_tree[OW[i]*2+1],3);jI(e,e.dyn_ltree,t-1),jI(e,e.dyn_dtree,r-1)},gge=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return xI;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return yI;for(r=32;r<jv;r++)if(e.dyn_ltree[r*2]!==0)return yI;return xI};let NI=!1;const xge=e=>{NI||(hge(),NI=!0),e.l_desc=new XS(e.dyn_ltree,MW),e.d_desc=new XS(e.dyn_dtree,LW),e.bl_desc=new XS(e.bl_tree,IW),e.bi_buf=0,e.bi_valid=0,$W(e)},UW=(e,t,r,n)=>{Ma(e,(ige<<1)+(n?1:0),3),BW(e),cy(e,r),cy(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},yge=e=>{Ma(e,AW<<1,3),yl(e,nT,yc),dge(e)},vge=(e,t,r,n)=>{let i,s,o=0;e.level>0?(e.strm.data_type===nge&&(e.strm.data_type=gge(e)),nk(e,e.l_desc),nk(e,e.d_desc),o=pge(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&t!==-1?UW(e,t,r,n):e.strategy===rge||s===i?(Ma(e,(AW<<1)+(n?1:0),3),bI(e,yc,f0)):(Ma(e,(age<<1)+(n?1:0),3),mge(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),bI(e,e.dyn_ltree,e.dyn_dtree)),$W(e),n&&BW(e)},bge=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(ly[r]+jv+1)*2]++,e.dyn_dtree[DW(t)*2]++),e.sym_next===e.sym_end);var wge=xge,jge=UW,Nge=vge,Sge=bge,_ge=yge,Pge={_tr_init:wge,_tr_stored_block:jge,_tr_flush_block:Nge,_tr_tally:Sge,_tr_align:_ge};const Age=(e,t,r,n)=>{let i=e&65535|0,s=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+t[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var uy=Age;const kge=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},Cge=new Uint32Array(kge()),Tge=(e,t,r,n)=>{const i=Cge,s=n+r;e^=-1;for(let o=n;o<s;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var bi=Tge,Tm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Nv={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ege,_tr_stored_block:ik,_tr_flush_block:Oge,_tr_tally:ud,_tr_align:Mge}=Pge,{Z_NO_FLUSH:dd,Z_PARTIAL_FLUSH:Lge,Z_FULL_FLUSH:Ige,Z_FINISH:qs,Z_BLOCK:SI,Z_OK:Ri,Z_STREAM_END:_I,Z_STREAM_ERROR:Ml,Z_DATA_ERROR:Dge,Z_BUF_ERROR:QS,Z_DEFAULT_COMPRESSION:Rge,Z_FILTERED:Fge,Z_HUFFMAN_ONLY:Xb,Z_RLE:$ge,Z_FIXED:Bge,Z_DEFAULT_STRATEGY:Uge,Z_UNKNOWN:zge,Z_DEFLATED:aN}=Nv,Vge=9,qge=15,Wge=8,Hge=29,Kge=256,ak=Kge+1+Hge,Gge=30,Yge=19,Xge=2*ak+1,Zge=15,xr=3,Xu=258,Ll=Xu+xr+1,Qge=32,Em=42,aT=57,sk=69,ok=73,lk=91,ck=103,Ef=113,Kx=666,ya=1,yg=2,fh=3,vg=4,Jge=3,Of=(e,t)=>(e.msg=Tm[t],t),PI=e=>e*2-(e>4?9:0),Ru=e=>{let t=e.length;for(;--t>=0;)e[t]=0},exe=e=>{let t,r,n,i=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=i?r-i:0;while(--t);t=i,n=t;do r=e.prev[--n],e.prev[n]=r>=i?r-i:0;while(--t)};let txe=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,fd=txe;const Ja=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},us=(e,t)=>{Oge(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ja(e.strm)},Tr=(e,t)=>{e.pending_buf[e.pending++]=t},_x=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},uk=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),e.state.wrap===1?e.adler=uy(e.adler,t,i,r):e.state.wrap===2&&(e.adler=bi(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},zW=(e,t)=>{let r=e.max_chain_length,n=e.strstart,i,s,o=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-Ll?e.strstart-(e.w_size-Ll):0,u=e.window,d=e.w_mask,f=e.prev,h=e.strstart+Xu;let p=u[n+o-1],y=u[n+o];e.prev_length>=e.good_match&&(r>>=2),l>e.lookahead&&(l=e.lookahead);do if(i=t,!(u[i+o]!==y||u[i+o-1]!==p||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<h);if(s=Xu-(h-n),n=h-Xu,s>o){if(e.match_start=t,o=s,s>=l)break;p=u[n+o-1],y=u[n+o]}}while((t=f[t&d])>c&&--r!==0);return o<=e.lookahead?o:e.lookahead},Om=e=>{const t=e.w_size;let r,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Ll)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),exe(e),n+=t),e.strm.avail_in===0)break;if(r=uk(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=xr)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=fd(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=fd(e,e.ins_h,e.window[i+xr-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<xr)););}while(e.lookahead<Ll&&e.strm.avail_in!==0)},VW=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,s,o=0,l=e.strm.avail_in;do{if(n=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>s&&(n=s),n<r&&(n===0&&t!==qs||t===dd||n!==i+e.strm.avail_in)))break;o=t===qs&&n===i+e.strm.avail_in?1:0,ik(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Ja(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(uk(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?vg:t!==dd&&t!==qs&&e.strm.avail_in===0&&e.strstart===e.block_start?yg:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(uk(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,r=s>e.w_size?e.w_size:s,i=e.strstart-e.block_start,(i>=r||(i||t===qs)&&t!==dd&&e.strm.avail_in===0&&i<=s)&&(n=i>s?s:i,o=t===qs&&e.strm.avail_in===0&&n===i?1:0,ik(e,e.block_start,n,o),e.block_start+=n,Ja(e.strm)),o?fh:ya)},JS=(e,t)=>{let r,n;for(;;){if(e.lookahead<Ll){if(Om(e),e.lookahead<Ll&&t===dd)return ya;if(e.lookahead===0)break}if(r=0,e.lookahead>=xr&&(e.ins_h=fd(e,e.ins_h,e.window[e.strstart+xr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-Ll&&(e.match_length=zW(e,r)),e.match_length>=xr)if(n=ud(e,e.strstart-e.match_start,e.match_length-xr),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=xr){e.match_length--;do e.strstart++,e.ins_h=fd(e,e.ins_h,e.window[e.strstart+xr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=fd(e,e.ins_h,e.window[e.strstart+1]);else n=ud(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(us(e,!1),e.strm.avail_out===0))return ya}return e.insert=e.strstart<xr-1?e.strstart:xr-1,t===qs?(us(e,!0),e.strm.avail_out===0?fh:vg):e.sym_next&&(us(e,!1),e.strm.avail_out===0)?ya:yg},Qh=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<Ll){if(Om(e),e.lookahead<Ll&&t===dd)return ya;if(e.lookahead===0)break}if(r=0,e.lookahead>=xr&&(e.ins_h=fd(e,e.ins_h,e.window[e.strstart+xr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=xr-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Ll&&(e.match_length=zW(e,r),e.match_length<=5&&(e.strategy===Fge||e.match_length===xr&&e.strstart-e.match_start>4096)&&(e.match_length=xr-1)),e.prev_length>=xr&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-xr,n=ud(e,e.strstart-1-e.prev_match,e.prev_length-xr),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=fd(e,e.ins_h,e.window[e.strstart+xr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=xr-1,e.strstart++,n&&(us(e,!1),e.strm.avail_out===0))return ya}else if(e.match_available){if(n=ud(e,0,e.window[e.strstart-1]),n&&us(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ya}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=ud(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<xr-1?e.strstart:xr-1,t===qs?(us(e,!0),e.strm.avail_out===0?fh:vg):e.sym_next&&(us(e,!1),e.strm.avail_out===0)?ya:yg},rxe=(e,t)=>{let r,n,i,s;const o=e.window;for(;;){if(e.lookahead<=Xu){if(Om(e),e.lookahead<=Xu&&t===dd)return ya;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=xr&&e.strstart>0&&(i=e.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){s=e.strstart+Xu;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);e.match_length=Xu-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=xr?(r=ud(e,1,e.match_length-xr),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=ud(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(us(e,!1),e.strm.avail_out===0))return ya}return e.insert=0,t===qs?(us(e,!0),e.strm.avail_out===0?fh:vg):e.sym_next&&(us(e,!1),e.strm.avail_out===0)?ya:yg},nxe=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Om(e),e.lookahead===0)){if(t===dd)return ya;break}if(e.match_length=0,r=ud(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(us(e,!1),e.strm.avail_out===0))return ya}return e.insert=0,t===qs?(us(e,!0),e.strm.avail_out===0?fh:vg):e.sym_next&&(us(e,!1),e.strm.avail_out===0)?ya:yg};function cl(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}const Gx=[new cl(0,0,0,0,VW),new cl(4,4,8,4,JS),new cl(4,5,16,8,JS),new cl(4,6,32,32,JS),new cl(4,4,16,16,Qh),new cl(8,16,32,32,Qh),new cl(8,16,128,128,Qh),new cl(8,32,128,256,Qh),new cl(32,128,258,1024,Qh),new cl(32,258,258,4096,Qh)],ixe=e=>{e.window_size=2*e.w_size,Ru(e.head),e.max_lazy_match=Gx[e.level].max_lazy,e.good_match=Gx[e.level].good_length,e.nice_match=Gx[e.level].nice_length,e.max_chain_length=Gx[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=xr-1,e.match_available=0,e.ins_h=0};function axe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=aN,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Xge*2),this.dyn_dtree=new Uint16Array((2*Gge+1)*2),this.bl_tree=new Uint16Array((2*Yge+1)*2),Ru(this.dyn_ltree),Ru(this.dyn_dtree),Ru(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Zge+1),this.heap=new Uint16Array(2*ak+1),Ru(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ak+1),Ru(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Sv=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Em&&t.status!==aT&&t.status!==sk&&t.status!==ok&&t.status!==lk&&t.status!==ck&&t.status!==Ef&&t.status!==Kx?1:0},qW=e=>{if(Sv(e))return Of(e,Ml);e.total_in=e.total_out=0,e.data_type=zge;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?aT:t.wrap?Em:Ef,e.adler=t.wrap===2?0:1,t.last_flush=-2,Ege(t),Ri},WW=e=>{const t=qW(e);return t===Ri&&ixe(e.state),t},sxe=(e,t)=>Sv(e)||e.state.wrap!==2?Ml:(e.state.gzhead=t,Ri),HW=(e,t,r,n,i,s)=>{if(!e)return Ml;let o=1;if(t===Rge&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>Vge||r!==aN||n<8||n>15||t<0||t>9||s<0||s>Bge||n===8&&o!==1)return Of(e,Ml);n===8&&(n=9);const l=new axe;return e.state=l,l.strm=e,l.status=Em,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+xr-1)/xr),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=s,l.method=r,WW(e)},oxe=(e,t)=>HW(e,t,aN,qge,Wge,Uge),lxe=(e,t)=>{if(Sv(e)||t>SI||t<0)return e?Of(e,Ml):Ml;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===Kx&&t!==qs)return Of(e,e.avail_out===0?QS:Ml);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(Ja(e),e.avail_out===0)return r.last_flush=-1,Ri}else if(e.avail_in===0&&PI(t)<=PI(n)&&t!==qs)return Of(e,QS);if(r.status===Kx&&e.avail_in!==0)return Of(e,QS);if(r.status===Em&&r.wrap===0&&(r.status=Ef),r.status===Em){let i=aN+(r.w_bits-8<<4)<<8,s=-1;if(r.strategy>=Xb||r.level<2?s=0:r.level<6?s=1:r.level===6?s=2:s=3,i|=s<<6,r.strstart!==0&&(i|=Qge),i+=31-i%31,_x(r,i),r.strstart!==0&&(_x(r,e.adler>>>16),_x(r,e.adler&65535)),e.adler=1,r.status=Ef,Ja(e),r.pending!==0)return r.last_flush=-1,Ri}if(r.status===aT){if(e.adler=0,Tr(r,31),Tr(r,139),Tr(r,8),r.gzhead)Tr(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Tr(r,r.gzhead.time&255),Tr(r,r.gzhead.time>>8&255),Tr(r,r.gzhead.time>>16&255),Tr(r,r.gzhead.time>>24&255),Tr(r,r.level===9?2:r.strategy>=Xb||r.level<2?4:0),Tr(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Tr(r,r.gzhead.extra.length&255),Tr(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=bi(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=sk;else if(Tr(r,0),Tr(r,0),Tr(r,0),Tr(r,0),Tr(r,0),Tr(r,r.level===9?2:r.strategy>=Xb||r.level<2?4:0),Tr(r,Jge),r.status=Ef,Ja(e),r.pending!==0)return r.last_flush=-1,Ri}if(r.status===sk){if(r.gzhead.extra){let i=r.pending,s=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+s>r.pending_buf_size;){let l=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+l),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(e.adler=bi(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=l,Ja(e),r.pending!==0)return r.last_flush=-1,Ri;i=0,s-=l}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending+=s,r.gzhead.hcrc&&r.pending>i&&(e.adler=bi(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=ok}if(r.status===ok){if(r.gzhead.name){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=bi(e.adler,r.pending_buf,r.pending-i,i)),Ja(e),r.pending!==0)return r.last_flush=-1,Ri;i=0}r.gzindex<r.gzhead.name.length?s=r.gzhead.name.charCodeAt(r.gzindex++)&255:s=0,Tr(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=bi(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=lk}if(r.status===lk){if(r.gzhead.comment){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=bi(e.adler,r.pending_buf,r.pending-i,i)),Ja(e),r.pending!==0)return r.last_flush=-1,Ri;i=0}r.gzindex<r.gzhead.comment.length?s=r.gzhead.comment.charCodeAt(r.gzindex++)&255:s=0,Tr(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=bi(e.adler,r.pending_buf,r.pending-i,i))}r.status=ck}if(r.status===ck){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Ja(e),r.pending!==0))return r.last_flush=-1,Ri;Tr(r,e.adler&255),Tr(r,e.adler>>8&255),e.adler=0}if(r.status=Ef,Ja(e),r.pending!==0)return r.last_flush=-1,Ri}if(e.avail_in!==0||r.lookahead!==0||t!==dd&&r.status!==Kx){let i=r.level===0?VW(r,t):r.strategy===Xb?nxe(r,t):r.strategy===$ge?rxe(r,t):Gx[r.level].func(r,t);if((i===fh||i===vg)&&(r.status=Kx),i===ya||i===fh)return e.avail_out===0&&(r.last_flush=-1),Ri;if(i===yg&&(t===Lge?Mge(r):t!==SI&&(ik(r,0,0,!1),t===Ige&&(Ru(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Ja(e),e.avail_out===0))return r.last_flush=-1,Ri}return t!==qs?Ri:r.wrap<=0?_I:(r.wrap===2?(Tr(r,e.adler&255),Tr(r,e.adler>>8&255),Tr(r,e.adler>>16&255),Tr(r,e.adler>>24&255),Tr(r,e.total_in&255),Tr(r,e.total_in>>8&255),Tr(r,e.total_in>>16&255),Tr(r,e.total_in>>24&255)):(_x(r,e.adler>>>16),_x(r,e.adler&65535)),Ja(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Ri:_I)},cxe=e=>{if(Sv(e))return Ml;const t=e.state.status;return e.state=null,t===Ef?Of(e,Dge):Ri},uxe=(e,t)=>{let r=t.length;if(Sv(e))return Ml;const n=e.state,i=n.wrap;if(i===2||i===1&&n.status!==Em||n.lookahead)return Ml;if(i===1&&(e.adler=uy(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){i===0&&(Ru(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(t.subarray(r-n.w_size,r),0),t=c,r=n.w_size}const s=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Om(n);n.lookahead>=xr;){let c=n.strstart,u=n.lookahead-(xr-1);do n.ins_h=fd(n,n.ins_h,n.window[c+xr-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--u);n.strstart=c,n.lookahead=xr-1,Om(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=xr-1,n.match_available=0,e.next_in=o,e.input=l,e.avail_in=s,n.wrap=i,Ri};var dxe=oxe,fxe=HW,hxe=WW,pxe=qW,mxe=sxe,gxe=lxe,xxe=cxe,yxe=uxe,vxe="pako deflate (from Nodeca project)",h0={deflateInit:dxe,deflateInit2:fxe,deflateReset:hxe,deflateResetKeep:pxe,deflateSetHeader:mxe,deflate:gxe,deflateEnd:xxe,deflateSetDictionary:yxe,deflateInfo:vxe};const bxe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var wxe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)bxe(r,n)&&(e[n]=r[n])}}return e},jxe=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,s=e.length;n<s;n++){let o=e[n];r.set(o,i),i+=o.length}return r},sN={assign:wxe,flattenChunks:jxe};let KW=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{KW=!1}const dy=new Uint8Array(256);for(let e=0;e<256;e++)dy[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;dy[254]=dy[254]=1;var Nxe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,s,o=e.length,l=0;for(i=0;i<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),s=0,i=0;s<l;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};const Sxe=(e,t)=>{if(t<65534&&e.subarray&&KW)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var _xe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let o=e[n++];if(o<128){s[i++]=o;continue}let l=dy[o];if(l>4){s[i++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return Sxe(s,i)},Pxe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+dy[e[r]]>t?r:t},fy={string2buf:Nxe,buf2string:_xe,utf8border:Pxe};function Axe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var GW=Axe;const YW=Object.prototype.toString,{Z_NO_FLUSH:kxe,Z_SYNC_FLUSH:Cxe,Z_FULL_FLUSH:Txe,Z_FINISH:Exe,Z_OK:r2,Z_STREAM_END:Oxe,Z_DEFAULT_COMPRESSION:Mxe,Z_DEFAULT_STRATEGY:Lxe,Z_DEFLATED:Ixe}=Nv;function sT(e){this.options=sN.assign({level:Mxe,method:Ixe,chunkSize:16384,windowBits:15,memLevel:8,strategy:Lxe},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new GW,this.strm.avail_out=0;let r=h0.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==r2)throw new Error(Tm[r]);if(t.header&&h0.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=fy.string2buf(t.dictionary):YW.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=h0.deflateSetDictionary(this.strm,n),r!==r2)throw new Error(Tm[r]);this._dict_set=!0}}sT.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let i,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?Exe:kxe,typeof e=="string"?r.input=fy.string2buf(e):YW.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===Cxe||s===Txe)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=h0.deflate(r,s),i===Oxe)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=h0.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===r2;if(r.avail_out===0){this.onData(r.output);continue}if(s>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};sT.prototype.onData=function(e){this.chunks.push(e)};sT.prototype.onEnd=function(e){e===r2&&(this.result=sN.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const Zb=16209,Dxe=16191;var Rxe=function(t,r){let n,i,s,o,l,c,u,d,f,h,p,y,m,v,g,x,w,j,N,P,k,C,O,I;const E=t.state;n=t.next_in,O=t.input,i=n+(t.avail_in-5),s=t.next_out,I=t.output,o=s-(r-t.avail_out),l=s+(t.avail_out-257),c=E.dmax,u=E.wsize,d=E.whave,f=E.wnext,h=E.window,p=E.hold,y=E.bits,m=E.lencode,v=E.distcode,g=(1<<E.lenbits)-1,x=(1<<E.distbits)-1;e:do{y<15&&(p+=O[n++]<<y,y+=8,p+=O[n++]<<y,y+=8),w=m[p&g];t:for(;;){if(j=w>>>24,p>>>=j,y-=j,j=w>>>16&255,j===0)I[s++]=w&65535;else if(j&16){N=w&65535,j&=15,j&&(y<j&&(p+=O[n++]<<y,y+=8),N+=p&(1<<j)-1,p>>>=j,y-=j),y<15&&(p+=O[n++]<<y,y+=8,p+=O[n++]<<y,y+=8),w=v[p&x];r:for(;;){if(j=w>>>24,p>>>=j,y-=j,j=w>>>16&255,j&16){if(P=w&65535,j&=15,y<j&&(p+=O[n++]<<y,y+=8,y<j&&(p+=O[n++]<<y,y+=8)),P+=p&(1<<j)-1,P>c){t.msg="invalid distance too far back",E.mode=Zb;break e}if(p>>>=j,y-=j,j=s-o,P>j){if(j=P-j,j>d&&E.sane){t.msg="invalid distance too far back",E.mode=Zb;break e}if(k=0,C=h,f===0){if(k+=u-j,j<N){N-=j;do I[s++]=h[k++];while(--j);k=s-P,C=I}}else if(f<j){if(k+=u+f-j,j-=f,j<N){N-=j;do I[s++]=h[k++];while(--j);if(k=0,f<N){j=f,N-=j;do I[s++]=h[k++];while(--j);k=s-P,C=I}}}else if(k+=f-j,j<N){N-=j;do I[s++]=h[k++];while(--j);k=s-P,C=I}for(;N>2;)I[s++]=C[k++],I[s++]=C[k++],I[s++]=C[k++],N-=3;N&&(I[s++]=C[k++],N>1&&(I[s++]=C[k++]))}else{k=s-P;do I[s++]=I[k++],I[s++]=I[k++],I[s++]=I[k++],N-=3;while(N>2);N&&(I[s++]=I[k++],N>1&&(I[s++]=I[k++]))}}else if(j&64){t.msg="invalid distance code",E.mode=Zb;break e}else{w=v[(w&65535)+(p&(1<<j)-1)];continue r}break}}else if(j&64)if(j&32){E.mode=Dxe;break e}else{t.msg="invalid literal/length code",E.mode=Zb;break e}else{w=m[(w&65535)+(p&(1<<j)-1)];continue t}break}}while(n<i&&s<l);N=y>>3,n-=N,y-=N<<3,p&=(1<<y)-1,t.next_in=n,t.next_out=s,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=s<l?257+(l-s):257-(s-l),E.hold=p,E.bits=y};const Jh=15,AI=852,kI=592,CI=0,e_=1,TI=2,Fxe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),$xe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Bxe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Uxe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),zxe=(e,t,r,n,i,s,o,l)=>{const c=l.bits;let u=0,d=0,f=0,h=0,p=0,y=0,m=0,v=0,g=0,x=0,w,j,N,P,k,C=null,O;const I=new Uint16Array(Jh+1),E=new Uint16Array(Jh+1);let A=null,D,R,G;for(u=0;u<=Jh;u++)I[u]=0;for(d=0;d<n;d++)I[t[r+d]]++;for(p=c,h=Jh;h>=1&&I[h]===0;h--);if(p>h&&(p=h),h===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<h&&I[f]===0;f++);for(p<f&&(p=f),v=1,u=1;u<=Jh;u++)if(v<<=1,v-=I[u],v<0)return-1;if(v>0&&(e===CI||h!==1))return-1;for(E[1]=0,u=1;u<Jh;u++)E[u+1]=E[u]+I[u];for(d=0;d<n;d++)t[r+d]!==0&&(o[E[t[r+d]]++]=d);if(e===CI?(C=A=o,O=20):e===e_?(C=Fxe,A=$xe,O=257):(C=Bxe,A=Uxe,O=0),x=0,d=0,u=f,k=s,y=p,m=0,N=-1,g=1<<p,P=g-1,e===e_&&g>AI||e===TI&&g>kI)return 1;for(;;){D=u-m,o[d]+1<O?(R=0,G=o[d]):o[d]>=O?(R=A[o[d]-O],G=C[o[d]-O]):(R=96,G=0),w=1<<u-m,j=1<<y,f=j;do j-=w,i[k+(x>>m)+j]=D<<24|R<<16|G|0;while(j!==0);for(w=1<<u-1;x&w;)w>>=1;if(w!==0?(x&=w-1,x+=w):x=0,d++,--I[u]===0){if(u===h)break;u=t[r+o[d]]}if(u>p&&(x&P)!==N){for(m===0&&(m=p),k+=f,y=u-m,v=1<<y;y+m<h&&(v-=I[y+m],!(v<=0));)y++,v<<=1;if(g+=1<<y,e===e_&&g>AI||e===TI&&g>kI)return 1;N=x&P,i[N]=p<<24|y<<16|k-s|0}}return x!==0&&(i[k+x]=u-m<<24|64<<16|0),l.bits=p,0};var p0=zxe;const Vxe=0,XW=1,ZW=2,{Z_FINISH:EI,Z_BLOCK:qxe,Z_TREES:Qb,Z_OK:hh,Z_STREAM_END:Wxe,Z_NEED_DICT:Hxe,Z_STREAM_ERROR:ro,Z_DATA_ERROR:QW,Z_MEM_ERROR:JW,Z_BUF_ERROR:Kxe,Z_DEFLATED:OI}=Nv,oN=16180,MI=16181,LI=16182,II=16183,DI=16184,RI=16185,FI=16186,$I=16187,BI=16188,UI=16189,n2=16190,dc=16191,t_=16192,zI=16193,r_=16194,VI=16195,qI=16196,WI=16197,HI=16198,Jb=16199,e1=16200,KI=16201,GI=16202,YI=16203,XI=16204,ZI=16205,n_=16206,QI=16207,JI=16208,yn=16209,eH=16210,tH=16211,Gxe=852,Yxe=592,Xxe=15,Zxe=Xxe,e8=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Qxe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const _h=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<oN||t.mode>tH?1:0},rH=e=>{if(_h(e))return ro;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=oN,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Gxe),t.distcode=t.distdyn=new Int32Array(Yxe),t.sane=1,t.back=-1,hh},nH=e=>{if(_h(e))return ro;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,rH(e)},iH=(e,t)=>{let r;if(_h(e))return ro;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ro:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,nH(e))},aH=(e,t)=>{if(!e)return ro;const r=new Qxe;e.state=r,r.strm=e,r.window=null,r.mode=oN;const n=iH(e,t);return n!==hh&&(e.state=null),n},Jxe=e=>aH(e,Zxe);let t8=!0,i_,a_;const e0e=e=>{if(t8){i_=new Int32Array(512),a_=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(p0(XW,e.lens,0,288,i_,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;p0(ZW,e.lens,0,32,a_,0,e.work,{bits:5}),t8=!1}e.lencode=i_,e.lenbits=9,e.distcode=a_,e.distbits=5},sH=(e,t,r,n)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(t.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},t0e=(e,t)=>{let r,n,i,s,o,l,c,u,d,f,h,p,y,m,v=0,g,x,w,j,N,P,k,C;const O=new Uint8Array(4);let I,E;const A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(_h(e)||!e.output||!e.input&&e.avail_in!==0)return ro;r=e.state,r.mode===dc&&(r.mode=t_),o=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,f=l,h=c,C=hh;e:for(;;)switch(r.mode){case oN:if(r.wrap===0){r.mode=t_;break}for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,O[0]=u&255,O[1]=u>>>8&255,r.check=bi(r.check,O,2,0),u=0,d=0,r.mode=MI;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=yn;break}if((u&15)!==OI){e.msg="unknown compression method",r.mode=yn;break}if(u>>>=4,d-=4,k=(u&15)+8,r.wbits===0&&(r.wbits=k),k>15||k>r.wbits){e.msg="invalid window size",r.mode=yn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?UI:dc,u=0,d=0;break;case MI:for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==OI){e.msg="unknown compression method",r.mode=yn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=yn;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,r.check=bi(r.check,O,2,0)),u=0,d=0,r.mode=LI;case LI:for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,O[2]=u>>>16&255,O[3]=u>>>24&255,r.check=bi(r.check,O,4,0)),u=0,d=0,r.mode=II;case II:for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,r.check=bi(r.check,O,2,0)),u=0,d=0,r.mode=DI;case DI:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,r.check=bi(r.check,O,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=RI;case RI:if(r.flags&1024&&(p=r.length,p>l&&(p=l),p&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+p),k)),r.flags&512&&r.wrap&4&&(r.check=bi(r.check,n,p,s)),l-=p,s+=p,r.length-=p),r.length))break e;r.length=0,r.mode=FI;case FI:if(r.flags&2048){if(l===0)break e;p=0;do k=n[s+p++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k));while(k&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=bi(r.check,n,p,s)),l-=p,s+=p,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=$I;case $I:if(r.flags&4096){if(l===0)break e;p=0;do k=n[s+p++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k));while(k&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=bi(r.check,n,p,s)),l-=p,s+=p,k)break e}else r.head&&(r.head.comment=null);r.mode=BI;case BI:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=yn;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=dc;break;case UI:for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}e.adler=r.check=e8(u),u=0,d=0,r.mode=n2;case n2:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=d,Hxe;e.adler=r.check=1,r.mode=dc;case dc:if(t===qxe||t===Qb)break e;case t_:if(r.last){u>>>=d&7,d-=d&7,r.mode=n_;break}for(;d<3;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=zI;break;case 1:if(e0e(r),r.mode=Jb,t===Qb){u>>>=2,d-=2;break e}break;case 2:r.mode=qI;break;case 3:e.msg="invalid block type",r.mode=yn}u>>>=2,d-=2;break;case zI:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=yn;break}if(r.length=u&65535,u=0,d=0,r.mode=r_,t===Qb)break e;case r_:r.mode=VI;case VI:if(p=r.length,p){if(p>l&&(p=l),p>c&&(p=c),p===0)break e;i.set(n.subarray(s,s+p),o),l-=p,s+=p,c-=p,o+=p,r.length-=p;break}r.mode=dc;break;case qI:for(;d<14;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=yn;break}r.have=0,r.mode=WI;case WI:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.lens[A[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,I={bits:r.lenbits},C=p0(Vxe,r.lens,0,19,r.lencode,0,r.work,I),r.lenbits=I.bits,C){e.msg="invalid code lengths set",r.mode=yn;break}r.have=0,r.mode=HI;case HI:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],g=v>>>24,x=v>>>16&255,w=v&65535,!(g<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(w<16)u>>>=g,d-=g,r.lens[r.have++]=w;else{if(w===16){for(E=g+2;d<E;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(u>>>=g,d-=g,r.have===0){e.msg="invalid bit length repeat",r.mode=yn;break}k=r.lens[r.have-1],p=3+(u&3),u>>>=2,d-=2}else if(w===17){for(E=g+3;d<E;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=g,d-=g,k=0,p=3+(u&7),u>>>=3,d-=3}else{for(E=g+7;d<E;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=g,d-=g,k=0,p=11+(u&127),u>>>=7,d-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=yn;break}for(;p--;)r.lens[r.have++]=k}}if(r.mode===yn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=yn;break}if(r.lenbits=9,I={bits:r.lenbits},C=p0(XW,r.lens,0,r.nlen,r.lencode,0,r.work,I),r.lenbits=I.bits,C){e.msg="invalid literal/lengths set",r.mode=yn;break}if(r.distbits=6,r.distcode=r.distdyn,I={bits:r.distbits},C=p0(ZW,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,I),r.distbits=I.bits,C){e.msg="invalid distances set",r.mode=yn;break}if(r.mode=Jb,t===Qb)break e;case Jb:r.mode=e1;case e1:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=d,Rxe(e,h),o=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,r.mode===dc&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],g=v>>>24,x=v>>>16&255,w=v&65535,!(g<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(x&&!(x&240)){for(j=g,N=x,P=w;v=r.lencode[P+((u&(1<<j+N)-1)>>j)],g=v>>>24,x=v>>>16&255,w=v&65535,!(j+g<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=j,d-=j,r.back+=j}if(u>>>=g,d-=g,r.back+=g,r.length=w,x===0){r.mode=ZI;break}if(x&32){r.back=-1,r.mode=dc;break}if(x&64){e.msg="invalid literal/length code",r.mode=yn;break}r.extra=x&15,r.mode=KI;case KI:if(r.extra){for(E=r.extra;d<E;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=GI;case GI:for(;v=r.distcode[u&(1<<r.distbits)-1],g=v>>>24,x=v>>>16&255,w=v&65535,!(g<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(!(x&240)){for(j=g,N=x,P=w;v=r.distcode[P+((u&(1<<j+N)-1)>>j)],g=v>>>24,x=v>>>16&255,w=v&65535,!(j+g<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=j,d-=j,r.back+=j}if(u>>>=g,d-=g,r.back+=g,x&64){e.msg="invalid distance code",r.mode=yn;break}r.offset=w,r.extra=x&15,r.mode=YI;case YI:if(r.extra){for(E=r.extra;d<E;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=yn;break}r.mode=XI;case XI:if(c===0)break e;if(p=h-c,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=yn;break}p>r.wnext?(p-=r.wnext,y=r.wsize-p):y=r.wnext-p,p>r.length&&(p=r.length),m=r.window}else m=i,y=o-r.offset,p=r.length;p>c&&(p=c),c-=p,r.length-=p;do i[o++]=m[y++];while(--p);r.length===0&&(r.mode=e1);break;case ZI:if(c===0)break e;i[o++]=r.length,c--,r.mode=e1;break;case n_:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[s++]<<d,d+=8}if(h-=c,e.total_out+=h,r.total+=h,r.wrap&4&&h&&(e.adler=r.check=r.flags?bi(r.check,i,h,o-h):uy(r.check,i,h,o-h)),h=c,r.wrap&4&&(r.flags?u:e8(u))!==r.check){e.msg="incorrect data check",r.mode=yn;break}u=0,d=0}r.mode=QI;case QI:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=yn;break}u=0,d=0}r.mode=JI;case JI:C=Wxe;break e;case yn:C=QW;break e;case eH:return JW;case tH:default:return ro}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=d,(r.wsize||h!==e.avail_out&&r.mode<yn&&(r.mode<n_||t!==EI))&&sH(e,e.output,e.next_out,h-e.avail_out),f-=e.avail_in,h-=e.avail_out,e.total_in+=f,e.total_out+=h,r.total+=h,r.wrap&4&&h&&(e.adler=r.check=r.flags?bi(r.check,i,h,e.next_out-h):uy(r.check,i,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(r.mode===dc?128:0)+(r.mode===Jb||r.mode===r_?256:0),(f===0&&h===0||t===EI)&&C===hh&&(C=Kxe),C},r0e=e=>{if(_h(e))return ro;let t=e.state;return t.window&&(t.window=null),e.state=null,hh},n0e=(e,t)=>{if(_h(e))return ro;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,hh):ro},i0e=(e,t)=>{const r=t.length;let n,i,s;return _h(e)||(n=e.state,n.wrap!==0&&n.mode!==n2)?ro:n.mode===n2&&(i=1,i=uy(i,t,r,0),i!==n.check)?QW:(s=sH(e,t,r,r),s?(n.mode=eH,JW):(n.havedict=1,hh))};var a0e=nH,s0e=iH,o0e=rH,l0e=Jxe,c0e=aH,u0e=t0e,d0e=r0e,f0e=n0e,h0e=i0e,p0e="pako inflate (from Nodeca project)",vc={inflateReset:a0e,inflateReset2:s0e,inflateResetKeep:o0e,inflateInit:l0e,inflateInit2:c0e,inflate:u0e,inflateEnd:d0e,inflateGetHeader:f0e,inflateSetDictionary:h0e,inflateInfo:p0e};function m0e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var g0e=m0e;const oH=Object.prototype.toString,{Z_NO_FLUSH:x0e,Z_FINISH:y0e,Z_OK:hy,Z_STREAM_END:s_,Z_NEED_DICT:o_,Z_STREAM_ERROR:v0e,Z_DATA_ERROR:r8,Z_MEM_ERROR:b0e}=Nv;function _v(e){this.options=sN.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new GW,this.strm.avail_out=0;let r=vc.inflateInit2(this.strm,t.windowBits);if(r!==hy)throw new Error(Tm[r]);if(this.header=new g0e,vc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=fy.string2buf(t.dictionary):oH.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=vc.inflateSetDictionary(this.strm,t.dictionary),r!==hy)))throw new Error(Tm[r])}_v.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?y0e:x0e,oH.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=vc.inflate(r,o),s===o_&&i&&(s=vc.inflateSetDictionary(r,i),s===hy?s=vc.inflate(r,o):s===r8&&(s=o_));r.avail_in>0&&s===s_&&r.state.wrap>0&&e[r.next_in]!==0;)vc.inflateReset(r),s=vc.inflate(r,o);switch(s){case v0e:case r8:case o_:case b0e:return this.onEnd(s),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||s===s_))if(this.options.to==="string"){let c=fy.utf8border(r.output,r.next_out),u=r.next_out-c,d=fy.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===hy&&l===0)){if(s===s_)return s=vc.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};_v.prototype.onData=function(e){this.chunks.push(e)};_v.prototype.onEnd=function(e){e===hy&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=sN.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function oT(e,t){const r=new _v(t);if(r.push(e),r.err)throw r.msg||Tm[r.err];return r.result}function w0e(e,t){return t=t||{},t.raw=!0,oT(e,t)}var j0e=_v,N0e=oT,S0e=w0e,_0e=oT,P0e=Nv,A0e={Inflate:j0e,inflate:N0e,inflateRaw:S0e,ungzip:_0e,constants:P0e};const{Inflate:k0e,inflate:C0e,inflateRaw:hUe,ungzip:pUe}=A0e;var n8=k0e,T0e=C0e;const lH=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;lH[e]=t}const i8=4294967295;function E0e(e,t,r){let n=e;for(let i=0;i<r;i++)n=lH[(n^t[i])&255]^n>>>8;return n}function O0e(e,t){return(E0e(i8,e,t)^i8)>>>0}function a8(e,t,r){const n=e.readUint32(),i=O0e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function cH(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function uH(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function dH(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function fH(e,t,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+(t[s-i]>>1)&255}else{for(;s<i;s++)t[s]=e[s]+(r[s]>>1)&255;for(;s<n;s++)t[s]=e[s]+(t[s-i]+r[s]>>1)&255}}function hH(e,t,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-i]&255}else{for(;s<i;s++)t[s]=e[s]+r[s]&255;for(;s<n;s++)t[s]=e[s]+M0e(t[s-i],r[s],r[s-i])&255}}function M0e(e,t,r){const n=e+t-r,i=Math.abs(n-e),s=Math.abs(n-t),o=Math.abs(n-r);return i<=s&&i<=o?e:s<=o?t:r}function L0e(e,t,r,n,i,s){switch(e){case 0:cH(t,r,i);break;case 1:uH(t,r,i,s);break;case 2:dH(t,r,n,i);break;case 3:fH(t,r,n,i,s);break;case 4:hH(t,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const I0e=new Uint16Array([255]),D0e=new Uint8Array(I0e.buffer),R0e=D0e[0]===255;function F0e(e){const{data:t,width:r,height:n,channels:i,depth:s}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*i,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const f=o[d],h=Math.ceil((r-f.x)/f.xStep),p=Math.ceil((n-f.y)/f.yStep);if(h<=0||p<=0)continue;const y=h*l,m=new Uint8Array(y);for(let v=0;v<p;v++){const g=t[u++],x=t.subarray(u,u+y);u+=y;const w=new Uint8Array(y);L0e(g,x,w,m,y,l),m.set(w);for(let j=0;j<h;j++){const N=f.x+j*f.xStep,P=f.y+v*f.yStep;if(!(N>=r||P>=n))for(let k=0;k<l;k++)c[(P*r+N)*l+k]=w[j*l+k]}}}if(s===16){const d=new Uint16Array(c.buffer);if(R0e)for(let f=0;f<d.length;f++)d[f]=$0e(d[f]);return d}else return c}function $0e(e){return(e&255)<<8|e>>8&255}const B0e=new Uint16Array([255]),U0e=new Uint8Array(B0e.buffer),z0e=U0e[0]===255,V0e=new Uint8Array(0);function s8(e){const{data:t,width:r,height:n,channels:i,depth:s}=e,o=Math.ceil(s/8)*i,l=Math.ceil(s/8*i*r),c=new Uint8Array(n*l);let u=V0e,d=0,f,h;for(let p=0;p<n;p++){switch(f=t.subarray(d+1,d+1+l),h=c.subarray(p*l,(p+1)*l),t[d]){case 0:cH(f,h,l);break;case 1:uH(f,h,l,o);break;case 2:dH(f,h,u,l);break;case 3:fH(f,h,u,l,o);break;case 4:hH(f,h,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=h,d+=l+1}if(s===16){const p=new Uint16Array(c.buffer);if(z0e)for(let y=0;y<p.length;y++)p[y]=q0e(p[y]);return p}else return c}function q0e(e){return(e&255)<<8|e>>8&255}const K1=Uint8Array.of(137,80,78,71,13,10,26,10);function o8(e){if(!W0e(e.readBytes(K1.length)))throw new Error("wrong PNG signature")}function W0e(e){if(e.length<K1.length)return!1;for(let t=0;t<K1.length;t++)if(e[t]!==K1[t])return!1;return!0}const H0e="tEXt",K0e=0,pH=new TextDecoder("latin1");function G0e(e){if(X0e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Y0e=/^[\u0000-\u00FF]*$/;function X0e(e){if(!Y0e.test(e))throw new Error("invalid latin1 text")}function Z0e(e,t,r){const n=mH(t);e[n]=Q0e(t,r-n.length-1)}function mH(e){for(e.mark();e.readByte()!==K0e;);const t=e.offset;e.reset();const r=pH.decode(e.readBytes(t-e.offset-1));return e.skip(1),G0e(r),r}function Q0e(e,t){return pH.decode(e.readBytes(t))}const Za={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},l_={UNKNOWN:-1,DEFLATE:0},l8={UNKNOWN:-1,ADAPTIVE:0},c_={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},t1={NONE:0,BACKGROUND:1,PREVIOUS:2},u_={SOURCE:0,OVER:1};class J0e extends eT{constructor(r,n={}){super(r);ur(this,"_checkCrc");ur(this,"_inflator");ur(this,"_png");ur(this,"_apng");ur(this,"_end");ur(this,"_hasPalette");ur(this,"_palette");ur(this,"_hasTransparency");ur(this,"_transparency");ur(this,"_compressionMethod");ur(this,"_filterMethod");ur(this,"_interlaceMethod");ur(this,"_colorType");ur(this,"_isAnimated");ur(this,"_numberOfFrames");ur(this,"_numberOfPlays");ur(this,"_frames");ur(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new n8,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=l_.UNKNOWN,this._filterMethod=l8.UNKNOWN,this._interlaceMethod=c_.UNKNOWN,this._colorType=Za.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(o8(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(o8(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case H0e:Z0e(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?a8(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?a8(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=eye(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Za.GREYSCALE:i=1;break;case Za.TRUECOLOUR:i=3;break;case Za.INDEXED_COLOUR:i=1;break;case Za.GREYSCALE_ALPHA:i=2;break;case Za.TRUECOLOUR_ALPHA:i=4;break;case Za.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==l_.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Za.GREYSCALE:case Za.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Za.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Za.UNKNOWN:case Za.GREYSCALE_ALPHA:case Za.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=mH(this),i=this.readUint8();if(i!==l_.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:T0e(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=s8({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case t1.NONE:break;case t1.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const l=(s*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case t1.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case u_.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(o,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[u+d]}break;case u_.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(o,l);for(let d=0;d<this._png.channels;d++){const f=n.data[u+this._png.channels-1]/i,h=d%(this._png.channels-1)===0?1:n.data[u+d],p=Math.floor(f*h+(1-f)*r.data[c+d]);r.data[c+d]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==l8.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===c_.NO_INTERLACE)this._png.data=s8({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===c_.ADAM7)this._png.data=F0e({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:t1.NONE,blendOp:u_.SOURCE,data:r}),this._inflator=new n8,this._writingDataChunks=!1}}function eye(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var c8;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(c8||(c8={}));function tye(e,t){return new J0e(e,t).decode()}var Ut=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function d_(){Ut.console&&typeof Ut.console.log=="function"&&Ut.console.log.apply(Ut.console,arguments)}var nn={log:d_,warn:function(e){Ut.console&&(typeof Ut.console.warn=="function"?Ut.console.warn.apply(Ut.console,arguments):d_.call(null,arguments))},error:function(e){Ut.console&&(typeof Ut.console.error=="function"?Ut.console.error.apply(Ut.console,arguments):d_(e))}};function f_(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){xf(n.response,t,r)},n.onerror=function(){nn.error("could not download file")},n.send()}function u8(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function r1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var xf=Ut.saveAs||((typeof window>"u"?"undefined":qr(window))!=="object"||window!==Ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Ut.URL||Ut.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?u8(i.href)?f_(e,t,r):r1(i,i.target="_blank"):r1(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){r1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(u8(e))f_(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){r1(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:qr(s)!=="object"&&(nn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return f_(e,t,r);var i=e.type==="application/octet-stream",s=/constructor/i.test(Ut.HTMLElement)||Ut.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":qr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=Ut.URL||Ut.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function gH(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var G1=Ut.atob.bind(Ut),d8=Ut.btoa.bind(Ut);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function h_(e,t){var r=e[0],n=e[1],i=e[2],s=e[3];r=Gi(r,n,i,s,t[0],7,-680876936),s=Gi(s,r,n,i,t[1],12,-389564586),i=Gi(i,s,r,n,t[2],17,606105819),n=Gi(n,i,s,r,t[3],22,-1044525330),r=Gi(r,n,i,s,t[4],7,-176418897),s=Gi(s,r,n,i,t[5],12,1200080426),i=Gi(i,s,r,n,t[6],17,-1473231341),n=Gi(n,i,s,r,t[7],22,-45705983),r=Gi(r,n,i,s,t[8],7,1770035416),s=Gi(s,r,n,i,t[9],12,-1958414417),i=Gi(i,s,r,n,t[10],17,-42063),n=Gi(n,i,s,r,t[11],22,-1990404162),r=Gi(r,n,i,s,t[12],7,1804603682),s=Gi(s,r,n,i,t[13],12,-40341101),i=Gi(i,s,r,n,t[14],17,-1502002290),r=Yi(r,n=Gi(n,i,s,r,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Yi(s,r,n,i,t[6],9,-1069501632),i=Yi(i,s,r,n,t[11],14,643717713),n=Yi(n,i,s,r,t[0],20,-373897302),r=Yi(r,n,i,s,t[5],5,-701558691),s=Yi(s,r,n,i,t[10],9,38016083),i=Yi(i,s,r,n,t[15],14,-660478335),n=Yi(n,i,s,r,t[4],20,-405537848),r=Yi(r,n,i,s,t[9],5,568446438),s=Yi(s,r,n,i,t[14],9,-1019803690),i=Yi(i,s,r,n,t[3],14,-187363961),n=Yi(n,i,s,r,t[8],20,1163531501),r=Yi(r,n,i,s,t[13],5,-1444681467),s=Yi(s,r,n,i,t[2],9,-51403784),i=Yi(i,s,r,n,t[7],14,1735328473),r=Xi(r,n=Yi(n,i,s,r,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Xi(s,r,n,i,t[8],11,-2022574463),i=Xi(i,s,r,n,t[11],16,1839030562),n=Xi(n,i,s,r,t[14],23,-35309556),r=Xi(r,n,i,s,t[1],4,-1530992060),s=Xi(s,r,n,i,t[4],11,1272893353),i=Xi(i,s,r,n,t[7],16,-155497632),n=Xi(n,i,s,r,t[10],23,-1094730640),r=Xi(r,n,i,s,t[13],4,681279174),s=Xi(s,r,n,i,t[0],11,-358537222),i=Xi(i,s,r,n,t[3],16,-722521979),n=Xi(n,i,s,r,t[6],23,76029189),r=Xi(r,n,i,s,t[9],4,-640364487),s=Xi(s,r,n,i,t[12],11,-421815835),i=Xi(i,s,r,n,t[15],16,530742520),r=Zi(r,n=Xi(n,i,s,r,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Zi(s,r,n,i,t[7],10,1126891415),i=Zi(i,s,r,n,t[14],15,-1416354905),n=Zi(n,i,s,r,t[5],21,-57434055),r=Zi(r,n,i,s,t[12],6,1700485571),s=Zi(s,r,n,i,t[3],10,-1894986606),i=Zi(i,s,r,n,t[10],15,-1051523),n=Zi(n,i,s,r,t[1],21,-2054922799),r=Zi(r,n,i,s,t[8],6,1873313359),s=Zi(s,r,n,i,t[15],10,-30611744),i=Zi(i,s,r,n,t[6],15,-1560198380),n=Zi(n,i,s,r,t[13],21,1309151649),r=Zi(r,n,i,s,t[4],6,-145523070),s=Zi(s,r,n,i,t[11],10,-1120210379),i=Zi(i,s,r,n,t[2],15,718787259),n=Zi(n,i,s,r,t[9],21,-343485551),e[0]=Zu(r,e[0]),e[1]=Zu(n,e[1]),e[2]=Zu(i,e[2]),e[3]=Zu(s,e[3])}function lN(e,t,r,n,i,s){return t=Zu(Zu(t,e),Zu(n,s)),Zu(t<<i|t>>>32-i,r)}function Gi(e,t,r,n,i,s,o){return lN(t&r|~t&n,e,t,i,s,o)}function Yi(e,t,r,n,i,s,o){return lN(t&n|r&~n,e,t,i,s,o)}function Xi(e,t,r,n,i,s,o){return lN(t^r^n,e,t,i,s,o)}function Zi(e,t,r,n,i,s,o){return lN(r^(t|~n),e,t,i,s,o)}function xH(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)h_(n,rye(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(h_(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,h_(n,i),n}function rye(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var f8="0123456789abcdef".split("");function nye(e){for(var t="",r=0;r<4;r++)t+=f8[e>>8*r+4&15]+f8[e>>8*r&15];return t}function iye(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function dk(e){return xH(e).map(iye).join("")}var aye=function(e){for(var t=0;t<e.length;t++)e[t]=nye(e[t]);return e.join("")}(xH("hello"))!="5d41402abc4b2a76b9719d911017c592";function Zu(e,t){if(aye){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function fk(e,t){var r,n,i,s;if(e!==r){for(var o=(i=e,s=1+(256/e.length|0),new Array(s+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var f=t.length,h=0,p=0,y="";for(c=0;c<f;c++)p=(p+(d=l[h=(h+1)%256]))%256,l[h]=l[p],l[p]=d,o=l[(l[h]+l[p])%256],y+=String.fromCharCode(t.charCodeAt(c)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var h8={print:4,modify:8,copy:16,"annot-forms":32};function op(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(h8.perm!==void 0)throw new Error("Invalid permission: "+l);i+=h8[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=dk(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=fk(this.encryptionKey,this.padding)}function lp(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function p8(e){if(qr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[r]){var o=t[r][s];try{o[0].apply(e,n)}catch(l){Ut.console&&nn.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function i2(e){if(!(this instanceof i2))return new i2(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function yH(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Sf(e,t,r,n,i){if(!(this instanceof Sf))return new Sf(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,yH.call(this,n,i)}function Ap(e,t,r,n,i){if(!(this instanceof Ap))return new Ap(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,yH.call(this,n,i)}function At(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],o=[],l=1,c=16,u="S",d=null;qr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=p8;var y="1.3",m=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(T){y=T};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var g=p.__private__.getPageFormat=function(T){return v[T]};i=i||"a4";var x="compat",w="advanced",j=x;function N(){this.saveGraphicsState(),V(new Lt(dt,0,0,-dt,0,Zd()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),u="n",j=w}function P(){this.restoreGraphicsState(),u="S",j=x}var k=p.__private__.combineFontStyleAndFontWeight=function(T,U){if(T=="bold"&&U=="normal"||T=="bold"&&U==400||T=="normal"&&U=="italic"||T=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(T=U==400||U==="normal"?T==="italic"?"italic":"normal":U!=700&&U!=="bold"||T!=="normal"?(U==700?"bold":U)+""+T:"bold"),T};p.advancedAPI=function(T){var U=j===x;return U&&N.call(this),typeof T!="function"||(T(this),U&&P.call(this)),this},p.compatAPI=function(T){var U=j===w;return U&&P.call(this),typeof T!="function"||(T(this),U&&N.call(this)),this},p.isAdvancedAPI=function(){return j===w};var C,O=function(T){if(j!==w)throw new Error(T+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=p.roundToPrecision=p.__private__.roundToPrecision=function(T,U){var re=t||U;if(isNaN(T)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return T.toFixed(re).replace(/0+$/,"")};C=p.hpf=p.__private__.hpf=typeof c=="number"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return I(T,c)}:c==="smart"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return I(T,T>-1&&T<1?16:5)}:function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return I(T,16)};var E=p.f2=p.__private__.f2=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f2");return I(T,2)},A=p.__private__.f3=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f3");return I(T,3)},D=p.scale=p.__private__.scale=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.scale");return j===x?T*dt:j===w?T:void 0},R=function(T){return D(function(U){return j===x?Zd()-U:j===w?U:void 0}(T))};p.__private__.setPrecision=p.setPrecision=function(T){typeof parseInt(T,10)=="number"&&(t=parseInt(T,10))};var G,F="00000000000000000000000000000000",q=p.__private__.getFileId=function(){return F},B=p.__private__.setFileId=function(T){return F=T!==void 0&&/^[a-fA-F0-9]{32}$/.test(T)?T.toUpperCase():F.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Fn=new op(d.userPermissions,d.userPassword,d.ownerPassword,F)),F};p.setFileId=function(T){return B(T),this},p.getFileId=function(){return q()};var Z=p.__private__.convertDateToPDFDate=function(T){var U=T.getTimezoneOffset(),re=U<0?"+":"-",ue=Math.floor(Math.abs(U/60)),we=Math.abs(U%60),Oe=[re,J(ue),"'",J(we),"'"].join("");return["D:",T.getFullYear(),J(T.getMonth()+1),J(T.getDate()),J(T.getHours()),J(T.getMinutes()),J(T.getSeconds()),Oe].join("")},le=p.__private__.convertPDFDateToDate=function(T){var U=parseInt(T.substr(2,4),10),re=parseInt(T.substr(6,2),10)-1,ue=parseInt(T.substr(8,2),10),we=parseInt(T.substr(10,2),10),Oe=parseInt(T.substr(12,2),10),ze=parseInt(T.substr(14,2),10);return new Date(U,re,ue,we,Oe,ze,0)},fe=p.__private__.setCreationDate=function(T){var U;if(T===void 0&&(T=new Date),T instanceof Date)U=Z(T);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(T))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=T}return G=U},$=p.__private__.getCreationDate=function(T){var U=G;return T==="jsDate"&&(U=le(G)),U};p.setCreationDate=function(T){return fe(T),this},p.getCreationDate=function(T){return $(T)};var Y,J=p.__private__.padd2=function(T){return("0"+parseInt(T)).slice(-2)},ae=p.__private__.padd2Hex=function(T){return("00"+(T=T.toString())).substr(T.length)},de=0,ce=[],be=[],oe=0,ye=[],je=[],pe=!1,Ne=be;p.__private__.setCustomOutputDestination=function(T){pe=!0,Ne=T};var xe=function(T){pe||(Ne=T)};p.__private__.resetCustomOutputDestination=function(){pe=!1,Ne=be};var V=p.__private__.out=function(T){return T=T.toString(),oe+=T.length+1,Ne.push(T),Ne},Ve=p.__private__.write=function(T){return V(arguments.length===1?T.toString():Array.prototype.join.call(arguments," "))},Ze=p.__private__.getArrayBuffer=function(T){for(var U=T.length,re=new ArrayBuffer(U),ue=new Uint8Array(re);U--;)ue[U]=T.charCodeAt(U);return re},it=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return it};var De=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(T){return De=j===w?T/dt:T,this};var pt,Je=p.__private__.getFontSize=p.getFontSize=function(){return j===x?De:De*dt},ne=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(T){return ne=T,this},p.__private__.getR2L=p.getR2L=function(){return ne};var me,Ae=p.__private__.setZoomMode=function(T){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(T))pt=T;else if(isNaN(T)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(T)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+T+'" is not recognized.');pt=T}else pt=parseInt(T,10)};p.__private__.getZoomMode=function(){return pt};var Re,Le=p.__private__.setPageMode=function(T){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(T)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+T+'" is not recognized.');me=T};p.__private__.getPageMode=function(){return me};var Fe=p.__private__.setLayoutMode=function(T){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(T)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+T+'" is not recognized.');Re=T};p.__private__.getLayoutMode=function(){return Re},p.__private__.setDisplayMode=p.setDisplayMode=function(T,U,re){return Ae(T),Fe(U),Le(re),this};var Ue={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(T){if(Object.keys(Ue).indexOf(T)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ue[T]},p.__private__.getDocumentProperties=function(){return Ue},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(T){for(var U in Ue)Ue.hasOwnProperty(U)&&T[U]&&(Ue[U]=T[U]);return this},p.__private__.setDocumentProperty=function(T,U){if(Object.keys(Ue).indexOf(T)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ue[T]=U};var Qe,dt,ot,Yr,pr,yt={},Wt={},Or=[],Ot={},cr={},er={},Rn={},ai=null,en=0,Ht=[],Mr=new p8(p),$d=e.hotfixes||[],Vi={},Gl={},tl=[],Lt=function T(U,re,ue,we,Oe,ze){if(!(this instanceof T))return new T(U,re,ue,we,Oe,ze);isNaN(U)&&(U=1),isNaN(re)&&(re=0),isNaN(ue)&&(ue=0),isNaN(we)&&(we=1),isNaN(Oe)&&(Oe=0),isNaN(ze)&&(ze=0),this._matrix=[U,re,ue,we,Oe,ze]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Lt.prototype.join=function(T){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(T)},Lt.prototype.multiply=function(T){var U=T.sx*this.sx+T.shy*this.shx,re=T.sx*this.shy+T.shy*this.sy,ue=T.shx*this.sx+T.sy*this.shx,we=T.shx*this.shy+T.sy*this.sy,Oe=T.tx*this.sx+T.ty*this.shx+this.tx,ze=T.tx*this.shy+T.ty*this.sy+this.ty;return new Lt(U,re,ue,we,Oe,ze)},Lt.prototype.decompose=function(){var T=this.sx,U=this.shy,re=this.shx,ue=this.sy,we=this.tx,Oe=this.ty,ze=Math.sqrt(T*T+U*U),xt=(T/=ze)*re+(U/=ze)*ue;re-=T*xt,ue-=U*xt;var Nt=Math.sqrt(re*re+ue*ue);return xt/=Nt,T*(ue/=Nt)<U*(re/=Nt)&&(T=-T,U=-U,xt=-xt,ze=-ze),{scale:new Lt(ze,0,0,Nt,0,0),translate:new Lt(1,0,0,1,we,Oe),rotate:new Lt(T,U,-U,T,0,0),skew:new Lt(1,0,xt,1,0,0)}},Lt.prototype.toString=function(T){return this.join(" ")},Lt.prototype.inversed=function(){var T=this.sx,U=this.shy,re=this.shx,ue=this.sy,we=this.tx,Oe=this.ty,ze=1/(T*ue-U*re),xt=ue*ze,Nt=-U*ze,Vt=-re*ze,Zt=T*ze;return new Lt(xt,Nt,Vt,Zt,-xt*we-Vt*Oe,-Nt*we-Zt*Oe)},Lt.prototype.applyToPoint=function(T){var U=T.x*this.sx+T.y*this.shx+this.tx,re=T.x*this.shy+T.y*this.sy+this.ty;return new Yd(U,re)},Lt.prototype.applyToRectangle=function(T){var U=this.applyToPoint(T),re=this.applyToPoint(new Yd(T.x+T.w,T.y+T.h));return new zg(U.x,U.y,re.x-U.x,re.y-U.y)},Lt.prototype.clone=function(){var T=this.sx,U=this.shy,re=this.shx,ue=this.sy,we=this.tx,Oe=this.ty;return new Lt(T,U,re,ue,we,Oe)},p.Matrix=Lt;var Yl=p.matrixMult=function(T,U){return U.multiply(T)},Xl=new Lt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Xl;var Ns=function(T,U){if(!cr[T]){var re=(U instanceof Sf?"Sh":"P")+(Object.keys(Ot).length+1).toString(10);U.id=re,cr[T]=re,Ot[re]=U,Mr.publish("addPattern",U)}};p.ShadingPattern=Sf,p.TilingPattern=Ap,p.addShadingPattern=function(T,U){return O("addShadingPattern()"),Ns(T,U),this},p.beginTilingPattern=function(T){O("beginTilingPattern()"),Vg(T.boundingBox[0],T.boundingBox[1],T.boundingBox[2]-T.boundingBox[0],T.boundingBox[3]-T.boundingBox[1],T.matrix)},p.endTilingPattern=function(T,U){O("endTilingPattern()"),U.stream=je[Y].join(`
`),Ns(T,U),Mr.publish("endTilingPattern",U),tl.pop().restore()};var Ss,kn=p.__private__.newObject=function(){var T=vi();return Ci(T,!0),T},vi=p.__private__.newObjectDeferred=function(){return de++,ce[de]=function(){return oe},de},Ci=function(T,U){return U=typeof U=="boolean"&&U,ce[T]=oe,U&&V(T+" 0 obj"),T},Bd=p.__private__.newAdditionalObject=function(){var T={objId:vi(),content:""};return ye.push(T),T},au=vi(),lo=vi(),rl=p.__private__.decodeColorString=function(T){var U=T.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length!==5||U[4]!=="k"&&U[4]!=="K"||(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var re=parseFloat(U[0]);U=[re,re,re,"r"]}for(var ue="#",we=0;we<3;we++)ue+=("0"+Math.floor(255*parseFloat(U[we])).toString(16)).slice(-2);return ue},co=p.__private__.encodeColorString=function(T){var U;typeof T=="string"&&(T={ch1:T});var re=T.ch1,ue=T.ch2,we=T.ch3,Oe=T.ch4,ze=T.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var xt=new gH(re);if(xt.ok)re=xt.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var Nt=parseInt(re.substr(1),16);re=Nt>>16&255,ue=Nt>>8&255,we=255&Nt}if(ue===void 0||Oe===void 0&&re===ue&&ue===we)U=typeof re=="string"?re+" "+ze[0]:T.precision===2?E(re/255)+" "+ze[0]:A(re/255)+" "+ze[0];else if(Oe===void 0||qr(Oe)==="object"){if(Oe&&!isNaN(Oe.a)&&Oe.a===0)return["1.","1.","1.",ze[1]].join(" ");U=typeof re=="string"?[re,ue,we,ze[1]].join(" "):T.precision===2?[E(re/255),E(ue/255),E(we/255),ze[1]].join(" "):[A(re/255),A(ue/255),A(we/255),ze[1]].join(" ")}else U=typeof re=="string"?[re,ue,we,Oe,ze[2]].join(" "):T.precision===2?[E(re),E(ue),E(we),E(Oe),ze[2]].join(" "):[A(re),A(ue),A(we),A(Oe),ze[2]].join(" ");return U},uo=p.__private__.getFilters=function(){return o},_s=p.__private__.putStream=function(T){var U=(T=T||{}).data||"",re=T.filters||uo(),ue=T.alreadyAppliedFilters||[],we=T.addLength1||!1,Oe=U.length,ze=T.objectId,xt=function(si){return si};if(d!==null&&ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(xt=Fn.encryptor(ze,0));var Nt={};re===!0&&(re=["FlateEncode"]);var Vt=T.additionalKeyValues||[],Zt=(Nt=At.API.processDataByFilters!==void 0?At.API.processDataByFilters(U,re):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(ue)?ue.join(" "):ue.toString());if(Nt.data.length!==0&&(Vt.push({key:"Length",value:Nt.data.length}),we===!0&&Vt.push({key:"Length1",value:Oe})),Zt.length!=0)if(Zt.split("/").length-1==1)Vt.push({key:"Filter",value:Zt});else{Vt.push({key:"Filter",value:"["+Zt+"]"});for(var Cr=0;Cr<Vt.length;Cr+=1)if(Vt[Cr].key==="DecodeParms"){for(var wn=[],ei=0;ei<Nt.reverseChain.split("/").length-1;ei+=1)wn.push("null");wn.push(Vt[Cr].value),Vt[Cr].value="["+wn.join(" ")+"]"}}V("<<");for(var on=0;on<Vt.length;on++)V("/"+Vt[on].key+" "+Vt[on].value);V(">>"),Nt.data.length!==0&&(V("stream"),V(xt(Nt.data)),V("endstream"))},Ud=p.__private__.putPage=function(T){var U=T.number,re=T.data,ue=T.objId,we=T.contentsObjId;Ci(ue,!0),V("<</Type /Page"),V("/Parent "+T.rootDictionaryObjId+" 0 R"),V("/Resources "+T.resourceDictionaryObjId+" 0 R"),V("/MediaBox ["+parseFloat(C(T.mediaBox.bottomLeftX))+" "+parseFloat(C(T.mediaBox.bottomLeftY))+" "+C(T.mediaBox.topRightX)+" "+C(T.mediaBox.topRightY)+"]"),T.cropBox!==null&&V("/CropBox ["+C(T.cropBox.bottomLeftX)+" "+C(T.cropBox.bottomLeftY)+" "+C(T.cropBox.topRightX)+" "+C(T.cropBox.topRightY)+"]"),T.bleedBox!==null&&V("/BleedBox ["+C(T.bleedBox.bottomLeftX)+" "+C(T.bleedBox.bottomLeftY)+" "+C(T.bleedBox.topRightX)+" "+C(T.bleedBox.topRightY)+"]"),T.trimBox!==null&&V("/TrimBox ["+C(T.trimBox.bottomLeftX)+" "+C(T.trimBox.bottomLeftY)+" "+C(T.trimBox.topRightX)+" "+C(T.trimBox.topRightY)+"]"),T.artBox!==null&&V("/ArtBox ["+C(T.artBox.bottomLeftX)+" "+C(T.artBox.bottomLeftY)+" "+C(T.artBox.topRightX)+" "+C(T.artBox.topRightY)+"]"),typeof T.userUnit=="number"&&T.userUnit!==1&&V("/UserUnit "+T.userUnit),Mr.publish("putPage",{objId:ue,pageContext:Ht[U],pageNumber:U,page:re}),V("/Contents "+we+" 0 R"),V(">>"),V("endobj");var Oe=re.join(`
`);return j===w&&(Oe+=`
Q`),Ci(we,!0),_s({data:Oe,filters:uo(),objectId:we}),V("endobj"),ue},nl=p.__private__.putPages=function(){var T,U,re=[];for(T=1;T<=en;T++)Ht[T].objId=vi(),Ht[T].contentsObjId=vi();for(T=1;T<=en;T++)re.push(Ud({number:T,data:je[T],objId:Ht[T].objId,contentsObjId:Ht[T].contentsObjId,mediaBox:Ht[T].mediaBox,cropBox:Ht[T].cropBox,bleedBox:Ht[T].bleedBox,trimBox:Ht[T].trimBox,artBox:Ht[T].artBox,userUnit:Ht[T].userUnit,rootDictionaryObjId:au,resourceDictionaryObjId:lo}));Ci(au,!0),V("<</Type /Pages");var ue="/Kids [";for(U=0;U<en;U++)ue+=re[U]+" 0 R ";V(ue+"]"),V("/Count "+en),V(">>"),V("endobj"),Mr.publish("postPutPages")},zd=function(T){Mr.publish("putFont",{font:T,out:V,newObject:kn,putStream:_s}),T.isAlreadyPutted!==!0&&(T.objectNumber=kn(),V("<<"),V("/Type /Font"),V("/BaseFont /"+lp(T.postScriptName)),V("/Subtype /Type1"),typeof T.encoding=="string"&&V("/Encoding /"+T.encoding),V("/FirstChar 32"),V("/LastChar 255"),V(">>"),V("endobj"))},Oh=function(T){T.objectNumber=kn();var U=[];U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Form"}),U.push({key:"BBox",value:"["+[C(T.x),C(T.y),C(T.x+T.width),C(T.y+T.height)].join(" ")+"]"}),U.push({key:"Matrix",value:"["+T.matrix.toString()+"]"});var re=T.pages[1].join(`
`);_s({data:re,additionalKeyValues:U,objectId:T.objectNumber}),V("endobj")},Mh=function(T,U){U||(U=21);var re=kn(),ue=function(ze,xt){var Nt,Vt=[],Zt=1/(xt-1);for(Nt=0;Nt<1;Nt+=Zt)Vt.push(Nt);if(Vt.push(1),ze[0].offset!=0){var Cr={offset:0,color:ze[0].color};ze.unshift(Cr)}if(ze[ze.length-1].offset!=1){var wn={offset:1,color:ze[ze.length-1].color};ze.push(wn)}for(var ei="",on=0,si=0;si<Vt.length;si++){for(Nt=Vt[si];Nt>ze[on+1].offset;)on++;var ti=ze[on].offset,Ti=(Nt-ti)/(ze[on+1].offset-ti),As=ze[on].color,_a=ze[on+1].color;ei+=ae(Math.round((1-Ti)*As[0]+Ti*_a[0]).toString(16))+ae(Math.round((1-Ti)*As[1]+Ti*_a[1]).toString(16))+ae(Math.round((1-Ti)*As[2]+Ti*_a[2]).toString(16))}return ei.trim()}(T.colors,U),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+U+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_s({data:ue,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),V("endobj"),T.objectNumber=kn(),V("<< /ShadingType "+T.type),V("/ColorSpace /DeviceRGB");var Oe="/Coords ["+C(parseFloat(T.coords[0]))+" "+C(parseFloat(T.coords[1]))+" ";T.type===2?Oe+=C(parseFloat(T.coords[2]))+" "+C(parseFloat(T.coords[3])):Oe+=C(parseFloat(T.coords[2]))+" "+C(parseFloat(T.coords[3]))+" "+C(parseFloat(T.coords[4]))+" "+C(parseFloat(T.coords[5])),V(Oe+="]"),T.matrix&&V("/Matrix ["+T.matrix.toString()+"]"),V("/Function "+re+" 0 R"),V("/Extend [true true]"),V(">>"),V("endobj")},Lh=function(T,U){var re=vi(),ue=kn();U.push({resourcesOid:re,objectOid:ue}),T.objectNumber=ue;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+T.boundingBox.map(C).join(" ")+"]"}),we.push({key:"XStep",value:C(T.xStep)}),we.push({key:"YStep",value:C(T.yStep)}),we.push({key:"Resources",value:re+" 0 R"}),T.matrix&&we.push({key:"Matrix",value:"["+T.matrix.toString()+"]"}),_s({data:T.stream,additionalKeyValues:we,objectId:T.objectNumber}),V("endobj")},i5=function(T){for(var U in T.objectNumber=kn(),V("<<"),T)switch(U){case"opacity":V("/ca "+E(T[U]));break;case"stroke-opacity":V("/CA "+E(T[U]))}V(">>"),V("endobj")},Og=function(T){Ci(T.resourcesOid,!0),V("<<"),V("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var U in V("/Font <<"),yt)yt.hasOwnProperty(U)&&(f===!1||f===!0&&h.hasOwnProperty(U))&&V("/"+U+" "+yt[U].objectNumber+" 0 R");V(">>")}(),function(){if(Object.keys(Ot).length>0){for(var U in V("/Shading <<"),Ot)Ot.hasOwnProperty(U)&&Ot[U]instanceof Sf&&Ot[U].objectNumber>=0&&V("/"+U+" "+Ot[U].objectNumber+" 0 R");Mr.publish("putShadingPatternDict"),V(">>")}}(),function(U){if(Object.keys(Ot).length>0){for(var re in V("/Pattern <<"),Ot)Ot.hasOwnProperty(re)&&Ot[re]instanceof p.TilingPattern&&Ot[re].objectNumber>=0&&Ot[re].objectNumber<U&&V("/"+re+" "+Ot[re].objectNumber+" 0 R");Mr.publish("putTilingPatternDict"),V(">>")}}(T.objectOid),function(){if(Object.keys(er).length>0){var U;for(U in V("/ExtGState <<"),er)er.hasOwnProperty(U)&&er[U].objectNumber>=0&&V("/"+U+" "+er[U].objectNumber+" 0 R");Mr.publish("putGStateDict"),V(">>")}}(),function(){for(var U in V("/XObject <<"),Vi)Vi.hasOwnProperty(U)&&Vi[U].objectNumber>=0&&V("/"+U+" "+Vi[U].objectNumber+" 0 R");Mr.publish("putXobjectDict"),V(">>")}(),V(">>"),V("endobj")},Dv=function(T){Wt[T.fontName]=Wt[T.fontName]||{},Wt[T.fontName][T.fontStyle]=T.id},Rv=function(T,U,re,ue,we){var Oe={id:"F"+(Object.keys(yt).length+1).toString(10),postScriptName:T,fontName:U,fontStyle:re,encoding:ue,isStandardFont:we||!1,metadata:{}};return Mr.publish("addFont",{font:Oe,instance:this}),yt[Oe.id]=Oe,Dv(Oe),Oe.id},Ps=p.__private__.pdfEscape=p.pdfEscape=function(T,U){return function(re,ue){var we,Oe,ze,xt,Nt,Vt,Zt,Cr,wn;if(ze=(ue=ue||{}).sourceEncoding||"Unicode",Nt=ue.outputEncoding,(ue.autoencode||Nt)&&yt[Qe].metadata&&yt[Qe].metadata[ze]&&yt[Qe].metadata[ze].encoding&&(xt=yt[Qe].metadata[ze].encoding,!Nt&&yt[Qe].encoding&&(Nt=yt[Qe].encoding),!Nt&&xt.codePages&&(Nt=xt.codePages[0]),typeof Nt=="string"&&(Nt=xt[Nt]),Nt)){for(Zt=!1,Vt=[],we=0,Oe=re.length;we<Oe;we++)(Cr=Nt[re.charCodeAt(we)])?Vt.push(String.fromCharCode(Cr)):Vt.push(re[we]),Vt[we].charCodeAt(0)>>8&&(Zt=!0);re=Vt.join("")}for(we=re.length;Zt===void 0&&we!==0;)re.charCodeAt(we-1)>>8&&(Zt=!0),we--;if(!Zt)return re;for(Vt=ue.noBOM?[]:[254,255],we=0,Oe=re.length;we<Oe;we++){if((wn=(Cr=re.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+re+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vt.push(wn),Vt.push(Cr-(wn<<8))}return String.fromCharCode.apply(void 0,Vt)}(T,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mg=p.__private__.beginPage=function(T){je[++en]=[],Ht[en]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(T[0]),topRightY:Number(T[1])}},$v(en),xe(je[Y])},Fv=function(T,U){var re,ue,we;switch(r=U||r,typeof T=="string"&&(re=g(T.toLowerCase()),Array.isArray(re)&&(ue=re[0],we=re[1])),Array.isArray(T)&&(ue=T[0]*dt,we=T[1]*dt),isNaN(ue)&&(ue=i[0],we=i[1]),(ue>14400||we>14400)&&(nn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ue=Math.min(14400,ue),we=Math.min(14400,we)),i=[ue,we],r.substr(0,1)){case"l":we>ue&&(i=[we,ue]);break;case"p":ue>we&&(i=[we,ue])}Mg(i),h5(Fg),V(Dh),Bg!==0&&V(Bg+" J"),Ug!==0&&V(Ug+" j"),Mr.publish("addPage",{pageNumber:en})},Lg=function(T){T>0&&T<=en&&(je.splice(T,1),Ht.splice(T,1),en--,Y>en&&(Y=en),this.setPage(Y))},$v=function(T){T>0&&T<=en&&(Y=T)},Bv=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return je.length-1},Uv=function(T,U,re){var ue,we=void 0;return re=re||{},T=T!==void 0?T:yt[Qe].fontName,U=U!==void 0?U:yt[Qe].fontStyle,ue=T.toLowerCase(),Wt[ue]!==void 0&&Wt[ue][U]!==void 0?we=Wt[ue][U]:Wt[T]!==void 0&&Wt[T][U]!==void 0?we=Wt[T][U]:re.disableWarning===!1&&nn.warn("Unable to look up font label for font '"+T+"', '"+U+"'. Refer to getFontList() for available fonts."),we||re.noFallback||(we=Wt.times[U])==null&&(we=Wt.times.normal),we},Ih=p.__private__.putInfo=function(){var T=kn(),U=function(ue){return ue};for(var re in d!==null&&(U=Fn.encryptor(T,0)),V("<<"),V("/Producer ("+Ps(U("jsPDF "+At.version))+")"),Ue)Ue.hasOwnProperty(re)&&Ue[re]&&V("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+Ps(U(Ue[re]))+")");V("/CreationDate ("+Ps(U(G))+")"),V(">>"),V("endobj")},a5=p.__private__.putCatalog=function(T){var U=(T=T||{}).rootDictionaryObjId||au;switch(kn(),V("<<"),V("/Type /Catalog"),V("/Pages "+U+" 0 R"),pt||(pt="fullwidth"),pt){case"fullwidth":V("/OpenAction [3 0 R /FitH null]");break;case"fullheight":V("/OpenAction [3 0 R /FitV null]");break;case"fullpage":V("/OpenAction [3 0 R /Fit]");break;case"original":V("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+pt;re.substr(re.length-1)==="%"&&(pt=parseInt(pt)/100),typeof pt=="number"&&V("/OpenAction [3 0 R /XYZ null null "+E(pt)+"]")}switch(Re||(Re="continuous"),Re){case"continuous":V("/PageLayout /OneColumn");break;case"single":V("/PageLayout /SinglePage");break;case"two":case"twoleft":V("/PageLayout /TwoColumnLeft");break;case"tworight":V("/PageLayout /TwoColumnRight")}me&&V("/PageMode /"+me),Mr.publish("putCatalog"),V(">>"),V("endobj")},Jn=p.__private__.putTrailer=function(){V("trailer"),V("<<"),V("/Size "+(de+1)),V("/Root "+de+" 0 R"),V("/Info "+(de-1)+" 0 R"),d!==null&&V("/Encrypt "+Fn.oid+" 0 R"),V("/ID [ <"+F+"> <"+F+"> ]"),V(">>")},zv=p.__private__.putHeader=function(){V("%PDF-"+y),V("%")},Vv=p.__private__.putXRef=function(){var T="0000000000";V("xref"),V("0 "+(de+1)),V("0000000000 65535 f ");for(var U=1;U<=de;U++)typeof ce[U]=="function"?V((T+ce[U]()).slice(-10)+" 00000 n "):ce[U]!==void 0?V((T+ce[U]).slice(-10)+" 00000 n "):V("0000000000 00000 n ")},Zl=p.__private__.buildDocument=function(){var T;de=0,oe=0,be=[],ce=[],ye=[],au=vi(),lo=vi(),xe(be),Mr.publish("buildDocument"),zv(),nl(),function(){Mr.publish("putAdditionalObjects");for(var re=0;re<ye.length;re++){var ue=ye[re];Ci(ue.objId,!0),V(ue.content),V("endobj")}Mr.publish("postPutAdditionalObjects")}(),T=[],function(){for(var re in yt)yt.hasOwnProperty(re)&&(f===!1||f===!0&&h.hasOwnProperty(re))&&zd(yt[re])}(),function(){var re;for(re in er)er.hasOwnProperty(re)&&i5(er[re])}(),function(){for(var re in Vi)Vi.hasOwnProperty(re)&&Oh(Vi[re])}(),function(re){var ue;for(ue in Ot)Ot.hasOwnProperty(ue)&&(Ot[ue]instanceof Sf?Mh(Ot[ue]):Ot[ue]instanceof Ap&&Lh(Ot[ue],re))}(T),Mr.publish("putResources"),T.forEach(Og),Og({resourcesOid:lo,objectOid:Number.MAX_SAFE_INTEGER}),Mr.publish("postPutResources"),d!==null&&(Fn.oid=kn(),V("<<"),V("/Filter /Standard"),V("/V "+Fn.v),V("/R "+Fn.r),V("/U <"+Fn.toHexString(Fn.U)+">"),V("/O <"+Fn.toHexString(Fn.O)+">"),V("/P "+Fn.P),V(">>"),V("endobj")),Ih(),a5();var U=oe;return Vv(),Jn(),V("startxref"),V(""+U),V("%%EOF"),xe(je[Y]),be.join(`
`)},Vd=p.__private__.getBlob=function(T){return new Blob([Ze(T)],{type:"application/pdf"})},fo=p.output=p.__private__.output=(Ss=function(T,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",T){case void 0:return Zl();case"save":p.save(U.filename);break;case"arraybuffer":return Ze(Zl());case"blob":return Vd(Zl());case"bloburi":case"bloburl":if(Ut.URL!==void 0&&typeof Ut.URL.createObjectURL=="function")return Ut.URL&&Ut.URL.createObjectURL(Vd(Zl()))||void 0;nn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",ue=Zl();try{re=d8(ue)}catch{re=d8(unescape(encodeURIComponent(ue)))}return"data:application/pdf;filename="+U.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Oe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(we=U.pdfObjectUrl,Oe="");var ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Oe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");<\/script></body></html>",xt=Ut.open();return xt!==null&&xt.document.write(ze),xt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',Vt=Ut.open();if(Vt!==null){Vt.document.write(Nt);var Zt=this;Vt.document.documentElement.querySelector("#pdfViewer").onload=function(){Vt.document.title=U.filename,Vt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Zt.output("bloburl"))}}return Vt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Cr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',wn=Ut.open();if(wn!==null&&(wn.document.write(Cr),wn.document.title=U.filename),wn||typeof safari>"u")return wn;break;case"datauri":case"dataurl":return Ut.document.location.href=this.output("datauristring",U);default:return null}},Ss.foo=function(){try{return Ss.apply(this,arguments)}catch(re){var T=re.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var U="Error in function "+T.split(`
`)[0].split("<")[0]+": "+re.message;if(!Ut.console)throw new Error(U);Ut.console.error(U,re),Ut.alert&&alert(U)}},Ss.foo.bar=Ss,Ss.foo),qd=function(T){return Array.isArray($d)===!0&&$d.indexOf(T)>-1};switch(n){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=qd("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);dt=n}var Fn=null;fe(),B();var Ig=p.__private__.getPageInfo=p.getPageInfo=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ht[T].objId,pageNumber:T,pageContext:Ht[T]}},s5=p.__private__.getPageInfoByObjId=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in Ht)if(Ht[U].objId===T)break;return Ig(U)},o5=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ht[Y].objId,pageNumber:Y,pageContext:Ht[Y]}};p.addPage=function(){return Fv.apply(this,arguments),this},p.setPage=function(){return $v.apply(this,arguments),xe.call(this,je[Y]),this},p.insertPage=function(T){return this.addPage(),this.movePage(Y,T),this},p.movePage=function(T,U){var re,ue;if(T>U){re=je[T],ue=Ht[T];for(var we=T;we>U;we--)je[we]=je[we-1],Ht[we]=Ht[we-1];je[U]=re,Ht[U]=ue,this.setPage(U)}else if(T<U){re=je[T],ue=Ht[T];for(var Oe=T;Oe<U;Oe++)je[Oe]=je[Oe+1],Ht[Oe]=Ht[Oe+1];je[U]=re,Ht[U]=ue,this.setPage(U)}return this},p.deletePage=function(){return Lg.apply(this,arguments),this},p.__private__.text=p.text=function(T,U,re,ue,we){var Oe,ze,xt,Nt,Vt,Zt,Cr,wn,ei,on=(ue=ue||{}).scope||this;if(typeof T=="number"&&typeof U=="number"&&(typeof re=="string"||Array.isArray(re))){var si=re;re=U,U=T,T=si}if(arguments[3]instanceof Lt==0?(xt=arguments[4],Nt=arguments[5],qr(Cr=arguments[3])==="object"&&Cr!==null||(typeof xt=="string"&&(Nt=xt,xt=null),typeof Cr=="string"&&(Nt=Cr,Cr=null),typeof Cr=="number"&&(xt=Cr,Cr=null),ue={flags:Cr,angle:xt,align:Nt})):(O("The transform parameter of text() with a Matrix value"),ei=we),isNaN(U)||isNaN(re)||T==null)throw new Error("Invalid arguments passed to jsPDF.text");if(T.length===0)return on;var ti,Ti="",As=typeof ue.lineHeightFactor=="number"?ue.lineHeightFactor:Hd,_a=on.internal.scaleFactor;function Zv(Lr){return Lr=Lr.split("	").join(Array(ue.TabLen||9).join(" ")),Ps(Lr,Cr)}function Bh(Lr){for(var tn,Bn=Lr.concat(),oi=[],ic=Bn.length;ic--;)typeof(tn=Bn.shift())=="string"?oi.push(tn):Array.isArray(Lr)&&(tn.length===1||tn[1]===void 0&&tn[2]===void 0)?oi.push(tn[0]):oi.push([tn[0],tn[1],tn[2]]);return oi}function Qd(Lr,tn){var Bn;if(typeof Lr=="string")Bn=tn(Lr)[0];else if(Array.isArray(Lr)){for(var oi,ic,Jg=Lr.concat(),Vh=[],eb=Jg.length;eb--;)typeof(oi=Jg.shift())=="string"?Vh.push(tn(oi)[0]):Array.isArray(oi)&&typeof oi[0]=="string"&&(ic=tn(oi[0],oi[1],oi[2]),Vh.push([ic[0],ic[1],ic[2]]));Bn=Vh}return Bn}var lu=!1,Jd=!0;if(typeof T=="string")lu=!0;else if(Array.isArray(T)){var ef=T.concat();ze=[];for(var tf,qi=ef.length;qi--;)(typeof(tf=ef.shift())!="string"||Array.isArray(tf)&&typeof tf[0]!="string")&&(Jd=!1);lu=Jd}if(lu===!1)throw new Error('Type of text must be string or Array. "'+T+'" is not recognized.');typeof T=="string"&&(T=T.match(/[\r?\n]/)?T.split(/\r\n|\r|\n/g):[T]);var rf=De/on.internal.scaleFactor,nf=rf*(As-1);switch(ue.baseline){case"bottom":re-=nf;break;case"top":re+=rf-nf;break;case"hanging":re+=rf-2*nf;break;case"middle":re+=rf/2-nf}if((Zt=ue.maxWidth||0)>0&&(typeof T=="string"?T=on.splitTextToSize(T,Zt):Object.prototype.toString.call(T)==="[object Array]"&&(T=T.reduce(function(Lr,tn){return Lr.concat(on.splitTextToSize(tn,Zt))},[]))),Oe={text:T,x:U,y:re,options:ue,mutex:{pdfEscape:Ps,activeFontKey:Qe,fonts:yt,activeFontSize:De}},Mr.publish("preProcessText",Oe),T=Oe.text,xt=(ue=Oe.options).angle,ei instanceof Lt==0&&xt&&typeof xt=="number"){xt*=Math.PI/180,ue.rotationDirection===0&&(xt=-xt),j===w&&(xt=-xt);var qg=Math.cos(xt),Wg=Math.sin(xt);ei=new Lt(qg,Wg,-Wg,qg,0,0)}else xt&&xt instanceof Lt&&(ei=xt);j!==w||ei||(ei=Xl),(Vt=ue.charSpace||Fh)!==void 0&&(Ti+=C(D(Vt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(wn=ue.horizontalScale)!==void 0&&(Ti+=C(100*wn)+` Tz
`),ue.lang;var Cn=-1,rc=ue.renderingMode!==void 0?ue.renderingMode:ue.stroke,Uh=on.internal.getCurrentPageInfo().pageContext;switch(rc){case 0:case!1:case"fill":Cn=0;break;case 1:case!0:case"stroke":Cn=1;break;case 2:case"fillThenStroke":Cn=2;break;case 3:case"invisible":Cn=3;break;case 4:case"fillAndAddForClipping":Cn=4;break;case 5:case"strokeAndAddPathForClipping":Cn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Cn=6;break;case 7:case"addToPathForClipping":Cn=7}var Qv=Uh.usedRenderingMode!==void 0?Uh.usedRenderingMode:-1;Cn!==-1?Ti+=Cn+` Tr
`:Qv!==-1&&(Ti+=`0 Tr
`),Cn!==-1&&(Uh.usedRenderingMode=Cn),Nt=ue.align||"left";var ks,af=De*As,Hg=on.internal.pageSize.getWidth(),Kg=yt[Qe];Vt=ue.charSpace||Fh,Zt=ue.maxWidth||0,Cr=Object.assign({autoencode:!0,noBOM:!0},ue.flags);var cu=[],sf=function(Lr){return on.getStringUnitWidth(Lr,{font:Kg,charSpace:Vt,fontSize:De,doKerning:!1})*De/_a};if(Object.prototype.toString.call(T)==="[object Array]"){var Va;ze=Bh(T),Nt!=="left"&&(ks=ze.map(sf));var qa,uu=0;if(Nt==="right"){U-=ks[0],T=[],qi=ze.length;for(var nc=0;nc<qi;nc++)nc===0?(qa=Ql(U),Va=Jl(re)):(qa=D(uu-ks[nc]),Va=-af),T.push([ze[nc],qa,Va]),uu=ks[nc]}else if(Nt==="center"){U-=ks[0]/2,T=[],qi=ze.length;for(var du=0;du<qi;du++)du===0?(qa=Ql(U),Va=Jl(re)):(qa=D((uu-ks[du])/2),Va=-af),T.push([ze[du],qa,Va]),uu=ks[du]}else if(Nt==="left"){T=[],qi=ze.length;for(var Gg=0;Gg<qi;Gg++)T.push(ze[Gg])}else if(Nt==="justify"&&Kg.encoding==="Identity-H"){T=[],qi=ze.length,Zt=Zt!==0?Zt:Hg;for(var zh=0,$n=0;$n<qi;$n++)if(Va=$n===0?Jl(re):-af,qa=$n===0?Ql(U):zh,$n<qi-1){var Jv=D((Zt-ks[$n])/(ze[$n].split(" ").length-1)),al=ze[$n].split(" ");T.push([al[0]+" ",qa,Va]),zh=0;for(var sl=1;sl<al.length;sl++){var Yg=(sf(al[sl-1]+" "+al[sl])-sf(al[sl]))*_a+Jv;sl==al.length-1?T.push([al[sl],Yg,0]):T.push([al[sl]+" ",Yg,0]),zh-=Yg}}else T.push([ze[$n],qa,Va]);T.push(["",zh,0])}else{if(Nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(T=[],qi=ze.length,Zt=Zt!==0?Zt:Hg,$n=0;$n<qi;$n++){Va=$n===0?Jl(re):-af,qa=$n===0?Ql(U):0;var Xg=ze[$n].split(" ").length-1,Zg=Xg>0?(Zt-ks[$n])/Xg:0;$n<qi-1?cu.push(C(D(Zg))):cu.push(0),T.push([ze[$n],qa,Va])}}}(typeof ue.R2L=="boolean"?ue.R2L:ne)===!0&&(T=Qd(T,function(Lr,tn,Bn){return[Lr.split("").reverse().join(""),tn,Bn]})),Oe={text:T,x:U,y:re,options:ue,mutex:{pdfEscape:Ps,activeFontKey:Qe,fonts:yt,activeFontSize:De}},Mr.publish("postProcessText",Oe),T=Oe.text,ti=Oe.mutex.isHex||!1;var Qg=yt[Qe].encoding;Qg!=="WinAnsiEncoding"&&Qg!=="StandardEncoding"||(T=Qd(T,function(Lr,tn,Bn){return[Zv(Lr),tn,Bn]})),ze=Bh(T),T=[];for(var fu,hu,pu,of=Array.isArray(ze[0])?1:0,mu="",lf=function(Lr,tn,Bn){var oi="";return Bn instanceof Lt?(Bn=typeof ue.angle=="number"?Yl(Bn,new Lt(1,0,0,1,Lr,tn)):Yl(new Lt(1,0,0,1,Lr,tn),Bn),j===w&&(Bn=Yl(new Lt(1,0,0,-1,0,0),Bn)),oi=Bn.join(" ")+` Tm
`):oi=C(Lr)+" "+C(tn)+` Td
`,oi},Cs=0;Cs<ze.length;Cs++){switch(mu="",of){case 1:pu=(ti?"<":"(")+ze[Cs][0]+(ti?">":")"),fu=parseFloat(ze[Cs][1]),hu=parseFloat(ze[Cs][2]);break;case 0:pu=(ti?"<":"(")+ze[Cs]+(ti?">":")"),fu=Ql(U),hu=Jl(re)}cu!==void 0&&cu[Cs]!==void 0&&(mu=cu[Cs]+` Tw
`),Cs===0?T.push(mu+lf(fu,hu,ei)+pu):of===0?T.push(mu+pu):of===1&&T.push(mu+lf(fu,hu,ei)+pu)}T=of===0?T.join(` Tj
T* `):T.join(` Tj
`),T+=` Tj
`;var ol=`BT
/`;return ol+=Qe+" "+De+` Tf
`,ol+=C(De*As)+` TL
`,ol+=Kd+`
`,ol+=Ti,ol+=T,V(ol+="ET"),h[Qe]=!0,on};var l5=p.__private__.clip=p.clip=function(T){return V(T==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return l5("evenodd")},p.__private__.discardPath=p.discardPath=function(){return V("n"),this};var il=p.__private__.isValidStyle=function(T){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(T)!==-1&&(U=!0),U};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(T){return il(T)&&(u=T),this};var qv=p.__private__.getStyle=p.getStyle=function(T){var U=u;switch(T){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=T}return U},Wv=p.close=function(){return V("h"),this};p.stroke=function(){return V("S"),this},p.fill=function(T){return su("f",T),this},p.fillEvenOdd=function(T){return su("f*",T),this},p.fillStroke=function(T){return su("B",T),this},p.fillStrokeEvenOdd=function(T){return su("B*",T),this};var su=function(T,U){qr(U)==="object"?u5(U,T):V(T)},Dg=function(T){T===null||j===w&&T===void 0||(T=qv(T),V(T))};function c5(T,U,re,ue,we){var Oe=new Ap(U||this.boundingBox,re||this.xStep,ue||this.yStep,this.gState,we||this.matrix);Oe.stream=this.stream;var ze=T+"$$"+this.cloneIndex+++"$$";return Ns(ze,Oe),Oe}var u5=function(T,U){var re=cr[T.key],ue=Ot[re];if(ue instanceof Sf)V("q"),V(d5(U)),ue.gState&&p.setGState(ue.gState),V(T.matrix.toString()+" cm"),V("/"+re+" sh"),V("Q");else if(ue instanceof Ap){var we=new Lt(1,0,0,-1,0,Zd());T.matrix&&(we=we.multiply(T.matrix||Xl),re=c5.call(ue,T.key,T.boundingBox,T.xStep,T.yStep,we).id),V("q"),V("/Pattern cs"),V("/"+re+" scn"),ue.gState&&p.setGState(ue.gState),V(U),V("Q")}},d5=function(T){switch(T){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Rg=p.moveTo=function(T,U){return V(C(D(T))+" "+C(R(U))+" m"),this},Wd=p.lineTo=function(T,U){return V(C(D(T))+" "+C(R(U))+" l"),this},ou=p.curveTo=function(T,U,re,ue,we,Oe){return V([C(D(T)),C(R(U)),C(D(re)),C(R(ue)),C(D(we)),C(R(Oe)),"c"].join(" ")),this};p.__private__.line=p.line=function(T,U,re,ue,we){if(isNaN(T)||isNaN(U)||isNaN(re)||isNaN(ue)||!il(we))throw new Error("Invalid arguments passed to jsPDF.line");return j===x?this.lines([[re-T,ue-U]],T,U,[1,1],we||"S"):this.lines([[re-T,ue-U]],T,U,[1,1]).stroke()},p.__private__.lines=p.lines=function(T,U,re,ue,we,Oe){var ze,xt,Nt,Vt,Zt,Cr,wn,ei,on,si,ti,Ti;if(typeof T=="number"&&(Ti=re,re=U,U=T,T=Ti),ue=ue||[1,1],Oe=Oe||!1,isNaN(U)||isNaN(re)||!Array.isArray(T)||!Array.isArray(ue)||!il(we)||typeof Oe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Rg(U,re),ze=ue[0],xt=ue[1],Vt=T.length,si=U,ti=re,Nt=0;Nt<Vt;Nt++)(Zt=T[Nt]).length===2?(si=Zt[0]*ze+si,ti=Zt[1]*xt+ti,Wd(si,ti)):(Cr=Zt[0]*ze+si,wn=Zt[1]*xt+ti,ei=Zt[2]*ze+si,on=Zt[3]*xt+ti,si=Zt[4]*ze+si,ti=Zt[5]*xt+ti,ou(Cr,wn,ei,on,si,ti));return Oe&&Wv(),Dg(we),this},p.path=function(T){for(var U=0;U<T.length;U++){var re=T[U],ue=re.c;switch(re.op){case"m":Rg(ue[0],ue[1]);break;case"l":Wd(ue[0],ue[1]);break;case"c":ou.apply(this,ue);break;case"h":Wv()}}return this},p.__private__.rect=p.rect=function(T,U,re,ue,we){if(isNaN(T)||isNaN(U)||isNaN(re)||isNaN(ue)||!il(we))throw new Error("Invalid arguments passed to jsPDF.rect");return j===x&&(ue=-ue),V([C(D(T)),C(R(U)),C(D(re)),C(D(ue)),"re"].join(" ")),Dg(we),this},p.__private__.triangle=p.triangle=function(T,U,re,ue,we,Oe,ze){if(isNaN(T)||isNaN(U)||isNaN(re)||isNaN(ue)||isNaN(we)||isNaN(Oe)||!il(ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-T,ue-U],[we-re,Oe-ue],[T-we,U-Oe]],T,U,[1,1],ze,!0),this},p.__private__.roundedRect=p.roundedRect=function(T,U,re,ue,we,Oe,ze){if(isNaN(T)||isNaN(U)||isNaN(re)||isNaN(ue)||isNaN(we)||isNaN(Oe)||!il(ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var xt=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*re),Oe=Math.min(Oe,.5*ue),this.lines([[re-2*we,0],[we*xt,0,we,Oe-Oe*xt,we,Oe],[0,ue-2*Oe],[0,Oe*xt,-we*xt,Oe,-we,Oe],[2*we-re,0],[-we*xt,0,-we,-Oe*xt,-we,-Oe],[0,2*Oe-ue],[0,-Oe*xt,we*xt,-Oe,we,-Oe]],T+we,U,[1,1],ze,!0),this},p.__private__.ellipse=p.ellipse=function(T,U,re,ue,we){if(isNaN(T)||isNaN(U)||isNaN(re)||isNaN(ue)||!il(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Oe=4/3*(Math.SQRT2-1)*re,ze=4/3*(Math.SQRT2-1)*ue;return Rg(T+re,U),ou(T+re,U-ze,T+Oe,U-ue,T,U-ue),ou(T-Oe,U-ue,T-re,U-ze,T-re,U),ou(T-re,U+ze,T-Oe,U+ue,T,U+ue),ou(T+Oe,U+ue,T+re,U+ze,T+re,U),Dg(we),this},p.__private__.circle=p.circle=function(T,U,re,ue){if(isNaN(T)||isNaN(U)||isNaN(re)||!il(ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(T,U,re,re,ue)},p.setFont=function(T,U,re){return re&&(U=k(U,re)),Qe=Uv(T,U,{disableWarning:!1}),this};var f5=p.__private__.getFont=p.getFont=function(){return yt[Uv.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var T,U,re={};for(T in Wt)if(Wt.hasOwnProperty(T))for(U in re[T]=[],Wt[T])Wt[T].hasOwnProperty(U)&&re[T].push(U);return re},p.addFont=function(T,U,re,ue,we){var Oe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Oe.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Oe.indexOf(arguments[3])==-1&&(re=k(re,ue)),Rv.call(this,T,U,re,we=we||"Identity-H")};var Hd,Fg=e.lineWidth||.200025,Kt=p.__private__.getLineWidth=p.getLineWidth=function(){return Fg},h5=p.__private__.setLineWidth=p.setLineWidth=function(T){return Fg=T,V(C(D(T))+" w"),this};p.__private__.setLineDash=At.API.setLineDash=At.API.setLineDashPattern=function(T,U){if(T=T||[],U=U||0,isNaN(U)||!Array.isArray(T))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return T=T.map(function(re){return C(D(re))}).join(" "),U=C(D(U)),V("["+T+"] "+U+" d"),this};var p5=p.__private__.getLineHeight=p.getLineHeight=function(){return De*Hd};p.__private__.getLineHeight=p.getLineHeight=function(){return De*Hd};var m5=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(T){return typeof(T=T||1.15)=="number"&&(Hd=T),this},g5=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Hd};m5(e.lineHeight);var Ql=p.__private__.getHorizontalCoordinate=function(T){return D(T)},Jl=p.__private__.getVerticalCoordinate=function(T){return j===w?T:Ht[Y].mediaBox.topRightY-Ht[Y].mediaBox.bottomLeftY-D(T)},x5=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(T){return C(Ql(T))},y5=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(T){return C(Jl(T))},Dh=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return rl(Dh)},p.__private__.setStrokeColor=p.setDrawColor=function(T,U,re,ue){return Dh=co({ch1:T,ch2:U,ch3:re,ch4:ue,pdfColorType:"draw",precision:2}),V(Dh),this};var $g=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return rl($g)},p.__private__.setFillColor=p.setFillColor=function(T,U,re,ue){return $g=co({ch1:T,ch2:U,ch3:re,ch4:ue,pdfColorType:"fill",precision:2}),V($g),this};var Kd=e.textColor||"0 g",Rh=p.__private__.getTextColor=p.getTextColor=function(){return rl(Kd)};p.__private__.setTextColor=p.setTextColor=function(T,U,re,ue){return Kd=co({ch1:T,ch2:U,ch3:re,ch4:ue,pdfColorType:"text",precision:3}),this};var Fh=e.charSpace,v5=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Fh||0)};p.__private__.setCharSpace=p.setCharSpace=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Fh=T,this};var Bg=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(T){var U=p.CapJoinStyles[T];if(U===void 0)throw new Error("Line cap style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bg=U,V(U+" J"),this};var Ug=0;p.__private__.setLineJoin=p.setLineJoin=function(T){var U=p.CapJoinStyles[T];if(U===void 0)throw new Error("Line join style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ug=U,V(U+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(T){if(T=T||0,isNaN(T))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return V(C(D(T))+" M"),this},p.GState=i2,p.setGState=function(T){(T=typeof T=="string"?er[Rn[T]]:Gd(null,T)).equals(ai)||(V("/"+T.id+" gs"),ai=T)};var Gd=function(T,U){if(!T||!Rn[T]){var re=!1;for(var ue in er)if(er.hasOwnProperty(ue)&&er[ue].equals(U)){re=!0;break}if(re)U=er[ue];else{var we="GS"+(Object.keys(er).length+1).toString(10);er[we]=U,U.id=we}return T&&(Rn[T]=U.id),Mr.publish("addGState",U),U}};p.addGState=function(T,U){return Gd(T,U),this},p.saveGraphicsState=function(){return V("q"),Or.push({key:Qe,size:De,color:Kd}),this},p.restoreGraphicsState=function(){V("Q");var T=Or.pop();return Qe=T.key,De=T.size,Kd=T.color,ai=null,this},p.setCurrentTransformationMatrix=function(T){return V(T.toString()+" cm"),this},p.comment=function(T){return V("#"+T),this};var Yd=function(T,U){var re=T||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(Oe){isNaN(Oe)||(re=parseFloat(Oe))}});var ue=U||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ue},set:function(Oe){isNaN(Oe)||(ue=parseFloat(Oe))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Oe){we=Oe.toString()}}),this},zg=function(T,U,re,ue){Yd.call(this,T,U),this.type="rect";var we=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(ze){isNaN(ze)||(we=parseFloat(ze))}});var Oe=ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Oe},set:function(ze){isNaN(ze)||(Oe=parseFloat(ze))}}),this},$h=function(){this.page=en,this.currentPage=Y,this.pages=je.slice(0),this.pagesContext=Ht.slice(0),this.x=ot,this.y=Yr,this.matrix=pr,this.width=Hv(Y),this.height=ec(Y),this.outputDestination=Ne,this.id="",this.objectNumber=-1};$h.prototype.restore=function(){en=this.page,Y=this.currentPage,Ht=this.pagesContext,je=this.pages,ot=this.x,Yr=this.y,pr=this.matrix,Kv(Y,this.width),tc(Y,this.height),Ne=this.outputDestination};var Vg=function(T,U,re,ue,we){tl.push(new $h),en=Y=0,je=[],ot=T,Yr=U,pr=we,Mg([re,ue])};for(var Xd in p.beginFormObject=function(T,U,re,ue,we){return Vg(T,U,re,ue,we),this},p.endFormObject=function(T){return function(U){if(Gl[U])tl.pop().restore();else{var re=new $h,ue="Xo"+(Object.keys(Vi).length+1).toString(10);re.id=ue,Gl[U]=ue,Vi[ue]=re,Mr.publish("addFormObject",re),tl.pop().restore()}}(T),this},p.doFormObject=function(T,U){var re=Vi[Gl[T]];return V("q"),V(U.toString()+" cm"),V("/"+re.id+" Do"),V("Q"),this},p.getFormObject=function(T){var U=Vi[Gl[T]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},p.save=function(T,U){return T=T||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(xf(Vd(Zl()),T),typeof xf.unload=="function"&&Ut.setTimeout&&setTimeout(xf.unload,911),this):new Promise(function(re,ue){try{var we=xf(Vd(Zl()),T);typeof xf.unload=="function"&&Ut.setTimeout&&setTimeout(xf.unload,911),re(we)}catch(Oe){ue(Oe.message)}})},At.API)At.API.hasOwnProperty(Xd)&&(Xd==="events"&&At.API.events.length?function(T,U){var re,ue,we;for(we=U.length-1;we!==-1;we--)re=U[we][0],ue=U[we][1],T.subscribe.apply(T,[re].concat(typeof ue=="function"?[ue]:ue))}(Mr,At.API.events):p[Xd]=At.API[Xd]);function Hv(T){return Ht[T].mediaBox.topRightX-Ht[T].mediaBox.bottomLeftX}function Kv(T,U){Ht[T].mediaBox.topRightX=U+Ht[T].mediaBox.bottomLeftX}function ec(T){return Ht[T].mediaBox.topRightY-Ht[T].mediaBox.bottomLeftY}function tc(T,U){Ht[T].mediaBox.topRightY=U+Ht[T].mediaBox.bottomLeftY}var Gv=p.getPageWidth=function(T){return Hv(T=T||Y)/dt},Yv=p.setPageWidth=function(T,U){Kv(T,U*dt)},Zd=p.getPageHeight=function(T){return ec(T=T||Y)/dt},Xv=p.setPageHeight=function(T,U){tc(T,U*dt)};return p.internal={pdfEscape:Ps,getStyle:qv,getFont:f5,getFontSize:Je,getCharSpace:v5,getTextColor:Rh,getLineHeight:p5,getLineHeightFactor:g5,getLineWidth:Kt,write:Ve,getHorizontalCoordinate:Ql,getVerticalCoordinate:Jl,getCoordinateString:x5,getVerticalCoordinateString:y5,collections:{},newObject:kn,newAdditionalObject:Bd,newObjectDeferred:vi,newObjectDeferredBegin:Ci,getFilters:uo,putStream:_s,events:Mr,scaleFactor:dt,pageSize:{getWidth:function(){return Gv(Y)},setWidth:function(T){Yv(Y,T)},getHeight:function(){return Zd(Y)},setHeight:function(T){Xv(Y,T)}},encryptionOptions:d,encryption:Fn,getEncryptor:function(T){return d!==null?Fn.encryptor(T,0):function(U){return U}},output:fo,getNumberOfPages:Bv,pages:je,out:V,f2:E,f3:A,getPageInfo:Ig,getPageInfoByObjId:s5,getCurrentPageInfo:o5,getPDFVersion:m,Point:Yd,Rectangle:zg,Matrix:Lt,hasHotfix:qd},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Gv(Y)},set:function(T){Yv(Y,T)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Zd(Y)},set:function(T){Xv(Y,T)},enumerable:!0,configurable:!0}),(function(T){for(var U=0,re=it.length;U<re;U++){var ue=Rv.call(this,T[U][0],T[U][1],T[U][2],it[U][3],!0);f===!1&&(h[ue]=!0);var we=T[U][0].split("-");Dv({id:ue,fontName:we[0],fontStyle:we[1]||""})}Mr.publish("addFonts",{fonts:yt,dictionary:Wt})}).call(p,it),Qe="F1",Fv(i,r),Mr.publish("initialized"),p}op.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},op.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},op.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},op.prototype.processOwnerPassword=function(e,t){return fk(dk(t).substr(0,5),e)},op.prototype.encryptor=function(e,t){var r=dk(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return fk(r,n)}},i2.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||qr(e)!==qr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},At.API={events:[]},At.version="3.0.3";var Mn=At.API,lT=1,Ph=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ep=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Qt=function(e){return e.toFixed(2)},Au=function(e){return e.toFixed(5)};Mn.__acroform__={};var Ua=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},m8=function(e){return e*lT},ul=function(e){var t=new bH,r=gt.internal.getHeight(e)||0,n=gt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Qt(n)),Number(Qt(r))],t},sye=Mn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},oye=Mn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},lye=Mn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Hn=Mn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return lye(e,t-1)},Kn=Mn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return sye(e,t-1)},Gn=Mn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return oye(e,t-1)},cye=Mn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=r(i+o)||0,c.upperRight_Y=n(s)||0,[Number(Qt(c.lowerLeft_X)),Number(Qt(c.lowerLeft_Y)),Number(Qt(c.upperRight_X)),Number(Qt(c.upperRight_Y))]},uye=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=hk(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Qt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=ul(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},hk=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var s=r,o=gt.internal.getHeight(e)||0;o=o<0?-o:o;var l=gt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(E,A,D){if(E+1<i.length){var R=A+" "+i[E+1][0];return n1(R,e,D).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var u,d,f=n1("3",e,s).height,h=e.multiline?o-s:(o-f)/2,p=h+=2,y=0,m=0,v=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+n1(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var g="",x=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var j=!1;if(i[w].length!==1&&v!==i[w].length-1){if((f+2)*(x+2)+2>o)continue e;g+=i[w][v],j=!0,m=w,w--}else{g=(g+=i[w][v]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var N=parseInt(w),P=c(N,g,s),k=w>=i.length-1;if(P&&!k){g+=" ",v=0;continue}if(P||k){if(k)m=N;else if(e.multiline&&(f+2)*(x+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(x+2)+2>o)continue e;m=N}}for(var C="",O=y;O<=m;O++){var I=i[O];if(e.multiline){if(O===m){C+=I[v]+" ",v=(v+1)%I.length;continue}if(O===y){C+=I[I.length-1]+" ";continue}}C+=I[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,d=n1(C,e,s).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=Qt(u)+" "+Qt(p)+` Td
`,t+="("+Ph(C)+`) Tj
`,t+=-Qt(u)+` 0 Td
`,p=-(s+2),d=0,y=j?m:m+1,x++,g=""}break}return n.text=t,n.fontSize=s,n},n1=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},dye={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},fye=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},hye=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Zo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(dye)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");lT=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new wH,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&fye(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=cye(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=gt.createDefaultAppearanceStream(l),qr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=uye(l);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var p=l.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var y=p[o];typeof y=="function"&&(y=y.call(i,l)),f+="/"+o+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(i,l)),f+="/"+o+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}s&&function(m,v){for(var g in m)if(m.hasOwnProperty(g)){var x=g,w=m[g];v.internal.newObjectDeferredBegin(w.objId,!0),qr(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete m[x]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},vH=Mn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),qr(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Ph(n(e[s].toString()))+")"):i+=e[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},p_=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Ph(n(e))+")"},jl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};jl.prototype.toString=function(){return this.objId+" 0 R"},jl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},jl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:vH(i,this.objId,this.scope)}):i instanceof jl?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var bH=function(){jl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ua(bH,jl);var wH=function(){jl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ph(r(e))+")"}},set:function(r){e=r}})};Ua(wH,jl);var Zo=function e(){jl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');t=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Hn(t,3)},set:function(g){g?this.F=Kn(t,3):this.F=Gn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof a2)return;s="FieldObject"+e.FieldNum++}var g=function(x){return x};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+Ph(g(s))+")"},set:function(g){s=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(g){s=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/lT:u},set:function(g){u=g}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(g){d=g}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof a2||this instanceof Yf))return p_(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=g}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ni==0?p_(h,this.objId,this.scope):h},set:function(g){g=g.toString(),h=this instanceof Ni==0?g.substr(0,1)==="("?ep(g.substr(1,g.length-2)):ep(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ni==1?ep(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof Ni==1?"/"+g:g}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ni==0?p_(p,this.objId,this.scope):p},set:function(g){g=g.toString(),p=this instanceof Ni==0?g.substr(0,1)==="("?ep(g.substr(1,g.length-2)):ep(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ni==1?ep(p.substr(1,p.length-1)):p},set:function(g){g=g.toString(),p=this instanceof Ni==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(g){y=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,1)},set:function(g){g?this.Ff=Kn(this.Ff,1):this.Ff=Gn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,2)},set:function(g){g?this.Ff=Kn(this.Ff,2):this.Ff=Gn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,3)},set:function(g){g?this.Ff=Kn(this.Ff,3):this.Ff=Gn(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');v=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(v){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Ua(Zo,jl);var Wp=function(){Zo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return vH(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,o,l){l||(l=1);for(var c,u=[];c=o.exec(s);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,18)},set:function(r){r?this.Ff=Kn(this.Ff,18):this.Ff=Gn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Kn(this.Ff,19):this.Ff=Gn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,20)},set:function(r){r?(this.Ff=Kn(this.Ff,20),t.sort()):this.Ff=Gn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,22)},set:function(r){r?this.Ff=Kn(this.Ff,22):this.Ff=Gn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,23)},set:function(r){r?this.Ff=Kn(this.Ff,23):this.Ff=Gn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,27)},set:function(r){r?this.Ff=Kn(this.Ff,27):this.Ff=Gn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ua(Wp,Zo);var Hp=function(){Wp.call(this),this.fontName="helvetica",this.combo=!1};Ua(Hp,Wp);var Kp=function(){Hp.call(this),this.combo=!0};Ua(Kp,Hp);var Y1=function(){Kp.call(this),this.edit=!0};Ua(Y1,Kp);var Ni=function(){Zo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,15)},set:function(r){r?this.Ff=Kn(this.Ff,15):this.Ff=Gn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,16)},set:function(r){r?this.Ff=Kn(this.Ff,16):this.Ff=Gn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,17)},set:function(r){r?this.Ff=Kn(this.Ff,17):this.Ff=Gn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,26)},set:function(r){r?this.Ff=Kn(this.Ff,26):this.Ff=Gn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Ph(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){qr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ua(Ni,Zo);var X1=function(){Ni.call(this),this.pushButton=!0};Ua(X1,Ni);var Gp=function(){Ni.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ua(Gp,Ni);var a2=function(){var e,t;Zo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+Ph(i(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){qr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ua(a2,Zo),Gp.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Gp.prototype.createOption=function(e){var t=new a2;return t.Parent=this,t.optionName=e,this.Kids.push(t),pye.call(this.scope,t),t};var Z1=function(){Ni.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};Ua(Z1,Ni);var Yf=function(){Zo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,13)},set:function(t){t?this.Ff=Kn(this.Ff,13):this.Ff=Gn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,21)},set:function(t){t?this.Ff=Kn(this.Ff,21):this.Ff=Gn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,23)},set:function(t){t?this.Ff=Kn(this.Ff,23):this.Ff=Gn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,24)},set:function(t){t?this.Ff=Kn(this.Ff,24):this.Ff=Gn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,25)},set:function(t){t?this.Ff=Kn(this.Ff,25):this.Ff=Gn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,26)},set:function(t){t?this.Ff=Kn(this.Ff,26):this.Ff=Gn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ua(Yf,Zo);var Q1=function(){Yf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,14)},set:function(e){e?this.Ff=Kn(this.Ff,14):this.Ff=Gn(this.Ff,14)}}),this.password=!0};Ua(Q1,Yf);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ul(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=hk(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Qt(gt.internal.getWidth(e))+" "+Qt(gt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Qt(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ul(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],s=gt.internal.getHeight(e),o=gt.internal.getWidth(e),l=hk(e,e.caption);return i.push("1 g"),i.push("0 0 "+Qt(o)+" "+Qt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Qt(o-1)+" "+Qt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Qt(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=ul(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Qt(gt.internal.getWidth(e))+" "+Qt(gt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=gt.RadioButton.Circle.YesNormal,t.D[e]=gt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ul(e);t.scope=e.scope;var r=[],n=gt.internal.getWidth(e)<=gt.internal.getHeight(e)?gt.internal.getWidth(e)/4:gt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=gt.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Au(gt.internal.getWidth(e)/2)+" "+Au(gt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ul(e);t.scope=e.scope;var r=[],n=gt.internal.getWidth(e)<=gt.internal.getHeight(e)?gt.internal.getWidth(e)/4:gt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*gt.internal.Bezier_C).toFixed(5)),o=Number((n*gt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Au(gt.internal.getWidth(e)/2)+" "+Au(gt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Au(gt.internal.getWidth(e)/2)+" "+Au(gt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ul(e);t.scope=e.scope;var r=[],n=gt.internal.getWidth(e)<=gt.internal.getHeight(e)?gt.internal.getWidth(e)/4:gt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*gt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Au(gt.internal.getWidth(e)/2)+" "+Au(gt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=gt.RadioButton.Cross.YesNormal,t.D[e]=gt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ul(e);t.scope=e.scope;var r=[],n=gt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Qt(gt.internal.getWidth(e)-2)+" "+Qt(gt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Qt(n.x1.x)+" "+Qt(n.x1.y)+" m"),r.push(Qt(n.x2.x)+" "+Qt(n.x2.y)+" l"),r.push(Qt(n.x4.x)+" "+Qt(n.x4.y)+" m"),r.push(Qt(n.x3.x)+" "+Qt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ul(e);t.scope=e.scope;var r=gt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Qt(gt.internal.getWidth(e))+" "+Qt(gt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Qt(gt.internal.getWidth(e)-2)+" "+Qt(gt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Qt(r.x1.x)+" "+Qt(r.x1.y)+" m"),n.push(Qt(r.x2.x)+" "+Qt(r.x2.y)+" l"),n.push(Qt(r.x4.x)+" "+Qt(r.x4.y)+" m"),n.push(Qt(r.x3.x)+" "+Qt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ul(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Qt(gt.internal.getWidth(e))+" "+Qt(gt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};gt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=gt.internal.getWidth(e),r=gt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},gt.internal.getWidth=function(e){var t=0;return qr(e)==="object"&&(t=m8(e.Rect[2])),t},gt.internal.getHeight=function(e){var t=0;return qr(e)==="object"&&(t=m8(e.Rect[3])),t};var pye=Mn.addField=function(e){if(hye(this,e),!(e instanceof Zo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Mn.AcroFormChoiceField=Wp,Mn.AcroFormListBox=Hp,Mn.AcroFormComboBox=Kp,Mn.AcroFormEditBox=Y1,Mn.AcroFormButton=Ni,Mn.AcroFormPushButton=X1,Mn.AcroFormRadioButton=Gp,Mn.AcroFormCheckBox=Z1,Mn.AcroFormTextField=Yf,Mn.AcroFormPasswordField=Q1,Mn.AcroFormAppearance=gt,Mn.AcroForm={ChoiceField:Wp,ListBox:Hp,ComboBox:Kp,EditBox:Y1,Button:Ni,PushButton:X1,RadioButton:Gp,CheckBox:Z1,TextField:Yf,PasswordField:Q1,Appearance:gt},At.AcroForm={ChoiceField:Wp,ListBox:Hp,ComboBox:Kp,EditBox:Y1,Button:Ni,PushButton:X1,RadioButton:Gp,CheckBox:Z1,TextField:Yf,PasswordField:Q1,Appearance:gt};function jH(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(E,A){var D,R,G,F,q,B=r;if((A=A||r)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(P(E))for(q in n)for(G=n[q],D=0;D<G.length;D+=1){for(F=!0,R=0;R<G[D].length;R+=1)if(G[D][R]!==void 0&&G[D][R]!==E[R]){F=!1;break}if(F===!0){B=q;break}}else for(q in n)for(G=n[q],D=0;D<G.length;D+=1){for(F=!0,R=0;R<G[D].length;R+=1)if(G[D][R]!==void 0&&G[D][R]!==E.charCodeAt(R)){F=!1;break}if(F===!0){B=q;break}}return B===r&&A!==r&&(B=A),B},s=function E(A){for(var D=this.internal.write,R=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);A.objectId=this.internal.newObject();var F=[];if(F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Image"}),F.push({key:"Width",value:A.width}),F.push({key:"Height",value:A.height}),A.colorSpace===g.INDEXED?F.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(A.palette.length/3-1)+" "+("sMask"in A&&A.sMask!==void 0?A.objectId+2:A.objectId+1)+" 0 R]"}):(F.push({key:"ColorSpace",value:"/"+A.colorSpace}),A.colorSpace===g.DEVICE_CMYK&&F.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),F.push({key:"BitsPerComponent",value:A.bitsPerComponent}),"decodeParameters"in A&&A.decodeParameters!==void 0&&F.push({key:"DecodeParms",value:"<<"+A.decodeParameters+">>"}),"transparency"in A&&Array.isArray(A.transparency)&&A.transparency.length>0){for(var q="",B=0,Z=A.transparency.length;B<Z;B++)q+=A.transparency[B]+" "+A.transparency[B]+" ";F.push({key:"Mask",value:"["+q+"]"})}A.sMask!==void 0&&F.push({key:"SMask",value:A.objectId+1+" 0 R"});var le=A.filter!==void 0?["/"+A.filter]:void 0;if(R({data:A.data,additionalKeyValues:F,alreadyAppliedFilters:le,objectId:A.objectId}),D("endobj"),"sMask"in A&&A.sMask!==void 0){var fe,$=(fe=A.sMaskBitsPerComponent)!==null&&fe!==void 0?fe:A.bitsPerComponent,Y={width:A.width,height:A.height,colorSpace:"DeviceGray",bitsPerComponent:$,data:A.sMask};"filter"in A&&(Y.decodeParameters="/Predictor ".concat(A.predictor," /Colors 1 /BitsPerComponent ").concat($," /Columns ").concat(A.width),Y.filter=A.filter),E.call(this,Y)}if(A.colorSpace===g.INDEXED){var J=this.internal.newObject();R({data:C(new Uint8Array(A.palette)),objectId:J}),D("endobj")}},o=function(){var E=this.internal.collections[t+"images"];for(var A in E)s.call(this,E[A])},l=function(){var E,A=this.internal.collections[t+"images"],D=this.internal.write;for(var R in A)D("/I"+(E=A[R]).index,E.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var E=this.internal.collections[t+"images"];return c.call(this),E},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(E){return typeof e["process"+E.toUpperCase()]=="function"},h=function(E){return qr(E)==="object"&&E.nodeType===1},p=function(E,A){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var D=""+E.getAttribute("src");if(D.indexOf("data:image/")===0)return G1(unescape(D).split("base64,").pop());var R=e.loadFile(D,!0);if(R!==void 0)return R}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var G;switch(A){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;default:G="image/jpeg"}return G1(E.toDataURL(G,1).split("base64,").pop())}},y=function(E){var A=this.internal.collections[t+"images"];if(A){for(var D in A)if(E===A[D].alias)return A[D]}},m=function(E,A,D){return E||A||(E=-96,A=-96),E<0&&(E=-1*D.width*72/E/this.internal.scaleFactor),A<0&&(A=-1*D.height*72/A/this.internal.scaleFactor),E===0&&(E=A*D.width/D.height),A===0&&(A=E*D.height/D.width),[E,A]},v=function(E,A,D,R,G,F){var q=m.call(this,D,R,G),B=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,le=u.call(this);if(D=q[0],R=q[1],le[G.index]=G,F){F*=Math.PI/180;var fe=Math.cos(F),$=Math.sin(F),Y=function(ae){return ae.toFixed(4)},J=[Y(fe),Y($),Y(-1*$),Y(fe),0,0,"cm"]}this.internal.write("q"),F?(this.internal.write([1,"0","0",1,B(E),Z(A+R),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([B(D),"0","0",B(R),"0","0","cm"].join(" "))):this.internal.write([B(D),"0","0",B(R),B(E),Z(A+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(E){var A,D,R=0;if(typeof E=="string")for(D=E.length,A=0;A<D;A++)R=(R<<5)-R+E.charCodeAt(A),R|=0;else if(P(E))for(D=E.byteLength/2,A=0;A<D;A++)R=(R<<5)-R+E[A],R|=0;return R},j=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var A=!0;return E.length===0&&(A=!1),E.length%4!=0&&(A=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(A=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(A=!1),A},N=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var A=E.indexOf(",");return A<0?null:E.substring(0,A).trim().endsWith("base64")?E.substring(A+1):null};e.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var P=e.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},k=e.__addimage__.binaryStringToUint8Array=function(E){for(var A=E.length,D=new Uint8Array(A),R=0;R<A;R++)D[R]=E.charCodeAt(R);return D},C=e.__addimage__.arrayBufferToBinaryString=function(E){for(var A="",D=P(E)?E:new Uint8Array(E),R=0;R<D.length;R+=8192)A+=String.fromCharCode.apply(null,D.subarray(R,R+8192));return A};e.addImage=function(){var E,A,D,R,G,F,q,B,Z;if(typeof arguments[1]=="number"?(A=r,D=arguments[1],R=arguments[2],G=arguments[3],F=arguments[4],q=arguments[5],B=arguments[6],Z=arguments[7]):(A=arguments[1],D=arguments[2],R=arguments[3],G=arguments[4],F=arguments[5],q=arguments[6],B=arguments[7],Z=arguments[8]),qr(E=arguments[0])==="object"&&!h(E)&&"imageData"in E){var le=E;E=le.imageData,A=le.format||A||r,D=le.x||D||0,R=le.y||R||0,G=le.w||le.width||G,F=le.h||le.height||F,q=le.alias||q,B=le.compression||B,Z=le.rotation||le.angle||Z}var fe=this.internal.getFilters();if(B===void 0&&fe.indexOf("FlateEncode")!==-1&&(B="SLOW"),isNaN(D)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var $=O.call(this,E,A,q,B);return v.call(this,D,R,G,F,$,Z),this};var O=function(E,A,D,R){var G,F,q;if(typeof E=="string"&&i(E)===r){E=unescape(E);var B=I(E,!1);(B!==""||(B=e.loadFile(E,!0))!==void 0)&&(E=B)}if(h(E)&&(E=p(E,A)),A=i(E,A),!f(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(((q=D)==null||q.length===0)&&(D=function(Z){return typeof Z=="string"||P(Z)?w(Z):P(Z.data)?w(Z.data):null}(E)),(G=y.call(this,D))||(E instanceof Uint8Array||A==="RGBA"||(F=E,E=k(E)),G=this["process"+A.toUpperCase()](E,d.call(this),D,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in e.image_compression?Z:x.NONE}(R),F)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},I=e.__addimage__.convertBase64ToBinaryString=function(E,A){A=typeof A!="boolean"||A;var D,R="";if(typeof E=="string"){var G;D=(G=N(E))!==null&&G!==void 0?G:E;try{R=G1(D)}catch(F){if(A)throw j(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+F.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};e.getImageProperties=function(E){var A,D,R="";if(h(E)&&(E=p(E)),typeof E=="string"&&i(E)===r&&((R=I(E,!1))===""&&(R=e.loadFile(E)||""),E=R),D=i(E),!f(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(E instanceof Uint8Array||(E=k(E)),!(A=this["process"+D.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return A.fileType=D,A}})(At.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};At.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),x=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(g(n.contents))+")",s+=" /Popup "+v.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+p(g(x))+") >>",m.content=s;var w=m.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(s+=" /Open true"),s+=" >>",v.content=s,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(y(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var P=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+P+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+i),h:u(n+s)},options:o,type:"link"})},e.textWithLink=function(r,n,i,s){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,i-u,l,o,s),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(At.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},l=e.__arabicParser__.isArabicEndLetter=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(m){return o(m)&&i.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(m){var v=0,g=r,x="",w=0;for(v=0;v<m.length;v+=1)g[m.charCodeAt(v)]!==void 0?(w++,typeof(g=g[m.charCodeAt(v)])=="number"&&(x+=String.fromCharCode(g),g=r,w=0),v===m.length-1&&(g=r,x+=m.charAt(v-(w-1)),v-=w-1,w=0)):(g=r,x+=m.charAt(v-w),v-=w,w=0);return x};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,v,g){return o(m)?s(m)===!1?-1:!u(m)||!o(v)&&!o(g)||!o(g)&&l(v)||l(m)&&!o(v)||l(m)&&c(v)||l(m)&&l(v)?0:d(m)&&o(v)&&!l(v)&&o(g)&&u(g)?3:l(m)||!o(g)?1:2:-1},p=function(m){var v=0,g=0,x=0,w="",j="",N="",P=(m=m||"").split("\\s+"),k=[];for(v=0;v<P.length;v+=1){for(k.push(""),g=0;g<P[v].length;g+=1)w=P[v][g],j=P[v][g-1],N=P[v][g+1],o(w)?(x=h(w,j,N),k[v]+=x!==-1?String.fromCharCode(t[w.charCodeAt(0)][x]):w):k[v]+=w;k[v]=f(k[v])}return k.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(v)){var x=0;for(g=[],x=0;x<v.length;x+=1)Array.isArray(v[x])?g.push([p(v[x][0]),v[x][1],v[x][2]]):g.push([p(v[x])]);m=g}else m=p(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",y])}(At.API),At.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(At.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(m){y=m}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,y=0,m=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var g=u.maxWidth;g>0?typeof c=="string"?c=this.splitTextToSize(c,g):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,j){return w.concat(v.splitTextToSize(j,g))},[])):c=Array.isArray(c)?c:[c];for(var x=0;x<c.length;x++)p<(m=this.getStringUnitWidth(c[x],{font:f})*d)&&(p=m);return p!==0&&(y=c.length),{w:p/=h,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,y,m,v,g=[],x=[],w=[],j={},N={},P=[],k=[],C=(h=h||{}).autoSize||!1,O=h.printHeaders!==!1,I=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,E=h.margins||Object.assign({width:this.getPageWidth()},t),A=typeof h.padding=="number"?h.padding:3,D=h.headerBackgroundColor||"#c8c8c8",R=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=R,this.setFontSize(I),f==null)x=g=Object.keys(d[0]),w=g.map(function(){return"left"});else if(Array.isArray(f)&&qr(f[0])==="object")for(g=f.map(function(le){return le.name}),x=f.map(function(le){return le.prompt||le.name||""}),w=f.map(function(le){return le.align||"left"}),p=0;p<f.length;p+=1)N[f[p].name]=.7499990551181103*f[p].width;else Array.isArray(f)&&typeof f[0]=="string"&&(x=g=f,w=g.map(function(){return"left"}));if(C||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<g.length;p+=1){for(j[v=g[p]]=d.map(function(le){return le[v]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(x[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=j[v],this.setFont(void 0,"normal"),m=0;m<y.length;m+=1)P.push(this.getTextDimensions(y[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[v]=Math.max.apply(null,P)+A+A,P=[]}if(O){var G={};for(p=0;p<g.length;p+=1)G[g[p]]={},G[g[p]].text=x[p],G[g[p]].align=w[p];var F=l.call(this,G,N);k=g.map(function(le){return new s(c,u,N[le],F,G[le].text,void 0,G[le].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var q=f.reduce(function(le,fe){return le[fe.name]=fe.align,le},{});for(p=0;p<d.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:d[p]},this);var B=l.call(this,d[p],N);for(m=0;m<g.length;m+=1){var Z=d[p][g[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:m,data:Z},this),o.call(this,new s(c,u,N[g[m]],B,Z,p+2,q[g[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(p){var y=c[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+d+d},this).reduce(function(p,y){return Math.max(p,y)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(y)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(At.API);var NH={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},SH=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],pk=jH(SH),_H=[100,200,300,400,500,600,700,800,900],mye=jH(_H);function m_(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return NH[s=s||"normal"]?s:"normal"}(e.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),i=function(s){return typeof pk[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function g8(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var gye={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},x8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function y8(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function v8(e){return e.trimLeft()}function xye(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function yye(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var i1,b8,w8,tp,a1,j8,N8,S8,g_=["times"];function _8(e,t,r,n,i){var s=4,o=A8;switch(i){case At.API.image_compression.FAST:s=1,o=P8;break;case At.API.image_compression.MEDIUM:s=6,o=k8;break;case At.API.image_compression.SLOW:s=9,o=C8}e=function(c,u,d,f){for(var h,p=c.length/u,y=new Uint8Array(c.length+p),m=[vye,P8,A8,k8,C8],v=0;v<p;v+=1){var g=v*u,x=c.subarray(g,g+u);if(f)y.set(f(x,d,h),g+v);else{for(var w=m.length,j=[],N=0;N<w;N+=1)j[N]=m[N](x,d,h);var P=wye(j.concat());y.set(j[P],g+v)}h=x}return y}(e,t,Math.ceil(r*n/8),o);var l=tk(e,{level:s});return At.API.__addimage__.arrayBufferToBinaryString(l)}function vye(e){var t=Array.apply([],e);return t.unshift(0),t}function P8(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=e[i-t]||0;n[i+1]=e[i]-s+256&255}return n}function A8(e,t,r){var n=e.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var o=r&&r[s]||0;i[s+1]=e[s]-o+256&255}return i}function k8(e,t,r){var n=e.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var o=e[s-t]||0,l=r&&r[s]||0;i[s+1]=e[s]+256-(o+l>>>1)&255}return i}function C8(e,t,r){var n=e.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var o=bye(e[s-t]||0,r&&r[s]||0,r&&r[s-t]||0);i[s+1]=e[s]-o+256&255}return i}function bye(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),s=Math.abs(e+t-r-r);return n<=i&&n<=s?e:i<=s?t:r}function wye(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function x_(e,t,r){var n=t*r,i=Math.floor(n/8),s=16-(n-8*i+r),o=(1<<r)-1;return PH(e,i)>>s&o}function T8(e,t,r,n){var i=r*n,s=Math.floor(i/8),o=16-(i-8*s+n),l=(1<<n)-1,c=(t&l)<<o;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var h=f>>8&255;u.setUint8(d,h)}})(e,s,PH(e,s)&~(l<<o)&65535|c)}function PH(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function jye(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<1+(7&i);e[t++],e[t++];var l=null,c=null;s&&(l=t,c=o,t+=3*o);var u=!0,d=[],f=0,h=null,p=0,y=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],1&m||(h=null),p=m>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,j=e[t++],N=j>>6&1,P=1<<1+(7&j),k=l,C=c,O=!1;j>>7&&(O=!0,k=t,C=P,t+=3*P);var I=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}d.push({x:v,y:g,width:x,height:w,has_local_palette:O,palette_offset:k,palette_size:C,data_offset:I,data_length:t-I,transparent_index:h,interlaced:!!N,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(A){if(A<0||A>=d.length)throw new Error("Frame index out of range.");return d[A]},this.decodeAndBlitFrameBGRA=function(A,D){var R=this.frameInfo(A),G=R.width*R.height,F=new Uint8Array(G);E8(e,R.data_offset,F,G);var q=R.palette_offset,B=R.transparent_index;B===null&&(B=256);var Z=R.width,le=r-Z,fe=Z,$=4*(R.y*r+R.x),Y=4*((R.y+R.height)*r+R.x),J=$,ae=4*le;R.interlaced===!0&&(ae+=4*r*7);for(var de=8,ce=0,be=F.length;ce<be;++ce){var oe=F[ce];if(fe===0&&(fe=Z,(J+=ae)>=Y&&(ae=4*le+4*r*(de-1),J=$+(Z+le)*(de<<1),de>>=1)),oe===B)J+=4;else{var ye=e[q+3*oe],je=e[q+3*oe+1],pe=e[q+3*oe+2];D[J++]=pe,D[J++]=je,D[J++]=ye,D[J++]=255}--fe}},this.decodeAndBlitFrameRGBA=function(A,D){var R=this.frameInfo(A),G=R.width*R.height,F=new Uint8Array(G);E8(e,R.data_offset,F,G);var q=R.palette_offset,B=R.transparent_index;B===null&&(B=256);var Z=R.width,le=r-Z,fe=Z,$=4*(R.y*r+R.x),Y=4*((R.y+R.height)*r+R.x),J=$,ae=4*le;R.interlaced===!0&&(ae+=4*r*7);for(var de=8,ce=0,be=F.length;ce<be;++ce){var oe=F[ce];if(fe===0&&(fe=Z,(J+=ae)>=Y&&(ae=4*le+4*r*(de-1),J=$+(Z+le)*(de<<1),de>>=1)),oe===B)J+=4;else{var ye=e[q+3*oe],je=e[q+3*oe+1],pe=e[q+3*oe+2];D[J++]=ye,D[J++]=je,D[J++]=pe,D[J++]=255}--fe}}}function E8(e,t,r,n){for(var i=e[t++],s=1<<i,o=s+1,l=o+1,c=i+1,u=(1<<c)-1,d=0,f=0,h=0,p=e[t++],y=new Int32Array(4096),m=null;;){for(;d<16&&p!==0;)f|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<c)break;var v=f&u;if(f>>=c,d-=c,v!==s){if(v===o)break;for(var g=v<l?v:m,x=0,w=g;w>s;)w=y[w]>>8,++x;var j=w;if(h+x+(g!==v?1:0)>n)return void nn.log("Warning, gif stream longer than expected.");r[h++]=j;var N=h+=x;for(g!==v&&(r[h++]=j),w=g;x--;)w=y[w],r[--N]=255&w,w>>=8;m!==null&&l<4096&&(y[l++]=m<<8|j,l>=u+1&&c<12&&(++c,u=u<<1|1)),m=v}else l=o+1,u=(1<<(c=i+1))-1,m=null}return h!==n&&nn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function y_(e){var t,r,n,i,s,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),y=new Array(64),m=[],v=0,g=7,x=new Array(64),w=new Array(64),j=new Array(64),N=new Array(256),P=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function F($,Y){for(var J=0,ae=0,de=new Array,ce=1;ce<=16;ce++){for(var be=1;be<=$[ce];be++)de[Y[ae]]=[],de[Y[ae]][0]=J,de[Y[ae]][1]=ce,ae++,J++;J*=2}return de}function q($){for(var Y=$[0],J=$[1]-1;J>=0;)Y&1<<J&&(v|=1<<g),J--,--g<0&&(v==255?(B(255),B(0)):B(v),g=7,v=0)}function B($){m.push($)}function Z($){B($>>8&255),B(255&$)}function le($,Y,J,ae,de){for(var ce,be=de[0],oe=de[240],ye=function(De,pt){var Je,ne,me,Ae,Re,Le,Fe,Ue,Qe,dt,ot=0;for(Qe=0;Qe<8;++Qe){Je=De[ot],ne=De[ot+1],me=De[ot+2],Ae=De[ot+3],Re=De[ot+4],Le=De[ot+5],Fe=De[ot+6];var Yr=Je+(Ue=De[ot+7]),pr=Je-Ue,yt=ne+Fe,Wt=ne-Fe,Or=me+Le,Ot=me-Le,cr=Ae+Re,er=Ae-Re,Rn=Yr+cr,ai=Yr-cr,en=yt+Or,Ht=yt-Or;De[ot]=Rn+en,De[ot+4]=Rn-en;var Mr=.707106781*(Ht+ai);De[ot+2]=ai+Mr,De[ot+6]=ai-Mr;var $d=.382683433*((Rn=er+Ot)-(Ht=Wt+pr)),Vi=.5411961*Rn+$d,Gl=1.306562965*Ht+$d,tl=.707106781*(en=Ot+Wt),Lt=pr+tl,Yl=pr-tl;De[ot+5]=Yl+Vi,De[ot+3]=Yl-Vi,De[ot+1]=Lt+Gl,De[ot+7]=Lt-Gl,ot+=8}for(ot=0,Qe=0;Qe<8;++Qe){Je=De[ot],ne=De[ot+8],me=De[ot+16],Ae=De[ot+24],Re=De[ot+32],Le=De[ot+40],Fe=De[ot+48];var Xl=Je+(Ue=De[ot+56]),Ns=Je-Ue,Ss=ne+Fe,kn=ne-Fe,vi=me+Le,Ci=me-Le,Bd=Ae+Re,au=Ae-Re,lo=Xl+Bd,rl=Xl-Bd,co=Ss+vi,uo=Ss-vi;De[ot]=lo+co,De[ot+32]=lo-co;var _s=.707106781*(uo+rl);De[ot+16]=rl+_s,De[ot+48]=rl-_s;var Ud=.382683433*((lo=au+Ci)-(uo=kn+Ns)),nl=.5411961*lo+Ud,zd=1.306562965*uo+Ud,Oh=.707106781*(co=Ci+kn),Mh=Ns+Oh,Lh=Ns-Oh;De[ot+40]=Lh+nl,De[ot+24]=Lh-nl,De[ot+8]=Mh+zd,De[ot+56]=Mh-zd,ot++}for(Qe=0;Qe<64;++Qe)dt=De[Qe]*pt[Qe],p[Qe]=dt>0?dt+.5|0:dt-.5|0;return p}($,Y),je=0;je<64;++je)y[k[je]]=ye[je];var pe=y[0]-J;J=y[0],pe==0?q(ae[0]):(q(ae[h[ce=32767+pe]]),q(f[ce]));for(var Ne=63;Ne>0&&y[Ne]==0;)Ne--;if(Ne==0)return q(be),J;for(var xe,V=1;V<=Ne;){for(var Ve=V;y[V]==0&&V<=Ne;)++V;var Ze=V-Ve;if(Ze>=16){xe=Ze>>4;for(var it=1;it<=xe;++it)q(oe);Ze&=15}ce=32767+y[V],q(de[(Ze<<4)+h[ce]]),q(f[ce]),V++}return Ne!=63&&q(be),J}function fe($){$=Math.min(Math.max($,1),100),s!=$&&(function(Y){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var de=o((J[ae]*Y+50)/100);de=Math.min(Math.max(de,1),255),l[k[ae]]=de}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var oe=o((ce[be]*Y+50)/100);oe=Math.min(Math.max(oe,1),255),c[k[be]]=oe}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,pe=0;pe<8;pe++)for(var Ne=0;Ne<8;Ne++)u[je]=1/(l[k[je]]*ye[pe]*ye[Ne]*8),d[je]=1/(c[k[je]]*ye[pe]*ye[Ne]*8),je++}($<50?Math.floor(5e3/$):Math.floor(200-2*$)),s=$)}this.encode=function($,Y){Y&&fe(Y),m=new Array,v=0,g=7,Z(65496),Z(65504),Z(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),Z(1),Z(1),B(0),B(0),function(){Z(65499),Z(132),B(0);for(var ne=0;ne<64;ne++)B(l[ne]);B(1);for(var me=0;me<64;me++)B(c[me])}(),function(ne,me){Z(65472),Z(17),B(8),Z(me),Z(ne),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)}($.width,$.height),function(){Z(65476),Z(418),B(0);for(var ne=0;ne<16;ne++)B(C[ne+1]);for(var me=0;me<=11;me++)B(O[me]);B(16);for(var Ae=0;Ae<16;Ae++)B(I[Ae+1]);for(var Re=0;Re<=161;Re++)B(E[Re]);B(1);for(var Le=0;Le<16;Le++)B(A[Le+1]);for(var Fe=0;Fe<=11;Fe++)B(D[Fe]);B(17);for(var Ue=0;Ue<16;Ue++)B(R[Ue+1]);for(var Qe=0;Qe<=161;Qe++)B(G[Qe])}(),Z(65498),Z(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var J=0,ae=0,de=0;v=0,g=7,this.encode.displayName="_encode_";for(var ce,be,oe,ye,je,pe,Ne,xe,V,Ve=$.data,Ze=$.width,it=$.height,De=4*Ze,pt=0;pt<it;){for(ce=0;ce<De;){for(je=De*pt+ce,Ne=-1,xe=0,V=0;V<64;V++)pe=je+(xe=V>>3)*De+(Ne=4*(7&V)),pt+xe>=it&&(pe-=De*(pt+1+xe-it)),ce+Ne>=De&&(pe-=ce+Ne-De+4),be=Ve[pe++],oe=Ve[pe++],ye=Ve[pe++],x[V]=(P[be]+P[oe+256|0]+P[ye+512|0]>>16)-128,w[V]=(P[be+768|0]+P[oe+1024|0]+P[ye+1280|0]>>16)-128,j[V]=(P[be+1280|0]+P[oe+1536|0]+P[ye+1792|0]>>16)-128;J=le(x,u,J,t,n),ae=le(w,d,ae,r,i),de=le(j,d,de,r,i),ce+=32}pt+=8}if(g>=0){var Je=[];Je[1]=g+1,Je[0]=(1<<g+1)-1,q(Je)}return Z(65497),new Uint8Array(m)},e=e||50,function(){for(var $=String.fromCharCode,Y=0;Y<256;Y++)N[Y]=$(Y)}(),t=F(C,O),r=F(A,D),n=F(I,E),i=F(R,G),function(){for(var $=1,Y=2,J=1;J<=15;J++){for(var ae=$;ae<Y;ae++)h[32767+ae]=J,f[32767+ae]=[],f[32767+ae][1]=J,f[32767+ae][0]=ae;for(var de=-(Y-1);de<=-$;de++)h[32767+de]=J,f[32767+de]=[],f[32767+de][1]=J,f[32767+de][0]=Y-1+de;$<<=1,Y<<=1}}(),function(){for(var $=0;$<256;$++)P[$]=19595*$,P[$+256|0]=38470*$,P[$+512|0]=7471*$+32768,P[$+768|0]=-11059*$,P[$+1024|0]=-21709*$,P[$+1280|0]=32768*$+8421375,P[$+1536|0]=-27439*$,P[$+1792|0]=-5329*$}(),fe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function xo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function O8(e){function t(O){if(!O)throw Error("assert :P")}function r(O,I,E){for(var A=0;4>A;A++)if(O[I+A]!=E.charCodeAt(A))return!0;return!1}function n(O,I,E,A,D){for(var R=0;R<D;R++)O[I+R]=E[A+R]}function i(O,I,E,A){for(var D=0;D<A;D++)O[I+D]=E}function s(O){return new Int32Array(O)}function o(O,I){for(var E=[],A=0;A<O;A++)E.push(new I);return E}function l(O,I){var E=[];return function A(D,R,G){for(var F=G[R],q=0;q<F&&(D.push(G.length>R+1?[]:new I),!(G.length<R+1));q++)A(D[q],R+1,G)}(E,0,O),E}var c=function(){var O=this;function I(b,_){for(var M=1<<_-1>>>0;b&M;)M>>>=1;return M?(b&M-1)+M:b}function E(b,_,M,L,z){t(!(L%M));do b[_+(L-=M)]=z;while(0<L)}function A(b,_,M,L,z){if(t(2328>=z),512>=z)var W=s(512);else if((W=s(z))==null)return 0;return function(H,X,Q,ee,ge,Pe){var te,ve,Se=X,Ce=1<<Q,_e=s(16),Ee=s(16);for(t(ge!=0),t(ee!=null),t(H!=null),t(0<Q),ve=0;ve<ge;++ve){if(15<ee[ve])return 0;++_e[ee[ve]]}if(_e[0]==ge)return 0;for(Ee[1]=0,te=1;15>te;++te){if(_e[te]>1<<te)return 0;Ee[te+1]=Ee[te]+_e[te]}for(ve=0;ve<ge;++ve)te=ee[ve],0<ee[ve]&&(Pe[Ee[te]++]=ve);if(Ee[15]==1)return(ee=new D).g=0,ee.value=Pe[0],E(H,Se,1,Ce,ee),Ce;var Ie,We=-1,Be=Ce-1,Pt=0,mt=1,nr=1,vt=1<<Q;for(ve=0,te=1,ge=2;te<=Q;++te,ge<<=1){if(mt+=nr<<=1,0>(nr-=_e[te]))return 0;for(;0<_e[te];--_e[te])(ee=new D).g=te,ee.value=Pe[ve++],E(H,Se+Pt,ge,vt,ee),Pt=I(Pt,te)}for(te=Q+1,ge=2;15>=te;++te,ge<<=1){if(mt+=nr<<=1,0>(nr-=_e[te]))return 0;for(;0<_e[te];--_e[te]){if(ee=new D,(Pt&Be)!=We){for(Se+=vt,Ie=1<<(We=te)-Q;15>We&&!(0>=(Ie-=_e[We]));)++We,Ie<<=1;Ce+=vt=1<<(Ie=We-Q),H[X+(We=Pt&Be)].g=Ie+Q,H[X+We].value=Se-X-We}ee.g=te-Q,ee.value=Pe[ve++],E(H,Se+(Pt>>Q),ge,vt,ee),Pt=I(Pt,te)}}return mt!=2*Ee[15]-1?0:Ce}(b,_,M,L,z,W)}function D(){this.value=this.g=0}function R(){this.value=this.g=0}function G(){this.G=o(5,D),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(sf,R)}function F(b,_,M,L){t(b!=null),t(_!=null),t(2147483648>L),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=_,b.pa=M,b.Jd=_,b.Yc=M+L,b.Zc=4<=L?M+L-4+1:M,be(b)}function q(b,_){for(var M=0;0<_--;)M|=ye(b,128)<<_;return M}function B(b,_){var M=q(b,_);return oe(b)?-M:M}function Z(b,_,M,L){var z,W=0;for(t(b!=null),t(_!=null),t(4294967288>L),b.Sb=L,b.Ra=0,b.u=0,b.h=0,4<L&&(L=4),z=0;z<L;++z)W+=_[M+z]<<8*z;b.Ra=W,b.bb=L,b.oa=_,b.pa=M}function le(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<uu-8>>>0,++b.bb,b.u-=8;ae(b)&&(b.h=1,b.u=0)}function fe(b,_){if(t(0<=_),!b.h&&_<=qa){var M=J(b)&Va[_];return b.u+=_,le(b),M}return b.h=1,b.u=0}function $(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(b){return b.Ra>>>(b.u&uu-1)>>>0}function ae(b){return t(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>uu}function de(b,_){b.u=_,b.h=ae(b)}function ce(b){b.u>=nc&&(t(b.u>=nc),le(b))}function be(b){t(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(t(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function oe(b){return q(b,1)}function ye(b,_){var M=b.Ca;0>b.b&&be(b);var L=b.b,z=M*_>>>8,W=(b.I>>>L>z)+0;for(W?(M-=z,b.I-=z+1<<L>>>0):M=z+1,L=M,z=0;256<=L;)z+=8,L>>=8;return L=7^z+du[L],b.b-=L,b.Ca=(M<<L)-1,W}function je(b,_,M){b[_+0]=M>>24&255,b[_+1]=M>>16&255,b[_+2]=M>>8&255,b[_+3]=255&M}function pe(b,_){return b[_+0]|b[_+1]<<8}function Ne(b,_){return pe(b,_)|b[_+2]<<16}function xe(b,_){return pe(b,_)|pe(b,_+2)<<16}function V(b,_){var M=1<<_;return t(b!=null),t(0<_),b.X=s(M),b.X==null?0:(b.Mb=32-_,b.Xa=_,1)}function Ve(b,_){t(b!=null),t(_!=null),t(b.Xa==_.Xa),n(_.X,0,b.X,0,1<<_.Xa)}function Ze(){this.X=[],this.Xa=this.Mb=0}function it(b,_,M,L){t(M!=null),t(L!=null);var z=M[0],W=L[0];return z==0&&(z=(b*W+_/2)/_),W==0&&(W=(_*z+b/2)/b),0>=z||0>=W?0:(M[0]=z,L[0]=W,1)}function De(b,_){return b+(1<<_)-1>>>_}function pt(b,_){return((4278255360&b)+(4278255360&_)>>>0&4278255360)+((16711935&b)+(16711935&_)>>>0&16711935)>>>0}function Je(b,_){O[_]=function(M,L,z,W,H,X,Q){var ee;for(ee=0;ee<H;++ee){var ge=O[b](X[Q+ee-1],z,W+ee);X[Q+ee]=pt(M[L+ee],ge)}}}function ne(){this.ud=this.hd=this.jd=0}function me(b,_){return((4278124286&(b^_))>>>1)+(b&_)>>>0}function Ae(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Re(b,_){return Ae(b+(b-_+.5>>1))}function Le(b,_,M){return Math.abs(_-M)-Math.abs(b-M)}function Fe(b,_,M,L,z,W,H){for(L=W[H-1],M=0;M<z;++M)W[H+M]=L=pt(b[_+M],L)}function Ue(b,_,M,L,z){var W;for(W=0;W<M;++W){var H=b[_+W],X=H>>8&255,Q=16711935&(Q=(Q=16711935&H)+((X<<16)+X));L[z+W]=(4278255360&H)+Q>>>0}}function Qe(b,_){_.jd=255&b,_.hd=b>>8&255,_.ud=b>>16&255}function dt(b,_,M,L,z,W){var H;for(H=0;H<L;++H){var X=_[M+H],Q=X>>>8,ee=X,ge=255&(ge=(ge=X>>>16)+((b.jd<<24>>24)*(Q<<24>>24)>>>5));ee=255&(ee=(ee+=(b.hd<<24>>24)*(Q<<24>>24)>>>5)+((b.ud<<24>>24)*(ge<<24>>24)>>>5)),z[W+H]=(4278255360&X)+(ge<<16)+ee}}function ot(b,_,M,L,z){O[_]=function(W,H,X,Q,ee,ge,Pe,te,ve){for(Q=Pe;Q<te;++Q)for(Pe=0;Pe<ve;++Pe)ee[ge++]=z(X[L(W[H++])])},O[b]=function(W,H,X,Q,ee,ge,Pe){var te=8>>W.b,ve=W.Ea,Se=W.K[0],Ce=W.w;if(8>te)for(W=(1<<W.b)-1,Ce=(1<<te)-1;H<X;++H){var _e,Ee=0;for(_e=0;_e<ve;++_e)_e&W||(Ee=L(Q[ee++])),ge[Pe++]=z(Se[Ee&Ce]),Ee>>=te}else O["VP8LMapColor"+M](Q,ee,Se,Ce,ge,Pe,H,X,ve)}}function Yr(b,_,M,L,z){for(M=_+M;_<M;){var W=b[_++];L[z++]=W>>16&255,L[z++]=W>>8&255,L[z++]=255&W}}function pr(b,_,M,L,z){for(M=_+M;_<M;){var W=b[_++];L[z++]=W>>16&255,L[z++]=W>>8&255,L[z++]=255&W,L[z++]=W>>24&255}}function yt(b,_,M,L,z){for(M=_+M;_<M;){var W=(H=b[_++])>>16&240|H>>12&15,H=240&H|H>>28&15;L[z++]=W,L[z++]=H}}function Wt(b,_,M,L,z){for(M=_+M;_<M;){var W=(H=b[_++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;L[z++]=W,L[z++]=H}}function Or(b,_,M,L,z){for(M=_+M;_<M;){var W=b[_++];L[z++]=255&W,L[z++]=W>>8&255,L[z++]=W>>16&255}}function Ot(b,_,M,L,z,W){if(W==0)for(M=_+M;_<M;)je(L,((W=b[_++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),z+=32;else n(L,z,b,_,M)}function cr(b,_){O[_][0]=O[b+"0"],O[_][1]=O[b+"1"],O[_][2]=O[b+"2"],O[_][3]=O[b+"3"],O[_][4]=O[b+"4"],O[_][5]=O[b+"5"],O[_][6]=O[b+"6"],O[_][7]=O[b+"7"],O[_][8]=O[b+"8"],O[_][9]=O[b+"9"],O[_][10]=O[b+"10"],O[_][11]=O[b+"11"],O[_][12]=O[b+"12"],O[_][13]=O[b+"13"],O[_][14]=O[b+"0"],O[_][15]=O[b+"0"]}function er(b){return b==j5||b==N5||b==sb||b==S5}function Rn(){this.eb=[],this.size=this.A=this.fb=0}function ai(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function en(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Rn,this.f.kb=new ai,this.sd=null}function Ht(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Mr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $d(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Vi(b,_){var M=b.T,L=_.ba.f.RGBA,z=L.eb,W=L.fb+b.ka*L.A,H=Es[_.ba.S],X=b.y,Q=b.O,ee=b.f,ge=b.N,Pe=b.ea,te=b.W,ve=_.cc,Se=_.dc,Ce=_.Mc,_e=_.Nc,Ee=b.ka,Ie=b.ka+b.T,We=b.U,Be=We+1>>1;for(Ee==0?H(X,Q,null,null,ee,ge,Pe,te,ee,ge,Pe,te,z,W,null,null,We):(H(_.ec,_.fc,X,Q,ve,Se,Ce,_e,ee,ge,Pe,te,z,W-L.A,z,W,We),++M);Ee+2<Ie;Ee+=2)ve=ee,Se=ge,Ce=Pe,_e=te,ge+=b.Rc,te+=b.Rc,W+=2*L.A,H(X,(Q+=2*b.fa)-b.fa,X,Q,ve,Se,Ce,_e,ee,ge,Pe,te,z,W-L.A,z,W,We);return Q+=b.fa,b.j+Ie<b.o?(n(_.ec,_.fc,X,Q,We),n(_.cc,_.dc,ee,ge,Be),n(_.Mc,_.Nc,Pe,te,Be),M--):1&Ie||H(X,Q,null,null,ee,ge,Pe,te,ee,ge,Pe,te,z,W+L.A,null,null,We),M}function Gl(b,_,M){var L=b.F,z=[b.J];if(L!=null){var W=b.U,H=_.ba.S,X=H==ab||H==sb;_=_.ba.f.RGBA;var Q=[0],ee=b.ka;Q[0]=b.T,b.Kb&&(ee==0?--Q[0]:(--ee,z[0]-=b.width),b.j+b.ka+b.T==b.o&&(Q[0]=b.o-b.j-ee));var ge=_.eb;ee=_.fb+ee*_.A,b=qE(L,z[0],b.width,W,Q,ge,ee+(X?0:3),_.A),t(M==Q),b&&er(H)&&ex(ge,ee,X,W,Q,_.A)}return 0}function tl(b){var _=b.ma,M=_.ba.S,L=11>M,z=M==nb||M==ib||M==ab||M==w5||M==12||er(M);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Hg(_.Oa,b,z?11:12))return 0;if(z&&er(M)&&Zv(),b.da)alert("todo:use_scaling");else{if(L){if(_.Ib=$d,b.Kb){if(M=b.U+1>>1,_.memory=s(b.U+2*M),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+b.U,_.Mc=_.cc,_.Nc=_.dc+M,_.Ib=Vi,Zv()}}else alert("todo:EmitYUV");z&&(_.Jb=Gl,L&&As())}if(L&&!oO){for(b=0;256>b;++b)mQ[b]=89858*(b-128)+lb>>ob,yQ[b]=-22014*(b-128)+lb,xQ[b]=-45773*(b-128),gQ[b]=113618*(b-128)+lb>>ob;for(b=rx;b<A5;++b)_=76283*(b-16)+lb>>ob,vQ[b-rx]=Cn(_,255),bQ[b-rx]=Cn(_+8>>4,15);oO=1}return 1}function Lt(b){var _=b.ma,M=b.U,L=b.T;return t(!(1&b.ka)),0>=M||0>=L?0:(M=_.Ib(b,_),_.Jb!=null&&_.Jb(b,_,M),_.Dc+=M,1)}function Yl(b){b.ma.memory=null}function Xl(b,_,M,L){return fe(b,8)!=47?0:(_[0]=fe(b,14)+1,M[0]=fe(b,14)+1,L[0]=fe(b,1),fe(b,3)!=0?0:!b.h)}function Ns(b,_){if(4>b)return b+1;var M=b-2>>1;return(2+(1&b)<<M)+fe(_,M)+1}function Ss(b,_){return 120<_?_-120:1<=(M=((M=tQ[_-1])>>4)*b+(8-(15&M)))?M:1;var M}function kn(b,_,M){var L=J(M),z=b[_+=255&L].g-8;return 0<z&&(de(M,M.u+8),L=J(M),_+=b[_].value,_+=L&(1<<z)-1),de(M,M.u+b[_].g),b[_].value}function vi(b,_,M){return M.g+=b.g,M.value+=b.value<<_>>>0,t(8>=M.g),b.g}function Ci(b,_,M){var L=b.xc;return t((_=L==0?0:b.vc[b.md*(M>>L)+(_>>L)])<b.Wb),b.Ya[_]}function Bd(b,_,M,L){var z=b.ab,W=b.c*_,H=b.C;_=H+_;var X=M,Q=L;for(L=b.Ta,M=b.Ua;0<z--;){var ee=b.gc[z],ge=H,Pe=_,te=X,ve=Q,Se=(Q=L,X=M,ee.Ea);switch(t(ge<Pe),t(Pe<=ee.nc),ee.hc){case 2:$n(te,ve,(Pe-ge)*Se,Q,X);break;case 0:var Ce=ge,_e=Pe,Ee=Q,Ie=X,We=(vt=ee).Ea;Ce==0&&(Gg(te,ve,null,null,1,Ee,Ie),Fe(te,ve+1,0,0,We-1,Ee,Ie+1),ve+=We,Ie+=We,++Ce);for(var Be=1<<vt.b,Pt=Be-1,mt=De(We,vt.b),nr=vt.K,vt=vt.w+(Ce>>vt.b)*mt;Ce<_e;){var mr=nr,li=vt,ir=1;for(zh(te,ve,Ee,Ie-We,1,Ee,Ie);ir<We;){var bt=(ir&~Pt)+Be;bt>We&&(bt=We),(0,Xg[mr[li++]>>8&15])(te,ve+ +ir,Ee,Ie+ir-We,bt-ir,Ee,Ie+ir),ir=bt}ve+=We,Ie+=We,++Ce&Pt||(vt+=mt)}Pe!=ee.nc&&n(Q,X-Se,Q,X+(Pe-ge-1)*Se,Se);break;case 1:for(Se=te,_e=ve,We=(te=ee.Ea)-(Ie=te&~(Ee=(ve=1<<ee.b)-1)),Ce=De(te,ee.b),Be=ee.K,ee=ee.w+(ge>>ee.b)*Ce;ge<Pe;){for(Pt=Be,mt=ee,nr=new ne,vt=_e+Ie,mr=_e+te;_e<vt;)Qe(Pt[mt++],nr),Zg(nr,Se,_e,ve,Q,X),_e+=ve,X+=ve;_e<mr&&(Qe(Pt[mt++],nr),Zg(nr,Se,_e,We,Q,X),_e+=We,X+=We),++ge&Ee||(ee+=Ce)}break;case 3:if(te==Q&&ve==X&&0<ee.b){for(_e=Q,te=Se=X+(Pe-ge)*Se-(Ie=(Pe-ge)*De(ee.Ea,ee.b)),ve=Q,Ee=X,Ce=[],Ie=(We=Ie)-1;0<=Ie;--Ie)Ce[Ie]=ve[Ee+Ie];for(Ie=We-1;0<=Ie;--Ie)_e[te+Ie]=Ce[Ie];Jv(ee,ge,Pe,Q,Se,Q,X)}else Jv(ee,ge,Pe,te,ve,Q,X)}X=L,Q=M}Q!=M&&n(L,M,X,Q,W)}function au(b,_){var M=b.V,L=b.Ba+b.c*b.C,z=_-b.C;if(t(_<=b.l.o),t(16>=z),0<z){var W=b.l,H=b.Ta,X=b.Ua,Q=W.width;if(Bd(b,z,M,L),z=X=[X],t((M=b.C)<(L=_)),t(W.v<W.va),L>W.o&&(L=W.o),M<W.j){var ee=W.j-M;M=W.j,z[0]+=ee*Q}if(M>=L?M=0:(z[0]+=4*W.v,W.ka=M-W.j,W.U=W.va-W.v,W.T=L-M,M=1),M){if(X=X[0],11>(M=b.ca).S){var ge=M.f.RGBA,Pe=(L=M.S,z=W.U,W=W.T,ee=ge.eb,ge.A),te=W;for(ge=ge.fb+b.Ma*ge.A;0<te--;){var ve=H,Se=X,Ce=z,_e=ee,Ee=ge;switch(L){case rb:Qg(ve,Se,Ce,_e,Ee);break;case nb:fu(ve,Se,Ce,_e,Ee);break;case j5:fu(ve,Se,Ce,_e,Ee),ex(_e,Ee,0,Ce,1,0);break;case ZE:of(ve,Se,Ce,_e,Ee);break;case ib:Ot(ve,Se,Ce,_e,Ee,1);break;case N5:Ot(ve,Se,Ce,_e,Ee,1),ex(_e,Ee,0,Ce,1,0);break;case ab:Ot(ve,Se,Ce,_e,Ee,0);break;case sb:Ot(ve,Se,Ce,_e,Ee,0),ex(_e,Ee,1,Ce,1,0);break;case w5:hu(ve,Se,Ce,_e,Ee);break;case S5:hu(ve,Se,Ce,_e,Ee),VE(_e,Ee,Ce,1,0);break;case QE:pu(ve,Se,Ce,_e,Ee);break;default:t(0)}X+=Q,ge+=Pe}b.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");t(b.Ma<=M.height)}}b.C=_,t(b.C<=b.i)}function lo(b){var _;if(0<b.ua)return 0;for(_=0;_<b.Wb;++_){var M=b.Ya[_].G,L=b.Ya[_].H;if(0<M[1][L[1]+0].g||0<M[2][L[2]+0].g||0<M[3][L[3]+0].g)return 0}return 1}function rl(b,_,M,L,z,W){if(b.Z!=0){var H=b.qd,X=b.rd;for(t(xu[b.Z]!=null);_<M;++_)xu[b.Z](H,X,L,z,L,z,W),H=L,X=z,z+=W;b.qd=H,b.rd=X}}function co(b,_){var M=b.l.ma,L=M.Z==0||M.Z==1?b.l.j:b.C;if(L=b.C<L?L:b.C,t(_<=b.l.o),_>L){var z=b.l.width,W=M.ca,H=M.tb+z*L,X=b.V,Q=b.Ba+b.c*L,ee=b.gc;t(b.ab==1),t(ee[0].hc==3),sl(ee[0],L,_,X,Q,W,H),rl(M,L,_,W,H,z)}b.C=b.Ma=_}function uo(b,_,M,L,z,W,H){var X=b.$/L,Q=b.$%L,ee=b.m,ge=b.s,Pe=M+b.$,te=Pe;z=M+L*z;var ve=M+L*W,Se=280+ge.ua,Ce=b.Pb?X:16777216,_e=0<ge.ua?ge.Wa:null,Ee=ge.wc,Ie=Pe<ve?Ci(ge,Q,X):null;t(b.C<W),t(ve<=z);var We=!1;e:for(;;){for(;We||Pe<ve;){var Be=0;if(X>=Ce){var Pt=Pe-M;t((Ce=b).Pb),Ce.wd=Ce.m,Ce.xd=Pt,0<Ce.s.ua&&Ve(Ce.s.Wa,Ce.s.vb),Ce=X+nQ}if(Q&Ee||(Ie=Ci(ge,Q,X)),t(Ie!=null),Ie.Qb&&(_[Pe]=Ie.qb,We=!0),!We)if(ce(ee),Ie.jc){Be=ee,Pt=_;var mt=Pe,nr=Ie.pd[J(Be)&sf-1];t(Ie.jc),256>nr.g?(de(Be,Be.u+nr.g),Pt[mt]=nr.value,Be=0):(de(Be,Be.u+nr.g-256),t(256<=nr.value),Be=nr.value),Be==0&&(We=!0)}else Be=kn(Ie.G[0],Ie.H[0],ee);if(ee.h)break;if(We||256>Be){if(!We)if(Ie.nd)_[Pe]=(Ie.qb|Be<<8)>>>0;else{if(ce(ee),We=kn(Ie.G[1],Ie.H[1],ee),ce(ee),Pt=kn(Ie.G[2],Ie.H[2],ee),mt=kn(Ie.G[3],Ie.H[3],ee),ee.h)break;_[Pe]=(mt<<24|We<<16|Be<<8|Pt)>>>0}if(We=!1,++Pe,++Q>=L&&(Q=0,++X,H!=null&&X<=W&&!(X%16)&&H(b,X),_e!=null))for(;te<Pe;)Be=_[te++],_e.X[(506832829*Be&4294967295)>>>_e.Mb]=Be}else if(280>Be){if(Be=Ns(Be-256,ee),Pt=kn(Ie.G[4],Ie.H[4],ee),ce(ee),Pt=Ss(L,Pt=Ns(Pt,ee)),ee.h)break;if(Pe-M<Pt||z-Pe<Be)break e;for(mt=0;mt<Be;++mt)_[Pe+mt]=_[Pe+mt-Pt];for(Pe+=Be,Q+=Be;Q>=L;)Q-=L,++X,H!=null&&X<=W&&!(X%16)&&H(b,X);if(t(Pe<=z),Q&Ee&&(Ie=Ci(ge,Q,X)),_e!=null)for(;te<Pe;)Be=_[te++],_e.X[(506832829*Be&4294967295)>>>_e.Mb]=Be}else{if(!(Be<Se))break e;for(We=Be-280,t(_e!=null);te<Pe;)Be=_[te++],_e.X[(506832829*Be&4294967295)>>>_e.Mb]=Be;Be=Pe,t(!(We>>>(Pt=_e).Xa)),_[Be]=Pt.X[We],We=!0}We||t(ee.h==ae(ee))}if(b.Pb&&ee.h&&Pe<z)t(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Ve(b.s.vb,b.s.Wa);else{if(ee.h)break e;H!=null&&H(b,X>W?W:X),b.a=0,b.$=Pe-M}return 1}return b.a=3,0}function _s(b){t(b!=null),b.vc=null,b.yc=null,b.Ya=null;var _=b.Wa;_!=null&&(_.X=null),b.vb=null,t(b!=null)}function Ud(){var b=new Nt;return b==null?null:(b.a=0,b.xb=tO,cr("Predictor","VP8LPredictors"),cr("Predictor","VP8LPredictors_C"),cr("PredictorAdd","VP8LPredictorsAdd"),cr("PredictorAdd","VP8LPredictorsAdd_C"),$n=Ue,Zg=dt,Qg=Yr,fu=pr,hu=yt,pu=Wt,of=Or,O.VP8LMapColor32b=al,O.VP8LMapColor8b=Yg,b)}function nl(b,_,M,L,z){var W=1,H=[b],X=[_],Q=L.m,ee=L.s,ge=null,Pe=0;e:for(;;){if(M)for(;W&&fe(Q,1);){var te=H,ve=X,Se=L,Ce=1,_e=Se.m,Ee=Se.gc[Se.ab],Ie=fe(_e,2);if(Se.Oc&1<<Ie)W=0;else{switch(Se.Oc|=1<<Ie,Ee.hc=Ie,Ee.Ea=te[0],Ee.nc=ve[0],Ee.K=[null],++Se.ab,t(4>=Se.ab),Ie){case 0:case 1:Ee.b=fe(_e,3)+2,Ce=nl(De(Ee.Ea,Ee.b),De(Ee.nc,Ee.b),0,Se,Ee.K),Ee.K=Ee.K[0];break;case 3:var We,Be=fe(_e,8)+1,Pt=16<Be?0:4<Be?1:2<Be?2:3;if(te[0]=De(Ee.Ea,Pt),Ee.b=Pt,We=Ce=nl(Be,1,0,Se,Ee.K)){var mt,nr=Be,vt=Ee,mr=1<<(8>>vt.b),li=s(mr);if(li==null)We=0;else{var ir=vt.K[0],bt=vt.w;for(li[0]=vt.K[0][0],mt=1;mt<1*nr;++mt)li[mt]=pt(ir[bt+mt],li[mt-1]);for(;mt<4*mr;++mt)li[mt]=0;vt.K[0]=null,vt.K[0]=li,We=1}}Ce=We;break;case 2:break;default:t(0)}W=Ce}}if(H=H[0],X=X[0],W&&fe(Q,1)&&!(W=1<=(Pe=fe(Q,4))&&11>=Pe)){L.a=3;break e}var rt;if(rt=W)t:{var Un,tr,wr,dn=L,Ei=H,ua=X,Tn=Pe,Wi=M,da=dn.m,ci=dn.s,_r=[null],Ur=1,En=0,zr=rQ[Tn];r:for(;;){if(Wi&&fe(da,1)){var Oi=fe(da,3)+2,po=De(Ei,Oi),zn=De(ua,Oi),Pa=po*zn;if(!nl(po,zn,0,dn,_r))break r;for(_r=_r[0],ci.xc=Oi,Un=0;Un<Pa;++Un){var rn=_r[Un]>>8&65535;_r[Un]=rn,rn>=Ur&&(Ur=rn+1)}}if(da.h)break r;for(tr=0;5>tr;++tr){var ui=JE[tr];!tr&&0<Tn&&(ui+=1<<Tn),En<ui&&(En=ui)}var Ha=o(Ur*zr,D),fa=Ur,Ka=o(fa,G);if(Ka==null)var Ga=null;else t(65536>=fa),Ga=Ka;var Aa=s(En);if(Ga==null||Aa==null||Ha==null){dn.a=1;break r}var Ya=Ha;for(Un=wr=0;Un<Ur;++Un){var ln=Ga[Un],Xa=ln.G,mo=ln.H,cf=0,sc=1,Mi=0;for(tr=0;5>tr;++tr){ui=JE[tr],Xa[tr]=Ya,mo[tr]=wr,!tr&&0<Tn&&(ui+=1<<Tn);i:{var ub,k5=ui,db=dn,nx=Aa,NQ=Ya,SQ=wr,C5=0,yu=db.m,_Q=fe(yu,1);if(i(nx,0,0,k5),_Q){var PQ=fe(yu,1)+1,AQ=fe(yu,1),uO=fe(yu,AQ==0?1:8);nx[uO]=1,PQ==2&&(nx[uO=fe(yu,8)]=1);var fb=1}else{var dO=s(19),fO=fe(yu,4)+4;if(19<fO){db.a=3;var hb=0;break i}for(ub=0;ub<fO;++ub)dO[eQ[ub]]=fe(yu,3);var T5=void 0,ix=void 0,hO=db,kQ=dO,pb=k5,pO=nx,E5=0,vu=hO.m,mO=8,gO=o(128,D);n:for(;A(gO,0,7,kQ,19);){if(fe(vu,1)){var CQ=2+2*fe(vu,3);if((T5=2+fe(vu,CQ))>pb)break n}else T5=pb;for(ix=0;ix<pb&&T5--;){ce(vu);var xO=gO[0+(127&J(vu))];de(vu,vu.u+xO.g);var qh=xO.value;if(16>qh)pO[ix++]=qh,qh!=0&&(mO=qh);else{var TQ=qh==16,yO=qh-16,EQ=QZ[yO],vO=fe(vu,ZZ[yO])+EQ;if(ix+vO>pb)break n;for(var OQ=TQ?mO:0;0<vO--;)pO[ix++]=OQ}}E5=1;break n}E5||(hO.a=3),fb=E5}(fb=fb&&!yu.h)&&(C5=A(NQ,SQ,8,nx,k5)),fb&&C5!=0?hb=C5:(db.a=3,hb=0)}if(hb==0)break r;if(sc&&JZ[tr]==1&&(sc=Ya[wr].g==0),cf+=Ya[wr].g,wr+=hb,3>=tr){var ax,O5=Aa[0];for(ax=1;ax<ui;++ax)Aa[ax]>O5&&(O5=Aa[ax]);Mi+=O5}}if(ln.nd=sc,ln.Qb=0,sc&&(ln.qb=(Xa[3][mo[3]+0].value<<24|Xa[1][mo[1]+0].value<<16|Xa[2][mo[2]+0].value)>>>0,cf==0&&256>Xa[0][mo[0]+0].value&&(ln.Qb=1,ln.qb+=Xa[0][mo[0]+0].value<<8)),ln.jc=!ln.Qb&&6>Mi,ln.jc){var mb,oc=ln;for(mb=0;mb<sf;++mb){var bu=mb,wu=oc.pd[bu],gb=oc.G[0][oc.H[0]+bu];256<=gb.value?(wu.g=gb.g+256,wu.value=gb.value):(wu.g=0,wu.value=0,bu>>=vi(gb,8,wu),bu>>=vi(oc.G[1][oc.H[1]+bu],16,wu),bu>>=vi(oc.G[2][oc.H[2]+bu],0,wu),vi(oc.G[3][oc.H[3]+bu],24,wu))}}}ci.vc=_r,ci.Wb=Ur,ci.Ya=Ga,ci.yc=Ha,rt=1;break t}rt=0}if(!(W=rt)){L.a=3;break e}if(0<Pe){if(ee.ua=1<<Pe,!V(ee.Wa,Pe)){L.a=1,W=0;break e}}else ee.ua=0;var M5=L,bO=H,MQ=X,L5=M5.s,I5=L5.xc;if(M5.c=bO,M5.i=MQ,L5.md=De(bO,I5),L5.wc=I5==0?-1:(1<<I5)-1,M){L.xb=uQ;break e}if((ge=s(H*X))==null){L.a=1,W=0;break e}W=(W=uo(L,ge,0,H,X,X,null))&&!Q.h;break e}return W?(z!=null?z[0]=ge:(t(ge==null),t(M)),L.$=0,M||_s(ee)):_s(ee),W}function zd(b,_){var M=b.c*b.i,L=M+_+16*_;return t(b.c<=_),b.V=s(L),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+M+_,1)}function Oh(b,_){var M=b.C,L=_-M,z=b.V,W=b.Ba+b.c*M;for(t(_<=b.l.o);0<L;){var H=16<L?16:L,X=b.l.ma,Q=b.l.width,ee=Q*H,ge=X.ca,Pe=X.tb+Q*M,te=b.Ta,ve=b.Ua;Bd(b,H,z,W),WE(te,ve,ge,Pe,ee),rl(X,M,M+H,ge,Pe,Q),L-=H,z+=H*b.c,M+=H}t(M==_),b.C=b.Ma=_}function Mh(){this.ub=this.yd=this.td=this.Rb=0}function Lh(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function i5(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Og(){this.Yb=function(){var b=[];return function _(M,L,z){for(var W=z[L],H=0;H<W&&(M.push(z.length>L+1?[]:0),!(z.length<L+1));H++)_(M[H],L+1,z)}(b,0,[3,11]),b}()}function Dv(){this.jb=s(3),this.Wc=l([4,8],Og),this.Xc=l([4,17],Og)}function Rv(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ps(){this.ld=this.La=this.dd=this.tc=0}function Mg(){this.Na=this.la=0}function Fv(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Lg(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $v(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ps),this.Y=0,this.ya=Array(new Lg),this.aa=0,this.l=new Ih}function Bv(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Uv(){this.cb=this.a=0,this.sc="",this.m=new $,this.Od=new Mh,this.Kc=new Lh,this.ed=new Rv,this.Qa=new i5,this.Ic=this.$c=this.Aa=0,this.D=new $v,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,$),this.ia=0,this.pb=o(4,Fv),this.Pa=new Dv,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Bv),this.Hd=0,this.rb=Array(new Mg),this.sb=0,this.wa=Array(new Ps),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Lg),this.L=this.aa=0,this.gd=l([4,2],Ps),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ih(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function a5(){var b=new Uv;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,tx||(tx=Zl)),b}function Jn(b,_,M){return b.a==0&&(b.a=_,b.sc=M,b.cb=0),0}function zv(b,_,M){return 3<=M&&b[_+0]==157&&b[_+1]==1&&b[_+2]==42}function Vv(b,_){if(b==null)return 0;if(b.a=0,b.sc="OK",_==null)return Jn(b,2,"null VP8Io passed to VP8GetHeaders()");var M=_.data,L=_.w,z=_.ha;if(4>z)return Jn(b,7,"Truncated header.");var W=M[L+0]|M[L+1]<<8|M[L+2]<<16,H=b.Od;if(H.Rb=!(1&W),H.td=W>>1&7,H.yd=W>>4&1,H.ub=W>>5,3<H.td)return Jn(b,3,"Incorrect keyframe parameters.");if(!H.yd)return Jn(b,4,"Frame not displayable.");L+=3,z-=3;var X=b.Kc;if(H.Rb){if(7>z)return Jn(b,7,"cannot parse picture header");if(!zv(M,L,z))return Jn(b,3,"Bad code word");X.c=16383&(M[L+4]<<8|M[L+3]),X.Td=M[L+4]>>6,X.i=16383&(M[L+6]<<8|M[L+5]),X.Ud=M[L+6]>>6,L+=7,z-=7,b.za=X.c+15>>4,b.Ub=X.i+15>>4,_.width=X.c,_.height=X.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((W=b.Pa).jb,0,255,W.jb.length),t((W=b.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,i(W.Zb,0,0,W.Zb.length),i(W.Lb,0,0,W.Lb)}if(H.ub>z)return Jn(b,7,"bad partition length");F(W=b.m,M,L,H.ub),L+=H.ub,z-=H.ub,H.Rb&&(X.Ld=oe(W),X.Kd=oe(W)),X=b.Qa;var Q,ee=b.Pa;if(t(W!=null),t(X!=null),X.Cb=oe(W),X.Cb){if(X.Bb=oe(W),oe(W)){for(X.Fb=oe(W),Q=0;4>Q;++Q)X.Zb[Q]=oe(W)?B(W,7):0;for(Q=0;4>Q;++Q)X.Lb[Q]=oe(W)?B(W,6):0}if(X.Bb)for(Q=0;3>Q;++Q)ee.jb[Q]=oe(W)?q(W,8):255}else X.Bb=0;if(W.Ka)return Jn(b,3,"cannot parse segment header");if((X=b.ed).zd=oe(W),X.Tb=q(W,6),X.wb=q(W,3),X.Pc=oe(W),X.Pc&&oe(W)){for(ee=0;4>ee;++ee)oe(W)&&(X.vd[ee]=B(W,6));for(ee=0;4>ee;++ee)oe(W)&&(X.od[ee]=B(W,6))}if(b.L=X.Tb==0?0:X.zd?1:2,W.Ka)return Jn(b,3,"cannot parse filter header");var ge=z;if(z=Q=L,L=Q+ge,X=ge,b.Xb=(1<<q(b.m,2))-1,ge<3*(ee=b.Xb))M=7;else{for(Q+=3*ee,X-=3*ee,ge=0;ge<ee;++ge){var Pe=M[z+0]|M[z+1]<<8|M[z+2]<<16;Pe>X&&(Pe=X),F(b.Jc[+ge],M,Q,Pe),Q+=Pe,X-=Pe,z+=3}F(b.Jc[+ee],M,Q,X),M=Q<L?0:5}if(M!=0)return Jn(b,M,"cannot parse partitions");for(M=q(Q=b.m,7),z=oe(Q)?B(Q,4):0,L=oe(Q)?B(Q,4):0,X=oe(Q)?B(Q,4):0,ee=oe(Q)?B(Q,4):0,Q=oe(Q)?B(Q,4):0,ge=b.Qa,Pe=0;4>Pe;++Pe){if(ge.Cb){var te=ge.Zb[Pe];ge.Fb||(te+=M)}else{if(0<Pe){b.pb[Pe]=b.pb[0];continue}te=M}var ve=b.pb[Pe];ve.Sc[0]=_5[Cn(te+z,127)],ve.Sc[1]=P5[Cn(te+0,127)],ve.Eb[0]=2*_5[Cn(te+L,127)],ve.Eb[1]=101581*P5[Cn(te+X,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=_5[Cn(te+ee,117)],ve.Qc[1]=P5[Cn(te+Q,127)],ve.lc=te+Q}if(!H.Rb)return Jn(b,4,"Not a key frame.");for(oe(W),H=b.Pa,M=0;4>M;++M){for(z=0;8>z;++z)for(L=0;3>L;++L)for(X=0;11>X;++X)ee=ye(W,lQ[M][z][L][X])?q(W,8):sQ[M][z][L][X],H.Wc[M][z].Yb[L][X]=ee;for(z=0;17>z;++z)H.Xc[M][z]=H.Wc[M][cQ[z]]}return b.kc=oe(W),b.kc&&(b.Bd=q(W,8)),b.cb=1}function Zl(b,_,M,L,z,W,H){var X=_[z].Yb[M];for(M=0;16>z;++z){if(!ye(b,X[M+0]))return z;for(;!ye(b,X[M+1]);)if(X=_[++z].Yb[0],M=0,z==16)return 16;var Q=_[z+1].Yb;if(ye(b,X[M+2])){var ee=b,ge=0;if(ye(ee,(te=X)[(Pe=M)+3]))if(ye(ee,te[Pe+6])){for(X=0,Pe=2*(ge=ye(ee,te[Pe+8]))+(te=ye(ee,te[Pe+9+ge])),ge=0,te=iQ[Pe];te[X];++X)ge+=ge+ye(ee,te[X]);ge+=3+(8<<Pe)}else ye(ee,te[Pe+7])?(ge=7+2*ye(ee,165),ge+=ye(ee,145)):ge=5+ye(ee,159);else ge=ye(ee,te[Pe+4])?3+ye(ee,te[Pe+5]):2;X=Q[2]}else ge=1,X=Q[1];Q=H+aQ[z],0>(ee=b).b&&be(ee);var Pe,te=ee.b,ve=(Pe=ee.Ca>>1)-(ee.I>>te)>>31;--ee.b,ee.Ca+=ve,ee.Ca|=1,ee.I-=(Pe+1&ve)<<te,W[Q]=((ge^ve)-ve)*L[(0<z)+0]}return 16}function Vd(b){var _=b.rb[b.sb-1];_.la=0,_.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function fo(b,_,M,L,z){z=b[_+M+32*L]+(z>>3),b[_+M+32*L]=-256&z?0>z?0:255:z}function qd(b,_,M,L,z,W){fo(b,_,0,M,L+z),fo(b,_,1,M,L+W),fo(b,_,2,M,L-W),fo(b,_,3,M,L-z)}function Fn(b){return(20091*b>>16)+b}function Ig(b,_,M,L){var z,W=0,H=s(16);for(z=0;4>z;++z){var X=b[_+0]+b[_+8],Q=b[_+0]-b[_+8],ee=(35468*b[_+4]>>16)-Fn(b[_+12]),ge=Fn(b[_+4])+(35468*b[_+12]>>16);H[W+0]=X+ge,H[W+1]=Q+ee,H[W+2]=Q-ee,H[W+3]=X-ge,W+=4,_++}for(z=W=0;4>z;++z)X=(b=H[W+0]+4)+H[W+8],Q=b-H[W+8],ee=(35468*H[W+4]>>16)-Fn(H[W+12]),fo(M,L,0,0,X+(ge=Fn(H[W+4])+(35468*H[W+12]>>16))),fo(M,L,1,0,Q+ee),fo(M,L,2,0,Q-ee),fo(M,L,3,0,X-ge),W++,L+=32}function s5(b,_,M,L){var z=b[_+0]+4,W=35468*b[_+4]>>16,H=Fn(b[_+4]),X=35468*b[_+1]>>16;qd(M,L,0,z+H,b=Fn(b[_+1]),X),qd(M,L,1,z+W,b,X),qd(M,L,2,z-W,b,X),qd(M,L,3,z-H,b,X)}function o5(b,_,M,L,z){Ig(b,_,M,L),z&&Ig(b,_+16,M,L+4)}function l5(b,_,M,L){lf(b,_+0,M,L,1),lf(b,_+32,M,L+128,1)}function il(b,_,M,L){var z;for(b=b[_+0]+4,z=0;4>z;++z)for(_=0;4>_;++_)fo(M,L,_,z,b)}function qv(b,_,M,L){b[_+0]&&Lr(b,_+0,M,L),b[_+16]&&Lr(b,_+16,M,L+4),b[_+32]&&Lr(b,_+32,M,L+128),b[_+48]&&Lr(b,_+48,M,L+128+4)}function Wv(b,_,M,L){var z,W=s(16);for(z=0;4>z;++z){var H=b[_+0+z]+b[_+12+z],X=b[_+4+z]+b[_+8+z],Q=b[_+4+z]-b[_+8+z],ee=b[_+0+z]-b[_+12+z];W[0+z]=H+X,W[8+z]=H-X,W[4+z]=ee+Q,W[12+z]=ee-Q}for(z=0;4>z;++z)H=(b=W[0+4*z]+3)+W[3+4*z],X=W[1+4*z]+W[2+4*z],Q=W[1+4*z]-W[2+4*z],ee=b-W[3+4*z],M[L+0]=H+X>>3,M[L+16]=ee+Q>>3,M[L+32]=H-X>>3,M[L+48]=ee-Q>>3,L+=64}function su(b,_,M){var L,z=_-32,W=Wa,H=255-b[z-1];for(L=0;L<M;++L){var X,Q=W,ee=H+b[_-1];for(X=0;X<M;++X)b[_+X]=Q[ee+b[z+X]];_+=32}}function Dg(b,_){su(b,_,4)}function c5(b,_){su(b,_,8)}function u5(b,_){su(b,_,16)}function d5(b,_){var M;for(M=0;16>M;++M)n(b,_+32*M,b,_-32,16)}function Rg(b,_){var M;for(M=16;0<M;--M)i(b,_,b[_-1],16),_+=32}function Wd(b,_,M){var L;for(L=0;16>L;++L)i(_,M+32*L,b,16)}function ou(b,_){var M,L=16;for(M=0;16>M;++M)L+=b[_-1+32*M]+b[_+M-32];Wd(L>>5,b,_)}function f5(b,_){var M,L=8;for(M=0;16>M;++M)L+=b[_-1+32*M];Wd(L>>4,b,_)}function Hd(b,_){var M,L=8;for(M=0;16>M;++M)L+=b[_+M-32];Wd(L>>4,b,_)}function Fg(b,_){Wd(128,b,_)}function Kt(b,_,M){return b+2*_+M+2>>2}function h5(b,_){var M,L=_-32;for(L=new Uint8Array([Kt(b[L-1],b[L+0],b[L+1]),Kt(b[L+0],b[L+1],b[L+2]),Kt(b[L+1],b[L+2],b[L+3]),Kt(b[L+2],b[L+3],b[L+4])]),M=0;4>M;++M)n(b,_+32*M,L,0,L.length)}function p5(b,_){var M=b[_-1],L=b[_-1+32],z=b[_-1+64],W=b[_-1+96];je(b,_+0,16843009*Kt(b[_-1-32],M,L)),je(b,_+32,16843009*Kt(M,L,z)),je(b,_+64,16843009*Kt(L,z,W)),je(b,_+96,16843009*Kt(z,W,W))}function m5(b,_){var M,L=4;for(M=0;4>M;++M)L+=b[_+M-32]+b[_-1+32*M];for(L>>=3,M=0;4>M;++M)i(b,_+32*M,L,4)}function g5(b,_){var M=b[_-1+0],L=b[_-1+32],z=b[_-1+64],W=b[_-1-32],H=b[_+0-32],X=b[_+1-32],Q=b[_+2-32],ee=b[_+3-32];b[_+0+96]=Kt(L,z,b[_-1+96]),b[_+1+96]=b[_+0+64]=Kt(M,L,z),b[_+2+96]=b[_+1+64]=b[_+0+32]=Kt(W,M,L),b[_+3+96]=b[_+2+64]=b[_+1+32]=b[_+0+0]=Kt(H,W,M),b[_+3+64]=b[_+2+32]=b[_+1+0]=Kt(X,H,W),b[_+3+32]=b[_+2+0]=Kt(Q,X,H),b[_+3+0]=Kt(ee,Q,X)}function Ql(b,_){var M=b[_+1-32],L=b[_+2-32],z=b[_+3-32],W=b[_+4-32],H=b[_+5-32],X=b[_+6-32],Q=b[_+7-32];b[_+0+0]=Kt(b[_+0-32],M,L),b[_+1+0]=b[_+0+32]=Kt(M,L,z),b[_+2+0]=b[_+1+32]=b[_+0+64]=Kt(L,z,W),b[_+3+0]=b[_+2+32]=b[_+1+64]=b[_+0+96]=Kt(z,W,H),b[_+3+32]=b[_+2+64]=b[_+1+96]=Kt(W,H,X),b[_+3+64]=b[_+2+96]=Kt(H,X,Q),b[_+3+96]=Kt(X,Q,Q)}function Jl(b,_){var M=b[_-1+0],L=b[_-1+32],z=b[_-1+64],W=b[_-1-32],H=b[_+0-32],X=b[_+1-32],Q=b[_+2-32],ee=b[_+3-32];b[_+0+0]=b[_+1+64]=W+H+1>>1,b[_+1+0]=b[_+2+64]=H+X+1>>1,b[_+2+0]=b[_+3+64]=X+Q+1>>1,b[_+3+0]=Q+ee+1>>1,b[_+0+96]=Kt(z,L,M),b[_+0+64]=Kt(L,M,W),b[_+0+32]=b[_+1+96]=Kt(M,W,H),b[_+1+32]=b[_+2+96]=Kt(W,H,X),b[_+2+32]=b[_+3+96]=Kt(H,X,Q),b[_+3+32]=Kt(X,Q,ee)}function x5(b,_){var M=b[_+0-32],L=b[_+1-32],z=b[_+2-32],W=b[_+3-32],H=b[_+4-32],X=b[_+5-32],Q=b[_+6-32],ee=b[_+7-32];b[_+0+0]=M+L+1>>1,b[_+1+0]=b[_+0+64]=L+z+1>>1,b[_+2+0]=b[_+1+64]=z+W+1>>1,b[_+3+0]=b[_+2+64]=W+H+1>>1,b[_+0+32]=Kt(M,L,z),b[_+1+32]=b[_+0+96]=Kt(L,z,W),b[_+2+32]=b[_+1+96]=Kt(z,W,H),b[_+3+32]=b[_+2+96]=Kt(W,H,X),b[_+3+64]=Kt(H,X,Q),b[_+3+96]=Kt(X,Q,ee)}function y5(b,_){var M=b[_-1+0],L=b[_-1+32],z=b[_-1+64],W=b[_-1+96];b[_+0+0]=M+L+1>>1,b[_+2+0]=b[_+0+32]=L+z+1>>1,b[_+2+32]=b[_+0+64]=z+W+1>>1,b[_+1+0]=Kt(M,L,z),b[_+3+0]=b[_+1+32]=Kt(L,z,W),b[_+3+32]=b[_+1+64]=Kt(z,W,W),b[_+3+64]=b[_+2+64]=b[_+0+96]=b[_+1+96]=b[_+2+96]=b[_+3+96]=W}function Dh(b,_){var M=b[_-1+0],L=b[_-1+32],z=b[_-1+64],W=b[_-1+96],H=b[_-1-32],X=b[_+0-32],Q=b[_+1-32],ee=b[_+2-32];b[_+0+0]=b[_+2+32]=M+H+1>>1,b[_+0+32]=b[_+2+64]=L+M+1>>1,b[_+0+64]=b[_+2+96]=z+L+1>>1,b[_+0+96]=W+z+1>>1,b[_+3+0]=Kt(X,Q,ee),b[_+2+0]=Kt(H,X,Q),b[_+1+0]=b[_+3+32]=Kt(M,H,X),b[_+1+32]=b[_+3+64]=Kt(L,M,H),b[_+1+64]=b[_+3+96]=Kt(z,L,M),b[_+1+96]=Kt(W,z,L)}function $g(b,_){var M;for(M=0;8>M;++M)n(b,_+32*M,b,_-32,8)}function Kd(b,_){var M;for(M=0;8>M;++M)i(b,_,b[_-1],8),_+=32}function Rh(b,_,M){var L;for(L=0;8>L;++L)i(_,M+32*L,b,8)}function Fh(b,_){var M,L=8;for(M=0;8>M;++M)L+=b[_+M-32]+b[_-1+32*M];Rh(L>>4,b,_)}function v5(b,_){var M,L=4;for(M=0;8>M;++M)L+=b[_+M-32];Rh(L>>3,b,_)}function Bg(b,_){var M,L=4;for(M=0;8>M;++M)L+=b[_-1+32*M];Rh(L>>3,b,_)}function Ug(b,_){Rh(128,b,_)}function Gd(b,_,M){var L=b[_-M],z=b[_+0],W=3*(z-L)+b5[1020+b[_-2*M]-b[_+M]],H=tb[112+(W+4>>3)];b[_-M]=Wa[255+L+tb[112+(W+3>>3)]],b[_+0]=Wa[255+z-H]}function Yd(b,_,M,L){var z=b[_+0],W=b[_+M];return Ts[255+b[_-2*M]-b[_-M]]>L||Ts[255+W-z]>L}function zg(b,_,M,L){return 4*Ts[255+b[_-M]-b[_+0]]+Ts[255+b[_-2*M]-b[_+M]]<=L}function $h(b,_,M,L,z){var W=b[_-3*M],H=b[_-2*M],X=b[_-M],Q=b[_+0],ee=b[_+M],ge=b[_+2*M],Pe=b[_+3*M];return 4*Ts[255+X-Q]+Ts[255+H-ee]>L?0:Ts[255+b[_-4*M]-W]<=z&&Ts[255+W-H]<=z&&Ts[255+H-X]<=z&&Ts[255+Pe-ge]<=z&&Ts[255+ge-ee]<=z&&Ts[255+ee-Q]<=z}function Vg(b,_,M,L){var z=2*L+1;for(L=0;16>L;++L)zg(b,_+L,M,z)&&Gd(b,_+L,M)}function Xd(b,_,M,L){var z=2*L+1;for(L=0;16>L;++L)zg(b,_+L*M,1,z)&&Gd(b,_+L*M,1)}function Hv(b,_,M,L){var z;for(z=3;0<z;--z)Vg(b,_+=4*M,M,L)}function Kv(b,_,M,L){var z;for(z=3;0<z;--z)Xd(b,_+=4,M,L)}function ec(b,_,M,L,z,W,H,X){for(W=2*W+1;0<z--;){if($h(b,_,M,W,H))if(Yd(b,_,M,X))Gd(b,_,M);else{var Q=b,ee=_,ge=M,Pe=Q[ee-2*ge],te=Q[ee-ge],ve=Q[ee+0],Se=Q[ee+ge],Ce=Q[ee+2*ge],_e=27*(Ie=b5[1020+3*(ve-te)+b5[1020+Pe-Se]])+63>>7,Ee=18*Ie+63>>7,Ie=9*Ie+63>>7;Q[ee-3*ge]=Wa[255+Q[ee-3*ge]+Ie],Q[ee-2*ge]=Wa[255+Pe+Ee],Q[ee-ge]=Wa[255+te+_e],Q[ee+0]=Wa[255+ve-_e],Q[ee+ge]=Wa[255+Se-Ee],Q[ee+2*ge]=Wa[255+Ce-Ie]}_+=L}}function tc(b,_,M,L,z,W,H,X){for(W=2*W+1;0<z--;){if($h(b,_,M,W,H))if(Yd(b,_,M,X))Gd(b,_,M);else{var Q=b,ee=_,ge=M,Pe=Q[ee-ge],te=Q[ee+0],ve=Q[ee+ge],Se=tb[112+(4+(Ce=3*(te-Pe))>>3)],Ce=tb[112+(Ce+3>>3)],_e=Se+1>>1;Q[ee-2*ge]=Wa[255+Q[ee-2*ge]+_e],Q[ee-ge]=Wa[255+Pe+Ce],Q[ee+0]=Wa[255+te-Se],Q[ee+ge]=Wa[255+ve-_e]}_+=L}}function Gv(b,_,M,L,z,W){ec(b,_,M,1,16,L,z,W)}function Yv(b,_,M,L,z,W){ec(b,_,1,M,16,L,z,W)}function Zd(b,_,M,L,z,W){var H;for(H=3;0<H;--H)tc(b,_+=4*M,M,1,16,L,z,W)}function Xv(b,_,M,L,z,W){var H;for(H=3;0<H;--H)tc(b,_+=4,1,M,16,L,z,W)}function T(b,_,M,L,z,W,H,X){ec(b,_,z,1,8,W,H,X),ec(M,L,z,1,8,W,H,X)}function U(b,_,M,L,z,W,H,X){ec(b,_,1,z,8,W,H,X),ec(M,L,1,z,8,W,H,X)}function re(b,_,M,L,z,W,H,X){tc(b,_+4*z,z,1,8,W,H,X),tc(M,L+4*z,z,1,8,W,H,X)}function ue(b,_,M,L,z,W,H,X){tc(b,_+4,1,z,8,W,H,X),tc(M,L+4,1,z,8,W,H,X)}function we(){this.ba=new en,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Mr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Oe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ze(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function xt(){this.ua=0,this.Wa=new Ze,this.vb=new Ze,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new D}function Nt(){this.xb=this.a=0,this.l=new Ih,this.ca=new en,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new xt,this.ab=0,this.gc=o(4,ze),this.Oc=0}function Vt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ih,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Zt(b,_,M,L,z,W,H){for(b=b==null?0:b[_+0],_=0;_<H;++_)z[W+_]=b+M[L+_]&255,b=z[W+_]}function Cr(b,_,M,L,z,W,H){var X;if(b==null)Zt(null,null,M,L,z,W,H);else for(X=0;X<H;++X)z[W+X]=b[_+X]+M[L+X]&255}function wn(b,_,M,L,z,W,H){if(b==null)Zt(null,null,M,L,z,W,H);else{var X,Q=b[_+0],ee=Q,ge=Q;for(X=0;X<H;++X)ee=ge+(Q=b[_+X])-ee,ge=M[L+X]+(-256&ee?0>ee?0:255:ee)&255,ee=Q,z[W+X]=ge}}function ei(b,_,M,L){var z=_.width,W=_.o;if(t(b!=null&&_!=null),0>M||0>=L||M+L>W)return null;if(!b.Cc){if(b.ga==null){var H;if(b.ga=new Vt,(H=b.ga==null)||(H=_.width*_.o,t(b.Gb.length==0),b.Gb=s(H),b.Uc=0,b.Gb==null?H=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,H=1),H=!H),!H){H=b.ga;var X=b.Fa,Q=b.P,ee=b.qc,ge=b.mb,Pe=b.nb,te=Q+1,ve=ee-1,Se=H.l;if(t(X!=null&&ge!=null&&_!=null),xu[0]=null,xu[1]=Zt,xu[2]=Cr,xu[3]=wn,H.ca=ge,H.tb=Pe,H.c=_.width,H.i=_.height,t(0<H.c&&0<H.i),1>=ee)_=0;else if(H.$a=3&X[Q+0],H.Z=X[Q+0]>>2&3,H.Lc=X[Q+0]>>4&3,Q=X[Q+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||Q)_=0;else if(Se.put=Lt,Se.ac=tl,Se.bc=Yl,Se.ma=H,Se.width=_.width,Se.height=_.height,Se.Da=_.Da,Se.v=_.v,Se.va=_.va,Se.j=_.j,Se.o=_.o,H.$a)e:{t(H.$a==1),_=Ud();t:for(;;){if(_==null){_=0;break e}if(t(H!=null),H.mc=_,_.c=H.c,_.i=H.i,_.l=H.l,_.l.ma=H,_.l.width=H.c,_.l.height=H.i,_.a=0,Z(_.m,X,te,ve),!nl(H.c,H.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&lo(_.s)?(H.ic=1,X=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(X),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(H.ic=0,_=zd(_,H.c)),!_))break t;_=1;break e}H.mc=null,_=0}else _=ve>=H.c*H.i;H=!_}if(H)return null;b.ga.Lc!=1?b.Ga=0:L=W-M}t(b.ga!=null),t(M+L<=W);e:{if(_=(X=b.ga).c,W=X.l.o,X.$a==0){if(te=b.rc,ve=b.Vc,Se=b.Fa,Q=b.P+1+M*_,ee=b.mb,ge=b.nb+M*_,t(Q<=b.P+b.qc),X.Z!=0)for(t(xu[X.Z]!=null),H=0;H<L;++H)xu[X.Z](te,ve,Se,Q,ee,ge,_),te=ee,ve=ge,ge+=_,Q+=_;else for(H=0;H<L;++H)n(ee,ge,Se,Q,_),te=ee,ve=ge,ge+=_,Q+=_;b.rc=te,b.Vc=ve}else{if(t(X.mc!=null),_=M+L,t((H=X.mc)!=null),t(_<=H.i),H.C>=_)_=1;else if(X.ic||As(),X.ic){X=H.V,te=H.Ba,ve=H.c;var Ce=H.i,_e=(Se=1,Q=H.$/ve,ee=H.$%ve,ge=H.m,Pe=H.s,H.$),Ee=ve*Ce,Ie=ve*_,We=Pe.wc,Be=_e<Ie?Ci(Pe,ee,Q):null;t(_e<=Ee),t(_<=Ce),t(lo(Pe));t:for(;;){for(;!ge.h&&_e<Ie;){if(ee&We||(Be=Ci(Pe,ee,Q)),t(Be!=null),ce(ge),256>(Ce=kn(Be.G[0],Be.H[0],ge)))X[te+_e]=Ce,++_e,++ee>=ve&&(ee=0,++Q<=_&&!(Q%16)&&co(H,Q));else{if(!(280>Ce)){Se=0;break t}Ce=Ns(Ce-256,ge);var Pt,mt=kn(Be.G[4],Be.H[4],ge);if(ce(ge),!(_e>=(mt=Ss(ve,mt=Ns(mt,ge)))&&Ee-_e>=Ce)){Se=0;break t}for(Pt=0;Pt<Ce;++Pt)X[te+_e+Pt]=X[te+_e+Pt-mt];for(_e+=Ce,ee+=Ce;ee>=ve;)ee-=ve,++Q<=_&&!(Q%16)&&co(H,Q);_e<Ie&&ee&We&&(Be=Ci(Pe,ee,Q))}t(ge.h==ae(ge))}co(H,Q>_?_:Q);break t}!Se||ge.h&&_e<Ee?(Se=0,H.a=ge.h?5:3):H.$=_e,_=Se}else _=uo(H,H.V,H.Ba,H.c,H.i,_,Oh);if(!_){L=0;break e}}M+L>=W&&(b.Cc=1),L=1}if(!L)return null;if(b.Cc&&((L=b.ga)!=null&&(L.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+M*z}function on(b,_,M,L,z,W){for(;0<z--;){var H,X=b,Q=_+(M?1:0),ee=b,ge=_+(M?0:3);for(H=0;H<L;++H){var Pe=ee[ge+4*H];Pe!=255&&(Pe*=32897,X[Q+4*H+0]=X[Q+4*H+0]*Pe>>23,X[Q+4*H+1]=X[Q+4*H+1]*Pe>>23,X[Q+4*H+2]=X[Q+4*H+2]*Pe>>23)}_+=W}}function si(b,_,M,L,z){for(;0<L--;){var W;for(W=0;W<M;++W){var H=b[_+2*W+0],X=15&(ee=b[_+2*W+1]),Q=4369*X,ee=(240&ee|ee>>4)*Q>>16;b[_+2*W+0]=(240&H|H>>4)*Q>>16&240|(15&H|H<<4)*Q>>16>>4&15,b[_+2*W+1]=240&ee|X}_+=z}}function ti(b,_,M,L,z,W,H,X){var Q,ee,ge=255;for(ee=0;ee<z;++ee){for(Q=0;Q<L;++Q){var Pe=b[_+Q];W[H+4*Q]=Pe,ge&=Pe}_+=M,H+=X}return ge!=255}function Ti(b,_,M,L,z){var W;for(W=0;W<z;++W)M[L+W]=b[_+W]>>8}function As(){ex=on,VE=si,qE=ti,WE=Ti}function _a(b,_,M){O[b]=function(L,z,W,H,X,Q,ee,ge,Pe,te,ve,Se,Ce,_e,Ee,Ie,We){var Be,Pt=We-1>>1,mt=X[Q+0]|ee[ge+0]<<16,nr=Pe[te+0]|ve[Se+0]<<16;t(L!=null);var vt=3*mt+nr+131074>>2;for(_(L[z+0],255&vt,vt>>16,Ce,_e),W!=null&&(vt=3*nr+mt+131074>>2,_(W[H+0],255&vt,vt>>16,Ee,Ie)),Be=1;Be<=Pt;++Be){var mr=X[Q+Be]|ee[ge+Be]<<16,li=Pe[te+Be]|ve[Se+Be]<<16,ir=mt+mr+nr+li+524296,bt=ir+2*(mr+nr)>>3;vt=bt+mt>>1,mt=(ir=ir+2*(mt+li)>>3)+mr>>1,_(L[z+2*Be-1],255&vt,vt>>16,Ce,_e+(2*Be-1)*M),_(L[z+2*Be-0],255&mt,mt>>16,Ce,_e+(2*Be-0)*M),W!=null&&(vt=ir+nr>>1,mt=bt+li>>1,_(W[H+2*Be-1],255&vt,vt>>16,Ee,Ie+(2*Be-1)*M),_(W[H+2*Be+0],255&mt,mt>>16,Ee,Ie+(2*Be+0)*M)),mt=mr,nr=li}1&We||(vt=3*mt+nr+131074>>2,_(L[z+We-1],255&vt,vt>>16,Ce,_e+(We-1)*M),W!=null&&(vt=3*nr+mt+131074>>2,_(W[H+We-1],255&vt,vt>>16,Ee,Ie+(We-1)*M)))}}function Zv(){Es[rb]=dQ,Es[nb]=rO,Es[ZE]=fQ,Es[ib]=nO,Es[ab]=iO,Es[w5]=aO,Es[QE]=hQ,Es[j5]=rO,Es[N5]=nO,Es[sb]=iO,Es[S5]=aO}function Bh(b){return b&~pQ?0>b?0:255:b>>sO}function Qd(b,_){return Bh((19077*b>>8)+(26149*_>>8)-14234)}function lu(b,_,M){return Bh((19077*b>>8)-(6419*_>>8)-(13320*M>>8)+8708)}function Jd(b,_){return Bh((19077*b>>8)+(33050*_>>8)-17685)}function ef(b,_,M,L,z){L[z+0]=Qd(b,M),L[z+1]=lu(b,_,M),L[z+2]=Jd(b,_)}function tf(b,_,M,L,z){L[z+0]=Jd(b,_),L[z+1]=lu(b,_,M),L[z+2]=Qd(b,M)}function qi(b,_,M,L,z){var W=lu(b,_,M);_=W<<3&224|Jd(b,_)>>3,L[z+0]=248&Qd(b,M)|W>>5,L[z+1]=_}function rf(b,_,M,L,z){var W=240&Jd(b,_)|15;L[z+0]=240&Qd(b,M)|lu(b,_,M)>>4,L[z+1]=W}function nf(b,_,M,L,z){L[z+0]=255,ef(b,_,M,L,z+1)}function qg(b,_,M,L,z){tf(b,_,M,L,z),L[z+3]=255}function Wg(b,_,M,L,z){ef(b,_,M,L,z),L[z+3]=255}function Cn(b,_){return 0>b?0:b>_?_:b}function rc(b,_,M){O[b]=function(L,z,W,H,X,Q,ee,ge,Pe){for(var te=ge+(-2&Pe)*M;ge!=te;)_(L[z+0],W[H+0],X[Q+0],ee,ge),_(L[z+1],W[H+0],X[Q+0],ee,ge+M),z+=2,++H,++Q,ge+=2*M;1&Pe&&_(L[z+0],W[H+0],X[Q+0],ee,ge)}}function Uh(b,_,M){return M==0?b==0?_==0?6:5:_==0?4:0:M}function Qv(b,_,M,L,z){switch(b>>>30){case 3:lf(_,M,L,z,0);break;case 2:Cs(_,M,L,z);break;case 1:Lr(_,M,L,z)}}function ks(b,_){var M,L,z=_.M,W=_.Nb,H=b.oc,X=b.pc+40,Q=b.oc,ee=b.pc+584,ge=b.oc,Pe=b.pc+600;for(M=0;16>M;++M)H[X+32*M-1]=129;for(M=0;8>M;++M)Q[ee+32*M-1]=129,ge[Pe+32*M-1]=129;for(0<z?H[X-1-32]=Q[ee-1-32]=ge[Pe-1-32]=129:(i(H,X-32-1,127,21),i(Q,ee-32-1,127,9),i(ge,Pe-32-1,127,9)),L=0;L<b.za;++L){var te=_.ya[_.aa+L];if(0<L){for(M=-1;16>M;++M)n(H,X+32*M-4,H,X+32*M+12,4);for(M=-1;8>M;++M)n(Q,ee+32*M-4,Q,ee+32*M+4,4),n(ge,Pe+32*M-4,ge,Pe+32*M+4,4)}var ve=b.Gd,Se=b.Hd+L,Ce=te.ad,_e=te.Hc;if(0<z&&(n(H,X-32,ve[Se].y,0,16),n(Q,ee-32,ve[Se].f,0,8),n(ge,Pe-32,ve[Se].ea,0,8)),te.Za){var Ee=H,Ie=X-32+16;for(0<z&&(L>=b.za-1?i(Ee,Ie,ve[Se].y[15],4):n(Ee,Ie,ve[Se+1].y,0,4)),M=0;4>M;M++)Ee[Ie+128+M]=Ee[Ie+256+M]=Ee[Ie+384+M]=Ee[Ie+0+M];for(M=0;16>M;++M,_e<<=2)Ee=H,Ie=X+lO[M],ho[te.Ob[M]](Ee,Ie),Qv(_e,Ce,16*+M,Ee,Ie)}else if(Ee=Uh(L,z,te.Ob[0]),gu[Ee](H,X),_e!=0)for(M=0;16>M;++M,_e<<=2)Qv(_e,Ce,16*+M,H,X+lO[M]);for(M=te.Gc,Ee=Uh(L,z,te.Dd),ac[Ee](Q,ee),ac[Ee](ge,Pe),_e=Ce,Ee=Q,Ie=ee,255&(te=0|M)&&(170&te?ol(_e,256,Ee,Ie):tn(_e,256,Ee,Ie)),te=ge,_e=Pe,255&(M>>=8)&&(170&M?ol(Ce,320,te,_e):tn(Ce,320,te,_e)),z<b.Ub-1&&(n(ve[Se].y,0,H,X+480,16),n(ve[Se].f,0,Q,ee+224,8),n(ve[Se].ea,0,ge,Pe+224,8)),M=8*W*b.B,ve=b.sa,Se=b.ta+16*L+16*W*b.R,Ce=b.qa,te=b.ra+8*L+M,_e=b.Ha,Ee=b.Ia+8*L+M,M=0;16>M;++M)n(ve,Se+M*b.R,H,X+32*M,16);for(M=0;8>M;++M)n(Ce,te+M*b.B,Q,ee+32*M,8),n(_e,Ee+M*b.B,ge,Pe+32*M,8)}}function af(b,_,M,L,z,W,H,X,Q){var ee=[0],ge=[0],Pe=0,te=Q!=null?Q.kd:0,ve=Q??new Oe;if(b==null||12>M)return 7;ve.data=b,ve.w=_,ve.ha=M,_=[_],M=[M],ve.gb=[ve.gb];e:{var Se=_,Ce=M,_e=ve.gb;if(t(b!=null),t(Ce!=null),t(_e!=null),_e[0]=0,12<=Ce[0]&&!r(b,Se[0],"RIFF")){if(r(b,Se[0]+8,"WEBP")){_e=3;break e}var Ee=xe(b,Se[0]+4);if(12>Ee||4294967286<Ee){_e=3;break e}if(te&&Ee>Ce[0]-8){_e=7;break e}_e[0]=Ee,Se[0]+=12,Ce[0]-=12}_e=0}if(_e!=0)return _e;for(Ee=0<ve.gb[0],M=M[0];;){e:{var Ie=b;Ce=_,_e=M;var We=ee,Be=ge,Pt=Se=[0];if((vt=Pe=[Pe])[0]=0,8>_e[0])_e=7;else{if(!r(Ie,Ce[0],"VP8X")){if(xe(Ie,Ce[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var mt=xe(Ie,Ce[0]+8),nr=1+Ne(Ie,Ce[0]+12);if(2147483648<=nr*(Ie=1+Ne(Ie,Ce[0]+15))){_e=3;break e}Pt!=null&&(Pt[0]=mt),We!=null&&(We[0]=nr),Be!=null&&(Be[0]=Ie),Ce[0]+=18,_e[0]-=18,vt[0]=1}_e=0}}if(Pe=Pe[0],Se=Se[0],_e!=0)return _e;if(Ce=!!(2&Se),!Ee&&Pe)return 3;if(W!=null&&(W[0]=!!(16&Se)),H!=null&&(H[0]=Ce),X!=null&&(X[0]=0),H=ee[0],Se=ge[0],Pe&&Ce&&Q==null){_e=0;break}if(4>M){_e=7;break}if(Ee&&Pe||!Ee&&!Pe&&!r(b,_[0],"ALPH")){M=[M],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{mt=b,_e=_,Ee=M;var vt=ve.gb;We=ve.na,Be=ve.P,Pt=ve.Sa,nr=22,t(mt!=null),t(Ee!=null),Ie=_e[0];var mr=Ee[0];for(t(We!=null),t(Pt!=null),We[0]=null,Be[0]=null,Pt[0]=0;;){if(_e[0]=Ie,Ee[0]=mr,8>mr){_e=7;break e}var li=xe(mt,Ie+4);if(4294967286<li){_e=3;break e}var ir=8+li+1&-2;if(nr+=ir,0<vt&&nr>vt){_e=3;break e}if(!r(mt,Ie,"VP8 ")||!r(mt,Ie,"VP8L")){_e=0;break e}if(mr[0]<ir){_e=7;break e}r(mt,Ie,"ALPH")||(We[0]=mt,Be[0]=Ie+8,Pt[0]=li),Ie+=ir,mr-=ir}}if(M=M[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],_e!=0)break}M=[M],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(vt=b,_e=_,Ee=M,We=ve.gb[0],Be=ve.Ja,Pt=ve.xa,mt=_e[0],Ie=!r(vt,mt,"VP8 "),nr=!r(vt,mt,"VP8L"),t(vt!=null),t(Ee!=null),t(Be!=null),t(Pt!=null),8>Ee[0])_e=7;else{if(Ie||nr){if(vt=xe(vt,mt+4),12<=We&&vt>We-12){_e=3;break e}if(te&&vt>Ee[0]-8){_e=7;break e}Be[0]=vt,_e[0]+=8,Ee[0]-=8,Pt[0]=nr}else Pt[0]=5<=Ee[0]&&vt[mt+0]==47&&!(vt[mt+4]>>5),Be[0]=Ee[0];_e=0}if(M=M[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],_=_[0],_e!=0)break;if(4294967286<ve.Ja)return 3;if(X==null||Ce||(X[0]=ve.xa?2:1),H=[H],Se=[Se],ve.xa){if(5>M){_e=7;break}X=H,te=Se,Ce=W,b==null||5>M?b=0:5<=M&&b[_+0]==47&&!(b[_+4]>>5)?(Ee=[0],vt=[0],We=[0],Z(Be=new Y,b,_,M),Xl(Be,Ee,vt,We)?(X!=null&&(X[0]=Ee[0]),te!=null&&(te[0]=vt[0]),Ce!=null&&(Ce[0]=We[0]),b=1):b=0):b=0}else{if(10>M){_e=7;break}X=Se,b==null||10>M||!zv(b,_+3,M-3)?b=0:(te=b[_+0]|b[_+1]<<8|b[_+2]<<16,Ce=16383&(b[_+7]<<8|b[_+6]),b=16383&(b[_+9]<<8|b[_+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=ve.Ja||!Ce||!b?b=0:(H&&(H[0]=Ce),X&&(X[0]=b),b=1))}if(!b||(H=H[0],Se=Se[0],Pe&&(ee[0]!=H||ge[0]!=Se)))return 3;Q!=null&&(Q[0]=ve,Q.offset=_-Q.w,t(4294967286>_-Q.w),t(Q.offset==Q.ha-M));break}return _e==0||_e==7&&Pe&&Q==null?(W!=null&&(W[0]|=ve.na!=null&&0<ve.na.length),L!=null&&(L[0]=H),z!=null&&(z[0]=Se),0):_e}function Hg(b,_,M){var L=_.width,z=_.height,W=0,H=0,X=L,Q=z;if(_.Da=b!=null&&0<b.Da,_.Da&&(X=b.cd,Q=b.bd,W=b.v,H=b.j,11>M||(W&=-2,H&=-2),0>W||0>H||0>=X||0>=Q||W+X>L||H+Q>z))return 0;if(_.v=W,_.j=H,_.va=W+X,_.o=H+Q,_.U=X,_.T=Q,_.da=b!=null&&0<b.da,_.da){if(!it(X,Q,M=[b.ib],W=[b.hb]))return 0;_.ib=M[0],_.hb=W[0]}return _.ob=b!=null&&b.ob,_.Kb=b==null||!b.Sd,_.da&&(_.ob=_.ib<3*L/4&&_.hb<3*z/4,_.Kb=0),1}function Kg(b){if(b==null)return 2;if(11>b.S){var _=b.f.RGBA;_.fb+=(b.height-1)*_.A,_.A=-_.A}else _=b.f.kb,b=b.height,_.O+=(b-1)*_.fa,_.fa=-_.fa,_.N+=(b-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(b-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(b-1)*_.lb,_.lb=-_.lb);return 0}function cu(b,_,M,L){if(L==null||0>=b||0>=_)return 2;if(M!=null){if(M.Da){var z=M.cd,W=M.bd,H=-2&M.v,X=-2&M.j;if(0>H||0>X||0>=z||0>=W||H+z>b||X+W>_)return 2;b=z,_=W}if(M.da){if(!it(b,_,z=[M.ib],W=[M.hb]))return 2;b=z[0],_=W[0]}}L.width=b,L.height=_;e:{var Q=L.width,ee=L.height;if(b=L.S,0>=Q||0>=ee||!(b>=rb&&13>b))b=2;else{if(0>=L.Rd&&L.sd==null){H=W=z=_=0;var ge=(X=Q*cO[b])*ee;if(11>b||(W=(ee+1)/2*(_=(Q+1)/2),b==12&&(H=(z=Q)*ee)),(ee=s(ge+2*W+H))==null){b=1;break e}L.sd=ee,11>b?((Q=L.f.RGBA).eb=ee,Q.fb=0,Q.A=X,Q.size=ge):((Q=L.f.kb).y=ee,Q.O=0,Q.fa=X,Q.Fd=ge,Q.f=ee,Q.N=0+ge,Q.Ab=_,Q.Cd=W,Q.ea=ee,Q.W=0+ge+W,Q.Db=_,Q.Ed=W,b==12&&(Q.F=ee,Q.J=0+ge+2*W),Q.Tc=H,Q.lb=z)}if(_=1,z=L.S,W=L.width,H=L.height,z>=rb&&13>z)if(11>z)b=L.f.RGBA,_&=(X=Math.abs(b.A))*(H-1)+W<=b.size,_&=X>=W*cO[z],_&=b.eb!=null;else{b=L.f.kb,X=(W+1)/2,ge=(H+1)/2,Q=Math.abs(b.fa),ee=Math.abs(b.Ab);var Pe=Math.abs(b.Db),te=Math.abs(b.lb),ve=te*(H-1)+W;_&=Q*(H-1)+W<=b.Fd,_&=ee*(ge-1)+X<=b.Cd,_=(_&=Pe*(ge-1)+X<=b.Ed)&Q>=W&ee>=X&Pe>=X,_&=b.y!=null,_&=b.f!=null,_&=b.ea!=null,z==12&&(_&=te>=W,_&=ve<=b.Tc,_&=b.F!=null)}else _=0;b=_?0:2}}return b!=0||M!=null&&M.fd&&(b=Kg(L)),b}var sf=64,Va=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qa=24,uu=32,nc=8,du=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Je("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(b){return b},O.Predictor2=function(b,_,M){return _[M+0]},O.Predictor3=function(b,_,M){return _[M+1]},O.Predictor4=function(b,_,M){return _[M-1]},O.Predictor5=function(b,_,M){return me(me(b,_[M+1]),_[M+0])},O.Predictor6=function(b,_,M){return me(b,_[M-1])},O.Predictor7=function(b,_,M){return me(b,_[M+0])},O.Predictor8=function(b,_,M){return me(_[M-1],_[M+0])},O.Predictor9=function(b,_,M){return me(_[M+0],_[M+1])},O.Predictor10=function(b,_,M){return me(me(b,_[M-1]),me(_[M+0],_[M+1]))},O.Predictor11=function(b,_,M){var L=_[M+0];return 0>=Le(L>>24&255,b>>24&255,(_=_[M-1])>>24&255)+Le(L>>16&255,b>>16&255,_>>16&255)+Le(L>>8&255,b>>8&255,_>>8&255)+Le(255&L,255&b,255&_)?L:b},O.Predictor12=function(b,_,M){var L=_[M+0];return(Ae((b>>24&255)+(L>>24&255)-((_=_[M-1])>>24&255))<<24|Ae((b>>16&255)+(L>>16&255)-(_>>16&255))<<16|Ae((b>>8&255)+(L>>8&255)-(_>>8&255))<<8|Ae((255&b)+(255&L)-(255&_)))>>>0},O.Predictor13=function(b,_,M){var L=_[M-1];return(Re((b=me(b,_[M+0]))>>24&255,L>>24&255)<<24|Re(b>>16&255,L>>16&255)<<16|Re(b>>8&255,L>>8&255)<<8|Re(255&b,255&L))>>>0};var Gg=O.PredictorAdd0;O.PredictorAdd1=Fe,Je("Predictor2","PredictorAdd2"),Je("Predictor3","PredictorAdd3"),Je("Predictor4","PredictorAdd4"),Je("Predictor5","PredictorAdd5"),Je("Predictor6","PredictorAdd6"),Je("Predictor7","PredictorAdd7"),Je("Predictor8","PredictorAdd8"),Je("Predictor9","PredictorAdd9"),Je("Predictor10","PredictorAdd10"),Je("Predictor11","PredictorAdd11"),Je("Predictor12","PredictorAdd12"),Je("Predictor13","PredictorAdd13");var zh=O.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var $n,Jv=O.ColorIndexInverseTransform,al=O.MapARGB,sl=O.VP8LColorIndexInverseTransformAlpha,Yg=O.MapAlpha,Xg=O.VP8LPredictorsAdd=[];Xg.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Zg,Qg,fu,hu,pu,of,mu,lf,Cs,ol,Lr,tn,Bn,oi,ic,Jg,Vh,eb,RE,FE,$E,BE,UE,zE,ex,VE,qE,WE,HE=s(511),KE=s(2041),GE=s(225),YE=s(767),XE=0,b5=KE,tb=GE,Wa=YE,Ts=HE,rb=0,nb=1,ZE=2,ib=3,ab=4,w5=5,QE=6,j5=7,N5=8,sb=9,S5=10,ZZ=[2,3,7],QZ=[3,3,11],JE=[280,256,256,256,40],JZ=[0,1,1,1,0],eQ=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],tQ=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],rQ=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],nQ=8,_5=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],P5=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],tx=null,iQ=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],aQ=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],eO=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],sQ=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],oQ=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],lQ=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],cQ=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],gu=[],ho=[],ac=[],uQ=1,tO=2,xu=[],Es=[];_a("UpsampleRgbLinePair",ef,3),_a("UpsampleBgrLinePair",tf,3),_a("UpsampleRgbaLinePair",Wg,4),_a("UpsampleBgraLinePair",qg,4),_a("UpsampleArgbLinePair",nf,4),_a("UpsampleRgba4444LinePair",rf,2),_a("UpsampleRgb565LinePair",qi,2);var dQ=O.UpsampleRgbLinePair,fQ=O.UpsampleBgrLinePair,rO=O.UpsampleRgbaLinePair,nO=O.UpsampleBgraLinePair,iO=O.UpsampleArgbLinePair,aO=O.UpsampleRgba4444LinePair,hQ=O.UpsampleRgb565LinePair,ob=16,lb=1<<ob-1,rx=-227,A5=482,sO=6,pQ=(256<<sO)-1,oO=0,mQ=s(256),gQ=s(256),xQ=s(256),yQ=s(256),vQ=s(A5-rx),bQ=s(A5-rx);rc("YuvToRgbRow",ef,3),rc("YuvToBgrRow",tf,3),rc("YuvToRgbaRow",Wg,4),rc("YuvToBgraRow",qg,4),rc("YuvToArgbRow",nf,4),rc("YuvToRgba4444Row",rf,2),rc("YuvToRgb565Row",qi,2);var lO=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],cb=[0,2,8],wQ=[8,7,6,4,4,2,2,2,1,1,1,1],jQ=1;this.WebPDecodeRGBA=function(b,_,M,L,z){var W=nb,H=new we,X=new en;H.ba=X,X.S=W,X.width=[X.width],X.height=[X.height];var Q=X.width,ee=X.height,ge=new Ht;if(ge==null||b==null)var Pe=2;else t(ge!=null),Pe=af(b,_,M,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Pe!=0?Q=0:(Q!=null&&(Q[0]=ge.width[0]),ee!=null&&(ee[0]=ge.height[0]),Q=1),Q){X.width=X.width[0],X.height=X.height[0],L!=null&&(L[0]=X.width),z!=null&&(z[0]=X.height);e:{if(L=new Ih,(z=new Oe).data=b,z.w=_,z.ha=M,z.kd=1,_=[0],t(z!=null),((b=af(z.data,z.w,z.ha,null,null,null,_,null,z))==0||b==7)&&_[0]&&(b=4),(_=b)==0){if(t(H!=null),L.data=z.data,L.w=z.w+z.offset,L.ha=z.ha-z.offset,L.put=Lt,L.ac=tl,L.bc=Yl,L.ma=H,z.xa){if((b=Ud())==null){H=1;break e}if(function(te,ve){var Se=[0],Ce=[0],_e=[0];t:for(;;){if(te==null)return 0;if(ve==null)return te.a=2,0;if(te.l=ve,te.a=0,Z(te.m,ve.data,ve.w,ve.ha),!Xl(te.m,Se,Ce,_e)){te.a=3;break t}if(te.xb=tO,ve.width=Se[0],ve.height=Ce[0],!nl(Se[0],Ce[0],1,te,null))break t;return 1}return t(te.a!=0),0}(b,L)){if(L=(_=cu(L.width,L.height,H.Oa,H.ba))==0){t:{L=b;r:for(;;){if(L==null){L=0;break t}if(t(L.s.yc!=null),t(L.s.Ya!=null),t(0<L.s.Wb),t((M=L.l)!=null),t((z=M.ma)!=null),L.xb!=0){if(L.ca=z.ba,L.tb=z.tb,t(L.ca!=null),!Hg(z.Oa,M,ib)){L.a=2;break r}if(!zd(L,M.width)||M.da)break r;if((M.da||er(L.ca.S))&&As(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&As()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!V(L.s.vb,L.s.Wa.Xa)){L.a=1;break r}L.xb=0}if(!uo(L,L.V,L.Ba,L.c,L.i,M.o,au))break r;z.Dc=L.Ma,L=1;break t}t(L.a!=0),L=0}L=!L}L&&(_=b.a)}else _=b.a}else{if((b=new a5)==null){H=1;break e}if(b.Fa=z.na,b.P=z.P,b.qc=z.Sa,Vv(b,L)){if((_=cu(L.width,L.height,H.Oa,H.ba))==0){if(b.Aa=0,M=H.Oa,t((z=b)!=null),M!=null){if(0<(Q=0>(Q=M.Md)?0:100<Q?255:255*Q/100)){for(ee=ge=0;4>ee;++ee)12>(Pe=z.pb[ee]).lc&&(Pe.ia=Q*wQ[0>Pe.lc?0:Pe.lc]>>3),ge|=Pe.ia;ge&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=M.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}(function(te,ve){if(te==null)return 0;if(ve==null)return Jn(te,2,"NULL VP8Io parameter in VP8Decode().");if(!te.cb&&!Vv(te,ve))return 0;if(t(te.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(te.L=0);var Se=cb[te.L];if(te.L==2?(te.yb=0,te.zb=0):(te.yb=ve.v-Se>>4,te.zb=ve.j-Se>>4,0>te.yb&&(te.yb=0),0>te.zb&&(te.zb=0)),te.Va=ve.o+15+Se>>4,te.Hb=ve.va+15+Se>>4,te.Hb>te.za&&(te.Hb=te.za),te.Va>te.Ub&&(te.Va=te.Ub),0<te.L){var Ce=te.ed;for(Se=0;4>Se;++Se){var _e;if(te.Qa.Cb){var Ee=te.Qa.Lb[Se];te.Qa.Fb||(Ee+=Ce.Tb)}else Ee=Ce.Tb;for(_e=0;1>=_e;++_e){var Ie=te.gd[Se][_e],We=Ee;if(Ce.Pc&&(We+=Ce.vd[0],_e&&(We+=Ce.od[0])),0<(We=0>We?0:63<We?63:We)){var Be=We;0<Ce.wb&&(Be=4<Ce.wb?Be>>2:Be>>1)>9-Ce.wb&&(Be=9-Ce.wb),1>Be&&(Be=1),Ie.dd=Be,Ie.tc=2*We+Be,Ie.ld=40<=We?2:15<=We?1:0}else Ie.tc=0;Ie.La=_e}}}Se=0}else Jn(te,6,"Frame setup failed"),Se=te.a;if(Se=Se==0){if(Se){te.$c=0,0<te.Aa||(te.Ic=jQ);t:{Se=te.Ic,Ce=4*(Be=te.za);var Pt=32*Be,mt=Be+1,nr=0<te.L?Be*(0<te.Aa?2:1):0,vt=(te.Aa==2?2:1)*Be;if((Ie=Ce+832+(_e=3*(16*Se+cb[te.L])/2*Pt)+(Ee=te.Fa!=null&&0<te.Fa.length?te.Kc.c*te.Kc.i:0))!=Ie)Se=0;else{if(Ie>te.Vb){if(te.Vb=0,te.Ec=s(Ie),te.Fc=0,te.Ec==null){Se=Jn(te,1,"no memory during frame initialization.");break t}te.Vb=Ie}Ie=te.Ec,We=te.Fc,te.Ac=Ie,te.Bc=We,We+=Ce,te.Gd=o(Pt,Bv),te.Hd=0,te.rb=o(mt+1,Mg),te.sb=1,te.wa=nr?o(nr,Ps):null,te.Y=0,te.D.Nb=0,te.D.wa=te.wa,te.D.Y=te.Y,0<te.Aa&&(te.D.Y+=Be),t(!0),te.oc=Ie,te.pc=We,We+=832,te.ya=o(vt,Lg),te.aa=0,te.D.ya=te.ya,te.D.aa=te.aa,te.Aa==2&&(te.D.aa+=Be),te.R=16*Be,te.B=8*Be,Be=(Pt=cb[te.L])*te.R,Pt=Pt/2*te.B,te.sa=Ie,te.ta=We+Be,te.qa=te.sa,te.ra=te.ta+16*Se*te.R+Pt,te.Ha=te.qa,te.Ia=te.ra+8*Se*te.B+Pt,te.$c=0,We+=_e,te.mb=Ee?Ie:null,te.nb=Ee?We:null,t(We+Ee<=te.Fc+te.Vb),Vd(te),i(te.Ac,te.Bc,0,Ce),Se=1}}if(Se){if(ve.ka=0,ve.y=te.sa,ve.O=te.ta,ve.f=te.qa,ve.N=te.ra,ve.ea=te.Ha,ve.Vd=te.Ia,ve.fa=te.R,ve.Rc=te.B,ve.F=null,ve.J=0,!XE){for(Se=-255;255>=Se;++Se)HE[255+Se]=0>Se?-Se:Se;for(Se=-1020;1020>=Se;++Se)KE[1020+Se]=-128>Se?-128:127<Se?127:Se;for(Se=-112;112>=Se;++Se)GE[112+Se]=-16>Se?-16:15<Se?15:Se;for(Se=-255;510>=Se;++Se)YE[255+Se]=0>Se?0:255<Se?255:Se;XE=1}mu=Wv,lf=o5,ol=l5,Lr=il,tn=qv,Cs=s5,Bn=Gv,oi=Yv,ic=T,Jg=U,Vh=Zd,eb=Xv,RE=re,FE=ue,$E=Vg,BE=Xd,UE=Hv,zE=Kv,ho[0]=m5,ho[1]=Dg,ho[2]=h5,ho[3]=p5,ho[4]=g5,ho[5]=Jl,ho[6]=Ql,ho[7]=x5,ho[8]=Dh,ho[9]=y5,gu[0]=ou,gu[1]=u5,gu[2]=d5,gu[3]=Rg,gu[4]=f5,gu[5]=Hd,gu[6]=Fg,ac[0]=Fh,ac[1]=c5,ac[2]=$g,ac[3]=Kd,ac[4]=Bg,ac[5]=v5,ac[6]=Ug,Se=1}else Se=0}Se&&(Se=function(mr,li){for(mr.M=0;mr.M<mr.Va;++mr.M){var ir,bt=mr.Jc[mr.M&mr.Xb],rt=mr.m,Un=mr;for(ir=0;ir<Un.za;++ir){var tr=rt,wr=Un,dn=wr.Ac,Ei=wr.Bc+4*ir,ua=wr.zc,Tn=wr.ya[wr.aa+ir];if(wr.Qa.Bb?Tn.$b=ye(tr,wr.Pa.jb[0])?2+ye(tr,wr.Pa.jb[2]):ye(tr,wr.Pa.jb[1]):Tn.$b=0,wr.kc&&(Tn.Ad=ye(tr,wr.Bd)),Tn.Za=!ye(tr,145)+0,Tn.Za){var Wi=Tn.Ob,da=0;for(wr=0;4>wr;++wr){var ci,_r=ua[0+wr];for(ci=0;4>ci;++ci){_r=oQ[dn[Ei+ci]][_r];for(var Ur=eO[ye(tr,_r[0])];0<Ur;)Ur=eO[2*Ur+ye(tr,_r[Ur])];_r=-Ur,dn[Ei+ci]=_r}n(Wi,da,dn,Ei,4),da+=4,ua[0+wr]=_r}}else _r=ye(tr,156)?ye(tr,128)?1:3:ye(tr,163)?2:0,Tn.Ob[0]=_r,i(dn,Ei,_r,4),i(ua,0,_r,4);Tn.Dd=ye(tr,142)?ye(tr,114)?ye(tr,183)?1:3:2:0}if(Un.m.Ka)return Jn(mr,7,"Premature end-of-partition0 encountered.");for(;mr.ja<mr.za;++mr.ja){if(Un=bt,tr=(rt=mr).rb[rt.sb-1],dn=rt.rb[rt.sb+rt.ja],ir=rt.ya[rt.aa+rt.ja],Ei=rt.kc?ir.Ad:0)tr.la=dn.la=0,ir.Za||(tr.Na=dn.Na=0),ir.Hc=0,ir.Gc=0,ir.ia=0;else{var En,zr;if(tr=dn,dn=Un,Ei=rt.Pa.Xc,ua=rt.ya[rt.aa+rt.ja],Tn=rt.pb[ua.$b],wr=ua.ad,Wi=0,da=rt.rb[rt.sb-1],_r=ci=0,i(wr,Wi,0,384),ua.Za)var Oi=0,po=Ei[3];else{Ur=s(16);var zn=tr.Na+da.Na;if(zn=tx(dn,Ei[1],zn,Tn.Eb,0,Ur,0),tr.Na=da.Na=(0<zn)+0,1<zn)mu(Ur,0,wr,Wi);else{var Pa=Ur[0]+3>>3;for(Ur=0;256>Ur;Ur+=16)wr[Wi+Ur]=Pa}Oi=1,po=Ei[0]}var rn=15&tr.la,ui=15&da.la;for(Ur=0;4>Ur;++Ur){var Ha=1&ui;for(Pa=zr=0;4>Pa;++Pa)rn=rn>>1|(Ha=(zn=tx(dn,po,zn=Ha+(1&rn),Tn.Sc,Oi,wr,Wi))>Oi)<<7,zr=zr<<2|(3<zn?3:1<zn?2:wr[Wi+0]!=0),Wi+=16;rn>>=4,ui=ui>>1|Ha<<7,ci=(ci<<8|zr)>>>0}for(po=rn,Oi=ui>>4,En=0;4>En;En+=2){for(zr=0,rn=tr.la>>4+En,ui=da.la>>4+En,Ur=0;2>Ur;++Ur){for(Ha=1&ui,Pa=0;2>Pa;++Pa)zn=Ha+(1&rn),rn=rn>>1|(Ha=0<(zn=tx(dn,Ei[2],zn,Tn.Qc,0,wr,Wi)))<<3,zr=zr<<2|(3<zn?3:1<zn?2:wr[Wi+0]!=0),Wi+=16;rn>>=2,ui=ui>>1|Ha<<5}_r|=zr<<4*En,po|=rn<<4<<En,Oi|=(240&ui)<<En}tr.la=po,da.la=Oi,ua.Hc=ci,ua.Gc=_r,ua.ia=43690&_r?0:Tn.ia,Ei=!(ci|_r)}if(0<rt.L&&(rt.wa[rt.Y+rt.ja]=rt.gd[ir.$b][ir.Za],rt.wa[rt.Y+rt.ja].La|=!Ei),Un.Ka)return Jn(mr,7,"Premature end-of-file encountered.")}if(Vd(mr),rt=li,Un=1,ir=(bt=mr).D,tr=0<bt.L&&bt.M>=bt.zb&&bt.M<=bt.Va,bt.Aa==0)t:{if(ir.M=bt.M,ir.uc=tr,ks(bt,ir),Un=1,ir=(zr=bt.D).Nb,tr=(_r=cb[bt.L])*bt.R,dn=_r/2*bt.B,Ur=16*ir*bt.R,Pa=8*ir*bt.B,Ei=bt.sa,ua=bt.ta-tr+Ur,Tn=bt.qa,wr=bt.ra-dn+Pa,Wi=bt.Ha,da=bt.Ia-dn+Pa,ui=(rn=zr.M)==0,ci=rn>=bt.Va-1,bt.Aa==2&&ks(bt,zr),zr.uc)for(Ha=(zn=bt).D.M,t(zn.D.uc),zr=zn.yb;zr<zn.Hb;++zr){Oi=zr,po=Ha;var fa=(Ka=(Mi=zn).D).Nb;En=Mi.R;var Ka=Ka.wa[Ka.Y+Oi],Ga=Mi.sa,Aa=Mi.ta+16*fa*En+16*Oi,Ya=Ka.dd,ln=Ka.tc;if(ln!=0)if(t(3<=ln),Mi.L==1)0<Oi&&BE(Ga,Aa,En,ln+4),Ka.La&&zE(Ga,Aa,En,ln),0<po&&$E(Ga,Aa,En,ln+4),Ka.La&&UE(Ga,Aa,En,ln);else{var Xa=Mi.B,mo=Mi.qa,cf=Mi.ra+8*fa*Xa+8*Oi,sc=Mi.Ha,Mi=Mi.Ia+8*fa*Xa+8*Oi;fa=Ka.ld,0<Oi&&(oi(Ga,Aa,En,ln+4,Ya,fa),Jg(mo,cf,sc,Mi,Xa,ln+4,Ya,fa)),Ka.La&&(eb(Ga,Aa,En,ln,Ya,fa),FE(mo,cf,sc,Mi,Xa,ln,Ya,fa)),0<po&&(Bn(Ga,Aa,En,ln+4,Ya,fa),ic(mo,cf,sc,Mi,Xa,ln+4,Ya,fa)),Ka.La&&(Vh(Ga,Aa,En,ln,Ya,fa),RE(mo,cf,sc,Mi,Xa,ln,Ya,fa))}}if(bt.ia&&alert("todo:DitherRow"),rt.put!=null){if(zr=16*rn,rn=16*(rn+1),ui?(rt.y=bt.sa,rt.O=bt.ta+Ur,rt.f=bt.qa,rt.N=bt.ra+Pa,rt.ea=bt.Ha,rt.W=bt.Ia+Pa):(zr-=_r,rt.y=Ei,rt.O=ua,rt.f=Tn,rt.N=wr,rt.ea=Wi,rt.W=da),ci||(rn-=_r),rn>rt.o&&(rn=rt.o),rt.F=null,rt.J=null,bt.Fa!=null&&0<bt.Fa.length&&zr<rn&&(rt.J=ei(bt,rt,zr,rn-zr),rt.F=bt.mb,rt.F==null&&rt.F.length==0)){Un=Jn(bt,3,"Could not decode alpha data.");break t}zr<rt.j&&(_r=rt.j-zr,zr=rt.j,t(!(1&_r)),rt.O+=bt.R*_r,rt.N+=bt.B*(_r>>1),rt.W+=bt.B*(_r>>1),rt.F!=null&&(rt.J+=rt.width*_r)),zr<rn&&(rt.O+=rt.v,rt.N+=rt.v>>1,rt.W+=rt.v>>1,rt.F!=null&&(rt.J+=rt.v),rt.ka=zr-rt.j,rt.U=rt.va-rt.v,rt.T=rn-zr,Un=rt.put(rt))}ir+1!=bt.Ic||ci||(n(bt.sa,bt.ta-tr,Ei,ua+16*bt.R,tr),n(bt.qa,bt.ra-dn,Tn,wr+8*bt.B,dn),n(bt.Ha,bt.Ia-dn,Wi,da+8*bt.B,dn))}if(!Un)return Jn(mr,6,"Output aborted.")}return 1}(te,ve)),ve.bc!=null&&ve.bc(ve),Se&=1}return Se?(te.cb=0,Se):0})(b,L)||(_=b.a)}}else _=b.a}_==0&&H.Oa!=null&&H.Oa.fd&&(_=Kg(H.ba))}H=_}W=H!=0?null:11>W?X.f.RGBA.eb:X.f.kb.y}else W=null;return W};var cO=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(O,I){for(var E="",A=0;A<4;A++)E+=String.fromCharCode(O[I++]);return E}function d(O,I){return O[I+0]|O[I+1]<<8}function f(O,I){return(O[I+0]|O[I+1]<<8|O[I+2]<<16)>>>0}function h(O,I){return(O[I+0]|O[I+1]<<8|O[I+2]<<16|O[I+3]<<24)>>>0}new c;var p=[0],y=[0],m=[],v=new c,g=e,x=function(O,I){var E={},A=0,D=!1,R=0,G=0;if(E.frames=[],!function($,Y){for(var J=0;J<4;J++)if($[Y+J]!="RIFF".charCodeAt(J))return!0;return!1}(O,I)){for(h(O,I+=4),I+=8;I<O.length;){var F=u(O,I),q=h(O,I+=4);I+=4;var B=q+(1&q);switch(F){case"VP8 ":case"VP8L":E.frames[A]===void 0&&(E.frames[A]={}),(fe=E.frames[A]).src_off=D?G:I-8,fe.src_size=R+q+8,A++,D&&(D=!1,R=0,G=0);break;case"VP8X":(fe=E.header={}).feature_flags=O[I];var Z=I+4;fe.canvas_width=1+f(O,Z),Z+=3,fe.canvas_height=1+f(O,Z),Z+=3;break;case"ALPH":D=!0,R=B+8,G=I-8;break;case"ANIM":(fe=E.header).bgcolor=h(O,I),Z=I+4,fe.loop_count=d(O,Z),Z+=2;break;case"ANMF":var le,fe;(fe=E.frames[A]={}).offset_x=2*f(O,I),I+=3,fe.offset_y=2*f(O,I),I+=3,fe.width=1+f(O,I),I+=3,fe.height=1+f(O,I),I+=3,fe.duration=f(O,I),I+=3,le=O[I++],fe.dispose=1&le,fe.blend=le>>1&1}F!="ANMF"&&(I+=B)}return E}}(g,0);x.response=g,x.rgbaoutput=!0,x.dataurl=!1;var w=x.header?x.header:null,j=x.frames?x.frames:null;if(w){w.loop_counter=w.loop_count,p=[w.canvas_height],y=[w.canvas_width];for(var N=0;N<j.length&&j[N].blend!=0;N++);}var P=j[0],k=v.WebPDecodeRGBA(g,P.src_off,P.src_size,y,p);P.rgba=k,P.imgwidth=y[0],P.imgheight=p[0];for(var C=0;C<y[0]*p[0]*4;C++)m[C]=k[C];return this.width=y,this.height=p,this.data=m,this}(function(e){var t,r,n,i,s,o,l,c,u,d=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new c,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new o,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new o,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=$;Object.defineProperty(this,"pdf",{get:function(){return Y}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(xe){J=!!xe}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(xe){ae=!!xe}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(xe){isNaN(xe)||(de=xe)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(xe){isNaN(xe)||(ce=xe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(xe){var V;typeof xe=="number"?V=[xe,xe,xe,xe]:((V=new Array(4))[0]=xe[0],V[1]=xe.length>=2?xe[1]:V[0],V[2]=xe.length>=3?xe[2]:V[0],V[3]=xe.length>=4?xe[3]:V[1]),u.margin=V}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(xe){be=xe}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(xe){oe=xe}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(xe){ye=xe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(xe){xe instanceof d&&(u=xe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(xe){u.path=xe}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(xe){je=xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xe){var V;V=h(xe),this.ctx.fillStyle=V.style,this.ctx.isFillTransparent=V.a===0,this.ctx.fillOpacity=V.a,this.pdf.setFillColor(V.r,V.g,V.b,{a:V.a}),this.pdf.setTextColor(V.r,V.g,V.b,{a:V.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xe){var V=h(xe);this.ctx.strokeStyle=V.style,this.ctx.isStrokeTransparent=V.a===0,this.ctx.strokeOpacity=V.a,V.a===0?this.pdf.setDrawColor(255,255,255):(V.a,this.pdf.setDrawColor(V.r,V.g,V.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xe){["butt","round","square"].indexOf(xe)!==-1&&(this.ctx.lineCap=xe,this.pdf.setLineCap(xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xe){isNaN(xe)||(this.ctx.lineWidth=xe,this.pdf.setLineWidth(xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xe){["bevel","round","miter"].indexOf(xe)!==-1&&(this.ctx.lineJoin=xe,this.pdf.setLineJoin(xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xe){isNaN(xe)||(this.ctx.miterLimit=xe,this.pdf.setMiterLimit(xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xe){this.ctx.textBaseline=xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xe){["right","end","center","left","start"].indexOf(xe)!==-1&&(this.ctx.textAlign=xe)}});var pe=null,Ne=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ne},set:function(xe){pe=null,Ne=xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xe){var V;if(this.ctx.font=xe,(V=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(xe))!==null){var Ve=V[1];V[2];var Ze=V[3],it=V[4];V[5];var De=V[6],pt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(it)[2];it=Math.floor(pt==="px"?parseFloat(it)*this.pdf.internal.scaleFactor:pt==="em"?parseFloat(it)*this.pdf.getFontSize():parseFloat(it)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(it);var Je=function(dt){var ot,Yr,pr=[],yt=dt.trim();if(yt==="")return g_;if(yt in x8)return[x8[yt]];for(;yt!=="";){switch(Yr=null,ot=(yt=v8(yt)).charAt(0)){case'"':case"'":Yr=xye(yt.substring(1),ot);break;default:Yr=yye(yt)}if(Yr===null||(pr.push(Yr[0]),(yt=v8(Yr[1]))!==""&&yt.charAt(0)!==","))return g_;yt=yt.replace(/^,/,"")}return pr}(De);if(this.fontFaces){var ne=function(dt,ot){if(pe===null){var Yr=function(pr){var yt=[];return Object.keys(pr).forEach(function(Wt){pr[Wt].forEach(function(Or){var Ot=null;switch(Or){case"bold":Ot={family:Wt,weight:"bold"};break;case"italic":Ot={family:Wt,style:"italic"};break;case"bolditalic":Ot={family:Wt,weight:"bold",style:"italic"};break;case"":case"normal":Ot={family:Wt}}Ot!==null&&(Ot.ref={name:Wt,style:Or},yt.push(Ot))})}),yt}(dt.getFontList());pe=function(pr){for(var yt={},Wt=0;Wt<pr.length;++Wt){var Or=m_(pr[Wt]),Ot=Or.family,cr=Or.stretch,er=Or.style,Rn=Or.weight;yt[Ot]=yt[Ot]||{},yt[Ot][cr]=yt[Ot][cr]||{},yt[Ot][cr][er]=yt[Ot][cr][er]||{},yt[Ot][cr][er][Rn]=Or}return yt}(Yr.concat(ot))}return pe}(this.pdf,this.fontFaces),me=Je.map(function(dt){return{family:dt,stretch:"normal",weight:Ze,style:Ve}}),Ae=function(dt,ot,Yr){for(var pr=(Yr=Yr||{}).defaultFontFamily||"times",yt=Object.assign({},gye,Yr.genericFontFamilies||{}),Wt=null,Or=null,Ot=0;Ot<ot.length;++Ot)if(yt[(Wt=m_(ot[Ot])).family]&&(Wt.family=yt[Wt.family]),dt.hasOwnProperty(Wt.family)){Or=dt[Wt.family];break}if(!(Or=Or||dt[pr]))throw new Error("Could not find a font-family for the rule '"+y8(Wt)+"' and default family '"+pr+"'.");if(Or=function(cr,er){if(er[cr])return er[cr];var Rn=pk[cr],ai=Rn<=pk.normal?-1:1,en=g8(er,SH,Rn,ai);if(!en)throw new Error("Could not find a matching font-stretch value for "+cr);return en}(Wt.stretch,Or),Or=function(cr,er){if(er[cr])return er[cr];for(var Rn=NH[cr],ai=0;ai<Rn.length;++ai)if(er[Rn[ai]])return er[Rn[ai]];throw new Error("Could not find a matching font-style for "+cr)}(Wt.style,Or),!(Or=function(cr,er){if(er[cr])return er[cr];if(cr===400&&er[500])return er[500];if(cr===500&&er[400])return er[400];var Rn=mye[cr],ai=g8(er,_H,Rn,cr<400?-1:1);if(!ai)throw new Error("Could not find a matching font-weight for value "+cr);return ai}(Wt.weight,Or)))throw new Error("Failed to resolve a font for the rule '"+y8(Wt)+"'.");return Or}(ne,me);this.pdf.setFont(Ae.ref.name,Ae.ref.style)}else{var Re="";(Ze==="bold"||parseInt(Ze,10)>=700||Ve==="bold")&&(Re="bold"),Ve==="italic"&&(Re+="italic"),Re.length===0&&(Re="normal");for(var Le="",Fe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ue=0;Ue<Je.length;Ue++){if(this.pdf.internal.getFont(Je[Ue],Re,{noFallback:!0,disableWarning:!0})!==void 0){Le=Je[Ue];break}if(Re==="bolditalic"&&this.pdf.internal.getFont(Je[Ue],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Le=Je[Ue],Re="bold";else if(this.pdf.internal.getFont(Je[Ue],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Le=Je[Ue],Re="normal";break}}if(Le===""){for(var Qe=0;Qe<Je.length;Qe++)if(Fe[Je[Qe]]){Le=Fe[Je[Qe]];break}}Le=Le===""?"Times":Le,this.pdf.setFont(Le,Re)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xe){this.ctx.globalCompositeOperation=xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xe){this.ctx.globalAlpha=xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xe){this.ctx.lineDashOffset=xe,fe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xe){this.ctx.lineDash=xe,fe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xe){this.ctx.ignoreClearRect=!!xe}})};f.prototype.setLineDash=function($){this.lineDash=$},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){j.call(this,"fill",!1)},f.prototype.stroke=function(){j.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function($,Y){if(isNaN($)||isNaN(Y))throw nn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new o($,Y));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new o($,Y)},f.prototype.closePath=function(){var $=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&qr(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){$=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o($.x,$.y)},f.prototype.lineTo=function($,Y){if(isNaN($)||isNaN(Y))throw nn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new o($,Y));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},f.prototype.quadraticCurveTo=function($,Y,J,ae){if(isNaN(J)||isNaN(ae)||isNaN($)||isNaN(Y))throw nn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new o(J,ae)),ce=this.ctx.transform.applyToPoint(new o($,Y));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},f.prototype.bezierCurveTo=function($,Y,J,ae,de,ce){if(isNaN(de)||isNaN(ce)||isNaN($)||isNaN(Y)||isNaN(J)||isNaN(ae))throw nn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new o(de,ce)),oe=this.ctx.transform.applyToPoint(new o($,Y)),ye=this.ctx.transform.applyToPoint(new o(J,ae));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:ye.x,y2:ye.y,x:be.x,y:be.y}),this.ctx.lastPoint=new o(be.x,be.y)},f.prototype.arc=function($,Y,J,ae,de,ce){if(isNaN($)||isNaN(Y)||isNaN(J)||isNaN(ae)||isNaN(de))throw nn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new o($,Y));$=be.x,Y=be.y;var oe=this.ctx.transform.applyToPoint(new o(0,J)),ye=this.ctx.transform.applyToPoint(new o(0,0));J=Math.sqrt(Math.pow(oe.x-ye.x,2)+Math.pow(oe.y-ye.y,2))}Math.abs(de-ae)>=2*Math.PI&&(ae=0,de=2*Math.PI),this.path.push({type:"arc",x:$,y:Y,radius:J,startAngle:ae,endAngle:de,counterclockwise:ce})},f.prototype.arcTo=function($,Y,J,ae,de){throw new Error("arcTo not implemented.")},f.prototype.rect=function($,Y,J,ae){if(isNaN($)||isNaN(Y)||isNaN(J)||isNaN(ae))throw nn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,Y),this.lineTo($+J,Y),this.lineTo($+J,Y+ae),this.lineTo($,Y+ae),this.lineTo($,Y),this.lineTo($+J,Y),this.lineTo($,Y)},f.prototype.fillRect=function($,Y,J,ae){if(isNaN($)||isNaN(Y)||isNaN(J)||isNaN(ae))throw nn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,Y,J,ae),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},f.prototype.strokeRect=function($,Y,J,ae){if(isNaN($)||isNaN(Y)||isNaN(J)||isNaN(ae))throw nn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect($,Y,J,ae),this.stroke())},f.prototype.clearRect=function($,Y,J,ae){if(isNaN($)||isNaN(Y)||isNaN(J)||isNaN(ae))throw nn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,Y,J,ae))},f.prototype.save=function($){$=typeof $!="boolean"||$;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},f.prototype.restore=function($){$=typeof $!="boolean"||$;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function($){var Y,J,ae,de;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))Y=0,J=0,ae=0,de=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(ce!==null)Y=parseInt(ce[1]),J=parseInt(ce[2]),ae=parseInt(ce[3]),de=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)Y=parseInt(ce[1]),J=parseInt(ce[2]),ae=parseInt(ce[3]),de=parseFloat(ce[4]);else{if(de=1,typeof $=="string"&&$.charAt(0)!=="#"){var be=new gH($);$=be.ok?be.toHex():"#000000"}$.length===4?(Y=$.substring(1,2),Y+=Y,J=$.substring(2,3),J+=J,ae=$.substring(3,4),ae+=ae):(Y=$.substring(1,3),J=$.substring(3,5),ae=$.substring(5,7)),Y=parseInt(Y,16),J=parseInt(J,16),ae=parseInt(ae,16)}}return{r:Y,g:J,b:ae,a:de,style:$}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function($,Y,J,ae){if(isNaN(Y)||isNaN(J)||typeof $!="string")throw nn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!p.call(this)){var de=B(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;A.call(this,{text:$,x:Y,y:J,scale:ce,angle:de,align:this.textAlign,maxWidth:ae})}},f.prototype.strokeText=function($,Y,J,ae){if(isNaN(Y)||isNaN(J)||typeof $!="string")throw nn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ae=isNaN(ae)?void 0:ae;var de=B(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;A.call(this,{text:$,x:Y,y:J,scale:ce,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:ae})}},f.prototype.measureText=function($){if(typeof $!="string")throw nn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,J=this.pdf.internal.scaleFactor,ae=Y.internal.getFontSize(),de=Y.getStringUnitWidth($)*ae/Y.internal.scaleFactor;return new function(ce){var be=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this}({width:de*=Math.round(96*J/72*1e4)/1e4})},f.prototype.scale=function($,Y){if(isNaN($)||isNaN(Y))throw nn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new c($,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.rotate=function($){if(isNaN($))throw nn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new c(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.translate=function($,Y){if(isNaN($)||isNaN(Y))throw nn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new c(1,0,0,1,$,Y);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.transform=function($,Y,J,ae,de,ce){if(isNaN($)||isNaN(Y)||isNaN(J)||isNaN(ae)||isNaN(de)||isNaN(ce))throw nn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new c($,Y,J,ae,de,ce);this.ctx.transform=this.ctx.transform.multiply(be)},f.prototype.setTransform=function($,Y,J,ae,de,ce){$=isNaN($)?1:$,Y=isNaN(Y)?0:Y,J=isNaN(J)?0:J,ae=isNaN(ae)?1:ae,de=isNaN(de)?0:de,ce=isNaN(ce)?0:ce,this.ctx.transform=new c($,Y,J,ae,de,ce)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function($,Y,J,ae,de,ce,be,oe,ye){var je=this.pdf.getImageProperties($),pe=1,Ne=1,xe=1,V=1;ae!==void 0&&oe!==void 0&&(xe=oe/ae,V=ye/de,pe=je.width/ae*oe/ae,Ne=je.height/de*ye/de),ce===void 0&&(ce=Y,be=J,Y=0,J=0),ae!==void 0&&oe===void 0&&(oe=ae,ye=de),ae===void 0&&oe===void 0&&(oe=je.width,ye=je.height);for(var Ve,Ze=this.ctx.transform.decompose(),it=B(Ze.rotate.shx),De=new c,pt=(De=(De=(De=De.multiply(Ze.translate)).multiply(Ze.skew)).multiply(Ze.scale)).applyToRectangle(new l(ce-Y*xe,be-J*V,ae*pe,de*Ne)),Je=v.call(this,pt),ne=[],me=0;me<Je.length;me+=1)ne.indexOf(Je[me])===-1&&ne.push(Je[me]);if(w(ne),this.autoPaging)for(var Ae=ne[0],Re=ne[ne.length-1],Le=Ae;Le<Re+1;Le++){this.pdf.setPage(Le);var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ue=Le===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Le===1?0:Qe+(Le-2)*dt;if(this.ctx.clip_path.length!==0){var Yr=this.path;Ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Ve,this.posX+this.margin[3],-ot+Ue+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Yr}var pr=JSON.parse(JSON.stringify(pt));pr=x([pr],this.posX+this.margin[3],-ot+Ue+this.ctx.prevPageLastElemOffset)[0];var yt=(Le>Ae||Le<Re)&&m.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,dt,null).clip().discardPath()),this.pdf.addImage($,"JPEG",pr.x,pr.y,pr.w,pr.h,null,null,it),yt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage($,"JPEG",pt.x,pt.y,pt.w,pt.h,null,null,it)};var v=function($,Y,J){var ae=[];Y=Y||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":ae.push(Math.floor(($.y+de)/J)+1);break;case"arc":ae.push(Math.floor(($.y+de-$.radius)/J)+1),ae.push(Math.floor(($.y+de+$.radius)/J)+1);break;case"qct":var ce=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);ae.push(Math.floor((ce.y+de)/J)+1),ae.push(Math.floor((ce.y+ce.h+de)/J)+1);break;case"bct":var be=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);ae.push(Math.floor((be.y+de)/J)+1),ae.push(Math.floor((be.y+be.h+de)/J)+1);break;case"rect":ae.push(Math.floor(($.y+de)/J)+1),ae.push(Math.floor(($.y+$.h+de)/J)+1)}for(var oe=0;oe<ae.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<ae[oe];)g.call(this);return ae},g=function(){var $=this.fillStyle,Y=this.strokeStyle,J=this.font,ae=this.lineCap,de=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=Y,this.font=J,this.lineCap=ae,this.lineWidth=de,this.lineJoin=ce},x=function($,Y,J){for(var ae=0;ae<$.length;ae++)switch($[ae].type){case"bct":$[ae].x2+=Y,$[ae].y2+=J;case"qct":$[ae].x1+=Y,$[ae].y1+=J;default:$[ae].x+=Y,$[ae].y+=J}return $},w=function($){return $.sort(function(Y,J){return Y-J})},j=function($,Y){for(var J,ae,de=this.fillStyle,ce=this.strokeStyle,be=this.lineCap,oe=this.lineWidth,ye=Math.abs(oe*this.ctx.transform.scaleX),je=this.lineJoin,pe=JSON.parse(JSON.stringify(this.path)),Ne=JSON.parse(JSON.stringify(this.path)),xe=[],V=0;V<Ne.length;V++)if(Ne[V].x!==void 0)for(var Ve=v.call(this,Ne[V]),Ze=0;Ze<Ve.length;Ze+=1)xe.indexOf(Ve[Ze])===-1&&xe.push(Ve[Ze]);for(var it=0;it<xe.length;it++)for(;this.pdf.internal.getNumberOfPages()<xe[it];)g.call(this);if(w(xe),this.autoPaging)for(var De=xe[0],pt=xe[xe.length-1],Je=De;Je<pt+1;Je++){this.pdf.setPage(Je),this.fillStyle=de,this.strokeStyle=ce,this.lineCap=be,this.lineWidth=ye,this.lineJoin=je;var ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],me=Je===1?this.posY+this.margin[0]:this.margin[0],Ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Le=Je===1?0:Ae+(Je-2)*Re;if(this.ctx.clip_path.length!==0){var Fe=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(J,this.posX+this.margin[3],-Le+me+this.ctx.prevPageLastElemOffset),N.call(this,$,!0),this.path=Fe}if(ae=JSON.parse(JSON.stringify(pe)),this.path=x(ae,this.posX+this.margin[3],-Le+me+this.ctx.prevPageLastElemOffset),Y===!1||Je===0){var Ue=(Je>De||Je<pt)&&m.call(this);Ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ne,Re,null).clip().discardPath()),N.call(this,$,Y),Ue&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}else this.lineWidth=ye,N.call(this,$,Y),this.lineWidth=oe;this.path=pe},N=function($,Y){if(($!=="stroke"||Y||!y.call(this))&&($==="stroke"||Y||!p.call(this))){for(var J,ae,de=[],ce=this.path,be=0;be<ce.length;be++){var oe=ce[be];switch(oe.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:oe,deltas:[],abs:[]});break;case"lt":var ye=de.length;if(ce[be-1]&&!isNaN(ce[be-1].x)&&(J=[oe.x-ce[be-1].x,oe.y-ce[be-1].y],ye>0)){for(;ye>=0;ye--)if(de[ye-1].close!==!0&&de[ye-1].begin!==!0){de[ye-1].deltas.push(J),de[ye-1].abs.push(oe);break}}break;case"bct":J=[oe.x1-ce[be-1].x,oe.y1-ce[be-1].y,oe.x2-ce[be-1].x,oe.y2-ce[be-1].y,oe.x-ce[be-1].x,oe.y-ce[be-1].y],de[de.length-1].deltas.push(J);break;case"qct":var je=ce[be-1].x+2/3*(oe.x1-ce[be-1].x),pe=ce[be-1].y+2/3*(oe.y1-ce[be-1].y),Ne=oe.x+2/3*(oe.x1-oe.x),xe=oe.y+2/3*(oe.y1-oe.y),V=oe.x,Ve=oe.y;J=[je-ce[be-1].x,pe-ce[be-1].y,Ne-ce[be-1].x,xe-ce[be-1].y,V-ce[be-1].x,Ve-ce[be-1].y],de[de.length-1].deltas.push(J);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(oe)}}ae=Y?null:$==="stroke"?"stroke":"fill";for(var Ze=!1,it=0;it<de.length;it++)if(de[it].arc)for(var De=de[it].abs,pt=0;pt<De.length;pt++){var Je=De[pt];Je.type==="arc"?C.call(this,Je.x,Je.y,Je.radius,Je.startAngle,Je.endAngle,Je.counterclockwise,void 0,Y,!Ze):D.call(this,Je.x,Je.y),Ze=!0}else if(de[it].close===!0)this.pdf.internal.out("h"),Ze=!1;else if(de[it].begin!==!0){var ne=de[it].start.x,me=de[it].start.y;R.call(this,de[it].deltas,ne,me),Ze=!0}ae&&O.call(this,ae),Y&&I.call(this)}},P=function($){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-J;case"top":return $+Y-J;case"hanging":return $+Y-2*J;case"middle":return $+Y/2-J;default:return $}},k=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(Y,J){this.colorStops.push([Y,J])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function($,Y,J,ae,de,ce,be,oe,ye){for(var je=F.call(this,J,ae,de,ce),pe=0;pe<je.length;pe++){var Ne=je[pe];pe===0&&(ye?E.call(this,Ne.x1+$,Ne.y1+Y):D.call(this,Ne.x1+$,Ne.y1+Y)),G.call(this,$,Y,Ne.x2,Ne.y2,Ne.x3,Ne.y3,Ne.x4,Ne.y4)}oe?I.call(this):O.call(this,be)},O=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},E=function($,Y){this.pdf.internal.out(r($)+" "+n(Y)+" m")},A=function($){var Y;switch($.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var J=this.pdf.getTextDimensions($.text),ae=P.call(this,$.y),de=k.call(this,ae)-J.h,ce=this.ctx.transform.applyToPoint(new o($.x,ae)),be=this.ctx.transform.decompose(),oe=new c;oe=(oe=(oe=oe.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var ye,je,pe,Ne=this.ctx.transform.applyToRectangle(new l($.x,ae,J.w,J.h)),xe=oe.applyToRectangle(new l($.x,de,J.w,J.h)),V=v.call(this,xe),Ve=[],Ze=0;Ze<V.length;Ze+=1)Ve.indexOf(V[Ze])===-1&&Ve.push(V[Ze]);if(w(Ve),this.autoPaging)for(var it=Ve[0],De=Ve[Ve.length-1],pt=it;pt<De+1;pt++){this.pdf.setPage(pt);var Je=pt===1?this.posY+this.margin[0]:this.margin[0],ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],me=this.pdf.internal.pageSize.height-this.margin[2],Ae=me-this.margin[0],Re=this.pdf.internal.pageSize.width-this.margin[1],Le=Re-this.margin[3],Fe=pt===1?0:ne+(pt-2)*Ae;if(this.ctx.clip_path.length!==0){var Ue=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ye,this.posX+this.margin[3],-1*Fe+Je),N.call(this,"fill",!0),this.path=Ue}var Qe=x([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-Fe+Je+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*$.scale),pe=this.lineWidth,this.lineWidth=pe*$.scale);var dt=this.autoPaging!=="text";if(dt||Qe.y+Qe.h<=me){if(dt||Qe.y>=Je&&Qe.x<=Re){var ot=dt?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||Re-Qe.x)[0],Yr=x([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-Fe+Je+this.ctx.prevPageLastElemOffset)[0],pr=dt&&(pt>it||pt<De)&&m.call(this);pr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Le,Ae,null).clip().discardPath()),this.pdf.text(ot,Yr.x,Yr.y,{angle:$.angle,align:Y,renderingMode:$.renderingMode}),pr&&this.pdf.restoreGraphicsState()}}else Qe.y<me&&(this.ctx.prevPageLastElemOffset+=me-Qe.y);$.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=pe)}else $.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*$.scale),pe=this.lineWidth,this.lineWidth=pe*$.scale),this.pdf.text($.text,ce.x+this.posX,ce.y+this.posY,{angle:$.angle,align:Y,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=pe)},D=function($,Y,J,ae){J=J||0,ae=ae||0,this.pdf.internal.out(r($+J)+" "+n(Y+ae)+" l")},R=function($,Y,J){return this.pdf.lines($,Y,J,null,null)},G=function($,Y,J,ae,de,ce,be,oe){this.pdf.internal.out([t(i(J+$)),t(s(ae+Y)),t(i(de+$)),t(s(ce+Y)),t(i(be+$)),t(s(oe+Y)),"c"].join(" "))},F=function($,Y,J,ae){for(var de=2*Math.PI,ce=Math.PI/2;Y>J;)Y-=de;var be=Math.abs(J-Y);be<de&&ae&&(be=de-be);for(var oe=[],ye=ae?-1:1,je=Y;be>1e-5;){var pe=je+ye*Math.min(be,ce);oe.push(q.call(this,$,je,pe)),be-=Math.abs(pe-je),je=pe}return oe},q=function($,Y,J){var ae=(J-Y)/2,de=$*Math.cos(ae),ce=$*Math.sin(ae),be=de,oe=-ce,ye=be*be+oe*oe,je=ye+be*de+oe*ce,pe=4/3*(Math.sqrt(2*ye*je)-je)/(be*ce-oe*de),Ne=be-pe*oe,xe=oe+pe*be,V=Ne,Ve=-xe,Ze=ae+Y,it=Math.cos(Ze),De=Math.sin(Ze);return{x1:$*Math.cos(Y),y1:$*Math.sin(Y),x2:Ne*it-xe*De,y2:Ne*De+xe*it,x3:V*it-Ve*De,y3:V*De+Ve*it,x4:$*Math.cos(J),y4:$*Math.sin(J)}},B=function($){return 180*$/Math.PI},Z=function($,Y,J,ae,de,ce){var be=$+.5*(J-$),oe=Y+.5*(ae-Y),ye=de+.5*(J-de),je=ce+.5*(ae-ce),pe=Math.min($,de,be,ye),Ne=Math.max($,de,be,ye),xe=Math.min(Y,ce,oe,je),V=Math.max(Y,ce,oe,je);return new l(pe,xe,Ne-pe,V-xe)},le=function($,Y,J,ae,de,ce,be,oe){var ye,je,pe,Ne,xe,V,Ve,Ze,it,De,pt,Je,ne,me,Ae=J-$,Re=ae-Y,Le=de-J,Fe=ce-ae,Ue=be-de,Qe=oe-ce;for(je=0;je<41;je++)it=(Ve=(pe=$+(ye=je/40)*Ae)+ye*((xe=J+ye*Le)-pe))+ye*(xe+ye*(de+ye*Ue-xe)-Ve),De=(Ze=(Ne=Y+ye*Re)+ye*((V=ae+ye*Fe)-Ne))+ye*(V+ye*(ce+ye*Qe-V)-Ze),je==0?(pt=it,Je=De,ne=it,me=De):(pt=Math.min(pt,it),Je=Math.min(Je,De),ne=Math.max(ne,it),me=Math.max(me,De));return new l(Math.round(pt),Math.round(Je),Math.round(ne-pt),Math.round(me-Je))},fe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,Y,J=($=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:Y}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(At.API),function(e){var t=function(o){var l,c,u,d,f,h,p,y,m,v;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(h=(f=((f=((f=((f=(f-(v=f%85))/85)-(m=f%85))/85)-(y=f%85))/85)-(p=f%85))/85)%85,c.push(h+33,p+33,y+33,m+33,v+33)):c.push(122);return function(g,x){for(var w=x;w>0;w--)g.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,d,f,h=String,p="length",y=255,m="charCodeAt",v="slice",g="replace";for(o[v](-2),o=o[v](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),u=[],d=0,f=(o+=l="uuuuu"[v](o[p]%5||5))[p];f>d;d+=5)c=52200625*(o[m](d)-33)+614125*(o[m](d+1)-33)+7225*(o[m](d+2)-33)+85*(o[m](d+3)-33)+(o[m](d+4)-33),u.push(y&c>>24,y&c>>16,y&c>>8,y&c);return function(x,w){for(var j=w;j>0;j--)x.pop()}(u,l[p]),h.fromCharCode.apply(h,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},s=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=tk(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(At.API),function(e){e.loadFile=function(t,r,n){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,h=0,p=function(y){var m=y.length,v=[],g=String.fromCharCode;for(h=0;h<m;h+=1)v.push(g(255&y.charCodeAt(h)));return v.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(i,s,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(At.API),function(e){function t(){return(Ut.html2canvas?Promise.resolve(Ut.html2canvas):WS(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Ut.DOMPurify?Promise.resolve(Ut.DOMPurify):WS(()=>import("./purify.es-sOfw8HaZ.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=qr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},s=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var p=0;p<d.length;++p){var y=d[p],m=y.src.find(function(v){return v.format==="truetype"});m&&u.addFont(m.url,y.ref.name,y.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,u.context2d.save(!0),c(this.prop.container,h)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||At.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return u.updateProgress(null,d),h}).then(d,f).then(function(h){return u.updateProgress(1),h})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),h=u.call(f,l,c);return o.convert(h,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,At.getPageSize=function(l,c,u){if(qr(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,h=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var y,m=0,v=0;if(p.hasOwnProperty(h))m=p[h][1]/f,v=p[h][0]/f;else try{m=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",v>m&&(y=v,v=m,m=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",m>v&&(y=v,v=m,m=y)}return{width:v,height:m,unit:c,k:f,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(m_):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(At.API),At.API.addJS=function(e){return w8=e,this.internal.events.subscribe("postPutResources",function(){i1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(i1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),b8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+w8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){i1!==void 0&&b8!==void 0&&this.internal.out("/Names <</JavaScript "+i1+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var o={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(At.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,s,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,m={width:0,height:0,numcomponents:1},v=4;v<y;v+=2){if(v+=p,t.indexOf(f.charCodeAt(v+1))!==-1){h=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),m={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:h,numcomponents:f.charCodeAt(v+9)};break}p=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:i}}return d}}(At.API),At.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,s=tye(e,{checkCrc:!0}),o=s.width,l=s.height,c=s.channels,u=s.palette,d=s.depth;i=u&&c===1?function(C){for(var O=C.width,I=C.height,E=C.data,A=C.palette,D=C.depth,R=!1,G=[],F=[],q=void 0,B=!1,Z=0,le=0;le<A.length;le++){var fe=mI(A[le],4),$=fe[0],Y=fe[1],J=fe[2],ae=fe[3];G.push($,Y,J),ae!=null&&(ae===0?(Z++,F.length<1&&F.push(le)):ae<255&&(B=!0))}if(B||Z>1){R=!0,F=void 0;var de=O*I;q=new Uint8Array(de);for(var ce=new DataView(E.buffer),be=0;be<de;be++){var oe=x_(ce,be,D),ye=mI(A[oe],4)[3];q[be]=ye}}else Z===0&&(F=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:R?8:void 0,colorBytes:E,alphaBytes:q,needSMask:R,palette:G,mask:F}}(s):c===2||c===4?function(C){for(var O=C.data,I=C.width,E=C.height,A=C.channels,D=C.depth,R=A===2?"DeviceGray":"DeviceRGB",G=A-1,F=I*E,q=G,B=F*q,Z=1*F,le=Math.ceil(B*D/8),fe=Math.ceil(Z*D/8),$=new Uint8Array(le),Y=new Uint8Array(fe),J=new DataView(O.buffer),ae=new DataView($.buffer),de=new DataView(Y.buffer),ce=!1,be=0;be<F;be++){for(var oe=be*A,ye=0;ye<q;ye++)T8(ae,x_(J,oe+ye,D),be*q+ye,D);var je=x_(J,oe+q,D);je<(1<<D)-1&&(ce=!0),T8(de,je,1*be,D)}return{colorSpace:R,colorsPerPixel:G,sMaskBitsPerComponent:ce?D:void 0,colorBytes:$,alphaBytes:Y,needSMask:ce}}(s):function(C){var O=C.data,I=C.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:I,colorsPerPixel:I==="DeviceGray"?1:3,colorBytes:O instanceof Uint16Array?function(E){for(var A=E.length,D=new Uint8Array(2*A),R=new DataView(D.buffer,D.byteOffset,D.byteLength),G=0;G<A;G++)R.setUint16(2*G,E[G],!1);return D}(O):O,needSMask:!1}}(s);var f,h,p,y=i,m=y.colorSpace,v=y.colorsPerPixel,g=y.sMaskBitsPerComponent,x=y.colorBytes,w=y.alphaBytes,j=y.needSMask,N=y.palette,P=y.mask,k=null;return n!==At.API.image_compression.NONE&&typeof tk=="function"?(k=function(C){var O;switch(C){case At.API.image_compression.FAST:O=11;break;case At.API.image_compression.MEDIUM:O=13;break;case At.API.image_compression.SLOW:O=14;break;default:O=12}return O}(n),f=this.decode.FLATE_DECODE,h="/Predictor ".concat(k," /Colors ").concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(o),e=_8(x,Math.ceil(o*v*d/8),v,d,n),j&&(p=_8(w,Math.ceil(o*g/8),1,g,n))):(f=void 0,h=void 0,e=x,j&&(p=w)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:e,index:t,filter:f,decodeParameters:h,transparency:P,palette:N,sMask:p,predictor:k,width:o,height:l,bitsPerComponent:d,sMaskBitsPerComponent:g,colorSpace:m}}},function(e){e.processGIF89A=function(t,r,n,i){var s=new jye(t),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new y_(100).encode(u,100);return e.processJPEG.call(this,d,r,n,i)},e.processGIF87A=e.processGIF89A}(At.API),xo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){nn.log("bit decode error:"+r)}},xo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},xo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},xo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},xo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,u=s>>15?255:0,d=n*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},xo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=i*this.width*4+4*s;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},xo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},xo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},xo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var s=new xo(t,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new y_(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(At.API),O8.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var s=new O8(t),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new y_(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(At.API),At.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,u=0;u<i;u+=4){var d=n[u],f=n[u+1],h=n[u+2],p=n[u+3];s[l++]=d,s[l++]=f,s[l++]=h,o[c++]=p}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},At.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},tp=At.API,a1=tp.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,p=e.length,y=0,m=l[0]||c,v=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(h=f&&qr(u[n])==="object"&&!isNaN(parseInt(u[n][y],10))?u[n][y]/d:0,v.push((l[n]||m)/c+h)),y=n;return v},j8=tp.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return tp.processArabic&&(e=tp.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:a1.apply(this,arguments).reduce(function(s,o){return s+o},0)},N8=function(e,t,r,n){for(var i=[],s=0,o=e.length,l=0;s!==o&&l+t[s]<r;)l+=t[s],s++;i.push(e.slice(0,s));var c=s;for(l=0;s!==o;)l+t[s]>n&&(i.push(e.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&i.push(e.slice(c,s)),i},S8=function(e,t,r){r||(r={});var n,i,s,o,l,c,u,d=[],f=[d],h=r.textIndent||0,p=0,y=0,m=e.split(" "),v=a1.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var g=Array(c).join(" "),x=[];m.map(function(j){(j=j.split(/\s*\n/)).length>1?x=x.concat(j.map(function(N,P){return(P&&N.length?`
`:"")+N})):x.push(j[0])}),m=x,c=j8.apply(this,[g,r])}for(s=0,o=m.length;s<o;s++){var w=0;if(n=m[s],c&&n[0]==`
`&&(n=n.substr(1),w=1),h+p+(y=(i=a1.apply(this,[n,r])).reduce(function(j,N){return j+N},0))>t||w){if(y>t){for(l=N8.apply(this,[n,i,t-(h+p),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);y=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(j,N){return j+N},0)}else d=[n];f.push(d),h=y+c,p=v}else d.push(n),h+=p+y,p=v}return u=c?function(j,N){return(N?g:"")+j.join(" ")}:function(j){return j.join(" ")},f.map(u)},tp.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),h="Unicode";return f.metadata[h]?{widths:f.metadata[h].widths||{0:1},kerning:f.metadata[h].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(S8.apply(this,[n[l],o,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=t[s],i[t[s]]=r[s];var o=function(h){return"0x"+parseInt(h,10).toString(16)},l=e.__fontmetrics__.compress=function(h){var p,y,m,v,g=["{"];for(var x in h){if(p=h[x],isNaN(parseInt(x,10))?y="'"+x+"'":(x=parseInt(x,10),y=(y=o(x).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof p=="number")p<0?(m=o(p).slice(3),v="-"):(m=o(p).slice(2),v=""),m=v+m.slice(0,-1)+i[m.slice(-1)];else{if(qr(p)!=="object")throw new Error("Don't know what to do with value type "+qr(p)+".");m=l(p)}g.push(y+m)}return g.push("}"),g.join("")},c=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,y,m,v,g={},x=1,w=g,j=[],N="",P="",k=h.length-1,C=1;C<k;C+=1)(v=h[C])=="'"?p?(m=p.join(""),p=void 0):p=[]:p?p.push(v):v=="{"?(j.push([w,m]),w={},m=void 0):v=="}"?((y=j.pop())[0][y[1]]=w,m=void 0,w=y[0]):v=="-"?x=-1:m===void 0?n.hasOwnProperty(v)?(N+=n[v],m=parseInt(N,16)*x,x=1,N=""):N+=v:n.hasOwnProperty(v)?(P+=n[v],w[m]=parseInt(P,16)*x,x=1,m=void 0,P=""):P+=v;return g},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var p=h.font,y=f.Unicode[p.postScriptName];y&&(p.metadata.Unicode={},p.metadata.Unicode.widths=y.widths,p.metadata.Unicode.kerning=y.kerning);var m=d.Unicode[p.postScriptName];m&&(p.metadata.Unicode.encoding=m,p.encoding=m.codePages[0])}])}(At.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(G1(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(At),At.API.addSvgAsImage=function(e,t,r,n,i,s,o,l){if(isNaN(t)||isNaN(r))throw nn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw nn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Ut.canvg?Promise.resolve(Ut.canvg):WS(()=>import("./index.es-DW0DgD7l.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,r,n,i,o,l)})},At.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},At.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function h(y,m){var v,g=!1;for(v=0;v<y.length;v+=1)y[v]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(f=0;f<p;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(qr(e)==="object"){for(i in e)if(s=e[i],h(l,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&h(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,m=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?m.push("/"+y+" /"+r[y].value):m.push("/"+y+" "+r[y].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(At.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=s.length;f<h;++f){if(l=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(s){var o,l,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(l=Object.keys(s).sort(function(p,y){return p-y})).length;f<h;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",y=0;y<h.length;y++)p+=String.fromCharCode(h[y]);var m=u();d({data:p,addLength1:!0,objectId:m}),c("endobj");var v=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var g=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+lp(l.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var x=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+lp(l.fontName)),c("/FontDescriptor "+g+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+lp(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+x+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var y=u();d({data:h,addLength1:!0,objectId:y}),c("endobj");var m=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var v=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+lp(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var g=0;g<l.metadata.hmtx.widths.length;g++)l.metadata.hmtx.widths[g]=parseInt(l.metadata.hmtx.widths[g]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+lp(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,l=s.text||"",c=s.x,u=s.y,d=s.options||{},f=s.mutex||{},h=f.pdfEscape,p=f.activeFontKey,y=f.fonts,m=p,v="",g=0,x="",w=y[m].encoding;if(y[m].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(x=l,m=p,Array.isArray(l)&&(x=l[0]),g=0;g<x.length;g+=1)y[m].metadata.hasOwnProperty("cmap")&&(o=y[m].metadata.cmap.unicode.codeMap[x[g].charCodeAt(0)]),o||x[g].charCodeAt(0)<256&&y[m].metadata.hasOwnProperty("Unicode")?v+=x[g]:v+="";var j="";return parseInt(m.slice(1))<14||w==="WinAnsiEncoding"?j=h(v,m).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(j=r(v,y[m])),f.isHex=!0,{text:j,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([i(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(i(Object.assign({},c,{text:o[u]})).text);s.text=l}else s.text=i(Object.assign({},c,{text:o})).text}])}(At),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(At.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,s,o,l,c,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,w=0;this.__bidiEngine__={};var j=function(E){var A=E.charCodeAt(),D=A>>8,R=m[D];return R!==void 0?f[256*R+(255&A)]:D===252||D===253?"AL":g.test(D)?"L":D===8?"R":"N"},N=function(E){for(var A,D=0;D<E.length;D++){if((A=j(E.charAt(D)))==="L")return!1;if(A==="R")return!0}return!1},P=function(E,A,D,R){var G,F,q,B,Z=A[R];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"N":case"AN":break;case"EN":x&&(Z="AN");break;case"AL":x=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":R<1||R+1>=A.length||(G=D[R-1])!=="EN"&&G!=="AN"||(F=A[R+1])!=="EN"&&F!=="AN"?Z="N":x&&(F="AN"),Z=F===G?F:"N";break;case"ES":Z=(G=R>0?D[R-1]:"B")==="EN"&&R+1<A.length&&A[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&D[R-1]==="EN"){Z="EN";break}if(x){Z="N";break}for(q=R+1,B=A.length;q<B&&A[q]==="ET";)q++;Z=q<B&&A[q]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(B=A.length,q=R+1;q<B&&A[q]==="NSM";)q++;if(q<B){var le=E[R],fe=le>=1425&&le<=2303||le===64286;if(G=A[q],fe&&(G==="R"||G==="AL")){Z="R";break}}}Z=R<1||(G=A[R-1])==="B"?"N":D[R-1];break;case"B":x=!1,i=!0,Z=w;break;case"S":s=!0,Z="N"}return Z},k=function(E,A,D){var R=E.split("");return D&&C(R,D,{hiLevel:w}),R.reverse(),A&&A.reverse(),R.join("")},C=function(E,A,D){var R,G,F,q,B,Z=-1,le=E.length,fe=0,$=[],Y=w?p:h,J=[];for(x=!1,i=!1,s=!1,G=0;G<le;G++)J[G]=j(E[G]);for(F=0;F<le;F++){if(B=fe,$[F]=P(E,J,$,F),R=240&(fe=Y[B][y[$[F]]]),fe&=15,A[F]=q=Y[fe][5],R>0)if(R===16){for(G=Z;G<F;G++)A[G]=1;Z=-1}else Z=-1;if(Y[fe][6])Z===-1&&(Z=F);else if(Z>-1){for(G=Z;G<F;G++)A[G]=q;Z=-1}J[F]==="B"&&(A[F]=0),D.hiLevel|=q}s&&function(ae,de,ce){for(var be=0;be<ce;be++)if(ae[be]==="S"){de[be]=w;for(var oe=be-1;oe>=0&&ae[oe]==="WS";oe--)de[oe]=w}}(J,A,le)},O=function(E,A,D,R,G){if(!(G.hiLevel<E)){if(E===1&&w===1&&!i)return A.reverse(),void(D&&D.reverse());for(var F,q,B,Z,le=A.length,fe=0;fe<le;){if(R[fe]>=E){for(B=fe+1;B<le&&R[B]>=E;)B++;for(Z=fe,q=B-1;Z<q;Z++,q--)F=A[Z],A[Z]=A[q],A[q]=F,D&&(F=D[Z],D[Z]=D[q],D[q]=F);fe=B}fe++}}},I=function(E,A,D){var R=E.split(""),G={hiLevel:w};return D||(D=[]),C(R,D,G),function(F,q,B){if(B.hiLevel!==0&&d)for(var Z,le=0;le<F.length;le++)q[le]===1&&(Z=v.indexOf(F[le]))>=0&&(F[le]=v[Z+1])}(R,D,G),O(2,R,A,D,G),O(1,R,A,D,G),R.join("")};return this.__bidiEngine__.doBidiReorder=function(E,A,D){if(function(G,F){if(F)for(var q=0;q<G.length;q++)F[q]=q;l===void 0&&(l=N(G)),u===void 0&&(u=N(G))}(E,A),o||!c||u)if(o&&c&&l^u)w=l?1:0,E=k(E,A,D);else if(!o&&c&&u)w=l?1:0,E=I(E,A,D),E=k(E,A);else if(!o||l||c||u){if(o&&!c&&l^u)E=k(E,A),l?(w=0,E=I(E,A,D)):(w=1,E=I(E,A,D),E=k(E,A));else if(o&&l&&!c&&u)w=1,E=I(E,A,D),E=k(E,A);else if(!o&&!c&&l^u){var R=d;l?(w=1,E=I(E,A,D),w=0,d=!1,E=I(E,A,D),d=R):(w=0,E=I(E,A,D),E=k(E,A),w=1,d=!1,E=I(E,A,D),d=R,E=k(E,A))}}else w=0,E=I(E,A,D);else w=l?1:0,E=I(E,A,D);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,c=E.isOutputVisual,l=E.isInputRtl,u=E.isOutputRtl,d=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([r.doBidiReorder(i[l])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(At),At.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Ad(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Rye(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Nye(this.contents),this.head=new _ye(this),this.name=new Tye(this),this.cmap=new AH(this),this.toUnicode={},this.hhea=new Pye(this),this.maxp=new Eye(this),this.hmtx=new Oye(this),this.post=new kye(this),this.os2=new Aye(this),this.loca=new Dye(this),this.glyf=new Mye(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,s,o,l;for(o=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Qo,Ad=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,s,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,s;for(s=[],n=0,i=t.length;n<i;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),Nye=function(){var e;function t(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,s,o,l,c,u,d,f,h,p,y,m;for(m in p=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),o=Math.floor(f/c),d=16*p-f,(i=new Ad).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(o),i.writeShort(d),s=16*p,u=i.pos+s,l=null,y=[],r)for(h=r[m],i.writeString(m),i.writeInt(e(h)),i.writeInt(u),i.writeInt(h.length),y=y.concat(h),m==="head"&&(l=u),u+=h.length;u%4;)y.push(0),u++;return i.write(y),n=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(n),i.data},e=function(r){var n,i,s,o;for(r=kH.call(r);r.length%4;)r.push(0);for(s=new Ad(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=s.readUInt32();return 4294967295&i},t}(),Sye={}.hasOwnProperty,Wl=function(e,t){for(var r in t)Sye.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Qo=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var _ye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wl(e,Qo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Ad).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),M8=function(){function e(t,r){var n,i,s,o,l,c,u,d,f,h,p,y,m,v,g,x,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,s=function(){var j,N;for(N=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)N.push(t.readUInt16());return N}(),t.pos+=2,m=function(){var j,N;for(N=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)N.push(t.readUInt16());return N}(),u=function(){var j,N;for(N=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)N.push(t.readUInt16());return N}(),d=function(){var j,N;for(N=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)N.push(t.readUInt16());return N}(),i=(this.length-t.pos+this.offset)/2,l=function(){var j,N;for(N=[],c=j=0;0<=i?j<i:j>i;c=0<=i?++j:--j)N.push(t.readUInt16());return N}(),c=g=0,w=s.length;g<w;c=++g)for(v=s[c],n=x=y=m[c];y<=v?x<=v:x>=v;n=y<=v?++x:--x)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-y)-(h-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,i,s,o,l,c,u,d,f,h,p,y,m,v,g,x,w,j,N,P,k,C,O,I,E,A,D,R,G,F,q,B,Z,le,fe,$,Y,J,ae,de,ce,be,oe,ye,je,pe;switch(R=new Ad,o=Object.keys(t).sort(function(Ne,xe){return Ne-xe}),r){case"macroman":for(m=0,v=function(){var Ne=[];for(y=0;y<256;++y)Ne.push(0);return Ne}(),x={0:0},s={},G=0,Z=o.length;G<Z;G++)x[oe=t[i=o[G]]]==null&&(x[oe]=++m),s[i]={old:t[i],new:x[t[i]]},v[i]=x[t[i]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(v),{charMap:s,subtable:R.data,maxGlyphID:m+1};case"unicode":for(A=[],f=[],w=0,x={},n={},g=u=null,F=0,le=o.length;F<le;F++)x[N=t[i=o[F]]]==null&&(x[N]=++w),n[i]={old:N,new:x[N]},l=x[N]-i,g!=null&&l===u||(g&&f.push(g),A.push(i),u=l),g=i;for(g&&f.push(g),f.push(65535),A.push(65535),I=2*(O=A.length),C=2*Math.pow(Math.log(O)/Math.LN2,2),h=Math.log(C/2)/Math.LN2,k=2*O-C,c=[],P=[],p=[],y=q=0,fe=A.length;q<fe;y=++q){if(E=A[y],d=f[y],E===65535){c.push(0),P.push(0);break}if(E-(D=n[E].new)>=32768)for(c.push(0),P.push(2*(p.length+O-y)),i=B=E;E<=d?B<=d:B>=d;i=E<=d?++B:--B)p.push(n[i].new);else c.push(D-E),P.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*O+2*p.length),R.writeUInt16(0),R.writeUInt16(I),R.writeUInt16(C),R.writeUInt16(h),R.writeUInt16(k),ce=0,$=f.length;ce<$;ce++)i=f[ce],R.writeUInt16(i);for(R.writeUInt16(0),be=0,Y=A.length;be<Y;be++)i=A[be],R.writeUInt16(i);for(ye=0,J=c.length;ye<J;ye++)l=c[ye],R.writeUInt16(l);for(je=0,ae=P.length;je<ae;je++)j=P[je],R.writeUInt16(j);for(pe=0,de=p.length;pe<de;pe++)m=p[pe],R.writeUInt16(m);return{charMap:n,subtable:R.data,maxGlyphID:w+1}}},e}(),AH=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wl(e,Qo),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new M8(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=M8.encode(t,r),(i=new Ad).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),Pye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wl(e,Qo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Aye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wl(e,Qo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),kye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wl(e,Qo),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),Cye=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Tye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wl(e,Qo),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,s,o,l,c,u,d,f,h;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},s=d=0,f=n.length;d<f;s=++d)i=n[s],t.pos=i.offset,u=t.readString(i.length),o=new Cye(u,i),c[h=i.nameID]==null&&(c[h]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),Eye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wl(e,Qo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Oye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wl(e,Qo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,s,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)d.push(t.readInt16());return d}(),this.widths=(function(){var u,d,f,h;for(h=[],u=0,d=(f=this.metrics).length;u<d;u++)s=f[u],h.push(s.advance);return h}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),kH=[].slice,Mye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wl(e,Qo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,s,o,l,c,u,d,f;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(t),(i=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new Ad(r.read(i))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=o===-1?new Iye(l,u,f,c,d):new Lye(l,o,u,f,c,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,s,o,l,c;for(o=[],s=[],l=0,c=r.length;l<c;l++)i=t[r[l]],s.push(o.length),i&&(o=o.concat(i.encode(n)));return s.push(o.length),{table:o,offsets:s}},e}(),Lye=function(){function e(t,r,n,i,s,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Iye=function(){function e(t,r,n,i,s){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Ad(kH.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Dye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Wl(e,Qo),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<n.length;++o)if(n[o]=i,s<r.length&&r[s]==o){++s,n[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},e}(),Rye=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,s,o,l,c;for(i={},o=0,l=t.length;o<l;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],i[s]=n;return i},e.prototype.encode=function(t,r){var n,i,s,o,l,c,u,d,f,h,p,y,m,v,g;for(i in n=AH.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},g=n.charMap)p[(c=g[i]).old]=c.new;for(y in h=n.maxGlyphID,o)y in p||(p[y]=h++);return d=function(x){var w,j;for(w in j={},x)j[x[w]]=w;return j}(p),f=Object.keys(d).sort(function(x,w){return x-w}),m=function(){var x,w,j;for(j=[],x=0,w=f.length;x<w;x++)l=f[x],j.push(d[l]);return j}(),s=this.font.glyf.encode(o,m,p),u=this.font.loca.encode(s.offsets,m),v={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();At.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,s,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)o=r[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+r},t}();function CH(e,t,r,n,i){n=n||{};var s=1.15,o=i.internal.scaleFactor,l=i.internal.getFontSize()/o,c=i.getLineHeightFactor?i.getLineHeightFactor():s,u=l*c,d=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(d):e,h=f.length||1),r+=l*(2-s),n.valign==="middle"?r-=h/2*u:n.valign==="bottom"&&(r-=h*u),n.halign==="center"||n.halign==="right"){var p=l;if(n.halign==="center"&&(p*=.5),f&&h>=1){for(var y=0;y<f.length;y++)i.text(f[y],t-i.getStringUnitWidth(f[y])*p,r),r+=u;return i}t-=i.getStringUnitWidth(e)*p}return n.halign==="justify"?i.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(e,t,r),i}var L8={},Yp=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:L8=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,i,s;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(i=this.jsPDFDocument).setTextColor.apply(i,d),d=e.unifyColor(t.lineColor),d&&(s=this.jsPDFDocument).setDrawColor.apply(s,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,i,s){return this.jsPDFDocument.rect(t,r,n,i,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return L8||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),mk=function(e,t){return mk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},mk(e,t)};function TH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");mk(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var EH=function(e){TH(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function Fye(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function $ye(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function s2(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],i=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function OH(e,t,r,n){var i=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:s});var o=MH(i,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function MH(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function cN(e,t){var r,n,i,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function LH(e,t){var r=cN(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function Bye(e,t,r,n,i){var s={},o=1.3333333333333333,l=v_(t,function(w){return i.getComputedStyle(w).backgroundColor});l!=null&&(s.fillColor=l);var c=v_(t,function(w){return i.getComputedStyle(w).color});c!=null&&(s.textColor=c);var u=zye(n,r);u&&(s.cellPadding=u);var d="borderTopColor",f=o*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var p=(parseFloat(h)||0)/f;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},s.lineWidth.top||(s.lineWidth.right?d="borderRightColor":s.lineWidth.bottom?d="borderBottomColor":s.lineWidth.left&&(d="borderLeftColor"));var y=v_(t,function(w){return i.getComputedStyle(w)[d]});y!=null&&(s.lineColor=y);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(s.fontSize=v/o);var g=Uye(n);g&&(s.fontStyle=g);var x=(n.fontFamily||"").toLowerCase();return e.indexOf(x)!==-1&&(s.font=x),s}function Uye(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function v_(e,t){var r=IH(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function IH(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:IH(e.parentElement,t):r}function zye(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=r.map(function(l){return parseInt(l||"0")/n}),o=cN(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function DH(e,t,r,n,i){var s,o;n===void 0&&(n=!1),i===void 0&&(i=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],f=[],h=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:d,body:f,foot:h};for(var p=0;p<l.rows.length;p++){var y=l.rows[p],m=(o=(s=y==null?void 0:y.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),v=Vye(c,u,r,y,n,i);v&&(m==="thead"?d.push(v):m==="tfoot"?h.push(v):f.push(v))}return{head:d,body:f,foot:h}}function Vye(e,t,r,n,i,s){for(var o=new EH(n),l=0;l<n.cells.length;l++){var c=n.cells[l],u=r.getComputedStyle(c);if(i||u.display!=="none"){var d=void 0;s&&(d=Bye(e,c,t,u,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:qye(c)})}}var f=r.getComputedStyle(n);if(o.length>0&&(i||f.display!=="none"))return o}function qye(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function Wye(e,t,r){for(var n=0,i=[e,t,r];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Sc(e,t,r,n,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])}return s}function RH(e,t){var r=new Yp(e),n=r.getDocumentOptions(),i=r.getGlobalOptions();Wye(i,n,t);var s=Sc({},i,n,t),o;typeof window<"u"&&(o=window);var l=Hye(i,n,t),c=Kye(i,n,t),u=Gye(r,s),d=Xye(r,s,o);return{id:t.tableId,content:d,hooks:c,styles:l,settings:u}}function Hye(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var u=e[c],d=t[c],f=r[c];n.columnStyles=Sc({},u,d,f)}else{var h=[e,t,r],p=h.map(function(y){return y[c]||{}});n[c]=Sc({},p[0],p[1],p[2])}},s=0,o=Object.keys(n);s<o.length;s++){var l=o[s];i(l)}return n}function Kye(e,t,r){for(var n=[e,t,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=n;s<o.length;s++){var l=o[s];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function Gye(e,t){var r,n,i,s,o,l,c,u,d,f,h,p,y=cN(t.margin,40/e.scaleFactor()),m=(r=Yye(e,t.startY))!==null&&r!==void 0?r:y.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var g;t.showHead===!0?g="everyPage":t.showHead===!1?g="never":g=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var x=(s=t.useCss)!==null&&s!==void 0?s:!1,w=t.theme||(x?"plain":"striped"),j=!!t.horizontalPageBreak,N=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:x,theme:w,startY:m,margin:y,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:g,showFoot:v,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:j,horizontalPageBreakRepeat:N,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function Yye(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),i=e.pageNumber(),s=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;s=o===i}return typeof t=="number"?t:(t==null||t===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function Xye(e,t,r){var n=t.head||[],i=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var l=DH(e,t.html,r,o,t.useCss)||{};n=l.head||n,i=l.body||n,s=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||Zye(n,i,s);return{columns:c,head:n,body:i,foot:s}}function Zye(e,t,r){var n=e[0]||t[0]||r[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,l;Array.isArray(n)?l=n[parseInt(s)]:l=n[s],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var u=void 0;Array.isArray(n)?u=i.length:u=s+(c>0?"_".concat(c):"");var d={dataKey:u};i.push(d)}}),i}var gk=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),Qye=function(e){TH(t,e);function t(r,n,i,s,o,l){var c=e.call(this,r,n,l)||this;return c.cell=i,c.row=s,c.column=o,c.section=s.section,c}return t}(gk),Jye=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,i,s,o){for(var l=0,c=r;l<c.length;l++){var u=c[l],d=new Qye(t,this,n,i,s,o),f=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new gk(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new gk(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),FH=function(){function e(t,r,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof EH&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,i){var s;return Math.max(n,((s=r.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(i,s){var o=n.cells[s.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),u=c+l;return u>i?u:i},0)},e}(),$H=function(){function e(t,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*r,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=cN(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),eve=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,i=t.allRows();n<i.length;n++){var s=i[n],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e}();function tve(e,t){rve(e,t);var r=[],n=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var i=t.getWidth(e.pageSize().width)-n;i&&(i=xk(r,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=xk(r,i,function(s){return s.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),ive(t),ave(t,e),nve(t)}function rve(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,i=LH(e,t);t.allRows().forEach(function(s){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,s,c,null);var f=u.padding("horizontal");u.contentWidth=s2(u.text,u.styles,e)+f;var h=s2(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=h+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/r;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function xk(e,t,r){for(var n=t,i=e.reduce(function(p,y){return p+y.wrappedWidth},0),s=0;s<e.length;s++){var o=e[s],l=o.wrappedWidth/i,c=n*l,u=o.width+c,d=r(o),f=u<d?d:u;t-=f-o.width,o.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(p){return t<0?p.width>r(p):!0});h.length&&(t=xk(h,t,r))}return t}function nve(e){for(var t={},r=1,n=e.allRows(),i=0;i<n.length;i++)for(var s=n[i],o=0,l=e.columns;o<l.length;o++){var c=l[o],u=t[c.index];if(r>1)r--,delete s.cells[c.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var d=s.cells[c.index];if(!d)continue;if(d.height=s.height,d.rowSpan>1){var f=n.length-i,h=d.rowSpan>f?f:d.rowSpan;t[c.index]={cell:d,left:h,row:s}}}}}function ive(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],i=null,s=0,o=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(o-=1,o>1&&e.columns[l+1])s+=c.width,delete n.cells[c.index];else if(i){var u=i;delete n.cells[c.index],i=null,u.width=c.width+s}else{var u=n.cells[c.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){i=u,s+=c.width;continue}u.width=c.width+s}}}function ave(e,t){for(var r={count:0,height:0},n=0,i=e.allRows();n<i.length;n++){for(var s=i[n],o=0,l=e.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=I8(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=I8(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,d);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<h*u.rowSpan?r={height:h,count:u.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>s.height&&(s.height=h)}}r.count--}}function I8(e,t,r,n,i){return e.map(function(s){return sve(s,t,r,n,i)})}function sve(e,t,r,n,i){var s=1e4*n.scaleFactor();if(t=Math.ceil(t*s)/s,t>=s2(e,r,n))return e;for(;t<s2(e+i,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function BH(e,t){var r=new Yp(e),n=ove(t,r.scaleFactor()),i=new Jye(t,n);return tve(r,i),r.applyStyles(r.userStyles),i}function ove(e,t){var r=e.content,n=cve(r.columns);if(r.head.length===0){var i=D8(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=D8(n,"foot");i&&r.foot.push(i)}var s=e.settings.theme,o=e.styles;return{columns:n,head:b_("head",r.head,n,o,s,t),body:b_("body",r.body,n,o,s,t),foot:b_("foot",r.foot,n,o,s,t)}}function b_(e,t,r,n,i,s){var o={},l=t.map(function(c,u){for(var d=0,f={},h=0,p=0,y=0,m=r;y<m.length;y++){var v=m[y];if(o[v.index]==null||o[v.index].left===0)if(p===0){var g=void 0;Array.isArray(c)?g=c[v.index-h-d]:g=c[v.dataKey];var x={};typeof g=="object"&&!Array.isArray(g)&&(x=(g==null?void 0:g.styles)||{});var w=uve(e,v,u,i,n,s,x),j=new $H(g,w,e);f[v.dataKey]=j,f[v.index]=j,p=j.colSpan-1,o[v.index]={left:j.rowSpan-1,times:p}}else p--,h++;else o[v.index].left--,p=o[v.index].times,d++}return new FH(c,u,e,f)});return l}function D8(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var i=lve(t,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function lve(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function cve(e){return e.map(function(t,r){var n,i;return typeof t=="object"?i=(n=t.dataKey)!==null&&n!==void 0?n:r:i=r,new eve(i,t,r)})}function uve(e,t,r,n,i,s,o){var l=$ye(n),c;e==="head"?c=i.headStyles:e==="body"?c=i.bodyStyles:e==="foot"&&(c=i.footStyles);var u=Sc({},l.table,l[e],i.styles,c),d=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},f=e==="body"?d:{},h=e==="body"&&r%2===0?Sc({},l.alternateRow,i.alternateRowStyles):{},p=Fye(s),y=Sc({},p,u,h,f);return Sc(y,o)}function dve(e,t,r){var n;r===void 0&&(r={});var i=LH(e,t),s=new Map,o=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(h){var p=t.columns.find(function(y){return y.dataKey===h||y.index===h});p&&!s.has(p.index)&&(s.set(p.index,!0),o.push(p.index),l.push(t.columns[p.index]),i-=p.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(s.has(d)){d++;continue}var f=t.columns[d].wrappedWidth;if(u||i>=f)u=!1,o.push(d),l.push(t.columns[d]),i-=f;else break;d++}return{colIndexes:o,columns:l,lastIndex:d-1}}function fve(e,t){for(var r=[],n=0;n<t.columns.length;n++){var i=dve(e,t,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function UH(e,t){var r=t.settings,n=r.startY,i=r.margin,s={x:i.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=n+i.bottom+o;if(r.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(h,p){return h+p.height},0);l+=u}var d=new Yp(e);(r.pageBreak==="always"||r.startY!=null&&l>d.pageSize().height)&&(VH(d),s.y=i.top),t.callWillDrawPageHooks(d,s);var f=Sc({},s);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?hve(d,t,f,s):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return Gc(d,t,h,s,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(h,p){var y=p===t.body.length-1;o2(d,t,h,y,f,s,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return Gc(d,t,h,s,t.columns)})),OH(d,t,f,s),t.callEndPageHooks(d,s),t.finalY=s.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function hve(e,t,r,n){var i=fve(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?m0(e,t,r,n,u.columns,!0):R8(e,t,n,u.columns),pve(e,t,r,n,u.columns),w_(e,t,n,u.columns)});else for(var o=-1,l=i[0],c=function(){var u=o;if(l){e.applyStyles(e.userStyles);var d=l.columns;o>=0?m0(e,t,r,n,d,!0):R8(e,t,n,d),u=F8(e,t,o+1,n,d),w_(e,t,n,d)}var f=u-o;i.slice(1).forEach(function(h){e.applyStyles(e.userStyles),m0(e,t,r,n,h.columns,!0),F8(e,t,o+1,n,h.columns,f),w_(e,t,n,h.columns)}),o=u};o<t.body.length-1;)c()}function R8(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(s){return Gc(e,t,s,r,n)})}function pve(e,t,r,n,i){e.applyStyles(e.userStyles),t.body.forEach(function(s,o){var l=o===t.body.length-1;o2(e,t,s,l,r,n,i)})}function F8(e,t,r,n,i,s){e.applyStyles(e.userStyles),s=s??t.body.length;var o=Math.min(r+s,t.body.length),l=-1;return t.body.slice(r,o).forEach(function(c,u){var d=r+u===t.body.length-1,f=zH(e,t,d,n);c.canEntireRowFit(f,i)&&(Gc(e,t,c,n,i),l=r+u)}),l}function w_(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(s){return Gc(e,t,s,r,n)})}function mve(e,t,r){var n=r.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),s=Math.floor((t-i)/n);return Math.max(0,s)}function gve(e,t,r,n){var i={};e.spansMultiplePages=!0,e.height=0;for(var s=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new $H(u.raw,u.styles,u.section);d=Sc(d,u),d.text=[];var f=mve(u,t,n);u.text.length>f&&(d.text=u.text.splice(f,u.text.length));var h=n.scaleFactor(),p=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(h,p),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(h,p),d.contentHeight>s&&(s=d.contentHeight),i[c.index]=d}}var y=new FH(e.raw,-1,e.section,i,!0);y.height=s;for(var m=0,v=r.columns;m<v.length;m++){var c=v[m],d=y.cells[c.index];d&&(d.height=y.height);var u=e.cells[c.index];u&&(u.height=e.height)}return y}function xve(e,t,r,n){var i=e.pageSize().height,s=n.settings.margin,o=s.top+s.bottom,l=i-o;t.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),u=c<r;if(c>l)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>l;return f?(d&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function o2(e,t,r,n,i,s,o){var l=zH(e,t,n,s);if(r.canEntireRowFit(l,o))Gc(e,t,r,s,o);else if(xve(e,r,l,t)){var c=gve(r,l,t,e);Gc(e,t,r,s,o),m0(e,t,i,s,o),o2(e,t,c,n,i,s,o)}else m0(e,t,i,s,o),o2(e,t,r,n,i,s,o)}function Gc(e,t,r,n,i){n.x=t.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var l=o[s],c=r.cells[l.index];if(!c){n.x+=l.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,n);if(u===!1){n.x+=l.width;continue}yve(e,c,n);var d=c.getTextPos();CH(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function yve(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=MH(n.lineWidth,n.fillColor);i&&e.rect(t.x,r.y,t.width,t.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),vve(e,t,r,n.lineWidth))}function vve(e,t,r,n){var i,s,o,l;n.top&&(i=r.x,s=r.y,o=r.x+t.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),c(n.top,i,s,o,l)),n.bottom&&(i=r.x,s=r.y+t.height,o=r.x+t.width,l=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),c(n.bottom,i,s,o,l)),n.left&&(i=r.x,s=r.y,o=r.x,l=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,i,s,o,l)),n.right&&(i=r.x+t.width,s=r.y,o=r.x+t.width,l=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,i,s,o,l));function c(u,d,f,h,p){e.getDocument().setLineWidth(u),e.getDocument().line(d,f,h,p,"S")}}function zH(e,t,r,n){var i=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-i}function m0(e,t,r,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(l){return Gc(e,t,l,n,i)}),t.callEndPageHooks(e,n);var o=t.settings.margin;OH(e,t,r,n),VH(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return Gc(e,t,l,n,i)}),e.applyStyles(e.userStyles))}function VH(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function bve(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],i=RH(this,n),s=BH(this,i);return UH(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,i){CH(t,r,n,i,this)},e.API.autoTableSetDefaults=function(t){return Yp.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Yp.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Yp(this),s=DH(i,t,window,r,!1),o=s.head,l=s.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var j_;function wve(e,t){var r=RH(e,t),n=BH(e,r);UH(e,n)}try{if(typeof window<"u"&&window){var $8=window,B8=$8.jsPDF||((j_=$8.jspdf)===null||j_===void 0?void 0:j_.jsPDF);B8&&bve(B8)}}catch(e){console.error("Could not apply autoTable plugin",e)}function U8(e,t){const r=new At,n=[34,197,94],i=[107,114,128],s=[17,24,39],o=r.internal.pageSize.getWidth(),l=r.internal.pageSize.getHeight();r.setFillColor(n[0],n[1],n[2]),r.rect(0,0,o,40,"F"),r.setTextColor(255,255,255),r.setFontSize(24),r.setFont("helvetica","bold"),r.text("GreenPay",14,20),r.setFontSize(10),r.setFont("helvetica","normal"),r.text("International Money Transfer & Digital Wallet",14,28),r.setTextColor(s[0],s[1],s[2]),r.setFontSize(16),r.setFont("helvetica","bold"),r.text("Transaction Statement",14,55),r.setFontSize(10),r.setFont("helvetica","normal"),r.setTextColor(i[0],i[1],i[2]);const c=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});r.text(`Generated: ${c}`,14,65),t.fullName&&r.text(`Account Holder: ${t.fullName}`,14,71),t.email&&r.text(`Email: ${t.email}`,14,77);const u=e.filter(x=>{var w;return((w=x.currency)==null?void 0:w.toUpperCase())!=="KES"}),d=e.filter(x=>{var w;return((w=x.currency)==null?void 0:w.toUpperCase())==="KES"}),f=u.filter(x=>(x.type==="receive"||x.type==="deposit")&&x.status==="completed").reduce((x,w)=>x+parseFloat(w.amount),0),h=u.filter(x=>(x.type==="send"||x.type==="withdraw"||x.type==="card_purchase")&&x.status==="completed").reduce((x,w)=>x+parseFloat(w.amount),0),p=d.filter(x=>(x.type==="receive"||x.type==="deposit")&&x.status==="completed").reduce((x,w)=>x+parseFloat(w.amount),0),y=d.filter(x=>(x.type==="send"||x.type==="withdraw"||x.type==="card_purchase")&&x.status==="completed").reduce((x,w)=>x+parseFloat(w.amount),0);r.setDrawColor(n[0],n[1],n[2]),r.setLineWidth(.5),r.rect(14,85,o-28,35),r.setFontSize(9),r.setFont("helvetica","bold"),r.setTextColor(s[0],s[1],s[2]),r.text("Summary",18,92),r.setFont("helvetica","normal"),r.setFontSize(8);let m=100;u.length>0&&(r.setTextColor(i[0],i[1],i[2]),r.text("USD:",18,m),r.setTextColor(34,197,94),r.text(`+$${Gt(f)}`,50,m),r.setTextColor(239,68,68),r.text(`-$${Gt(h)}`,90,m),m+=6),d.length>0&&(r.setTextColor(i[0],i[1],i[2]),r.text("KES:",18,m),r.setTextColor(34,197,94),r.text(`+KSh ${Gt(p)}`,50,m),r.setTextColor(239,68,68),r.text(`-KSh ${Gt(y)}`,90,m));const v=e.map(x=>{var k,C;const w=new Date(x.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),j=((k=x.recipientDetails)==null?void 0:k.name)||(x.type==="deposit"?"Wallet Top-up":x.type==="withdraw"?"Bank Withdrawal":x.type==="card_purchase"?"Virtual Card":x.type==="exchange"?"Currency Exchange":"Transaction"),P=`${x.type==="send"||x.type==="withdraw"||x.type==="card_purchase"||x.type==="exchange"?"-":"+"}${W1(x.currency)}${Gt(x.amount)}`;return[w,j,P,((C=x.currency)==null?void 0:C.toUpperCase())||"USD",x.status.charAt(0).toUpperCase()+x.status.slice(1)]});wve(r,{startY:130,head:[["Date","Description","Amount","Currency","Status"]],body:v,theme:"grid",headStyles:{fillColor:n,textColor:[255,255,255],fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:8,textColor:s},alternateRowStyles:{fillColor:[249,250,251]},columnStyles:{0:{cellWidth:30},1:{cellWidth:60},2:{cellWidth:35,halign:"right"},3:{cellWidth:25,halign:"center"},4:{cellWidth:30,halign:"center"}},margin:{left:14,right:14},didDrawPage:x=>{const w=r.internal.getNumberOfPages(),j=r.internal.getCurrentPageInfo().pageNumber;r.setFontSize(8),r.setTextColor(i[0],i[1],i[2]),r.text(`Page ${j} of ${w}`,o/2,l-10,{align:"center"}),r.text("GreenPay - Trusted International Money Transfer Service",o/2,l-15,{align:"center"}),r.setFontSize(7),r.text("support@greenpay.world | www.greenpay.world",o/2,l-20,{align:"center"})}});const g=`GreenPay_Statement_${new Date().toISOString().split("T")[0]}.pdf`;r.save(g)}function jve(){var O,I,E,A,D,R,G;const[,e]=Jt(),[t,r]=S.useState("all"),[n,i]=S.useState(!1),[s,o]=S.useState(!1),[l,c]=S.useState(""),[u,d]=S.useState({}),[f,h]=S.useState(null),{user:p}=kr(),{toast:y}=Et(),m=Jr(),{data:v,isLoading:g}=Xt({queryKey:["/api/transactions",p==null?void 0:p.id],enabled:!!(p!=null&&p.id)}),x=(v==null?void 0:v.transactions)||[],w=()=>{y({title:"Refreshing...",description:"Fetching your latest transactions"}),m.invalidateQueries({queryKey:["/api/transactions",p==null?void 0:p.id]}),setTimeout(()=>{y({title:"Refreshed",description:"Your transactions are up to date"})},800)},j=x.filter(F=>{let q=!0;switch(t){case"sent":q=F.type==="send";break;case"received":q=F.type==="receive";break;case"pending":q=F.status==="pending";break;default:q=!0}if(!q||u.status&&F.status!==u.status||u.currency&&F.currency!==u.currency||u.type&&F.type!==u.type||u.minAmount&&parseFloat(F.amount)<u.minAmount||u.maxAmount&&parseFloat(F.amount)>u.maxAmount)return!1;if(u.dateFrom){const B=new Date(F.createdAt),Z=new Date(u.dateFrom);if(B<Z)return!1}if(u.dateTo){const B=new Date(F.createdAt),Z=new Date(u.dateTo);if(B>Z)return!1}return!0}),N=kt({mutationFn:async F=>(await qe("POST","/api/transactions/export-email",{email:F,transactions:j})).json(),onSuccess:()=>{y({title:"Success",description:"Transaction report sent to your email!"}),o(!1),c("")},onError:()=>{y({title:"Error",description:"Failed to send export email",variant:"destructive"})}}),P=(F,q)=>{if(q==="failed")return{icon:"close",bg:"bg-red-100",color:"text-red-600"};if(q==="pending")return{icon:"schedule",bg:"bg-yellow-100",color:"text-yellow-600"};switch(F){case"send":return{icon:"arrow_upward",bg:"bg-green-100",color:"text-green-600"};case"receive":return{icon:"arrow_downward",bg:"bg-blue-100",color:"text-blue-600"};case"deposit":return{icon:"add",bg:"bg-purple-100",color:"text-purple-600"};case"withdraw":return{icon:"remove",bg:"bg-orange-100",color:"text-orange-600"};case"exchange":return{icon:"swap_horiz",bg:"bg-indigo-100",color:"text-indigo-600"};case"card_purchase":return{icon:"credit_card",bg:"bg-pink-100",color:"text-pink-600"};default:return{icon:"account_balance",bg:"bg-gray-100",color:"text-gray-600"}}},k=F=>{switch(F){case"completed":return"text-green-500";case"pending":case"processing":return"text-yellow-500";case"failed":return"text-red-500";default:return"text-muted-foreground"}},C=(F,q)=>q==="failed"?"":F==="send"||F==="withdraw"||F==="card_purchase"||F==="exchange"?"-":"+";return g?a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsx(K.div,{className:"bg-card shadow-sm p-4 elevation-1",children:a.jsx("h1",{className:"text-lg font-semibold",children:"Transactions"})}),a.jsx("div",{className:"p-6 flex justify-center",children:a.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})})]}):a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-3 md:p-4 elevation-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/dashboard"),className:"material-icons text-muted-foreground p-2 rounded-full hover:bg-muted transition-colors",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Transactions"})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end md:justify-start",children:[a.jsxs(K.button,{whileTap:{scale:.95},onClick:w,className:"flex items-center justify-center gap-1 px-2 md:px-3 py-2 rounded-lg bg-green-500 text-white hover:bg-green-600 transition-colors text-xs md:text-sm",title:"Refresh Transactions",children:[a.jsx(Aw,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline font-medium",children:"Refresh"})]}),a.jsxs(K.button,{whileTap:{scale:.95},onClick:()=>i(!n),className:"flex items-center justify-center gap-1 px-2 md:px-3 py-2 rounded-lg bg-secondary text-secondary-foreground hover:bg-secondary/90 transition-colors text-xs md:text-sm",title:"Advanced Filters",children:[a.jsx(Mj,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline font-medium",children:"Filters"})]}),a.jsxs(K.button,{whileTap:{scale:.95},onClick:()=>o(!0),disabled:j.length===0,className:"flex items-center justify-center gap-1 px-2 md:px-3 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition-colors text-xs md:text-sm disabled:opacity-50 disabled:cursor-not-allowed",title:"Export & Send via Email",children:[a.jsx(Pl,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline font-medium",children:"Email"})]}),a.jsxs(K.button,{whileTap:{scale:.95},onClick:()=>{j.length>0&&U8(j,{fullName:p==null?void 0:p.fullName,email:p==null?void 0:p.email,phone:p==null?void 0:p.phone})},disabled:j.length===0,className:"flex items-center justify-center gap-1 px-2 md:px-3 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors text-xs md:text-sm disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"button-export-pdf",children:[a.jsx(Gs,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline font-medium",children:"PDF"})]})]})]}),a.jsx("div",{className:"flex gap-1 bg-muted p-1 rounded-lg mb-4 overflow-x-auto",children:[{id:"all",label:"All"},{id:"sent",label:"Sent"},{id:"received",label:"Received"},{id:"pending",label:"Pending"}].map(F=>a.jsx("button",{onClick:()=>r(F.id),className:`py-2 px-2 md:px-3 text-xs md:text-sm font-medium rounded-md transition-all whitespace-nowrap ${t===F.id?"bg-card text-foreground elevation-1":"text-muted-foreground hover:text-foreground"}`,"data-testid":`filter-${F.id}`,children:F.label},F.id))}),n&&a.jsxs(K.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-muted p-4 rounded-lg space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h3",{className:"font-semibold text-sm",children:"Advanced Filters"}),a.jsx("button",{onClick:()=>{d({}),i(!1)},className:"text-xs text-muted-foreground hover:text-foreground",children:"Clear All"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[a.jsxs("select",{value:u.status||"",onChange:F=>d({...u,status:F.target.value||void 0}),className:"px-2 py-2 text-xs md:text-sm border rounded-md bg-background",children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"failed",children:"Failed"})]}),a.jsxs("select",{value:u.type||"",onChange:F=>d({...u,type:F.target.value||void 0}),className:"px-2 py-2 text-xs md:text-sm border rounded-md bg-background",children:[a.jsx("option",{value:"",children:"All Types"}),a.jsx("option",{value:"send",children:"Sent"}),a.jsx("option",{value:"receive",children:"Received"}),a.jsx("option",{value:"deposit",children:"Deposit"}),a.jsx("option",{value:"withdraw",children:"Withdraw"}),a.jsx("option",{value:"card_purchase",children:"Card"})]}),a.jsxs("select",{value:u.currency||"",onChange:F=>d({...u,currency:F.target.value||void 0}),className:"px-2 py-2 text-xs md:text-sm border rounded-md bg-background",children:[a.jsx("option",{value:"",children:"Currency"}),a.jsx("option",{value:"USD",children:"USD"}),a.jsx("option",{value:"KES",children:"KES"})]}),a.jsx("input",{type:"number",placeholder:"Min",value:u.minAmount||"",onChange:F=>d({...u,minAmount:F.target.value?parseFloat(F.target.value):void 0}),className:"px-2 py-2 text-xs md:text-sm border rounded-md bg-background"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[a.jsx("input",{type:"number",placeholder:"Max",value:u.maxAmount||"",onChange:F=>d({...u,maxAmount:F.target.value?parseFloat(F.target.value):void 0}),className:"px-2 py-2 text-xs md:text-sm border rounded-md bg-background"}),a.jsx("input",{type:"date",value:u.dateFrom||"",onChange:F=>d({...u,dateFrom:F.target.value||void 0}),className:"px-2 py-2 text-xs md:text-sm border rounded-md bg-background"}),a.jsx("input",{type:"date",value:u.dateTo||"",onChange:F=>d({...u,dateTo:F.target.value||void 0}),className:"px-2 py-2 text-xs md:text-sm border rounded-md bg-background"}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground bg-background rounded-md px-2 py-2",children:["Found: ",a.jsx("span",{className:"ml-1 font-semibold text-foreground",children:j.length})]})]})]}),s&&a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-blue-50 border border-blue-200 p-3 md:p-4 rounded-lg mt-4 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-semibold text-sm",children:"Export to Email"}),a.jsx("button",{onClick:()=>o(!1),className:"text-muted-foreground hover:text-foreground",children:a.jsx(Vc,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"email",placeholder:"Enter email address",value:l,onChange:F=>c(F.target.value),className:"w-full px-3 py-2 text-sm border rounded-md bg-white"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["A detailed transaction report with ",j.length," transactions will be sent to your email"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{if(!l){y({title:"Error",description:"Please enter an email address",variant:"destructive"});return}N.mutate(l)},disabled:N.isPending||!l,className:"flex-1 px-3 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50",children:N.isPending?"Sending...":"Send"}),a.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-sm border rounded-md hover:bg-muted",children:"Cancel"})]})]})]}),a.jsxs("div",{className:"p-3 md:p-6",children:[a.jsx(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card p-3 md:p-4 rounded-xl border border-border mb-4 md:mb-6 elevation-1",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"This Month"}),x.some(F=>{var q;return((q=F.currency)==null?void 0:q.toUpperCase())!=="KES"})&&a.jsx("div",{className:"mb-2",children:a.jsxs("p",{className:"text-xl font-bold text-primary","data-testid":"text-monthly-total-usd",children:["$",Gt(x.filter(F=>{var q;return((q=F.currency)==null?void 0:q.toUpperCase())!=="KES"}).reduce((F,q)=>q.status==="completed"?F+parseFloat(q.amount):F,0))]})}),x.some(F=>{var q;return((q=F.currency)==null?void 0:q.toUpperCase())==="KES"})&&a.jsx("div",{className:"mb-2",children:a.jsxs("p",{className:"text-xl font-bold text-primary","data-testid":"text-monthly-total-kes",children:["KSh ",Gt(x.filter(F=>{var q;return((q=F.currency)==null?void 0:q.toUpperCase())==="KES"}).reduce((F,q)=>q.status==="completed"?F+parseFloat(q.amount):F,0))]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Sent"}),x.some(F=>{var q;return((q=F.currency)==null?void 0:q.toUpperCase())!=="KES"&&(F.type==="send"||F.type==="withdraw"||F.type==="card_purchase")})&&a.jsxs("p",{className:"font-semibold text-destructive text-sm","data-testid":"text-monthly-sent-usd",children:["$",Gt(x.filter(F=>{var q;return((q=F.currency)==null?void 0:q.toUpperCase())!=="KES"&&(F.type==="send"||F.type==="withdraw"||F.type==="card_purchase")&&F.status==="completed"}).reduce((F,q)=>F+parseFloat(q.amount),0))]}),x.some(F=>{var q;return((q=F.currency)==null?void 0:q.toUpperCase())==="KES"&&(F.type==="send"||F.type==="withdraw"||F.type==="card_purchase")})&&a.jsxs("p",{className:"font-semibold text-destructive text-sm","data-testid":"text-monthly-sent-kes",children:["KSh ",Gt(x.filter(F=>{var q;return((q=F.currency)==null?void 0:q.toUpperCase())==="KES"&&(F.type==="send"||F.type==="withdraw"||F.type==="card_purchase")&&F.status==="completed"}).reduce((F,q)=>F+parseFloat(q.amount),0))]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Received"}),x.some(F=>{var q;return((q=F.currency)==null?void 0:q.toUpperCase())!=="KES"&&(F.type==="receive"||F.type==="deposit")})&&a.jsxs("p",{className:"font-semibold text-primary text-sm","data-testid":"text-monthly-received-usd",children:["$",Gt(x.filter(F=>{var q;return((q=F.currency)==null?void 0:q.toUpperCase())!=="KES"&&(F.type==="receive"||F.type==="deposit")&&F.status==="completed"}).reduce((F,q)=>F+parseFloat(q.amount),0))]}),x.some(F=>{var q;return((q=F.currency)==null?void 0:q.toUpperCase())==="KES"&&(F.type==="receive"||F.type==="deposit")})&&a.jsxs("p",{className:"font-semibold text-primary text-sm","data-testid":"text-monthly-received-kes",children:["KSh ",Gt(x.filter(F=>{var q;return((q=F.currency)==null?void 0:q.toUpperCase())==="KES"&&(F.type==="receive"||F.type==="deposit")&&F.status==="completed"}).reduce((F,q)=>F+parseFloat(q.amount),0))]})]})]})]})}),a.jsx(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-4",children:j.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("span",{className:"material-icons text-6xl text-muted-foreground mb-4",children:"receipt_long"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No transactions yet"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Start sending or receiving money to see your transaction history here."}),a.jsx("button",{onClick:()=>e("/send-money"),className:"bg-primary text-primary-foreground px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:"Send Money"})]}):j.map(F=>{var fe,$,Y,J,ae;const q=P(F.type,F.status),B=C(F.type,F.status),Z=((fe=F.recipientDetails)==null?void 0:fe.name)||(F.type==="deposit"?"Wallet Top-up":F.type==="withdraw"?"Bank Withdrawal":F.type==="card_purchase"?"Virtual Card Purchase":F.type==="exchange"?"Currency Exchange":"Transaction"),le=new Date(F.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"});return a.jsx(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},onClick:()=>h(F),className:"bg-card p-3 md:p-4 rounded-xl border border-border hover:bg-muted/50 transition-colors elevation-1 cursor-pointer","data-testid":`transaction-${F.id}`,children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 md:gap-3 min-w-0 flex-1",children:[a.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 ${q.bg} rounded-full flex items-center justify-center flex-shrink-0`,children:a.jsx("span",{className:`material-icons text-sm md:text-base ${q.color}`,children:q.icon})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-sm md:text-base truncate","data-testid":`text-recipient-${F.id}`,children:Z}),a.jsxs("div",{className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm text-muted-foreground overflow-x-auto",children:[a.jsx("span",{"data-testid":`text-date-${F.id}`,className:"whitespace-nowrap",children:le}),F.description&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx("span",{className:"truncate",children:F.description})]})]})]})]}),a.jsxs("div",{className:"text-right flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center justify-end gap-1 md:gap-2 mb-1",children:[a.jsxs("p",{className:`font-semibold text-sm md:text-base ${F.status==="failed"?"text-muted-foreground":F.type==="send"||F.type==="withdraw"||F.type==="card_purchase"||F.type==="exchange"?"text-destructive":"text-primary"}`,"data-testid":`text-amount-${F.id}`,children:[B,W1(F.currency),Gt(F.amount)]}),a.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-semibold whitespace-nowrap ${(($=F.currency)==null?void 0:$.toUpperCase())==="KES"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:((Y=F.currency)==null?void 0:Y.toUpperCase())||"USD"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-1 md:gap-2",children:[((J=F.metadata)==null?void 0:J.convertedAmount)&&((ae=F.metadata)==null?void 0:ae.targetCurrency)&&a.jsxs("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:[" ",F.metadata.targetCurrency," ",Gt(F.metadata.convertedAmount)]}),a.jsx("span",{className:`text-xs capitalize ${k(F.status)}`,children:F.status})]})]})]})},F.id)})})]}),f&&a.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>h(null),className:"fixed inset-0 bg-black/50 z-50 flex items-end md:items-center justify-center",children:a.jsxs(K.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},onClick:F=>F.stopPropagation(),className:"bg-card w-full md:max-w-md md:rounded-xl rounded-t-2xl p-4 md:p-6 pb-32 md:pb-6 max-h-[90vh] overflow-y-auto space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-border",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Transaction Details"}),a.jsx("button",{onClick:()=>h(null),className:"text-muted-foreground hover:text-foreground p-2",children:a.jsx(Vc,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 p-4 rounded-lg text-center space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:f.type==="send"?"Sent to":f.type==="receive"?"Received from":"Transaction"}),a.jsxs("p",{className:"text-3xl font-bold text-primary",children:[C(f.type,f.status),W1(f.currency),Gt(f.amount)]}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${((O=f.currency)==null?void 0:O.toUpperCase())==="KES"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:((I=f.currency)==null?void 0:I.toUpperCase())||"USD"}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold capitalize ${f.status==="completed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":f.status==="pending"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:f.status})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-muted-foreground uppercase",children:[a.jsx($l,{className:"h-4 w-4"}),f.type==="send"?"Recipient":f.type==="receive"?"Sender":"Type"]}),a.jsx("p",{className:"text-base font-medium pl-6",children:((E=f.recipientDetails)==null?void 0:E.name)||(f.type==="deposit"?"Wallet Top-up":f.type==="withdraw"?"Bank Withdrawal":f.type==="card_purchase"?"Virtual Card Purchase":f.type==="exchange"?"Currency Exchange":"Transaction")})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-muted-foreground uppercase",children:[a.jsx(Fl,{className:"h-4 w-4"}),"Date & Time"]}),a.jsx("p",{className:"text-base font-medium pl-6",children:new Date(f.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-muted-foreground uppercase",children:[a.jsx(oM,{className:"h-4 w-4"}),"Transaction ID"]}),a.jsxs("div",{className:"flex items-center gap-2 pl-6",children:[a.jsx("p",{className:"text-xs font-mono text-primary break-all",children:f.id}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(f.id),y({title:"Copied",description:"Transaction ID copied to clipboard"})},className:"text-muted-foreground hover:text-foreground p-1",children:a.jsx(bU,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-muted-foreground uppercase",children:[a.jsx(oM,{className:"h-4 w-4"}),"Type"]}),a.jsx("p",{className:"text-base font-medium pl-6 capitalize",children:f.type.replace("_"," ")})]}),f.description&&a.jsxs("div",{className:"space-y-1",children:[a.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-muted-foreground uppercase",children:[a.jsx(Pl,{className:"h-4 w-4"}),"Description"]}),a.jsx("p",{className:"text-base font-medium pl-6",children:f.description})]}),((A=f.metadata)==null?void 0:A.convertedAmount)&&((D=f.metadata)==null?void 0:D.targetCurrency)&&a.jsxs("div",{className:"space-y-1",children:[a.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-muted-foreground uppercase",children:[a.jsx(Zn,{className:"h-4 w-4"}),"Converted Amount"]}),a.jsxs("p",{className:"text-base font-medium pl-6",children:[f.metadata.targetCurrency," ",Gt(f.metadata.convertedAmount)]})]}),((R=f.metadata)==null?void 0:R.fee)&&a.jsxs("div",{className:"space-y-1",children:[a.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-muted-foreground uppercase",children:[a.jsx(Zn,{className:"h-4 w-4"}),"Fee"]}),a.jsxs("p",{className:"text-base font-medium pl-6 text-red-600",children:[W1(f.currency),Gt(f.metadata.fee)]})]}),f.status==="failed"&&((G=f.metadata)==null?void 0:G.errorMessage)&&a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900/40 p-3 rounded-lg space-y-1",children:[a.jsx("label",{className:"text-xs font-semibold text-red-700 dark:text-red-400 uppercase",children:"Error Details"}),a.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:f.metadata.errorMessage})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4 border-t border-border",children:[a.jsxs("button",{onClick:()=>{U8([f],{fullName:p==null?void 0:p.fullName,email:p==null?void 0:p.email,phone:p==null?void 0:p.phone})},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors text-sm font-medium",children:[a.jsx(Gs,{className:"h-4 w-4"}),"Export"]}),a.jsx("button",{onClick:()=>h(null),className:"flex-1 px-4 py-2 rounded-lg border border-border hover:bg-muted transition-colors text-sm font-medium",children:"Close"})]})]})})]})}function Nve(){var j,N;const[,e]=Jt(),[t,r]=S.useState(!1),[n,i]=S.useState("auto"),{user:s}=kr(),{toast:o}=Et();Jr();const{data:l}=Xt({queryKey:["/api/virtual-card",s==null?void 0:s.id],enabled:!!(s!=null&&s.id)}),{data:c}=Xt({queryKey:["/api/transactions",s==null?void 0:s.id],enabled:!!(s!=null&&s.id)}),{data:u}=Xt({queryKey:["/api/system-settings/card-price"]}),{data:d}=Xt({queryKey:["/api/convert-to-kes",u],queryFn:async()=>{const P=(u==null?void 0:u.price)||"60.00";return(await qe("POST","/api/convert-to-kes",{usdAmount:parseFloat(P)})).json()},enabled:!!u}),{data:f}=Xt({queryKey:["/api/manual-payment-settings"],queryFn:async()=>(await qe("GET","/api/manual-payment-settings")).json()}),h=l==null?void 0:l.card,p=(s==null?void 0:s.hasVirtualCard)||!!h;c!=null&&c.transactions;const y=(u==null?void 0:u.price)||"60.00",m="60.00",v=y,g=parseFloat((s==null?void 0:s.balance)||"0"),x=kt({mutationFn:async()=>(await qe("POST","/api/virtual-card/initialize-payment",{userId:s==null?void 0:s.id})).json(),onSuccess:P=>{if(P.success)o({title:"STK Push Sent!",description:P.message||"Check your phone and enter your M-Pesa PIN to complete the payment."}),setTimeout(()=>{e(`/payment-processing?reference=${P.reference}&type=virtual-card`)},2e3);else throw new Error(P.message||"Unable to initialize M-Pesa payment")},onError:P=>{o({title:"Purchase Failed",description:P.message||"Unable to initiate card purchase. Please try again.",variant:"destructive"})}}),w=P=>t?P:"   "+P.slice(-4);return p?a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/dashboard"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors","data-testid":"button-back",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Virtual Card"}),a.jsx("div",{className:"ml-auto",children:a.jsx(K.button,{whileTap:{scale:.95},className:"material-icons text-muted-foreground p-2 rounded-full hover:bg-muted transition-colors","data-testid":"button-more",children:"more_vert"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs(K.div,{initial:{opacity:0,y:30,rotateY:-15},animate:{opacity:1,y:0,rotateY:0},transition:{delay:.1,duration:.6},className:"relative",children:[a.jsxs("div",{className:"bg-gradient-to-br from-primary to-secondary p-6 rounded-2xl text-white elevation-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-green-200 text-sm",children:"GreenPay Card"}),a.jsx("p",{className:"text-xs text-green-200",children:"Virtual"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("div",{className:"w-8 h-5 bg-white/30 rounded"}),a.jsx("div",{className:"w-5 h-5 bg-white/50 rounded-full"})]})]}),a.jsx("div",{className:"mb-6",children:a.jsx("p",{className:"text-2xl font-mono tracking-wider","data-testid":"text-card-number",children:w((h==null?void 0:h.cardNumber)||"4567123456784567")})}),a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-green-200 text-xs",children:"CARDHOLDER"}),a.jsx("p",{className:"text-sm font-semibold",children:((N=s==null?void 0:s.fullName)==null?void 0:N.toUpperCase())||"JOHN DOE"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-green-200 text-xs",children:"EXPIRES"}),a.jsx("p",{className:"text-sm font-semibold",children:(h==null?void 0:h.expiryDate)||"12/27"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-green-200 text-xs",children:"CVV"}),a.jsx("p",{className:"text-sm font-semibold",children:t?(h==null?void 0:h.cvv)||"123":""})]})]})]}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>r(!t),className:"bg-white/20 backdrop-blur-sm p-2 rounded-full","data-testid":"button-toggle-card-details",children:a.jsx("span",{className:"material-icons text-white text-sm",children:t?"visibility_off":"visibility"})})}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx("div",{className:`px-2 py-1 rounded-full ${h?h.status==="active"?"bg-green-500":h.status==="frozen"?"bg-orange-500":h.status==="expired"?"bg-gray-500":"bg-red-500":"bg-gray-500"}`,children:a.jsx("span",{className:"text-xs font-semibold text-white",children:h?h.status==="active"?"ACTIVE":h.status==="frozen"?"FROZEN":h.status==="expired"?"EXPIRED":"BLOCKED":"LOADING..."})})})]}),a.jsx(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Available Balance"}),a.jsxs("p",{className:"text-3xl font-bold text-primary","data-testid":"text-card-balance",children:["$",Gt(g)]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Last updated: Just now"})]})}),h&&h.status!=="active"&&a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:`p-4 rounded-xl ${h.status==="frozen"?"bg-orange-50 border border-orange-200":h.status==="expired"?"bg-gray-50 border border-gray-200":"bg-red-50 border border-red-200"}`,children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`material-icons mr-3 ${h.status==="frozen"?"text-orange-500":h.status==="expired"?"text-gray-500":"text-red-500"}`,children:h.status==="frozen"?"pause_circle_filled":h.status==="expired"?"schedule":"block"}),a.jsxs("div",{children:[a.jsx("h3",{className:`font-semibold ${h.status==="frozen"?"text-orange-700":h.status==="expired"?"text-gray-700":"text-red-700"}`,children:h.status==="frozen"?"Card Frozen":h.status==="expired"?"Card Expired":"Card Blocked"}),a.jsx("p",{className:`text-sm ${h.status==="frozen"?"text-orange-600":h.status==="expired"?"text-gray-600":"text-red-600"}`,children:h.status==="frozen"?"Your virtual card has been frozen by an administrator. Please contact support for assistance.":h.status==="expired"?"Your virtual card has expired and can no longer be used. Purchase a new card to continue making transactions.":"Your virtual card has been blocked by an administrator. Please contact support for assistance."})]})]}),h.status==="expired"&&a.jsx("div",{className:"mt-3",children:a.jsx(ie,{onClick:()=>x.mutate(),disabled:x.isPending,variant:"outline",className:"bg-green-600 hover:bg-green-700 text-white border-green-600","data-testid":"button-purchase-new-card",children:x.isPending?"Processing...":"Purchase New Card"})})]}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-2 gap-4",children:[a.jsxs(K.button,{whileHover:h&&h.status==="active"?{scale:1.02}:{},whileTap:h&&h.status==="active"?{scale:.98}:{},onClick:()=>{if(h)if(h.status==="active")e("/deposit");else{const P={frozen:{title:"Card Frozen",desc:"frozen"},expired:{title:"Card Expired",desc:"expired. Purchase a new card to continue"},default:{title:"Card Blocked",desc:"blocked"}},k=P[h.status]||P.default;o({title:k.title,description:`Cannot top up - your card has been ${k.desc}. Please contact support.`,variant:"destructive"})}},className:`bg-card p-4 rounded-xl border border-border text-center transition-colors elevation-1 ${h?h.status==="active"?"hover:bg-muted cursor-pointer":"opacity-50 cursor-not-allowed":"opacity-30 cursor-wait"}`,"data-testid":"button-top-up",children:[a.jsx("span",{className:`material-icons text-2xl mb-2 ${h&&h.status==="active"?"text-primary":"text-gray-400"}`,children:"add"}),a.jsx("p",{className:"font-semibold",children:"Top Up"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Add money to card"})]}),a.jsxs(K.button,{whileHover:h&&h.status==="active"?{scale:1.02}:{},whileTap:h&&h.status==="active"?{scale:.98}:{},onClick:()=>{if(h)if(h.status==="active")e("/withdraw");else{const P={frozen:{title:"Card Frozen",desc:"frozen"},expired:{title:"Card Expired",desc:"expired. Purchase a new card to continue"},default:{title:"Card Blocked",desc:"blocked"}},k=P[h.status]||P.default;o({title:k.title,description:`Cannot withdraw - your card has been ${k.desc}. Please contact support.`,variant:"destructive"})}},className:`bg-card p-4 rounded-xl border border-border text-center transition-colors elevation-1 ${h?h.status==="active"?"hover:bg-muted cursor-pointer":"opacity-50 cursor-not-allowed":"opacity-30 cursor-wait"}`,"data-testid":"button-withdraw",children:[a.jsx("span",{className:`material-icons text-2xl mb-2 ${h&&h.status==="active"?"text-secondary":"text-gray-400"}`,children:"remove"}),a.jsx("p",{className:"font-semibold",children:"Withdraw"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Transfer to bank"})]}),a.jsxs(K.button,{whileHover:h&&h.status==="active"?{scale:1.02}:{},whileTap:h&&h.status==="active"?{scale:.98}:{},onClick:()=>{if(h)if(h.status==="active")o({title:"Freeze Card Feature",description:"Card freeze functionality will be implemented in a future update."});else if(h.status==="expired")o({title:"Cannot Freeze Expired Card",description:"Your card has expired. Purchase a new card to continue using our services.",variant:"destructive"});else{const P={frozen:{title:"Card Already Frozen",status:"frozen"},default:{title:"Card Already Blocked",status:"blocked"}},k=P[h.status]||P.default;o({title:k.title,description:`Your card is already ${k.status}. Please contact support for assistance.`,variant:"destructive"})}},className:`bg-card p-4 rounded-xl border border-border text-center transition-colors elevation-1 ${h?h.status==="active"?"hover:bg-muted cursor-pointer":"opacity-50 cursor-not-allowed":"opacity-30 cursor-wait"}`,"data-testid":"button-freeze-card",children:[a.jsx("span",{className:`material-icons text-2xl mb-2 ${h&&h.status==="active"?"text-orange-500":"text-gray-400"}`,children:"lock"}),a.jsx("p",{className:"font-semibold",children:"Freeze Card"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Temporarily disable"})]}),a.jsxs(K.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-card p-4 rounded-xl border border-border text-center hover:bg-muted transition-colors elevation-1","data-testid":"button-card-settings",children:[a.jsx("span",{className:"material-icons text-muted-foreground text-2xl mb-2",children:"settings"}),a.jsx("p",{className:"font-semibold",children:"Settings"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage card"})]})]}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card rounded-xl border border-border elevation-1",children:[a.jsx("div",{className:"p-4 border-b border-border",children:a.jsx("h3",{className:"font-semibold",children:"Card Information"})}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:"Card Status"}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${h?h.status==="active"?"bg-green-100 text-green-600":h.status==="frozen"?"bg-orange-100 text-orange-600":h.status==="expired"?"bg-gray-100 text-gray-600":"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:h?h.status==="active"?"Active":h.status==="frozen"?"Frozen":h.status==="expired"?"Expired":"Blocked":"Loading..."})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:"Daily Limit"}),a.jsx("span",{className:"font-medium",children:"$4,000"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:"Monthly Limit"}),a.jsx("span",{className:"font-medium",children:"$50,000"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:"Issue Date"}),a.jsx("span",{className:"font-medium",children:new Date().toLocaleDateString()})]})]})]})]})]}):a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/dashboard"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors","data-testid":"button-back",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Virtual Card"})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-primary to-secondary p-6 rounded-2xl text-white elevation-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-green-200 text-sm",children:"GreenPay Card"}),a.jsx("p",{className:"text-xs text-green-200",children:"Virtual"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("div",{className:"w-8 h-5 bg-white/30 rounded"}),a.jsx("div",{className:"w-5 h-5 bg-white/50 rounded-full"})]})]}),a.jsx("div",{className:"mb-6",children:a.jsx("p",{className:"text-2xl font-mono tracking-wider text-green-200",children:"   "})}),a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-green-200 text-xs",children:"CARDHOLDER"}),a.jsx("p",{className:"text-sm font-semibold",children:((j=s==null?void 0:s.fullName)==null?void 0:j.toUpperCase())||"YOUR NAME"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-green-200 text-xs",children:"EXPIRES"}),a.jsx("p",{className:"text-sm font-semibold",children:"/"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-green-200 text-xs",children:"CVV"}),a.jsx("p",{className:"text-sm font-semibold",children:""})]})]})]}),a.jsx(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card p-6 rounded-xl border border-border elevation-1",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:a.jsx("span",{className:"material-icons text-primary text-2xl",children:"credit_card"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Get Your Virtual Card"}),a.jsx("p",{className:"text-muted-foreground",children:"Purchase a virtual card to unlock international transactions and online payments."})]}),a.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium",children:"Virtual Card"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm line-through text-muted-foreground",children:["$",m]}),a.jsxs("span",{className:"text-xl font-bold text-green-600",children:["$",v]}),a.jsx("div",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full font-bold",children:"75% OFF"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground text-left",children:"One-time purchase  No monthly fees  Valid for 3 years"})]}),a.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground text-left",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"material-icons text-green-500 text-sm mr-2",children:"check"}),"International online payments"]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"material-icons text-green-500 text-sm mr-2",children:"check"}),"Secure transactions worldwide"]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"material-icons text-green-500 text-sm mr-2",children:"check"}),"Real-time spending controls"]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"material-icons text-green-500 text-sm mr-2",children:"check"}),"Instant card generation"]})]}),a.jsx(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(K.span,{initial:{rotate:-10},animate:{rotate:0},transition:{delay:.4,type:"spring",stiffness:200},className:"material-icons text-blue-600 dark:text-blue-400 text-2xl",children:"payment"}),a.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Available Payment Methods in Your Country"})]})}),a.jsxs("div",{className:"space-y-3 mt-4",children:[a.jsx("h3",{className:"font-semibold text-sm",children:"Choose Payment Method"}),a.jsx(K.div,{whileTap:{scale:.98},onClick:()=>i("auto"),className:`relative p-3 rounded-xl border-2 cursor-pointer transition-all ${n==="auto"?"border-primary bg-primary/5":"border-border bg-muted/50 hover:border-primary/50"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center mt-0.5 transition-all ${n==="auto"?"border-primary bg-primary":"border-border"}`,children:n==="auto"&&a.jsx("span",{className:"material-icons text-white text-xs",children:"check"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h4",{className:"font-semibold text-sm",children:"Automatic Payment"}),a.jsx("span",{className:"bg-green-500/10 text-green-700 dark:text-green-400 text-xs px-2 py-0.5 rounded-full font-medium",children:"Recommended"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Instant activation via PayHero M-Pesa STK Push"})]})]})}),a.jsx(K.div,{whileTap:{scale:.98},onClick:()=>i("manual"),className:`relative p-3 rounded-xl border-2 cursor-pointer transition-all ${n==="manual"?"border-primary bg-primary/5":"border-border bg-muted/50 hover:border-primary/50"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center mt-0.5 transition-all ${n==="manual"?"border-primary bg-primary":"border-border"}`,children:n==="manual"&&a.jsx("span",{className:"material-icons text-white text-xs",children:"check"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Manual M-Pesa Payment"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Pay via paybill and contact support"})]})]})})]}),n==="auto"&&a.jsxs(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-2",children:[a.jsx(ie,{onClick:()=>x.mutate(),className:"w-full text-lg py-3 bg-green-600 hover:bg-green-700",disabled:x.isPending,"data-testid":"button-purchase-card",children:x.isPending?"Processing...":`Pay with M-Pesa - $${v}`}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Secure payment powered by PayHero"})]}),n==="manual"&&a.jsxs(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-muted/50 p-4 rounded-xl border border-border space-y-3",children:[a.jsxs("h4",{className:"font-semibold text-sm flex items-center",children:[a.jsx("span",{className:"material-icons text-primary mr-2 text-sm",children:"payments"}),"Payment Instructions"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[a.jsx("span",{className:"text-muted-foreground",children:"Paybill Number:"}),a.jsx("span",{className:"font-mono font-semibold",children:(f==null?void 0:f.paybill)||"247"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[a.jsx("span",{className:"text-muted-foreground",children:"Account Number:"}),a.jsx("span",{className:"font-mono font-semibold",children:(f==null?void 0:f.account)||"4664"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),a.jsxs("span",{className:"font-semibold",children:["KES ",d!=null&&d.kesAmount?Math.round(d.kesAmount).toLocaleString():"..."]})]})]}),a.jsx("div",{className:"p-3 bg-amber-500/10 rounded-lg border border-amber-500/20",children:a.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-400",children:[a.jsx("span",{className:"material-icons text-xs mr-1 align-middle",children:"info"}),"After payment, contact support with your M-Pesa confirmation to activate your card."]})}),a.jsxs(ie,{onClick:()=>e("/support"),variant:"outline",className:"w-full",children:[a.jsx("span",{className:"material-icons text-sm mr-2",children:"support_agent"}),"Contact Support"]})]})]})})]})]})}var cT="Switch",[Sve,mUe]=js(cT),[_ve,Pve]=Sve(cT),qH=S.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=S.useState(null),y=br(t,w=>p(w)),m=S.useRef(!1),v=h?d||!!h.closest("form"):!0,[g=!1,x]=Rl({prop:i,defaultProp:s,onChange:u});return a.jsxs(_ve,{scope:r,checked:g,disabled:l,children:[a.jsx(Tt.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":KH(g),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:jt(e.onClick,w=>{x(j=>!j),v&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),v&&a.jsx(Ave,{control:h,bubbles:!m.current,name:n,value:c,checked:g,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});qH.displayName=cT;var WH="SwitchThumb",HH=S.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=Pve(WH,r);return a.jsx(Tt.span,{"data-state":KH(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});HH.displayName=WH;var Ave=e=>{const{control:t,checked:r,bubbles:n=!0,...i}=e,s=S.useRef(null),o=bq(r),l=YU(t);return S.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function KH(e){return e?"checked":"unchecked"}var GH=qH,kve=HH;const Bs=S.forwardRef(({className:e,...t},r)=>a.jsx(GH,{className:_t("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(kve,{className:_t("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Bs.displayName=GH.displayName;var uT="Dialog",[YH,gUe]=js(uT),[Cve,Jo]=YH(uT),XH=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,l=S.useRef(null),c=S.useRef(null),[u=!1,d]=Rl({prop:n,defaultProp:i,onChange:s});return a.jsx(Cve,{scope:t,triggerRef:l,contentRef:c,contentId:kl(),titleId:kl(),descriptionId:kl(),open:u,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};XH.displayName=uT;var ZH="DialogTrigger",QH=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Jo(ZH,r),s=br(t,i.triggerRef);return a.jsx(Tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":hT(i.open),...n,ref:s,onClick:jt(e.onClick,i.onOpenToggle)})});QH.displayName=ZH;var dT="DialogPortal",[Tve,JH]=YH(dT,{forceMount:void 0}),eK=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,s=Jo(dT,t);return a.jsx(Tve,{scope:t,forceMount:r,children:S.Children.map(n,o=>a.jsx(io,{present:r||s.open,children:a.jsx(Tj,{asChild:!0,container:i,children:o})}))})};eK.displayName=dT;var l2="DialogOverlay",tK=S.forwardRef((e,t)=>{const r=JH(l2,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=Jo(l2,e.__scopeDialog);return s.modal?a.jsx(io,{present:n||s.open,children:a.jsx(Ove,{...i,ref:t})}):null});tK.displayName=l2;var Eve=wm("DialogOverlay.RemoveScroll"),Ove=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Jo(l2,r);return a.jsx(Y3,{as:Eve,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Tt.div,{"data-state":hT(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ph="DialogContent",rK=S.forwardRef((e,t)=>{const r=JH(ph,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=Jo(ph,e.__scopeDialog);return a.jsx(io,{present:n||s.open,children:s.modal?a.jsx(Mve,{...i,ref:t}):a.jsx(Lve,{...i,ref:t})})});rK.displayName=ph;var Mve=S.forwardRef((e,t)=>{const r=Jo(ph,e.__scopeDialog),n=S.useRef(null),i=br(t,r.contentRef,n);return S.useEffect(()=>{const s=n.current;if(s)return jq(s)},[]),a.jsx(nK,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jt(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:jt(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:jt(e.onFocusOutside,s=>s.preventDefault())})}),Lve=S.forwardRef((e,t)=>{const r=Jo(ph,e.__scopeDialog),n=S.useRef(!1),i=S.useRef(!1);return a.jsx(nK,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),nK=S.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=e,l=Jo(ph,r),c=S.useRef(null),u=br(t,c);return yq(),a.jsxs(a.Fragment,{children:[a.jsx(G3,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(av,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":hT(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Ive,{titleId:l.titleId}),a.jsx(Rve,{contentRef:c,descriptionId:l.descriptionId})]})]})}),fT="DialogTitle",iK=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Jo(fT,r);return a.jsx(Tt.h2,{id:i.titleId,...n,ref:t})});iK.displayName=fT;var aK="DialogDescription",sK=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Jo(aK,r);return a.jsx(Tt.p,{id:i.descriptionId,...n,ref:t})});sK.displayName=aK;var oK="DialogClose",lK=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Jo(oK,r);return a.jsx(Tt.button,{type:"button",...n,ref:t,onClick:jt(e.onClick,()=>i.onOpenChange(!1))})});lK.displayName=oK;function hT(e){return e?"open":"closed"}var cK="DialogTitleWarning",[xUe,uK]=Qre(cK,{contentName:ph,titleName:fT,docsSlug:"dialog"}),Ive=({titleId:e})=>{const t=uK(cK),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return S.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Dve="DialogDescriptionWarning",Rve=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uK(Dve).contentName}}.`;return S.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Fve=XH,$ve=QH,Bve=eK,dK=tK,fK=rK,hK=iK,pK=sK,Uve=lK;const ps=Fve,mh=$ve,zve=Bve,mK=S.forwardRef(({className:e,...t},r)=>a.jsx(dK,{ref:r,className:_t("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));mK.displayName=dK.displayName;const Ba=S.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(zve,{children:[a.jsx(mK,{}),a.jsxs(fK,{ref:n,className:_t("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(Uve,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Vc,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ba.displayName=fK.displayName;const oa=({className:e,...t})=>a.jsx("div",{className:_t("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});oa.displayName="DialogHeader";const uN=({className:e,...t})=>a.jsx("div",{className:_t("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});uN.displayName="DialogFooter";const $i=S.forwardRef(({className:e,...t},r)=>a.jsx(hK,{ref:r,className:_t("text-lg font-semibold leading-none tracking-tight",e),...t}));$i.displayName=hK.displayName;const Xs=S.forwardRef(({className:e,...t},r)=>a.jsx(pK,{ref:r,className:_t("text-sm text-muted-foreground",e),...t}));Xs.displayName=pK.displayName;function Vve(){var Ne,xe;const[,e]=Jt(),{user:t,logout:r,login:n}=kr(),{toast:i}=Et();Jr();const[s,o]=S.useState(!1),[l,c]=S.useState({fullName:(t==null?void 0:t.fullName)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",country:(t==null?void 0:t.country)||""}),[u,d]=S.useState(!1),[f,h]=S.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[p,y]=S.useState({defaultCurrency:(t==null?void 0:t.defaultCurrency)||"KES",pushNotificationsEnabled:(t==null?void 0:t.pushNotificationsEnabled)!==!1,twoFactorEnabled:(t==null?void 0:t.twoFactorEnabled)||!1,biometricEnabled:(t==null?void 0:t.biometricEnabled)||!1,darkMode:(t==null?void 0:t.darkMode)||!1});S.useState(null);const[m,v]=S.useState(!1),[g,x]=S.useState(null),[w,j]=S.useState("qr"),[N,P]=S.useState(""),[k,C]=S.useState([]),[O,I]=S.useState(null),[E,A]=S.useState("");S.useState(!1);const[D,R]=S.useState(null),[G,F]=S.useState((t==null?void 0:t.profilePhotoUrl)||null),q=S.useRef(null),B=kt({mutationFn:async V=>(await qe("PUT",`/api/users/${t==null?void 0:t.id}/profile`,V)).json(),onSuccess:V=>{n(V.user),o(!1),i({title:"Profile Updated",description:"Your profile has been updated successfully"})},onError:V=>{i({title:"Update Failed",description:V.message||"Unable to update profile",variant:"destructive"})}}),Z=kt({mutationFn:async V=>(await qe("POST",`/api/users/${t==null?void 0:t.id}/change-password`,{currentPassword:V.currentPassword,newPassword:V.newPassword})).json(),onSuccess:()=>{d(!1),h({currentPassword:"",newPassword:"",confirmPassword:""}),i({title:"Password Changed",description:"Your password has been updated successfully"})},onError:V=>{i({title:"Password Change Failed",description:V.message||"Unable to change password",variant:"destructive"})}}),le=kt({mutationFn:async V=>{const Ve=new FormData;Ve.append("photo",V);const Ze=await fetch(`/api/users/${t==null?void 0:t.id}/profile-photo`,{method:"POST",credentials:"include",body:Ve});if(!Ze.ok)throw new Error("Failed to upload photo");return Ze.json()},onSuccess:V=>{n(V.user),F(V.user.profilePhotoUrl),R(null),i({title:"Photo Updated",description:"Your profile photo has been updated successfully"})},onError:V=>{i({title:"Upload Failed",description:V.message||"Unable to upload photo",variant:"destructive"})}}),fe=V=>{var Ze;const Ve=(Ze=V.target.files)==null?void 0:Ze[0];if(Ve){if(!Ve.type.startsWith("image/")){i({title:"Invalid File",description:"Please select an image file",variant:"destructive"});return}if(Ve.size>5*1024*1024){i({title:"File Too Large",description:"Please select an image under 5MB",variant:"destructive"});return}R(Ve);const it=new FileReader;it.onloadend=()=>{F(it.result)},it.readAsDataURL(Ve),le.mutate(Ve)}},$=kt({mutationFn:async V=>(await qe("PUT",`/api/users/${t==null?void 0:t.id}/settings`,V)).json(),onSuccess:V=>{n(V.user),i({title:"Settings Updated",description:"Your preferences have been saved"})},onError:V=>{i({title:"Settings Update Failed",description:V.message||"Unable to update settings",variant:"destructive"})}}),Y=()=>{if(!l.fullName||!l.email||!l.phone||!l.country){i({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});return}B.mutate(l)},J=()=>{if(!f.currentPassword||!f.newPassword||!f.confirmPassword){i({title:"Missing Information",description:"Please fill in all password fields",variant:"destructive"});return}if(f.newPassword!==f.confirmPassword){i({title:"Password Mismatch",description:"New password and confirmation do not match",variant:"destructive"});return}if(f.newPassword.length<8){i({title:"Weak Password",description:"Password must be at least 8 characters long",variant:"destructive"});return}Z.mutate(f)},ae=(V,Ve)=>{const Ze={...p,[V]:Ve};y(Ze),$.mutate(Ze)},de=kt({mutationFn:async()=>(await qe("POST","/api/auth/setup-2fa",{userId:t==null?void 0:t.id})).json(),onSuccess:V=>{x(V.qrCodeUrl),I(V.secret),C(Array.isArray(V.backupCodes)?V.backupCodes:[]),j("qr"),v(!0)},onError:V=>{i({title:"Setup Failed",description:V.message||"Unable to setup 2FA",variant:"destructive"})}}),ce=kt({mutationFn:async V=>(await qe("POST","/api/auth/2fa/verify",{userId:t==null?void 0:t.id,token:V})).json(),onSuccess:V=>{V.user&&n(V.user),k.length>0?j("backup"):(v(!1),j("qr"),P(""),C([]),y({...p,twoFactorEnabled:!0})),P(""),i({title:"2FA Enabled",description:"Your authenticator has been successfully set up"})},onError:V=>{i({title:"Verification Failed",description:V.message||"Invalid authenticator code",variant:"destructive"})}}),be=kt({mutationFn:async V=>(await qe("POST",`/api/users/${t==null?void 0:t.id}/disable-2fa`,{password:V})).json(),onSuccess:V=>{n(V.user),y({...p,twoFactorEnabled:!1}),v(!1),A(""),i({title:"2FA Disabled",description:"Two-factor authentication has been disabled"})},onError:V=>{i({title:"Disable Failed",description:V.message||"Unable to disable 2FA",variant:"destructive"})}}),oe=kt({mutationFn:async()=>{if(!window.PublicKeyCredential)throw new Error("Your device doesn't support biometric authentication");const Ve={challenge:crypto.getRandomValues(new Uint8Array(32)),rp:{name:"GreenPay",id:window.location.hostname},user:{id:crypto.getRandomValues(new Uint8Array(16)),name:(t==null?void 0:t.email)||"user",displayName:(t==null?void 0:t.fullName)||"User"},pubKeyCredParams:[{alg:-7,type:"public-key"},{alg:-257,type:"public-key"}],timeout:6e4,userVerification:"preferred"},Ze=await navigator.credentials.create({publicKey:Ve});if(!Ze)throw new Error("Biometric enrollment was cancelled or failed");return(await qe("POST","/api/auth/biometric/setup",{userId:t==null?void 0:t.id,credentialId:Ze.id})).json()},onSuccess:V=>{V.user&&n(V.user),y({...p,biometricEnabled:!0}),i({title:"Biometric Setup Complete",description:"You can now use your fingerprint or face to authenticate"})},onError:V=>{i({title:"Setup Failed",description:V.message||"Unable to setup biometric authentication",variant:"destructive"})}}),ye=kt({mutationFn:async()=>(await qe("POST",`/api/users/${t==null?void 0:t.id}/disable-biometric`,{})).json(),onSuccess:V=>{n(V.user),y({...p,biometricEnabled:!1}),i({title:"Biometric Disabled",description:"Biometric authentication has been disabled"})},onError:V=>{i({title:"Disable Failed",description:V.message||"Unable to disable biometric",variant:"destructive"})}}),je=async()=>{"Notification"in window&&await Notification.requestPermission()==="granted"&&(ae("pushNotificationsEnabled",!0),i({title:"Notifications Enabled",description:"You'll receive push notifications for transactions"}),await qe("POST","/api/notifications/register",{userId:t==null?void 0:t.id,endpoint:"browser-notification"}))},pe=()=>{localStorage.clear(),sessionStorage.clear(),r(),e("/")};return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/dashboard"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Settings"})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[t!=null&&t.profilePhotoUrl?a.jsx("img",{src:t.profilePhotoUrl,alt:"Profile",className:"w-16 h-16 rounded-full object-cover mr-4 border-2 border-primary/20"}):a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center mr-4",children:a.jsx("span",{className:"text-white font-bold text-xl",children:((Ne=t==null?void 0:t.fullName)==null?void 0:Ne.split(" ").map(V=>V[0]).join(""))||"JD"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg",children:(t==null?void 0:t.fullName)||"John Doe"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:t==null?void 0:t.email}),a.jsx("p",{className:`text-xs px-2 py-1 rounded-full inline-block mt-1 ${(t==null?void 0:t.kycStatus)==="verified"?"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-950":"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-950"}`,children:(t==null?void 0:t.kycStatus)==="verified"?"KYC Verified":"KYC Pending"})]})]}),a.jsxs(ps,{open:s,onOpenChange:o,children:[a.jsx(mh,{asChild:!0,children:a.jsxs(ie,{variant:"outline",className:"w-full mt-4 flex items-center justify-center gap-2 hover:bg-primary/10 hover:text-primary hover:border-primary transition-all","data-testid":"button-edit-profile",children:[a.jsx("span",{className:"material-icons text-sm",children:"edit"}),"Update Profile"]})}),a.jsx(Ba,{className:"sm:max-w-md w-[calc(100%-2rem)] max-h-[70vh] top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] bg-gradient-to-b from-background to-muted/20 p-5 overflow-y-auto",children:a.jsxs("div",{className:"pb-20",children:[a.jsx(oa,{className:"mb-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center",children:a.jsx("span",{className:"material-icons text-white text-base",children:"person"})}),a.jsxs("div",{children:[a.jsx($i,{className:"text-xl font-bold",children:"Update Profile"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep your info up to date"})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col items-center space-y-3 pb-4 border-b border-border/50",children:[a.jsxs("div",{className:"relative group",children:[G?a.jsx("img",{src:G,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-primary/20 shadow-lg transition-transform group-hover:scale-105"}):a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center shadow-lg transition-transform group-hover:scale-105",children:a.jsx("span",{className:"text-white font-bold text-3xl",children:((xe=t==null?void 0:t.fullName)==null?void 0:xe.split(" ").map(V=>V[0]).join(""))||"JD"})}),a.jsx("button",{type:"button",onClick:()=>{var V;return(V=q.current)==null?void 0:V.click()},disabled:le.isPending,className:"absolute bottom-0 right-0 w-10 h-10 bg-primary rounded-full flex items-center justify-center shadow-xl hover:bg-primary/90 transition-all hover:scale-110 disabled:opacity-50 border-4 border-background",children:le.isPending?a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsx("span",{className:"material-icons text-white text-base",children:"photo_camera"})})]}),a.jsx("input",{ref:q,type:"file",accept:"image/*",onChange:fe,className:"hidden"}),a.jsxs("div",{className:"text-center space-y-1",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:le.isPending?"Uploading...":"Profile Photo"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Click camera icon to update"})]})]}),a.jsxs("div",{className:"space-y-4 bg-muted/30 p-4 rounded-xl",children:[a.jsxs("h4",{className:"font-semibold text-sm text-foreground flex items-center gap-2",children:[a.jsx("span",{className:"material-icons text-sm text-primary",children:"badge"}),"Personal Information"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"fullName",className:"text-sm font-medium",children:"Full Name *"}),a.jsx($e,{id:"fullName",placeholder:"e.g., John Doe",value:l.fullName,onChange:V=>c({...l,fullName:V.target.value}),"data-testid":"input-full-name",className:"mt-1.5"})]}),a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"email",className:"text-sm font-medium",children:"Email Address *"}),a.jsx($e,{id:"email",type:"email",placeholder:"your.email@example.com",value:l.email,onChange:V=>c({...l,email:V.target.value}),"data-testid":"input-email",className:"mt-1.5"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1.5",children:"Used for account notifications"})]}),a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"phone",className:"text-sm font-medium",children:"Phone Number *"}),a.jsx($e,{id:"phone",type:"tel",placeholder:"07XXXXXXXX",value:l.phone,onChange:V=>c({...l,phone:V.target.value}),"data-testid":"input-phone",className:"mt-1.5"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1.5",children:"Used for M-Pesa payments and 2FA"})]}),a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"country",className:"text-sm font-medium",children:"Country *"}),a.jsxs(Hr,{value:l.country,onValueChange:V=>c({...l,country:V}),children:[a.jsx($r,{"data-testid":"select-country",className:"mt-1.5",children:a.jsx(Kr,{placeholder:"Select your country"})}),a.jsxs(Br,{children:[a.jsx(nt,{value:"Kenya",children:" Kenya"}),a.jsx(nt,{value:"Nigeria",children:" Nigeria"}),a.jsx(nt,{value:"Ghana",children:" Ghana"}),a.jsx(nt,{value:"South Africa",children:" South Africa"}),a.jsx(nt,{value:"Uganda",children:" Uganda"}),a.jsx(nt,{value:"Tanzania",children:" Tanzania"}),a.jsx(nt,{value:"United States",children:" United States"}),a.jsx(nt,{value:"United Kingdom",children:" United Kingdom"}),a.jsx(nt,{value:"Canada",children:" Canada"})]})]})]})]})]}),a.jsxs("div",{className:"border-t border-border pt-4",children:[a.jsxs("button",{onClick:()=>d(!u),className:"flex items-center justify-between w-full text-sm font-medium text-foreground hover:text-primary transition-colors",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"material-icons text-sm",children:"lock"}),"Change Password"]}),a.jsx("span",{className:`material-icons text-sm transition-transform ${u?"rotate-180":""}`,children:"expand_more"})]}),u&&a.jsxs("div",{className:"mt-4 space-y-3",children:[a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"currentPassword",className:"text-sm",children:"Current Password"}),a.jsx($e,{id:"currentPassword",type:"password",placeholder:"Enter current password",value:f.currentPassword,onChange:V=>h({...f,currentPassword:V.target.value}),className:"mt-1.5"})]}),a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"newPassword",className:"text-sm",children:"New Password"}),a.jsx($e,{id:"newPassword",type:"password",placeholder:"Min. 8 characters",value:f.newPassword,onChange:V=>h({...f,newPassword:V.target.value}),className:"mt-1.5"})]}),a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"confirmPassword",className:"text-sm",children:"Confirm New Password"}),a.jsx($e,{id:"confirmPassword",type:"password",placeholder:"Re-enter new password",value:f.confirmPassword,onChange:V=>h({...f,confirmPassword:V.target.value}),className:"mt-1.5"})]}),a.jsx(ie,{onClick:J,className:"w-full",disabled:Z.isPending,children:Z.isPending?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"material-icons animate-spin text-sm mr-2",children:"sync"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"material-icons text-sm mr-2",children:"check"}),"Update Password"]})})]})]}),a.jsxs("div",{className:"flex gap-3 pt-6 pb-2",children:[a.jsxs(ie,{variant:"outline",onClick:()=>o(!1),className:"flex-1 hover:bg-muted transition-all",children:[a.jsx("span",{className:"material-icons text-sm mr-2",children:"close"}),"Cancel"]}),a.jsx(ie,{onClick:Y,className:"flex-1 bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-white shadow-lg hover:shadow-xl transition-all",disabled:B.isPending,"data-testid":"button-save-profile",children:B.isPending?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"material-icons animate-spin text-sm mr-2",children:"sync"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"material-icons text-sm mr-2",children:"check_circle"}),"Save Changes"]})})]})]})]})})]})]}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"ACCOUNT"}),a.jsxs(K.div,{whileHover:{scale:1.01},className:"bg-card p-4 rounded-xl border border-border flex items-center justify-between elevation-1",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"material-icons text-primary mr-3",children:"account_balance"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Default Currency"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your preferred currency"})]})]}),a.jsxs(Hr,{value:p.defaultCurrency,onValueChange:V=>ae("defaultCurrency",V),children:[a.jsx($r,{className:"w-32","data-testid":"select-default-currency",children:a.jsx(Kr,{})}),a.jsxs(Br,{children:[a.jsx(nt,{value:"USD",children:"$ USD"}),a.jsx(nt,{value:"KES",children:"KSh KES"})]})]})]}),a.jsxs(K.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>e("/kyc"),className:"w-full bg-card p-4 rounded-xl border border-border flex items-center justify-between hover:bg-muted transition-colors elevation-1","data-testid":"button-kyc",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"material-icons text-secondary mr-3",children:"verified_user"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium",children:"Identity Verification"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your KYC documents"})]})]}),a.jsx(xS,{className:"w-5 h-5"})]}),a.jsxs(K.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>e("/virtual-card"),className:"w-full bg-card p-4 rounded-xl border border-border flex items-center justify-between hover:bg-muted transition-colors elevation-1","data-testid":"button-virtual-card-settings",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"material-icons text-primary mr-3",children:"credit_card"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium",children:"Virtual Card"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t!=null&&t.hasVirtualCard?"Manage your card":"Purchase virtual card"})]})]}),a.jsx(xS,{className:"w-5 h-5"})]})]}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"SECURITY"}),a.jsxs(K.div,{whileHover:{scale:1.01},className:"bg-card p-4 rounded-xl border border-border flex items-center justify-between elevation-1",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"material-icons text-secondary mr-3",children:"security"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Two-Factor Authentication"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Add extra security to your account"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Bs,{checked:p.twoFactorEnabled,onCheckedChange:V=>{V&&!p.twoFactorEnabled?(j("qr"),de.mutate()):!V&&p.twoFactorEnabled&&be.mutate("")},"data-testid":"switch-2fa"}),de.isPending&&a.jsx("span",{className:"text-xs",children:"Setting up..."})]})]}),a.jsxs(K.div,{whileHover:{scale:1.01},className:"bg-card p-4 rounded-xl border border-border flex items-center justify-between elevation-1",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"material-icons text-accent mr-3",children:"fingerprint"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Biometric Authentication"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Fingerprint, face, or device unlock"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Bs,{checked:p.biometricEnabled,onCheckedChange:V=>{V&&!p.biometricEnabled?oe.mutate():!V&&p.biometricEnabled&&ye.mutate()},disabled:oe.isPending||ye.isPending,"data-testid":"switch-biometric"}),(oe.isPending||ye.isPending)&&a.jsx("span",{className:"text-xs",children:"Processing..."})]})]}),a.jsxs(K.div,{whileHover:{scale:1.01},className:"bg-card p-4 rounded-xl border border-border flex items-center justify-between elevation-1",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"material-icons text-accent mr-3",children:"dark_mode"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Dark Mode"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use dark theme"})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(Bs,{checked:p.darkMode||!1,onCheckedChange:V=>{ae("darkMode",V),V?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},"data-testid":"switch-dark-mode"})})]})]}),a.jsx(ps,{open:m,onOpenChange:V=>{V||(v(!1),j("qr"),P(""))},children:a.jsxs(Ba,{className:"sm:max-w-md",children:[a.jsx(oa,{children:a.jsxs($i,{children:[w==="qr"&&"Setup Two-Factor Authentication",w==="verify"&&"Verify Your Authenticator",w==="backup"&&"Save Your Backup Codes"]})}),w==="qr"&&g&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-muted p-4 rounded-lg text-center",children:a.jsx("img",{src:g,alt:"2FA QR Code",className:"w-48 h-48 mx-auto"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-semibold",children:"Scan with Authenticator App"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use Google Authenticator, Authy, Microsoft Authenticator, or any TOTP-compatible app to scan this QR code."})]}),O&&a.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Or enter this code manually:"}),a.jsx("p",{className:"font-mono text-sm font-semibold break-all",children:O})]}),a.jsx(ie,{onClick:()=>j("verify"),className:"w-full",children:"Next: Verify Code"}),a.jsx(ie,{onClick:()=>{v(!1),j("qr")},variant:"outline",className:"w-full",children:"Cancel"})]}),w==="verify"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter the 6-digit code from your authenticator app to verify the setup:"}),a.jsx("div",{className:"flex gap-1 justify-center",children:Array(6).fill(0).map((V,Ve)=>a.jsx("input",{type:"text",inputMode:"numeric",maxLength:1,value:N[Ve]||"",onChange:Ze=>{var Je,ne;let it=Ze.target.value.replace(/[^0-9]/g,"");const De=N.split("");De[Ve]=it;const pt=De.join("").slice(0,6);P(pt),pt.length===6&&Ve<5&&((ne=(Je=Ze.target.parentElement)==null?void 0:Je.children[Ve+1])==null||ne.focus())},onPaste:Ze=>{Ze.preventDefault();const De=(Ze.clipboardData||window.clipboardData).getData("text").replace(/[^0-9]/g,"").slice(0,6);P(De)},onKeyDown:Ze=>{var it,De;Ze.key==="Backspace"&&!Ze.currentTarget.value&&Ve>0&&((De=(it=Ze.currentTarget.parentElement)==null?void 0:it.children[Ve-1])==null||De.focus())},className:"w-12 h-12 text-center text-xl font-bold border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"},Ve))})]}),a.jsx(ie,{onClick:()=>ce.mutate(N),disabled:N.length!==6||ce.isPending,className:"w-full",children:ce.isPending?"Verifying...":"Verify & Enable"}),a.jsx(ie,{onClick:()=>j("qr"),variant:"outline",className:"w-full",disabled:ce.isPending,children:"Back"})]}),w==="backup"&&a.jsx("div",{className:"space-y-4",children:k.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900/40 p-3 rounded-lg",children:a.jsxs("p",{className:"text-sm text-amber-900 dark:text-amber-200",children:[a.jsx("strong",{children:" Save these backup codes in a safe place."})," You can use them to access your account if you lose your authenticator device."]})}),a.jsx("div",{className:"bg-muted p-4 rounded-lg space-y-2 max-h-64 overflow-y-auto border border-border",children:k.map((V,Ve)=>a.jsxs("div",{className:"font-mono text-sm font-medium flex items-center justify-between bg-background/50 p-2 rounded",children:[a.jsx("span",{className:"tracking-wider",children:V}),a.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["#",Ve+1]})]},Ve))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ie,{onClick:()=>{const V=k.join(`
`);navigator.clipboard.writeText(V),i({title:"Copied",description:"All backup codes copied to clipboard"})},variant:"outline",className:"flex-1",children:[a.jsx("span",{className:"material-icons text-sm mr-1",children:"content_copy"}),"Copy"]}),a.jsxs(ie,{onClick:()=>{const V=k.join(`
`),Ve=document.createElement("a");Ve.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(V)),Ve.setAttribute("download","backup-codes.txt"),Ve.style.display="none",document.body.appendChild(Ve),Ve.click(),document.body.removeChild(Ve),i({title:"Downloaded",description:"Backup codes downloaded as file"})},variant:"outline",className:"flex-1",children:[a.jsx("span",{className:"material-icons text-sm mr-1",children:"download"}),"Save"]})]}),a.jsx(ie,{onClick:()=>{v(!1),j("qr"),P(""),C([]),ae("twoFactorEnabled",!0)},className:"w-full",children:"I've Saved My Codes - Done"})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("span",{className:"material-icons text-4xl text-muted-foreground mb-2",children:"hourglass_empty"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading backup codes..."})]})})]})}),p.twoFactorEnabled&&a.jsx(ps,{open:!1,onOpenChange:()=>{},children:a.jsxs(Ba,{children:[a.jsx(oa,{children:a.jsx($i,{children:"Disable Two-Factor Authentication"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your password to disable 2FA. This will remove the extra security from your account."}),a.jsx($e,{type:"password",placeholder:"Enter your password",value:E,onChange:V=>A(V.target.value)}),a.jsx(ie,{onClick:()=>be.mutate(E),disabled:!E||be.isPending,className:"w-full bg-destructive hover:bg-destructive/90",children:be.isPending?"Disabling...":"Disable 2FA"})]})]})}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"NOTIFICATIONS"}),a.jsxs(K.div,{whileHover:{scale:1.01},className:"bg-card p-4 rounded-xl border border-border flex items-center justify-between elevation-1",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"material-icons text-primary mr-3",children:"notifications"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Push Notifications"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Transaction alerts and updates"})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(Bs,{checked:p.pushNotificationsEnabled,onCheckedChange:V=>{V&&!p.pushNotificationsEnabled?je():ae("pushNotificationsEnabled",V)},"data-testid":"switch-notifications"})})]})]}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"SUPPORT & LEGAL"}),a.jsxs(K.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>e("/support"),className:"w-full bg-card p-4 rounded-xl border border-border flex items-center justify-between hover:bg-muted transition-colors elevation-1","data-testid":"button-support",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(vU,{className:"w-5 h-5 text-primary mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium",children:"Help & Support"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Get help and contact support"})]})]}),a.jsx(xS,{className:"w-5 h-5"})]}),a.jsx(K.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:pe,className:"w-full bg-destructive/10 p-4 rounded-xl border border-destructive/20 flex items-center justify-between hover:bg-destructive/20 transition-colors elevation-1","data-testid":"button-logout",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(QC,{className:"w-5 h-5 text-destructive mr-3"}),a.jsx("span",{className:"font-medium text-destructive",children:"Sign Out"})]})})]}),a.jsx("div",{className:"text-center pt-6 pb-4",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"GreenPay v2.1.0"})})]})]})}function qve(e,t){return S.useReducer((r,n)=>t[r][n]??r,e)}var pT="ScrollArea",[gK,yUe]=js(pT),[Wve,ao]=gK(pT),xK=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:s=600,...o}=e,[l,c]=S.useState(null),[u,d]=S.useState(null),[f,h]=S.useState(null),[p,y]=S.useState(null),[m,v]=S.useState(null),[g,x]=S.useState(0),[w,j]=S.useState(0),[N,P]=S.useState(!1),[k,C]=S.useState(!1),O=br(t,E=>c(E)),I=vv(i);return a.jsx(Wve,{scope:r,type:n,dir:I,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:N,onScrollbarXEnabledChange:P,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:C,onCornerWidthChange:x,onCornerHeightChange:j,children:a.jsx(Tt.div,{dir:I,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});xK.displayName=pT;var yK="ScrollAreaViewport",vK=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:i,...s}=e,o=ao(yK,r),l=S.useRef(null),c=br(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),a.jsx(Tt.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});vK.displayName=yK;var Hl="ScrollAreaScrollbar",mT=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=ao(Hl,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,l=e.orientation==="horizontal";return S.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),i.type==="hover"?a.jsx(Hve,{...n,ref:t,forceMount:r}):i.type==="scroll"?a.jsx(Kve,{...n,ref:t,forceMount:r}):i.type==="auto"?a.jsx(bK,{...n,ref:t,forceMount:r}):i.type==="always"?a.jsx(gT,{...n,ref:t}):null});mT.displayName=Hl;var Hve=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=ao(Hl,e.__scopeScrollArea),[s,o]=S.useState(!1);return S.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),a.jsx(io,{present:r||s,children:a.jsx(bK,{"data-state":s?"visible":"hidden",...n,ref:t})})}),Kve=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=ao(Hl,e.__scopeScrollArea),s=e.orientation==="horizontal",o=fN(()=>c("SCROLL_END"),100),[l,c]=qve("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),S.useEffect(()=>{const u=i.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,s,c,o]),a.jsx(io,{present:r||l!=="hidden",children:a.jsx(gT,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:jt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:jt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),bK=S.forwardRef((e,t)=>{const r=ao(Hl,e.__scopeScrollArea),{forceMount:n,...i}=e,[s,o]=S.useState(!1),l=e.orientation==="horizontal",c=fN(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Mm(r.viewport,c),Mm(r.content,c),a.jsx(io,{present:n||s,children:a.jsx(gT,{"data-state":s?"visible":"hidden",...i,ref:t})})}),gT=S.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=ao(Hl,e.__scopeScrollArea),s=S.useRef(null),o=S.useRef(0),[l,c]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=_K(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return Jve(h,o.current,l,p)}return r==="horizontal"?a.jsx(Gve,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,p=z8(h,l,i.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):r==="vertical"?a.jsx(Yve,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,p=z8(h,l);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),Gve=S.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,s=ao(Hl,e.__scopeScrollArea),[o,l]=S.useState(),c=S.useRef(null),u=br(t,c,s.onScrollbarXChange);return S.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(jK,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":dN(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),AK(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:u2(o.paddingLeft),paddingEnd:u2(o.paddingRight)}})}})}),Yve=S.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,s=ao(Hl,e.__scopeScrollArea),[o,l]=S.useState(),c=S.useRef(null),u=br(t,c,s.onScrollbarYChange);return S.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(jK,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":dN(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),AK(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:u2(o.paddingTop),paddingEnd:u2(o.paddingBottom)}})}})}),[Xve,wK]=gK(Hl),jK=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=ao(Hl,r),[y,m]=S.useState(null),v=br(t,O=>m(O)),g=S.useRef(null),x=S.useRef(""),w=p.viewport,j=n.content-n.viewport,N=Yn(d),P=Yn(c),k=fN(f,10);function C(O){if(g.current){const I=O.clientX-g.current.left,E=O.clientY-g.current.top;u({x:I,y:E})}}return S.useEffect(()=>{const O=I=>{const E=I.target;(y==null?void 0:y.contains(E))&&N(I,j)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[w,y,j,N]),S.useEffect(P,[n,P]),Mm(y,k),Mm(p.content,k),a.jsx(Xve,{scope:r,scrollbar:y,hasThumb:i,onThumbChange:Yn(s),onThumbPointerUp:Yn(o),onThumbPositionChange:P,onThumbPointerDown:Yn(l),children:a.jsx(Tt.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:jt(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),g.current=y.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(O))}),onPointerMove:jt(e.onPointerMove,C),onPointerUp:jt(e.onPointerUp,O=>{const I=O.target;I.hasPointerCapture(O.pointerId)&&I.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),g.current=null})})})}),c2="ScrollAreaThumb",NK=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=wK(c2,e.__scopeScrollArea);return a.jsx(io,{present:r||i.hasThumb,children:a.jsx(Zve,{ref:t,...n})})}),Zve=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,s=ao(c2,r),o=wK(c2,r),{onThumbPositionChange:l}=o,c=br(t,f=>o.onThumbChange(f)),u=S.useRef(void 0),d=fN(()=>{u.current&&(u.current(),u.current=void 0)},100);return S.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const p=ebe(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),a.jsx(Tt.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:jt(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x:y,y:m})}),onPointerUp:jt(e.onPointerUp,o.onThumbPointerUp)})});NK.displayName=c2;var xT="ScrollAreaCorner",SK=S.forwardRef((e,t)=>{const r=ao(xT,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(Qve,{...e,ref:t}):null});SK.displayName=xT;var Qve=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=ao(xT,r),[s,o]=S.useState(0),[l,c]=S.useState(0),u=!!(s&&l);return Mm(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),c(d)}),Mm(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),u?a.jsx(Tt.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function u2(e){return e?parseInt(e,10):0}function _K(e,t){const r=e/t;return isNaN(r)?0:r}function dN(e){const t=_K(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Jve(e,t,r,n="ltr"){const i=dN(r),s=i/2,o=t||s,l=i-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return PK([c,u],f)(e)}function z8(e,t,r="ltr"){const n=dN(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,o]:[o*-1,0],u=WA(e,c);return PK([0,o],[0,l])(u)}function PK(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function AK(e,t){return e>0&&e<t}var ebe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=r.left!==s.left,l=r.top!==s.top;(o||l)&&t(),r=s,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function fN(e,t){const r=Yn(e),n=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),S.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Mm(e,t){const r=Yn(t);Pi(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}var kK=xK,tbe=vK,rbe=SK;const ja=S.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(kK,{ref:n,className:_t("relative overflow-hidden",e),...r,children:[a.jsx(tbe,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(CK,{}),a.jsx(rbe,{})]}));ja.displayName=kK.displayName;const CK=S.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(mT,{ref:n,orientation:t,className:_t("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(NK,{className:"relative flex-1 rounded-full bg-border"})}));CK.displayName=mT.displayName;function nbe({isAdmin:e=!1,conversationId:t}){const{user:r,logout:n}=kr(),[,i]=Jt(),[s,o]=S.useState(""),[l,c]=S.useState(""),u=S.useRef(null),d=Jr(),f=j=>{(j===401||j===403)&&(n(),i("/login"))},h=()=>{var j;(j=u.current)==null||j.scrollIntoView({behavior:"smooth"})},{data:p}=Xt({queryKey:["/api/conversations/user-conversation"],enabled:!!(r!=null&&r.id)&&!t}),y=t||(p==null?void 0:p.id)||"",{data:m=[]}=Xt({queryKey:["/api/messages",y],queryFn:async()=>{const j=await fetch(`/api/messages/${y}`,{credentials:"include"});if(!j.ok)throw f(j.status),new Error("Failed to fetch messages");return j.json()},enabled:!!y,refetchInterval:2e3}),v=kt({mutationFn:async j=>{const N=await fetch("/api/messages",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:j,conversationId:y})});if(!N.ok)throw f(N.status),new Error("Failed to send message");return N.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/messages",y]}),o("")}});S.useEffect(()=>{h()},[m]),S.useEffect(()=>{p!=null&&p.id&&c(p.id)},[p]);const g=()=>{!s.trim()||v.isPending||!y||v.mutate(s.trim())},x=j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),g())},w=j=>{if(!j)return"";const N=j/1024;return N<1024?`${N.toFixed(1)} KB`:`${(N/1024).toFixed(1)} MB`};return r!=null&&r.id?a.jsxs("div",{className:"flex flex-col h-96 bg-card rounded-lg border shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-primary/5",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),a.jsx("h3",{className:"font-semibold text-sm",children:e?"Admin Support Chat":"Live Support"})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Ready"})]}),a.jsx(ja,{className:"flex-1 p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(gv,{children:m.map((j,N)=>a.jsx(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`flex ${e&&j.senderType!=="admin"||!e&&j.senderType==="admin"?"justify-start":"justify-end"}`,children:a.jsxs("div",{className:`max-w-xs lg:max-w-md px-3 py-2 rounded-lg text-sm ${e&&j.senderType!=="admin"||!e&&j.senderType==="admin"?"bg-muted text-foreground":"bg-primary text-primary-foreground"}`,children:[j.messageType==="image"&&j.fileUrl?a.jsxs("div",{className:"space-y-2",children:[a.jsx("img",{src:j.fileUrl,alt:j.fileName||"Uploaded image",className:"rounded max-w-full h-auto max-h-64 object-contain"}),a.jsxs("a",{href:j.fileUrl,download:j.fileName,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs opacity-80 hover:opacity-100 underline",children:[a.jsx(Gs,{className:"w-3 h-3"}),"Download ",j.fileName]}),j.content&&a.jsx("p",{className:"mt-1",children:j.content})]}):j.messageType==="file"&&j.fileUrl?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start gap-2 p-2 bg-background/10 rounded",children:[a.jsx(_w,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:j.fileName||"File"}),j.fileSize&&a.jsx("p",{className:"text-xs opacity-70",children:w(j.fileSize)})]})]}),a.jsxs("a",{href:j.fileUrl,download:j.fileName,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs opacity-80 hover:opacity-100 underline",children:[a.jsx(Gs,{className:"w-3 h-3"}),"Download"]}),j.content&&a.jsx("p",{className:"mt-1",children:j.content})]}):a.jsx("p",{children:j.content}),a.jsx("p",{className:"text-xs opacity-70 mt-1",children:new Date(j.createdAt).toLocaleTimeString()})]})},j.id||N))}),a.jsx("div",{ref:u})]})}),a.jsxs("div",{className:"p-4 border-t bg-muted/20",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx($e,{value:s,onChange:j=>o(j.target.value),onKeyDown:x,placeholder:"Type your message...",disabled:!y||v.isPending,className:"flex-1","data-testid":"input-chat-message"}),a.jsx(ie,{onClick:g,disabled:!s.trim()||!y||v.isPending,size:"sm","data-testid":"button-send-message",children:a.jsx(aa,{className:"w-4 h-4"})})]}),v.isError&&a.jsx("p",{className:"text-xs text-red-500 mt-2",children:"Failed to send message. Please try again."})]})]}):a.jsx("div",{className:"flex items-center justify-center h-64 text-muted-foreground",children:"Please log in to use live chat support"})}const ibe=St.object({issueType:St.string().min(1,"Please select an issue type"),description:St.string().min(10,"Please provide a detailed description"),file:St.any().optional()});function abe(){const[,e]=Jt(),[t,r]=S.useState(null),[n,i]=S.useState(!1),{toast:s}=Et(),o=Yo({resolver:Xo(ibe),defaultValues:{issueType:"",description:"",file:void 0}}),l=kt({mutationFn:async h=>{const p=new FormData;p.append("issueType",h.issueType),p.append("description",h.description),h.file&&p.append("file",h.file);const y=await fetch("/api/support/tickets",{method:"POST",credentials:"include",body:p});if(!y.ok)throw new Error("Failed to submit");return y.json()},onSuccess:()=>{s({title:"Report submitted successfully!",description:"Our support team will get back to you within 24 hours."}),o.reset()},onError:h=>{s({title:"Submission failed",description:"Please try again or contact support directly.",variant:"destructive"}),console.error("Ticket submission error:",h)}}),c=h=>{l.mutate(h)},u=()=>{e("/live-chat")},d=()=>{i(!1)},f=()=>{e("/support/tickets")};return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/dashboard"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Support"})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-r from-primary to-secondary p-6 rounded-xl text-white elevation-2",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Need Help?"}),a.jsx("p",{className:"text-green-100 mb-4",children:"Our support team is available 24/7 to assist you"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(K.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg font-medium hover:bg-white/30 transition-colors","data-testid":"button-start-chat",children:[a.jsx("span",{className:"material-icons text-sm mr-1",children:"chat"}),"Start Live Chat"]}),a.jsxs(K.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg font-medium hover:bg-white/30 transition-colors",children:[a.jsx("span",{className:"material-icons text-sm mr-1",children:"confirmation_number"}),"My Tickets"]})]})]}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-2 gap-4",children:[a.jsxs(K.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-card p-4 rounded-xl border border-border text-left hover:bg-muted transition-colors elevation-1","data-testid":"category-sending",children:[a.jsx("span",{className:"material-icons text-primary text-2xl mb-2",children:"send"}),a.jsx("h3",{className:"font-semibold mb-1",children:"Sending Money"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Transfer guides"})]}),a.jsxs(K.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-card p-4 rounded-xl border border-border text-left hover:bg-muted transition-colors elevation-1","data-testid":"category-banking",children:[a.jsx("span",{className:"material-icons text-secondary text-2xl mb-2",children:"account_balance"}),a.jsx("h3",{className:"font-semibold mb-1",children:"Banking"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Account help"})]}),a.jsxs(K.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-card p-4 rounded-xl border border-border text-left hover:bg-muted transition-colors elevation-1","data-testid":"category-security",children:[a.jsx("span",{className:"material-icons text-accent text-2xl mb-2",children:"security"}),a.jsx("h3",{className:"font-semibold mb-1",children:"Security"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Safety tips"})]}),a.jsxs(K.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-card p-4 rounded-xl border border-border text-left hover:bg-muted transition-colors elevation-1","data-testid":"category-virtual-card",children:[a.jsx("span",{className:"material-icons text-muted-foreground text-2xl mb-2",children:"credit_card"}),a.jsx("h3",{className:"font-semibold mb-1",children:"Virtual Card"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Card management"})]})]}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card rounded-xl border border-border elevation-1",children:[a.jsx("div",{className:"p-4 border-b border-border",children:a.jsx("h3",{className:"font-semibold",children:"Frequently Asked Questions"})}),a.jsx("div",{className:"divide-y divide-border",children:Yhe.map((h,p)=>a.jsxs("div",{className:"p-4",children:[a.jsx(K.button,{whileTap:{scale:.99},onClick:()=>r(t===p?null:p),className:"w-full text-left hover:bg-muted/50 transition-colors rounded-lg p-2 -m-2","data-testid":`faq-${p}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"font-medium",children:h.question}),a.jsx("span",{className:`material-icons text-muted-foreground transition-transform ${t===p?"rotate-180":""}`,children:"keyboard_arrow_down"})]})}),a.jsx(K.div,{initial:!1,animate:{height:t===p?"auto":0,opacity:t===p?1:0},transition:{duration:.3},className:"overflow-hidden",children:a.jsx("div",{className:"pt-3 pb-1",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:h.answer})})})]},p))})]}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"CONTACT US"}),a.jsxs(K.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:u,className:"w-full bg-card p-4 rounded-xl border border-border flex items-center justify-between hover:bg-muted transition-colors elevation-1","data-testid":"contact-live-chat",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"material-icons text-primary mr-3",children:"chat"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium",children:"Live Chat"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Get instant help from our team"})]})]}),a.jsx("span",{className:"text-xs text-green-500 bg-green-100 px-2 py-1 rounded-full",children:"Online"})]})]}),n&&a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},className:"bg-card rounded-xl border border-border elevation-2",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsx("h3",{className:"font-semibold",children:"Live Support Chat"}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:d,className:"h-8 w-8 p-0","data-testid":"button-close-chat",children:a.jsx(Vc,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"p-4",children:a.jsx(nbe,{})})]}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Report an Issue"}),a.jsx(to,{...o,children:a.jsxs("form",{onSubmit:o.handleSubmit(c),className:"space-y-4",children:[a.jsx(zt,{control:o.control,name:"issueType",render:({field:h})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Issue Type"}),a.jsxs(Hr,{onValueChange:h.onChange,defaultValue:h.value,children:[a.jsx(qt,{children:a.jsx($r,{"data-testid":"select-issue-type",children:a.jsx(Kr,{placeholder:"Select issue type"})})}),a.jsxs(Br,{children:[a.jsx(nt,{value:"transaction",children:"Transaction Problem"}),a.jsx(nt,{value:"account",children:"Account Access"}),a.jsx(nt,{value:"bug",children:"App Bug"}),a.jsx(nt,{value:"other",children:"Other"})]})]}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:o.control,name:"description",render:({field:h})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Description"}),a.jsx(qt,{children:a.jsx(ys,{...h,placeholder:"Describe your issue in detail",className:"h-24","data-testid":"textarea-issue-description"})}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:o.control,name:"file",render:({field:h})=>a.jsxs($t,{children:[a.jsxs(hr,{className:"flex items-center gap-2",children:[a.jsx(kw,{className:"w-4 h-4"}),"Attach Media (Optional)"]}),a.jsx(qt,{children:a.jsx($e,{type:"file",accept:"image/*,video/*,.pdf,.doc,.docx",onChange:p=>{var y;return h.onChange((y=p.target.files)==null?void 0:y[0])},"data-testid":"input-file-upload"})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Images, videos, PDFs, or documents"}),a.jsx(Yt,{})]})}),a.jsx(ie,{type:"submit",className:"w-full ripple",disabled:l.isPending,"data-testid":"button-submit-report",children:l.isPending?"Submitting...":"Submit Report"})]})})]})]})]})}function sbe(){const[,e]=Jt(),[t,r]=S.useState(""),n=S.useRef(null),i=S.useRef(null),{toast:s}=Et(),o=Jr(),{logout:l}=kr(),{data:c,error:u}=Xt({queryKey:["/api/conversations/user-conversation"],queryFn:async()=>{const g=await fetch("/api/conversations/user-conversation",{credentials:"include"});if(!g.ok)throw new Error(`HTTP ${g.status}: ${g.statusText}`);return g.json()},retry:!1});S.useEffect(()=>{var g;u&&((g=u.message)!=null&&g.includes("401"))&&(localStorage.clear(),sessionStorage.clear(),l(),e("/login"))},[u,l,e]);const{data:d=[],isLoading:f}=Xt({queryKey:["/api/messages",c==null?void 0:c.id],queryFn:async()=>{if(!(c!=null&&c.id))return[];const g=await fetch(`/api/messages/${c.id}`,{credentials:"include"});if(!g.ok)throw new Error("Failed to fetch messages");return g.json()},enabled:!!(c!=null&&c.id),refetchInterval:2e3}),h=kt({mutationFn:async g=>{if(!(c!=null&&c.id))throw new Error("No active conversation");return qe("POST","/api/messages",{conversationId:c.id,content:g.content,messageType:g.messageType||"text",fileUrl:g.fileUrl,fileName:g.fileName,fileSize:g.fileSize})},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/messages",c==null?void 0:c.id]}),o.invalidateQueries({queryKey:["/api/conversations"]}),r("")},onError:g=>{s({title:"Failed to send message",description:"Please try again or contact support.",variant:"destructive"})}}),p=kt({mutationFn:async g=>{const x=new FormData;x.append("file",g);const w=await fetch("/api/upload",{method:"POST",credentials:"include",body:x});if(!w.ok)throw new Error("Upload failed");return w.json()},onSuccess:g=>{const x=g.mimeType.startsWith("image/")?"image":"file",w=x==="image"?"Sent an image":`Sent a file: ${g.fileName}`;h.mutate({content:w,messageType:x,fileUrl:g.fileUrl,fileName:g.fileName,fileSize:g.fileSize})},onError:()=>{s({title:"Upload failed",description:"Failed to upload file. Please try again.",variant:"destructive"})}});S.useEffect(()=>{var g;(g=n.current)==null||g.scrollIntoView({behavior:"smooth"})},[d]);const y=()=>{t.trim()&&!h.isPending&&h.mutate({content:t.trim()})},m=g=>{var w;const x=(w=g.target.files)==null?void 0:w[0];if(x){if(x.size>10*1024*1024){s({title:"File too large",description:"Please select a file smaller than 10MB.",variant:"destructive"});return}p.mutate(x)}i.current&&(i.current.value="")},v=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),y())};return f?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary/20 border-t-primary rounded-full mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading chat..."})]})}):a.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[a.jsx("div",{className:"bg-card border-b border-border sticky top-0 z-10 backdrop-blur-lg",children:a.jsx("div",{className:"flex items-center justify-between p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>e("/support"),className:"p-2","data-testid":"button-back-support",children:a.jsx(ah,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(Qne,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"font-semibold text-lg",children:"Live Support"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Chat with our support team"})]})]})]})})}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx(ja,{className:"flex-1 px-4 py-6",children:a.jsxs("div",{className:"space-y-4 max-w-3xl mx-auto",children:[d.length===0?a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:a.jsx(ls,{className:"w-8 h-8 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Start a conversation"}),a.jsx("p",{className:"text-muted-foreground",children:"Send us a message and we'll get back to you as soon as possible."})]})]}):d.map((g,x)=>a.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.05},className:`flex ${g.senderType==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-xs lg:max-w-md px-3 py-2 rounded-lg text-sm ${g.senderType==="user"?"bg-primary text-primary-foreground":"bg-muted text-foreground"}`,children:[g.messageType==="image"&&g.fileUrl&&a.jsx("div",{className:"mb-2",children:a.jsx("img",{src:g.fileUrl.startsWith("http://")||g.fileUrl.startsWith("https://")||g.fileUrl.startsWith("/")?g.fileUrl:`/${g.fileUrl}`,alt:"Uploaded image",className:"max-w-full h-auto rounded cursor-pointer",onClick:()=>{const w=g.fileUrl.startsWith("http://")||g.fileUrl.startsWith("https://")||g.fileUrl.startsWith("/")?g.fileUrl:`/${g.fileUrl}`;window.open(w,"_blank")}})}),g.messageType==="video"&&g.fileUrl&&a.jsx("div",{className:"mb-2",children:a.jsxs("video",{controls:!0,className:"max-w-full h-auto rounded",style:{maxHeight:"250px"},children:[a.jsx("source",{src:g.fileUrl.startsWith("http://")||g.fileUrl.startsWith("https://")||g.fileUrl.startsWith("/")?g.fileUrl:`/${g.fileUrl}`,type:"video/mp4"}),"Your browser does not support the video tag."]})}),g.messageType==="file"&&g.fileUrl&&a.jsxs("div",{className:"flex items-center gap-2 mb-2 p-2 bg-black/10 rounded",children:[a.jsx(aM,{className:"w-4 h-4"}),a.jsx("a",{href:g.fileUrl.startsWith("http://")||g.fileUrl.startsWith("https://")||g.fileUrl.startsWith("/")?g.fileUrl:`/${g.fileUrl}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm underline hover:no-underline",children:g.fileName||"Download file"})]}),a.jsx("p",{children:g.content}),a.jsx("p",{className:"text-xs opacity-70 mt-1",children:Qr(new Date(g.createdAt),"HH:mm")})]})},g.id)),a.jsx("div",{ref:n})]})}),a.jsx("div",{className:"border-t border-border bg-card p-4",children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsx($e,{value:t,onChange:g=>r(g.target.value),onKeyDown:v,placeholder:"Type your message...",disabled:!(c!=null&&c.id)||h.isPending||p.isPending,className:"flex-1","data-testid":"input-message"}),a.jsx("input",{type:"file",ref:i,onChange:m,className:"hidden",accept:"image/*,application/pdf,.doc,.docx,.txt"}),a.jsx(ie,{variant:"outline",size:"sm",onClick:()=>{var g;return(g=i.current)==null?void 0:g.click()},disabled:!(c!=null&&c.id)||p.isPending,"data-testid":"button-upload",title:"Upload file or image",children:p.isPending?a.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):a.jsx(aM,{className:"w-4 h-4"})}),a.jsx(ie,{onClick:y,disabled:!t.trim()||!(c!=null&&c.id)||h.isPending||p.isPending,"data-testid":"button-send",children:h.isPending?a.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}):a.jsx("span",{className:"material-icons text-sm",children:"send"})})]}),h.isError&&a.jsx("p",{className:"text-xs text-red-500 mt-2",children:"Failed to send message. Please try again."})]})})]})]})}const obe=St.object({amount:St.string().min(1,"Amount is required").refine(e=>parseFloat(e)>=10,"Minimum deposit is $10"),currency:St.string().min(1,"Please select a currency"),paymentMethod:St.string().min(1,"Please select a payment method")});function lbe(){var d;const[,e]=Jt(),[t,r]=S.useState(""),{toast:n}=Et(),{user:i,refreshUser:s}=kr();S.useEffect(()=>{s()},[]);const o=Yo({resolver:Xo(obe),defaultValues:{amount:"",currency:"USD",paymentMethod:""}}),l=kt({mutationFn:async f=>{const p=await(await qe("POST","/api/deposit/initialize-payment",{userId:i==null?void 0:i.id,amount:f.amount,currency:f.currency})).json();return p.authorizationUrl&&(window.location.href=p.authorizationUrl),p},onError:f=>{n({title:"Payment Failed",description:f.message||"Unable to initialize payment. Please try again.",variant:"destructive"})}}),c=f=>{l.mutate(f)},u=[{id:"card",name:"Credit/Debit Card",icon:"credit_card",description:"Instant deposit with your card",fee:"2.9% + $0.30"},{id:"bank",name:"Bank Transfer",icon:"account_balance",description:"Direct bank transfer (3-5 business days)",fee:"Free"},{id:"paypal",name:"PayPal",icon:"account_balance_wallet",description:"Pay with your PayPal account",fee:"3.4% + $0.30"},{id:"crypto",name:"Cryptocurrency",icon:"currency_bitcoin",description:"Deposit with Bitcoin, Ethereum, or USDC",fee:"1% network fee"}];return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/dashboard"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors","data-testid":"button-back",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Add Money"})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-r from-primary/10 to-secondary/10 p-4 rounded-xl border border-primary/20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Balance"}),a.jsxs("p",{className:"text-2xl font-bold text-primary","data-testid":"text-current-balance",children:["$",Gt(parseFloat((i==null?void 0:i.balance)||"0"))]})]})}),a.jsx(to,{...o,children:a.jsxs("form",{onSubmit:o.handleSubmit(c),className:"space-y-6",children:[a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"How much would you like to add?"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[a.jsx(zt,{control:o.control,name:"currency",render:({field:f})=>a.jsx($t,{children:a.jsxs(Hr,{onValueChange:f.onChange,defaultValue:f.value,children:[a.jsx(qt,{children:a.jsx($r,{"data-testid":"select-currency",children:a.jsx(Kr,{})})}),a.jsxs(Br,{children:[a.jsx(nt,{value:"USD",children:"$ USD"}),a.jsx(nt,{value:"KES",children:"KSh KES"})]})]})})}),a.jsx("div",{className:"col-span-2",children:a.jsx(zt,{control:o.control,name:"amount",render:({field:f})=>a.jsxs($t,{children:[a.jsx(qt,{children:a.jsx($e,{...f,type:"number",step:"0.01",placeholder:"0.00",className:"text-lg","data-testid":"input-amount"})}),a.jsx(Yt,{})]})})})]}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:["50","100","250","500"].map(f=>a.jsxs(K.button,{type:"button",whileTap:{scale:.95},onClick:()=>o.setValue("amount",f),className:"p-3 border border-border rounded-lg hover:bg-muted transition-colors text-sm font-medium","data-testid":`quick-amount-${f}`,children:["$",f]},f))})]}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card rounded-xl border border-border elevation-1",children:[a.jsx("div",{className:"p-4 border-b border-border",children:a.jsx("h3",{className:"font-semibold",children:"Choose Payment Method"})}),a.jsx(zt,{control:o.control,name:"paymentMethod",render:({field:f})=>a.jsxs($t,{children:[a.jsx("div",{className:"divide-y divide-border",children:u.map(h=>a.jsxs(K.button,{type:"button",whileTap:{scale:.98},onClick:()=>{f.onChange(h.id),r(h.id)},className:`w-full p-4 flex items-center text-left transition-colors ${f.value===h.id?"bg-primary/5 border-r-2 border-primary":"hover:bg-muted"}`,"data-testid":`payment-method-${h.id}`,children:[a.jsx("div",{className:"w-12 h-12 bg-muted rounded-xl flex items-center justify-center mr-4",children:a.jsx("span",{className:"material-icons text-muted-foreground",children:h.icon})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:h.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:h.description}),a.jsxs("p",{className:"text-xs text-primary font-medium mt-1",children:["Fee: ",h.fee]})]}),f.value===h.id&&a.jsx("span",{className:"material-icons text-primary",children:"check_circle"})]},h.id))}),a.jsx(Yt,{})]})})]}),t==="card"&&a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Card Details"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx($e,{placeholder:"Card Number","data-testid":"input-card-number"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx($e,{placeholder:"MM/YY","data-testid":"input-expiry"}),a.jsx($e,{placeholder:"CVV","data-testid":"input-cvv"})]}),a.jsx($e,{placeholder:"Cardholder Name","data-testid":"input-cardholder"})]})]}),t==="bank"&&a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Bank Transfer Details"}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[a.jsx("p",{className:"font-medium",children:"Bank: GreenPay Bank"}),a.jsx("p",{children:"Account: 1234567890"}),a.jsx("p",{children:"Routing: 021000021"}),a.jsxs("p",{children:["Reference: GP-",(d=i==null?void 0:i.id)==null?void 0:d.slice(-8)]})]}),a.jsx("p",{className:"text-muted-foreground",children:"Transfer funds to the account above and include the reference number. Processing time: 3-5 business days."})]})]}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Transaction Summary"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Amount"}),a.jsxs("span",{className:"font-medium",children:["$",o.watch("amount")||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Fee"}),a.jsx("span",{className:"font-medium",children:t==="bank"?"Free":t==="card"?"$2.99":t==="paypal"?"$3.49":t==="crypto"?"$1.50":"TBD"})]}),a.jsx("hr",{className:"border-border"}),a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["$",t==="bank"?o.watch("amount")||"0.00":t&&o.watch("amount")?Gt(parseFloat(o.watch("amount"))+2.99):"0.00"]})]})]})]}),a.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:a.jsx(ie,{type:"submit",className:"w-full ripple",disabled:l.isPending,"data-testid":"button-confirm-deposit",children:l.isPending?"Processing...":`Add $${o.watch("amount")||"0.00"}`})})]})})]})]})}const cbe=St.object({amount:St.string().min(1,"Amount is required").refine(e=>parseFloat(e)>=100,"Minimum withdrawal is KSh 100"),currency:St.string().min(1,"Please select a currency"),withdrawMethod:St.string().min(1,"Please select a withdrawal method"),accountDetails:St.object({bankName:St.string().optional(),accountNumber:St.string().optional(),accountName:St.string().optional(),phoneNumber:St.string().optional(),country:St.string().optional()})});function ube(){var p;const[,e]=Jt(),[t,r]=S.useState(""),{toast:n}=Et(),{user:i}=kr(),s=parseFloat((i==null?void 0:i.kesBalance)||"0"),o=parseFloat((i==null?void 0:i.balance)||"0"),l=Yo({resolver:Xo(cbe),defaultValues:{amount:"",currency:"KES",withdrawMethod:"",accountDetails:{bankName:"",accountNumber:"",accountName:"",phoneNumber:"",country:""}}}),c=kt({mutationFn:async y=>(await qe("POST","/api/transactions",{userId:i==null?void 0:i.id,type:"withdraw",amount:y.amount,currency:y.currency,description:`Withdrawal via ${y.withdrawMethod}`,fee:"2.99",recipientDetails:y.accountDetails})).json(),onSuccess:y=>{n({title:"Withdrawal Request Submitted!",description:y.message||"Your withdrawal request is being reviewed and will be processed within 1-3 business days."}),l.reset(),e("/dashboard")},onError:y=>{var v,g;const m=((g=(v=y==null?void 0:y.response)==null?void 0:v.data)==null?void 0:g.message)||"Unable to process withdrawal. Please try again.";n({title:"Withdrawal failed",description:m,variant:"destructive"})}}),u=y=>{c.mutate(y)},d=[{id:"bank-transfer",name:"Bank Transfer",icon:"account_balance",description:"Direct transfer to your bank account",fee:"KSh 300",processingTime:"1-3 business days",countries:["Nigeria","Ghana","Kenya","South Africa","Uganda"]},{id:"mobile-money",name:"Mobile Money",icon:"phone_android",description:"M-Pesa, Airtel Money, MTN Mobile Money",fee:"KSh 200",processingTime:"Within 30 minutes",countries:["Kenya","Uganda","Tanzania","Rwanda","Cameroon"]},{id:"local-bank",name:"Local Bank Account",icon:"account_balance_wallet",description:"Direct deposit to local African banks",fee:"KSh 400",processingTime:"2-4 hours",countries:["Nigeria","Ghana","Kenya","South Africa","Egypt"]}],f=[{code:"NG",name:"Nigeria",flag:""},{code:"GH",name:"Ghana",flag:""},{code:"KE",name:"Kenya",flag:""},{code:"ZA",name:"South Africa",flag:""},{code:"UG",name:"Uganda",flag:""},{code:"TZ",name:"Tanzania",flag:""},{code:"RW",name:"Rwanda",flag:""},{code:"ET",name:"Ethiopia",flag:""},{code:"CM",name:"Cameroon",flag:""},{code:"SN",name:"Senegal",flag:""}],h=()=>{const y=d.find(m=>m.id===t);return(y==null?void 0:y.fee)||"KSh 2.99"};return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/dashboard"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors","data-testid":"button-back",children:"arrow_back"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-semibold",children:"Withdraw Money"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin limit: Up to 100k"})]})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-r from-primary/10 to-secondary/10 p-4 rounded-xl border border-primary/20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Available for Withdrawal (KES)"}),a.jsxs("p",{className:"text-2xl font-bold text-primary","data-testid":"text-available-balance",children:["KSh ",Gt(s)]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s<100&&o>0&&a.jsx("span",{className:"text-amber-600",children:"Convert USD to KES to withdraw  "}),"Real-time Balance"]})]})}),s<100&&o>0&&a.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 p-4 rounded-xl",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"material-icons text-blue-600 mr-3 mt-0.5",children:"info"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-200 text-sm mb-1",children:"Convert USD to KES First"}),a.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300 mb-2",children:["Withdrawals require KES balance. You have $USD ",Gt(o)," available to convert."]}),a.jsx(ie,{type:"button",size:"sm",onClick:()=>e("/exchange"),className:"bg-blue-600 hover:bg-blue-700 text-white text-xs",children:"Convert to KES"})]})]})}),a.jsx(to,{...l,children:a.jsxs("form",{onSubmit:l.handleSubmit(u),className:"space-y-6",children:[a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"How much would you like to withdraw?"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[a.jsx(zt,{control:l.control,name:"currency",render:({field:y})=>a.jsx($t,{children:a.jsxs(Hr,{onValueChange:y.onChange,defaultValue:y.value,children:[a.jsx(qt,{children:a.jsx($r,{"data-testid":"select-currency",children:a.jsx(Kr,{})})}),a.jsx(Br,{children:hW.slice(0,3).map(m=>a.jsxs(nt,{value:m.code,children:[m.symbol," ",m.code]},m.code))})]})})}),a.jsx("div",{className:"col-span-2",children:a.jsx(zt,{control:l.control,name:"amount",render:({field:y})=>a.jsxs($t,{children:[a.jsx(qt,{children:a.jsx($e,{...y,type:"number",step:"0.01",placeholder:"0.00",className:"text-lg","data-testid":"input-amount"})}),a.jsx(Yt,{})]})})})]}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:["50","100","250","500"].map(y=>a.jsxs(K.button,{type:"button",whileTap:{scale:.95},onClick:()=>l.setValue("amount",y),className:"p-3 border border-border rounded-lg hover:bg-muted transition-colors text-sm font-medium","data-testid":`quick-amount-${y}`,children:["KSh ",y]},y))})]}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card rounded-xl border border-border elevation-1",children:[a.jsxs("div",{className:"p-4 border-b border-border",children:[a.jsx("h3",{className:"font-semibold",children:"Choose Withdrawal Method"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Available in African countries"})]}),a.jsx(zt,{control:l.control,name:"withdrawMethod",render:({field:y})=>a.jsxs($t,{children:[a.jsx("div",{className:"divide-y divide-border",children:d.map(m=>a.jsxs(K.button,{type:"button",whileTap:{scale:.98},onClick:()=>{y.onChange(m.id),r(m.id)},className:`w-full p-4 flex items-center text-left transition-colors ${y.value===m.id?"bg-primary/5 border-r-2 border-primary":"hover:bg-muted"}`,"data-testid":`withdraw-method-${m.id}`,children:[a.jsx("div",{className:"w-12 h-12 bg-muted rounded-xl flex items-center justify-center mr-4",children:a.jsx("span",{className:"material-icons text-muted-foreground",children:m.icon})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"font-medium",children:m.name}),a.jsx("span",{className:"text-xs text-primary bg-primary/10 px-2 py-1 rounded-full",children:m.fee})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:m.description}),a.jsx("p",{className:"text-xs text-accent font-medium mt-1",children:m.processingTime})]}),y.value===m.id&&a.jsx("span",{className:"material-icons text-primary ml-2",children:"check_circle"})]},m.id))}),a.jsx(Yt,{})]})})]}),t&&a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[a.jsx("h3",{className:"font-semibold mb-4",children:t==="mobile-money"?"Mobile Money Details":t==="bank-transfer"?"Bank Account Details":t==="western-union"?"Recipient Details":"Account Details"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(zt,{control:l.control,name:"accountDetails.country",render:({field:y})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Country"}),a.jsxs(Hr,{onValueChange:y.onChange,defaultValue:y.value,children:[a.jsx(qt,{children:a.jsx($r,{"data-testid":"select-country",children:a.jsx(Kr,{placeholder:"Select destination country"})})}),a.jsx(Br,{children:f.map(m=>a.jsxs(nt,{value:m.name,children:[m.flag," ",m.name]},m.code))})]}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:l.control,name:"accountDetails.accountName",render:({field:y})=>a.jsxs($t,{children:[a.jsx(hr,{children:t==="mobile-money"?"Account Holder Name":t==="western-union"?"Recipient Name":"Account Holder Name"}),a.jsx(qt,{children:a.jsx($e,{...y,placeholder:"Enter full name as it appears on account","data-testid":"input-account-name"})}),a.jsx(Yt,{})]})}),t==="mobile-money"&&a.jsx(zt,{control:l.control,name:"accountDetails.phoneNumber",render:({field:y})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Mobile Money Number"}),a.jsx(qt,{children:a.jsx($e,{...y,type:"tel",placeholder:"e.g., +254712345678","data-testid":"input-mobile-number"})}),a.jsx(Yt,{})]})}),(t==="bank-transfer"||t==="local-bank")&&a.jsxs(a.Fragment,{children:[a.jsx(zt,{control:l.control,name:"accountDetails.bankName",render:({field:y})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Bank Name"}),a.jsx(qt,{children:a.jsx($e,{...y,placeholder:"e.g., GTBank, Equity Bank, Standard Bank","data-testid":"input-bank-name"})}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:l.control,name:"accountDetails.accountNumber",render:({field:y})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Account Number"}),a.jsx(qt,{children:a.jsx($e,{...y,placeholder:"Enter bank account number","data-testid":"input-account-number"})}),a.jsx(Yt,{})]})})]}),t==="western-union"&&a.jsx(zt,{control:l.control,name:"accountDetails.phoneNumber",render:({field:y})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Recipient Phone Number"}),a.jsx(qt,{children:a.jsx($e,{...y,type:"tel",placeholder:"Phone number for pickup notification","data-testid":"input-recipient-phone"})}),a.jsx(Yt,{})]})})]})]}),a.jsx(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-accent/10 p-4 rounded-xl border border-accent/20",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"material-icons text-accent mr-3 mt-0.5",children:"info"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-accent mb-1",children:"Important Information"}),a.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[a.jsx("li",{children:" Ensure all account details are correct to avoid delays"}),a.jsx("li",{children:" Withdrawals cannot be cancelled once processed"}),a.jsx("li",{children:" You may be contacted for verification purposes"}),a.jsx("li",{children:" Exchange rates are locked at the time of withdrawal"})]})]})]})}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Transaction Summary"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Withdrawal Amount"}),a.jsxs("span",{className:"font-medium",children:["KSh ",l.watch("amount")||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Processing Fee"}),a.jsx("span",{className:"font-medium",children:h()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Exchange Rate"}),a.jsx("span",{className:"font-medium",children:"1 USD = 129 KES"})]}),t&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Processing Time"}),a.jsx("span",{className:"font-medium text-accent",children:(p=d.find(y=>y.id===t))==null?void 0:p.processingTime})]}),a.jsx("hr",{className:"border-border"}),a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{children:"You Receive"}),a.jsxs("span",{className:"text-primary",children:["KSh ",l.watch("amount")?Gt(parseFloat(l.watch("amount"))-parseFloat(h().replace("KSh ",""))):"0.00"]})]})]})]}),a.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:a.jsx(ie,{type:"submit",className:"w-full ripple",disabled:c.isPending||!t,"data-testid":"button-confirm-withdrawal",children:c.isPending?"Processing...":`Withdraw KSh ${l.watch("amount")||"0.00"}`})})]})})]})]})}function dbe(){const e=Jr(),{user:t}=kr(),{toast:r}=Et();return kt({mutationFn:async n=>(await qe("POST","/api/exchange/convert",{userId:t==null?void 0:t.id,...n})).json(),onSuccess:n=>{e.invalidateQueries({queryKey:["transactions",t==null?void 0:t.id]}),r({title:"Currency Exchanged",description:`Successfully converted ${n.transaction.amount} ${n.transaction.currency} to ${n.convertedAmount} ${n.transaction.metadata.targetCurrency}`})},onError:n=>{r({title:"Exchange Failed",description:n.message||"Unable to process currency exchange",variant:"destructive"})}})}function fbe(){var N;const[,e]=Jt(),[t,r]=S.useState(""),[n,i]=S.useState("USD"),[s,o]=S.useState("KES"),{user:l}=kr(),{toast:c}=Et(),{data:u}=vW(n),d=dbe(),f=[{code:"USD",name:"US Dollar",symbol:"$",flag:""},{code:"KES",name:"Kenyan Shilling",symbol:"KSh",flag:""}],h=((N=u==null?void 0:u.rates)==null?void 0:N[s])||1,p=t?parseFloat(t):0,y=p*h,m=p*.015,v=p+m,g=p?Gt(y):"0.00",x=p?Gt(m):"0.00",w=p?Gt(v):"0.00",j=()=>{if(!t||parseFloat(t)<=0){c({title:"Invalid Amount",description:"Please enter a valid amount to exchange",variant:"destructive"});return}if(!(l!=null&&l.hasVirtualCard)){c({title:"Virtual Card Required",description:"You need a virtual card to perform currency exchanges",variant:"destructive"});return}d.mutate({amount:t,fromCurrency:n,toCurrency:s},{onSuccess:()=>{r("")}})};return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/dashboard"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors","data-testid":"button-back",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Currency Exchange"})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 p-4 rounded-xl border border-blue-200 dark:border-blue-800",children:[a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mb-1",children:"USD Balance"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:["$",Gt(parseFloat((l==null?void 0:l.balance)||"0"))]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 p-4 rounded-xl border border-green-200 dark:border-green-800",children:[a.jsx("p",{className:"text-xs text-green-700 dark:text-green-300 mb-1",children:"KES Balance"}),a.jsxs("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:["KSh ",Gt(parseFloat((l==null?void 0:l.kesBalance)||"0"))]})]})]}),a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-card p-4 rounded-xl border border-border",children:[a.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Quick Convert to KES"}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:[5,10,20,50].map(P=>a.jsxs("button",{onClick:()=>{r(P.toString()),i("USD"),o("KES")},className:"bg-primary/10 hover:bg-primary/20 text-primary py-2 px-3 rounded-lg text-sm font-semibold transition-colors",children:["$",P]},P))}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:" Tip: Convert USD to KES to buy airtime and withdraw"})]}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card p-6 rounded-xl border border-border elevation-1",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Exchange Currency"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"You pay"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx($e,{type:"number",placeholder:"0.00",value:t,onChange:P=>r(P.target.value),className:"flex-1","data-testid":"input-amount"}),a.jsxs(Hr,{value:n,onValueChange:i,children:[a.jsx($r,{className:"w-32",children:a.jsx(Kr,{})}),a.jsx(Br,{children:f.map(P=>a.jsx(nt,{value:P.code,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:P.flag}),a.jsx("span",{children:P.code})]})},P.code))})]})]})]}),a.jsx("div",{className:"text-center py-2",children:a.jsxs("div",{className:"flex items-center justify-center text-sm text-muted-foreground",children:[a.jsx("span",{className:"material-icons mr-1 text-sm",children:"sync_alt"}),"1 ",n," = ",h.toFixed(4)," ",s]})}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"You receive"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx($e,{value:g,disabled:!0,className:"flex-1 bg-muted/50","data-testid":"text-converted-amount"}),a.jsxs(Hr,{value:s,onValueChange:o,children:[a.jsx($r,{className:"w-32",children:a.jsx(Kr,{})}),a.jsx(Br,{children:f.map(P=>a.jsx(nt,{value:P.code,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:P.flag}),a.jsx("span",{children:P.code})]})},P.code))})]})]})]})]})]}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Exchange breakdown"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Exchange amount"}),a.jsxs("span",{children:[t||"0.00"," ",n]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Exchange fee (1.5%)"}),a.jsxs("span",{children:[x," ",n]})]}),a.jsx("div",{className:"border-t border-border pt-2 mt-2",children:a.jsxs("div",{className:"flex justify-between font-medium",children:[a.jsx("span",{children:"Total deducted"}),a.jsxs("span",{children:[w," ",n]})]})}),a.jsx("div",{className:"bg-green-50 dark:bg-green-950 p-2 rounded text-green-700 dark:text-green-300",children:a.jsxs("div",{className:"flex justify-between font-medium",children:[a.jsx("span",{children:"You will receive"}),a.jsxs("span",{children:[g," ",s]})]})})]})]}),a.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsx(ie,{onClick:j,className:"w-full",disabled:!t||parseFloat(t)<=0||d.isPending,"data-testid":"button-exchange",children:d.isPending?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processing Exchange..."]}):"Exchange Currency"})}),a.jsxs(K.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium",children:"Recent Exchanges"}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>e("/transactions"),className:"text-primary hover:text-primary",children:"View All"})]}),a.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[a.jsx("span",{className:"material-icons text-3xl mb-2",children:"swap_horiz"}),a.jsx("p",{className:"text-sm",children:"No recent exchanges"}),a.jsx("p",{className:"text-xs",children:"Your currency exchanges will appear here"})]})]})]})]})}var yT="Progress",vT=100,[hbe,vUe]=js(yT),[pbe,mbe]=hbe(yT),TK=S.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=gbe,...o}=e;(i||i===0)&&!V8(i)&&console.error(xbe(`${i}`,"Progress"));const l=V8(i)?i:vT;n!==null&&!q8(n,l)&&console.error(ybe(`${n}`,"Progress"));const c=q8(n,l)?n:null,u=d2(c)?s(c,l):void 0;return a.jsx(pbe,{scope:r,value:c,max:l,children:a.jsx(Tt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":d2(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":MK(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});TK.displayName=yT;var EK="ProgressIndicator",OK=S.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=mbe(EK,r);return a.jsx(Tt.div,{"data-state":MK(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});OK.displayName=EK;function gbe(e,t){return`${Math.round(e/t*100)}%`}function MK(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function d2(e){return typeof e=="number"}function V8(e){return d2(e)&&!isNaN(e)&&e>0}function q8(e,t){return d2(e)&&!isNaN(e)&&e<=t&&e>=0}function xbe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${vT}\`.`}function ybe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${vT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var LK=TK,vbe=OK;const IK=S.forwardRef(({className:e,value:t,...r},n)=>a.jsx(LK,{ref:n,className:_t("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(vbe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));IK.displayName=LK.displayName;function bbe(){var g;const[,e]=Jt(),{user:t,login:r}=kr(),{toast:n}=Et(),i=Jr(),[s,o]=S.useState(1),[l,c]=S.useState({documentType:"national_id",dateOfBirth:"",address:"",frontImage:null,backImage:null,selfie:null}),{data:u,isLoading:d}=Xt({queryKey:["/api/kyc",t==null?void 0:t.id],enabled:!!(t!=null&&t.id)}),f=kt({mutationFn:async x=>{const w=await fetch("/api/kyc/submit",{method:"POST",body:x});if(!w.ok){const j=await w.json();throw new Error(j.message||"Failed to submit KYC")}return w.json()},onSuccess:x=>{t&&r({...t,kycStatus:"pending"}),i.invalidateQueries({queryKey:["/api/kyc",t==null?void 0:t.id]}),n({title:"KYC Submitted Successfully!",description:"Your documents have been submitted for review. You will be notified once verified."}),e("/dashboard")},onError:x=>{n({title:"KYC Submission Failed",description:x.message||"Unable to submit KYC documents",variant:"destructive"})}}),h=(x,w)=>{c({...l,[x]:w})},p=()=>{if(!l.dateOfBirth||!l.address){n({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});return}if(!l.frontImage||!l.backImage||!l.selfie){n({title:"Missing Documents",description:"Please upload all required documents: front of document, back of document, and selfie",variant:"destructive"});return}const x=new FormData;x.append("userId",(t==null?void 0:t.id)||""),x.append("documentType",l.documentType),x.append("dateOfBirth",l.dateOfBirth),x.append("address",l.address),x.append("frontImage",l.frontImage),x.append("backImage",l.backImage),x.append("selfie",l.selfie),f.mutate(x)},y=()=>{if(s===2&&(!l.frontImage||!l.backImage)){n({title:"Missing Documents",description:"Please upload both front and back of your document before continuing",variant:"destructive"});return}s<3&&o(s+1)},m=()=>{s>1&&o(s-1)};if(d)return a.jsx("div",{className:"min-h-screen bg-background pb-20 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading KYC status..."})]})});if((t==null?void 0:t.kycStatus)==="verified")return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/settings"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Identity Verification"})]}),a.jsxs("div",{className:"p-6 flex flex-col items-center justify-center min-h-[60vh]",children:[a.jsx(K.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mb-6",children:a.jsx("span",{className:"material-icons text-4xl text-green-600",children:"verified_user"})}),a.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Identity Verified!"}),a.jsx("p",{className:"text-muted-foreground text-center mb-8 max-w-sm",children:"Your identity has been successfully verified. You now have full access to all GreenPay features."}),a.jsx(ie,{onClick:()=>e("/dashboard"),className:"px-8",children:"Continue to Dashboard"})]})]});if(u!=null&&u.kyc&&(t==null?void 0:t.kycStatus)==="pending")return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/settings"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Identity Verification"})]}),a.jsxs("div",{className:"p-6 flex flex-col items-center justify-center min-h-[60vh]",children:[a.jsx(K.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mb-6",children:a.jsx("span",{className:"material-icons text-4xl text-blue-600",children:"hourglass_empty"})}),a.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Documents Under Review"}),a.jsx("p",{className:"text-muted-foreground text-center mb-8 max-w-sm",children:"Your KYC documents have been submitted and are currently under review. You'll be notified once the verification is complete."}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 p-4 rounded-lg mb-6 max-w-sm w-full",children:[a.jsxs("h3",{className:"font-medium text-blue-800 dark:text-blue-100 mb-2 flex items-center",children:[a.jsx("span",{className:"material-icons text-sm mr-2",children:"info"}),"What happens next?"]}),a.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[a.jsx("li",{children:" Our team will review your documents"}),a.jsx("li",{children:" Verification typically takes 1-2 business days"}),a.jsx("li",{children:" You'll receive an email notification"}),a.jsx("li",{children:" Cannot resubmit while review is pending"})]})]}),a.jsxs("div",{className:"flex gap-3 w-full max-w-sm",children:[a.jsx(ie,{onClick:()=>e("/settings"),variant:"outline",className:"flex-1",children:"Back to Settings"}),a.jsx(ie,{onClick:()=>e("/dashboard"),className:"flex-1",children:"Dashboard"})]})]})]});const v=(u==null?void 0:u.kyc)&&(t==null?void 0:t.kycStatus)==="rejected";return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/settings"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors","data-testid":"button-back",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Identity Verification"})]}),a.jsxs("div",{className:"p-6",children:[v&&a.jsx(K.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-4 rounded-xl mb-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"material-icons text-red-600 mr-3 mt-0.5",children:"error_outline"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-red-900 dark:text-red-200 mb-1",children:"Previous Verification Unsuccessful"}),a.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mb-2",children:((g=u==null?void 0:u.kyc)==null?void 0:g.rejectionReason)||"Your previous documents did not meet verification requirements. Please ensure they are clear and valid."}),a.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:"Please resubmit new documents below"})]})]})}),a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Step ",s," of 3"]}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(s/3*100),"%"]})]}),a.jsx(IK,{value:s/3*100,className:"h-2"})]}),s===1&&a.jsxs(K.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-6",children:[a.jsxs("div",{className:"bg-card p-6 rounded-xl border border-border elevation-1",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Personal Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"documentType",children:"Document Type"}),a.jsxs(Hr,{value:l.documentType,onValueChange:x=>c({...l,documentType:x}),children:[a.jsx($r,{"data-testid":"select-document-type",children:a.jsx(Kr,{})}),a.jsxs(Br,{children:[a.jsx(nt,{value:"national_id",children:"National ID"}),a.jsx(nt,{value:"passport",children:"Passport"}),a.jsx(nt,{value:"drivers_license",children:"Driver's License"})]})]})]}),a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"dateOfBirth",children:"Date of Birth"}),a.jsx($e,{id:"dateOfBirth",type:"date",value:l.dateOfBirth,onChange:x=>c({...l,dateOfBirth:x.target.value}),"data-testid":"input-date-of-birth"})]}),a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"address",children:"Home Address"}),a.jsx(ys,{id:"address",placeholder:"Enter your full address",value:l.address,onChange:x=>c({...l,address:x.target.value}),"data-testid":"textarea-address"})]})]})]}),a.jsx(ie,{onClick:y,className:"w-full","data-testid":"button-next-step1",children:"Continue"})]}),s===2&&a.jsxs(K.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-6",children:[a.jsxs("div",{className:"bg-card p-6 rounded-xl border border-border elevation-1",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Document Upload"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(Ge,{children:"Front of Document"}),a.jsx("div",{className:"mt-2 border-2 border-dashed border-muted rounded-lg p-6 text-center",children:l.frontImage?a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"material-icons text-4xl text-green-500",children:"check_circle"}),a.jsx("p",{className:"text-sm font-medium",children:l.frontImage.name}),a.jsx(ie,{variant:"outline",size:"sm",onClick:()=>h("frontImage",null),children:"Remove"})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"material-icons text-4xl text-muted-foreground",children:"cloud_upload"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload front of your document"}),a.jsx("input",{type:"file",accept:"image/*",onChange:x=>{var w;return h("frontImage",((w=x.target.files)==null?void 0:w[0])||null)},className:"hidden",id:"front-upload"}),a.jsx(ie,{variant:"outline",asChild:!0,children:a.jsx("label",{htmlFor:"front-upload","data-testid":"button-upload-front",children:"Choose File"})})]})})]}),a.jsxs("div",{children:[a.jsx(Ge,{children:"Back of Document"}),a.jsx("div",{className:"mt-2 border-2 border-dashed border-muted rounded-lg p-6 text-center",children:l.backImage?a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"material-icons text-4xl text-green-500",children:"check_circle"}),a.jsx("p",{className:"text-sm font-medium",children:l.backImage.name}),a.jsx(ie,{variant:"outline",size:"sm",onClick:()=>h("backImage",null),children:"Remove"})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"material-icons text-4xl text-muted-foreground",children:"cloud_upload"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload back of your document"}),a.jsx("input",{type:"file",accept:"image/*",onChange:x=>{var w;return h("backImage",((w=x.target.files)==null?void 0:w[0])||null)},className:"hidden",id:"back-upload"}),a.jsx(ie,{variant:"outline",asChild:!0,children:a.jsx("label",{htmlFor:"back-upload","data-testid":"button-upload-back",children:"Choose File"})})]})})]})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx(ie,{variant:"outline",onClick:m,className:"flex-1",children:"Back"}),a.jsx(ie,{onClick:y,className:"flex-1","data-testid":"button-next-step2",children:"Continue"})]})]}),s===3&&a.jsxs(K.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-6",children:[a.jsxs("div",{className:"bg-card p-6 rounded-xl border border-border elevation-1",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Selfie Verification"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx(Ge,{children:"Take a Selfie"}),a.jsx("div",{className:"mt-2 border-2 border-dashed border-muted rounded-lg p-6 text-center",children:l.selfie?a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"material-icons text-4xl text-green-500",children:"check_circle"}),a.jsx("p",{className:"text-sm font-medium",children:l.selfie.name}),a.jsx(ie,{variant:"outline",size:"sm",onClick:()=>h("selfie",null),children:"Retake"})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"material-icons text-4xl text-muted-foreground",children:"face"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Take a clear photo of yourself"}),a.jsx("input",{type:"file",accept:"image/*",onChange:x=>{var w;return h("selfie",((w=x.target.files)==null?void 0:w[0])||null)},className:"hidden",id:"selfie-upload"}),a.jsx(ie,{variant:"outline",asChild:!0,children:a.jsx("label",{htmlFor:"selfie-upload","data-testid":"button-upload-selfie",children:"Take Selfie"})})]})})]})})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"material-icons text-blue-600 mr-2 mt-1",children:"security"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-blue-800",children:"Verification Process"}),a.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Your documents will be securely reviewed by our verification team. You'll receive a notification once the review is complete."})]})]})}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx(ie,{variant:"outline",onClick:m,className:"flex-1",children:"Back"}),a.jsx(ie,{onClick:p,className:"flex-1",disabled:f.isPending,"data-testid":"button-submit-kyc",children:f.isPending?"Verifying...":"Submit for Verification"})]})]})]})]})}const wbe=St.object({phoneNumber:St.string().min(10,"Phone number must be at least 10 digits").regex(/^[0-9+]+$/,"Invalid phone number format"),amount:St.string().min(1,"Amount is required").refine(e=>{const t=parseFloat(e);return t>=5&&t<=1e4},"Amount must be between KSh 5 and KSh 10,000"),currency:St.string().min(1,"Please select a currency"),provider:St.string().min(1,"Please select a provider")});function jbe(){const[,e]=Jt(),{toast:t}=Et(),{user:r,refreshUser:n}=kr(),i=Jr(),[s,o]=S.useState(""),l=Yo({resolver:Xo(wbe),defaultValues:{phoneNumber:"",amount:"",currency:"KES",provider:""}}),c=[{id:"safaricom",name:"Safaricom",logo:"",color:"from-green-500 to-green-600"},{id:"airtel",name:"Airtel",logo:"",color:"from-red-500 to-red-600"},{id:"telkom",name:"Telkom",logo:"",color:"from-blue-500 to-blue-600"}],u=[{label:"KSh 5",value:"5"},{label:"KSh 10",value:"10"},{label:"KSh 20",value:"20"},{label:"KSh 50",value:"50"},{label:"KSh 100",value:"100"},{label:"KSh 200",value:"200"}],d=kt({mutationFn:async h=>(await qe("POST","/api/airtime/purchase",{userId:r==null?void 0:r.id,...h})).json(),onSuccess:()=>{t({title:"Airtime Purchased!",description:"Your airtime has been sent successfully."}),l.reset(),n(),i.invalidateQueries({queryKey:["/api/transactions",r==null?void 0:r.id]})},onError:h=>{t({title:"Purchase Failed",description:h.message||"Unable to purchase airtime. Please try again.",variant:"destructive"})}}),f=h=>{const p=parseFloat((r==null?void 0:r.kesBalance)||"0"),y=parseFloat(h.amount);if(p<y){t({title:"Insufficient KES Balance",description:"Please convert USD to KES in the Exchange page to buy airtime",variant:"destructive"});return}d.mutate(h)};return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-600 via-green-500 to-emerald-500 p-8 text-white relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/5 rounded-full -mr-20 -mt-20 blur-3xl"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/5 rounded-full -ml-16 -mb-16 blur-3xl"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/dashboard"),className:"mr-3",children:a.jsx("span",{className:"material-icons",children:"arrow_back"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-xl font-bold flex items-center",children:"Buy Airtime"}),a.jsx("p",{className:"text-sm text-white/80",children:"Instant mobile top-up"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[a.jsx(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-white/15 to-white/10 backdrop-blur-md rounded-2xl p-5 border border-white/20 shadow-xl hover:bg-white/20 transition-all",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs text-white/80 font-medium mb-2 flex items-center gap-1",children:[a.jsx(lie,{className:"w-3.5 h-3.5"}),"Available KES Balance"]}),a.jsxs(K.p,{initial:{scale:.8},animate:{scale:1},transition:{delay:.3},className:"text-4xl font-bold",children:["KSh ",parseFloat((r==null?void 0:r.kesBalance)||"0").toFixed(2)]}),a.jsx("p",{className:"text-xs text-white/70 mt-2",children:"Ready to purchase airtime"})]}),a.jsx(K.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"p-3 bg-white/10 rounded-full",children:a.jsx(uv,{className:"w-6 h-6 text-white/80"})})]})}),a.jsx(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-gradient-to-br from-white/15 to-white/10 backdrop-blur-md rounded-2xl p-5 border border-white/20 shadow-xl",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(Vo,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-white/70",children:"Delivery"}),a.jsx("p",{className:"text-sm font-bold",children:"Instant"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(Dj,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-white/70",children:"All Networks"}),a.jsx("p",{className:"text-sm font-bold",children:"3+ Providers"})]})]})]})})]})]})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[a.jsxs("h2",{className:"text-lg font-semibold mb-3 flex items-center",children:[a.jsx(Fj,{className:"w-5 h-5 mr-2 text-primary"}),"Select Network"]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:c.map(h=>a.jsxs(K.button,{whileTap:{scale:.95},onClick:()=>{o(h.id),l.setValue("provider",h.id)},className:`p-4 rounded-xl border-2 transition-all ${s===h.id?"border-primary bg-primary/5":"border-border bg-card hover:border-primary/50"}`,children:[a.jsx("div",{className:`text-3xl mb-2 bg-gradient-to-br ${h.color} bg-clip-text text-transparent`,children:h.logo}),a.jsx("p",{className:"text-xs font-medium",children:h.name})]},h.id))})]}),a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[a.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Quick Select"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:u.map(h=>a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>l.setValue("amount",h.value),className:"p-3 rounded-xl border border-border bg-card hover:border-primary hover:bg-primary/5 transition-all",children:a.jsx("p",{className:"text-sm font-semibold",children:h.label})},h.value))})]}),a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card rounded-xl border border-border p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Purchase Details"}),a.jsx(to,{...l,children:a.jsxs("form",{onSubmit:l.handleSubmit(f),className:"space-y-4",children:[a.jsx(zt,{control:l.control,name:"phoneNumber",render:({field:h})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Phone Number"}),a.jsx(qt,{children:a.jsx($e,{placeholder:"0712345678",...h,className:"text-base"})}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:l.control,name:"amount",render:({field:h})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Amount (KSh)"}),a.jsx(qt,{children:a.jsx($e,{type:"number",step:"1",placeholder:"50",...h,className:"text-base"})}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:l.control,name:"currency",render:({field:h})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Currency"}),a.jsxs(Hr,{onValueChange:h.onChange,defaultValue:h.value,disabled:!0,children:[a.jsx(qt,{children:a.jsx($r,{children:a.jsx(Kr,{placeholder:"KES - Kenyan Shilling"})})}),a.jsx(Br,{children:a.jsx(nt,{value:"KES",children:"KES - Kenyan Shilling"})})]}),a.jsx(Yt,{})]})}),a.jsx(ie,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90",disabled:d.isPending,children:d.isPending?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"material-icons animate-spin mr-2",children:"refresh"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"material-icons mr-2",children:"smartphone"}),"Purchase Airtime"]})})]})})]}),a.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"material-icons text-blue-600 mr-2",children:"info"}),a.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[a.jsx("p",{className:"font-medium mb-1",children:"Quick & Easy"}),a.jsx("p",{className:"text-xs",children:"Airtime will be delivered instantly to the number provided. Make sure the phone number and network provider are correct."})]})]})})]})]})}const N_=[{id:"KPLC",name:"KPLC",label:"KPLC (Electricity)",icon:"",color:"from-yellow-500 to-yellow-600",needsId:"meterNumber"},{id:"Zuku",name:"Zuku",label:"Zuku (Cable TV)",icon:"",color:"from-purple-500 to-purple-600",needsId:"accountNumber"},{id:"StarimesTV",name:"StarimesTV",label:"StarimesTV (Cable)",icon:"",color:"from-orange-500 to-orange-600",needsId:"accountNumber"},{id:"Nairobi_Water",name:"Nairobi Water",label:"Nairobi Water",icon:"",color:"from-blue-500 to-blue-600",needsId:"meterNumber"},{id:"Kenya_Power",name:"Kenya Power",label:"Kenya Power",icon:"",color:"from-red-500 to-red-600",needsId:"meterNumber"},{id:"Airtel_Money",name:"Airtel Money",label:"Airtel Money",icon:"",color:"from-red-500 to-red-700",needsId:"accountNumber"}];function Nbe(){const[,e]=Jt(),{toast:t}=Et(),{user:r,refreshUser:n}=kr(),i=Jr(),[s,o]=S.useState([]),[l,c]=S.useState(!0),[u,d]=S.useState(1),[f,h]=S.useState(null),[p,y]=S.useState(""),[m,v]=S.useState(""),[g,x]=S.useState(!1);S.useEffect(()=>{r!=null&&r.id&&w()},[r==null?void 0:r.id]);const w=async()=>{try{c(!0);const D=await(await qe("GET",`/api/bills/history/${r==null?void 0:r.id}`)).json();o(D.payments||[])}catch(A){console.error("Error fetching bill history:",A)}finally{c(!1)}},j=kt({mutationFn:async()=>(await qe("POST","/api/bills/pay",{userId:r==null?void 0:r.id,provider:f==null?void 0:f.id,meterNumber:(f==null?void 0:f.needsId)==="meterNumber"?p:null,accountNumber:(f==null?void 0:f.needsId)==="accountNumber"?p:null,amount:m})).json(),onSuccess:()=>{d(4),setTimeout(()=>{t({title:"Bill Paid Successfully!",description:"Your bill payment has been processed."}),N(),n(),i.invalidateQueries({queryKey:["/api/transactions",r==null?void 0:r.id]}),w()},1500)},onError:A=>{t({title:"Payment Failed",description:A.message||"Unable to process bill payment. Please try again.",variant:"destructive"}),d(2)}}),N=()=>{x(!1),d(1),h(null),y(""),v("")},P=A=>{h(A),d(2)},k=()=>{if(!p||!m){t({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});return}const A=parseFloat((r==null?void 0:r.kesBalance)||"0"),D=parseFloat(m);if(D<100){t({title:"Minimum Amount Required",description:"Minimum bill payment amount is KSh 100",variant:"destructive"});return}if(A<D){t({title:"Insufficient KES Balance",description:`You need KSh ${D.toFixed(2)}, but only have KSh ${A.toFixed(2)}. Please convert USD to KES in the Exchange page.`,variant:"destructive"});return}d(3)},C=()=>{j.mutate()},O=parseFloat((r==null?void 0:r.kesBalance)||"0"),I=parseFloat(m)||0;N_.find(A=>A.id===(f==null?void 0:f.id));const E=(f==null?void 0:f.needsId)==="meterNumber"?"Meter Number":"Account Number";return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/dashboard"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Pay Bills"})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 p-4 rounded-xl border border-green-200 dark:border-green-800",children:[a.jsx("p",{className:"text-xs text-green-700 dark:text-green-300 mb-1",children:"Available KES Balance"}),a.jsxs("p",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:["KSh ",O.toLocaleString("en-KE",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(ie,{onClick:()=>x(!0),className:"w-full h-14 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold text-lg rounded-xl shadow-lg",children:[a.jsx("span",{className:"material-icons mr-2",children:"add_circle"}),"Start New Payment"]})}),a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-200 dark:border-slate-800 p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[a.jsx(Vo,{className:"w-5 h-5 mr-2 text-green-600"}),"Recent Payments"]}),l?a.jsxs("div",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto"}),a.jsx("p",{className:"mt-2",children:"Loading..."})]}):s.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:[a.jsx(_U,{size:32,className:"mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No bill payments yet"})]}):a.jsx("div",{className:"space-y-3",children:s.slice(0,5).map(A=>{var D;return a.jsxs(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[A.status==="completed"?a.jsx(Rr,{size:20,className:"text-green-600 flex-shrink-0"}):a.jsx(Vo,{size:20,className:"text-yellow-600 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:((D=N_.find(R=>R.id===A.provider))==null?void 0:D.label)||A.provider}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:A.meterNumber||A.accountNumber||"Bill"})]})]}),a.jsxs("div",{className:"text-right ml-2 flex-shrink-0",children:[a.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:["KSh ",parseFloat(A.amount).toLocaleString("en-KE",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:new Date(A.createdAt).toLocaleDateString("en-KE")})]})]},A.id)})})]})]}),a.jsx(ps,{open:g,onOpenChange:x,children:a.jsxs(Ba,{className:"max-w-md",children:[u===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(oa,{children:[a.jsx($i,{children:"Select Bill Provider"}),a.jsx(Xs,{children:"Choose the service provider you want to pay"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-96 overflow-y-auto",children:N_.map(A=>a.jsxs(K.button,{whileTap:{scale:.95},onClick:()=>P(A),className:"p-4 rounded-xl border-2 border-border bg-card hover:border-green-600 hover:bg-green-50 dark:hover:bg-green-950/20 transition-all text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:A.icon}),a.jsx("p",{className:"text-xs font-semibold",children:A.name})]},A.id))}),a.jsx(ie,{variant:"outline",onClick:N,className:"w-full",children:"Cancel"})]}),u===2&&f&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(oa,{children:[a.jsx($i,{children:"Payment Details"}),a.jsx(Xs,{children:f.label})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-4 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 rounded-lg border border-green-200 dark:border-green-800",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-3xl",children:f.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold",children:f.label}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Enter your details below"})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold mb-2 block",children:E}),a.jsx($e,{placeholder:`Enter ${E.toLowerCase()}`,value:p,onChange:A=>y(A.target.value),className:"h-12"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Amount (KES)"}),a.jsxs("div",{className:"relative",children:[a.jsx($e,{type:"number",placeholder:"0.00",value:m,onChange:A=>v(A.target.value),className:"h-12 pr-12",step:"0.01",min:"0"}),a.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-sm font-semibold text-gray-600",children:"KSh"})]})]}),a.jsxs("div",{className:`p-3 rounded-lg text-sm ${I>=100&&O>=I?"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 text-green-800 dark:text-green-200":"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 text-red-800 dark:text-red-200"}`,children:[a.jsxs("p",{className:"font-semibold",children:["Balance: KSh ",O.toFixed(2)]}),I>0&&a.jsx("p",{className:"text-xs mt-1",children:I<100?" Minimum amount is KSh 100":O>=I?" You can afford this payment":` Insufficient balance. Need KSh ${(I-O).toFixed(2)} more`})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ie,{variant:"outline",onClick:()=>d(1),className:"flex-1",children:"Back"}),a.jsx(ie,{onClick:k,disabled:!p||!m,className:"flex-1 bg-green-600 hover:bg-green-700",children:"Continue"})]})]}),u===3&&f&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(oa,{children:[a.jsx($i,{children:"Confirm Payment"}),a.jsx(Xs,{children:"Review your payment details"})]}),a.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between pb-2 border-b border-gray-200 dark:border-slate-700",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Provider:"}),a.jsx("span",{className:"font-semibold",children:f.label})]}),a.jsxs("div",{className:"flex justify-between pb-2 border-b border-gray-200 dark:border-slate-700",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[E,":"]}),a.jsx("span",{className:"font-semibold",children:p})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Amount:"}),a.jsxs("span",{className:"font-bold text-lg",children:["KSh ",parseFloat(m).toFixed(2)]})]})]}),a.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg text-sm text-blue-800 dark:text-blue-200",children:[a.jsx("p",{className:"font-semibold mb-1",children:"Processing Details"}),a.jsx("p",{className:"text-xs",children:"Your payment will be deducted from your KES balance and processed instantly."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ie,{variant:"outline",onClick:()=>d(2),className:"flex-1",children:"Back"}),a.jsx(ie,{onClick:C,disabled:j.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:j.isPending?"Processing...":"Pay Now"})]})]}),u===4&&a.jsxs("div",{className:"space-y-4 text-center",children:[a.jsx(K.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},children:a.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-950 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Rr,{className:"w-8 h-8 text-green-600"})})}),a.jsxs("div",{children:[a.jsx($i,{className:"text-center text-xl",children:"Payment Successful!"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Your bill payment has been processed."})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 p-4 rounded-lg text-sm",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-1",children:"Amount Paid"}),a.jsxs("p",{className:"font-bold text-lg",children:["KSh ",parseFloat(m).toFixed(2)]})]}),a.jsx(ie,{onClick:N,className:"w-full bg-green-600 hover:bg-green-700",children:"Done"})]})]})})]})}function Sbe(){const[,e]=Jt(),{data:t,isLoading:r,refetch:n,isFetching:i}=Xt({queryKey:["/api/system/status"],refetchInterval:3e4}),s=c=>{switch(c){case"healthy":return a.jsx(ZC,{className:"w-5 h-5 text-green-500"});case"degraded":return a.jsx(Ai,{className:"w-5 h-5 text-yellow-500"});case"unhealthy":return a.jsx(Fa,{className:"w-5 h-5 text-red-500"});default:return a.jsx(Ai,{className:"w-5 h-5 text-gray-400"})}},o=c=>{switch(c){case"healthy":return"default";case"degraded":return"secondary";case"unhealthy":return"destructive";default:return"outline"}},l={accountAccess:"Account Access",fileUploads:"Document Uploads",currencyExchange:"Currency Exchange",airtimePurchase:"Airtime Purchase",moneyTransfers:"Money Transfers",virtualCards:"Virtual Cards",notifications:"Notifications"};return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsx(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 elevation-1 sticky top-0 z-40",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:a.jsx(ah,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold",children:"System Status"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Check all features in real-time"})]})]}),a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>n(),disabled:i,className:"gap-2",children:[a.jsx(Aw,{className:`w-4 h-4 ${i?"animate-spin":""}`}),a.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})}),a.jsxs("div",{className:"max-w-2xl mx-auto p-4 space-y-6 mt-4",children:[a.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsx(ke,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:a.jsx(He,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Xe,{className:"text-lg",children:"Overall System Health"}),a.jsx(Ct,{children:t!=null&&t.timestamp?new Date(t.timestamp).toLocaleString():"Loading..."})]}),t&&a.jsx(lt,{variant:o(t.overall),className:"text-base px-4 py-1 capitalize",children:t.overall})]})})})}),a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-3",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Features"}),r?a.jsx(ke,{children:a.jsx(Me,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-center text-muted-foreground",children:[a.jsx(Aw,{className:"w-5 h-5 mr-2 animate-spin"}),"Loading status information..."]})})}):t!=null&&t.features?Object.entries(t.features).map(([c,u],d)=>a.jsx(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+d*.05},children:a.jsx(ke,{className:"transition-all hover:shadow-md hover:border-primary/30",children:a.jsx(Me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("div",{className:"p-2 rounded-lg bg-muted",children:u.icon?a.jsx("span",{className:"text-xl",children:u.icon}):s(u.status)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-sm md:text-base",children:l[c]||c}),a.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:u.message})]})]}),a.jsx(lt,{variant:o(u.status),className:"capitalize ml-2 flex-shrink-0",children:u.status})]})})})},c)):a.jsx(ke,{children:a.jsx(Me,{className:"p-6",children:a.jsx("div",{className:"text-center text-muted-foreground",children:"No status data available"})})})]}),a.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsx(ke,{className:"bg-gradient-to-br from-amber-50 to-amber-100/50 border-amber-200 dark:from-amber-900/20 dark:to-amber-900/10",children:a.jsx(Me,{className:"p-4",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx($0,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm text-amber-900 dark:text-amber-200",children:[a.jsx("p",{className:"font-medium mb-1",children:"Auto-refresh enabled"}),a.jsx("p",{className:"text-xs md:text-sm opacity-90",children:"This page automatically refreshes every 30 seconds. All app features are continuously monitored for optimal performance."})]})]})})})})]})]})}function _be(){const[e,t]=S.useState(!0);return S.useEffect(()=>{const r=setTimeout(()=>{t(!1)},2e3);return()=>clearTimeout(r)},[]),a.jsx(gv,{children:e&&a.jsx(K.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"fixed inset-0 bg-primary flex items-center justify-center z-50","data-testid":"loading-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx(K.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.5},className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mb-4 mx-auto elevation-3",children:a.jsx("span",{className:"material-icons text-primary text-2xl",children:"attach_money"})}),a.jsx(K.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},className:"text-2xl font-bold text-white mb-2",children:"GreenPay"}),a.jsx(K.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.5},className:"text-green-100",children:"International Money Transfer"}),a.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},className:"mt-8",children:a.jsx("div",{className:"w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto"})})]})})})}const Pbe=[{id:"dashboard",icon:"home",label:"Home",path:"/dashboard"},{id:"transactions",icon:"receipt_long",label:"History",path:"/transactions"},{id:"send",icon:"swap_horiz",label:"Transfer",path:"/send-money",isCenter:!0},{id:"virtual-card",icon:"credit_card",label:"Card",path:"/virtual-card"},{id:"settings",icon:"person",label:"Profile",path:"/settings"}];function Abe(){const[e,t]=Jt(),{isAuthenticated:r}=kr();return!(window.opener!==null||window.parent!==window)&&r&&(e.startsWith("/dashboard")||e.startsWith("/transactions")||e.startsWith("/virtual-card")||e.startsWith("/support")||e.startsWith("/settings")||e.startsWith("/send-money")||e.startsWith("/send-amount")||e.startsWith("/send-confirm")||e.startsWith("/receive-money")||e.startsWith("/deposit")||e.startsWith("/withdraw")||e.startsWith("/exchange")||e.startsWith("/airtime"))?a.jsx(K.div,{initial:{y:100},animate:{y:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed bottom-0 left-0 right-0 z-50",style:{position:"fixed",bottom:0,left:0,right:0,zIndex:9999},"data-testid":"bottom-navigation",children:a.jsx("div",{className:"bg-background/80 backdrop-blur-md border-t border-border/40 pb-safe",children:a.jsx("div",{className:"flex justify-around items-end max-w-lg mx-auto px-4 py-2 relative",children:Pbe.map((s,o)=>{const l=e===s.path||s.path==="/send-money"&&(e.startsWith("/send-money")||e.startsWith("/send-amount")||e.startsWith("/send-confirm"));return s.isCenter?a.jsx(K.button,{onClick:()=>t(s.path),whileTap:{scale:.9},className:"relative -mt-8","data-testid":`nav-${s.id}`,children:a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary via-purple-500 to-secondary shadow-xl flex items-center justify-center relative overflow-hidden",children:[a.jsx(K.div,{className:"absolute inset-0 bg-gradient-to-r from-primary/50 to-secondary/50 rounded-full",animate:{scale:[1,1.2,1],opacity:[.5,.2,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),a.jsx("span",{className:"material-icons text-white text-3xl relative z-10",children:s.icon})]}),a.jsx("p",{className:"text-xs font-medium text-foreground/70 mt-2 text-center",children:s.label})]})},s.id):a.jsxs(K.button,{onClick:()=>t(s.path),whileTap:{scale:.85},className:"flex flex-col items-center py-2 px-3 min-w-[60px] relative","data-testid":`nav-${s.id}`,children:[a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:`material-icons transition-all duration-200 ${l?"text-primary text-2xl":"text-muted-foreground text-xl"}`,children:s.icon}),l&&a.jsx(K.div,{initial:{scale:0},animate:{scale:1},className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-primary rounded-full"})]}),a.jsx("span",{className:`text-xs font-medium mt-1 transition-all duration-200 ${l?"text-primary":"text-muted-foreground"}`,children:s.label})]},s.id)})})})}):null}function kbe(){const[e,t]=S.useState(null),[r,n]=S.useState(!1),[i,s]=S.useState(!1);S.useEffect(()=>{if(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches){s(!0);return}const c=d=>{d.preventDefault(),t(d),n(!0)},u=()=>{s(!0),n(!1),t(null)};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",u),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(d=>{console.log("SW registered: ",d)}).catch(d=>{console.log("SW registration failed: ",d)}),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",u)}},[]);const o=async()=>{if(!e)return;e.prompt();const{outcome:c}=await e.userChoice;c==="accepted"?(console.log("User accepted the install prompt"),n(!1)):console.log("User dismissed the install prompt"),t(null)},l=()=>{n(!1),sessionStorage.setItem("pwa-install-dismissed","true")};return i||!r||!e||sessionStorage.getItem("pwa-install-dismissed")?null:a.jsx(gv,{children:a.jsx(K.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed bottom-20 left-4 right-4 z-50 bg-card border border-border rounded-xl p-4 shadow-lg elevation-3",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-secondary rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"material-icons text-white",children:"get_app"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-sm",children:"Install GreenPay"}),a.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Get the full app experience with faster loading and offline access"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ie,{onClick:o,size:"sm",className:"bg-primary hover:bg-primary/90 text-xs","data-testid":"button-install-app",children:"Install App"}),a.jsx(ie,{onClick:l,variant:"ghost",size:"sm",className:"text-xs","data-testid":"button-dismiss-install",children:"Not now"})]})]}),a.jsx("button",{onClick:l,className:"text-muted-foreground hover:text-foreground p-1 rounded","data-testid":"button-close-install",children:a.jsx("span",{className:"material-icons text-sm",children:"close"})})]})})})}function Cbe(){const[,e]=Jt(),{user:t}=kr(),{toast:r}=Et();S.useEffect(()=>{const s=new URLSearchParams(window.location.search),o=s.get("reference"),l=s.get("trxref"),c=o||l;c&&(t!=null&&t.id)?c.includes("card")?n(c):i(c):(r({title:"Payment Error",description:"Invalid payment reference",variant:"destructive"}),e("/dashboard"))},[t==null?void 0:t.id,e,r]);const n=async s=>{try{const l=await(await qe("POST","/api/virtual-card/verify-payment",{reference:s,userId:t==null?void 0:t.id})).json();l.success&&l.card?(r({title:"Card Purchase Successful!",description:"Your virtual card has been activated"}),e("/virtual-card")):(r({title:"Payment Incomplete",description:l.message||"Your payment was not completed successfully. Please try again.",variant:"destructive"}),e("/virtual-card"))}catch{r({title:"Payment Error",description:"Unable to verify card payment",variant:"destructive"}),e("/virtual-card")}},i=async s=>{try{const o=new URLSearchParams(window.location.search),l=o.get("amount")||"0",c=o.get("currency")||"USD";if((await qe("POST","/api/deposit/verify-payment",{reference:s,userId:t==null?void 0:t.id,amount:l,currency:c})).ok)r({title:"Deposit Successful!",description:"Your account has been credited"}),e("/dashboard");else throw new Error("Payment verification failed")}catch{r({title:"Payment Error",description:"Unable to verify deposit payment",variant:"destructive"}),e("/deposit")}};return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Verifying your payment..."})]})})}function Tbe(){const[,e]=Jt();kr();const{toast:t}=Et();S.useEffect(()=>{const n=new URLSearchParams(window.location.search),i=n.get("reference"),s=n.get("type");i&&s&&(s==="virtual-card"?t({title:"Card Purchase Successful!",description:"Your virtual card has been activated and is ready to use"}):s==="deposit"&&t({title:"Deposit Successful!",description:"Your account has been credited successfully"}))},[t]);const r=()=>{const i=new URLSearchParams(window.location.search).get("type");e(i==="virtual-card"?"/virtual-card":"/dashboard")};return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(Rr,{className:"w-16 h-16 text-green-500"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Payment Successful!"}),a.jsx("p",{className:"text-muted-foreground",children:"Your payment has been processed successfully"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(ie,{onClick:r,className:"w-full","data-testid":"button-continue",children:"Continue"}),a.jsx(ie,{variant:"outline",onClick:()=>e("/dashboard"),className:"w-full","data-testid":"button-dashboard",children:"Go to Dashboard"})]})]})})}function Ebe(){const[,e]=Jt(),{toast:t}=Et();S.useEffect(()=>{const n=new URLSearchParams(window.location.search),i=n.get("error"),s=n.get("status");let o="Your payment could not be processed. Please try again.";i?o=decodeURIComponent(i):s&&(o=`Payment status: ${s}. Please try again.`),t({title:"Payment Failed",description:o,variant:"destructive"})},[t]);const r=()=>{const i=new URLSearchParams(window.location.search).get("type");e(i==="virtual-card"?"/virtual-card":"/deposit")};return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(Fa,{className:"w-16 h-16 text-red-500"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Payment Failed"}),a.jsx("p",{className:"text-muted-foreground",children:"We couldn't process your payment. This could be due to insufficient funds, network issues, or other payment problems."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(ie,{onClick:r,className:"w-full","data-testid":"button-retry",children:"Try Again"}),a.jsx(ie,{variant:"outline",onClick:()=>e("/dashboard"),className:"w-full","data-testid":"button-dashboard",children:"Go to Dashboard"}),a.jsx(ie,{variant:"ghost",onClick:()=>e("/support"),className:"w-full text-sm","data-testid":"button-support",children:"Contact Support"})]})]})})}function Obe(){const[,e]=Jt(),[t,r]=S.useState("processing"),[n,i]=S.useState(0),[s,o]=S.useState(""),[l,c]=S.useState("");S.useEffect(()=>{const d=new URLSearchParams(window.location.search),f=d.get("reference"),h=d.get("type");f&&o(f),h&&c(h)},[]),S.useEffect(()=>{if(!s)return;const d=setInterval(async()=>{try{i(y=>y+1);const p=await(await fetch(`/api/transaction-status/${s}`)).json();console.log("Transaction status poll result:",p),p.success&&p.status&&(p.status.toLowerCase()==="success"||p.status.toLowerCase()==="completed"?(r("success"),clearInterval(d),setTimeout(()=>{e("/dashboard")},3e3)):(p.status.toLowerCase()==="failed"||p.status.toLowerCase()==="cancelled")&&(r("failed"),clearInterval(d))),n>=60&&(r("timeout"),clearInterval(d))}catch(h){console.error("Status polling error:",h)}},5e3),f=setTimeout(()=>{},3e3);return()=>{clearInterval(d),clearTimeout(f)}},[s,n]);const u=()=>{e(l==="virtual-card"?"/virtual-card":"/dashboard")};return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(gv,{mode:"wait",children:[t==="processing"&&a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center space-y-6",children:[a.jsx(K.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"mx-auto w-16 h-16 flex items-center justify-center",children:a.jsx(od,{className:"w-16 h-16 text-primary"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Processing Payment"}),a.jsx("p",{className:"text-muted-foreground",children:"Please wait while we confirm your M-Pesa payment..."})]}),a.jsx("div",{className:"bg-card p-4 rounded-lg border",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Reference: ",a.jsx("span",{className:"font-mono text-foreground",children:s})]})}),a.jsx(K.div,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},className:"text-sm text-muted-foreground",children:"This may take up to 2 minutes..."})]},"processing"),t==="success"&&a.jsxs(K.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"text-center space-y-6",children:[a.jsx(K.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:a.jsx(Rr,{className:"w-20 h-20 text-green-500 mx-auto"})}),a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl font-bold text-green-600",children:"Payment Successful!"}),a.jsx("p",{className:"text-muted-foreground",children:l==="virtual-card"?"Your virtual card has been activated successfully.":"Your payment has been processed successfully."})]}),a.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:a.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Redirecting to dashboard in 3 seconds..."})})]},"success"),(t==="failed"||t==="timeout")&&a.jsxs(K.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"text-center space-y-6",children:[a.jsx(K.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:a.jsx(Fa,{className:"w-20 h-20 text-red-500 mx-auto"})}),a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600",children:t==="timeout"?"Payment Timeout":"Payment Failed"}),a.jsx("p",{className:"text-muted-foreground",children:t==="timeout"?"We couldn't confirm your payment status. Please contact support if you completed the payment.":"Your payment was not completed successfully. Please try again."})]}),a.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:a.jsx(ie,{onClick:u,className:"w-full","data-testid":"button-try-again",children:l==="virtual-card"?"Try Purchase Again":"Back to Dashboard"})})]},"failed")]})})})}const Mbe=St.object({email:St.string().email("Invalid email address"),password:St.string().min(1,"Password is required"),twoFactorCode:St.string().optional()});function W8(){const[,e]=Jt(),[t,r]=S.useState(!1),[n,i]=S.useState(!1),{toast:s}=Et(),o=Yo({resolver:Xo(Mbe),defaultValues:{email:"",password:"",twoFactorCode:""}}),l=async c=>{i(!0);try{const u=await qe("POST","/api/admin/login",c),d=await u.json();if(d.requiresTwoFactor){r(!0),s({title:"2FA Required",description:"Please enter your 2FA code"});return}u.ok?(localStorage.setItem("adminAuth",JSON.stringify(d.admin)),s({title:"Login Successful",description:"Welcome to GreenPay Admin Panel"}),e("/admin/dashboard")):s({title:"Login Failed",description:d.message||"Invalid credentials",variant:"destructive"})}catch{s({title:"Login Error",description:"An error occurred during login",variant:"destructive"})}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:a.jsxs(ke,{className:"w-full max-w-md",children:[a.jsxs(He,{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-4",children:a.jsx($a,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),a.jsx(Xe,{className:"text-2xl font-bold",children:"GreenPay Admin"}),a.jsx(Ct,{children:"Secure administrative access to GreenPay platform"})]}),a.jsxs(Me,{children:[a.jsx(to,{...o,children:a.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-4",children:[a.jsx(zt,{control:o.control,name:"email",render:({field:c})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Email Address"}),a.jsx(qt,{children:a.jsx($e,{...c,type:"email",placeholder:"admin@greenpay.com",disabled:n,"data-testid":"input-admin-email"})}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:o.control,name:"password",render:({field:c})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Password"}),a.jsx(qt,{children:a.jsx($e,{...c,type:"password",placeholder:"Enter your password",disabled:n,"data-testid":"input-admin-password"})}),a.jsx(Yt,{})]})}),t&&a.jsx(zt,{control:o.control,name:"twoFactorCode",render:({field:c})=>a.jsxs($t,{children:[a.jsxs(hr,{className:"flex items-center gap-2",children:[a.jsx(jU,{className:"w-4 h-4"}),"2FA Code"]}),a.jsx(qt,{children:a.jsx($e,{...c,placeholder:"Enter 6-digit code",maxLength:6,disabled:n,"data-testid":"input-2fa-code"})}),a.jsx(Yt,{})]})}),a.jsx(ie,{type:"submit",className:"w-full",disabled:n,"data-testid":"button-admin-login",children:n?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing In..."]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Oa,{className:"w-4 h-4"}),"Sign In to Admin Panel"]})})]})}),a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Test Credentials:"}),a.jsxs("p",{className:"text-xs text-blue-500 dark:text-blue-300",children:["Email: admin@greenpay.com",a.jsx("br",{}),"Password: Admin123!@#"]})]})]})]})})}var Lbe="Separator",H8="horizontal",Ibe=["horizontal","vertical"],DK=S.forwardRef((e,t)=>{const{decorative:r,orientation:n=H8,...i}=e,s=Dbe(n)?n:H8,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(Tt.div,{"data-orientation":s,...l,...i,ref:t})});DK.displayName=Lbe;function Dbe(e){return Ibe.includes(e)}var RK=DK;const FK=S.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>a.jsx(RK,{ref:i,decorative:r,orientation:t,className:_t("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));FK.displayName=RK.displayName;var Rbe=Array.isArray,za=Rbe,Fbe=typeof yb=="object"&&yb&&yb.Object===Object&&yb,$K=Fbe,$be=$K,Bbe=typeof self=="object"&&self&&self.Object===Object&&self,Ube=$be||Bbe||Function("return this")(),Kl=Ube,zbe=Kl,Vbe=zbe.Symbol,Pv=Vbe,K8=Pv,BK=Object.prototype,qbe=BK.hasOwnProperty,Wbe=BK.toString,Px=K8?K8.toStringTag:void 0;function Hbe(e){var t=qbe.call(e,Px),r=e[Px];try{e[Px]=void 0;var n=!0}catch{}var i=Wbe.call(e);return n&&(t?e[Px]=r:delete e[Px]),i}var Kbe=Hbe,Gbe=Object.prototype,Ybe=Gbe.toString;function Xbe(e){return Ybe.call(e)}var Zbe=Xbe,G8=Pv,Qbe=Kbe,Jbe=Zbe,e1e="[object Null]",t1e="[object Undefined]",Y8=G8?G8.toStringTag:void 0;function r1e(e){return e==null?e===void 0?t1e:e1e:Y8&&Y8 in Object(e)?Qbe(e):Jbe(e)}var eu=r1e;function n1e(e){return e!=null&&typeof e=="object"}var tu=n1e,i1e=eu,a1e=tu,s1e="[object Symbol]";function o1e(e){return typeof e=="symbol"||a1e(e)&&i1e(e)==s1e}var bg=o1e,l1e=za,c1e=bg,u1e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d1e=/^\w*$/;function f1e(e,t){if(l1e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||c1e(e)?!0:d1e.test(e)||!u1e.test(e)||t!=null&&e in Object(t)}var bT=f1e;function h1e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ld=h1e;const wg=Er(Ld);var p1e=eu,m1e=Ld,g1e="[object AsyncFunction]",x1e="[object Function]",y1e="[object GeneratorFunction]",v1e="[object Proxy]";function b1e(e){if(!m1e(e))return!1;var t=p1e(e);return t==x1e||t==y1e||t==g1e||t==v1e}var wT=b1e;const lr=Er(wT);var w1e=Kl,j1e=w1e["__core-js_shared__"],N1e=j1e,S_=N1e,X8=function(){var e=/[^.]+$/.exec(S_&&S_.keys&&S_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function S1e(e){return!!X8&&X8 in e}var _1e=S1e,P1e=Function.prototype,A1e=P1e.toString;function k1e(e){if(e!=null){try{return A1e.call(e)}catch{}try{return e+""}catch{}}return""}var UK=k1e,C1e=wT,T1e=_1e,E1e=Ld,O1e=UK,M1e=/[\\^$.*+?()[\]{}|]/g,L1e=/^\[object .+?Constructor\]$/,I1e=Function.prototype,D1e=Object.prototype,R1e=I1e.toString,F1e=D1e.hasOwnProperty,$1e=RegExp("^"+R1e.call(F1e).replace(M1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function B1e(e){if(!E1e(e)||T1e(e))return!1;var t=C1e(e)?$1e:L1e;return t.test(O1e(e))}var U1e=B1e;function z1e(e,t){return e==null?void 0:e[t]}var V1e=z1e,q1e=U1e,W1e=V1e;function H1e(e,t){var r=W1e(e,t);return q1e(r)?r:void 0}var Ah=H1e,K1e=Ah,G1e=K1e(Object,"create"),hN=G1e,Z8=hN;function Y1e(){this.__data__=Z8?Z8(null):{},this.size=0}var X1e=Y1e;function Z1e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Q1e=Z1e,J1e=hN,ewe="__lodash_hash_undefined__",twe=Object.prototype,rwe=twe.hasOwnProperty;function nwe(e){var t=this.__data__;if(J1e){var r=t[e];return r===ewe?void 0:r}return rwe.call(t,e)?t[e]:void 0}var iwe=nwe,awe=hN,swe=Object.prototype,owe=swe.hasOwnProperty;function lwe(e){var t=this.__data__;return awe?t[e]!==void 0:owe.call(t,e)}var cwe=lwe,uwe=hN,dwe="__lodash_hash_undefined__";function fwe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=uwe&&t===void 0?dwe:t,this}var hwe=fwe,pwe=X1e,mwe=Q1e,gwe=iwe,xwe=cwe,ywe=hwe;function jg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jg.prototype.clear=pwe;jg.prototype.delete=mwe;jg.prototype.get=gwe;jg.prototype.has=xwe;jg.prototype.set=ywe;var vwe=jg;function bwe(){this.__data__=[],this.size=0}var wwe=bwe;function jwe(e,t){return e===t||e!==e&&t!==t}var jT=jwe,Nwe=jT;function Swe(e,t){for(var r=e.length;r--;)if(Nwe(e[r][0],t))return r;return-1}var pN=Swe,_we=pN,Pwe=Array.prototype,Awe=Pwe.splice;function kwe(e){var t=this.__data__,r=_we(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Awe.call(t,r,1),--this.size,!0}var Cwe=kwe,Twe=pN;function Ewe(e){var t=this.__data__,r=Twe(t,e);return r<0?void 0:t[r][1]}var Owe=Ewe,Mwe=pN;function Lwe(e){return Mwe(this.__data__,e)>-1}var Iwe=Lwe,Dwe=pN;function Rwe(e,t){var r=this.__data__,n=Dwe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Fwe=Rwe,$we=wwe,Bwe=Cwe,Uwe=Owe,zwe=Iwe,Vwe=Fwe;function Ng(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ng.prototype.clear=$we;Ng.prototype.delete=Bwe;Ng.prototype.get=Uwe;Ng.prototype.has=zwe;Ng.prototype.set=Vwe;var mN=Ng,qwe=Ah,Wwe=Kl,Hwe=qwe(Wwe,"Map"),NT=Hwe,Q8=vwe,Kwe=mN,Gwe=NT;function Ywe(){this.size=0,this.__data__={hash:new Q8,map:new(Gwe||Kwe),string:new Q8}}var Xwe=Ywe;function Zwe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Qwe=Zwe,Jwe=Qwe;function e2e(e,t){var r=e.__data__;return Jwe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var gN=e2e,t2e=gN;function r2e(e){var t=t2e(this,e).delete(e);return this.size-=t?1:0,t}var n2e=r2e,i2e=gN;function a2e(e){return i2e(this,e).get(e)}var s2e=a2e,o2e=gN;function l2e(e){return o2e(this,e).has(e)}var c2e=l2e,u2e=gN;function d2e(e,t){var r=u2e(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var f2e=d2e,h2e=Xwe,p2e=n2e,m2e=s2e,g2e=c2e,x2e=f2e;function Sg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sg.prototype.clear=h2e;Sg.prototype.delete=p2e;Sg.prototype.get=m2e;Sg.prototype.has=g2e;Sg.prototype.set=x2e;var ST=Sg,zK=ST,y2e="Expected a function";function _T(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(y2e);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(_T.Cache||zK),r}_T.Cache=zK;var VK=_T;const v2e=Er(VK);var b2e=VK,w2e=500;function j2e(e){var t=b2e(e,function(n){return r.size===w2e&&r.clear(),n}),r=t.cache;return t}var N2e=j2e,S2e=N2e,_2e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,P2e=/\\(\\)?/g,A2e=S2e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(_2e,function(r,n,i,s){t.push(i?s.replace(P2e,"$1"):n||r)}),t}),k2e=A2e;function C2e(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var PT=C2e,J8=Pv,T2e=PT,E2e=za,O2e=bg,M2e=1/0,eD=J8?J8.prototype:void 0,tD=eD?eD.toString:void 0;function qK(e){if(typeof e=="string")return e;if(E2e(e))return T2e(e,qK)+"";if(O2e(e))return tD?tD.call(e):"";var t=e+"";return t=="0"&&1/e==-M2e?"-0":t}var L2e=qK,I2e=L2e;function D2e(e){return e==null?"":I2e(e)}var WK=D2e,R2e=za,F2e=bT,$2e=k2e,B2e=WK;function U2e(e,t){return R2e(e)?e:F2e(e,t)?[e]:$2e(B2e(e))}var HK=U2e,z2e=bg,V2e=1/0;function q2e(e){if(typeof e=="string"||z2e(e))return e;var t=e+"";return t=="0"&&1/e==-V2e?"-0":t}var xN=q2e,W2e=HK,H2e=xN;function K2e(e,t){t=W2e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[H2e(t[r++])];return r&&r==n?e:void 0}var AT=K2e,G2e=AT;function Y2e(e,t,r){var n=e==null?void 0:G2e(e,t);return n===void 0?r:n}var KK=Y2e;const Zs=Er(KK);function X2e(e){return e==null}var Z2e=X2e;const dr=Er(Z2e);var Q2e=eu,J2e=za,eje=tu,tje="[object String]";function rje(e){return typeof e=="string"||!J2e(e)&&eje(e)&&Q2e(e)==tje}var nje=rje;const gh=Er(nje);var GK={exports:{}},Gr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT=Symbol.for("react.element"),CT=Symbol.for("react.portal"),yN=Symbol.for("react.fragment"),vN=Symbol.for("react.strict_mode"),bN=Symbol.for("react.profiler"),wN=Symbol.for("react.provider"),jN=Symbol.for("react.context"),ije=Symbol.for("react.server_context"),NN=Symbol.for("react.forward_ref"),SN=Symbol.for("react.suspense"),_N=Symbol.for("react.suspense_list"),PN=Symbol.for("react.memo"),AN=Symbol.for("react.lazy"),aje=Symbol.for("react.offscreen"),YK;YK=Symbol.for("react.module.reference");function so(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case kT:switch(e=e.type,e){case yN:case bN:case vN:case SN:case _N:return e;default:switch(e=e&&e.$$typeof,e){case ije:case jN:case NN:case AN:case PN:case wN:return e;default:return t}}case CT:return t}}}Gr.ContextConsumer=jN;Gr.ContextProvider=wN;Gr.Element=kT;Gr.ForwardRef=NN;Gr.Fragment=yN;Gr.Lazy=AN;Gr.Memo=PN;Gr.Portal=CT;Gr.Profiler=bN;Gr.StrictMode=vN;Gr.Suspense=SN;Gr.SuspenseList=_N;Gr.isAsyncMode=function(){return!1};Gr.isConcurrentMode=function(){return!1};Gr.isContextConsumer=function(e){return so(e)===jN};Gr.isContextProvider=function(e){return so(e)===wN};Gr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===kT};Gr.isForwardRef=function(e){return so(e)===NN};Gr.isFragment=function(e){return so(e)===yN};Gr.isLazy=function(e){return so(e)===AN};Gr.isMemo=function(e){return so(e)===PN};Gr.isPortal=function(e){return so(e)===CT};Gr.isProfiler=function(e){return so(e)===bN};Gr.isStrictMode=function(e){return so(e)===vN};Gr.isSuspense=function(e){return so(e)===SN};Gr.isSuspenseList=function(e){return so(e)===_N};Gr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===yN||e===bN||e===vN||e===SN||e===_N||e===aje||typeof e=="object"&&e!==null&&(e.$$typeof===AN||e.$$typeof===PN||e.$$typeof===wN||e.$$typeof===jN||e.$$typeof===NN||e.$$typeof===YK||e.getModuleId!==void 0)};Gr.typeOf=so;GK.exports=Gr;var sje=GK.exports,oje=eu,lje=tu,cje="[object Number]";function uje(e){return typeof e=="number"||lje(e)&&oje(e)==cje}var XK=uje;const dje=Er(XK);var fje=XK;function hje(e){return fje(e)&&e!=+e}var pje=hje;const Av=Er(pje);var Io=function(t){return t===0?0:t>0?1:-1},Mf=function(t){return gh(t)&&t.indexOf("%")===t.length-1},tt=function(t){return dje(t)&&!Av(t)},mje=function(t){return dr(t)},xi=function(t){return tt(t)||gh(t)},gje=0,kv=function(t){var r=++gje;return"".concat(t||"").concat(r)},xh=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(t)&&!gh(t))return n;var s;if(Mf(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Av(s)&&(s=n),i&&s>r&&(s=r),s},Fu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},xje=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Co=function(t,r){return tt(t)&&tt(r)?function(n){return t+n*(r-t)}:function(){return r}};function f2(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Zs(n,t))===r})}var yje=function(t,r){return tt(t)&&tt(r)?t-r:gh(t)&&gh(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Xp(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function yk(e){"@babel/helpers - typeof";return yk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yk(e)}var vje=["viewBox","children"],bje=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rD=["points","pathLength"],__={svg:vje,polygon:rD,polyline:rD},TT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],h2=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),!wg(n))return null;var i={};return Object.keys(n).forEach(function(s){TT.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},wje=function(t,r,n){return function(i){return t(r,n,i),null}},p2=function(t,r,n){if(!wg(t)||yk(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var o=t[s];TT.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=wje(o,r,n))}),i},jje=["children"],Nje=["children"];function nD(e,t){if(e==null)return{};var r=Sje(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vk(e){"@babel/helpers - typeof";return vk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vk(e)}var iD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Mc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},aD=null,P_=null,ET=function e(t){if(t===aD&&Array.isArray(P_))return P_;var r=[];return S.Children.forEach(t,function(n){dr(n)||(sje.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),P_=r,aD=t,r};function Qs(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Mc(i)}):n=[Mc(t)],ET(e).forEach(function(i){var s=Zs(i,"type.displayName")||Zs(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function ns(e,t){var r=Qs(e,t);return r&&r[0]}var sD=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!tt(n)||n<=0||!tt(i)||i<=0)},_je=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Pje=function(t){return t&&t.type&&gh(t.type)&&_je.indexOf(t.type)>=0},Aje=function(t){return t&&vk(t)==="object"&&"clipDot"in t},kje=function(t,r,n,i){var s,o=(s=__==null?void 0:__[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!lr(t)&&(i&&o.includes(r)||bje.includes(r))||n&&TT.includes(r)},yr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(S.isValidElement(t)&&(i=t.props),!wg(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;kje((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=i[o])}),s},bk=function e(t,r){if(t===r)return!0;var n=S.Children.count(t);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return oD(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!oD(s,o))return!1}return!0},oD=function(t,r){if(dr(t)&&dr(r))return!0;if(!dr(t)&&!dr(r)){var n=t.props||{},i=n.children,s=nD(n,jje),o=r.props||{},l=o.children,c=nD(o,Nje);return i&&l?Xp(s,c)&&bk(i,l):!i&&!l?Xp(s,c):!1}return!1},lD=function(t,r){var n=[],i={};return ET(t).forEach(function(s,o){if(Pje(s))n.push(s);else if(s){var l=Mc(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(s,l,o);n.push(f),i[l]=!0}}}),n},Cje=function(t){var r=t&&t.type;return r&&iD[r]?iD[r]:null},Tje=function(t,r){return ET(r).indexOf(t)},Eje=["children","width","height","viewBox","className","style","title","desc"];function wk(){return wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wk.apply(this,arguments)}function Oje(e,t){if(e==null)return{};var r=Mje(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jk(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=Oje(e,Eje),d=i||{width:r,height:n,x:0,y:0},f=vr("recharts-surface",s);return se.createElement("svg",wk({},yr(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),se.createElement("title",null,l),se.createElement("desc",null,c),t)}var Lje=["children","className"];function Nk(){return Nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nk.apply(this,arguments)}function Ije(e,t){if(e==null)return{};var r=Dje(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Xn=se.forwardRef(function(e,t){var r=e.children,n=e.className,i=Ije(e,Lje),s=vr("recharts-layer",n);return se.createElement("g",Nk({className:s},yr(i,!0),{ref:t}),r)}),Lc=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function Rje(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}var Fje=Rje,$je=Fje;function Bje(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:$je(e,t,r)}var Uje=Bje,zje="\\ud800-\\udfff",Vje="\\u0300-\\u036f",qje="\\ufe20-\\ufe2f",Wje="\\u20d0-\\u20ff",Hje=Vje+qje+Wje,Kje="\\ufe0e\\ufe0f",Gje="\\u200d",Yje=RegExp("["+Gje+zje+Hje+Kje+"]");function Xje(e){return Yje.test(e)}var ZK=Xje;function Zje(e){return e.split("")}var Qje=Zje,QK="\\ud800-\\udfff",Jje="\\u0300-\\u036f",eNe="\\ufe20-\\ufe2f",tNe="\\u20d0-\\u20ff",rNe=Jje+eNe+tNe,nNe="\\ufe0e\\ufe0f",iNe="["+QK+"]",Sk="["+rNe+"]",_k="\\ud83c[\\udffb-\\udfff]",aNe="(?:"+Sk+"|"+_k+")",JK="[^"+QK+"]",eG="(?:\\ud83c[\\udde6-\\uddff]){2}",tG="[\\ud800-\\udbff][\\udc00-\\udfff]",sNe="\\u200d",rG=aNe+"?",nG="["+nNe+"]?",oNe="(?:"+sNe+"(?:"+[JK,eG,tG].join("|")+")"+nG+rG+")*",lNe=nG+rG+oNe,cNe="(?:"+[JK+Sk+"?",Sk,eG,tG,iNe].join("|")+")",uNe=RegExp(_k+"(?="+_k+")|"+cNe+lNe,"g");function dNe(e){return e.match(uNe)||[]}var fNe=dNe,hNe=Qje,pNe=ZK,mNe=fNe;function gNe(e){return pNe(e)?mNe(e):hNe(e)}var xNe=gNe,yNe=Uje,vNe=ZK,bNe=xNe,wNe=WK;function jNe(e){return function(t){t=wNe(t);var r=vNe(t)?bNe(t):void 0,n=r?r[0]:t.charAt(0),i=r?yNe(r,1).join(""):t.slice(1);return n[e]()+i}}var NNe=jNe,SNe=NNe,_Ne=SNe("toUpperCase"),PNe=_Ne;const kN=Er(PNe);function cn(e){return function(){return e}}const iG=Math.cos,m2=Math.sin,el=Math.sqrt,g2=Math.PI,CN=2*g2,Pk=Math.PI,Ak=2*Pk,yf=1e-6,ANe=Ak-yf;function aG(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function kNe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return aG;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class CNe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?aG:kNe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=i-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>yf)if(!(Math.abs(f*c-u*d)>yf)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,y=i-l,m=c*c+u*u,v=p*p+y*y,g=Math.sqrt(m),x=Math.sqrt(h),w=s*Math.tan((Pk-Math.acos((m+h-v)/(2*g*x)))/2),j=w/x,N=w/g;Math.abs(j-1)>yf&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*p>d*y)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>yf||Math.abs(this._y1-d)>yf)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Ak+Ak),h>ANe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>yf&&this._append`A${n},${n},0,${+(h>=Pk)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function OT(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new CNe(t)}function MT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function sG(e){this._context=e}sG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function TN(e){return new sG(e)}function oG(e){return e[0]}function lG(e){return e[1]}function cG(e,t){var r=cn(!0),n=null,i=TN,s=null,o=OT(l);e=typeof e=="function"?e:e===void 0?oG:cn(e),t=typeof t=="function"?t:t===void 0?lG:cn(t);function l(c){var u,d=(c=MT(c)).length,f,h=!1,p;for(n==null&&(s=i(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:cn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:cn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:cn(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function s1(e,t,r){var n=null,i=cn(!0),s=null,o=TN,l=null,c=OT(u);e=typeof e=="function"?e:e===void 0?oG:cn(+e),t=typeof t=="function"?t:cn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?lG:cn(+r);function u(f){var h,p,y,m=(f=MT(f)).length,v,g=!1,x,w=new Array(m),j=new Array(m);for(s==null&&(l=o(x=c())),h=0;h<=m;++h){if(!(h<m&&i(v=f[h],h,f))===g)if(g=!g)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(w[y],j[y]);l.lineEnd(),l.areaEnd()}g&&(w[h]=+e(v,h,f),j[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):j[h]))}if(x)return l=null,x+""||null}function d(){return cG().defined(i).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:cn(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:cn(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:cn(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:cn(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:cn(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:cn(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:cn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class uG{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function TNe(e){return new uG(e,!0)}function ENe(e){return new uG(e,!1)}const LT={draw(e,t){const r=el(t/g2);e.moveTo(r,0),e.arc(0,0,r,0,CN)}},ONe={draw(e,t){const r=el(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},dG=el(1/3),MNe=dG*2,LNe={draw(e,t){const r=el(t/MNe),n=r*dG;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},INe={draw(e,t){const r=el(t),n=-r/2;e.rect(n,n,r,r)}},DNe=.8908130915292852,fG=m2(g2/10)/m2(7*g2/10),RNe=m2(CN/10)*fG,FNe=-iG(CN/10)*fG,$Ne={draw(e,t){const r=el(t*DNe),n=RNe*r,i=FNe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const o=CN*s/5,l=iG(o),c=m2(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},A_=el(3),BNe={draw(e,t){const r=-el(t/(A_*3));e.moveTo(0,r*2),e.lineTo(-A_*r,-r),e.lineTo(A_*r,-r),e.closePath()}},Ms=-.5,Ls=el(3)/2,kk=1/el(12),UNe=(kk/2+1)*3,zNe={draw(e,t){const r=el(t/UNe),n=r/2,i=r*kk,s=n,o=r*kk+r,l=-s,c=o;e.moveTo(n,i),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(Ms*n-Ls*i,Ls*n+Ms*i),e.lineTo(Ms*s-Ls*o,Ls*s+Ms*o),e.lineTo(Ms*l-Ls*c,Ls*l+Ms*c),e.lineTo(Ms*n+Ls*i,Ms*i-Ls*n),e.lineTo(Ms*s+Ls*o,Ms*o-Ls*s),e.lineTo(Ms*l+Ls*c,Ms*c-Ls*l),e.closePath()}};function VNe(e,t){let r=null,n=OT(i);e=typeof e=="function"?e:cn(e||LT),t=typeof t=="function"?t:cn(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:cn(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:cn(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function x2(){}function y2(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function hG(e){this._context=e}hG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:y2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:y2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qNe(e){return new hG(e)}function pG(e){this._context=e}pG.prototype={areaStart:x2,areaEnd:x2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:y2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function WNe(e){return new pG(e)}function mG(e){this._context=e}mG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:y2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HNe(e){return new mG(e)}function gG(e){this._context=e}gG.prototype={areaStart:x2,areaEnd:x2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function KNe(e){return new gG(e)}function cD(e){return e<0?-1:1}function uD(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(cD(s)+cD(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function dD(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function k_(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,o-l*r,s,o)}function v2(e){this._context=e}v2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:k_(this,this._t0,dD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,k_(this,dD(this,r=uD(this,e,t)),r);break;default:k_(this,this._t0,r=uD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function xG(e){this._context=new yG(e)}(xG.prototype=Object.create(v2.prototype)).point=function(e,t){v2.prototype.point.call(this,t,e)};function yG(e){this._context=e}yG.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function GNe(e){return new v2(e)}function YNe(e){return new xG(e)}function vG(e){this._context=e}vG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=fD(e),i=fD(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function fD(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function XNe(e){return new vG(e)}function EN(e,t){this._context=e,this._t=t}EN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function ZNe(e){return new EN(e,.5)}function QNe(e){return new EN(e,0)}function JNe(e){return new EN(e,1)}function Lm(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,l=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Ck(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function e5e(e,t){return e[t]}function t5e(e){const t=[];return t.key=e,t}function r5e(){var e=cn([]),t=Ck,r=Lm,n=e5e;function i(s){var o=Array.from(e.apply(this,arguments),t5e),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=MT(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:cn(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:cn(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?Ck:typeof s=="function"?s:cn(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Lm,i):r},i}function n5e(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Lm(e,t)}}function i5e(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Lm(e,t)}}function a5e(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,y=0;y<l;++y){var m=e[t[y]],v=m[n][1]||0,g=m[n-1][1]||0;p+=v-g}c+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,Lm(e,t)}}function py(e){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},py(e)}var s5e=["type","size","sizeType"];function Tk(){return Tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tk.apply(this,arguments)}function hD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(r),!0).forEach(function(n){o5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o5e(e,t,r){return t=l5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l5e(e){var t=c5e(e,"string");return py(t)=="symbol"?t:t+""}function c5e(e,t){if(py(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(py(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u5e(e,t){if(e==null)return{};var r=d5e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bG={symbolCircle:LT,symbolCross:ONe,symbolDiamond:LNe,symbolSquare:INe,symbolStar:$Ne,symbolTriangle:BNe,symbolWye:zNe},f5e=Math.PI/180,h5e=function(t){var r="symbol".concat(kN(t));return bG[r]||LT},p5e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*f5e;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},m5e=function(t,r){bG["symbol".concat(kN(t))]=r},IT=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=u5e(t,s5e),u=pD(pD({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=h5e(n),g=VNe().type(v).size(p5e(s,l,n));return g()},f=u.className,h=u.cx,p=u.cy,y=yr(u,!0);return h===+h&&p===+p&&s===+s?se.createElement("path",Tk({},y,{className:vr("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};IT.registerSymbol=m5e;function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function Ek(){return Ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ek.apply(this,arguments)}function mD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function g5e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mD(Object(r),!0).forEach(function(n){my(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y5e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jG(n.key),n)}}function v5e(e,t,r){return t&&y5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b5e(e,t,r){return t=b2(t),w5e(e,wG()?Reflect.construct(t,r||[],b2(e).constructor):t.apply(e,r))}function w5e(e,t){if(t&&(Im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j5e(e)}function j5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wG=function(){return!!e})()}function b2(e){return b2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},b2(e)}function N5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ok(e,t)}function Ok(e,t){return Ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ok(e,t)}function my(e,t,r){return t=jG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jG(e){var t=S5e(e,"string");return Im(t)=="symbol"?t:t+""}function S5e(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Is=32,DT=function(e){function t(){return x5e(this,t),b5e(this,t,arguments)}return N5e(t,e),v5e(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Is/2,o=Is/6,l=Is/3,c=n.inactive?i:n.color;if(n.type==="plainline")return se.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Is,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return se.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Is,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return se.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Is/8,"h").concat(Is,"v").concat(Is*3/4,"h").concat(-Is,"z"),className:"recharts-legend-icon"});if(se.isValidElement(n.legendIcon)){var u=g5e({},n);return delete u.legendIcon,se.cloneElement(n.legendIcon,u)}return se.createElement(IT,{fill:c,cx:s,cy:s,size:Is,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Is,height:Is},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,y){var m=p.formatter||c,v=vr(my(my({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=lr(p.value)?null:p.value;Lc(!lr(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return se.createElement("li",Ek({className:v,style:f,key:"legend-item-".concat(y)},p2(n.props,p,y)),se.createElement(jk,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),se.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(g,p,y):g))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return se.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(S.PureComponent);my(DT,"displayName","Legend");my(DT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _5e=mN;function P5e(){this.__data__=new _5e,this.size=0}var A5e=P5e;function k5e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var C5e=k5e;function T5e(e){return this.__data__.get(e)}var E5e=T5e;function O5e(e){return this.__data__.has(e)}var M5e=O5e,L5e=mN,I5e=NT,D5e=ST,R5e=200;function F5e(e,t){var r=this.__data__;if(r instanceof L5e){var n=r.__data__;if(!I5e||n.length<R5e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new D5e(n)}return r.set(e,t),this.size=r.size,this}var $5e=F5e,B5e=mN,U5e=A5e,z5e=C5e,V5e=E5e,q5e=M5e,W5e=$5e;function _g(e){var t=this.__data__=new B5e(e);this.size=t.size}_g.prototype.clear=U5e;_g.prototype.delete=z5e;_g.prototype.get=V5e;_g.prototype.has=q5e;_g.prototype.set=W5e;var NG=_g,H5e="__lodash_hash_undefined__";function K5e(e){return this.__data__.set(e,H5e),this}var G5e=K5e;function Y5e(e){return this.__data__.has(e)}var X5e=Y5e,Z5e=ST,Q5e=G5e,J5e=X5e;function w2(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Z5e;++t<r;)this.add(e[t])}w2.prototype.add=w2.prototype.push=Q5e;w2.prototype.has=J5e;var SG=w2;function eSe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var _G=eSe;function tSe(e,t){return e.has(t)}var PG=tSe,rSe=SG,nSe=_G,iSe=PG,aSe=1,sSe=2;function oSe(e,t,r,n,i,s){var o=r&aSe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&sSe?new rSe:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var y=e[f],m=t[f];if(n)var v=o?n(m,y,f,t,e,s):n(y,m,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!nSe(t,function(g,x){if(!iSe(p,x)&&(y===g||i(y,g,r,n,s)))return p.push(x)})){h=!1;break}}else if(!(y===m||i(y,m,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var AG=oSe,lSe=Kl,cSe=lSe.Uint8Array,uSe=cSe;function dSe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var fSe=dSe;function hSe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var RT=hSe,gD=Pv,xD=uSe,pSe=jT,mSe=AG,gSe=fSe,xSe=RT,ySe=1,vSe=2,bSe="[object Boolean]",wSe="[object Date]",jSe="[object Error]",NSe="[object Map]",SSe="[object Number]",_Se="[object RegExp]",PSe="[object Set]",ASe="[object String]",kSe="[object Symbol]",CSe="[object ArrayBuffer]",TSe="[object DataView]",yD=gD?gD.prototype:void 0,C_=yD?yD.valueOf:void 0;function ESe(e,t,r,n,i,s,o){switch(r){case TSe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case CSe:return!(e.byteLength!=t.byteLength||!s(new xD(e),new xD(t)));case bSe:case wSe:case SSe:return pSe(+e,+t);case jSe:return e.name==t.name&&e.message==t.message;case _Se:case ASe:return e==t+"";case NSe:var l=gSe;case PSe:var c=n&ySe;if(l||(l=xSe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=vSe,o.set(e,t);var d=mSe(l(e),l(t),n,i,s,o);return o.delete(e),d;case kSe:if(C_)return C_.call(e)==C_.call(t)}return!1}var OSe=ESe;function MSe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var kG=MSe,LSe=kG,ISe=za;function DSe(e,t,r){var n=t(e);return ISe(e)?n:LSe(n,r(e))}var RSe=DSe;function FSe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}var $Se=FSe;function BSe(){return[]}var USe=BSe,zSe=$Se,VSe=USe,qSe=Object.prototype,WSe=qSe.propertyIsEnumerable,vD=Object.getOwnPropertySymbols,HSe=vD?function(e){return e==null?[]:(e=Object(e),zSe(vD(e),function(t){return WSe.call(e,t)}))}:VSe,KSe=HSe;function GSe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var YSe=GSe,XSe=eu,ZSe=tu,QSe="[object Arguments]";function JSe(e){return ZSe(e)&&XSe(e)==QSe}var e_e=JSe,bD=e_e,t_e=tu,CG=Object.prototype,r_e=CG.hasOwnProperty,n_e=CG.propertyIsEnumerable,i_e=bD(function(){return arguments}())?bD:function(e){return t_e(e)&&r_e.call(e,"callee")&&!n_e.call(e,"callee")},FT=i_e,j2={exports:{}};function a_e(){return!1}var s_e=a_e;j2.exports;(function(e,t){var r=Kl,n=s_e,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(j2,j2.exports);var TG=j2.exports,o_e=9007199254740991,l_e=/^(?:0|[1-9]\d*)$/;function c_e(e,t){var r=typeof e;return t=t??o_e,!!t&&(r=="number"||r!="symbol"&&l_e.test(e))&&e>-1&&e%1==0&&e<t}var $T=c_e,u_e=9007199254740991;function d_e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=u_e}var BT=d_e,f_e=eu,h_e=BT,p_e=tu,m_e="[object Arguments]",g_e="[object Array]",x_e="[object Boolean]",y_e="[object Date]",v_e="[object Error]",b_e="[object Function]",w_e="[object Map]",j_e="[object Number]",N_e="[object Object]",S_e="[object RegExp]",__e="[object Set]",P_e="[object String]",A_e="[object WeakMap]",k_e="[object ArrayBuffer]",C_e="[object DataView]",T_e="[object Float32Array]",E_e="[object Float64Array]",O_e="[object Int8Array]",M_e="[object Int16Array]",L_e="[object Int32Array]",I_e="[object Uint8Array]",D_e="[object Uint8ClampedArray]",R_e="[object Uint16Array]",F_e="[object Uint32Array]",pn={};pn[T_e]=pn[E_e]=pn[O_e]=pn[M_e]=pn[L_e]=pn[I_e]=pn[D_e]=pn[R_e]=pn[F_e]=!0;pn[m_e]=pn[g_e]=pn[k_e]=pn[x_e]=pn[C_e]=pn[y_e]=pn[v_e]=pn[b_e]=pn[w_e]=pn[j_e]=pn[N_e]=pn[S_e]=pn[__e]=pn[P_e]=pn[A_e]=!1;function $_e(e){return p_e(e)&&h_e(e.length)&&!!pn[f_e(e)]}var B_e=$_e;function U_e(e){return function(t){return e(t)}}var EG=U_e,N2={exports:{}};N2.exports;(function(e,t){var r=$K,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(N2,N2.exports);var z_e=N2.exports,V_e=B_e,q_e=EG,wD=z_e,jD=wD&&wD.isTypedArray,W_e=jD?q_e(jD):V_e,OG=W_e,H_e=YSe,K_e=FT,G_e=za,Y_e=TG,X_e=$T,Z_e=OG,Q_e=Object.prototype,J_e=Q_e.hasOwnProperty;function ePe(e,t){var r=G_e(e),n=!r&&K_e(e),i=!r&&!n&&Y_e(e),s=!r&&!n&&!i&&Z_e(e),o=r||n||i||s,l=o?H_e(e.length,String):[],c=l.length;for(var u in e)(t||J_e.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||X_e(u,c)))&&l.push(u);return l}var tPe=ePe,rPe=Object.prototype;function nPe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||rPe;return e===r}var iPe=nPe;function aPe(e,t){return function(r){return e(t(r))}}var MG=aPe,sPe=MG,oPe=sPe(Object.keys,Object),lPe=oPe,cPe=iPe,uPe=lPe,dPe=Object.prototype,fPe=dPe.hasOwnProperty;function hPe(e){if(!cPe(e))return uPe(e);var t=[];for(var r in Object(e))fPe.call(e,r)&&r!="constructor"&&t.push(r);return t}var pPe=hPe,mPe=wT,gPe=BT;function xPe(e){return e!=null&&gPe(e.length)&&!mPe(e)}var Cv=xPe,yPe=tPe,vPe=pPe,bPe=Cv;function wPe(e){return bPe(e)?yPe(e):vPe(e)}var ON=wPe,jPe=RSe,NPe=KSe,SPe=ON;function _Pe(e){return jPe(e,SPe,NPe)}var PPe=_Pe,ND=PPe,APe=1,kPe=Object.prototype,CPe=kPe.hasOwnProperty;function TPe(e,t,r,n,i,s){var o=r&APe,l=ND(e),c=l.length,u=ND(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:CPe.call(t,h)))return!1}var p=s.get(e),y=s.get(t);if(p&&y)return p==t&&y==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=o;++f<c;){h=l[f];var g=e[h],x=t[h];if(n)var w=o?n(x,g,h,t,e,s):n(g,x,h,e,t,s);if(!(w===void 0?g===x||i(g,x,r,n,s):w)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var j=e.constructor,N=t.constructor;j!=N&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof N=="function"&&N instanceof N)&&(m=!1)}return s.delete(e),s.delete(t),m}var EPe=TPe,OPe=Ah,MPe=Kl,LPe=OPe(MPe,"DataView"),IPe=LPe,DPe=Ah,RPe=Kl,FPe=DPe(RPe,"Promise"),$Pe=FPe,BPe=Ah,UPe=Kl,zPe=BPe(UPe,"Set"),LG=zPe,VPe=Ah,qPe=Kl,WPe=VPe(qPe,"WeakMap"),HPe=WPe,Mk=IPe,Lk=NT,Ik=$Pe,Dk=LG,Rk=HPe,IG=eu,Pg=UK,SD="[object Map]",KPe="[object Object]",_D="[object Promise]",PD="[object Set]",AD="[object WeakMap]",kD="[object DataView]",GPe=Pg(Mk),YPe=Pg(Lk),XPe=Pg(Ik),ZPe=Pg(Dk),QPe=Pg(Rk),vf=IG;(Mk&&vf(new Mk(new ArrayBuffer(1)))!=kD||Lk&&vf(new Lk)!=SD||Ik&&vf(Ik.resolve())!=_D||Dk&&vf(new Dk)!=PD||Rk&&vf(new Rk)!=AD)&&(vf=function(e){var t=IG(e),r=t==KPe?e.constructor:void 0,n=r?Pg(r):"";if(n)switch(n){case GPe:return kD;case YPe:return SD;case XPe:return _D;case ZPe:return PD;case QPe:return AD}return t});var JPe=vf,T_=NG,eAe=AG,tAe=OSe,rAe=EPe,CD=JPe,TD=za,ED=TG,nAe=OG,iAe=1,OD="[object Arguments]",MD="[object Array]",o1="[object Object]",aAe=Object.prototype,LD=aAe.hasOwnProperty;function sAe(e,t,r,n,i,s){var o=TD(e),l=TD(t),c=o?MD:CD(e),u=l?MD:CD(t);c=c==OD?o1:c,u=u==OD?o1:u;var d=c==o1,f=u==o1,h=c==u;if(h&&ED(e)){if(!ED(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new T_),o||nAe(e)?eAe(e,t,r,n,i,s):tAe(e,t,c,r,n,i,s);if(!(r&iAe)){var p=d&&LD.call(e,"__wrapped__"),y=f&&LD.call(t,"__wrapped__");if(p||y){var m=p?e.value():e,v=y?t.value():t;return s||(s=new T_),i(m,v,r,n,s)}}return h?(s||(s=new T_),rAe(e,t,r,n,i,s)):!1}var oAe=sAe,lAe=oAe,ID=tu;function DG(e,t,r,n,i){return e===t?!0:e==null||t==null||!ID(e)&&!ID(t)?e!==e&&t!==t:lAe(e,t,r,n,DG,i)}var UT=DG,cAe=NG,uAe=UT,dAe=1,fAe=2;function hAe(e,t,r,n){var i=r.length,s=i,o=!n;if(e==null)return!s;for(e=Object(e);i--;){var l=r[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){l=r[i];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new cAe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?uAe(d,u,dAe|fAe,n,f):h))return!1}}return!0}var pAe=hAe,mAe=Ld;function gAe(e){return e===e&&!mAe(e)}var RG=gAe,xAe=RG,yAe=ON;function vAe(e){for(var t=yAe(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,xAe(i)]}return t}var bAe=vAe;function wAe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var FG=wAe,jAe=pAe,NAe=bAe,SAe=FG;function _Ae(e){var t=NAe(e);return t.length==1&&t[0][2]?SAe(t[0][0],t[0][1]):function(r){return r===e||jAe(r,e,t)}}var PAe=_Ae;function AAe(e,t){return e!=null&&t in Object(e)}var kAe=AAe,CAe=HK,TAe=FT,EAe=za,OAe=$T,MAe=BT,LAe=xN;function IAe(e,t,r){t=CAe(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var o=LAe(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&MAe(i)&&OAe(o,i)&&(EAe(e)||TAe(e)))}var DAe=IAe,RAe=kAe,FAe=DAe;function $Ae(e,t){return e!=null&&FAe(e,t,RAe)}var BAe=$Ae,UAe=UT,zAe=KK,VAe=BAe,qAe=bT,WAe=RG,HAe=FG,KAe=xN,GAe=1,YAe=2;function XAe(e,t){return qAe(e)&&WAe(t)?HAe(KAe(e),t):function(r){var n=zAe(r,e);return n===void 0&&n===t?VAe(r,e):UAe(t,n,GAe|YAe)}}var ZAe=XAe;function QAe(e){return e}var Ag=QAe;function JAe(e){return function(t){return t==null?void 0:t[e]}}var eke=JAe,tke=AT;function rke(e){return function(t){return tke(t,e)}}var nke=rke,ike=eke,ake=nke,ske=bT,oke=xN;function lke(e){return ske(e)?ike(oke(e)):ake(e)}var cke=lke,uke=PAe,dke=ZAe,fke=Ag,hke=za,pke=cke;function mke(e){return typeof e=="function"?e:e==null?fke:typeof e=="object"?hke(e)?dke(e[0],e[1]):uke(e):pke(e)}var Id=mke;function gke(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var $G=gke;function xke(e){return e!==e}var yke=xke;function vke(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var bke=vke,wke=$G,jke=yke,Nke=bke;function Ske(e,t,r){return t===t?Nke(e,t,r):wke(e,jke,r)}var _ke=Ske,Pke=_ke;function Ake(e,t){var r=e==null?0:e.length;return!!r&&Pke(e,t,0)>-1}var kke=Ake;function Cke(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var Tke=Cke;function Eke(){}var Oke=Eke,E_=LG,Mke=Oke,Lke=RT,Ike=1/0,Dke=E_&&1/Lke(new E_([,-0]))[1]==Ike?function(e){return new E_(e)}:Mke,Rke=Dke,Fke=SG,$ke=kke,Bke=Tke,Uke=PG,zke=Rke,Vke=RT,qke=200;function Wke(e,t,r){var n=-1,i=$ke,s=e.length,o=!0,l=[],c=l;if(r)o=!1,i=Bke;else if(s>=qke){var u=t?null:zke(e);if(u)return Vke(u);o=!1,i=Uke,c=new Fke}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else i(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Hke=Wke,Kke=Id,Gke=Hke;function Yke(e,t){return e&&e.length?Gke(e,Kke(t)):[]}var Xke=Yke;const DD=Er(Xke);function BG(e,t,r){return t===!0?DD(e,r):lr(t)?DD(e,t):e}function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}var Zke=["ref"];function RD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RD(Object(r),!0).forEach(function(n){MN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zG(n.key),n)}}function Jke(e,t,r){return t&&FD(e.prototype,t),r&&FD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function e4e(e,t,r){return t=S2(t),t4e(e,UG()?Reflect.construct(t,r||[],S2(e).constructor):t.apply(e,r))}function t4e(e,t){if(t&&(Dm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r4e(e)}function r4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UG=function(){return!!e})()}function S2(e){return S2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S2(e)}function n4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fk(e,t)}function Fk(e,t){return Fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fk(e,t)}function MN(e,t,r){return t=zG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=i4e(e,"string");return Dm(t)=="symbol"?t:t+""}function i4e(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a4e(e,t){if(e==null)return{};var r=s4e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function o4e(e){return e.value}function l4e(e,t){if(se.isValidElement(e))return se.cloneElement(e,t);if(typeof e=="function")return se.createElement(e,t);t.ref;var r=a4e(t,Zke);return se.createElement(DT,r)}var $D=1,Zp=function(e){function t(){var r;Qke(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=e4e(this,t,[].concat(i)),MN(r,"lastBoundingBox",{width:-1,height:-1}),r}return n4e(t,e),Jke(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>$D||Math.abs(i.height-this.lastBoundingBox.height)>$D)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return fc(fc({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=fc(fc({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return se.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},l4e(s,fc(fc({},this.props),{},{payload:BG(d,u,o4e)})))}}],[{key:"getWithHeight",value:function(n,i){var s=fc(fc({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&tt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(S.PureComponent);MN(Zp,"displayName","Legend");MN(Zp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var BD=Pv,c4e=FT,u4e=za,UD=BD?BD.isConcatSpreadable:void 0;function d4e(e){return u4e(e)||c4e(e)||!!(UD&&e&&e[UD])}var f4e=d4e,h4e=kG,p4e=f4e;function VG(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=p4e),i||(i=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?VG(l,t-1,r,n,i):h4e(i,l):n||(i[i.length]=l)}return i}var qG=VG;function m4e(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++i];if(r(s[c],c,s)===!1)break}return t}}var g4e=m4e,x4e=g4e,y4e=x4e(),v4e=y4e,b4e=v4e,w4e=ON;function j4e(e,t){return e&&b4e(e,t,w4e)}var WG=j4e,N4e=Cv;function S4e(e,t){return function(r,n){if(r==null)return r;if(!N4e(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}var _4e=S4e,P4e=WG,A4e=_4e,k4e=A4e(P4e),zT=k4e,C4e=zT,T4e=Cv;function E4e(e,t){var r=-1,n=T4e(e)?Array(e.length):[];return C4e(e,function(i,s,o){n[++r]=t(i,s,o)}),n}var HG=E4e;function O4e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var M4e=O4e,zD=bg;function L4e(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,s=zD(e),o=t!==void 0,l=t===null,c=t===t,u=zD(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!s&&!u&&e<t||u&&r&&i&&!n&&!s||l&&r&&i||!o&&i||!c)return-1}return 0}var I4e=L4e,D4e=I4e;function R4e(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,o=i.length,l=r.length;++n<o;){var c=D4e(i[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var F4e=R4e,O_=PT,$4e=AT,B4e=Id,U4e=HG,z4e=M4e,V4e=EG,q4e=F4e,W4e=Ag,H4e=za;function K4e(e,t,r){t.length?t=O_(t,function(s){return H4e(s)?function(o){return $4e(o,s.length===1?s[0]:s)}:s}):t=[W4e];var n=-1;t=O_(t,V4e(B4e));var i=U4e(e,function(s,o,l){var c=O_(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return z4e(i,function(s,o){return q4e(s,o,r)})}var G4e=K4e;function Y4e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var X4e=Y4e,Z4e=X4e,VD=Math.max;function Q4e(e,t,r){return t=VD(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=VD(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(o),Z4e(e,this,l)}}var J4e=Q4e;function eCe(e){return function(){return e}}var tCe=eCe,rCe=Ah,nCe=function(){try{var e=rCe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),KG=nCe,iCe=tCe,qD=KG,aCe=Ag,sCe=qD?function(e,t){return qD(e,"toString",{configurable:!0,enumerable:!1,value:iCe(t),writable:!0})}:aCe,oCe=sCe,lCe=800,cCe=16,uCe=Date.now;function dCe(e){var t=0,r=0;return function(){var n=uCe(),i=cCe-(n-r);if(r=n,i>0){if(++t>=lCe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var fCe=dCe,hCe=oCe,pCe=fCe,mCe=pCe(hCe),gCe=mCe,xCe=Ag,yCe=J4e,vCe=gCe;function bCe(e,t){return vCe(yCe(e,t,xCe),e+"")}var wCe=bCe,jCe=jT,NCe=Cv,SCe=$T,_Ce=Ld;function PCe(e,t,r){if(!_Ce(r))return!1;var n=typeof t;return(n=="number"?NCe(r)&&SCe(t,r.length):n=="string"&&t in r)?jCe(r[t],e):!1}var LN=PCe,ACe=qG,kCe=G4e,CCe=wCe,WD=LN,TCe=CCe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&WD(e,t[0],t[1])?t=[]:r>2&&WD(t[0],t[1],t[2])&&(t=[t[0]]),kCe(e,ACe(t,1),[])}),ECe=TCe;const VT=Er(ECe);function gy(e){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gy(e)}function $k(){return $k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$k.apply(this,arguments)}function OCe(e,t){return DCe(e)||ICe(e,t)||LCe(e,t)||MCe()}function MCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LCe(e,t){if(e){if(typeof e=="string")return HD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HD(e,t)}}function HD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ICe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function DCe(e){if(Array.isArray(e))return e}function KD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function M_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KD(Object(r),!0).forEach(function(n){RCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RCe(e,t,r){return t=FCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FCe(e){var t=$Ce(e,"string");return gy(t)=="symbol"?t:t+""}function $Ce(e,t){if(gy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BCe(e){return Array.isArray(e)&&xi(e[0])&&xi(e[1])?e.join(" ~ "):e}var UCe=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,m=t.label,v=t.labelFormatter,g=t.accessibilityLayer,x=g===void 0?!1:g,w=function(){if(d&&d.length){var A={padding:0,margin:0},D=(h?VT(d,h):d).map(function(R,G){if(R.type==="none")return null;var F=M_({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},l),q=R.formatter||f||BCe,B=R.value,Z=R.name,le=B,fe=Z;if(q&&le!=null&&fe!=null){var $=q(B,Z,R,G,d);if(Array.isArray($)){var Y=OCe($,2);le=Y[0],fe=Y[1]}else le=$}return se.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:F},xi(fe)?se.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,xi(fe)?se.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,se.createElement("span",{className:"recharts-tooltip-item-value"},le),se.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return se.createElement("ul",{className:"recharts-tooltip-item-list",style:A},D)}return null},j=M_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),N=M_({margin:0},u),P=!dr(m),k=P?m:"",C=vr("recharts-default-tooltip",p),O=vr("recharts-tooltip-label",y);P&&v&&d!==void 0&&d!==null&&(k=v(m,d));var I=x?{role:"status","aria-live":"assertive"}:{};return se.createElement("div",$k({className:C,style:j},I),se.createElement("p",{className:O,style:N},se.isValidElement(k)?k:"".concat(k)),w())};function xy(e){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xy(e)}function l1(e,t,r){return t=zCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zCe(e){var t=VCe(e,"string");return xy(t)=="symbol"?t:t+""}function VCe(e,t){if(xy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ax="recharts-tooltip-wrapper",qCe={visibility:"hidden"};function WCe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return vr(Ax,l1(l1(l1(l1({},"".concat(Ax,"-right"),tt(r)&&t&&tt(t.x)&&r>=t.x),"".concat(Ax,"-left"),tt(r)&&t&&tt(t.x)&&r<t.x),"".concat(Ax,"-bottom"),tt(n)&&t&&tt(t.y)&&n>=t.y),"".concat(Ax,"-top"),tt(n)&&t&&tt(t.y)&&n<t.y))}function GD(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&tt(s[n]))return s[n];var d=r[n]-l-i,f=r[n]+i;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,m=c[n]+u;return y>m?Math.max(d,c[n]):Math.max(f,c[n])}function HCe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function KCe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=GD({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=GD({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=HCe({translateX:d,translateY:f,useTranslate3d:l})):u=qCe,{cssProperties:u,cssClasses:WCe({translateX:d,translateY:f,coordinate:r})}}function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function YD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YD(Object(r),!0).forEach(function(n){Uk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YG(n.key),n)}}function XCe(e,t,r){return t&&YCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZCe(e,t,r){return t=_2(t),QCe(e,GG()?Reflect.construct(t,r||[],_2(e).constructor):t.apply(e,r))}function QCe(e,t){if(t&&(Rm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JCe(e)}function JCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GG=function(){return!!e})()}function _2(e){return _2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_2(e)}function e3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bk(e,t)}function Bk(e,t){return Bk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bk(e,t)}function Uk(e,t,r){return t=YG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YG(e){var t=t3e(e,"string");return Rm(t)=="symbol"?t:t+""}function t3e(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZD=1,r3e=function(e){function t(){var r;GCe(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=ZCe(this,t,[].concat(i)),Uk(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Uk(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return e3e(t,e),XCe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>ZD||Math.abs(n.height-this.state.lastBoundingBox.height)>ZD)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,y=i.position,m=i.reverseDirection,v=i.useTranslate3d,g=i.viewBox,x=i.wrapperStyle,w=KCe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:g}),j=w.cssClasses,N=w.cssProperties,P=XD(XD({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return se.createElement("div",{tabIndex:-1,className:j,style:P,ref:function(C){n.wrapperNode=C}},u)}}])}(S.PureComponent),n3e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ic={isSsr:n3e(),get:function(t){return Ic[t]},set:function(t,r){if(typeof t=="string")Ic[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(i){Ic[i]=t[i]})}}};function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function QD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(r),!0).forEach(function(n){qT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZG(n.key),n)}}function s3e(e,t,r){return t&&a3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o3e(e,t,r){return t=P2(t),l3e(e,XG()?Reflect.construct(t,r||[],P2(e).constructor):t.apply(e,r))}function l3e(e,t){if(t&&(Fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c3e(e)}function c3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XG=function(){return!!e})()}function P2(e){return P2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P2(e)}function u3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zk(e,t)}function zk(e,t){return zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zk(e,t)}function qT(e,t,r){return t=ZG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=d3e(e,"string");return Fm(t)=="symbol"?t:t+""}function d3e(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f3e(e){return e.dataKey}function h3e(e,t){return se.isValidElement(e)?se.cloneElement(e,t):typeof e=="function"?se.createElement(e,t):se.createElement(UCe,t)}var So=function(e){function t(){return i3e(this,t),o3e(this,t,arguments)}return u3e(t,e),s3e(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,y=i.payload,m=i.payloadUniqBy,v=i.position,g=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,j=i.wrapperStyle,N=y??[];f&&N.length&&(N=BG(y.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),m,f3e));var P=N.length>0;return se.createElement(r3e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:P,offset:p,position:v,reverseDirection:g,useTranslate3d:x,viewBox:w,wrapperStyle:j},h3e(u,JD(JD({},this.props),{},{payload:N})))}}])}(S.PureComponent);qT(So,"displayName","Tooltip");qT(So,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ic.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var p3e=Kl,m3e=function(){return p3e.Date.now()},g3e=m3e,x3e=/\s/;function y3e(e){for(var t=e.length;t--&&x3e.test(e.charAt(t)););return t}var v3e=y3e,b3e=v3e,w3e=/^\s+/;function j3e(e){return e&&e.slice(0,b3e(e)+1).replace(w3e,"")}var N3e=j3e,S3e=N3e,eR=Ld,_3e=bg,tR=NaN,P3e=/^[-+]0x[0-9a-f]+$/i,A3e=/^0b[01]+$/i,k3e=/^0o[0-7]+$/i,C3e=parseInt;function T3e(e){if(typeof e=="number")return e;if(_3e(e))return tR;if(eR(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=eR(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=S3e(e);var r=A3e.test(e);return r||k3e.test(e)?C3e(e.slice(2),r?2:8):P3e.test(e)?tR:+e}var QG=T3e,E3e=Ld,L_=g3e,rR=QG,O3e="Expected a function",M3e=Math.max,L3e=Math.min;function I3e(e,t,r){var n,i,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(O3e);t=rR(t)||0,E3e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?M3e(rR(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function p(P){var k=n,C=i;return n=i=void 0,u=P,o=e.apply(C,k),o}function y(P){return u=P,l=setTimeout(g,t),d?p(P):o}function m(P){var k=P-c,C=P-u,O=t-k;return f?L3e(O,s-C):O}function v(P){var k=P-c,C=P-u;return c===void 0||k>=t||k<0||f&&C>=s}function g(){var P=L_();if(v(P))return x(P);l=setTimeout(g,m(P))}function x(P){return l=void 0,h&&n?p(P):(n=i=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function j(){return l===void 0?o:x(L_())}function N(){var P=L_(),k=v(P);if(n=arguments,i=this,c=P,k){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(g,t),p(c)}return l===void 0&&(l=setTimeout(g,t)),o}return N.cancel=w,N.flush=j,N}var D3e=I3e,R3e=D3e,F3e=Ld,$3e="Expected a function";function B3e(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError($3e);return F3e(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),R3e(e,t,{leading:n,maxWait:t,trailing:i})}var U3e=B3e;const JG=Er(U3e);function yy(e){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yy(e)}function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function c1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(n){z3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z3e(e,t,r){return t=V3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V3e(e){var t=q3e(e,"string");return yy(t)=="symbol"?t:t+""}function q3e(e,t){if(yy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W3e(e,t){return Y3e(e)||G3e(e,t)||K3e(e,t)||H3e()}function H3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K3e(e,t){if(e){if(typeof e=="string")return iR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iR(e,t)}}function iR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Y3e(e){if(Array.isArray(e))return e}var aR=S.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,m=y===void 0?0:y,v=e.id,g=e.className,x=e.onResize,w=e.style,j=w===void 0?{}:w,N=S.useRef(null),P=S.useRef();P.current=x,S.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var k=S.useState({containerWidth:i.width,containerHeight:i.height}),C=W3e(k,2),O=C[0],I=C[1],E=S.useCallback(function(D,R){I(function(G){var F=Math.round(D),q=Math.round(R);return G.containerWidth===F&&G.containerHeight===q?G:{containerWidth:F,containerHeight:q}})},[]);S.useEffect(function(){var D=function(Z){var le,fe=Z[0].contentRect,$=fe.width,Y=fe.height;E($,Y),(le=P.current)===null||le===void 0||le.call(P,$,Y)};m>0&&(D=JG(D,m,{trailing:!0,leading:!1}));var R=new ResizeObserver(D),G=N.current.getBoundingClientRect(),F=G.width,q=G.height;return E(F,q),R.observe(N.current),function(){R.disconnect()}},[E,m]);var A=S.useMemo(function(){var D=O.containerWidth,R=O.containerHeight;if(D<0||R<0)return null;Lc(Mf(o)||Mf(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Lc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=Mf(o)?D:o,F=Mf(c)?R:c;r&&r>0&&(G?F=G/r:F&&(G=F*r),h&&F>h&&(F=h)),Lc(G>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,F,o,c,d,f,r);var q=!Array.isArray(p)&&Mc(p.type).endsWith("Chart");return se.Children.map(p,function(B){return se.isValidElement(B)?S.cloneElement(B,c1({width:G,height:F},q?{style:c1({height:"100%",width:"100%",maxHeight:F,maxWidth:G},B.props.style)}:{})):B})},[r,p,c,h,f,d,O,o]);return se.createElement("div",{id:v?"".concat(v):void 0,className:vr("recharts-responsive-container",g),style:c1(c1({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:N},A)}),eY=function(t){return null};eY.displayName="Cell";function vy(e){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vy(e)}function sR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sR(Object(r),!0).forEach(function(n){X3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X3e(e,t,r){return t=Z3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z3e(e){var t=Q3e(e,"string");return vy(t)=="symbol"?t:t+""}function Q3e(e,t){if(vy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rp={widthCache:{},cacheCount:0},J3e=2e3,eTe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oR="recharts_measurement_span";function tTe(e){var t=Vk({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var g0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ic.isSsr)return{width:0,height:0};var n=tTe(r),i=JSON.stringify({text:t,copyStyle:n});if(rp.widthCache[i])return rp.widthCache[i];try{var s=document.getElementById(oR);s||(s=document.createElement("span"),s.setAttribute("id",oR),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Vk(Vk({},eTe),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return rp.widthCache[i]=c,++rp.cacheCount>J3e&&(rp.cacheCount=0,rp.widthCache={}),c}catch{return{width:0,height:0}}},rTe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function by(e){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},by(e)}function A2(e,t){return sTe(e)||aTe(e,t)||iTe(e,t)||nTe()}function nTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iTe(e,t){if(e){if(typeof e=="string")return lR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lR(e,t)}}function lR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function sTe(e){if(Array.isArray(e))return e}function oTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cTe(n.key),n)}}function lTe(e,t,r){return t&&cR(e.prototype,t),r&&cR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cTe(e){var t=uTe(e,"string");return by(t)=="symbol"?t:t+""}function uTe(e,t){if(by(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(by(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dTe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fTe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},hTe=Object.keys(tY),kp="NaN";function pTe(e,t){return e*tY[t]}var u1=function(){function e(t,r){oTe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!dTe.test(r)&&(this.num=NaN,this.unit=""),hTe.includes(r)&&(this.num=pTe(t,r),this.unit="px")}return lTe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=fTe.exec(r))!==null&&n!==void 0?n:[],s=A2(i,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function rY(e){if(e.includes(kp))return kp;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=uR.exec(t))!==null&&r!==void 0?r:[],i=A2(n,4),s=i[1],o=i[2],l=i[3],c=u1.parse(s??""),u=u1.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return kp;t=t.replace(uR,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=dR.exec(t))!==null&&f!==void 0?f:[],p=A2(h,4),y=p[1],m=p[2],v=p[3],g=u1.parse(y??""),x=u1.parse(v??""),w=m==="+"?g.add(x):g.subtract(x);if(w.isNaN())return kp;t=t.replace(dR,w.toString())}return t}var fR=/\(([^()]*)\)/;function mTe(e){for(var t=e;t.includes("(");){var r=fR.exec(t),n=A2(r,2),i=n[1];t=t.replace(fR,rY(i))}return t}function gTe(e){var t=e.replace(/\s+/g,"");return t=mTe(t),t=rY(t),t}function xTe(e){try{return gTe(e)}catch{return kp}}function I_(e){var t=xTe(e.slice(5,-1));return t===kp?"":t}var yTe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],vTe=["dx","dy","angle","className","breakAll"];function qk(){return qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qk.apply(this,arguments)}function hR(e,t){if(e==null)return{};var r=bTe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pR(e,t){return STe(e)||NTe(e,t)||jTe(e,t)||wTe()}function wTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jTe(e,t){if(e){if(typeof e=="string")return mR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mR(e,t)}}function mR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function STe(e){if(Array.isArray(e))return e}var nY=/[ \f\n\r\t\v\u2028\u2029]+/,iY=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];dr(r)||(n?s=r.toString().split(""):s=r.toString().split(nY));var o=s.map(function(c){return{word:c,width:g0(c,i).width}}),l=n?0:g0("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},_Te=function(t,r,n,i,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=tt(o),f=l,h=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(F,q){var B=q.word,Z=q.width,le=F[F.length-1];if(le&&(i==null||s||le.width+Z+n<Number(i)))le.words.push(B),le.width+=Z+n;else{var fe={words:[B],width:Z};F.push(fe)}return F},[])},p=h(r),y=function(G){return G.reduce(function(F,q){return F.width>q.width?F:q})};if(!d)return p;for(var m="",v=function(G){var F=f.slice(0,G),q=iY({breakAll:u,style:c,children:F+m}).wordsWithComputedWidth,B=h(q),Z=B.length>o||y(B).width>Number(i);return[Z,B]},g=0,x=f.length-1,w=0,j;g<=x&&w<=f.length-1;){var N=Math.floor((g+x)/2),P=N-1,k=v(P),C=pR(k,2),O=C[0],I=C[1],E=v(N),A=pR(E,1),D=A[0];if(!O&&!D&&(g=N+1),O&&D&&(x=N-1),!O&&D){j=I;break}w++}return j||p},gR=function(t){var r=dr(t)?[]:t.toString().split(nY);return[{words:r}]},PTe=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Ic.isSsr){var c,u,d=iY({breakAll:o,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return gR(i);return _Te({breakAll:o,children:i,maxLines:l,style:s},c,u,r,n)}return gR(i)},xR="#808080",k2=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,m=y===void 0?"end":y,v=t.fill,g=v===void 0?xR:v,x=hR(t,yTe),w=S.useMemo(function(){return PTe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),j=x.dx,N=x.dy,P=x.angle,k=x.className,C=x.breakAll,O=hR(x,vTe);if(!xi(n)||!xi(s))return null;var I=n+(tt(j)?j:0),E=s+(tt(N)?N:0),A;switch(m){case"start":A=I_("calc(".concat(u,")"));break;case"middle":A=I_("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:A=I_("calc(".concat(w.length-1," * -").concat(l,")"));break}var D=[];if(f){var R=w[0].width,G=x.width;D.push("scale(".concat((tt(G)?G/R:1)/R,")"))}return P&&D.push("rotate(".concat(P,", ").concat(I,", ").concat(E,")")),D.length&&(O.transform=D.join(" ")),se.createElement("text",qk({},yr(O,!0),{x:I,y:E,className:vr("recharts-text",k),textAnchor:p,fill:g.includes("url")?xR:g}),w.map(function(F,q){var B=F.words.join(C?"":" ");return se.createElement("tspan",{x:I,dy:q===0?A:l,key:"".concat(B,"-").concat(q)},B)}))};function hd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ATe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function WT(e){let t,r,n;e.length!==2?(t=hd,r=(l,c)=>hd(e(l),c),n=(l,c)=>e(l)-c):(t=e===hd||e===ATe?e:kTe,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:o,right:s}}function kTe(){return 0}function aY(e){return e===null?NaN:+e}function*CTe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const TTe=WT(hd),Tv=TTe.right;WT(aY).center;class yR extends Map{constructor(t,r=MTe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(vR(this,t))}has(t){return super.has(vR(this,t))}set(t,r){return super.set(ETe(this,t),r)}delete(t){return super.delete(OTe(this,t))}}function vR({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function ETe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function OTe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function MTe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function LTe(e=hd){if(e===hd)return sY;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function sY(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ITe=Math.sqrt(50),DTe=Math.sqrt(10),RTe=Math.sqrt(2);function C2(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=ITe?10:s>=DTe?5:s>=RTe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?C2(e,t,r*2):[l,c,u]}function Wk(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?C2(t,e,r):C2(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function Hk(e,t,r){return t=+t,e=+e,r=+r,C2(e,t,r)[2]}function Kk(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Hk(t,e,r):Hk(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function bR(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function wR(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function oY(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?sY:LTe(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));oY(e,t,p,y,i)}const s=e[t];let o=r,l=n;for(kx(e,r,t),i(e[n],s)>0&&kx(e,r,n);o<l;){for(kx(e,o,l),++o,--l;i(e[o],s)<0;)++o;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?kx(e,r,l):(++l,kx(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function kx(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function FTe(e,t,r){if(e=Float64Array.from(CTe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return wR(e);if(t>=1)return bR(e);var n,i=(n-1)*t,s=Math.floor(i),o=bR(oY(e,s).subarray(0,s+1)),l=wR(e.subarray(s+1));return o+(l-o)*(i-s)}}function $Te(e,t,r=aY){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(i-s)}}function BTe(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function oo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ru(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Gk=Symbol("implicit");function HT(){var e=new yR,t=[],r=[],n=Gk;function i(s){let o=e.get(s);if(o===void 0){if(n!==Gk)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new yR;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return HT(t,r).unknown(n)},oo.apply(i,arguments),i}function wy(){var e=HT().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=i<n,y=p?i:n,m=p?n:i;s=(m-y)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),y+=(m-y-s*(h-c))*d,o=s*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=BTe(h).map(function(g){return y+s*g});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return wy(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},oo.apply(f(),arguments)}function lY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return lY(t())},e}function x0(){return lY(wy.apply(null,arguments).paddingInner(1))}function KT(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function cY(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ev(){}var jy=.7,T2=1/jy,Qp="\\s*([+-]?\\d+)\\s*",Ny="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Il="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UTe=/^#([0-9a-f]{3,8})$/,zTe=new RegExp(`^rgb\\(${Qp},${Qp},${Qp}\\)$`),VTe=new RegExp(`^rgb\\(${Il},${Il},${Il}\\)$`),qTe=new RegExp(`^rgba\\(${Qp},${Qp},${Qp},${Ny}\\)$`),WTe=new RegExp(`^rgba\\(${Il},${Il},${Il},${Ny}\\)$`),HTe=new RegExp(`^hsl\\(${Ny},${Il},${Il}\\)$`),KTe=new RegExp(`^hsla\\(${Ny},${Il},${Il},${Ny}\\)$`),jR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};KT(Ev,Sy,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:NR,formatHex:NR,formatHex8:GTe,formatHsl:YTe,formatRgb:SR,toString:SR});function NR(){return this.rgb().formatHex()}function GTe(){return this.rgb().formatHex8()}function YTe(){return uY(this).formatHsl()}function SR(){return this.rgb().formatRgb()}function Sy(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=UTe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?_R(t):r===3?new La(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?d1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?d1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zTe.exec(e))?new La(t[1],t[2],t[3],1):(t=VTe.exec(e))?new La(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=qTe.exec(e))?d1(t[1],t[2],t[3],t[4]):(t=WTe.exec(e))?d1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=HTe.exec(e))?kR(t[1],t[2]/100,t[3]/100,1):(t=KTe.exec(e))?kR(t[1],t[2]/100,t[3]/100,t[4]):jR.hasOwnProperty(e)?_R(jR[e]):e==="transparent"?new La(NaN,NaN,NaN,0):null}function _R(e){return new La(e>>16&255,e>>8&255,e&255,1)}function d1(e,t,r,n){return n<=0&&(e=t=r=NaN),new La(e,t,r,n)}function XTe(e){return e instanceof Ev||(e=Sy(e)),e?(e=e.rgb(),new La(e.r,e.g,e.b,e.opacity)):new La}function Yk(e,t,r,n){return arguments.length===1?XTe(e):new La(e,t,r,n??1)}function La(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}KT(La,Yk,cY(Ev,{brighter(e){return e=e==null?T2:Math.pow(T2,e),new La(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jy:Math.pow(jy,e),new La(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new La(Xf(this.r),Xf(this.g),Xf(this.b),E2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:PR,formatHex:PR,formatHex8:ZTe,formatRgb:AR,toString:AR}));function PR(){return`#${Lf(this.r)}${Lf(this.g)}${Lf(this.b)}`}function ZTe(){return`#${Lf(this.r)}${Lf(this.g)}${Lf(this.b)}${Lf((isNaN(this.opacity)?1:this.opacity)*255)}`}function AR(){const e=E2(this.opacity);return`${e===1?"rgb(":"rgba("}${Xf(this.r)}, ${Xf(this.g)}, ${Xf(this.b)}${e===1?")":`, ${e})`}`}function E2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Lf(e){return e=Xf(e),(e<16?"0":"")+e.toString(16)}function kR(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Oo(e,t,r,n)}function uY(e){if(e instanceof Oo)return new Oo(e.h,e.s,e.l,e.opacity);if(e instanceof Ev||(e=Sy(e)),!e)return new Oo;if(e instanceof Oo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-i,c=(s+i)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new Oo(o,l,c,e.opacity)}function QTe(e,t,r,n){return arguments.length===1?uY(e):new Oo(e,t,r,n??1)}function Oo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}KT(Oo,QTe,cY(Ev,{brighter(e){return e=e==null?T2:Math.pow(T2,e),new Oo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jy:Math.pow(jy,e),new Oo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new La(D_(e>=240?e-240:e+120,i,n),D_(e,i,n),D_(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Oo(CR(this.h),f1(this.s),f1(this.l),E2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=E2(this.opacity);return`${e===1?"hsl(":"hsla("}${CR(this.h)}, ${f1(this.s)*100}%, ${f1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function CR(e){return e=(e||0)%360,e<0?e+360:e}function f1(e){return Math.max(0,Math.min(1,e||0))}function D_(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const GT=e=>()=>e;function JTe(e,t){return function(r){return e+r*t}}function eEe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function tEe(e){return(e=+e)==1?dY:function(t,r){return r-t?eEe(t,r,e):GT(isNaN(t)?r:t)}}function dY(e,t){var r=t-e;return r?JTe(e,r):GT(isNaN(e)?t:e)}const TR=function e(t){var r=tEe(t);function n(i,s){var o=r((i=Yk(i)).r,(s=Yk(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=dY(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function rEe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function nEe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function iEe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=kg(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function aEe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function O2(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function sEe(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=kg(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Xk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,R_=new RegExp(Xk.source,"g");function oEe(e){return function(){return e}}function lEe(e){return function(t){return e(t)+""}}function cEe(e,t){var r=Xk.lastIndex=R_.lastIndex=0,n,i,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Xk.exec(e))&&(i=R_.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:O2(n,i)})),r=R_.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?lEe(c[0].x):oEe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function kg(e,t){var r=typeof t,n;return t==null||r==="boolean"?GT(t):(r==="number"?O2:r==="string"?(n=Sy(t))?(t=n,TR):cEe:t instanceof Sy?TR:t instanceof Date?aEe:nEe(t)?rEe:Array.isArray(t)?iEe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sEe:O2)(e,t)}function YT(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function uEe(e,t){t===void 0&&(t=e,e=kg);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function dEe(e){return function(){return e}}function M2(e){return+e}var ER=[0,1];function va(e){return e}function Zk(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:dEe(isNaN(t)?NaN:.5)}function fEe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function hEe(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=Zk(i,n),s=r(o,s)):(n=Zk(n,i),s=r(s,o)),function(l){return s(n(l))}}function pEe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Zk(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=Tv(e,l,1,n)-1;return s[c](i[c](l))}}function Ov(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function IN(){var e=ER,t=ER,r=kg,n,i,s,o=va,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==va&&(o=fEe(e[0],e[h-1])),l=h>2?pEe:hEe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(i((u||(u=l(t,e.map(n),O2)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,M2),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=YT,d()},f.clamp=function(h){return arguments.length?(o=h?!0:va,d()):o!==va},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return n=h,i=p,d()}}function XT(){return IN()(va,va)}function mEe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function L2(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function $m(e){return e=L2(Math.abs(e)),e?e[1]:NaN}function gEe(e,t){return function(r,n){for(var i=r.length,s=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function xEe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var yEe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _y(e){if(!(t=yEe.exec(e)))throw new Error("invalid format: "+e);var t;return new ZT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_y.prototype=ZT.prototype;function ZT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ZT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vEe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var fY;function bEe(e,t){var r=L2(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(fY=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+L2(e,Math.max(0,t+s-1))[0]}function OR(e,t){var r=L2(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const MR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mEe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>OR(e*100,t),r:OR,s:bEe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function LR(e){return e}var IR=Array.prototype.map,DR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wEe(e){var t=e.grouping===void 0||e.thousands===void 0?LR:gEe(IR.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?LR:xEe(IR.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=_y(f);var h=f.fill,p=f.align,y=f.sign,m=f.symbol,v=f.zero,g=f.width,x=f.comma,w=f.precision,j=f.trim,N=f.type;N==="n"?(x=!0,N="g"):MR[N]||(w===void 0&&(w=12),j=!0,N="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var P=m==="$"?r:m==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",k=m==="$"?n:/[%p]/.test(N)?o:"",C=MR[N],O=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(E){var A=P,D=k,R,G,F;if(N==="c")D=C(E)+D,E="";else{E=+E;var q=E<0||1/E<0;if(E=isNaN(E)?c:C(Math.abs(E),w),j&&(E=vEe(E)),q&&+E==0&&y!=="+"&&(q=!1),A=(q?y==="("?y:l:y==="-"||y==="("?"":y)+A,D=(N==="s"?DR[8+fY/3]:"")+D+(q&&y==="("?")":""),O){for(R=-1,G=E.length;++R<G;)if(F=E.charCodeAt(R),48>F||F>57){D=(F===46?i+E.slice(R+1):E.slice(R))+D,E=E.slice(0,R);break}}}x&&!v&&(E=t(E,1/0));var B=A.length+E.length+D.length,Z=B<g?new Array(g-B+1).join(h):"";switch(x&&v&&(E=t(Z+E,Z.length?g-D.length:1/0),Z=""),p){case"<":E=A+E+D+Z;break;case"=":E=A+Z+E+D;break;case"^":E=Z.slice(0,B=Z.length>>1)+A+E+D+Z.slice(B);break;default:E=Z+A+E+D;break}return s(E)}return I.toString=function(){return f+""},I}function d(f,h){var p=u((f=_y(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor($m(h)/3)))*3,m=Math.pow(10,-y),v=DR[8+y/3];return function(g){return p(m*g)+v}}return{format:u,formatPrefix:d}}var h1,QT,hY;jEe({thousands:",",grouping:[3],currency:["$",""]});function jEe(e){return h1=wEe(e),QT=h1.format,hY=h1.formatPrefix,h1}function NEe(e){return Math.max(0,-$m(Math.abs(e)))}function SEe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($m(t)/3)))*3-$m(Math.abs(e)))}function _Ee(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,$m(t)-$m(e))+1}function pY(e,t,r,n){var i=Kk(e,t,r),s;switch(n=_y(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=SEe(i,o))&&(n.precision=s),hY(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=_Ee(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=NEe(i))&&(n.precision=s-(n.type==="%")*2);break}}return QT(n)}function Dd(e){var t=e.domain;return e.ticks=function(r){var n=t();return Wk(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return pY(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=Hk(o,l,r),u===c)return n[i]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function I2(){var e=XT();return e.copy=function(){return Ov(e,I2())},oo.apply(e,arguments),Dd(e)}function mY(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,M2),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return mY(e).unknown(t)},e=arguments.length?Array.from(e,M2):[0,1],Dd(r)}function gY(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function RR(e){return Math.log(e)}function FR(e){return Math.exp(e)}function PEe(e){return-Math.log(-e)}function AEe(e){return-Math.exp(-e)}function kEe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function CEe(e){return e===10?kEe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function TEe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $R(e){return(t,r)=>-e(-t,r)}function JT(e){const t=e(RR,FR),r=t.domain;let n=10,i,s;function o(){return i=TEe(n),s=CEe(n),r()[0]<0?(i=$R(i),s=$R(s),e(PEe,AEe)):e(RR,FR),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),y,m;const v=l==null?10:+l;let g=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<n;++y)if(m=h<0?y/s(-h):y*s(h),!(m<u)){if(m>d)break;g.push(m)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(m=h>0?y/s(-h):y*s(h),!(m<u)){if(m>d)break;g.push(m)}g.length*2<v&&(g=Wk(u,d,v))}else g=Wk(h,p,Math.min(p-h,v)).map(s);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=_y(c)).precision==null&&(c.trim=!0),c=QT(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(gY(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function xY(){const e=JT(IN()).domain([1,10]);return e.copy=()=>Ov(e,xY()).base(e.base()),oo.apply(e,arguments),e}function BR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function UR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function eE(e){var t=1,r=e(BR(t),UR(t));return r.constant=function(n){return arguments.length?e(BR(t=+n),UR(t)):t},Dd(r)}function yY(){var e=eE(IN());return e.copy=function(){return Ov(e,yY()).constant(e.constant())},oo.apply(e,arguments)}function zR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function EEe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function OEe(e){return e<0?-e*e:e*e}function tE(e){var t=e(va,va),r=1;function n(){return r===1?e(va,va):r===.5?e(EEe,OEe):e(zR(r),zR(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Dd(t)}function rE(){var e=tE(IN());return e.copy=function(){return Ov(e,rE()).exponent(e.exponent())},oo.apply(e,arguments),e}function MEe(){return rE.apply(null,arguments).exponent(.5)}function VR(e){return Math.sign(e)*e*e}function LEe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function vY(){var e=XT(),t=[0,1],r=!1,n;function i(s){var o=LEe(e(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return e.invert(VR(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,M2)).map(VR)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return vY(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},oo.apply(i,arguments),Dd(i)}function bY(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=$Te(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[Tv(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(hd),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return bY().domain(e).range(t).unknown(n)},oo.apply(s,arguments)}function wY(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[Tv(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return wY().domain([e,t]).range(i).unknown(s)},oo.apply(Dd(o),arguments)}function jY(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Tv(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return jY().domain(e).range(t).unknown(r)},oo.apply(i,arguments)}const F_=new Date,$_=new Date;function yi(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},i.filter=s=>yi(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(F_.setTime(+s),$_.setTime(+o),e(F_),e($_),Math.floor(r(F_,$_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const D2=yi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);D2.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?yi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):D2);D2.range;const _c=1e3,Hs=_c*60,Pc=Hs*60,Yc=Pc*24,nE=Yc*7,qR=Yc*30,B_=Yc*365,If=yi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_c)},(e,t)=>(t-e)/_c,e=>e.getUTCSeconds());If.range;const iE=yi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_c)},(e,t)=>{e.setTime(+e+t*Hs)},(e,t)=>(t-e)/Hs,e=>e.getMinutes());iE.range;const aE=yi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Hs)},(e,t)=>(t-e)/Hs,e=>e.getUTCMinutes());aE.range;const sE=yi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_c-e.getMinutes()*Hs)},(e,t)=>{e.setTime(+e+t*Pc)},(e,t)=>(t-e)/Pc,e=>e.getHours());sE.range;const oE=yi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Pc)},(e,t)=>(t-e)/Pc,e=>e.getUTCHours());oE.range;const Mv=yi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hs)/Yc,e=>e.getDate()-1);Mv.range;const DN=yi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yc,e=>e.getUTCDate()-1);DN.range;const NY=yi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yc,e=>Math.floor(e/Yc));NY.range;function kh(e){return yi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Hs)/nE)}const RN=kh(0),R2=kh(1),IEe=kh(2),DEe=kh(3),Bm=kh(4),REe=kh(5),FEe=kh(6);RN.range;R2.range;IEe.range;DEe.range;Bm.range;REe.range;FEe.range;function Ch(e){return yi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/nE)}const FN=Ch(0),F2=Ch(1),$Ee=Ch(2),BEe=Ch(3),Um=Ch(4),UEe=Ch(5),zEe=Ch(6);FN.range;F2.range;$Ee.range;BEe.range;Um.range;UEe.range;zEe.range;const lE=yi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());lE.range;const cE=yi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());cE.range;const Xc=yi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Xc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Xc.range;const Zc=yi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Zc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Zc.range;function SY(e,t,r,n,i,s){const o=[[If,1,_c],[If,5,5*_c],[If,15,15*_c],[If,30,30*_c],[s,1,Hs],[s,5,5*Hs],[s,15,15*Hs],[s,30,30*Hs],[i,1,Pc],[i,3,3*Pc],[i,6,6*Pc],[i,12,12*Pc],[n,1,Yc],[n,2,2*Yc],[r,1,nE],[t,1,qR],[t,3,3*qR],[e,1,B_]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),y=p?p.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,p=WT(([,,v])=>v).right(o,h);if(p===o.length)return e.every(Kk(u/B_,d/B_,f));if(p===0)return D2.every(Math.max(Kk(u,d,f),1));const[y,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return y.every(m)}return[l,c]}const[VEe,qEe]=SY(Zc,cE,FN,NY,oE,aE),[WEe,HEe]=SY(Xc,lE,RN,Mv,sE,iE);function U_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function z_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cx(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function KEe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Tx(i),d=Ex(i),f=Tx(s),h=Ex(s),p=Tx(o),y=Ex(o),m=Tx(l),v=Ex(l),g=Tx(c),x=Ex(c),w={a:q,A:B,b:Z,B:le,c:null,d:XR,e:XR,f:gOe,g:POe,G:kOe,H:hOe,I:pOe,j:mOe,L:_Y,m:xOe,M:yOe,p:fe,q:$,Q:JR,s:eF,S:vOe,u:bOe,U:wOe,V:jOe,w:NOe,W:SOe,x:null,X:null,y:_Oe,Y:AOe,Z:COe,"%":QR},j={a:Y,A:J,b:ae,B:de,c:null,d:ZR,e:ZR,f:MOe,g:VOe,G:WOe,H:TOe,I:EOe,j:OOe,L:AY,m:LOe,M:IOe,p:ce,q:be,Q:JR,s:eF,S:DOe,u:ROe,U:FOe,V:$Oe,w:BOe,W:UOe,x:null,X:null,y:zOe,Y:qOe,Z:HOe,"%":QR},N={a:I,A:E,b:A,B:D,c:R,d:GR,e:GR,f:cOe,g:KR,G:HR,H:YR,I:YR,j:aOe,L:lOe,m:iOe,M:sOe,p:O,q:nOe,Q:dOe,s:fOe,S:oOe,u:QEe,U:JEe,V:eOe,w:ZEe,W:tOe,x:G,X:F,y:KR,Y:HR,Z:rOe,"%":uOe};w.x=P(r,w),w.X=P(n,w),w.c=P(t,w),j.x=P(r,j),j.X=P(n,j),j.c=P(t,j);function P(oe,ye){return function(je){var pe=[],Ne=-1,xe=0,V=oe.length,Ve,Ze,it;for(je instanceof Date||(je=new Date(+je));++Ne<V;)oe.charCodeAt(Ne)===37&&(pe.push(oe.slice(xe,Ne)),(Ze=WR[Ve=oe.charAt(++Ne)])!=null?Ve=oe.charAt(++Ne):Ze=Ve==="e"?" ":"0",(it=ye[Ve])&&(Ve=it(je,Ze)),pe.push(Ve),xe=Ne+1);return pe.push(oe.slice(xe,Ne)),pe.join("")}}function k(oe,ye){return function(je){var pe=Cx(1900,void 0,1),Ne=C(pe,oe,je+="",0),xe,V;if(Ne!=je.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(ye&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(xe=z_(Cx(pe.y,0,1)),V=xe.getUTCDay(),xe=V>4||V===0?F2.ceil(xe):F2(xe),xe=DN.offset(xe,(pe.V-1)*7),pe.y=xe.getUTCFullYear(),pe.m=xe.getUTCMonth(),pe.d=xe.getUTCDate()+(pe.w+6)%7):(xe=U_(Cx(pe.y,0,1)),V=xe.getDay(),xe=V>4||V===0?R2.ceil(xe):R2(xe),xe=Mv.offset(xe,(pe.V-1)*7),pe.y=xe.getFullYear(),pe.m=xe.getMonth(),pe.d=xe.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),V="Z"in pe?z_(Cx(pe.y,0,1)).getUTCDay():U_(Cx(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(V+5)%7:pe.w+pe.U*7-(V+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,z_(pe)):U_(pe)}}function C(oe,ye,je,pe){for(var Ne=0,xe=ye.length,V=je.length,Ve,Ze;Ne<xe;){if(pe>=V)return-1;if(Ve=ye.charCodeAt(Ne++),Ve===37){if(Ve=ye.charAt(Ne++),Ze=N[Ve in WR?ye.charAt(Ne++):Ve],!Ze||(pe=Ze(oe,je,pe))<0)return-1}else if(Ve!=je.charCodeAt(pe++))return-1}return pe}function O(oe,ye,je){var pe=u.exec(ye.slice(je));return pe?(oe.p=d.get(pe[0].toLowerCase()),je+pe[0].length):-1}function I(oe,ye,je){var pe=p.exec(ye.slice(je));return pe?(oe.w=y.get(pe[0].toLowerCase()),je+pe[0].length):-1}function E(oe,ye,je){var pe=f.exec(ye.slice(je));return pe?(oe.w=h.get(pe[0].toLowerCase()),je+pe[0].length):-1}function A(oe,ye,je){var pe=g.exec(ye.slice(je));return pe?(oe.m=x.get(pe[0].toLowerCase()),je+pe[0].length):-1}function D(oe,ye,je){var pe=m.exec(ye.slice(je));return pe?(oe.m=v.get(pe[0].toLowerCase()),je+pe[0].length):-1}function R(oe,ye,je){return C(oe,t,ye,je)}function G(oe,ye,je){return C(oe,r,ye,je)}function F(oe,ye,je){return C(oe,n,ye,je)}function q(oe){return o[oe.getDay()]}function B(oe){return s[oe.getDay()]}function Z(oe){return c[oe.getMonth()]}function le(oe){return l[oe.getMonth()]}function fe(oe){return i[+(oe.getHours()>=12)]}function $(oe){return 1+~~(oe.getMonth()/3)}function Y(oe){return o[oe.getUTCDay()]}function J(oe){return s[oe.getUTCDay()]}function ae(oe){return c[oe.getUTCMonth()]}function de(oe){return l[oe.getUTCMonth()]}function ce(oe){return i[+(oe.getUTCHours()>=12)]}function be(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ye=P(oe+="",w);return ye.toString=function(){return oe},ye},parse:function(oe){var ye=k(oe+="",!1);return ye.toString=function(){return oe},ye},utcFormat:function(oe){var ye=P(oe+="",j);return ye.toString=function(){return oe},ye},utcParse:function(oe){var ye=k(oe+="",!0);return ye.toString=function(){return oe},ye}}}var WR={"-":"",_:" ",0:"0"},ki=/^\s*\d+/,GEe=/^%/,YEe=/[\\^$*+?|[\]().{}]/g;function Ar(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function XEe(e){return e.replace(YEe,"\\$&")}function Tx(e){return new RegExp("^(?:"+e.map(XEe).join("|")+")","i")}function Ex(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function ZEe(e,t,r){var n=ki.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function QEe(e,t,r){var n=ki.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function JEe(e,t,r){var n=ki.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function eOe(e,t,r){var n=ki.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function tOe(e,t,r){var n=ki.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function HR(e,t,r){var n=ki.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function KR(e,t,r){var n=ki.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function rOe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function nOe(e,t,r){var n=ki.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function iOe(e,t,r){var n=ki.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function GR(e,t,r){var n=ki.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function aOe(e,t,r){var n=ki.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function YR(e,t,r){var n=ki.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function sOe(e,t,r){var n=ki.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function oOe(e,t,r){var n=ki.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function lOe(e,t,r){var n=ki.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function cOe(e,t,r){var n=ki.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function uOe(e,t,r){var n=GEe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function dOe(e,t,r){var n=ki.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function fOe(e,t,r){var n=ki.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function XR(e,t){return Ar(e.getDate(),t,2)}function hOe(e,t){return Ar(e.getHours(),t,2)}function pOe(e,t){return Ar(e.getHours()%12||12,t,2)}function mOe(e,t){return Ar(1+Mv.count(Xc(e),e),t,3)}function _Y(e,t){return Ar(e.getMilliseconds(),t,3)}function gOe(e,t){return _Y(e,t)+"000"}function xOe(e,t){return Ar(e.getMonth()+1,t,2)}function yOe(e,t){return Ar(e.getMinutes(),t,2)}function vOe(e,t){return Ar(e.getSeconds(),t,2)}function bOe(e){var t=e.getDay();return t===0?7:t}function wOe(e,t){return Ar(RN.count(Xc(e)-1,e),t,2)}function PY(e){var t=e.getDay();return t>=4||t===0?Bm(e):Bm.ceil(e)}function jOe(e,t){return e=PY(e),Ar(Bm.count(Xc(e),e)+(Xc(e).getDay()===4),t,2)}function NOe(e){return e.getDay()}function SOe(e,t){return Ar(R2.count(Xc(e)-1,e),t,2)}function _Oe(e,t){return Ar(e.getFullYear()%100,t,2)}function POe(e,t){return e=PY(e),Ar(e.getFullYear()%100,t,2)}function AOe(e,t){return Ar(e.getFullYear()%1e4,t,4)}function kOe(e,t){var r=e.getDay();return e=r>=4||r===0?Bm(e):Bm.ceil(e),Ar(e.getFullYear()%1e4,t,4)}function COe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ar(t/60|0,"0",2)+Ar(t%60,"0",2)}function ZR(e,t){return Ar(e.getUTCDate(),t,2)}function TOe(e,t){return Ar(e.getUTCHours(),t,2)}function EOe(e,t){return Ar(e.getUTCHours()%12||12,t,2)}function OOe(e,t){return Ar(1+DN.count(Zc(e),e),t,3)}function AY(e,t){return Ar(e.getUTCMilliseconds(),t,3)}function MOe(e,t){return AY(e,t)+"000"}function LOe(e,t){return Ar(e.getUTCMonth()+1,t,2)}function IOe(e,t){return Ar(e.getUTCMinutes(),t,2)}function DOe(e,t){return Ar(e.getUTCSeconds(),t,2)}function ROe(e){var t=e.getUTCDay();return t===0?7:t}function FOe(e,t){return Ar(FN.count(Zc(e)-1,e),t,2)}function kY(e){var t=e.getUTCDay();return t>=4||t===0?Um(e):Um.ceil(e)}function $Oe(e,t){return e=kY(e),Ar(Um.count(Zc(e),e)+(Zc(e).getUTCDay()===4),t,2)}function BOe(e){return e.getUTCDay()}function UOe(e,t){return Ar(F2.count(Zc(e)-1,e),t,2)}function zOe(e,t){return Ar(e.getUTCFullYear()%100,t,2)}function VOe(e,t){return e=kY(e),Ar(e.getUTCFullYear()%100,t,2)}function qOe(e,t){return Ar(e.getUTCFullYear()%1e4,t,4)}function WOe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Um(e):Um.ceil(e),Ar(e.getUTCFullYear()%1e4,t,4)}function HOe(){return"+0000"}function QR(){return"%"}function JR(e){return+e}function eF(e){return Math.floor(+e/1e3)}var np,CY,TY;KOe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function KOe(e){return np=KEe(e),CY=np.format,np.parse,TY=np.utcFormat,np.utcParse,np}function GOe(e){return new Date(e)}function YOe(e){return e instanceof Date?+e:+new Date(+e)}function uE(e,t,r,n,i,s,o,l,c,u){var d=XT(),f=d.invert,h=d.domain,p=u(".%L"),y=u(":%S"),m=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),x=u("%b %d"),w=u("%B"),j=u("%Y");function N(P){return(c(P)<P?p:l(P)<P?y:o(P)<P?m:s(P)<P?v:n(P)<P?i(P)<P?g:x:r(P)<P?w:j)(P)}return d.invert=function(P){return new Date(f(P))},d.domain=function(P){return arguments.length?h(Array.from(P,YOe)):h().map(GOe)},d.ticks=function(P){var k=h();return e(k[0],k[k.length-1],P??10)},d.tickFormat=function(P,k){return k==null?N:u(k)},d.nice=function(P){var k=h();return(!P||typeof P.range!="function")&&(P=t(k[0],k[k.length-1],P??10)),P?h(gY(k,P)):d},d.copy=function(){return Ov(d,uE(e,t,r,n,i,s,o,l,c,u))},d}function XOe(){return oo.apply(uE(WEe,HEe,Xc,lE,RN,Mv,sE,iE,If,CY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZOe(){return oo.apply(uE(VEe,qEe,Zc,cE,FN,DN,oE,aE,If,TY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $N(){var e=0,t=1,r,n,i,s,o=va,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(s(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,y;return arguments.length?([p,y]=h,o=f(p,y),u):[o(0),o(1)]}}return u.range=d(kg),u.rangeRound=d(YT),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Rd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function EY(){var e=Dd($N()(va));return e.copy=function(){return Rd(e,EY())},ru.apply(e,arguments)}function OY(){var e=JT($N()).domain([1,10]);return e.copy=function(){return Rd(e,OY()).base(e.base())},ru.apply(e,arguments)}function MY(){var e=eE($N());return e.copy=function(){return Rd(e,MY()).constant(e.constant())},ru.apply(e,arguments)}function dE(){var e=tE($N());return e.copy=function(){return Rd(e,dE()).exponent(e.exponent())},ru.apply(e,arguments)}function QOe(){return dE.apply(null,arguments).exponent(.5)}function LY(){var e=[],t=va;function r(n){if(n!=null&&!isNaN(n=+n))return t((Tv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(hd),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>FTe(e,s/n))},r.copy=function(){return LY(t).domain(e)},ru.apply(r,arguments)}function BN(){var e=0,t=.5,r=1,n=1,i,s,o,l,c,u=va,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-s)*(n*m<n*s?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,i=d(e=+e),s=d(t=+t),o=d(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function y(m){return function(v){var g,x,w;return arguments.length?([g,x,w]=v,u=uEe(m,[g,x,w]),p):[u(0),u(.5),u(1)]}}return p.range=y(kg),p.rangeRound=y(YT),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,i=m(e),s=m(t),o=m(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,p}}function IY(){var e=Dd(BN()(va));return e.copy=function(){return Rd(e,IY())},ru.apply(e,arguments)}function DY(){var e=JT(BN()).domain([.1,1,10]);return e.copy=function(){return Rd(e,DY()).base(e.base())},ru.apply(e,arguments)}function RY(){var e=eE(BN());return e.copy=function(){return Rd(e,RY()).constant(e.constant())},ru.apply(e,arguments)}function fE(){var e=tE(BN());return e.copy=function(){return Rd(e,fE()).exponent(e.exponent())},ru.apply(e,arguments)}function JOe(){return fE.apply(null,arguments).exponent(.5)}const tF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wy,scaleDiverging:IY,scaleDivergingLog:DY,scaleDivergingPow:fE,scaleDivergingSqrt:JOe,scaleDivergingSymlog:RY,scaleIdentity:mY,scaleImplicit:Gk,scaleLinear:I2,scaleLog:xY,scaleOrdinal:HT,scalePoint:x0,scalePow:rE,scaleQuantile:bY,scaleQuantize:wY,scaleRadial:vY,scaleSequential:EY,scaleSequentialLog:OY,scaleSequentialPow:dE,scaleSequentialQuantile:LY,scaleSequentialSqrt:QOe,scaleSequentialSymlog:MY,scaleSqrt:MEe,scaleSymlog:yY,scaleThreshold:jY,scaleTime:XOe,scaleUtc:ZOe,tickFormat:pY},Symbol.toStringTag,{value:"Module"}));var e6e=bg;function t6e(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!e6e(o):r(o,l)))var l=o,c=s}return c}var FY=t6e;function r6e(e,t){return e>t}var n6e=r6e,i6e=FY,a6e=n6e,s6e=Ag;function o6e(e){return e&&e.length?i6e(e,s6e,a6e):void 0}var l6e=o6e;const UN=Er(l6e);function c6e(e,t){return e<t}var u6e=c6e,d6e=FY,f6e=u6e,h6e=Ag;function p6e(e){return e&&e.length?d6e(e,h6e,f6e):void 0}var m6e=p6e;const zN=Er(m6e);var g6e=PT,x6e=Id,y6e=HG,v6e=za;function b6e(e,t){var r=v6e(e)?g6e:y6e;return r(e,x6e(t))}var w6e=b6e,j6e=qG,N6e=w6e;function S6e(e,t){return j6e(N6e(e,t),1)}var _6e=S6e;const P6e=Er(_6e);var A6e=UT;function k6e(e,t){return A6e(e,t)}var C6e=k6e;const VN=Er(C6e);var Cg=1e9,T6e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},pE,bn=!0,no="[DecimalError] ",Zf=no+"Invalid argument: ",hE=no+"Exponent out of range: ",Tg=Math.floor,bf=Math.pow,E6e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ss,wi=1e7,mn=7,$Y=9007199254740991,$2=Tg($Y/mn),ht={};ht.absoluteValue=ht.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ht.comparedTo=ht.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ht.decimalPlaces=ht.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*mn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ht.dividedBy=ht.div=function(e){return Dc(this,new this.constructor(e))};ht.dividedToIntegerBy=ht.idiv=function(e){var t=this,r=t.constructor;return sn(Dc(t,new r(e),0,1),r.precision)};ht.equals=ht.eq=function(e){return!this.cmp(e)};ht.exponent=function(){return ii(this)};ht.greaterThan=ht.gt=function(e){return this.cmp(e)>0};ht.greaterThanOrEqualTo=ht.gte=function(e){return this.cmp(e)>=0};ht.isInteger=ht.isint=function(){return this.e>this.d.length-2};ht.isNegative=ht.isneg=function(){return this.s<0};ht.isPositive=ht.ispos=function(){return this.s>0};ht.isZero=function(){return this.s===0};ht.lessThan=ht.lt=function(e){return this.cmp(e)<0};ht.lessThanOrEqualTo=ht.lte=function(e){return this.cmp(e)<1};ht.logarithm=ht.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ss))throw Error(no+"NaN");if(r.s<1)throw Error(no+(r.s?"NaN":"-Infinity"));return r.eq(ss)?new n(0):(bn=!1,t=Dc(Py(r,s),Py(e,s),s),bn=!0,sn(t,i))};ht.minus=ht.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zY(t,e):BY(t,(e.s=-e.s,e))};ht.modulo=ht.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(no+"NaN");return r.s?(bn=!1,t=Dc(r,e,0,1).times(e),bn=!0,r.minus(t)):sn(new n(r),i)};ht.naturalExponential=ht.exp=function(){return UY(this)};ht.naturalLogarithm=ht.ln=function(){return Py(this)};ht.negated=ht.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ht.plus=ht.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BY(t,e):zY(t,(e.s=-e.s,e))};ht.precision=ht.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Zf+e);if(t=ii(i)+1,n=i.d.length-1,r=n*mn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ht.squareRoot=ht.sqrt=function(){var e,t,r,n,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(no+"NaN")}for(e=ii(l),bn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Nl(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Tg((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(Dc(l,s,o+2)).times(.5),Nl(s.d).slice(0,o)===(t=Nl(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(sn(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return bn=!0,sn(n,r)};ht.times=ht.mul=function(e){var t,r,n,i,s,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(s=h,h=p,p=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+p[n]*h[i-n-1]+t,s[i--]=l%wi|0,t=l/wi|0;s[i]=(s[i]+t)%wi|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,bn?sn(e,f.precision):e};ht.toDecimalPlaces=ht.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Vl(e,0,Cg),t===void 0?t=n.rounding:Vl(t,0,8),sn(r,e+ii(r)+1,t))};ht.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=yh(n,!0):(Vl(e,0,Cg),t===void 0?t=i.rounding:Vl(t,0,8),n=sn(new i(n),e+1,t),r=yh(n,!0,e+1)),r};ht.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?yh(i):(Vl(e,0,Cg),t===void 0?t=s.rounding:Vl(t,0,8),n=sn(new s(i),e+ii(i)+1,t),r=yh(n.abs(),!1,e+ii(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ht.toInteger=ht.toint=function(){var e=this,t=e.constructor;return sn(new t(e),ii(e)+1,t.rounding)};ht.toNumber=function(){return+this};ht.toPower=ht.pow=function(e){var t,r,n,i,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ss);if(l=new c(l),!l.s){if(e.s<1)throw Error(no+"Infinity");return l}if(l.eq(ss))return l;if(n=c.precision,e.eq(ss))return sn(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=$Y){for(i=new c(ss),t=Math.ceil(n/mn+4),bn=!1;r%2&&(i=i.times(l),nF(i.d,t)),r=Tg(r/2),r!==0;)l=l.times(l),nF(l.d,t);return bn=!0,e.s<0?new c(ss).div(i):sn(i,n)}}else if(s<0)throw Error(no+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,bn=!1,i=e.times(Py(l,n+u)),bn=!0,i=UY(i),i.s=s,i};ht.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=ii(i),n=yh(i,r<=s.toExpNeg||r>=s.toExpPos)):(Vl(e,1,Cg),t===void 0?t=s.rounding:Vl(t,0,8),i=sn(new s(i),e,t),r=ii(i),n=yh(i,e<=r||r<=s.toExpNeg,e)),n};ht.toSignificantDigits=ht.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Vl(e,1,Cg),t===void 0?t=n.rounding:Vl(t,0,8)),sn(new n(r),e,t)};ht.toString=ht.valueOf=ht.val=ht.toJSON=ht[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ii(e),r=e.constructor;return yh(e,t<=r.toExpNeg||t>=r.toExpPos)};function BY(e,t){var r,n,i,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),bn?sn(t,f):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(f/mn),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/wi|0,c[s]%=wi;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,bn?sn(t,f):t}function Vl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Zf+e)}function Nl(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",r=mn-n.length,r&&(s+=Mu(r)),s+=n;o=e[t],n=o+"",r=mn-n.length,r&&(s+=Mu(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Dc=function(){function e(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%wi|0,o=s/wi|0;return o&&n.unshift(o),n}function t(n,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*wi+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,c,u,d,f,h,p,y,m,v,g,x,w,j,N,P,k,C,O=n.constructor,I=n.s==i.s?1:-1,E=n.d,A=i.d;if(!n.s)return new O(n);if(!i.s)throw Error(no+"Division by zero");for(c=n.e-i.e,k=A.length,N=E.length,p=new O(I),y=p.d=[],u=0;A[u]==(E[u]||0);)++u;if(A[u]>(E[u]||0)&&--c,s==null?x=s=O.precision:o?x=s+(ii(n)-ii(i))+1:x=s,x<0)return new O(0);if(x=x/mn+2|0,u=0,k==1)for(d=0,A=A[0],x++;(u<N||d)&&x--;u++)w=d*wi+(E[u]||0),y[u]=w/A|0,d=w%A|0;else{for(d=wi/(A[0]+1)|0,d>1&&(A=e(A,d),E=e(E,d),k=A.length,N=E.length),j=k,m=E.slice(0,k),v=m.length;v<k;)m[v++]=0;C=A.slice(),C.unshift(0),P=A[0],A[1]>=wi/2&&++P;do d=0,l=t(A,m,k,v),l<0?(g=m[0],k!=v&&(g=g*wi+(m[1]||0)),d=g/P|0,d>1?(d>=wi&&(d=wi-1),f=e(A,d),h=f.length,v=m.length,l=t(f,m,h,v),l==1&&(d--,r(f,k<h?C:A,h))):(d==0&&(l=d=1),f=A.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=t(A,m,k,v),l<1&&(d++,r(m,k<v?C:A,v))),v=m.length):l===0&&(d++,m=[0]),y[u++]=d,l&&m[0]?m[v++]=E[j]||0:(m=[E[j]],v=1);while((j++<N||m[0]!==void 0)&&x--)}return y[0]||y.shift(),p.e=c,sn(p,o?s+ii(p)+1:s)}}();function UY(e,t){var r,n,i,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(ii(e)>16)throw Error(hE+ii(e));if(!e.s)return new d(ss);for(t==null?(bn=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(bf(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(ss),d.precision=l;;){if(i=sn(i.times(e),l),r=r.times(++c),o=s.plus(Dc(i,r,l)),Nl(o.d).slice(0,l)===Nl(s.d).slice(0,l)){for(;u--;)s=sn(s.times(s),l);return d.precision=f,t==null?(bn=!0,sn(s,f)):s}s=o}}function ii(e){for(var t=e.e*mn,r=e.d[0];r>=10;r/=10)t++;return t}function V_(e,t,r){if(t>e.LN10.sd())throw bn=!0,r&&(e.precision=r),Error(no+"LN10 precision limit exceeded");return sn(new e(e.LN10),t)}function Mu(e){for(var t="";e--;)t+="0";return t}function Py(e,t){var r,n,i,s,o,l,c,u,d,f=1,h=10,p=e,y=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(no+(p.s?"NaN":"-Infinity"));if(p.eq(ss))return new m(0);if(t==null?(bn=!1,u=v):u=t,p.eq(10))return t==null&&(bn=!0),V_(m,u);if(u+=h,m.precision=u,r=Nl(y),n=r.charAt(0),s=ii(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Nl(p.d),n=r.charAt(0),f++;s=ii(p),n>1?(p=new m("0."+r),s++):p=new m(n+"."+r.slice(1))}else return c=V_(m,u+2,v).times(s+""),p=Py(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=v,t==null?(bn=!0,sn(p,v)):p;for(l=o=p=Dc(p.minus(ss),p.plus(ss),u),d=sn(p.times(p),u),i=3;;){if(o=sn(o.times(d),u),c=l.plus(Dc(o,new m(i),u)),Nl(c.d).slice(0,u)===Nl(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(V_(m,u+2,v).times(s+""))),l=Dc(l,new m(f),u),m.precision=v,t==null?(bn=!0,sn(l,v)):l;l=c,i+=2}}function rF(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Tg(r/mn),e.d=[],n=(r+1)%mn,r<0&&(n+=mn),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=mn;n<i;)e.d.push(+t.slice(n,n+=mn));t=t.slice(n),n=mn-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),bn&&(e.e>$2||e.e<-$2))throw Error(hE+r)}else e.s=0,e.e=0,e.d=[0];return e}function sn(e,t,r){var n,i,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=mn,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/mn),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=mn,i=n-mn+o}if(r!==void 0&&(s=bf(10,o-i-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/bf(10,o-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=ii(e),f.length=1,t=t-s-1,f[0]=bf(10,(mn-t%mn)%mn),e.e=Tg(-t/mn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=bf(10,mn-n),f[d]=i>0?(u/bf(10,o-i)%bf(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==wi&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=wi)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(bn&&(e.e>$2||e.e<-$2))throw Error(hE+ii(e));return e}function zY(e,t){var r,n,i,s,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),bn?sn(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(p/mn),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=wi-1;--c[s],c[i]+=wi}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,bn?sn(t,p):t):new h(0)}function yh(e,t,r){var n,i=ii(e),s=Nl(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Mu(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Mu(-i-1)+s,r&&(n=r-o)>0&&(s+=Mu(n))):i>=o?(s+=Mu(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+Mu(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=Mu(n))),e.s<0?"-"+s:s}function nF(e,t){if(e.length>t)return e.length=t,!0}function VY(e){var t,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Zf+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return rF(o,s.toString())}else if(typeof s!="string")throw Error(Zf+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,E6e.test(s))rF(o,s);else throw Error(Zf+s)}if(i.prototype=ht,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=VY,i.config=i.set=O6e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function O6e(e){if(!e||typeof e!="object")throw Error(no+"Object expected");var t,r,n,i=["precision",1,Cg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Tg(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Zf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Zf+r+": "+n);return this}var pE=VY(T6e);ss=new pE(1);const Xr=pE;function M6e(e){return R6e(e)||D6e(e)||I6e(e)||L6e()}function L6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I6e(e,t){if(e){if(typeof e=="string")return Qk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qk(e,t)}}function D6e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function R6e(e){if(Array.isArray(e))return Qk(e)}function Qk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var F6e=function(t){return t},qY={"@@functional/placeholder":!0},WY=function(t){return t===qY},iF=function(t){return function r(){return arguments.length===0||arguments.length===1&&WY(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},$6e=function e(t,r){return t===1?r:iF(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==qY}).length;return o>=t?r.apply(void 0,i):e(t-o,iF(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return WY(f)?c.shift():f});return r.apply(void 0,M6e(d).concat(c))}))})},qN=function(t){return $6e(t.length,t)},Jk=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},B6e=qN(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),U6e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return F6e;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},e4=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},HY=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function z6e(e){var t;return e===0?t=1:t=Math.floor(new Xr(e).abs().log(10).toNumber())+1,t}function V6e(e,t,r){for(var n=new Xr(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var q6e=qN(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),W6e=qN(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),H6e=qN(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const WN={rangeStep:V6e,getDigitCount:z6e,interpolateNumber:q6e,uninterpolateNumber:W6e,uninterpolateTruncation:H6e};function t4(e){return Y6e(e)||G6e(e)||KY(e)||K6e()}function K6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G6e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Y6e(e){if(Array.isArray(e))return r4(e)}function Ay(e,t){return Q6e(e)||Z6e(e,t)||KY(e,t)||X6e()}function X6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KY(e,t){if(e){if(typeof e=="string")return r4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r4(e,t)}}function r4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z6e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function Q6e(e){if(Array.isArray(e))return e}function GY(e){var t=Ay(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function YY(e,t,r){if(e.lte(0))return new Xr(0);var n=WN.getDigitCount(e.toNumber()),i=new Xr(10).pow(n),s=e.div(i),o=n!==1?.05:.1,l=new Xr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?c:new Xr(Math.ceil(c))}function J6e(e,t,r){var n=1,i=new Xr(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new Xr(10).pow(WN.getDigitCount(e)-1),i=new Xr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Xr(Math.floor(e)))}else e===0?i=new Xr(Math.floor((t-1)/2)):r||(i=new Xr(Math.floor(e)));var o=Math.floor((t-1)/2),l=U6e(B6e(function(c){return i.add(new Xr(c-o).mul(n)).toNumber()}),Jk);return l(0,t)}function XY(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Xr(0),tickMin:new Xr(0),tickMax:new Xr(0)};var s=YY(new Xr(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new Xr(0):(o=new Xr(e).add(t).div(2),o=o.sub(new Xr(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Xr(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?XY(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new Xr(l).mul(s)),tickMax:o.add(new Xr(c).mul(s))})}function eMe(e){var t=Ay(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=GY([r,n]),c=Ay(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(t4(Jk(0,i-1).map(function(){return 1/0}))):[].concat(t4(Jk(0,i-1).map(function(){return-1/0})),[d]);return r>n?e4(f):f}if(u===d)return J6e(u,i,s);var h=XY(u,d,o,s),p=h.step,y=h.tickMin,m=h.tickMax,v=WN.rangeStep(y,m.add(new Xr(.1).mul(p)),p);return r>n?e4(v):v}function tMe(e,t){var r=Ay(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=GY([n,i]),l=Ay(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(t,2),f=YY(new Xr(u).sub(c).div(d-1),s,0),h=[].concat(t4(WN.rangeStep(new Xr(c),new Xr(u).sub(new Xr(.99).mul(f)),f)),[u]);return n>i?e4(h):h}var rMe=HY(eMe),nMe=HY(tMe),iMe="Invariant failed";function vh(e,t){throw new Error(iMe)}var aMe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function B2(){return B2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B2.apply(this,arguments)}function sMe(e,t){return uMe(e)||cMe(e,t)||lMe(e,t)||oMe()}function oMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lMe(e,t){if(e){if(typeof e=="string")return aF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aF(e,t)}}function aF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function uMe(e){if(Array.isArray(e))return e}function dMe(e,t){if(e==null)return{};var r=fMe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JY(n.key),n)}}function mMe(e,t,r){return t&&pMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gMe(e,t,r){return t=U2(t),xMe(e,ZY()?Reflect.construct(t,r||[],U2(e).constructor):t.apply(e,r))}function xMe(e,t){if(t&&(zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yMe(e)}function yMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZY=function(){return!!e})()}function U2(e){return U2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U2(e)}function vMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n4(e,t)}function n4(e,t){return n4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n4(e,t)}function QY(e,t,r){return t=JY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JY(e){var t=bMe(e,"string");return zm(t)=="symbol"?t:t+""}function bMe(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lv=function(e){function t(){return hMe(this,t),gMe(this,t,arguments)}return vMe(t,e),mMe(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=dMe(n,aMe),p=yr(h,!1);this.props.direction==="x"&&d.type!=="number"&&vh();var y=c.map(function(m){var v=u(m,l),g=v.x,x=v.y,w=v.value,j=v.errorVal;if(!j)return null;var N=[],P,k;if(Array.isArray(j)){var C=sMe(j,2);P=C[0],k=C[1]}else P=k=j;if(s==="vertical"){var O=d.scale,I=x+i,E=I+o,A=I-o,D=O(w-P),R=O(w+k);N.push({x1:R,y1:E,x2:R,y2:A}),N.push({x1:D,y1:I,x2:R,y2:I}),N.push({x1:D,y1:E,x2:D,y2:A})}else if(s==="horizontal"){var G=f.scale,F=g+i,q=F-o,B=F+o,Z=G(w-P),le=G(w+k);N.push({x1:q,y1:le,x2:B,y2:le}),N.push({x1:F,y1:Z,x2:F,y2:le}),N.push({x1:q,y1:Z,x2:B,y2:Z})}return se.createElement(Xn,B2({className:"recharts-errorBar",key:"bar-".concat(N.map(function(fe){return"".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))},p),N.map(function(fe){return se.createElement("line",B2({},fe,{key:"line-".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))}))});return se.createElement(Xn,{className:"recharts-errorBars"},y)}}])}(se.Component);QY(Lv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});QY(Lv,"displayName","ErrorBar");function ky(e){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ky(e)}function sF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function df(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sF(Object(r),!0).forEach(function(n){wMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wMe(e,t,r){return t=jMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jMe(e){var t=NMe(e,"string");return ky(t)=="symbol"?t:t+""}function NMe(e,t){if(ky(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ky(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eX=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,o=ns(r,Zp);if(!o)return null;var l=Zp.defaultProps,c=l!==void 0?df(df({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?df(df({},h),f.props):{},y=p.dataKey,m=p.name,v=p.legendType,g=p.hide;return{inactive:g,dataKey:y,type:c.iconType||v||"square",color:mE(f),value:m||y,payload:p}}),df(df(df({},c),Zp.getWithHeight(o,i)),{},{payload:u,item:o})};function Cy(e){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cy(e)}function oF(e){return AMe(e)||PMe(e)||_Me(e)||SMe()}function SMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Me(e,t){if(e){if(typeof e=="string")return i4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i4(e,t)}}function PMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AMe(e){if(Array.isArray(e))return i4(e)}function i4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lF(Object(r),!0).forEach(function(n){Jp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jp(e,t,r){return t=kMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kMe(e){var t=CMe(e,"string");return Cy(t)=="symbol"?t:t+""}function CMe(e,t){if(Cy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vs(e,t,r){return dr(e)||dr(t)?r:xi(t)?Zs(e,t,r):lr(t)?t(e):r}function y0(e,t,r,n){var i=P6e(e,function(l){return vs(l,t)});if(r==="number"){var s=i.filter(function(l){return tt(l)||parseFloat(l)});return s.length?[zN(s),UN(s)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!dr(l)}):i;return o.map(function(l){return xi(l)||l instanceof Date?l:""})}var TMe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Io(f-d)!==Io(h-f)){var y=[];if(Io(h-f)===Io(c[1]-c[0])){p=h;var m=f+c[1]-c[0];y[0]=Math.min(m,(m+d)/2),y[1]=Math.max(m,(m+d)/2)}else{p=d;var v=h+c[1]-c[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var g=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>g[0]&&t<=g[1]||t>=y[0]&&t<=y[1]){o=i[u].index;break}}else{var x=Math.min(d,h),w=Math.max(d,h);if(t>(x+f)/2&&t<=(w+f)/2){o=i[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},mE=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Dn(Dn({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},EMe=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var y=d[f[h]],m=y.items,v=y.cateAxisId,g=m.filter(function(k){return Mc(k.type).indexOf("Bar")>=0});if(g&&g.length){var x=g[0].type.defaultProps,w=x!==void 0?Dn(Dn({},x),g[0].props):g[0].props,j=w.barSize,N=w[v];o[N]||(o[N]=[]);var P=dr(j)?r:j;o[N].push({item:g[0],stackList:g.slice(1),barSize:dr(P)?void 0:xh(P,n,0)})}}return o},OMe=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=xh(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/c,y=o.reduce(function(j,N){return j+N.barSize||0},0);y+=(c-1)*u,y>=i&&(y-=(c-1)*u,u=0),y>=i&&p>0&&(h=!0,p*=.9,y=c*p);var m=(i-y)/2>>0,v={offset:m-u,size:0};d=o.reduce(function(j,N){var P={item:N.item,position:{offset:v.offset+v.size+u,size:h?p:N.barSize}},k=[].concat(oF(j),[P]);return v=k[k.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){k.push({item:C,position:v})}),k},f)}else{var g=xh(n,i,0,!0);i-2*g-(c-1)*u<=0&&(u=0);var x=(i-2*g-(c-1)*u)/c;x>1&&(x>>=0);var w=l===+l?Math.min(x,l):x;d=o.reduce(function(j,N,P){var k=[].concat(oF(j),[{item:N.item,position:{offset:g+(x+u)*P+(x-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){k.push({item:C,position:k[k.length-1].position})}),k},f)}return d},MMe=function(t,r,n,i){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=eX({children:s,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,y=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&p!=="center"&&tt(t[p]))return Dn(Dn({},t),{},Jp({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&y!=="middle"&&tt(t[y]))return Dn(Dn({},t),{},Jp({},y,t[y]+(h||0)))}return t},LMe=function(t,r,n){return dr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},tX=function(t,r,n,i,s){var o=r.props.children,l=Qs(o,Lv).filter(function(u){return LMe(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=vs(d,n);if(dr(f))return u;var h=Array.isArray(f)?[zN(f),UN(f)]:[f,f],p=c.reduce(function(y,m){var v=vs(d,m,0),g=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(g,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},IMe=function(t,r,n,i,s){var o=r.map(function(l){return tX(t,l,n,s,i)}).filter(function(l){return!dr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},rX=function(t,r,n,i,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&tX(t,c,u,i)||y0(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},nX=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},iX=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},Ac=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Io(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Av(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:s?s[f]:f,index:h,offset:u}})},q_=new WeakMap,p1=function(t,r){if(typeof r!="function")return t;q_.has(t)||q_.set(t,new WeakMap);var n=q_.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},DMe=function(t,r,n){var i=t.scale,s=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:wy(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:I2(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:x0(),realScaleType:"point"}:s==="category"?{scale:wy(),realScaleType:"band"}:{scale:I2(),realScaleType:"linear"};if(gh(i)){var c="scale".concat(kN(i));return{scale:(tF[c]||x0)(),realScaleType:tF[c]?c:"point"}}return lr(i)?{scale:i}:{scale:x0(),realScaleType:"point"}},cF=1e-4,RMe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-cF,o=Math.max(i[0],i[1])+cF,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},FMe=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},$Me=function(t,r){if(!r||r.length!==2||!tt(r[0])||!tt(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!tt(t[0])||t[0]<n)&&(s[0]=n),(!tt(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},BMe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Av(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},UMe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var l=Av(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},zMe={sign:BMe,expand:n5e,none:Lm,silhouette:i5e,wiggle:a5e,positive:UMe},VMe=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),s=zMe[n],o=r5e().keys(i).value(function(l,c){return+vs(l,c,0)}).order(Ck).offset(s);return o(t)},qMe=function(t,r,n,i,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Dn(Dn({},h.type.defaultProps),h.props):h.props,m=y.stackId,v=y.hide;if(v)return f;var g=y[n],x=f[g]||{hasStack:!1,stackGroups:{}};if(xi(m)){var w=x.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(h),x.hasStack=!0,x.stackGroups[m]=w}else x.stackGroups[kv("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Dn(Dn({},f),{},Jp({},g,x))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var g=p.stackGroups[v];return Dn(Dn({},m),{},Jp({},v,{numericAxisId:n,cateAxisId:i,items:g.items,stackedData:VMe(t,g.items,s)}))},y)}return Dn(Dn({},f),{},Jp({},h,p))},d)},WMe=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=rMe(u,s,l);return t.domain([zN(d),UN(d)]),{niceTicks:d}}if(s&&i==="number"){var f=t.domain(),h=nMe(f,s,l);return{niceTicks:h}}return null};function uF(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!dr(i[t.dataKey])){var l=f2(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=vs(i,dr(o)?t.dataKey:o);return dr(c)?null:t.scale(c)}var dF=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=vs(o,r.dataKey,r.domain[l]);return dr(c)?null:r.scale(c)-s/2+i},HMe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},KMe=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Dn(Dn({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(xi(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},GMe=function(t){return t.reduce(function(r,n){return[zN(n.concat([r[0]]).filter(tt)),UN(n.concat([r[1]]).filter(tt))]},[1/0,-1/0])},aX=function(t,r,n){return Object.keys(t).reduce(function(i,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=GMe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},fF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,a4=function(t,r,n){if(lr(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(tt(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(fF.test(t[0])){var s=+fF.exec(t[0])[1];i[0]=r[0]-s}else lr(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(tt(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(hF.test(t[1])){var o=+hF.exec(t[1])[1];i[1]=r[1]+o}else lr(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},z2=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=VT(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},pF=function(t,r,n){return!t||!t.length||VN(t,Zs(n,"type.defaultProps.domain"))?r:t},sX=function(t,r){var n=t.type.defaultProps?Dn(Dn({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Dn(Dn({},yr(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:mE(t),value:vs(r,i),type:c,payload:r,chartType:u,hide:d})};function Ty(e){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ty(e)}function mF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mF(Object(r),!0).forEach(function(n){YMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YMe(e,t,r){return t=XMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XMe(e){var t=ZMe(e,"string");return Ty(t)=="symbol"?t:t+""}function ZMe(e,t){if(Ty(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V2=Math.PI/180,QMe=function(t){return t*180/Math.PI},Bi=function(t,r,n,i){return{x:t+Math.cos(-V2*i)*n,y:r+Math.sin(-V2*i)*n}},JMe=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},eLe=function(t,r){var n=t.x,i=t.y,s=r.cx,o=r.cy,l=JMe({x:n,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:QMe(u),angleInRadian:u}},tLe=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},rLe=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(s,o);return t+l*360},xF=function(t,r){var n=t.x,i=t.y,s=eLe({x:n,y:i},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=tLe(r),f=d.startAngle,h=d.endAngle,p=l,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?gF(gF({},r),{},{radius:o,angle:rLe(p,r)}):null};function Ey(e){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ey(e)}var nLe=["offset"];function iLe(e){return lLe(e)||oLe(e)||sLe(e)||aLe()}function aLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sLe(e,t){if(e){if(typeof e=="string")return s4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s4(e,t)}}function oLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lLe(e){if(Array.isArray(e))return s4(e)}function s4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cLe(e,t){if(e==null)return{};var r=uLe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yF(Object(r),!0).forEach(function(n){dLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dLe(e,t,r){return t=fLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fLe(e){var t=hLe(e,"string");return Ey(t)=="symbol"?t:t+""}function hLe(e,t){if(Ey(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(this,arguments)}var pLe=function(t){var r=t.value,n=t.formatter,i=dr(t.children)?r:t.children;return lr(n)?n(i):i},mLe=function(t,r){var n=Io(r-t),i=Math.min(Math.abs(r-t),360);return n*i},gLe=function(t,r,n){var i=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,m=c.clockWise,v=(f+h)/2,g=mLe(p,y),x=g>=0?1:-1,w,j;i==="insideStart"?(w=p+x*o,j=m):i==="insideEnd"?(w=y-x*o,j=!m):i==="end"&&(w=y+x*o,j=m),j=g<=0?j:!j;var N=Bi(u,d,v,w),P=Bi(u,d,v,w+(j?1:-1)*359),k="M".concat(N.x,",").concat(N.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(j?0:1,`,
    `).concat(P.x,",").concat(P.y),C=dr(t.id)?kv("recharts-radial-line-"):t.id;return se.createElement("text",Oy({},n,{dominantBaseline:"central",className:vr("recharts-radial-bar-label",l)}),se.createElement("defs",null,se.createElement("path",{id:C,d:k})),se.createElement("textPath",{xlinkHref:"#".concat(C)},r))},xLe=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(i==="outside"){var p=Bi(o,l,u+n,h),y=p.x,m=p.y;return{x:y,y:m,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,g=Bi(o,l,v,h),x=g.x,w=g.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},yLe=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",y=f>0?"start":"end",m=u>=0?1:-1,v=m*i,g=m>0?"end":"start",x=m>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:p};return fi(fi({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return fi(fi({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var N={x:l-v,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return fi(fi({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(s==="right"){var P={x:l+u+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return fi(fi({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return s==="insideLeft"?fi({x:l+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},k):s==="insideRight"?fi({x:l+u-v,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},k):s==="insideTop"?fi({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},k):s==="insideBottom"?fi({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},k):s==="insideTopLeft"?fi({x:l+v,y:c+h,textAnchor:x,verticalAnchor:y},k):s==="insideTopRight"?fi({x:l+u-v,y:c+h,textAnchor:g,verticalAnchor:y},k):s==="insideBottomLeft"?fi({x:l+v,y:c+d-h,textAnchor:x,verticalAnchor:p},k):s==="insideBottomRight"?fi({x:l+u-v,y:c+d-h,textAnchor:g,verticalAnchor:p},k):wg(s)&&(tt(s.x)||Mf(s.x))&&(tt(s.y)||Mf(s.y))?fi({x:l+xh(s.x,u),y:c+xh(s.y,d),textAnchor:"end",verticalAnchor:"end"},k):fi({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},vLe=function(t){return"cx"in t&&tt(t.cx)};function ra(e){var t=e.offset,r=t===void 0?5:t,n=cLe(e,nLe),i=fi({offset:r},n),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!s||dr(l)&&dr(c)&&!S.isValidElement(u)&&!lr(u))return null;if(S.isValidElement(u))return S.cloneElement(u,i);var p;if(lr(u)){if(p=S.createElement(u,i),S.isValidElement(p))return p}else p=pLe(i);var y=vLe(s),m=yr(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return gLe(i,p,m);var v=y?xLe(i):yLe(i);return se.createElement(k2,Oy({className:vr("recharts-label",f)},m,v,{breakAll:h}),p)}ra.displayName="Label";var oX=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,y=t.left,m=t.width,v=t.height,g=t.clockWise,x=t.labelViewBox;if(x)return x;if(tt(m)&&tt(v)){if(tt(f)&&tt(h))return{x:f,y:h,width:m,height:v};if(tt(p)&&tt(y))return{x:p,y,width:m,height:v}}return tt(f)&&tt(h)?{x:f,y:h,width:0,height:0}:tt(r)&&tt(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:g}:t.viewBox?t.viewBox:{}},bLe=function(t,r){return t?t===!0?se.createElement(ra,{key:"label-implicit",viewBox:r}):xi(t)?se.createElement(ra,{key:"label-implicit",viewBox:r,value:t}):S.isValidElement(t)?t.type===ra?S.cloneElement(t,{key:"label-implicit",viewBox:r}):se.createElement(ra,{key:"label-implicit",content:t,viewBox:r}):lr(t)?se.createElement(ra,{key:"label-implicit",content:t,viewBox:r}):wg(t)?se.createElement(ra,Oy({viewBox:r},t,{key:"label-implicit"})):null:null},wLe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=oX(t),o=Qs(i,ra).map(function(c,u){return S.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=bLe(t.label,r||s);return[l].concat(iLe(o))};ra.parseViewBox=oX;ra.renderCallByParent=wLe;function jLe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var NLe=jLe;const SLe=Er(NLe);function My(e){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},My(e)}var _Le=["valueAccessor"],PLe=["data","dataKey","clockWise","id","textBreakAll"];function ALe(e){return ELe(e)||TLe(e)||CLe(e)||kLe()}function kLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CLe(e,t){if(e){if(typeof e=="string")return o4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o4(e,t)}}function TLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ELe(e){if(Array.isArray(e))return o4(e)}function o4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q2(){return q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q2.apply(this,arguments)}function vF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vF(Object(r),!0).forEach(function(n){OLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OLe(e,t,r){return t=MLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MLe(e){var t=LLe(e,"string");return My(t)=="symbol"?t:t+""}function LLe(e,t){if(My(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(My(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wF(e,t){if(e==null)return{};var r=ILe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ILe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var DLe=function(t){return Array.isArray(t.value)?SLe(t.value):t.value};function pd(e){var t=e.valueAccessor,r=t===void 0?DLe:t,n=wF(e,_Le),i=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=wF(n,PLe);return!i||!i.length?null:se.createElement(Xn,{className:"recharts-label-list"},i.map(function(d,f){var h=dr(s)?r(d,f):vs(d&&d.payload,s),p=dr(l)?{}:{id:"".concat(l,"-").concat(f)};return se.createElement(ra,q2({},yr(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:ra.parseViewBox(dr(o)?d:bF(bF({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}pd.displayName="LabelList";function RLe(e,t){return e?e===!0?se.createElement(pd,{key:"labelList-implicit",data:t}):se.isValidElement(e)||lr(e)?se.createElement(pd,{key:"labelList-implicit",data:t,content:e}):wg(e)?se.createElement(pd,q2({data:t},e,{key:"labelList-implicit"})):null:null}function FLe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Qs(n,pd).map(function(o,l){return S.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var s=RLe(e.label,t);return[s].concat(ALe(i))}pd.renderCallByParent=FLe;function Ly(e){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ly(e)}function l4(){return l4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l4.apply(this,arguments)}function jF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jF(Object(r),!0).forEach(function(n){$Le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Le(e,t,r){return t=BLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BLe(e){var t=ULe(e,"string");return Ly(t)=="symbol"?t:t+""}function ULe(e,t){if(Ly(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zLe=function(t,r){var n=Io(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},m1=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/V2,h=u?s:s+o*f,p=Bi(r,n,d,h),y=Bi(r,n,i,h),m=u?s-o*f:s,v=Bi(r,n,d*Math.cos(f*V2),m);return{center:p,circleTangency:y,lineTangency:v,theta:f}},lX=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=zLe(o,l),u=o+c,d=Bi(r,n,s,o),f=Bi(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Bi(r,n,i,o),y=Bi(r,n,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},VLe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Io(d-u),h=m1({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,m=h.theta,v=m1({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),g=v.circleTangency,x=v.lineTangency,w=v.theta,j=c?Math.abs(u-d):Math.abs(u-d)-m-w;if(j<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):lX({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var N="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var P=m1({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=P.circleTangency,C=P.lineTangency,O=P.theta,I=m1({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=I.circleTangency,A=I.lineTangency,D=I.theta,R=c?Math.abs(u-d):Math.abs(u-d)-O-D;if(R<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},qLe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cX=function(t){var r=NF(NF({},qLe),t),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var p=vr("recharts-sector",h),y=o-s,m=xh(l,y,0,!0),v;return m>0&&Math.abs(d-f)<360?v=VLe({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(m,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=lX({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),se.createElement("path",l4({},yr(r,!0),{className:p,d:v,role:"img"}))};function Iy(e){"@babel/helpers - typeof";return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iy(e)}function c4(){return c4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c4.apply(this,arguments)}function SF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _F(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SF(Object(r),!0).forEach(function(n){WLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WLe(e,t,r){return t=HLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HLe(e){var t=KLe(e,"string");return Iy(t)=="symbol"?t:t+""}function KLe(e,t){if(Iy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PF={curveBasisClosed:WNe,curveBasisOpen:HNe,curveBasis:qNe,curveBumpX:TNe,curveBumpY:ENe,curveLinearClosed:KNe,curveLinear:TN,curveMonotoneX:GNe,curveMonotoneY:YNe,curveNatural:XNe,curveStep:ZNe,curveStepAfter:JNe,curveStepBefore:QNe},g1=function(t){return t.x===+t.x&&t.y===+t.y},Ox=function(t){return t.x},Mx=function(t){return t.y},GLe=function(t,r){if(lr(t))return t;var n="curve".concat(kN(t));return(n==="curveMonotone"||n==="curveBump")&&r?PF["".concat(n).concat(r==="vertical"?"Y":"X")]:PF[n]||TN},YLe=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=GLe(n,l),f=u?s.filter(function(m){return g1(m)}):s,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return g1(m)}):o,y=f.map(function(m,v){return _F(_F({},m),{},{base:p[v]})});return l==="vertical"?h=s1().y(Mx).x1(Ox).x0(function(m){return m.base.x}):h=s1().x(Ox).y1(Mx).y0(function(m){return m.base.y}),h.defined(g1).curve(d),h(y)}return l==="vertical"&&tt(o)?h=s1().y(Mx).x1(Ox).x0(o):tt(o)?h=s1().x(Ox).y1(Mx).y0(o):h=cG().x(Ox).y(Mx),h.defined(g1).curve(d),h(f)},u4=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?YLe(t):i;return S.createElement("path",c4({},yr(t,!1),h2(t),{className:vr("recharts-curve",r),d:o,ref:s}))},uX={exports:{}},XLe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ZLe=XLe,QLe=ZLe;function dX(){}function fX(){}fX.resetWarningCache=dX;var JLe=function(){function e(n,i,s,o,l,c){if(c!==QLe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:fX,resetWarningCache:dX};return r.PropTypes=r,r};uX.exports=JLe();var eIe=uX.exports;const Ir=Er(eIe);var tIe=Object.getOwnPropertyNames,rIe=Object.getOwnPropertySymbols,nIe=Object.prototype.hasOwnProperty;function AF(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function x1(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var s=i.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,i);return s.delete(r),s.delete(n),c}}function kF(e){return tIe(e).concat(rIe(e))}var iIe=Object.hasOwn||function(e,t){return nIe.call(e,t)};function Th(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var aIe="__v",sIe="__o",oIe="_owner",CF=Object.getOwnPropertyDescriptor,TF=Object.keys;function lIe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function cIe(e,t){return Th(e.getTime(),t.getTime())}function uIe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function dIe(e,t){return e===t}function EF(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var fIe=Th;function hIe(e,t,r){var n=TF(e),i=n.length;if(TF(t).length!==i)return!1;for(;i-- >0;)if(!hX(e,t,r,n[i]))return!1;return!0}function Lx(e,t,r){var n=kF(e),i=n.length;if(kF(t).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=n[i],!hX(e,t,r,s)||(o=CF(e,s),l=CF(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function pIe(e,t){return Th(e.valueOf(),t.valueOf())}function mIe(e,t){return e.source===t.source&&e.flags===t.flags}function OF(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function gIe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function xIe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function hX(e,t,r,n){return(n===oIe||n===sIe||n===aIe)&&(e.$$typeof||t.$$typeof)?!0:iIe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var yIe="[object Arguments]",vIe="[object Boolean]",bIe="[object Date]",wIe="[object Error]",jIe="[object Map]",NIe="[object Number]",SIe="[object Object]",_Ie="[object RegExp]",PIe="[object Set]",AIe="[object String]",kIe="[object URL]",CIe=Array.isArray,MF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,LF=Object.assign,TIe=Object.prototype.toString.call.bind(Object.prototype.toString);function EIe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,m,v){if(y===m)return!0;if(y==null||m==null)return!1;var g=typeof y;if(g!==typeof m)return!1;if(g!=="object")return g==="number"?o(y,m,v):g==="function"?i(y,m,v):!1;var x=y.constructor;if(x!==m.constructor)return!1;if(x===Object)return l(y,m,v);if(CIe(y))return t(y,m,v);if(MF!=null&&MF(y))return f(y,m,v);if(x===Date)return r(y,m,v);if(x===RegExp)return u(y,m,v);if(x===Map)return s(y,m,v);if(x===Set)return d(y,m,v);var w=TIe(y);return w===bIe?r(y,m,v):w===_Ie?u(y,m,v):w===jIe?s(y,m,v):w===PIe?d(y,m,v):w===SIe?typeof y.then!="function"&&typeof m.then!="function"&&l(y,m,v):w===kIe?h(y,m,v):w===wIe?n(y,m,v):w===yIe?l(y,m,v):w===vIe||w===NIe||w===AIe?c(y,m,v):!1}}function OIe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Lx:lIe,areDatesEqual:cIe,areErrorsEqual:uIe,areFunctionsEqual:dIe,areMapsEqual:n?AF(EF,Lx):EF,areNumbersEqual:fIe,areObjectsEqual:n?Lx:hIe,arePrimitiveWrappersEqual:pIe,areRegExpsEqual:mIe,areSetsEqual:n?AF(OF,Lx):OF,areTypedArraysEqual:n?Lx:gIe,areUrlsEqual:xIe};if(r&&(i=LF({},i,r(i))),t){var s=x1(i.areArraysEqual),o=x1(i.areMapsEqual),l=x1(i.areObjectsEqual),c=x1(i.areSetsEqual);i=LF({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function MIe(e){return function(t,r,n,i,s,o,l){return e(t,r,l)}}function LIe(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:i,meta:p,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var IIe=Fd();Fd({strict:!0});Fd({circular:!0});Fd({circular:!0,strict:!0});Fd({createInternalComparator:function(){return Th}});Fd({strict:!0,createInternalComparator:function(){return Th}});Fd({circular:!0,createInternalComparator:function(){return Th}});Fd({circular:!0,createInternalComparator:function(){return Th},strict:!0});function Fd(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,s=e.strict,o=s===void 0?!1:s,l=OIe(e),c=EIe(l),u=n?n(c):MIe(c);return LIe({circular:r,comparator:c,createState:i,equals:u,strict:o})}function DIe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function IF(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):DIe(i)};requestAnimationFrame(n)}function d4(e){"@babel/helpers - typeof";return d4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d4(e)}function RIe(e){return UIe(e)||BIe(e)||$Ie(e)||FIe()}function FIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ie(e,t){if(e){if(typeof e=="string")return DF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DF(e,t)}}function DF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UIe(e){if(Array.isArray(e))return e}function zIe(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=RIe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){IF(i.bind(null,u),c);return}i(c),IF(i.bind(null,u));return}d4(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Dy(e){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dy(e)}function RF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RF(Object(r),!0).forEach(function(n){pX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pX(e,t,r){return t=VIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VIe(e){var t=qIe(e,"string");return Dy(t)==="symbol"?t:String(t)}function qIe(e,t){if(Dy(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WIe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},HIe=function(t){return t},KIe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},v0=function(t,r){return Object.keys(r).reduce(function(n,i){return FF(FF({},n),{},pX({},i,t(i,r[i])))},{})},$F=function(t,r,n){return t.map(function(i){return"".concat(KIe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function GIe(e,t){return ZIe(e)||XIe(e,t)||mX(e,t)||YIe()}function YIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ZIe(e){if(Array.isArray(e))return e}function QIe(e){return t8e(e)||e8e(e)||mX(e)||JIe()}function JIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mX(e,t){if(e){if(typeof e=="string")return f4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f4(e,t)}}function e8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function t8e(e){if(Array.isArray(e))return f4(e)}function f4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var W2=1e-4,gX=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},xX=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},BF=function(t,r){return function(n){var i=gX(t,r);return xX(i,n)}},r8e=function(t,r){return function(n){var i=gX(t,r),s=[].concat(QIe(i.map(function(o,l){return o*l}).slice(1)),[0]);return xX(s,n)}},UF=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=GIe(u,4);i=d[0],s=d[1],o=d[2],l=d[3]}}}var f=BF(i,o),h=BF(s,l),p=r8e(i,o),y=function(g){return g>1?1:g<0?0:g},m=function(g){for(var x=g>1?1:g,w=x,j=0;j<8;++j){var N=f(w)-x,P=p(w);if(Math.abs(N-x)<W2||P<W2)return h(w);w=y(w-N/P)}return h(w)};return m.isStepper=!1,m},n8e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,y=h*s,m=h+(p-y)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<W2&&Math.abs(m)<W2?[f,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},i8e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UF(i);case"spring":return n8e();default:if(i.split("(")[0]==="cubic-bezier")return UF(i)}return typeof i=="function"?i:null};function Ry(e){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ry(e)}function zF(e){return o8e(e)||s8e(e)||yX(e)||a8e()}function a8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o8e(e){if(Array.isArray(e))return p4(e)}function VF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VF(Object(r),!0).forEach(function(n){h4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h4(e,t,r){return t=l8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l8e(e){var t=c8e(e,"string");return Ry(t)==="symbol"?t:String(t)}function c8e(e,t){if(Ry(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ry(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u8e(e,t){return h8e(e)||f8e(e,t)||yX(e,t)||d8e()}function d8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yX(e,t){if(e){if(typeof e=="string")return p4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p4(e,t)}}function p4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function h8e(e){if(Array.isArray(e))return e}var H2=function(t,r,n){return t+(r-t)*n},m4=function(t){var r=t.from,n=t.to;return r!==n},p8e=function e(t,r,n){var i=v0(function(s,o){if(m4(o)){var l=t(o.from,o.to,o.velocity),c=u8e(l,2),u=c[0],d=c[1];return Ii(Ii({},o),{},{from:u,velocity:d})}return o},r);return n<1?v0(function(s,o){return m4(o)?Ii(Ii({},o),{},{velocity:H2(o.velocity,i[s].velocity,n),from:H2(o.from,i[s].from,n)}):o},r):e(t,i,n-1)};const m8e=function(e,t,r,n,i){var s=WIe(e,t),o=s.reduce(function(v,g){return Ii(Ii({},v),{},h4({},g,[e[g],t[g]]))},{}),l=s.reduce(function(v,g){return Ii(Ii({},v),{},h4({},g,{from:e[g],velocity:0,to:t[g]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return v0(function(g,x){return x.from},l)},p=function(){return!Object.values(l).filter(m4).length},y=function(g){u||(u=g);var x=g-u,w=x/r.dt;l=p8e(r,l,w),i(Ii(Ii(Ii({},e),t),h())),u=g,p()||(c=requestAnimationFrame(f))},m=function(g){d||(d=g);var x=(g-d)/n,w=v0(function(N,P){return H2.apply(void 0,zF(P).concat([r(x)]))},o);if(i(Ii(Ii(Ii({},e),t),w)),x<1)c=requestAnimationFrame(f);else{var j=v0(function(N,P){return H2.apply(void 0,zF(P).concat([r(1)]))},o);i(Ii(Ii(Ii({},e),t),j))}};return f=r.isStepper?y:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}var g8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function x8e(e,t){if(e==null)return{};var r=y8e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y8e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function W_(e){return j8e(e)||w8e(e)||b8e(e)||v8e()}function v8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b8e(e,t){if(e){if(typeof e=="string")return g4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g4(e,t)}}function w8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j8e(e){if(Array.isArray(e))return g4(e)}function g4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qF(Object(r),!0).forEach(function(n){Yx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yx(e,t,r){return t=vX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vX(n.key),n)}}function _8e(e,t,r){return t&&S8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vX(e){var t=P8e(e,"string");return Vm(t)==="symbol"?t:String(t)}function P8e(e,t){if(Vm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x4(e,t)}function x4(e,t){return x4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},x4(e,t)}function k8e(e){var t=C8e();return function(){var n=K2(e),i;if(t){var s=K2(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return y4(this,i)}}function y4(e,t){if(t&&(Vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v4(e)}function v4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function K2(e){return K2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},K2(e)}var Qc=function(e){A8e(r,e);var t=k8e(r);function r(n,i){var s;N8e(this,r),s=t.call(this,n,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(v4(s)),s.changeStyle=s.changeStyle.bind(v4(s)),!l||p<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),y4(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},y4(s);s.state={style:c?Yx({},c,u):u}}else s.state={style:{}};return s}return _8e(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var p={style:c?Yx({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(IIe(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||u?f:i.to;if(this.state&&h){var v={style:c?Yx({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(v)}this.runAnimation(yo(yo({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=m8e(o,l,i8e(u),c,this.changeStyle),y=function(){s.stopJSAnimation=p()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,v,g){if(g===0)return m;var x=v.duration,w=v.easing,j=w===void 0?"ease":w,N=v.style,P=v.properties,k=v.onAnimationEnd,C=g>0?o[g-1]:v,O=P||Object.keys(N);if(typeof j=="function"||j==="spring")return[].concat(W_(m),[s.runJSAnimation.bind(s,{from:C.style,to:N,duration:x,easing:j}),x]);var I=$F(O,x,j),E=yo(yo(yo({},C.style),N),{},{transition:I});return[].concat(W_(m),[E,x,k]).filter(HIe)};return this.manager.start([c].concat(W_(o.reduce(p,[d,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=zIe());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=l?Yx({},l,c):c,v=$F(Object.keys(m),o,u);y.start([d,s,yo(yo({},m),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=x8e(i,g8e),u=S.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(p){var y=p.props,m=y.style,v=m===void 0?{}:m,g=y.className,x=S.cloneElement(p,yo(yo({},c),{},{style:yo(yo({},v),d),className:g}));return x};return u===1?f(S.Children.only(s)):se.createElement("div",null,S.Children.map(s,function(h){return f(h)}))}}]),r}(S.PureComponent);Qc.displayName="Animate";Qc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Qc.propTypes={from:Ir.oneOfType([Ir.object,Ir.string]),to:Ir.oneOfType([Ir.object,Ir.string]),attributeName:Ir.string,duration:Ir.number,begin:Ir.number,easing:Ir.oneOfType([Ir.string,Ir.func]),steps:Ir.arrayOf(Ir.shape({duration:Ir.number.isRequired,style:Ir.object.isRequired,easing:Ir.oneOfType([Ir.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ir.func]),properties:Ir.arrayOf("string"),onAnimationEnd:Ir.func})),children:Ir.oneOfType([Ir.node,Ir.func]),isActive:Ir.bool,canBegin:Ir.bool,onAnimationEnd:Ir.func,shouldReAnimate:Ir.bool,onAnimationStart:Ir.func,onAnimationReStart:Ir.func};function Fy(e){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fy(e)}function G2(){return G2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G2.apply(this,arguments)}function T8e(e,t){return L8e(e)||M8e(e,t)||O8e(e,t)||E8e()}function E8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O8e(e,t){if(e){if(typeof e=="string")return WF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WF(e,t)}}function WF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function L8e(e){if(Array.isArray(e))return e}function HF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HF(Object(r),!0).forEach(function(n){I8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I8e(e,t,r){return t=D8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D8e(e){var t=R8e(e,"string");return Fy(t)=="symbol"?t:t+""}function R8e(e,t){if(Fy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GF=function(t,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+i)),d+="L ".concat(t+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var y=Math.min(o,s);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+i-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+i,`
            L `).concat(t+c*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},F8e=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&i>=f&&i<=h}return!1},$8e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gE=function(t){var r=KF(KF({},$8e),t),n=S.useRef(),i=S.useState(-1),s=T8e(i,2),o=s[0],l=s[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,y=r.animationEasing,m=r.animationDuration,v=r.animationBegin,g=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=vr("recharts-rectangle",p);return x?se.createElement(Qc,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:y,isActive:x},function(j){var N=j.width,P=j.height,k=j.x,C=j.y;return se.createElement(Qc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:g,easing:y},se.createElement("path",G2({},yr(r,!0),{className:w,d:GF(k,C,N,P,h),ref:n})))}):se.createElement("path",G2({},yr(r,!0),{className:w,d:GF(c,u,d,f,h)}))};function b4(){return b4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b4.apply(this,arguments)}var xE=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,o=vr("recharts-dot",s);return r===+r&&n===+n&&i===+i?S.createElement("circle",b4({},yr(t,!1),h2(t),{className:o,cx:r,cy:n,r:i})):null};function $y(e){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$y(e)}var B8e=["x","y","top","left","width","height","className"];function w4(){return w4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w4.apply(this,arguments)}function YF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function U8e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YF(Object(r),!0).forEach(function(n){z8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z8e(e,t,r){return t=V8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V8e(e){var t=q8e(e,"string");return $y(t)=="symbol"?t:t+""}function q8e(e,t){if($y(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W8e(e,t){if(e==null)return{};var r=H8e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function H8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var K8e=function(t,r,n,i,s,o){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},G8e=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,y=t.className,m=W8e(t,B8e),v=U8e({x:n,y:s,top:l,left:u,width:f,height:p},m);return!tt(n)||!tt(s)||!tt(f)||!tt(p)||!tt(l)||!tt(u)?null:se.createElement("path",w4({},yr(v,!0),{className:vr("recharts-cross",y),d:K8e(n,s,f,p,l,u)}))},Y8e=MG,X8e=Y8e(Object.getPrototypeOf,Object),Z8e=X8e,Q8e=eu,J8e=Z8e,eDe=tu,tDe="[object Object]",rDe=Function.prototype,nDe=Object.prototype,bX=rDe.toString,iDe=nDe.hasOwnProperty,aDe=bX.call(Object);function sDe(e){if(!eDe(e)||Q8e(e)!=tDe)return!1;var t=J8e(e);if(t===null)return!0;var r=iDe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&bX.call(r)==aDe}var oDe=sDe;const lDe=Er(oDe);var cDe=eu,uDe=tu,dDe="[object Boolean]";function fDe(e){return e===!0||e===!1||uDe(e)&&cDe(e)==dDe}var hDe=fDe;const pDe=Er(hDe);function By(e){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},By(e)}function Y2(){return Y2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y2.apply(this,arguments)}function mDe(e,t){return vDe(e)||yDe(e,t)||xDe(e,t)||gDe()}function gDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xDe(e,t){if(e){if(typeof e=="string")return XF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XF(e,t)}}function XF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function vDe(e){if(Array.isArray(e))return e}function ZF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZF(Object(r),!0).forEach(function(n){bDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bDe(e,t,r){return t=wDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wDe(e){var t=jDe(e,"string");return By(t)=="symbol"?t:t+""}function jDe(e,t){if(By(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(By(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JF=function(t,r,n,i,s){var o=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-i,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},NDe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SDe=function(t){var r=QF(QF({},NDe),t),n=S.useRef(),i=S.useState(-1),s=mDe(i,2),o=s[0],l=s[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,m=r.animationDuration,v=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=vr("recharts-trapezoid",p);return g?se.createElement(Qc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:y,isActive:g},function(w){var j=w.upperWidth,N=w.lowerWidth,P=w.height,k=w.x,C=w.y;return se.createElement(Qc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:y},se.createElement("path",Y2({},yr(r,!0),{className:x,d:JF(k,C,j,N,P),ref:n})))}):se.createElement("g",null,se.createElement("path",Y2({},yr(r,!0),{className:x,d:JF(c,u,d,f,h)})))},_De=["option","shapeType","propTransformer","activeClassName","isActive"];function Uy(e){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uy(e)}function PDe(e,t){if(e==null)return{};var r=ADe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ADe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function e$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function X2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e$(Object(r),!0).forEach(function(n){kDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kDe(e,t,r){return t=CDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CDe(e){var t=TDe(e,"string");return Uy(t)=="symbol"?t:t+""}function TDe(e,t){if(Uy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EDe(e,t){return X2(X2({},t),e)}function ODe(e,t){return e==="symbols"}function t$(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return se.createElement(gE,r);case"trapezoid":return se.createElement(SDe,r);case"sector":return se.createElement(cX,r);case"symbols":if(ODe(t))return se.createElement(IT,r);break;default:return null}}function MDe(e){return S.isValidElement(e)?e.props:e}function LDe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?EDe:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=PDe(e,_De),u;if(S.isValidElement(t))u=S.cloneElement(t,X2(X2({},c),MDe(t)));else if(lr(t))u=t(c);else if(lDe(t)&&!pDe(t)){var d=i(t,c);u=se.createElement(t$,{shapeType:r,elementProps:d})}else{var f=c;u=se.createElement(t$,{shapeType:r,elementProps:f})}return l?se.createElement(Xn,{className:o},u):u}function HN(e,t){return t!=null&&"trapezoids"in e.props}function KN(e,t){return t!=null&&"sectors"in e.props}function zy(e,t){return t!=null&&"points"in e.props}function IDe(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function DDe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function RDe(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function FDe(e,t){var r;return HN(e,t)?r=IDe:KN(e,t)?r=DDe:zy(e,t)&&(r=RDe),r}function $De(e,t){var r;return HN(e,t)?r="trapezoids":KN(e,t)?r="sectors":zy(e,t)&&(r="points"),r}function BDe(e,t){if(HN(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(KN(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return zy(e,t)?t.payload:{}}function UDe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=$De(r,t),s=BDe(r,t),o=n.filter(function(c,u){var d=VN(s,c),f=r.props[i].filter(function(y){var m=FDe(r,t);return m(y,t)}),h=r.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var zDe=Math.ceil,VDe=Math.max;function qDe(e,t,r,n){for(var i=-1,s=VDe(zDe((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++i]=e,e+=r;return o}var WDe=qDe,HDe=QG,r$=1/0,KDe=17976931348623157e292;function GDe(e){if(!e)return e===0?e:0;if(e=HDe(e),e===r$||e===-r$){var t=e<0?-1:1;return t*KDe}return e===e?e:0}var wX=GDe,YDe=WDe,XDe=LN,H_=wX;function ZDe(e){return function(t,r,n){return n&&typeof n!="number"&&XDe(t,r,n)&&(r=n=void 0),t=H_(t),r===void 0?(r=t,t=0):r=H_(r),n=n===void 0?t<r?1:-1:H_(n),YDe(t,r,n,e)}}var QDe=ZDe,JDe=QDe,eRe=JDe(),tRe=eRe;const Z2=Er(tRe);function Vy(e){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vy(e)}function n$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function i$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(r),!0).forEach(function(n){jX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jX(e,t,r){return t=rRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rRe(e){var t=nRe(e,"string");return Vy(t)=="symbol"?t:t+""}function nRe(e,t){if(Vy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iRe=["Webkit","Moz","O","ms"],aRe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=iRe.reduce(function(s,o){return i$(i$({},s),{},jX({},o+n,r))},{});return i[t]=r,i};function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function Q2(){return Q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q2.apply(this,arguments)}function a$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a$(Object(r),!0).forEach(function(n){es(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SX(n.key),n)}}function oRe(e,t,r){return t&&s$(e.prototype,t),r&&s$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lRe(e,t,r){return t=J2(t),cRe(e,NX()?Reflect.construct(t,r||[],J2(e).constructor):t.apply(e,r))}function cRe(e,t){if(t&&(qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uRe(e)}function uRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NX=function(){return!!e})()}function J2(e){return J2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J2(e)}function dRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j4(e,t)}function j4(e,t){return j4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j4(e,t)}function es(e,t,r){return t=SX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SX(e){var t=fRe(e,"string");return qm(t)=="symbol"?t:t+""}function fRe(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hRe=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=x0().domain(Z2(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},o$=function(t){return t.changedTouches&&!!t.changedTouches.length},Wm=function(e){function t(r){var n;return sRe(this,t),n=lRe(this,t,[r]),es(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),es(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),es(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),es(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),es(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),es(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),es(n,"handleSlideDragStart",function(i){var s=o$(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return dRe(t,e),oRe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,s),h=Math.max(i,s),p=t.getIndexInRange(o,f),y=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=vs(s[n],l,n);return lr(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,m=n.pageX-s;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var v=this.getIndex({startX:o+m,endX:l+m});(v.startIndex!==h||v.endIndex!==p)&&y&&y(v),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=o$(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,y=d.onChange,m=d.gap,v=d.data,g={startX:this.state.startX,endX:this.state.endX},x=n.pageX-s;x>0?x=Math.min(x,f+h-p-u):x<0&&(x=Math.max(x,f-u)),g[o]=u+x;var w=this.getIndex(g),j=w.startIndex,N=w.endIndex,P=function(){var C=v.length-1;return o==="startX"&&(l>c?j%m===0:N%m===0)||l<c&&N===C||o==="endX"&&(l>c?N%m===0:j%m===0)||l>c&&N===C};this.setState(es(es({},o,u+x),"brushMoveStartX",n.pageX),function(){y&&P()&&y(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(es({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return se.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=S.Children.only(u);return f?se.cloneElement(f,{x:i,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,m=c.startIndex,v=c.endIndex,g=Math.max(n,this.props.x),x=K_(K_({},yr(this.props,!1)),{},{x:g,y:u,width:d,height:f}),w=p||"Min value: ".concat((s=y[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return se.createElement(Xn,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return se.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,y={pointerEvents:"none",fill:u};return se.createElement(Xn,{className:"recharts-brush-texts"},se.createElement(k2,Q2({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},y),this.getTextOfTick(i)),se.createElement(k2,Q2({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,m=h.isTextActive,v=h.isSlideMoving,g=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!tt(l)||!tt(c)||!tt(u)||!tt(d)||u<=0||d<=0)return null;var w=vr("recharts-brush",s),j=se.Children.count(o)===1,N=aRe("userSelect","none");return se.createElement(Xn,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(m||v||g||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return se.createElement(se.Fragment,null,se.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),se.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),se.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return se.isValidElement(n)?s=se.cloneElement(n,i):lr(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return K_({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?hRe({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(S.PureComponent);es(Wm,"displayName","Brush");es(Wm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var pRe=zT;function mRe(e,t){var r;return pRe(e,function(n,i,s){return r=t(n,i,s),!r}),!!r}var gRe=mRe,xRe=_G,yRe=Id,vRe=gRe,bRe=za,wRe=LN;function jRe(e,t,r){var n=bRe(e)?xRe:vRe;return r&&wRe(e,t,r)&&(t=void 0),n(e,yRe(t))}var NRe=jRe;const SRe=Er(NRe);var Dl=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},l$=KG;function _Re(e,t,r){t=="__proto__"&&l$?l$(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var PRe=_Re,ARe=PRe,kRe=WG,CRe=Id;function TRe(e,t){var r={};return t=CRe(t),kRe(e,function(n,i,s){ARe(r,i,t(n,i,s))}),r}var ERe=TRe;const ORe=Er(ERe);function MRe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var LRe=MRe,IRe=zT;function DRe(e,t){var r=!0;return IRe(e,function(n,i,s){return r=!!t(n,i,s),r}),r}var RRe=DRe,FRe=LRe,$Re=RRe,BRe=Id,URe=za,zRe=LN;function VRe(e,t,r){var n=URe(e)?FRe:$Re;return r&&zRe(e,t,r)&&(t=void 0),n(e,BRe(t))}var qRe=VRe;const _X=Er(qRe);var WRe=["x","y"];function qy(e){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qy(e)}function N4(){return N4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N4.apply(this,arguments)}function c$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ix(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c$(Object(r),!0).forEach(function(n){HRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HRe(e,t,r){return t=KRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KRe(e){var t=GRe(e,"string");return qy(t)=="symbol"?t:t+""}function GRe(e,t){if(qy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YRe(e,t){if(e==null)return{};var r=XRe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZRe(e,t){var r=e.x,n=e.y,i=YRe(e,WRe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return Ix(Ix(Ix(Ix(Ix({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function u$(e){return se.createElement(LDe,N4({shapeType:"rectangle",propTransformer:ZRe,activeClassName:"recharts-active-bar"},e))}var QRe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=tt(n)||mje(n);return s?t(n,i):(s||vh(),r)}},JRe=["value","background"],PX;function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function eFe(e,t){if(e==null)return{};var r=tFe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ej(){return ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ej.apply(this,arguments)}function d$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d$(Object(r),!0).forEach(function(n){Qu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kX(n.key),n)}}function nFe(e,t,r){return t&&f$(e.prototype,t),r&&f$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iFe(e,t,r){return t=tj(t),aFe(e,AX()?Reflect.construct(t,r||[],tj(e).constructor):t.apply(e,r))}function aFe(e,t){if(t&&(Hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sFe(e)}function sFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AX=function(){return!!e})()}function tj(e){return tj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tj(e)}function oFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S4(e,t)}function S4(e,t){return S4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S4(e,t)}function Qu(e,t,r){return t=kX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kX(e){var t=lFe(e,"string");return Hm(t)=="symbol"?t:t+""}function lFe(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eh=function(e){function t(){var r;rFe(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=iFe(this,t,[].concat(i)),Qu(r,"state",{isAnimationFinished:!1}),Qu(r,"id",kv("recharts-bar-")),Qu(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Qu(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return oFe(t,e),nFe(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=yr(this.props,!1);return n&&n.map(function(f,h){var p=h===c,y=p?u:o,m=ri(ri(ri({},d),f),{},{isActive:p,option:y,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return se.createElement(Xn,ej({className:"recharts-bar-rectangle"},p2(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),se.createElement(u$,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return se.createElement(Qc,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,m=s.map(function(v,g){var x=h&&h[g];if(x){var w=Co(x.x,v.x),j=Co(x.y,v.y),N=Co(x.width,v.width),P=Co(x.height,v.height);return ri(ri({},v),{},{x:w(y),y:j(y),width:N(y),height:P(y)})}if(o==="horizontal"){var k=Co(0,v.height),C=k(y);return ri(ri({},v),{},{y:v.y+v.height-C,height:C})}var O=Co(0,v.width),I=O(y);return ri(ri({},v),{},{width:I})});return se.createElement(Xn,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!VN(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=yr(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=eFe(u,JRe);if(!f)return null;var p=ri(ri(ri(ri(ri({},h),{},{fill:"#eee"},f),c),p2(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return se.createElement(u$,ej({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=Qs(d,Lv);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,g){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:vs(v,g)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return se.createElement(Xn,y,f.map(function(m){return se.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,y=n.background,m=n.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,g=vr("recharts-bar",o),x=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,j=x||w,N=dr(m)?this.id:m;return se.createElement(Xn,{className:g},x||w?se.createElement("defs",null,se.createElement("clipPath",{id:"clipPath-".concat(N)},se.createElement("rect",{x:x?u:u-f/2,y:w?d:d-h/2,width:x?f:f*2,height:w?h:h*2}))):null,se.createElement(Xn,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(N,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,N),(!p||v)&&pd.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(S.PureComponent);PX=Eh;Qu(Eh,"displayName","Bar");Qu(Eh,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ic.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Qu(Eh,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=FMe(n,r);if(!p)return null;var y=t.layout,m=r.type.defaultProps,v=m!==void 0?ri(ri({},m),r.props):r.props,g=v.dataKey,x=v.children,w=v.minPointSize,j=y==="horizontal"?o:s,N=u?j.scale.domain():null,P=HMe({numericAxis:j}),k=Qs(x,eY),C=f.map(function(O,I){var E,A,D,R,G,F;u?E=$Me(u[d+I],N):(E=vs(O,g),Array.isArray(E)||(E=[P,E]));var q=QRe(w,PX.defaultProps.minPointSize)(E[1],I);if(y==="horizontal"){var B,Z=[o.scale(E[0]),o.scale(E[1])],le=Z[0],fe=Z[1];A=dF({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:O,index:I}),D=(B=fe??le)!==null&&B!==void 0?B:void 0,R=p.size;var $=le-fe;if(G=Number.isNaN($)?0:$,F={x:A,y:o.y,width:R,height:o.height},Math.abs(q)>0&&Math.abs(G)<Math.abs(q)){var Y=Io(G||q)*(Math.abs(q)-Math.abs(G));D-=Y,G+=Y}}else{var J=[s.scale(E[0]),s.scale(E[1])],ae=J[0],de=J[1];if(A=ae,D=dF({axis:o,ticks:c,bandSize:i,offset:p.offset,entry:O,index:I}),R=de-ae,G=p.size,F={x:s.x,y:D,width:s.width,height:G},Math.abs(q)>0&&Math.abs(R)<Math.abs(q)){var ce=Io(R||q)*(Math.abs(q)-Math.abs(R));R+=ce}}return ri(ri(ri({},O),{},{x:A,y:D,width:R,height:G,value:u?E:E[1],payload:O,background:F},k&&k[I]&&k[I].props),{},{tooltipPayload:[sX(r,O)],tooltipPosition:{x:A+R/2,y:D+G/2}})});return ri({data:C,layout:y},h)});function Wy(e){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wy(e)}function cFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CX(n.key),n)}}function uFe(e,t,r){return t&&h$(e.prototype,t),r&&h$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p$(Object(r),!0).forEach(function(n){GN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GN(e,t,r){return t=CX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CX(e){var t=dFe(e,"string");return Wy(t)=="symbol"?t:t+""}function dFe(e,t){if(Wy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TX=function(t,r,n,i,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ns(u,Eh);return d.reduce(function(p,y){var m=r[y],v=m.orientation,g=m.domain,x=m.padding,w=x===void 0?{}:x,j=m.mirror,N=m.reversed,P="".concat(v).concat(j?"Mirror":""),k,C,O,I,E;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var A=g[1]-g[0],D=1/0,R=m.categoricalDomain.sort(yje);if(R.forEach(function(J,ae){ae>0&&(D=Math.min((J||0)-(R[ae-1]||0),D))}),Number.isFinite(D)){var G=D/A,F=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(k=G*F/2),m.padding==="no-gap"){var q=xh(t.barCategoryGap,G*F),B=G*F/2;k=B-q-(B-q)/F*q}}}i==="xAxis"?C=[n.left+(w.left||0)+(k||0),n.left+n.width-(w.right||0)-(k||0)]:i==="yAxis"?C=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(k||0),n.top+n.height-(w.bottom||0)-(k||0)]:C=m.range,N&&(C=[C[1],C[0]]);var Z=DMe(m,s,h),le=Z.scale,fe=Z.realScaleType;le.domain(g).range(C),RMe(le);var $=WMe(le,_o(_o({},m),{},{realScaleType:fe}));i==="xAxis"?(E=v==="top"&&!j||v==="bottom"&&j,O=n.left,I=f[P]-E*m.height):i==="yAxis"&&(E=v==="left"&&!j||v==="right"&&j,O=f[P]-E*m.width,I=n.top);var Y=_o(_o(_o({},m),$),{},{realScaleType:fe,x:O,y:I,scale:le,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return Y.bandSize=z2(Y,$),!m.hide&&i==="xAxis"?f[P]+=(E?-1:1)*Y.height:m.hide||(f[P]+=(E?-1:1)*Y.width),_o(_o({},p),{},GN({},y,Y))},{})},EX=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},fFe=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return EX({x:r,y:n},{x:i,y:s})},OX=function(){function e(t){cFe(this,e),this.scale=t}return uFe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();GN(OX,"EPS",1e-4);var yE=function(t){var r=Object.keys(t).reduce(function(n,i){return _o(_o({},n),{},GN({},i,OX.create(t[i])))},{});return _o(_o({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return ORe(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return _X(i,function(s,o){return r[o].isInRange(s)})}})};function hFe(e){return(e%180+180)%180}var pFe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=hFe(i),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},mFe=Id,gFe=Cv,xFe=ON;function yFe(e){return function(t,r,n){var i=Object(t);if(!gFe(t)){var s=mFe(r);t=xFe(t),r=function(l){return s(i[l],l,i)}}var o=e(t,r,n);return o>-1?i[s?t[o]:o]:void 0}}var vFe=yFe,bFe=wX;function wFe(e){var t=bFe(e),r=t%1;return t===t?r?t-r:t:0}var jFe=wFe,NFe=$G,SFe=Id,_Fe=jFe,PFe=Math.max;function AFe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:_Fe(r);return i<0&&(i=PFe(n+i,0)),NFe(e,SFe(t),i)}var kFe=AFe,CFe=vFe,TFe=kFe,EFe=CFe(TFe),OFe=EFe;const MFe=Er(OFe);var LFe=v2e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),vE=S.createContext(void 0),bE=S.createContext(void 0),MX=S.createContext(void 0),LX=S.createContext({}),IX=S.createContext(void 0),DX=S.createContext(0),RX=S.createContext(0),m$=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=LFe(s);return se.createElement(vE.Provider,{value:n},se.createElement(bE.Provider,{value:i},se.createElement(LX.Provider,{value:s},se.createElement(MX.Provider,{value:d},se.createElement(IX.Provider,{value:o},se.createElement(DX.Provider,{value:u},se.createElement(RX.Provider,{value:c},l)))))))},IFe=function(){return S.useContext(IX)},FX=function(t){var r=S.useContext(vE);r==null&&vh();var n=r[t];return n==null&&vh(),n},DFe=function(){var t=S.useContext(vE);return Fu(t)},RFe=function(){var t=S.useContext(bE),r=MFe(t,function(n){return _X(n.domain,Number.isFinite)});return r||Fu(t)},$X=function(t){var r=S.useContext(bE);r==null&&vh();var n=r[t];return n==null&&vh(),n},FFe=function(){var t=S.useContext(MX);return t},$Fe=function(){return S.useContext(LX)},wE=function(){return S.useContext(RX)},jE=function(){return S.useContext(DX)};function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function BFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UX(n.key),n)}}function zFe(e,t,r){return t&&UFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VFe(e,t,r){return t=rj(t),qFe(e,BX()?Reflect.construct(t,r||[],rj(e).constructor):t.apply(e,r))}function qFe(e,t){if(t&&(Km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WFe(e)}function WFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BX=function(){return!!e})()}function rj(e){return rj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rj(e)}function HFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_4(e,t)}function _4(e,t){return _4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_4(e,t)}function g$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function x$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g$(Object(r),!0).forEach(function(n){NE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NE(e,t,r){return t=UX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UX(e){var t=KFe(e,"string");return Km(t)=="symbol"?t:t+""}function KFe(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GFe(e,t){return QFe(e)||ZFe(e,t)||XFe(e,t)||YFe()}function YFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XFe(e,t){if(e){if(typeof e=="string")return y$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y$(e,t)}}function y$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function QFe(e){if(Array.isArray(e))return e}function P4(){return P4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P4.apply(this,arguments)}var JFe=function(t,r){var n;return se.isValidElement(t)?n=se.cloneElement(t,r):lr(t)?n=t(r):n=se.createElement("line",P4({},r,{className:"recharts-reference-line-line"})),n},e$e=function(t,r,n,i,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,p=s.height;if(n){var y=u.y,m=t.y.apply(y,{position:o});if(Dl(u,"discard")&&!t.y.isInRange(m))return null;var v=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var g=u.x,x=t.x.apply(g,{position:o});if(Dl(u,"discard")&&!t.x.isInRange(x))return null;var w=[{x,y:f+p},{x,y:f}];return l==="top"?w.reverse():w}if(i){var j=u.segment,N=j.map(function(P){return t.apply(P,{position:o})});return Dl(u,"discard")&&SRe(N,function(P){return!t.isInRange(P)})?null:N}return null};function t$e(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=IFe(),d=FX(i),f=$X(s),h=FFe();if(!u||!h)return null;Lc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=yE({x:d.scale,y:f.scale}),y=xi(t),m=xi(r),v=n&&n.length===2,g=e$e(p,y,m,v,h,e.position,d.orientation,f.orientation,e);if(!g)return null;var x=GFe(g,2),w=x[0],j=w.x,N=w.y,P=x[1],k=P.x,C=P.y,O=Dl(e,"hidden")?"url(#".concat(u,")"):void 0,I=x$(x$({clipPath:O},yr(e,!0)),{},{x1:j,y1:N,x2:k,y2:C});return se.createElement(Xn,{className:vr("recharts-reference-line",l)},JFe(o,I),ra.renderCallByParent(e,fFe({x1:j,y1:N,x2:k,y2:C})))}var SE=function(e){function t(){return BFe(this,t),VFe(this,t,arguments)}return HFe(t,e),zFe(t,[{key:"render",value:function(){return se.createElement(t$e,this.props)}}])}(se.Component);NE(SE,"displayName","ReferenceLine");NE(SE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function A4(){return A4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A4.apply(this,arguments)}function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function v$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v$(Object(r),!0).forEach(function(n){YN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VX(n.key),n)}}function i$e(e,t,r){return t&&n$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a$e(e,t,r){return t=nj(t),s$e(e,zX()?Reflect.construct(t,r||[],nj(e).constructor):t.apply(e,r))}function s$e(e,t){if(t&&(Gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o$e(e)}function o$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zX=function(){return!!e})()}function nj(e){return nj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nj(e)}function l$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k4(e,t)}function k4(e,t){return k4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k4(e,t)}function YN(e,t,r){return t=VX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VX(e){var t=c$e(e,"string");return Gm(t)=="symbol"?t:t+""}function c$e(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u$e=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,o=yE({x:i.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Dl(t,"discard")&&!o.isInRange(l)?null:l},XN=function(e){function t(){return r$e(this,t),a$e(this,t,arguments)}return l$e(t,e),i$e(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=xi(i),d=xi(s);if(Lc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=u$e(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,m=y.shape,v=y.className,g=Dl(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=b$(b$({clipPath:g},yr(this.props,!0)),{},{cx:h,cy:p});return se.createElement(Xn,{className:vr("recharts-reference-dot",v)},t.renderDot(m,x),ra.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(se.Component);YN(XN,"displayName","ReferenceDot");YN(XN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});YN(XN,"renderDot",function(e,t){var r;return se.isValidElement(e)?r=se.cloneElement(e,t):lr(e)?r=e(t):r=se.createElement(xE,A4({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function C4(){return C4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C4.apply(this,arguments)}function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function w$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function j$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w$(Object(r),!0).forEach(function(n){ZN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WX(n.key),n)}}function h$e(e,t,r){return t&&f$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p$e(e,t,r){return t=ij(t),m$e(e,qX()?Reflect.construct(t,r||[],ij(e).constructor):t.apply(e,r))}function m$e(e,t){if(t&&(Ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g$e(e)}function g$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qX=function(){return!!e})()}function ij(e){return ij=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ij(e)}function x$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T4(e,t)}function T4(e,t){return T4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T4(e,t)}function ZN(e,t,r){return t=WX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WX(e){var t=y$e(e,"string");return Ym(t)=="symbol"?t:t+""}function y$e(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v$e=function(t,r,n,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=yE({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Dl(s,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:EX(p,y)},QN=function(e){function t(){return d$e(this,t),p$e(this,t,arguments)}return x$e(t,e),h$e(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Lc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=xi(i),h=xi(s),p=xi(o),y=xi(l),m=this.props.shape;if(!f&&!h&&!p&&!y&&!m)return null;var v=v$e(f,h,p,y,this.props);if(!v&&!m)return null;var g=Dl(this.props,"hidden")?"url(#".concat(d,")"):void 0;return se.createElement(Xn,{className:vr("recharts-reference-area",c)},t.renderRect(m,j$(j$({clipPath:g},yr(this.props,!0)),v)),ra.renderCallByParent(this.props,v))}}])}(se.Component);ZN(QN,"displayName","ReferenceArea");ZN(QN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ZN(QN,"renderRect",function(e,t){var r;return se.isValidElement(e)?r=se.cloneElement(e,t):lr(e)?r=e(t):r=se.createElement(gE,C4({},t,{className:"recharts-reference-area-rect"})),r});function HX(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function b$e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return pFe(n,r)}function w$e(e,t,r){var n=r==="width",i=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function aj(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function j$e(e,t){return HX(e,t+1)}function N$e(e,t,r,n,i){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:HX(n,u)};var m=c,v,g=function(){return v===void 0&&(v=r(y,m)),v},x=y.coordinate,w=c===0||aj(e,x,g,d,l);w||(c=0,d=o,u+=1),w&&(d=x+e*(g()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function Hy(e){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hy(e)}function N$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N$(Object(r),!0).forEach(function(n){S$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S$e(e,t,r){return t=_$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _$e(e){var t=P$e(e,"string");return Hy(t)=="symbol"?t:t+""}function P$e(e,t){if(Hy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A$e(e,t,r,n,i){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var p=s[h],y,m=function(){return y===void 0&&(y=r(p,h)),y};if(h===o-1){var v=e*(p.coordinate+e*m()/2-c);s[h]=p=ea(ea({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else s[h]=p=ea(ea({},p),{},{tickCoord:p.coordinate});var g=aj(e,p.tickCoord,m,l,c);g&&(c=p.tickCoord-e*(m()/2+i),s[h]=ea(ea({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function k$e(e,t,r,n,i,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=ea(ea({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=aj(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+i),o[l-1]=ea(ea({},d),{},{isShow:!0}))}for(var y=s?l-1:l,m=function(x){var w=o[x],j,N=function(){return j===void 0&&(j=r(w,x)),j};if(x===0){var P=e*(w.coordinate-e*N()/2-c);o[x]=w=ea(ea({},w),{},{tickCoord:P<0?w.coordinate-P*e:w.coordinate})}else o[x]=w=ea(ea({},w),{},{tickCoord:w.coordinate});var k=aj(e,w.tickCoord,N,c,u);k&&(c=w.tickCoord+e*(N()/2+i),o[x]=ea(ea({},w),{},{isShow:!0}))},v=0;v<y;v++)m(v);return o}function _E(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(tt(c)||Ic.isSsr)return j$e(i,typeof c=="number"&&tt(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?g0(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,j){var N=lr(u)?u(w.value,j):w.value;return p==="width"?b$e(g0(N,{fontSize:t,letterSpacing:r}),y,f):g0(N,{fontSize:t,letterSpacing:r})[p]},v=i.length>=2?Io(i[1].coordinate-i[0].coordinate):1,g=w$e(s,v,p);return c==="equidistantPreserveStart"?N$e(v,g,m,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=k$e(v,g,m,i,o,c==="preserveStartEnd"):h=A$e(v,g,m,i,o),h.filter(function(x){return x.isShow}))}var C$e=["viewBox"],T$e=["viewBox"],E$e=["ticks"];function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cp.apply(this,arguments)}function S$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S$(Object(r),!0).forEach(function(n){PE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G_(e,t){if(e==null)return{};var r=O$e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function O$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function M$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GX(n.key),n)}}function L$e(e,t,r){return t&&_$(e.prototype,t),r&&_$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function I$e(e,t,r){return t=sj(t),D$e(e,KX()?Reflect.construct(t,r||[],sj(e).constructor):t.apply(e,r))}function D$e(e,t){if(t&&(Xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R$e(e)}function R$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KX=function(){return!!e})()}function sj(e){return sj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sj(e)}function F$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E4(e,t)}function E4(e,t){return E4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},E4(e,t)}function PE(e,t,r){return t=GX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GX(e){var t=$$e(e,"string");return Xm(t)=="symbol"?t:t+""}function $$e(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eg=function(e){function t(r){var n;return M$e(this,t),n=I$e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return F$e(t,e),L$e(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=G_(n,C$e),l=this.props,c=l.viewBox,u=G_(l,T$e);return!Xp(s,c)||!Xp(o,u)||!Xp(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,y,m,v,g,x,w=f?-1:1,j=n.tickSize||d,N=tt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,v=o+ +!f*c,m=v-w*j,x=m-w*h,g=N;break;case"left":m=v=n.coordinate,y=s+ +!f*l,p=y-w*j,g=p-w*h,x=N;break;case"right":m=v=n.coordinate,y=s+ +f*l,p=y+w*j,g=p+w*h,x=N;break;default:p=y=n.coordinate,v=o+ +f*c,m=v+w*j,x=m+w*h,g=N;break}return{line:{x1:p,y1:m,x2:y,y2:v},tick:{x:g,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=di(di(di({},yr(this.props,!1)),yr(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=di(di({},f),{},{x1:i,y1:s+h*l,x2:i+o,y2:s+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=di(di({},f),{},{x1:i+p*o,y1:s,x2:i+p*o,y2:s+l})}return se.createElement("line",Cp({},f,{className:vr("recharts-cartesian-axis-line",Zs(d,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=_E(di(di({},this.props),{},{ticks:n}),i,s),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=yr(this.props,!1),g=yr(d,!1),x=di(di({},v),{},{fill:"none"},yr(c,!1)),w=p.map(function(j,N){var P=o.getTickLineCoord(j),k=P.line,C=P.tick,O=di(di(di(di({textAnchor:y,verticalAnchor:m},v),{},{stroke:"none",fill:u},g),C),{},{index:N,payload:j,visibleTicksCount:p.length,tickFormatter:f});return se.createElement(Xn,Cp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},p2(o.props,j,N)),c&&se.createElement("line",Cp({},x,k,{className:vr("recharts-cartesian-axis-tick-line",Zs(c,"className"))})),d&&t.renderTickItem(d,O,"".concat(lr(f)?f(j.value,N):j.value).concat(h||"")))});return se.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=G_(f,E$e),y=h;return lr(c)&&(y=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!y||!y.length?null:se.createElement(Xn,{className:vr("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),ra.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,l=vr(i.className,"recharts-cartesian-axis-tick-value");return se.isValidElement(n)?o=se.cloneElement(n,di(di({},i),{},{className:l})):lr(n)?o=n(di(di({},i),{},{className:l})):o=se.createElement(k2,Cp({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(S.Component);PE(Eg,"displayName","CartesianAxis");PE(Eg,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var B$e=["x1","y1","x2","y2","key"],U$e=["offset"];function bh(e){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bh(e)}function P$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P$(Object(r),!0).forEach(function(n){z$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z$e(e,t,r){return t=V$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V$e(e){var t=q$e(e,"string");return bh(t)=="symbol"?t:t+""}function q$e(e,t){if(bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Df.apply(this,arguments)}function A$(e,t){if(e==null)return{};var r=W$e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function W$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var H$e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return se.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function YX(e,t){var r;if(se.isValidElement(e))r=se.cloneElement(e,t);else if(lr(e))r=e(t);else{var n=t.x1,i=t.y1,s=t.x2,o=t.y2,l=t.key,c=A$(t,B$e),u=yr(c,!1);u.offset;var d=A$(u,U$e);r=se.createElement("line",Df({},d,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function K$e(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=na(na({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return YX(i,u)});return se.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function G$e(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,s=e.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=na(na({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return YX(i,u)});return se.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Y$e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],m=y?i+o-h:d[p+1]-h;if(m<=0)return null;var v=p%t.length;return se.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function X$e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],m=y?s+l-h:d[p+1]-h;if(m<=0)return null;var v=p%n.length;return se.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Z$e=function(t,r){var n=t.xAxis,i=t.width,s=t.height,o=t.offset;return iX(_E(na(na(na({},Eg.defaultProps),n),{},{ticks:Ac(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},Q$e=function(t,r){var n=t.yAxis,i=t.width,s=t.height,o=t.offset;return iX(_E(na(na(na({},Eg.defaultProps),n),{},{ticks:Ac(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},ip={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function O4(e){var t,r,n,i,s,o,l=wE(),c=jE(),u=$Fe(),d=na(na({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ip.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ip.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ip.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:ip.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:ip.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:ip.verticalFill,x:tt(e.x)?e.x:u.left,y:tt(e.y)?e.y:u.top,width:tt(e.width)?e.width:u.width,height:tt(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,y=d.height,m=d.syncWithTicks,v=d.horizontalValues,g=d.verticalValues,x=DFe(),w=RFe();if(!tt(p)||p<=0||!tt(y)||y<=0||!tt(f)||f!==+f||!tt(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||Z$e,N=d.horizontalCoordinatesGenerator||Q$e,P=d.horizontalPoints,k=d.verticalPoints;if((!P||!P.length)&&lr(N)){var C=v&&v.length,O=N({yAxis:w?na(na({},w),{},{ticks:C?v:w.ticks}):void 0,width:l,height:c,offset:u},C?!0:m);Lc(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(bh(O),"]")),Array.isArray(O)&&(P=O)}if((!k||!k.length)&&lr(j)){var I=g&&g.length,E=j({xAxis:x?na(na({},x),{},{ticks:I?g:x.ticks}):void 0,width:l,height:c,offset:u},I?!0:m);Lc(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(bh(E),"]")),Array.isArray(E)&&(k=E)}return se.createElement("g",{className:"recharts-cartesian-grid"},se.createElement(H$e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),se.createElement(K$e,Df({},d,{offset:u,horizontalPoints:P,xAxis:x,yAxis:w})),se.createElement(G$e,Df({},d,{offset:u,verticalPoints:k,xAxis:x,yAxis:w})),se.createElement(Y$e,Df({},d,{horizontalPoints:P})),se.createElement(X$e,Df({},d,{verticalPoints:k})))}O4.displayName="CartesianGrid";var J$e=["type","layout","connectNulls","ref"],e7e=["key"];function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function k$(e,t){if(e==null)return{};var r=t7e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function b0(){return b0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b0.apply(this,arguments)}function C$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C$(Object(r),!0).forEach(function(n){Po(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ap(e){return a7e(e)||i7e(e)||n7e(e)||r7e()}function r7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n7e(e,t){if(e){if(typeof e=="string")return M4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M4(e,t)}}function i7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a7e(e){if(Array.isArray(e))return M4(e)}function M4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZX(n.key),n)}}function o7e(e,t,r){return t&&T$(e.prototype,t),r&&T$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l7e(e,t,r){return t=oj(t),c7e(e,XX()?Reflect.construct(t,r||[],oj(e).constructor):t.apply(e,r))}function c7e(e,t){if(t&&(Zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u7e(e)}function u7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XX=function(){return!!e})()}function oj(e){return oj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oj(e)}function d7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L4(e,t)}function L4(e,t){return L4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L4(e,t)}function Po(e,t,r){return t=ZX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZX(e){var t=f7e(e,"string");return Zm(t)=="symbol"?t:t+""}function f7e(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iv=function(e){function t(){var r;s7e(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=l7e(this,t,[].concat(i)),Po(r,"state",{isAnimationFinished:!0,totalLength:0}),Po(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Po(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(g,x){return g+x});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],y=0,m=0;y<c.length;m+=c[y],++y)if(m+c[y]>f){p=[].concat(ap(c.slice(0,y)),[f-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(ap(t.repeat(c,d)),ap(p),v).map(function(g){return"".concat(g,"px")}).join(", ")}),Po(r,"id",kv("recharts-line-")),Po(r,"pathRef",function(o){r.mainCurve=o}),Po(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Po(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return d7e(t,e),o7e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=Qs(d,Lv);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:vs(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return se.createElement(Xn,p,f.map(function(y){return se.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=yr(this.props,!1),h=yr(c,!0),p=u.map(function(m,v){var g=Qa(Qa(Qa({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(c,g)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return se.createElement(Xn,b0({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,i,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=k$(l,J$e),h=Qa(Qa(Qa({},yr(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return se.createElement(u4,b0({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,y=o.animateNewValues,m=o.width,v=o.height,g=this.state,x=g.prevPoints,w=g.totalLength;return se.createElement(Qc,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var N=j.t;if(x){var P=x.length/l.length,k=l.map(function(A,D){var R=Math.floor(D*P);if(x[R]){var G=x[R],F=Co(G.x,A.x),q=Co(G.y,A.y);return Qa(Qa({},A),{},{x:F(N),y:q(N)})}if(y){var B=Co(m*2,A.x),Z=Co(v/2,A.y);return Qa(Qa({},A),{},{x:B(N),y:Z(N)})}return Qa(Qa({},A),{},{x:A.x,y:A.y})});return s.renderCurveStatically(k,n,i)}var C=Co(0,w),O=C(N),I;if(c){var E="".concat(c).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});I=s.getStrokeDasharray(O,w,E)}else I=s.generateSimpleStrokeDasharray(w,O);return s.renderCurveStatically(l,n,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!VN(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,y=i.height,m=i.isAnimationActive,v=i.id;if(s||!l||!l.length)return null;var g=this.state.isAnimationFinished,x=l.length===1,w=vr("recharts-line",c),j=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,P=j||N,k=dr(v)?this.id:v,C=(n=yr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=C.r,I=O===void 0?3:O,E=C.strokeWidth,A=E===void 0?2:E,D=Aje(o)?o:{},R=D.clipDot,G=R===void 0?!0:R,F=I*2+A;return se.createElement(Xn,{className:w},j||N?se.createElement("defs",null,se.createElement("clipPath",{id:"clipPath-".concat(k)},se.createElement("rect",{x:j?h:h-p/2,y:N?f:f-y/2,width:j?p:p*2,height:N?y:y*2})),!G&&se.createElement("clipPath",{id:"clipPath-dots-".concat(k)},se.createElement("rect",{x:h-F/2,y:f-F/2,width:p+F,height:y+F}))):null,!x&&this.renderCurve(P,k),this.renderErrorBar(P,k),(x||o)&&this.renderDots(P,G,k),(!m||g)&&pd.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(ap(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(ap(o),ap(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(se.isValidElement(n))s=se.cloneElement(n,i);else if(lr(n))s=n(i);else{var o=i.key,l=k$(i,e7e),c=vr("recharts-line-dot",typeof n!="boolean"?n.className:"");s=se.createElement(xE,b0({key:o},l,{className:c}))}return s}}])}(S.PureComponent);Po(Iv,"displayName","Line");Po(Iv,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ic.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Po(Iv,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var y=vs(h,o);return d==="horizontal"?{x:uF({axis:r,ticks:i,bandSize:l,entry:h,index:p}),y:dr(y)?null:n.scale(y),value:y,payload:h}:{x:dr(y)?null:r.scale(y),y:uF({axis:n,ticks:s,bandSize:l,entry:h,index:p}),value:y,payload:h}});return Qa({points:f,layout:d},u)});function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function h7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eZ(n.key),n)}}function m7e(e,t,r){return t&&p7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g7e(e,t,r){return t=lj(t),x7e(e,QX()?Reflect.construct(t,r||[],lj(e).constructor):t.apply(e,r))}function x7e(e,t){if(t&&(Qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y7e(e)}function y7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QX=function(){return!!e})()}function lj(e){return lj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lj(e)}function v7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I4(e,t)}function I4(e,t){return I4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I4(e,t)}function JX(e,t,r){return t=eZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eZ(e){var t=b7e(e,"string");return Qm(t)=="symbol"?t:t+""}function b7e(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D4(){return D4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D4.apply(this,arguments)}function w7e(e){var t=e.xAxisId,r=wE(),n=jE(),i=FX(t);return i==null?null:S.createElement(Eg,D4({},i,{className:vr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ac(o,!0)}}))}var Jm=function(e){function t(){return h7e(this,t),g7e(this,t,arguments)}return v7e(t,e),m7e(t,[{key:"render",value:function(){return S.createElement(w7e,this.props)}}])}(S.Component);JX(Jm,"displayName","XAxis");JX(Jm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function j7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nZ(n.key),n)}}function S7e(e,t,r){return t&&N7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _7e(e,t,r){return t=cj(t),P7e(e,tZ()?Reflect.construct(t,r||[],cj(e).constructor):t.apply(e,r))}function P7e(e,t){if(t&&(eg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A7e(e)}function A7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tZ=function(){return!!e})()}function cj(e){return cj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cj(e)}function k7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R4(e,t)}function R4(e,t){return R4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R4(e,t)}function rZ(e,t,r){return t=nZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nZ(e){var t=C7e(e,"string");return eg(t)=="symbol"?t:t+""}function C7e(e,t){if(eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F4(){return F4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F4.apply(this,arguments)}var T7e=function(t){var r=t.yAxisId,n=wE(),i=jE(),s=$X(r);return s==null?null:S.createElement(Eg,F4({},s,{className:vr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Ac(l,!0)}}))},tg=function(e){function t(){return j7e(this,t),_7e(this,t,arguments)}return k7e(t,e),S7e(t,[{key:"render",value:function(){return S.createElement(T7e,this.props)}}])}(S.Component);rZ(tg,"displayName","YAxis");rZ(tg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function E$(e){return L7e(e)||M7e(e)||O7e(e)||E7e()}function E7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O7e(e,t){if(e){if(typeof e=="string")return $4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $4(e,t)}}function M7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L7e(e){if(Array.isArray(e))return $4(e)}function $4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var B4=function(t,r,n,i,s){var o=Qs(t,SE),l=Qs(t,XN),c=[].concat(E$(o),E$(l)),u=Qs(t,QN),d="".concat(i,"Id"),f=i[0],h=r;if(c.length&&(h=c.reduce(function(m,v){if(v.props[d]===n&&Dl(v.props,"extendDomain")&&tt(v.props[f])){var g=v.props[f];return[Math.min(m[0],g),Math.max(m[1],g)]}return m},h)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(m,v){if(v.props[d]===n&&Dl(v.props,"extendDomain")&&tt(v.props[p])&&tt(v.props[y])){var g=v.props[p],x=v.props[y];return[Math.min(m[0],g,x),Math.max(m[1],g,x)]}return m},h)}return s&&s.length&&(h=s.reduce(function(m,v){return tt(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},iZ={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,y){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],g=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,y),!0}for(w=1,x=new Array(g-1);w<g;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var j=v.length,N;for(w=0;w<j;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),g){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!x)for(N=1,x=new Array(g-1);N<g;N++)x[N-1]=arguments[N];v[w].fn.apply(v[w].context,x)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var m=0,v=[],g=y.length;m<g;m++)(y[m].fn!==d||h&&!y[m].once||f&&y[m].context!==f)&&v.push(y[m]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(iZ);var I7e=iZ.exports;const D7e=Er(I7e);var Y_=new D7e,X_="recharts.syncMouseEvents";function Ky(e){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ky(e)}function R7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aZ(n.key),n)}}function $7e(e,t,r){return t&&F7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z_(e,t,r){return t=aZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aZ(e){var t=B7e(e,"string");return Ky(t)=="symbol"?t:t+""}function B7e(e,t){if(Ky(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ky(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var U7e=function(){function e(){R7e(this,e),Z_(this,"activeIndex",0),Z_(this,"coordinateList",[]),Z_(this,"layout","horizontal")}return $7e(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function z7e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&tt(n)&&tt(i))return!0}return!1}function V7e(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function sZ(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,o=Bi(t,r,n,i),l=Bi(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function q7e(e,t,r){var n,i,s,o;if(e==="horizontal")n=t.x,s=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Bi(l,c,u,f),p=Bi(l,c,d,f);n=h.x,i=h.y,s=p.x,o=p.y}else return sZ(t);return[{x:n,y:i},{x:s,y:o}]}function Gy(e){"@babel/helpers - typeof";return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gy(e)}function O$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function y1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O$(Object(r),!0).forEach(function(n){W7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W7e(e,t,r){return t=H7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H7e(e){var t=K7e(e,"string");return Gy(t)=="symbol"?t:t+""}function K7e(e,t){if(Gy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G7e(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!o||h!=="ScatterChart"&&i!=="axis")return null;var y,m=u4;if(h==="ScatterChart")y=o,m=G8e;else if(h==="BarChart")y=V7e(f,o,c,d),m=gE;else if(f==="radial"){var v=sZ(o),g=v.cx,x=v.cy,w=v.radius,j=v.startAngle,N=v.endAngle;y={cx:g,cy:x,startAngle:j,endAngle:N,innerRadius:w,outerRadius:w},m=cX}else y={points:q7e(f,o,c)},m=u4;var P=y1(y1(y1(y1({stroke:"#ccc",pointerEvents:"none"},c),y),yr(p,!1)),{},{payload:l,payloadIndex:u,className:vr("recharts-tooltip-cursor",p.className)});return S.isValidElement(p)?S.cloneElement(p,P):S.createElement(m,P)}var Y7e=["item"],X7e=["children","className","width","height","style","compact","title","desc"];function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tp.apply(this,arguments)}function M$(e,t){return J7e(e)||Q7e(e,t)||lZ(e,t)||Z7e()}function Z7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function J7e(e){if(Array.isArray(e))return e}function L$(e,t){if(e==null)return{};var r=e9e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function t9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cZ(n.key),n)}}function n9e(e,t,r){return t&&r9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i9e(e,t,r){return t=uj(t),a9e(e,oZ()?Reflect.construct(t,r||[],uj(e).constructor):t.apply(e,r))}function a9e(e,t){if(t&&(rg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s9e(e)}function s9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oZ=function(){return!!e})()}function uj(e){return uj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uj(e)}function o9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U4(e,t)}function U4(e,t){return U4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},U4(e,t)}function ng(e){return u9e(e)||c9e(e)||lZ(e)||l9e()}function l9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lZ(e,t){if(e){if(typeof e=="string")return z4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z4(e,t)}}function c9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u9e(e){if(Array.isArray(e))return z4(e)}function z4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I$(Object(r),!0).forEach(function(n){It(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function It(e,t,r){return t=cZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cZ(e){var t=d9e(e,"string");return rg(t)=="symbol"?t:t+""}function d9e(e,t){if(rg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f9e={xAxis:["bottom","top"],yAxis:["left","right"]},h9e={width:"100%",height:"100%"},uZ={x:0,y:0};function v1(e){return e}var p9e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},m9e=function(t,r,n,i){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=i.radius;return Te(Te(Te({},i),Bi(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return Te(Te(Te({},i),Bi(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return uZ},JN=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(ng(l),ng(u)):l},[]);return o.length>0?o:t&&t.length&&tt(i)&&tt(s)?t.slice(i,s+1):[]};function dZ(e){return e==="number"?[0,"auto"]:void 0}var V4=function(t,r,n,i){var s=t.graphicalItems,o=t.tooltipAxis,l=JN(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=f2(p,o.dataKey,i)}else h=f&&f[n]||l[n];return h?[].concat(ng(c),[sX(u,h)]):c},[])},D$=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},o=p9e(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=TMe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=V4(t,r,d,f),p=m9e(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},g9e=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=nX(d,s);return n.reduce(function(y,m){var v,g=m.type.defaultProps!==void 0?Te(Te({},m.type.defaultProps),m.props):m.props,x=g.type,w=g.dataKey,j=g.allowDataOverflow,N=g.allowDuplicatedCategory,P=g.scale,k=g.ticks,C=g.includeHidden,O=g[o];if(y[O])return y;var I=JN(t.data,{graphicalItems:i.filter(function($){var Y,J=o in $.props?$.props[o]:(Y=$.type.defaultProps)===null||Y===void 0?void 0:Y[o];return J===O}),dataStartIndex:c,dataEndIndex:u}),E=I.length,A,D,R;z7e(g.domain,j,x)&&(A=a4(g.domain,null,j),p&&(x==="number"||P!=="auto")&&(R=y0(I,w,"category")));var G=dZ(x);if(!A||A.length===0){var F,q=(F=g.domain)!==null&&F!==void 0?F:G;if(w){if(A=y0(I,w,x),x==="category"&&p){var B=xje(A);N&&B?(D=A,A=Z2(0,E)):N||(A=pF(q,A,m).reduce(function($,Y){return $.indexOf(Y)>=0?$:[].concat(ng($),[Y])},[]))}else if(x==="category")N?A=A.filter(function($){return $!==""&&!dr($)}):A=pF(q,A,m).reduce(function($,Y){return $.indexOf(Y)>=0||Y===""||dr(Y)?$:[].concat(ng($),[Y])},[]);else if(x==="number"){var Z=IMe(I,i.filter(function($){var Y,J,ae=o in $.props?$.props[o]:(Y=$.type.defaultProps)===null||Y===void 0?void 0:Y[o],de="hide"in $.props?$.props.hide:(J=$.type.defaultProps)===null||J===void 0?void 0:J.hide;return ae===O&&(C||!de)}),w,s,d);Z&&(A=Z)}p&&(x==="number"||P!=="auto")&&(R=y0(I,w,"category"))}else p?A=Z2(0,E):l&&l[O]&&l[O].hasStack&&x==="number"?A=h==="expand"?[0,1]:aX(l[O].stackGroups,c,u):A=rX(I,i.filter(function($){var Y=o in $.props?$.props[o]:$.type.defaultProps[o],J="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return Y===O&&(C||!J)}),x,d,!0);if(x==="number")A=B4(f,A,O,s,k),q&&(A=a4(q,A,j));else if(x==="category"&&q){var le=q,fe=A.every(function($){return le.indexOf($)>=0});fe&&(A=le)}}return Te(Te({},y),{},It({},O,Te(Te({},g),{},{axisType:s,domain:A,categoricalDomain:R,duplicateDomain:D,originalDomain:(v=g.domain)!==null&&v!==void 0?v:G,isCategorical:p,layout:d})))},{})},x9e=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=JN(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,y=nX(d,s),m=-1;return n.reduce(function(v,g){var x=g.type.defaultProps!==void 0?Te(Te({},g.type.defaultProps),g.props):g.props,w=x[o],j=dZ("number");if(!v[w]){m++;var N;return y?N=Z2(0,p):l&&l[w]&&l[w].hasStack?(N=aX(l[w].stackGroups,c,u),N=B4(f,N,w,s)):(N=a4(j,rX(h,n.filter(function(P){var k,C,O=o in P.props?P.props[o]:(k=P.type.defaultProps)===null||k===void 0?void 0:k[o],I="hide"in P.props?P.props.hide:(C=P.type.defaultProps)===null||C===void 0?void 0:C.hide;return O===w&&!I}),"number",d),i.defaultProps.allowDataOverflow),N=B4(f,N,w,s)),Te(Te({},v),{},It({},w,Te(Te({axisType:s},i.defaultProps),{},{hide:!0,orientation:Zs(f9e,"".concat(s,".").concat(m%2),null),domain:N,originalDomain:j,isCategorical:y,layout:d})))}return v},{})},y9e=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(i,"Id"),h=Qs(d,s),p={};return h&&h.length?p=g9e(t,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=x9e(t,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},v9e=function(t){var r=Fu(t),n=Ac(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:VT(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:z2(r,n)}},R$=function(t){var r=t.children,n=t.defaultShowTooltip,i=ns(r,Wm),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},b9e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Mc(r&&r.type);return n&&n.indexOf("Bar")>=0})},F$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},w9e=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=ns(f,Wm),y=ns(f,Zp),m=Object.keys(c).reduce(function(N,P){var k=c[P],C=k.orientation;return!k.mirror&&!k.hide?Te(Te({},N),{},It({},C,N[C]+k.width)):N},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(N,P){var k=o[P],C=k.orientation;return!k.mirror&&!k.hide?Te(Te({},N),{},It({},C,Zs(N,"".concat(C))+k.height)):N},{top:h.top||0,bottom:h.bottom||0}),g=Te(Te({},v),m),x=g.bottom;p&&(g.bottom+=p.props.height||Wm.defaultProps.height),y&&r&&(g=MMe(g,i,n,r));var w=u-g.left-g.right,j=d-g.top-g.bottom;return Te(Te({brushBottom:x},g),{},{width:Math.max(w,0),height:Math.max(j,0)})},j9e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},fZ=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(g,x){var w=x.graphicalItems,j=x.stackGroups,N=x.offset,P=x.updateId,k=x.dataStartIndex,C=x.dataEndIndex,O=g.barSize,I=g.layout,E=g.barGap,A=g.barCategoryGap,D=g.maxBarSize,R=F$(I),G=R.numericAxisName,F=R.cateAxisName,q=b9e(w),B=[];return w.forEach(function(Z,le){var fe=JN(g.data,{graphicalItems:[Z],dataStartIndex:k,dataEndIndex:C}),$=Z.type.defaultProps!==void 0?Te(Te({},Z.type.defaultProps),Z.props):Z.props,Y=$.dataKey,J=$.maxBarSize,ae=$["".concat(G,"Id")],de=$["".concat(F,"Id")],ce={},be=c.reduce(function(Je,ne){var me=x["".concat(ne.axisType,"Map")],Ae=$["".concat(ne.axisType,"Id")];me&&me[Ae]||ne.axisType==="zAxis"||vh();var Re=me[Ae];return Te(Te({},Je),{},It(It({},ne.axisType,Re),"".concat(ne.axisType,"Ticks"),Ac(Re)))},ce),oe=be[F],ye=be["".concat(F,"Ticks")],je=j&&j[ae]&&j[ae].hasStack&&KMe(Z,j[ae].stackGroups),pe=Mc(Z.type).indexOf("Bar")>=0,Ne=z2(oe,ye),xe=[],V=q&&EMe({barSize:O,stackGroups:j,totalSize:j9e(be,F)});if(pe){var Ve,Ze,it=dr(J)?D:J,De=(Ve=(Ze=z2(oe,ye,!0))!==null&&Ze!==void 0?Ze:it)!==null&&Ve!==void 0?Ve:0;xe=OMe({barGap:E,barCategoryGap:A,bandSize:De!==Ne?De:Ne,sizeList:V[de],maxBarSize:it}),De!==Ne&&(xe=xe.map(function(Je){return Te(Te({},Je),{},{position:Te(Te({},Je.position),{},{offset:Je.position.offset-De/2})})}))}var pt=Z&&Z.type&&Z.type.getComposedData;pt&&B.push({props:Te(Te({},pt(Te(Te({},be),{},{displayedData:fe,props:g,dataKey:Y,item:Z,bandSize:Ne,barPosition:xe,offset:N,stackedData:je,layout:I,dataStartIndex:k,dataEndIndex:C}))),{},It(It(It({key:Z.key||"item-".concat(le)},G,be[G]),F,be[F]),"animationId",P)),childIndex:Tje(Z,g.children),item:Z})}),B},p=function(g,x){var w=g.props,j=g.dataStartIndex,N=g.dataEndIndex,P=g.updateId;if(!sD({props:w}))return null;var k=w.children,C=w.layout,O=w.stackOffset,I=w.data,E=w.reverseStackOrder,A=F$(C),D=A.numericAxisName,R=A.cateAxisName,G=Qs(k,n),F=qMe(I,G,"".concat(D,"Id"),"".concat(R,"Id"),O,E),q=c.reduce(function($,Y){var J="".concat(Y.axisType,"Map");return Te(Te({},$),{},It({},J,y9e(w,Te(Te({},Y),{},{graphicalItems:G,stackGroups:Y.axisType===D&&F,dataStartIndex:j,dataEndIndex:N}))))},{}),B=w9e(Te(Te({},q),{},{props:w,graphicalItems:G}),x==null?void 0:x.legendBBox);Object.keys(q).forEach(function($){q[$]=d(w,q[$],B,$.replace("Map",""),r)});var Z=q["".concat(R,"Map")],le=v9e(Z),fe=h(w,Te(Te({},q),{},{dataStartIndex:j,dataEndIndex:N,updateId:P,graphicalItems:G,stackGroups:F,offset:B}));return Te(Te({formattedGraphicalItems:fe,graphicalItems:G,offset:B,stackGroups:F},le),q)},y=function(v){function g(x){var w,j,N;return t9e(this,g),N=i9e(this,g,[x]),It(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),It(N,"accessibilityManager",new U7e),It(N,"handleLegendBBoxUpdate",function(P){if(P){var k=N.state,C=k.dataStartIndex,O=k.dataEndIndex,I=k.updateId;N.setState(Te({legendBBox:P},p({props:N.props,dataStartIndex:C,dataEndIndex:O,updateId:I},Te(Te({},N.state),{},{legendBBox:P}))))}}),It(N,"handleReceiveSyncEvent",function(P,k,C){if(N.props.syncId===P){if(C===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(k)}}),It(N,"handleBrushChange",function(P){var k=P.startIndex,C=P.endIndex;if(k!==N.state.dataStartIndex||C!==N.state.dataEndIndex){var O=N.state.updateId;N.setState(function(){return Te({dataStartIndex:k,dataEndIndex:C},p({props:N.props,dataStartIndex:k,dataEndIndex:C,updateId:O},N.state))}),N.triggerSyncEvent({dataStartIndex:k,dataEndIndex:C})}}),It(N,"handleMouseEnter",function(P){var k=N.getMouseInfo(P);if(k){var C=Te(Te({},k),{},{isTooltipActive:!0});N.setState(C),N.triggerSyncEvent(C);var O=N.props.onMouseEnter;lr(O)&&O(C,P)}}),It(N,"triggeredAfterMouseMove",function(P){var k=N.getMouseInfo(P),C=k?Te(Te({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(C),N.triggerSyncEvent(C);var O=N.props.onMouseMove;lr(O)&&O(C,P)}),It(N,"handleItemMouseEnter",function(P){N.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),It(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),It(N,"handleMouseMove",function(P){P.persist(),N.throttleTriggeredAfterMouseMove(P)}),It(N,"handleMouseLeave",function(P){N.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};N.setState(k),N.triggerSyncEvent(k);var C=N.props.onMouseLeave;lr(C)&&C(k,P)}),It(N,"handleOuterEvent",function(P){var k=Cje(P),C=Zs(N.props,"".concat(k));if(k&&lr(C)){var O,I;/.*touch.*/i.test(k)?I=N.getMouseInfo(P.changedTouches[0]):I=N.getMouseInfo(P),C((O=I)!==null&&O!==void 0?O:{},P)}}),It(N,"handleClick",function(P){var k=N.getMouseInfo(P);if(k){var C=Te(Te({},k),{},{isTooltipActive:!0});N.setState(C),N.triggerSyncEvent(C);var O=N.props.onClick;lr(O)&&O(C,P)}}),It(N,"handleMouseDown",function(P){var k=N.props.onMouseDown;if(lr(k)){var C=N.getMouseInfo(P);k(C,P)}}),It(N,"handleMouseUp",function(P){var k=N.props.onMouseUp;if(lr(k)){var C=N.getMouseInfo(P);k(C,P)}}),It(N,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),It(N,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.handleMouseDown(P.changedTouches[0])}),It(N,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.handleMouseUp(P.changedTouches[0])}),It(N,"handleDoubleClick",function(P){var k=N.props.onDoubleClick;if(lr(k)){var C=N.getMouseInfo(P);k(C,P)}}),It(N,"handleContextMenu",function(P){var k=N.props.onContextMenu;if(lr(k)){var C=N.getMouseInfo(P);k(C,P)}}),It(N,"triggerSyncEvent",function(P){N.props.syncId!==void 0&&Y_.emit(X_,N.props.syncId,P,N.eventEmitterSymbol)}),It(N,"applySyncEvent",function(P){var k=N.props,C=k.layout,O=k.syncMethod,I=N.state.updateId,E=P.dataStartIndex,A=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)N.setState(Te({dataStartIndex:E,dataEndIndex:A},p({props:N.props,dataStartIndex:E,dataEndIndex:A,updateId:I},N.state)));else if(P.activeTooltipIndex!==void 0){var D=P.chartX,R=P.chartY,G=P.activeTooltipIndex,F=N.state,q=F.offset,B=F.tooltipTicks;if(!q)return;if(typeof O=="function")G=O(B,P);else if(O==="value"){G=-1;for(var Z=0;Z<B.length;Z++)if(B[Z].value===P.activeLabel){G=Z;break}}var le=Te(Te({},q),{},{x:q.left,y:q.top}),fe=Math.min(D,le.x+le.width),$=Math.min(R,le.y+le.height),Y=B[G]&&B[G].value,J=V4(N.state,N.props.data,G),ae=B[G]?{x:C==="horizontal"?B[G].coordinate:fe,y:C==="horizontal"?$:B[G].coordinate}:uZ;N.setState(Te(Te({},P),{},{activeLabel:Y,activeCoordinate:ae,activePayload:J,activeTooltipIndex:G}))}else N.setState(P)}),It(N,"renderCursor",function(P){var k,C=N.state,O=C.isTooltipActive,I=C.activeCoordinate,E=C.activePayload,A=C.offset,D=C.activeTooltipIndex,R=C.tooltipAxisBandSize,G=N.getTooltipEventType(),F=(k=P.props.active)!==null&&k!==void 0?k:O,q=N.props.layout,B=P.key||"_recharts-cursor";return se.createElement(G7e,{key:B,activeCoordinate:I,activePayload:E,activeTooltipIndex:D,chartName:r,element:P,isActive:F,layout:q,offset:A,tooltipAxisBandSize:R,tooltipEventType:G})}),It(N,"renderPolarAxis",function(P,k,C){var O=Zs(P,"type.axisType"),I=Zs(N.state,"".concat(O,"Map")),E=P.type.defaultProps,A=E!==void 0?Te(Te({},E),P.props):P.props,D=I&&I[A["".concat(O,"Id")]];return S.cloneElement(P,Te(Te({},D),{},{className:vr(O,D.className),key:P.key||"".concat(k,"-").concat(C),ticks:Ac(D,!0)}))}),It(N,"renderPolarGrid",function(P){var k=P.props,C=k.radialLines,O=k.polarAngles,I=k.polarRadius,E=N.state,A=E.radiusAxisMap,D=E.angleAxisMap,R=Fu(A),G=Fu(D),F=G.cx,q=G.cy,B=G.innerRadius,Z=G.outerRadius;return S.cloneElement(P,{polarAngles:Array.isArray(O)?O:Ac(G,!0).map(function(le){return le.coordinate}),polarRadius:Array.isArray(I)?I:Ac(R,!0).map(function(le){return le.coordinate}),cx:F,cy:q,innerRadius:B,outerRadius:Z,key:P.key||"polar-grid",radialLines:C})}),It(N,"renderLegend",function(){var P=N.state.formattedGraphicalItems,k=N.props,C=k.children,O=k.width,I=k.height,E=N.props.margin||{},A=O-(E.left||0)-(E.right||0),D=eX({children:C,formattedGraphicalItems:P,legendWidth:A,legendContent:u});if(!D)return null;var R=D.item,G=L$(D,Y7e);return S.cloneElement(R,Te(Te({},G),{},{chartWidth:O,chartHeight:I,margin:E,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),It(N,"renderTooltip",function(){var P,k=N.props,C=k.children,O=k.accessibilityLayer,I=ns(C,So);if(!I)return null;var E=N.state,A=E.isTooltipActive,D=E.activeCoordinate,R=E.activePayload,G=E.activeLabel,F=E.offset,q=(P=I.props.active)!==null&&P!==void 0?P:A;return S.cloneElement(I,{viewBox:Te(Te({},F),{},{x:F.left,y:F.top}),active:q,label:G,payload:q?R:[],coordinate:D,accessibilityLayer:O})}),It(N,"renderBrush",function(P){var k=N.props,C=k.margin,O=k.data,I=N.state,E=I.offset,A=I.dataStartIndex,D=I.dataEndIndex,R=I.updateId;return S.cloneElement(P,{key:P.key||"_recharts-brush",onChange:p1(N.handleBrushChange,P.props.onChange),data:O,x:tt(P.props.x)?P.props.x:E.left,y:tt(P.props.y)?P.props.y:E.top+E.height+E.brushBottom-(C.bottom||0),width:tt(P.props.width)?P.props.width:E.width,startIndex:A,endIndex:D,updateId:"brush-".concat(R)})}),It(N,"renderReferenceElement",function(P,k,C){if(!P)return null;var O=N,I=O.clipPathId,E=N.state,A=E.xAxisMap,D=E.yAxisMap,R=E.offset,G=P.type.defaultProps||{},F=P.props,q=F.xAxisId,B=q===void 0?G.xAxisId:q,Z=F.yAxisId,le=Z===void 0?G.yAxisId:Z;return S.cloneElement(P,{key:P.key||"".concat(k,"-").concat(C),xAxis:A[B],yAxis:D[le],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:I})}),It(N,"renderActivePoints",function(P){var k=P.item,C=P.activePoint,O=P.basePoint,I=P.childIndex,E=P.isRange,A=[],D=k.props.key,R=k.item.type.defaultProps!==void 0?Te(Te({},k.item.type.defaultProps),k.item.props):k.item.props,G=R.activeDot,F=R.dataKey,q=Te(Te({index:I,dataKey:F,cx:C.x,cy:C.y,r:4,fill:mE(k.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},yr(G,!1)),h2(G));return A.push(g.renderActiveDot(G,q,"".concat(D,"-activePoint-").concat(I))),O?A.push(g.renderActiveDot(G,Te(Te({},q),{},{cx:O.x,cy:O.y}),"".concat(D,"-basePoint-").concat(I))):E&&A.push(null),A}),It(N,"renderGraphicChild",function(P,k,C){var O=N.filterFormatItem(P,k,C);if(!O)return null;var I=N.getTooltipEventType(),E=N.state,A=E.isTooltipActive,D=E.tooltipAxis,R=E.activeTooltipIndex,G=E.activeLabel,F=N.props.children,q=ns(F,So),B=O.props,Z=B.points,le=B.isRange,fe=B.baseLine,$=O.item.type.defaultProps!==void 0?Te(Te({},O.item.type.defaultProps),O.item.props):O.item.props,Y=$.activeDot,J=$.hide,ae=$.activeBar,de=$.activeShape,ce=!!(!J&&A&&q&&(Y||ae||de)),be={};I!=="axis"&&q&&q.props.trigger==="click"?be={onClick:p1(N.handleItemMouseEnter,P.props.onClick)}:I!=="axis"&&(be={onMouseLeave:p1(N.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:p1(N.handleItemMouseEnter,P.props.onMouseEnter)});var oe=S.cloneElement(P,Te(Te({},O.props),be));function ye(ne){return typeof D.dataKey=="function"?D.dataKey(ne.payload):null}if(ce)if(R>=0){var je,pe;if(D.dataKey&&!D.allowDuplicatedCategory){var Ne=typeof D.dataKey=="function"?ye:"payload.".concat(D.dataKey.toString());je=f2(Z,Ne,G),pe=le&&fe&&f2(fe,Ne,G)}else je=Z==null?void 0:Z[R],pe=le&&fe&&fe[R];if(de||ae){var xe=P.props.activeIndex!==void 0?P.props.activeIndex:R;return[S.cloneElement(P,Te(Te(Te({},O.props),be),{},{activeIndex:xe})),null,null]}if(!dr(je))return[oe].concat(ng(N.renderActivePoints({item:O,activePoint:je,basePoint:pe,childIndex:R,isRange:le})))}else{var V,Ve=(V=N.getItemByXY(N.state.activeCoordinate))!==null&&V!==void 0?V:{graphicalItem:oe},Ze=Ve.graphicalItem,it=Ze.item,De=it===void 0?P:it,pt=Ze.childIndex,Je=Te(Te(Te({},O.props),be),{},{activeIndex:pt});return[S.cloneElement(De,Je),null,null]}return le?[oe,null,null]:[oe,null]}),It(N,"renderCustomized",function(P,k,C){return S.cloneElement(P,Te(Te({key:"recharts-customized-".concat(C)},N.props),N.state))}),It(N,"renderMap",{CartesianGrid:{handler:v1,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:v1},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:v1},YAxis:{handler:v1},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:kv("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=JG(N.triggeredAfterMouseMove,(j=x.throttleDelay)!==null&&j!==void 0?j:1e3/60),N.state={},N}return o9e(g,v),n9e(g,[{key:"componentDidMount",value:function(){var w,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,j=w.children,N=w.data,P=w.height,k=w.layout,C=ns(j,So);if(C){var O=C.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,E=V4(this.state,N,O,I),A=this.state.tooltipTicks[O].coordinate,D=(this.state.offset.top+P)/2,R=k==="horizontal",G=R?{x:A,y:D}:{y:A,x:D},F=this.state.formattedGraphicalItems.find(function(B){var Z=B.item;return Z.type.name==="Scatter"});F&&(G=Te(Te({},G),F.props.points[O].tooltipPosition),E=F.props.points[O].tooltipPayload);var q={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:I,activePayload:E,activeCoordinate:G};this.setState(q),this.renderCursor(C),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var N,P;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(w){bk([ns(w.children,So)],[ns(this.props.children,So)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ns(this.props.children,So);if(w&&typeof w.props.shared=="boolean"){var j=w.props.shared?"axis":"item";return l.indexOf(j)>=0?j:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var j=this.container,N=j.getBoundingClientRect(),P=rTe(N),k={chartX:Math.round(w.pageX-P.left),chartY:Math.round(w.pageY-P.top)},C=N.width/j.offsetWidth||1,O=this.inRange(k.chartX,k.chartY,C);if(!O)return null;var I=this.state,E=I.xAxisMap,A=I.yAxisMap,D=this.getTooltipEventType(),R=D$(this.state,this.props.data,this.props.layout,O);if(D!=="axis"&&E&&A){var G=Fu(E).scale,F=Fu(A).scale,q=G&&G.invert?G.invert(k.chartX):null,B=F&&F.invert?F.invert(k.chartY):null;return Te(Te({},k),{},{xValue:q,yValue:B},R)}return R?Te(Te({},k),R):null}},{key:"inRange",value:function(w,j){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,k=w/N,C=j/N;if(P==="horizontal"||P==="vertical"){var O=this.state.offset,I=k>=O.left&&k<=O.left+O.width&&C>=O.top&&C<=O.top+O.height;return I?{x:k,y:C}:null}var E=this.state,A=E.angleAxisMap,D=E.radiusAxisMap;if(A&&D){var R=Fu(A);return xF({x:k,y:C},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,j=this.getTooltipEventType(),N=ns(w,So),P={};N&&j==="axis"&&(N.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=h2(this.props,this.handleOuterEvent);return Te(Te({},k),P)}},{key:"addListener",value:function(){Y_.on(X_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Y_.removeListener(X_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,j,N){for(var P=this.state.formattedGraphicalItems,k=0,C=P.length;k<C;k++){var O=P[k];if(O.item===w||O.props.key===w.key||j===Mc(O.item.type)&&N===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,j=this.state.offset,N=j.left,P=j.top,k=j.height,C=j.width;return se.createElement("defs",null,se.createElement("clipPath",{id:w},se.createElement("rect",{x:N,y:P,height:k,width:C})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(j,N){var P=M$(N,2),k=P[0],C=P[1];return Te(Te({},j),{},It({},k,C.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(j,N){var P=M$(N,2),k=P[0],C=P[1];return Te(Te({},j),{},It({},k,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(w){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(w){var j=this.state,N=j.formattedGraphicalItems,P=j.activeItem;if(N&&N.length)for(var k=0,C=N.length;k<C;k++){var O=N[k],I=O.props,E=O.item,A=E.type.defaultProps!==void 0?Te(Te({},E.type.defaultProps),E.props):E.props,D=Mc(E.type);if(D==="Bar"){var R=(I.data||[]).find(function(B){return F8e(w,B)});if(R)return{graphicalItem:O,payload:R}}else if(D==="RadialBar"){var G=(I.data||[]).find(function(B){return xF(w,B)});if(G)return{graphicalItem:O,payload:G}}else if(HN(O,P)||KN(O,P)||zy(O,P)){var F=UDe({graphicalItem:O,activeTooltipItem:P,itemData:A.data}),q=A.activeIndex===void 0?F:A.activeIndex;return{graphicalItem:Te(Te({},O),{},{childIndex:q}),payload:zy(O,P)?A.data[F]:O.props.data[F]}}}return null}},{key:"render",value:function(){var w=this;if(!sD(this))return null;var j=this.props,N=j.children,P=j.className,k=j.width,C=j.height,O=j.style,I=j.compact,E=j.title,A=j.desc,D=L$(j,X7e),R=yr(D,!1);if(I)return se.createElement(m$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement(jk,Tp({},R,{width:k,height:C,title:E,desc:A}),this.renderClipPath(),lD(N,this.renderMap)));if(this.props.accessibilityLayer){var G,F;R.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,R.role=(F=this.props.role)!==null&&F!==void 0?F:"application",R.onKeyDown=function(B){w.accessibilityManager.keyboardEvent(B)},R.onFocus=function(){w.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return se.createElement(m$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement("div",Tp({className:vr("recharts-wrapper",P),style:Te({position:"relative",cursor:"default",width:k,height:C},O)},q,{ref:function(Z){w.container=Z}}),se.createElement(jk,Tp({},R,{width:k,height:C,title:E,desc:A,style:h9e}),this.renderClipPath(),lD(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(S.Component);It(y,"displayName",r),It(y,"defaultProps",Te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),It(y,"getDerivedStateFromProps",function(v,g){var x=v.dataKey,w=v.data,j=v.children,N=v.width,P=v.height,k=v.layout,C=v.stackOffset,O=v.margin,I=g.dataStartIndex,E=g.dataEndIndex;if(g.updateId===void 0){var A=R$(v);return Te(Te(Te({},A),{},{updateId:0},p(Te(Te({props:v},A),{},{updateId:0}),g)),{},{prevDataKey:x,prevData:w,prevWidth:N,prevHeight:P,prevLayout:k,prevStackOffset:C,prevMargin:O,prevChildren:j})}if(x!==g.prevDataKey||w!==g.prevData||N!==g.prevWidth||P!==g.prevHeight||k!==g.prevLayout||C!==g.prevStackOffset||!Xp(O,g.prevMargin)){var D=R$(v),R={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},G=Te(Te({},D$(g,w,k)),{},{updateId:g.updateId+1}),F=Te(Te(Te({},D),R),G);return Te(Te(Te({},F),p(Te({props:v},F),g)),{},{prevDataKey:x,prevData:w,prevWidth:N,prevHeight:P,prevLayout:k,prevStackOffset:C,prevMargin:O,prevChildren:j})}if(!bk(j,g.prevChildren)){var q,B,Z,le,fe=ns(j,Wm),$=fe&&(q=(B=fe.props)===null||B===void 0?void 0:B.startIndex)!==null&&q!==void 0?q:I,Y=fe&&(Z=(le=fe.props)===null||le===void 0?void 0:le.endIndex)!==null&&Z!==void 0?Z:E,J=$!==I||Y!==E,ae=!dr(w),de=ae&&!J?g.updateId:g.updateId+1;return Te(Te({updateId:de},p(Te(Te({props:v},g),{},{updateId:de,dataStartIndex:$,dataEndIndex:Y}),g)),{},{prevChildren:j,dataStartIndex:$,dataEndIndex:Y})}return null}),It(y,"renderActiveDot",function(v,g,x){var w;return S.isValidElement(v)?w=S.cloneElement(v,g):lr(v)?w=v(g):w=se.createElement(xE,g),se.createElement(Xn,{className:"recharts-active-dot",key:x},w)});var m=S.forwardRef(function(g,x){return se.createElement(y,Tp({},g,{ref:x}))});return m.displayName=y.displayName,m},N9e=fZ({chartName:"LineChart",GraphicalChild:Iv,axisComponents:[{axisType:"xAxis",AxisComp:Jm},{axisType:"yAxis",AxisComp:tg}],formatAxisMap:TX}),S9e=fZ({chartName:"BarChart",GraphicalChild:Eh,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Jm},{axisType:"yAxis",AxisComp:tg}],formatAxisMap:TX});const ig=S.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:_t("w-full caption-bottom text-sm",e),...t})}));ig.displayName="Table";const ag=S.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:_t("[&_tr]:border-b",e),...t}));ag.displayName="TableHeader";const sg=S.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:_t("[&_tr:last-child]:border-0",e),...t}));sg.displayName="TableBody";const _9e=S.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:_t("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));_9e.displayName="TableFooter";const Do=S.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:_t("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Do.displayName="TableRow";const jr=S.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:_t("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));jr.displayName="TableHead";const Nr=S.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:_t("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Nr.displayName="TableCell";const P9e=S.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:_t("mt-4 text-sm text-muted-foreground",e),...t}));P9e.displayName="TableCaption";function A9e({userId:e}){const{data:t,isLoading:r,error:n}=Xt({queryKey:[`/api/admin/users/${e}/activity`],queryFn:async()=>(await qe("GET",`/api/admin/users/${e}/activity?hours=48`)).json()});if(r)return a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx(od,{className:"w-6 h-6 animate-spin text-blue-600"})});if(n)return a.jsx("div",{className:"p-6 text-center text-red-600",children:"Failed to load activity timeline"});if(!t||t.activities.length===0)return a.jsxs("div",{className:"p-6 text-center text-gray-500",children:["No activities found in the last ",(t==null?void 0:t.timeWindow)||"48 hours"]});const i=u=>({success:"default",failed:"destructive",pending:"secondary",completed:"default"})[u]||"outline",s=u=>{switch(u){case"success":return a.jsx(ZC,{className:"w-4 h-4 text-green-600"});case"failed":return a.jsx(Fa,{className:"w-4 h-4 text-red-600"});case"pending":return a.jsx(Ai,{className:"w-4 h-4 text-yellow-600"});default:return null}},o=t.activities.filter(u=>u.details.status==="success").length,l=t.activities.filter(u=>u.details.status==="failed").length,c=t.activities.filter(u=>u.type==="page_visit"||u.details.page).length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Total Activities"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.totalActivities})]}),a.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Successful"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:o})]}),a.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Failed"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:l})]}),a.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Pages Visited"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:c})]})]}),a.jsx(ja,{className:"h-[500px] pr-4",children:a.jsx("div",{className:"space-y-4",children:t.activities.map(u=>{var p,y,m,v;const d=u.details.status||"unknown",f=((p=u.details.metadata)==null?void 0:p.errorMessage)||((y=u.details.metadata)==null?void 0:y.error),h=((m=u.action)==null?void 0:m.includes("purchase"))||((v=u.action)==null?void 0:v.includes("card"));return a.jsx("div",{className:`border rounded-lg p-4 hover:bg-gray-50 transition ${d==="failed"?"border-red-200 bg-red-50/30":d==="success"?"border-green-200":"border-gray-200"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-2xl",children:u.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:u.action}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Qr(new Date(u.timestamp),"MMM dd, yyyy HH:mm:ss")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[s(d),a.jsx(lt,{variant:i(d),children:d})]})]}),u.details&&a.jsxs("div",{className:`mt-3 p-3 rounded text-sm space-y-2 ${d==="failed"?"bg-red-100/50":"bg-gray-50"}`,children:[h&&a.jsxs(a.Fragment,{children:[u.details.amount&&a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Amount:"})," $",u.details.amount," ",u.details.currency||"USD"]}),u.details.cardNumber&&a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Card:"})," ",u.details.cardNumber]}),u.details.balance!==void 0&&a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Balance:"})," $",u.details.balance]})]}),u.details.page&&a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:" Page:"})," ",u.details.page]}),u.details.action&&a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:" Action:"})," ",u.details.action]}),u.details.recipient&&a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Recipient:"})," ",u.details.recipient]}),u.details.sender&&a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Sender:"})," ",u.details.sender]}),u.details.description&&a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Note:"})," ",u.details.description]}),u.details.documentType&&a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Document:"})," ",u.details.documentType]}),u.details.device&&a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Device:"})," ",u.details.device]}),u.details.browser&&a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Browser:"})," ",u.details.browser]}),u.details.ipAddress&&a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"IP:"})," ",u.details.ipAddress]}),f&&a.jsxs("div",{className:"mt-2 p-2 bg-red-200/50 border border-red-300 rounded",children:[a.jsx("p",{className:"text-red-800 font-semibold text-xs",children:" Error:"}),a.jsx("p",{className:"text-red-700 text-xs",children:f})]})]})]})]})},u.id)})})})]})}function k9e(){const[e,t]=S.useState(1),[r,n]=S.useState(""),[i,s]=S.useState(""),[o,l]=S.useState(null),[c,u]=S.useState(!1),[d,f]=S.useState(null),[h,p]=S.useState(!1),[y,m]=S.useState(null),{toast:v}=Et(),g=Jr(),{data:x,isLoading:w,error:j}=Xt({queryKey:["/api/admin/users",{page:e,status:r,search:i}],queryFn:async()=>{const A=new URLSearchParams({page:e.toString(),limit:"20",...r&&r!=="all"&&{status:r},...i&&{search:i}});return(await qe("GET",`/api/admin/users?${A}`)).json()}}),N=kt({mutationFn:async A=>(await qe("PUT",`/api/admin/users/${A}/block`,{})).json(),onSuccess:()=>{g.invalidateQueries({queryKey:["/api/admin/users"]}),v({title:"User Blocked",description:"User has been successfully blocked"})},onError:()=>{v({title:"Error",description:"Failed to block user",variant:"destructive"})}}),P=kt({mutationFn:async A=>(await qe("PUT",`/api/admin/users/${A}/unblock`,{})).json(),onSuccess:()=>{g.invalidateQueries({queryKey:["/api/admin/users"]}),v({title:"User Unblocked",description:"User has been successfully unblocked"})},onError:()=>{v({title:"Error",description:"Failed to unblock user",variant:"destructive"})}}),k=kt({mutationFn:async A=>(await qe("DELETE",`/api/admin/users/${A}`,{})).json(),onSuccess:()=>{g.invalidateQueries({queryKey:["/api/admin/users"]}),v({title:"User Deleted",description:"User and all related data have been permanently deleted"}),u(!1),f(null)},onError:()=>{v({title:"Error",description:"Failed to delete user",variant:"destructive"})}}),C=A=>!A.isEmailVerified&&!A.isPhoneVerified?a.jsx(lt,{variant:"destructive",children:"Blocked"}):A.kycStatus==="verified"?a.jsx(lt,{variant:"default",children:"Verified"}):A.kycStatus==="pending"?a.jsx(lt,{variant:"secondary",children:"Pending KYC"}):a.jsx(lt,{variant:"outline",children:"Active"}),O=A=>!A.isEmailVerified&&!A.isPhoneVerified,I=A=>{f(A),u(!0)},E=()=>{d&&k.mutate(d.id)};return j?a.jsx(ke,{children:a.jsx(Me,{className:"p-6",children:a.jsx("div",{className:"text-center text-red-600",children:"Failed to load users data"})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx($a,{className:"w-5 h-5"}),"User Management"]}),a.jsx(Ct,{children:"Manage platform users, review KYC status, and control access"})]}),a.jsx(Me,{children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(dg,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx($e,{placeholder:"Search by name, email, or phone...",value:i,onChange:A=>s(A.target.value),className:"pl-10","data-testid":"input-user-search"})]})}),a.jsxs(Hr,{value:r,onValueChange:n,children:[a.jsxs($r,{className:"w-full md:w-48","data-testid":"select-user-status",children:[a.jsx(Mj,{className:"w-4 h-4 mr-2"}),a.jsx(Kr,{placeholder:"Filter by status"})]}),a.jsxs(Br,{children:[a.jsx(nt,{value:"all",children:"All Users"}),a.jsx(nt,{value:"active",children:"Active Users"}),a.jsx(nt,{value:"pending",children:"Pending KYC"}),a.jsx(nt,{value:"verified",children:"Verified Users"}),a.jsx(nt,{value:"blocked",children:"Blocked Users"})]})]})]})})]}),a.jsxs(ke,{children:[a.jsx(He,{children:a.jsxs(Xe,{children:["Users (",(x==null?void 0:x.total)||0,")"]})}),a.jsx(Me,{children:w?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"w-6 h-6 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ig,{children:[a.jsx(ag,{children:a.jsxs(Do,{children:[a.jsx(jr,{children:"User"}),a.jsx(jr,{children:"Contact"}),a.jsx(jr,{children:"Status"}),a.jsx(jr,{children:"KYC"}),a.jsx(jr,{children:"Balance"}),a.jsx(jr,{children:"Joined"}),a.jsx(jr,{children:"Actions"})]})}),a.jsx(sg,{children:x==null?void 0:x.users.map(A=>a.jsxs(Do,{children:[a.jsx(Nr,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium","data-testid":`text-user-name-${A.id}`,children:A.fullName}),a.jsx("p",{className:"text-sm text-gray-500",children:A.country})]})}),a.jsx(Nr,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm",children:A.email}),a.jsx("p",{className:"text-sm text-gray-500",children:A.phone})]})}),a.jsx(Nr,{children:C(A)}),a.jsx(Nr,{children:a.jsx(lt,{variant:A.kycStatus==="verified"?"default":"secondary","data-testid":`badge-kyc-${A.id}`,children:A.kycStatus})}),a.jsx(Nr,{children:a.jsxs("span",{className:"font-mono",children:["$",A.balance||"0.00"]})}),a.jsx(Nr,{children:a.jsx("span",{className:"text-sm",children:Qr(new Date(A.createdAt),"MMM dd, yyyy")})}),a.jsx(Nr,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ps,{children:[a.jsx(mh,{asChild:!0,children:a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>l(A),"data-testid":`button-view-user-${A.id}`,title:"View User Details",children:a.jsx(qo,{className:"w-4 h-4"})})}),a.jsxs(Ba,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(oa,{children:[a.jsxs($i,{children:["User Details: ",A.fullName]}),a.jsx(Xs,{children:"Complete user information and account status"})]}),a.jsx(C9e,{user:A})]})]}),a.jsxs(ps,{open:h&&(y==null?void 0:y.id)===A.id,onOpenChange:D=>{D||(p(!1),m(null))},children:[a.jsx(mh,{asChild:!0,children:a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>{m(A),p(!0)},title:"View User Activity",children:a.jsx(Vo,{className:"w-4 h-4"})})}),a.jsxs(Ba,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(oa,{children:[a.jsxs($i,{children:["User Activity: ",A.fullName]}),a.jsx(Xs,{children:"Last 48 hours of activity including logins, transactions, actions, and attempts"})]}),a.jsx(A9e,{userId:A.id})]})]}),O(A)?a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>P.mutate(A.id),disabled:P.isPending,"data-testid":`button-unblock-user-${A.id}`,children:a.jsx(PU,{className:"w-4 h-4 text-green-600"})}):a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>N.mutate(A.id),disabled:N.isPending,"data-testid":`button-block-user-${A.id}`,children:a.jsx(AU,{className:"w-4 h-4 text-red-600"})}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>I(A),disabled:k.isPending,className:"text-red-600 hover:text-red-800 hover:bg-red-50","data-testid":`button-delete-user-${A.id}`,children:a.jsx(zc,{className:"w-4 h-4"})})]})})]},A.id))})]}),x&&x.totalPages>1&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",x.page," of ",x.totalPages]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ie,{variant:"outline",size:"sm",onClick:()=>t(e-1),disabled:e<=1,"data-testid":"button-prev-page",children:"Previous"}),a.jsx(ie,{variant:"outline",size:"sm",onClick:()=>t(e+1),disabled:e>=x.totalPages,"data-testid":"button-next-page",children:"Next"})]})]})]})})]}),a.jsx(ps,{open:c,onOpenChange:u,children:a.jsxs(Ba,{children:[a.jsxs(oa,{children:[a.jsxs($i,{className:"flex items-center gap-2",children:[a.jsx(Rj,{className:"w-5 h-5 text-red-600"}),"Delete User Account"]}),a.jsx(Xs,{children:"This action cannot be undone. This will permanently delete the user account and all associated data including:"})]}),d&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"User to be deleted:"}),a.jsxs("div",{className:"space-y-1 text-sm text-red-800",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Name:"})," ",d.fullName]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",d.email]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Phone:"})," ",d.phone]})]})]}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:"The following data will be permanently deleted:"}),a.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[a.jsx("li",{children:" User profile and personal information"}),a.jsx("li",{children:" All transaction history"}),a.jsx("li",{children:" Virtual card information"}),a.jsx("li",{children:" KYC documents and verification status"}),a.jsx("li",{children:" Payment requests and recipients"}),a.jsx("li",{children:" Notifications and preferences"})]})]})]}),a.jsxs(uN,{className:"gap-2",children:[a.jsx(ie,{variant:"outline",onClick:()=>u(!1),disabled:k.isPending,children:"Cancel"}),a.jsx(ie,{variant:"destructive",onClick:E,disabled:k.isPending,"data-testid":"confirm-delete-user",children:k.isPending?"Deleting...":"Delete User"})]})]})})]})}function C9e({user:e}){const[t,r]=S.useState(""),[n,i]=S.useState("add"),[s,o]=S.useState(""),[l,c]=S.useState(!1),{toast:u}=Et(),d=Jr(),f=async x=>{if(!t||!s){u({title:"Error",description:"Please enter both amount and transaction details",variant:"destructive"});return}c(!0);try{(await qe("PUT",`/api/admin/users/${x.id}/balance`,{amount:t,type:n,details:s})).ok&&(u({title:"Balance Updated",description:`Successfully updated balance for ${x.fullName}`}),d.invalidateQueries({queryKey:["/api/admin/users"]}),r(""),o(""))}catch{u({title:"Error",description:"Failed to update user balance",variant:"destructive"})}finally{c(!1)}},h=async x=>{var w,j;c(!0);try{(await qe("PUT",`/api/admin/users/${e.id}/virtual-card`,{action:x})).ok&&(u({title:"Card Updated",description:`Successfully ${{activate:"activated",freeze:"frozen",inactive:"permanently deactivated"}[x]||x}d virtual card for ${e.fullName}`}),d.invalidateQueries({queryKey:["/api/admin/users"]}))}catch(N){(await((j=(w=N.response)==null?void 0:w.json)==null?void 0:j.call(w))||{}).requiresPurchase?u({title:"Cannot Reactivate",description:"This card is inactive. User must purchase a new card to reactivate.",variant:"destructive"}):u({title:"Error",description:"Failed to update virtual card",variant:"destructive"})}finally{c(!1)}},p=async(x,w)=>{c(!0);try{(await qe("PUT",`/api/admin/users/${x}/account`,{action:w})).ok&&(u({title:"Account Action Completed",description:{block:"Account suspended successfully",unblock:"Account activated successfully",force_logout:"User logged out successfully",reset_password:"Password reset email sent to user"}[w]||"Action completed successfully"}),d.invalidateQueries({queryKey:["/api/admin/users"]}))}catch{u({title:"Error",description:"Failed to perform account action",variant:"destructive"})}finally{c(!1)}},y=async(x,w)=>{c(!0);try{(await qe("PUT",`/api/admin/users/${x}/security`,{action:w})).ok&&(u({title:"Security Action Completed",description:{reset_2fa:"Two-factor authentication reset successfully",verify_email:"Email marked as verified",verify_phone:"Phone number marked as verified"}[w]||"Security action completed successfully"}),d.invalidateQueries({queryKey:["/api/admin/users"]}))}catch{u({title:"Error",description:"Failed to perform security action",variant:"destructive"})}finally{c(!1)}},m=async(x,w)=>{c(!0);try{(await qe("PUT",`/api/admin/users/${x}/notifications`,{action:w})).ok&&(u({title:"Notification Settings Updated",description:w.includes("enable")?"Notifications enabled for user":"Notifications disabled for user"}),d.invalidateQueries({queryKey:["/api/admin/users"]}))}catch{u({title:"Error",description:"Failed to update notification settings",variant:"destructive"})}finally{c(!1)}},v=async(x,w)=>{if(w==="view_activity"){u({title:"Feature Coming Soon",description:"User activity logs will be available in the next update"});return}if(w==="export_data"){c(!0);try{const j=await qe("GET",`/api/admin/users/${x}/export`);if(j.ok){const N=await j.blob(),P=window.URL.createObjectURL(N),k=document.createElement("a");k.href=P,k.download=`user-data-${x}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),window.URL.revokeObjectURL(P),u({title:"Data Exported",description:"User data has been exported and downloaded"})}}catch{u({title:"Error",description:"Failed to export user data",variant:"destructive"})}finally{c(!1)}}},g=async x=>{var N,P;const w=(N=document.getElementById("notification-title"))==null?void 0:N.value,j=(P=document.getElementById("notification-message"))==null?void 0:P.value;if(!w||!j){u({title:"Error",description:"Please enter both title and message",variant:"destructive"});return}c(!0);try{(await qe("POST",`/api/admin/users/${x}/notification`,{title:w,message:j,type:"info"})).ok&&(u({title:"Notification Sent",description:"Custom notification sent to user successfully"}),document.getElementById("notification-title").value="",document.getElementById("notification-message").value="")}catch{u({title:"Error",description:"Failed to send notification",variant:"destructive"})}finally{c(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[a.jsx(Ys,{className:"w-4 h-4"}),"Personal Information"]}),a.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Full Name:"}),a.jsx("span",{className:"text-sm font-medium",children:e.fullName})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email:"}),a.jsx("span",{className:"text-sm font-medium break-all",children:e.email})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Phone:"}),a.jsx("span",{className:"text-sm font-medium",children:e.phone})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Country:"}),a.jsx("span",{className:"text-sm font-medium",children:e.country})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Member Since:"}),a.jsx("span",{className:"text-sm font-medium",children:Qr(new Date(e.createdAt),"MMM dd, yyyy")})]})]})]})}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[a.jsx($a,{className:"w-4 h-4"}),"Account Status"]}),a.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email Status:"}),a.jsx(lt,{variant:e.isEmailVerified?"default":"secondary",children:e.isEmailVerified?"Verified":"Unverified"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Phone Status:"}),a.jsx(lt,{variant:e.isPhoneVerified?"default":"secondary",children:e.isPhoneVerified?"Verified":"Unverified"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"KYC Status:"}),a.jsx(lt,{variant:e.kycStatus==="verified"?"default":e.kycStatus==="pending"?"secondary":"destructive",children:e.kycStatus})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Virtual Card:"}),a.jsx(lt,{variant:e.hasVirtualCard?"default":"outline",children:e.hasVirtualCard?"Active":"None"})]})]})]})})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Zn,{className:"w-4 h-4"}),"Balance Management"]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx(Ge,{children:"Current Balance"}),a.jsxs("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:["$",e.balance||"0.00"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"update-type",children:"Action"}),a.jsxs(Hr,{value:n,onValueChange:x=>i(x),children:[a.jsx($r,{"data-testid":"select-balance-action",children:a.jsx(Kr,{placeholder:"Select action"})}),a.jsxs(Br,{children:[a.jsx(nt,{value:"add",children:"Add Balance"}),a.jsx(nt,{value:"subtract",children:"Subtract Balance"}),a.jsx(nt,{value:"set",children:"Set Balance"})]})]})]}),a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"balance-amount",children:"Amount ($)"}),a.jsx($e,{id:"balance-amount",type:"number",step:"0.01",value:t,onChange:x=>r(x.target.value),placeholder:"0.00","data-testid":"input-balance-amount"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx(Ge,{htmlFor:"transaction-details",children:"Transaction Details"}),a.jsx($e,{id:"transaction-details",type:"text",value:s,onChange:x=>o(x.target.value),placeholder:"Enter description for transaction history (e.g., Admin adjustment, Bonus payment, Refund)","data-testid":"input-transaction-details"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(ie,{onClick:()=>f(e),disabled:l||!t,className:"w-full","data-testid":"button-update-balance",children:l?"Updating...":"Update Balance"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"Virtual Card Management"}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Bo,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{children:"Card Status: "}),e.hasVirtualCard?a.jsx(lt,{variant:e.cardStatus==="active"?"default":e.cardStatus==="frozen"?"destructive":"secondary",children:e.cardStatus||"active"}):a.jsx(lt,{variant:"outline",children:"No Card"})]})}),a.jsx("div",{className:"flex gap-2",children:e.hasVirtualCard?a.jsxs(a.Fragment,{children:[e.cardStatus==="inactive"?a.jsx("div",{className:"text-red-600 text-sm mb-2",children:"Card is inactive. User must purchase a new card to reactivate."}):null,a.jsx(ie,{onClick:()=>h(e.cardStatus==="active"?"freeze":"activate"),disabled:l||e.cardStatus==="inactive",variant:e.cardStatus==="active"?"destructive":"default","data-testid":"button-toggle-card",children:e.cardStatus==="active"?"Freeze Card":"Activate Card"}),e.cardStatus!=="inactive"&&a.jsx(ie,{onClick:()=>h("inactive"),disabled:l,variant:"destructive","data-testid":"button-set-card-inactive",children:"Set Inactive"})]}):a.jsxs(ie,{onClick:()=>h("issue"),disabled:l,variant:"default","data-testid":"button-issue-card",children:[a.jsx(Bo,{className:"w-4 h-4 mr-2"}),"Issue Virtual Card"]})})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Al,{className:"w-4 h-4"}),"Account Management"]}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>p(e.id,e.isBlocked?"unblock":"block"),disabled:l,"data-testid":"button-suspend-account",children:[e.isBlocked?a.jsx(Pw,{className:"w-4 h-4 mr-2"}):a.jsx(Oa,{className:"w-4 h-4 mr-2"}),e.isBlocked?"Unblock Account":"Suspend Account"]}),a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>p(e.id,"force_logout"),disabled:l,"data-testid":"button-force-logout",children:[a.jsx(QC,{className:"w-4 h-4 mr-2"}),"Force Logout"]}),a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>p(e.id,"reset_password"),disabled:l,"data-testid":"button-reset-password",children:[a.jsx(jU,{className:"w-4 h-4 mr-2"}),"Reset Password"]})]})})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx($a,{className:"w-4 h-4"}),"Security Actions"]}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>y(e.id,"reset_2fa"),disabled:l,"data-testid":"button-reset-2fa",children:[a.jsx($a,{className:"w-4 h-4 mr-2"}),"Reset 2FA"]}),a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>y(e.id,"verify_email"),disabled:l,"data-testid":"button-verify-email",children:[a.jsx(Pl,{className:"w-4 h-4 mr-2"}),"Verify Email"]}),a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>y(e.id,"verify_phone"),disabled:l,"data-testid":"button-verify-phone",children:[a.jsx(Ij,{className:"w-4 h-4 mr-2"}),"Verify Phone"]}),a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>m(e.id,e.pushNotificationsEnabled?"disable_notifications":"enable_notifications"),disabled:l,"data-testid":"button-toggle-notifications",children:[e.pushNotificationsEnabled?a.jsx(Hne,{className:"w-4 h-4 mr-2"}):a.jsx($o,{className:"w-4 h-4 mr-2"}),e.pushNotificationsEnabled?"Disable Notifications":"Enable Notifications"]}),a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>v(e.id,"view_activity"),disabled:l,"data-testid":"button-view-activity",children:[a.jsx($0,{className:"w-4 h-4 mr-2"}),"View Activity"]}),a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>v(e.id,"export_data"),disabled:l,"data-testid":"button-export-data",children:[a.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Export Data"]})]})})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx($o,{className:"w-4 h-4"}),"Send Custom Notification"]}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"notification-title",children:"Notification Title"}),a.jsx($e,{id:"notification-title",type:"text",placeholder:"Enter notification title","data-testid":"input-notification-title"})]}),a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"notification-message",children:"Message"}),a.jsx($e,{id:"notification-message",type:"text",placeholder:"Enter notification message","data-testid":"input-notification-message"})]}),a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"notification-type",children:"Type"}),a.jsxs(Hr,{children:[a.jsx($r,{"data-testid":"select-notification-type",children:a.jsx(Kr,{placeholder:"Select notification type"})}),a.jsxs(Br,{children:[a.jsx(nt,{value:"info",children:"Info"}),a.jsx(nt,{value:"success",children:"Success"}),a.jsx(nt,{value:"warning",children:"Warning"}),a.jsx(nt,{value:"security",children:"Security Alert"})]})]})]}),a.jsxs(ie,{onClick:()=>g(e.id),disabled:l,className:"w-full","data-testid":"button-send-notification",children:[a.jsx($o,{className:"w-4 h-4 mr-2"}),"Send Notification"]})]})})]})]})}function T9e(){const[e,t]=S.useState(null),[r,n]=S.useState(""),[i,s]=S.useState(""),{toast:o}=Et(),l=Jr(),{data:c,isLoading:u,error:d}=Xt({queryKey:["/api/admin/kyc"],queryFn:async()=>(await qe("GET","/api/admin/kyc")).json()}),f=kt({mutationFn:async({id:g,status:x,notes:w})=>(await qe("PUT",`/api/admin/kyc/${g}`,{status:x,verificationNotes:w})).json(),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/admin/kyc"]}),l.invalidateQueries({queryKey:["/api/admin/dashboard"]}),o({title:"KYC Updated",description:"KYC document status has been updated successfully"}),t(null),n(""),s("")},onError:()=>{o({title:"Error",description:"Failed to update KYC document",variant:"destructive"})}}),h=g=>{switch(g){case"verified":return a.jsx(lt,{variant:"default",className:"bg-green-500",children:"Verified"});case"rejected":return a.jsx(lt,{variant:"destructive",children:"Rejected"});case"pending":return a.jsx(lt,{variant:"secondary",children:"Pending Review"});default:return a.jsx(lt,{variant:"outline",children:g})}},p=g=>{switch(g){case"national_id":return"National ID";case"passport":return"Passport";case"drivers_license":return"Driver's License";default:return g}},y=()=>{!e||!r||f.mutate({id:e.id,status:r,notes:i})};if(d)return a.jsx(ke,{children:a.jsx(Me,{className:"p-6",children:a.jsx("div",{className:"text-center text-red-600",children:"Failed to load KYC documents"})})});const m=(c==null?void 0:c.kycDocuments.filter(g=>g.status==="pending"))||[],v=(c==null?void 0:c.kycDocuments.filter(g=>g.status!=="pending"))||[];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(lv,{className:"w-5 h-5"}),"KYC Document Review"]}),a.jsx(Ct,{children:"Review and approve user identity verification documents"})]}),a.jsx(Me,{children:a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:m.length}),a.jsx("p",{className:"text-sm text-yellow-600",children:"Pending Review"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:v.filter(g=>g.status==="verified").length}),a.jsx("p",{className:"text-sm text-green-600",children:"Verified"})]}),a.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-red-600",children:v.filter(g=>g.status==="rejected").length}),a.jsx("p",{className:"text-sm text-red-600",children:"Rejected"})]})]})})]}),m.length>0&&a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2 text-yellow-600",children:[a.jsx(Rj,{className:"w-5 h-5"}),"Pending Reviews (",m.length,")"]}),a.jsx(Ct,{children:"Documents awaiting verification"})]}),a.jsx(Me,{children:u?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"w-6 h-6 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs(ig,{children:[a.jsx(ag,{children:a.jsxs(Do,{children:[a.jsx(jr,{children:"User ID"}),a.jsx(jr,{children:"Document Type"}),a.jsx(jr,{children:"Submitted"}),a.jsx(jr,{children:"Documents"}),a.jsx(jr,{children:"Status"}),a.jsx(jr,{children:"Actions"})]})}),a.jsx(sg,{children:m.map(g=>a.jsxs(Do,{children:[a.jsx(Nr,{children:a.jsxs("span",{className:"font-mono text-sm",children:[g.userId.slice(0,8),"..."]})}),a.jsx(Nr,{children:a.jsx("span",{className:"font-medium",children:p(g.documentType)})}),a.jsx(Nr,{children:a.jsx("span",{className:"text-sm",children:Qr(new Date(g.createdAt),"MMM dd, yyyy")})}),a.jsx(Nr,{children:a.jsxs("div",{className:"flex gap-1",children:[g.frontImageUrl&&a.jsx(lt,{variant:"outline",className:"text-xs",children:"Front"}),g.backImageUrl&&a.jsx(lt,{variant:"outline",className:"text-xs",children:"Back"}),g.selfieUrl&&a.jsx(lt,{variant:"outline",className:"text-xs",children:"Selfie"})]})}),a.jsx(Nr,{children:h(g.status)}),a.jsx(Nr,{children:a.jsxs(ps,{children:[a.jsx(mh,{asChild:!0,children:a.jsxs(ie,{variant:"ghost",size:"sm",onClick:()=>t(g),"data-testid":`button-review-kyc-${g.id}`,children:[a.jsx(qo,{className:"w-4 h-4"}),"Review"]})}),a.jsxs(Ba,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(oa,{children:[a.jsx($i,{children:"KYC Document Review"}),a.jsxs(Xs,{children:["Review identity verification documents for user ",g.userId.slice(0,8),"..."]})]}),e&&a.jsx(E9e,{kyc:e,onSubmit:y,reviewStatus:r,setReviewStatus:n,reviewNotes:i,setReviewNotes:s,isLoading:f.isPending})]})]})})]},g.id))})]})})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsx(Xe,{children:"All KYC Documents"}),a.jsx(Ct,{children:"Complete history of KYC document submissions"})]}),a.jsx(Me,{children:u?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"w-6 h-6 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs(ig,{children:[a.jsx(ag,{children:a.jsxs(Do,{children:[a.jsx(jr,{children:"User ID"}),a.jsx(jr,{children:"Document Type"}),a.jsx(jr,{children:"Status"}),a.jsx(jr,{children:"Submitted"}),a.jsx(jr,{children:"Verified"}),a.jsx(jr,{children:"Actions"})]})}),a.jsx(sg,{children:c==null?void 0:c.kycDocuments.map(g=>a.jsxs(Do,{children:[a.jsx(Nr,{children:a.jsxs("span",{className:"font-mono text-sm",children:[g.userId.slice(0,8),"..."]})}),a.jsx(Nr,{children:a.jsx("span",{className:"font-medium",children:p(g.documentType)})}),a.jsx(Nr,{children:h(g.status)}),a.jsx(Nr,{children:a.jsx("span",{className:"text-sm",children:Qr(new Date(g.createdAt),"MMM dd, yyyy")})}),a.jsx(Nr,{children:a.jsx("span",{className:"text-sm",children:g.verifiedAt?Qr(new Date(g.verifiedAt),"MMM dd, yyyy"):"-"})}),a.jsx(Nr,{children:a.jsxs(ie,{variant:"ghost",size:"sm",onClick:()=>t(g),"data-testid":`button-view-kyc-${g.id}`,children:[a.jsx(qo,{className:"w-4 h-4"}),"View"]})})]},g.id))})]})})]})]})}function E9e({kyc:e,onSubmit:t,reviewStatus:r,setReviewStatus:n,reviewNotes:i,setReviewNotes:s,isLoading:o}){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Document Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lv,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm",children:["Type: ",e.documentType]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fl,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm",children:["DOB: ",e.dateOfBirth||"Not provided"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(NU,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm",children:["Address: ",e.address||"Not provided"]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Submission Details"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($l,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm",children:["User: ",e.userId?e.userId.slice(0,8)+"...":"N/A"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fl,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm",children:["Submitted: ",Qr(new Date(e.createdAt),"MMM dd, yyyy HH:mm")]})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"Document Images"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.frontImageUrl&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Front Image"}),a.jsxs("div",{className:"border rounded-lg overflow-hidden bg-gray-50 dark:bg-gray-800",children:[a.jsx("img",{src:e.frontImageUrl,alt:"Front of document",className:"w-full h-48 object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>window.open(e.frontImageUrl,"_blank"),"data-testid":"img-kyc-front"}),a.jsx("p",{className:"text-xs text-center p-2 text-gray-500",children:"Click to view full size"})]})]}),e.backImageUrl&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Back Image"}),a.jsxs("div",{className:"border rounded-lg overflow-hidden bg-gray-50 dark:bg-gray-800",children:[a.jsx("img",{src:e.backImageUrl,alt:"Back of document",className:"w-full h-48 object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>window.open(e.backImageUrl,"_blank"),"data-testid":"img-kyc-back"}),a.jsx("p",{className:"text-xs text-center p-2 text-gray-500",children:"Click to view full size"})]})]}),e.selfieUrl&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Selfie"}),a.jsxs("div",{className:"border rounded-lg overflow-hidden bg-gray-50 dark:bg-gray-800",children:[a.jsx("img",{src:e.selfieUrl,alt:"Verification selfie",className:"w-full h-48 object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>window.open(e.selfieUrl,"_blank"),"data-testid":"img-kyc-selfie"}),a.jsx("p",{className:"text-xs text-center p-2 text-gray-500",children:"Click to view full size"})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Review Decision"}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Status"}),a.jsxs(Hr,{value:r,onValueChange:n,children:[a.jsx($r,{"data-testid":"select-kyc-status",children:a.jsx(Kr,{placeholder:"Select review decision"})}),a.jsxs(Br,{children:[a.jsx(nt,{value:"verified",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rr,{className:"w-4 h-4 text-green-600"}),"Approve & Verify"]})}),a.jsx(nt,{value:"rejected",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fa,{className:"w-4 h-4 text-red-600"}),"Reject"]})})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Review Notes"}),a.jsx(ys,{placeholder:"Add notes about your review decision...",value:i,onChange:l=>s(l.target.value),className:"mt-1","data-testid":"textarea-kyc-notes"})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(ie,{onClick:t,disabled:!r||o,className:"flex items-center gap-2","data-testid":"button-submit-kyc-review",children:[o?a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsx(Rr,{className:"w-4 h-4"}),"Submit Review"]})})]}),e.verificationNotes&&a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("h5",{className:"font-medium mb-2",children:"Previous Review Notes"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.verificationNotes})]})]})}function O9e(){const[e,t]=S.useState(1),[r,n]=S.useState(""),[i,s]=S.useState(""),[o,l]=S.useState(null),{toast:c}=Et(),u=Jr(),{data:d,isLoading:f,error:h}=Xt({queryKey:["/api/admin/transactions",{page:e,status:r,search:i}],queryFn:async()=>{const x=new URLSearchParams({page:e.toString(),limit:"20",...r&&r!=="all"&&{status:r},...i&&{search:i}});return(await qe("GET",`/api/admin/transactions?${x}`)).json()}}),p=kt({mutationFn:async({id:x,updates:w})=>(await qe("PUT",`/api/admin/transactions/${x}`,w)).json(),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/admin/transactions"]}),u.invalidateQueries({queryKey:["/api/admin/dashboard"]}),c({title:"Transaction Updated",description:"Transaction status has been updated successfully"}),l(null)},onError:()=>{c({title:"Error",description:"Failed to update transaction",variant:"destructive"})}}),y=x=>{switch(x){case"completed":return a.jsx(lt,{variant:"default",className:"bg-green-500",children:"Completed"});case"pending":return a.jsx(lt,{variant:"secondary",children:"Pending"});case"failed":return a.jsx(lt,{variant:"destructive",children:"Failed"});case"cancelled":return a.jsx(lt,{variant:"outline",children:"Cancelled"});default:return a.jsx(lt,{variant:"outline",children:x})}},m=x=>{switch(x){case"send":return a.jsx(lt,{variant:"outline",className:"text-red-600",children:"Send"});case"receive":return a.jsx(lt,{variant:"outline",className:"text-green-600",children:"Receive"});case"deposit":return a.jsx(lt,{variant:"outline",className:"text-blue-600",children:"Deposit"});case"withdrawal":return a.jsx(lt,{variant:"outline",className:"text-orange-600",children:"Withdrawal"});default:return a.jsx(lt,{variant:"outline",children:x})}},v=(x,w)=>{const j=parseFloat(x);return new Intl.NumberFormat("en-US",{style:"currency",currency:w||"USD"}).format(j)},g=x=>{o&&p.mutate({id:o.id,updates:{status:x}})};return h?a.jsx(ke,{children:a.jsx(Me,{className:"p-6",children:a.jsx("div",{className:"text-center text-red-600",children:"Failed to load transactions data"})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Vne,{className:"w-5 h-5"}),"Transaction Management"]}),a.jsx(Ct,{children:"Monitor and manage all platform transactions"})]}),a.jsx(Me,{children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(dg,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx($e,{placeholder:"Search by transaction ID, user ID, or amount...",value:i,onChange:x=>s(x.target.value),className:"pl-10","data-testid":"input-transaction-search"})]})}),a.jsxs(Hr,{value:r,onValueChange:n,children:[a.jsxs($r,{className:"w-full md:w-48","data-testid":"select-transaction-status",children:[a.jsx(Mj,{className:"w-4 h-4 mr-2"}),a.jsx(Kr,{placeholder:"Filter by status"})]}),a.jsxs(Br,{children:[a.jsx(nt,{value:"all",children:"All Transactions"}),a.jsx(nt,{value:"pending",children:"Pending"}),a.jsx(nt,{value:"completed",children:"Completed"}),a.jsx(nt,{value:"failed",children:"Failed"}),a.jsx(nt,{value:"cancelled",children:"Cancelled"})]})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(ke,{children:a.jsx(Me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zn,{className:"w-4 h-4 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Volume"}),a.jsxs("p",{className:"text-lg font-bold",children:["$",(d==null?void 0:d.transactions.reduce((x,w)=>x+parseFloat(w.amount),0).toFixed(2))||"0.00"]})]})]})})}),a.jsx(ke,{children:a.jsx(Me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rr,{className:"w-4 h-4 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"}),a.jsx("p",{className:"text-lg font-bold",children:(d==null?void 0:d.transactions.filter(x=>x.status==="completed").length)||0})]})]})})}),a.jsx(ke,{children:a.jsx(Me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vo,{className:"w-4 h-4 text-yellow-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),a.jsx("p",{className:"text-lg font-bold",children:(d==null?void 0:d.transactions.filter(x=>x.status==="pending").length)||0})]})]})})}),a.jsx(ke,{children:a.jsx(Me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fa,{className:"w-4 h-4 text-red-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Failed"}),a.jsx("p",{className:"text-lg font-bold",children:(d==null?void 0:d.transactions.filter(x=>x.status==="failed").length)||0})]})]})})})]}),a.jsxs(ke,{children:[a.jsx(He,{children:a.jsxs(Xe,{children:["Transactions (",(d==null?void 0:d.total)||0,")"]})}),a.jsx(Me,{children:f?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"w-6 h-6 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ig,{children:[a.jsx(ag,{children:a.jsxs(Do,{children:[a.jsx(jr,{children:"Transaction ID"}),a.jsx(jr,{children:"Type"}),a.jsx(jr,{children:"Amount"}),a.jsx(jr,{children:"Status"}),a.jsx(jr,{children:"Users"}),a.jsx(jr,{children:"Date"}),a.jsx(jr,{children:"Actions"})]})}),a.jsx(sg,{children:d==null?void 0:d.transactions.map(x=>a.jsxs(Do,{children:[a.jsx(Nr,{children:a.jsx("span",{className:"font-mono text-sm","data-testid":`text-transaction-id-${x.id}`,children:x.id?x.id.slice(0,8)+"...":"N/A"})}),a.jsx(Nr,{children:m(x.type)}),a.jsx(Nr,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:v(x.amount,x.currency)}),x.targetCurrency!==x.currency&&a.jsxs("p",{className:"text-sm text-gray-500",children:[" ",v((parseFloat(x.amount)*parseFloat(x.exchangeRate)).toString(),x.targetCurrency)]})]})}),a.jsx(Nr,{children:y(x.status)}),a.jsx(Nr,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-sm",children:["From: ",x.senderId?x.senderId.slice(0,8)+"...":"N/A"]}),a.jsxs("p",{className:"text-sm",children:["To: ",x.recipientId?x.recipientId.slice(0,8)+"...":"N/A"]})]})}),a.jsx(Nr,{children:a.jsx("span",{className:"text-sm",children:Qr(new Date(x.createdAt),"MMM dd, yyyy HH:mm")})}),a.jsx(Nr,{children:a.jsxs(ps,{children:[a.jsx(mh,{asChild:!0,children:a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>l(x),"data-testid":`button-view-transaction-${x.id}`,children:a.jsx(qo,{className:"w-4 h-4"})})}),a.jsxs(Ba,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(oa,{children:[a.jsx($i,{children:"Transaction Details"}),a.jsx(Xs,{children:"Complete transaction information and controls"})]}),o&&a.jsx(M9e,{transaction:o,onStatusUpdate:g,isLoading:p.isPending})]})]})})]},x.id))})]}),d&&d.totalPages>1&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",d.page," of ",d.totalPages]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ie,{variant:"outline",size:"sm",onClick:()=>t(e-1),disabled:e<=1,"data-testid":"button-prev-page",children:"Previous"}),a.jsx(ie,{variant:"outline",size:"sm",onClick:()=>t(e+1),disabled:e>=d.totalPages,"data-testid":"button-next-page",children:"Next"})]})]})]})})]})]})}function M9e({transaction:e,onStatusUpdate:t,isLoading:r}){const[n,i]=S.useState(!1),[s,o]=S.useState(e.createdAt),{toast:l}=Et(),c=Jr(),u=kt({mutationFn:async p=>(await qe("PUT",`/api/admin/transactions/${e.id}/date`,{createdAt:p})).json(),onSuccess:()=>{l({title:"Success",description:"Transaction date updated successfully"}),c.invalidateQueries({queryKey:["/api/admin/transactions"]}),i(!1)},onError:()=>{l({title:"Error",description:"Failed to update transaction date",variant:"destructive"})}}),d=(p,y)=>{const m=parseFloat(p);return new Intl.NumberFormat("en-US",{style:"currency",currency:y||"USD"}).format(m)},f=()=>{u.mutate(s)},h=()=>{o(e.createdAt),i(!1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Transaction Details"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"ID:"}),a.jsx("p",{className:"text-sm font-mono",children:e.id})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Type:"}),a.jsx("p",{className:"text-sm font-medium",children:e.type})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Payment Method:"}),a.jsx("p",{className:"text-sm font-medium",children:e.paymentMethod})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Description:"}),a.jsx("p",{className:"text-sm",children:e.description||"No description"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Amount & Currency"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Amount:"}),a.jsx("p",{className:"text-sm font-medium",children:d(e.amount,e.currency)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Fee:"}),a.jsx("p",{className:"text-sm font-medium",children:d(e.fee,e.currency)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Exchange Rate:"}),a.jsx("p",{className:"text-sm font-medium",children:e.exchangeRate})]}),e.targetCurrency!==e.currency&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Target Amount:"}),a.jsx("p",{className:"text-sm font-medium",children:d((parseFloat(e.amount)*parseFloat(e.exchangeRate)).toString(),e.targetCurrency)})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Sender"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($l,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-mono",children:e.senderId})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Recipient"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($l,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-mono",children:e.recipientId})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Timeline"}),!n&&a.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>i(!0),"data-testid":"button-edit-date",children:[a.jsx(xA,{className:"w-4 h-4 mr-2"}),"Edit Date"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Ge,{className:"text-sm text-gray-500",children:"Created Date & Time:"}),n?a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx($e,{type:"datetime-local",value:new Date(s).toISOString().slice(0,16),onChange:p=>o(new Date(p.target.value).toISOString()),className:"flex-1","data-testid":"input-edit-date"}),a.jsx(ie,{size:"sm",onClick:f,disabled:u.isPending,"data-testid":"button-save-date",children:a.jsx(Vs,{className:"w-4 h-4"})}),a.jsx(ie,{size:"sm",variant:"outline",onClick:h,disabled:u.isPending,"data-testid":"button-cancel-date",children:a.jsx(Vc,{className:"w-4 h-4"})})]}):a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(Fl,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:Qr(new Date(e.createdAt),"MMM dd, yyyy HH:mm:ss")})]})]}),e.updatedAt&&a.jsxs("div",{children:[a.jsx(Ge,{className:"text-sm text-gray-500",children:"Last Updated:"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(Fl,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:Qr(new Date(e.updatedAt),"MMM dd, yyyy HH:mm:ss")})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Status Management"}),a.jsxs("div",{className:"flex gap-2",children:[e.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs(ie,{size:"sm",onClick:()=>t("completed"),disabled:r,"data-testid":"button-approve-transaction",className:"bg-green-600 hover:bg-green-700",children:[a.jsx(Rr,{className:"w-4 h-4 mr-2"}),"Approve"]}),a.jsxs(ie,{size:"sm",variant:"destructive",onClick:()=>t("failed"),disabled:r,"data-testid":"button-reject-transaction",children:[a.jsx(Fa,{className:"w-4 h-4 mr-2"}),"Reject"]})]}),e.status==="failed"&&a.jsxs(ie,{size:"sm",onClick:()=>t("pending"),disabled:r,"data-testid":"button-retry-transaction",children:[a.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Mark as Pending"]}),a.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>t("cancelled"),disabled:r||e.status==="completed","data-testid":"button-cancel-transaction",children:[a.jsx(Zne,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})}function L9e(){var g;const[e,t]=S.useState(""),[r,n]=S.useState(null),{toast:i}=Et(),s=Jr(),{data:o,isLoading:l,error:c}=Xt({queryKey:["/api/admin/virtual-cards",{search:e}],queryFn:async()=>{const x=new URLSearchParams({...e&&{search:e}});return(await qe("GET",`/api/admin/virtual-cards?${x}`)).json()}}),u=(o==null?void 0:o.cards)||[],d=kt({mutationFn:async({id:x,updates:w})=>(await qe("PUT",`/api/admin/virtual-cards/${x}`,w)).json(),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/admin/virtual-cards"]}),i({title:"Card Updated",description:"Virtual card has been updated successfully"}),n(null)},onError:()=>{i({title:"Error",description:"Failed to update virtual card",variant:"destructive"})}}),f=x=>{switch(x){case"active":return a.jsx(lt,{variant:"default",className:"bg-green-500",children:"Active"});case"frozen":return a.jsx(lt,{variant:"destructive",children:"Frozen"});case"expired":return a.jsx(lt,{variant:"secondary",children:"Expired"});default:return a.jsx(lt,{variant:"outline",children:"Unknown"})}},h=x=>{if(x.status==="expired"){i({title:"Cannot Modify Expired Card",description:"Expired cards cannot be reactivated. The user must purchase a new card.",variant:"destructive"});return}const w=x.status==="active"?"frozen":"active";d.mutate({id:x.id,updates:{status:w}})},p=x=>`****-****-****-${x.slice(-4)}`;if(c)return a.jsx(ke,{children:a.jsx(Me,{className:"p-6",children:a.jsx("div",{className:"text-center text-red-600",children:"Failed to load virtual cards data"})})});const y=u.filter(x=>x.status==="active").length||0,m=u.filter(x=>x.status==="frozen").length||0,v=((g=o==null?void 0:o.virtualCards)==null?void 0:g.reduce((x,w)=>x+parseFloat(w.balance),0))||0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Bo,{className:"w-5 h-5"}),"Virtual Card Management"]}),a.jsx(Ct,{children:"Monitor and manage virtual cards across the platform"})]}),a.jsx(Me,{children:a.jsxs("div",{className:"relative",children:[a.jsx(dg,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx($e,{placeholder:"Search by card number, user ID, or cardholder name...",value:e,onChange:x=>t(x.target.value),className:"pl-10","data-testid":"input-card-search"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(ke,{children:a.jsx(Me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Bo,{className:"w-4 h-4 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Cards"}),a.jsx("p",{className:"text-lg font-bold",children:u.length||0})]})]})})}),a.jsx(ke,{children:a.jsx(Me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pw,{className:"w-4 h-4 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Active Cards"}),a.jsx("p",{className:"text-lg font-bold",children:y})]})]})})}),a.jsx(ke,{children:a.jsx(Me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Oa,{className:"w-4 h-4 text-red-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Frozen Cards"}),a.jsx("p",{className:"text-lg font-bold",children:m})]})]})})}),a.jsx(ke,{children:a.jsx(Me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zn,{className:"w-4 h-4 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Balance"}),a.jsxs("p",{className:"text-lg font-bold",children:["$",v.toFixed(2)]})]})]})})})]}),a.jsxs(ke,{children:[a.jsx(He,{children:a.jsxs(Xe,{children:["Virtual Cards (",u.length||0,")"]})}),a.jsx(Me,{children:l?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"w-6 h-6 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs(ig,{children:[a.jsx(ag,{children:a.jsxs(Do,{children:[a.jsx(jr,{children:"Card Details"}),a.jsx(jr,{children:"Cardholder"}),a.jsx(jr,{children:"Status"}),a.jsx(jr,{children:"Balance"}),a.jsx(jr,{children:"Purchase Date"}),a.jsx(jr,{children:"Last Used"}),a.jsx(jr,{children:"Actions"})]})}),a.jsx(sg,{children:u.map(x=>a.jsxs(Do,{children:[a.jsx(Nr,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-mono font-medium","data-testid":`text-card-number-${x.id}`,children:p(x.cardNumber)}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Expires: ",Qr(new Date(x.expiryDate),"MM/yy")]})]})}),a.jsx(Nr,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:x.cardHolderName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[x.userId.slice(0,8),"..."]})]})}),a.jsx(Nr,{children:f(x.status)}),a.jsx(Nr,{children:a.jsxs("span",{className:"font-mono",children:["$",parseFloat(x.balance).toFixed(2)," ",x.currency]})}),a.jsx(Nr,{children:a.jsx("span",{className:"text-sm",children:Qr(new Date(x.purchaseDate),"MMM dd, yyyy")})}),a.jsx(Nr,{children:a.jsx("span",{className:"text-sm",children:x.lastUsed?Qr(new Date(x.lastUsed),"MMM dd, yyyy"):"Never"})}),a.jsx(Nr,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ps,{children:[a.jsx(mh,{asChild:!0,children:a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>n(x),"data-testid":`button-view-card-${x.id}`,children:a.jsx(qo,{className:"w-4 h-4"})})}),a.jsxs(Ba,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(oa,{children:[a.jsx($i,{children:"Virtual Card Details"}),a.jsx(Xs,{children:"Complete card information and controls"})]}),r&&a.jsx(I9e,{card:r,onToggleStatus:()=>h(r),isLoading:d.isPending})]})]}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>h(x),disabled:d.isPending,"data-testid":`button-toggle-card-${x.id}`,children:x.status==="active"?a.jsx(Oa,{className:"w-4 h-4 text-red-600"}):a.jsx(Pw,{className:"w-4 h-4 text-green-600"})})]})})]},x.id))})]})})]})]})}function I9e({card:e,onToggleStatus:t,isLoading:r}){const n=i=>{switch(i){case"active":return a.jsx(lt,{variant:"default",className:"bg-green-500",children:"Active"});case"frozen":return a.jsx(lt,{variant:"destructive",children:"Frozen"});case"expired":return a.jsx(lt,{variant:"secondary",children:"Expired"});default:return a.jsx(lt,{variant:"outline",children:"Unknown"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Card Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Card Number:"}),a.jsx("p",{className:"text-sm font-mono",children:e.cardNumber})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"CVV:"}),a.jsx("p",{className:"text-sm font-mono",children:e.cvv})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Expiry Date:"}),a.jsx("p",{className:"text-sm font-medium",children:Qr(new Date(e.expiryDate),"MMM yyyy")})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Cardholder Name:"}),a.jsx("p",{className:"text-sm font-medium",children:e.cardHolderName})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Account Details"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"User ID:"}),a.jsx("p",{className:"text-sm font-mono",children:e.userId})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Balance:"}),a.jsxs("p",{className:"text-sm font-medium",children:["$",parseFloat(e.balance).toFixed(2)," ",e.currency]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Status:"}),n(e.status)]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Usage Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fl,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Purchase Date:"}),a.jsx("p",{className:"text-sm",children:Qr(new Date(e.purchaseDate),"MMM dd, yyyy HH:mm")})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fl,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Last Used:"}),a.jsx("p",{className:"text-sm",children:e.lastUsed?Qr(new Date(e.lastUsed),"MMM dd, yyyy HH:mm"):"Never used"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Card Actions"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ie,{onClick:t,disabled:r||e.status==="expired",variant:e.status==="active"?"destructive":"default","data-testid":"button-toggle-card-status",children:[r?a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):e.status==="active"?a.jsx(Oa,{className:"w-4 h-4 mr-2"}):a.jsx(Pw,{className:"w-4 h-4 mr-2"}),e.status==="expired"?"Cannot Reactivate":e.status==="active"?"Freeze Card":"Activate Card"]}),a.jsxs(ie,{variant:"outline",size:"sm",children:[a.jsx($l,{className:"w-4 h-4 mr-2"}),"View User Profile"]})]})]})]})}var Q_="rovingFocusGroup.onEntryFocus",D9e={bubbles:!1,cancelable:!0},e5="RovingFocusGroup",[q4,hZ,R9e]=Cj(e5),[F9e,pZ]=js(e5,[R9e]),[$9e,B9e]=F9e(e5),mZ=S.forwardRef((e,t)=>a.jsx(q4.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(q4.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(U9e,{...e,ref:t})})}));mZ.displayName=e5;var U9e=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=S.useRef(null),p=br(t,h),y=vv(s),[m=null,v]=Rl({prop:o,defaultProp:l,onChange:c}),[g,x]=S.useState(!1),w=Yn(u),j=hZ(r),N=S.useRef(!1),[P,k]=S.useState(0);return S.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Q_,w),()=>C.removeEventListener(Q_,w)},[w]),a.jsx($9e,{scope:r,orientation:n,dir:y,loop:i,currentTabStopId:m,onItemFocus:S.useCallback(C=>v(C),[v]),onItemShiftTab:S.useCallback(()=>x(!0),[]),onFocusableItemAdd:S.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:S.useCallback(()=>k(C=>C-1),[]),children:a.jsx(Tt.div,{tabIndex:g||P===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:jt(e.onMouseDown,()=>{N.current=!0}),onFocus:jt(e.onFocus,C=>{const O=!N.current;if(C.target===C.currentTarget&&O&&!g){const I=new CustomEvent(Q_,D9e);if(C.currentTarget.dispatchEvent(I),!I.defaultPrevented){const E=j().filter(F=>F.focusable),A=E.find(F=>F.active),D=E.find(F=>F.id===m),G=[A,D,...E].filter(Boolean).map(F=>F.ref.current);yZ(G,d)}}N.current=!1}),onBlur:jt(e.onBlur,()=>x(!1))})})}),gZ="RovingFocusGroupItem",xZ=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,...o}=e,l=kl(),c=s||l,u=B9e(gZ,r),d=u.currentTabStopId===c,f=hZ(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return S.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),a.jsx(q4.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:a.jsx(Tt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:jt(e.onMouseDown,y=>{n?u.onItemFocus(c):y.preventDefault()}),onFocus:jt(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:jt(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const m=q9e(y,u.orientation,u.dir);if(m!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let g=f().filter(x=>x.focusable).map(x=>x.ref.current);if(m==="last")g.reverse();else if(m==="prev"||m==="next"){m==="prev"&&g.reverse();const x=g.indexOf(y.currentTarget);g=u.loop?W9e(g,x+1):g.slice(x+1)}setTimeout(()=>yZ(g))}})})})});xZ.displayName=gZ;var z9e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function V9e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function q9e(e,t,r){const n=V9e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return z9e[n]}function yZ(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function W9e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var H9e=mZ,K9e=xZ,AE="Tabs",[G9e,bUe]=js(AE,[pZ]),vZ=pZ(),[Y9e,kE]=G9e(AE),bZ=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=vv(l),[f,h]=Rl({prop:n,onChange:i,defaultProp:s});return a.jsx(Y9e,{scope:r,baseId:kl(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(Tt.div,{dir:d,"data-orientation":o,...u,ref:t})})});bZ.displayName=AE;var wZ="TabsList",jZ=S.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,s=kE(wZ,r),o=vZ(r);return a.jsx(H9e,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:a.jsx(Tt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});jZ.displayName=wZ;var NZ="TabsTrigger",SZ=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=e,o=kE(NZ,r),l=vZ(r),c=AZ(o.baseId,n),u=kZ(o.baseId,n),d=n===o.value;return a.jsx(K9e,{asChild:!0,...l,focusable:!i,active:d,children:a.jsx(Tt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:jt(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:jt(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:jt(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(n)})})})});SZ.displayName=NZ;var _Z="TabsContent",PZ=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=e,l=kE(_Z,r),c=AZ(l.baseId,n),u=kZ(l.baseId,n),d=n===l.value,f=S.useRef(d);return S.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(io,{present:i||d,children:({present:h})=>a.jsx(Tt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});PZ.displayName=_Z;function AZ(e,t){return`${e}-trigger-${t}`}function kZ(e,t){return`${e}-content-${t}`}var X9e=bZ,CZ=jZ,TZ=SZ,EZ=PZ;const CE=X9e,t5=S.forwardRef(({className:e,...t},r)=>a.jsx(CZ,{ref:r,className:_t("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));t5.displayName=CZ.displayName;const vl=S.forwardRef(({className:e,...t},r)=>a.jsx(TZ,{ref:r,className:_t("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));vl.displayName=TZ.displayName;const bl=S.forwardRef(({className:e,...t},r)=>a.jsx(EZ,{ref:r,className:_t("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));bl.displayName=EZ.displayName;const Z9e={fees:{transfer_fee:"2.50",exchange_rate_margin:"0.05",virtual_card_fee:"5.00",withdrawal_fee:"1.00"},security:{two_factor_required:!0,kyc_auto_approval:!1,max_daily_limit:"10000",min_transaction_amount:"1.00"},notifications:{email_notifications:!0,sms_notifications:!0,push_notifications:!0,admin_alerts:!0},general:{platform_name:"GreenPay",support_email:"support@greenpay.com",default_currency:"USD",session_timeout:"30",terms_url:"https://greenpay.com/terms",maintenance_message:"",maintenance_mode:!1,api_rate_limit:"1000",max_upload_size:"10"},whatsapp:{phone_number_id:"",business_account_id:"",access_token:"",is_active:!1}},J_="greenpay_admin_settings";function Q9e(){const[e,t]=S.useState(Z9e),[r,n]=S.useState(!1);S.useEffect(()=>{const d=localStorage.getItem(J_);if(d)try{t(JSON.parse(d))}catch(h){console.error("Failed to parse admin settings",h)}n(!0);const f=h=>{if(h.key===J_&&h.newValue)try{t(JSON.parse(h.newValue))}catch(p){console.error("Failed to parse storage change",p)}};return window.addEventListener("storage",f),()=>window.removeEventListener("storage",f)},[]);const i=S.useCallback(d=>{t(d),localStorage.setItem(J_,JSON.stringify(d)),window.dispatchEvent(new CustomEvent("admin-settings-updated",{detail:d}))},[]),s=S.useCallback(d=>{t(f=>({...f,fees:{...f.fees,...d}}))},[]),o=S.useCallback(d=>{t(f=>({...f,security:{...f.security,...d}}))},[]),l=S.useCallback(d=>{t(f=>({...f,notifications:{...f.notifications,...d}}))},[]),c=S.useCallback(d=>{t(f=>({...f,general:{...f.general,...d}}))},[]),u=S.useCallback(d=>{t(f=>({...f,whatsapp:{...f.whatsapp,...d}}))},[]);return{settings:e,saveSettings:i,updateFees:s,updateSecurity:o,updateNotifications:l,updateGeneral:c,updateWhatsApp:u,isLoaded:r}}function J9e(){const{settings:e,saveSettings:t,updateFees:r,updateSecurity:n,updateNotifications:i,updateGeneral:s,updateWhatsApp:o,isLoaded:l}=Q9e(),[c,u]=S.useState(e.fees),[d,f]=S.useState(e.security),[h,p]=S.useState(e.notifications),[y,m]=S.useState(e.whatsapp),[v,g]=S.useState(e.general),{toast:x}=Et(),w=Jr();S.useEffect(()=>{l&&(u(e.fees),f(e.security),p(e.notifications),m(e.whatsapp),g(e.general))},[e,l]);const{data:j,isLoading:N}=Xt({queryKey:["/api/admin/settings"],queryFn:async()=>(await qe("GET","/api/admin/settings")).json()}),P=kt({mutationFn:async({key:A,value:D})=>(await qe("PUT",`/api/admin/settings/${A}`,{value:D})).json(),onSuccess:()=>{w.invalidateQueries({queryKey:["/api/admin/settings"]}),x({title:"Settings Updated",description:"System settings have been saved successfully"})},onError:()=>{x({title:"Error",description:"Failed to update settings",variant:"destructive"})}}),k=()=>{r(c),t({...e,fees:c}),Object.entries(c).forEach(([A,D])=>{P.mutate({key:A,value:D})})},C=()=>{n(d),t({...e,security:d}),Object.entries(d).forEach(([A,D])=>{P.mutate({key:A,value:D.toString()})})},O=()=>{i(h),t({...e,notifications:h}),Object.entries(h).forEach(([A,D])=>{P.mutate({key:A,value:D.toString()})})},I=()=>{s(v),t({...e,general:v}),Object.entries(v).forEach(([A,D])=>{P.mutate({key:A,value:D.toString()})})},E=async()=>{if(!y.phone_number_id||!y.business_account_id||!y.access_token){x({title:"Error",description:"Please fill in all WhatsApp configuration fields",variant:"destructive"});return}o(y),t({...e,whatsapp:y});try{(await qe("POST","/api/admin/whatsapp/config",{phoneNumberId:y.phone_number_id,businessAccountId:y.business_account_id,accessToken:y.access_token,isActive:y.is_active})).ok?(x({title:"Success",description:"WhatsApp configuration saved successfully"}),w.invalidateQueries({queryKey:["/api/admin/whatsapp/config"]})):x({title:"Error",description:"Failed to save WhatsApp configuration",variant:"destructive"})}catch{x({title:"Error",description:"An error occurred while saving WhatsApp configuration",variant:"destructive"})}};return N?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"w-6 h-6 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx(ke,{children:a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Al,{className:"w-5 h-5"}),"System Settings"]}),a.jsx(Ct,{children:"Configure platform settings, fees, and system behavior"})]})}),a.jsxs(CE,{defaultValue:"fees",className:"space-y-4",children:[a.jsx(ja,{className:"w-full whitespace-nowrap rounded-lg border",children:a.jsxs(t5,{className:"inline-flex h-10 w-full justify-start rounded-none bg-transparent p-1",children:[a.jsx(vl,{value:"fees",className:"rounded-md px-3",children:"Fees & Pricing"}),a.jsx(vl,{value:"security",className:"rounded-md px-3",children:"Security"}),a.jsx(vl,{value:"notifications",className:"rounded-md px-3",children:"Notifications"}),a.jsx(vl,{value:"whatsapp",className:"rounded-md px-3",children:"WhatsApp"}),a.jsx(vl,{value:"general",className:"rounded-md px-3",children:"General"})]})}),a.jsx(bl,{value:"whatsapp",children:a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(cv,{className:"w-5 h-5"}),"WhatsApp Configuration"]}),a.jsx(Ct,{children:"Configure Meta WhatsApp Business API credentials for admin messaging"})]}),a.jsxs(Me,{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Webhook Information"}),a.jsxs("div",{className:"text-xs space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"URL:"})," ",a.jsx("code",{className:"bg-white p-1 rounded border",children:"https://<your-domain>/api/whatsapp/webhook"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Verify Token:"})," ",a.jsx("code",{className:"bg-white p-1 rounded border",children:"greenpay_verify_token_2024"})]}),a.jsx("p",{className:"text-blue-800 mt-2",children:"Enter these in your Meta App Dashboard webhook settings"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"phone_number_id",children:"Phone Number ID"}),a.jsx($e,{id:"phone_number_id",placeholder:"Your WhatsApp phone number ID from Meta",value:y.phone_number_id,onChange:A=>m({...y,phone_number_id:A.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"business_account_id",children:"Business Account ID"}),a.jsx($e,{id:"business_account_id",placeholder:"Your WhatsApp Business Account ID",value:y.business_account_id,onChange:A=>m({...y,business_account_id:A.target.value})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"access_token",children:"Access Token"}),a.jsx($e,{id:"access_token",type:"password",placeholder:"Your Meta access token with whatsapp_business_messaging permission",value:y.access_token,onChange:A=>m({...y,access_token:A.target.value})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"whatsapp_active",checked:y.is_active,onChange:A=>m({...y,is_active:A.target.checked}),className:"w-4 h-4"}),a.jsx(Ge,{htmlFor:"whatsapp_active",children:"Enable WhatsApp Messaging"})]}),a.jsxs(ie,{className:"w-full",onClick:E,children:[a.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Save WhatsApp Configuration"]})]})]})}),a.jsx(bl,{value:"fees",children:a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Zn,{className:"w-5 h-5"}),"Fees & Pricing Configuration"]}),a.jsx(Ct,{children:"Set transaction fees and pricing for different services"})]}),a.jsxs(Me,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"transfer_fee",children:"Transfer Fee ($)"}),a.jsx($e,{id:"transfer_fee",type:"number",step:"0.01",value:c.transfer_fee,onChange:A=>u({...c,transfer_fee:A.target.value}),"data-testid":"input-transfer-fee"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"exchange_rate_margin",children:"Exchange Rate Margin (%)"}),a.jsx($e,{id:"exchange_rate_margin",type:"number",step:"0.01",value:c.exchange_rate_margin,onChange:A=>u({...c,exchange_rate_margin:A.target.value}),"data-testid":"input-exchange-margin"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"virtual_card_fee",children:"Virtual Card Fee ($)"}),a.jsx($e,{id:"virtual_card_fee",type:"number",step:"0.01",value:c.virtual_card_fee,onChange:A=>u({...c,virtual_card_fee:A.target.value}),"data-testid":"input-card-fee"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"withdrawal_fee",children:"Withdrawal Fee ($)"}),a.jsx($e,{id:"withdrawal_fee",type:"number",step:"0.01",value:c.withdrawal_fee,onChange:A=>u({...c,withdrawal_fee:A.target.value}),"data-testid":"input-withdrawal-fee"})]})]}),a.jsxs(ie,{onClick:k,disabled:P.isPending,"data-testid":"button-save-fees",children:[a.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Save Fee Settings"]})]})]})}),a.jsx(bl,{value:"security",children:a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx($a,{className:"w-5 h-5"}),"Security Configuration"]}),a.jsx(Ct,{children:"Configure security settings and validation rules"})]}),a.jsxs(Me,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ge,{children:"Two-Factor Authentication Required"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Require 2FA for all users"})]}),a.jsx(Bs,{checked:d.two_factor_required,onCheckedChange:A=>f({...d,two_factor_required:A}),"data-testid":"switch-2fa-required"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ge,{children:"KYC Auto-Approval"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Automatically approve KYC documents"})]}),a.jsx(Bs,{checked:d.kyc_auto_approval,onCheckedChange:A=>f({...d,kyc_auto_approval:A}),"data-testid":"switch-kyc-auto"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"max_daily_limit",children:"Max Daily Limit ($)"}),a.jsx($e,{id:"max_daily_limit",type:"number",value:d.max_daily_limit,onChange:A=>f({...d,max_daily_limit:A.target.value}),"data-testid":"input-daily-limit"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"min_transaction_amount",children:"Min Transaction Amount ($)"}),a.jsx($e,{id:"min_transaction_amount",type:"number",step:"0.01",value:d.min_transaction_amount,onChange:A=>f({...d,min_transaction_amount:A.target.value}),"data-testid":"input-min-amount"})]})]})]}),a.jsxs(ie,{onClick:C,disabled:P.isPending,"data-testid":"button-save-security",children:[a.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Save Security Settings"]})]})]})}),a.jsx(bl,{value:"notifications",children:a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Pl,{className:"w-5 h-5"}),"Notification Settings"]}),a.jsx(Ct,{children:"Configure notification preferences and alerts"})]}),a.jsxs(Me,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ge,{children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Send email notifications to users"})]}),a.jsx(Bs,{checked:h.email_notifications,onCheckedChange:A=>p({...h,email_notifications:A}),"data-testid":"switch-email-notifications"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ge,{children:"SMS Notifications"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Send SMS notifications for transactions"})]}),a.jsx(Bs,{checked:h.sms_notifications,onCheckedChange:A=>p({...h,sms_notifications:A}),"data-testid":"switch-sms-notifications"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ge,{children:"Push Notifications"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Send mobile push notifications"})]}),a.jsx(Bs,{checked:h.push_notifications,onCheckedChange:A=>p({...h,push_notifications:A}),"data-testid":"switch-push-notifications"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ge,{children:"Admin Alerts"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Receive admin alerts for critical events"})]}),a.jsx(Bs,{checked:h.admin_alerts,onCheckedChange:A=>p({...h,admin_alerts:A}),"data-testid":"switch-admin-alerts"})]})]}),a.jsxs(ie,{onClick:O,disabled:P.isPending,"data-testid":"button-save-notifications",children:[a.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Save Notification Settings"]})]})]})}),a.jsx(bl,{value:"general",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(wU,{className:"w-5 h-5"}),"General Settings"]}),a.jsx(Ct,{children:"Platform-wide settings and configuration"})]}),a.jsxs(Me,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"platform_name",children:"Platform Name"}),a.jsx($e,{id:"platform_name",value:v.platform_name,onChange:A=>g({...v,platform_name:A.target.value}),"data-testid":"input-platform-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"support_email",children:"Support Email"}),a.jsx($e,{id:"support_email",type:"email",value:v.support_email,onChange:A=>g({...v,support_email:A.target.value}),"data-testid":"input-support-email"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"default_currency",children:"Default Currency"}),a.jsx($e,{id:"default_currency",value:v.default_currency,onChange:A=>g({...v,default_currency:A.target.value}),"data-testid":"input-default-currency"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"session_timeout",children:"Session Timeout (minutes)"}),a.jsx($e,{id:"session_timeout",type:"number",value:v.session_timeout,onChange:A=>g({...v,session_timeout:A.target.value}),"data-testid":"input-session-timeout"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"api_rate_limit",children:"API Rate Limit (requests/hour)"}),a.jsx($e,{id:"api_rate_limit",type:"number",value:v.api_rate_limit,onChange:A=>g({...v,api_rate_limit:A.target.value}),"data-testid":"input-api-rate-limit"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"max_upload_size",children:"Max Upload Size (MB)"}),a.jsx($e,{id:"max_upload_size",type:"number",value:v.max_upload_size,onChange:A=>g({...v,max_upload_size:A.target.value}),"data-testid":"input-max-upload-size"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"terms_url",children:"Terms of Service URL"}),a.jsx($e,{id:"terms_url",type:"url",value:v.terms_url,onChange:A=>g({...v,terms_url:A.target.value}),"data-testid":"input-terms-url"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"maintenance_message",children:"Maintenance Message"}),a.jsx(ys,{id:"maintenance_message",placeholder:"Enter message to display during maintenance...",value:v.maintenance_message,onChange:A=>g({...v,maintenance_message:A.target.value}),"data-testid":"textarea-maintenance-message"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[a.jsxs("div",{children:[a.jsx(Ge,{className:"text-amber-900",children:"Maintenance Mode"}),a.jsx("p",{className:"text-sm text-amber-700",children:"Block user access to the platform"})]}),a.jsx(Bs,{checked:v.maintenance_mode,onCheckedChange:A=>g({...v,maintenance_mode:A}),"data-testid":"switch-maintenance-mode"})]}),a.jsxs(ie,{onClick:I,disabled:P.isPending,"data-testid":"button-save-general",className:"w-full",children:[a.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Save General Settings"]})]})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(sM,{className:"w-5 h-5"}),"System Management"]}),a.jsx(Ct,{children:"Application administration and monitoring tools"})]}),a.jsx(Me,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(ie,{variant:"outline",className:"h-20 flex flex-col items-center justify-center gap-2",children:[a.jsx($a,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm",children:"Backup Database"})]}),a.jsxs(ie,{variant:"outline",className:"h-20 flex flex-col items-center justify-center gap-2",children:[a.jsx(Oa,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm",children:"View Audit Logs"})]}),a.jsxs(ie,{variant:"outline",className:"h-20 flex flex-col items-center justify-center gap-2",children:[a.jsx(sM,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm",children:"System Status"})]}),a.jsxs(ie,{variant:"outline",className:"h-20 flex flex-col items-center justify-center gap-2",children:[a.jsx(Zn,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm",children:"Revenue Report"})]})]})})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Ys,{className:"w-5 h-5"}),"Bulk User Management"]}),a.jsx(Ct,{children:"Perform bulk operations on user accounts"})]}),a.jsx(Me,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ie,{variant:"destructive",className:"w-full",children:"Deactivate Inactive Users (30+ days)"}),a.jsx(ie,{variant:"outline",className:"w-full",children:"Export User List (CSV)"}),a.jsx(ie,{variant:"outline",className:"w-full",children:"Reset Failed Login Attempts"}),a.jsx(ie,{variant:"outline",className:"w-full",children:"Sync KYC Status"})]})})]})]})})]})]})}function $$(){const[e,t]=S.useState({channelId:"3407",provider:"m-pesa",cardPrice:"60.00"}),[r,n]=S.useState({paybill:"247",account:"4664"}),[i,s]=S.useState(!1),[o,l]=S.useState(!1),[c,u]=S.useState(!0),[d,f]=S.useState(!1),[h,p]=S.useState(null),{toast:y}=Et();S.useEffect(()=>{m(),x()},[]);const m=async()=>{u(!0);try{const j=await qe("GET","/api/admin/payhero-settings");if(j.ok){const N=await j.json();t(N)}else throw new Error("Failed to load settings")}catch(j){console.error("Error loading PayHero settings:",j),y({title:"Loading Failed",description:"Failed to load PayHero settings. Using default values.",variant:"destructive"})}finally{u(!1)}},v=async()=>{s(!0);try{if((await qe("PUT","/api/admin/payhero-settings",e)).ok)await m(),y({title:"Settings Updated",description:"PayHero configuration has been saved successfully."});else throw new Error("Failed to update settings")}catch{y({title:"Update Failed",description:"Failed to update PayHero settings. Please try again.",variant:"destructive"})}finally{s(!1)}},g=async()=>{f(!0),p(null);try{const N=await(await qe("POST","/api/admin/test-payhero",{amount:1,phone:"0700000000",reference:"TEST-"+Date.now()})).json();p({success:N.success,message:N.success?"PayHero connection successful!":N.message||"Connection test failed"})}catch{p({success:!1,message:"Failed to test connection"})}finally{f(!1)}},x=async()=>{try{const j=await qe("GET","/api/admin/manual-payment-settings");if(j.ok){const N=await j.json();n(N)}}catch(j){console.error("Error loading manual payment settings:",j)}},w=async()=>{l(!0);try{if((await qe("PUT","/api/admin/manual-payment-settings",r)).ok)await x(),y({title:"Settings Updated",description:"Manual payment configuration has been saved. Users will see these new payment details immediately."});else throw new Error("Failed to update settings")}catch{y({title:"Update Failed",description:"Failed to update manual payment settings. Please try again.",variant:"destructive"})}finally{l(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"PayHero Settings"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Configure M-Pesa payment processing settings"})]}),a.jsxs(lt,{variant:"secondary",className:"flex items-center gap-2",children:[a.jsx(Al,{className:"w-4 h-4"}),"Payment Gateway"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Al,{className:"w-5 h-5"}),"Configuration"]}),a.jsx(Ct,{children:"Update PayHero API settings for M-Pesa integration"})]}),a.jsx(Me,{className:"space-y-4",children:c?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin mr-3"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading settings..."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"channelId",children:"Channel ID"}),a.jsx($e,{id:"channelId",type:"number",value:e.channelId,onChange:j=>t({...e,channelId:j.target.value}),placeholder:"e.g., 608","data-testid":"input-channel-id"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Your PayHero payment channel ID from dashboard"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"provider",children:"Provider"}),a.jsxs(Hr,{value:e.provider,onValueChange:j=>t({...e,provider:j}),children:[a.jsx($r,{"data-testid":"select-provider",children:a.jsx(Kr,{placeholder:"Select provider"})}),a.jsxs(Br,{children:[a.jsx(nt,{value:"m-pesa",children:"M-Pesa"}),a.jsx(nt,{value:"sasapay",children:"SasaPay"})]})]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Payment provider for processing transactions"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"cardPrice",children:"Virtual Card Price (USD)"}),a.jsx($e,{id:"cardPrice",type:"number",step:"0.01",value:e.cardPrice,onChange:j=>t({...e,cardPrice:j.target.value}),placeholder:"60.00","data-testid":"input-card-price"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Price for purchasing virtual cards (automatically synced to user side)"})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsxs(ie,{onClick:v,disabled:i,className:"flex-1","data-testid":"button-save-settings",children:[a.jsx(Vs,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save Settings"]}),a.jsxs(ie,{onClick:g,variant:"outline",disabled:d,className:"flex-1","data-testid":"button-test-connection",children:[a.jsx(lM,{className:"w-4 h-4 mr-2"}),d?"Testing...":"Test Connection"]})]})]})})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(lM,{className:"w-5 h-5"}),"Connection Status"]}),a.jsx(Ct,{children:"Test PayHero API connectivity and monitor status"})]}),a.jsxs(Me,{className:"space-y-4",children:[h&&a.jsxs("div",{className:`p-4 rounded-lg border ${h.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.success?a.jsx(Rr,{className:"w-5 h-5 text-green-600"}):a.jsx(Fa,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:`font-medium ${h.success?"text-green-800":"text-red-800"}`,children:h.success?"Connection Successful":"Connection Failed"})]}),a.jsx("p",{className:`text-sm ${h.success?"text-green-700":"text-red-700"}`,children:h.message})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Current Channel ID:"}),a.jsx(lt,{variant:"outline",children:e.channelId})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Provider:"}),a.jsx(lt,{variant:"outline",className:"capitalize",children:e.provider})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Card Price:"}),a.jsxs(lt,{variant:"outline",children:["$",e.cardPrice]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"API Endpoint:"}),a.jsx(lt,{variant:"secondary",children:"backend.payhero.co.ke"})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Test Instructions:"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsx("li",{children:' Click "Test Connection" to verify API connectivity'}),a.jsx("li",{children:" Test uses a minimal 1 KES transaction"}),a.jsx("li",{children:" Successful test confirms channel is active"}),a.jsx("li",{children:" Failed tests indicate configuration issues"})]})]})]})]})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Al,{className:"w-5 h-5"}),"Manual M-Pesa Payment Settings"]}),a.jsx(Ct,{children:"Configure alternative manual payment method for virtual card purchases (second priority after PayHero)"})]}),a.jsxs(Me,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"paybill",children:"Paybill Number"}),a.jsx($e,{id:"paybill",value:r.paybill,onChange:j=>n({...r,paybill:j.target.value}),placeholder:"e.g., 247","data-testid":"input-paybill"}),a.jsx("p",{className:"text-sm text-gray-500",children:"M-Pesa paybill number for manual payments"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"account",children:"Account Number"}),a.jsx($e,{id:"account",value:r.account,onChange:j=>n({...r,account:j.target.value}),placeholder:"e.g., 4664","data-testid":"input-account"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Account number for manual M-Pesa payments"})]})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-blue-800 flex items-start gap-2",children:[a.jsx("span",{className:"material-icons text-sm mt-0.5",children:"info"}),a.jsx("span",{children:"These settings are displayed to users as an alternative payment method on the virtual card purchase page. Changes take effect immediately for all users."})]})}),a.jsxs(ie,{onClick:w,disabled:o,"data-testid":"button-save-manual-payment",children:[a.jsx(Vs,{className:"w-4 h-4 mr-2"}),o?"Saving...":"Save Manual Payment Settings"]})]})]}),a.jsxs(ke,{children:[a.jsx(He,{children:a.jsx(Xe,{children:"Important Notes"})}),a.jsx(Me,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Channel ID Requirements:"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:" Must be a valid PayHero channel ID"}),a.jsx("li",{children:' Found in PayHero dashboard under "Payment Channels"'}),a.jsx("li",{children:" Each channel has specific settings and limits"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Provider Options:"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"M-Pesa:"})," Standard mobile money (most common)"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"SasaPay:"})," Alternative mobile payment platform"]}),a.jsx("li",{children:" Provider must match your PayHero channel setup"})]})]})]})})]})]})}function eBe(){const[e,t]=S.useState(null),[r,n]=S.useState(""),[i,s]=S.useState(!1),[o,l]=S.useState("approve"),[c,u]=S.useState("pending"),{toast:d}=Et(),f=Jr(),{data:h,isLoading:p}=Xt({queryKey:["/api/admin/withdrawals"]}),y=(h==null?void 0:h.withdrawals)||[],m=kt({mutationFn:async({id:C,action:O,notes:I})=>(await qe("POST",`/api/admin/withdrawals/${C}/${O==="approve"?"approve":"reject"}`,{adminNotes:I})).json(),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/admin/withdrawals"]}),d({title:`Withdrawal ${o==="approve"?"approved":"rejected"}`,description:`The withdrawal request has been ${o==="approve"?"approved":"rejected"} successfully.`}),s(!1),n("")},onError:C=>{d({title:"Error",description:(C==null?void 0:C.message)||`Failed to ${o} withdrawal`,variant:"destructive"})}}),v=kt({mutationFn:async({id:C,status:O,notes:I})=>(await qe("PUT",`/api/admin/withdrawals/${C}/status`,{status:O,adminNotes:I})).json(),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/admin/withdrawals"]}),d({title:"Status Updated",description:"Withdrawal status has been updated successfully."}),s(!1),n("")},onError:C=>{d({title:"Error",description:(C==null?void 0:C.message)||"Failed to update withdrawal status",variant:"destructive"})}}),g=(C,O)=>{t(C),l(O),O==="edit"&&u(C.status),s(!0)},x=()=>{e&&(o==="edit"?v.mutate({id:e.id,status:c,notes:r}):m.mutate({id:e.id,action:o,notes:r}))},w=C=>{switch(C){case"pending":return a.jsxs(lt,{variant:"outline",className:"text-yellow-600 border-yellow-200",children:[a.jsx(Vo,{className:"w-3 h-3 mr-1"}),"Pending"]});case"completed":return a.jsxs(lt,{variant:"outline",className:"text-green-600 border-green-200",children:[a.jsx(Rr,{className:"w-3 h-3 mr-1"}),"Approved"]});case"failed":return a.jsxs(lt,{variant:"outline",className:"text-red-600 border-red-200",children:[a.jsx(Fa,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return a.jsx(lt,{variant:"outline",children:C})}},j=C=>new Date(C).toLocaleString(),N=(C,O)=>`${O} ${parseFloat(C).toFixed(2)}`;if(p)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-8 h-8 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading withdrawals..."})]})});const P=y.filter(C=>C.status==="pending"),k=y.filter(C=>C.status!=="pending");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Withdrawal Management"}),a.jsx("p",{className:"text-gray-600",children:"Review and manage user withdrawal requests"})]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsx(ke,{className:"bg-yellow-50 border-yellow-200",children:a.jsxs(Me,{className:"p-4 flex items-center gap-2",children:[a.jsx(Ai,{className:"w-4 h-4 text-yellow-600"}),a.jsxs("span",{className:"text-sm font-medium text-yellow-800",children:[P.length," pending reviews"]})]})})})]}),a.jsxs(CE,{defaultValue:"pending",className:"space-y-4",children:[a.jsxs(t5,{children:[a.jsxs(vl,{value:"pending",children:["Pending (",P.length,")"]}),a.jsxs(vl,{value:"processed",children:["Processed (",k.length,")"]})]}),a.jsx(bl,{value:"pending",children:a.jsx(ja,{className:"h-[600px]",children:a.jsx("div",{className:"space-y-4",children:P.length===0?a.jsx(ke,{children:a.jsxs(Me,{className:"p-8 text-center",children:[a.jsx(Rr,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Pending Withdrawals"}),a.jsx("p",{className:"text-gray-600",children:"All withdrawal requests have been processed."})]})}):P.map(C=>a.jsxs(ke,{className:"border-l-4 border-l-yellow-400",children:[a.jsx(He,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx($l,{className:"w-5 h-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:C.userInfo.fullName}),a.jsx("p",{className:"text-sm text-gray-600",children:C.userInfo.email})]})]}),w(C.status)]})}),a.jsxs(Me,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(Ge,{className:"text-xs text-gray-500",children:"Amount"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Zn,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"font-medium",children:N(C.amount,C.currency)})]})]}),a.jsxs("div",{children:[a.jsx(Ge,{className:"text-xs text-gray-500",children:"Fee"}),a.jsx("p",{className:"font-medium",children:N(C.fee,C.currency)})]}),a.jsxs("div",{children:[a.jsx(Ge,{className:"text-xs text-gray-500",children:"Total"}),a.jsxs("p",{className:"font-medium text-red-600",children:["-",N((parseFloat(C.amount)+parseFloat(C.fee)).toString(),C.currency)]})]}),a.jsxs("div",{children:[a.jsx(Ge,{className:"text-xs text-gray-500",children:"Requested"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Fl,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm",children:j(C.createdAt)})]})]})]}),a.jsxs("div",{children:[a.jsx(Ge,{className:"text-xs text-gray-500",children:"Description"}),a.jsx("p",{className:"text-sm",children:C.description})]}),C.recipientDetails&&a.jsxs("div",{children:[a.jsx(Ge,{className:"text-xs text-gray-500",children:"Recipient Details"}),a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg text-sm space-y-1",children:Object.entries(C.recipientDetails).map(([O,I])=>a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"capitalize text-gray-600",children:[O.replace(/([A-Z])/g," $1"),":"]}),a.jsx("span",{className:"font-medium",children:I})]},O))})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsxs(ie,{onClick:()=>g(C,"approve"),className:"flex-1 bg-green-600 hover:bg-green-700","data-testid":`approve-${C.id}`,children:[a.jsx(Rr,{className:"w-4 h-4 mr-2"}),"Approve"]}),a.jsxs(ie,{onClick:()=>g(C,"reject"),variant:"outline",className:"flex-1 text-red-600 border-red-200 hover:bg-red-50","data-testid":`reject-${C.id}`,children:[a.jsx(Fa,{className:"w-4 h-4 mr-2"}),"Reject"]}),a.jsxs(ie,{onClick:()=>g(C,"edit"),variant:"outline",className:"flex-1 text-blue-600 border-blue-200 hover:bg-blue-50","data-testid":`edit-${C.id}`,children:[a.jsx(xA,{className:"w-4 h-4 mr-2"}),"Edit Status"]})]})]})]},C.id))})})}),a.jsx(bl,{value:"processed",children:a.jsx(ja,{className:"h-[600px]",children:a.jsx("div",{className:"space-y-4",children:k.map(C=>a.jsxs(ke,{className:`border-l-4 ${C.status==="completed"?"border-l-green-400":"border-l-red-400"}`,children:[a.jsx(He,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx($l,{className:"w-5 h-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:C.userInfo.fullName}),a.jsx("p",{className:"text-sm text-gray-600",children:C.userInfo.email})]})]}),w(C.status)]})}),a.jsxs(Me,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(Ge,{className:"text-xs text-gray-500",children:"Amount"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Zn,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"font-medium",children:N(C.amount,C.currency)})]})]}),a.jsxs("div",{children:[a.jsx(Ge,{className:"text-xs text-gray-500",children:"Requested"}),a.jsx("span",{className:"text-sm",children:j(C.createdAt)})]}),a.jsxs("div",{children:[a.jsx(Ge,{className:"text-xs text-gray-500",children:"Processed"}),a.jsx("span",{className:"text-sm",children:C.processedAt?j(C.processedAt):"N/A"})]})]}),C.adminNotes&&a.jsxs("div",{children:[a.jsx(Ge,{className:"text-xs text-gray-500",children:"Admin Notes"}),a.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded-lg",children:C.adminNotes})]}),a.jsx("div",{className:"flex gap-2 pt-4",children:a.jsxs(ie,{onClick:()=>g(C,"edit"),variant:"outline",className:"text-blue-600 border-blue-200 hover:bg-blue-50","data-testid":`edit-processed-${C.id}`,children:[a.jsx(xA,{className:"w-4 h-4 mr-2"}),"Edit Status"]})})]})]},C.id))})})})]}),a.jsx(ps,{open:i,onOpenChange:s,children:a.jsxs(Ba,{children:[a.jsxs(oa,{children:[a.jsxs($i,{children:[o==="edit"?"Edit Withdrawal Status":o==="approve"?"Approve":"Reject"," Withdrawal Request"]}),a.jsx(Xs,{children:o==="edit"?"Change the status of this withdrawal request.":o==="approve"?"This will approve the withdrawal and notify the user that their funds are being processed.":"This will reject the withdrawal request. Please provide a reason for rejection."})]}),e&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Withdrawal Details"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"User:"})," ",e.userInfo.fullName]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Amount:"})," ",N(e.amount,e.currency)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Fee:"})," ",N(e.fee,e.currency)]})]})]}),o==="edit"&&a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"status-select",children:"Status"}),a.jsxs(Hr,{value:c,onValueChange:u,children:[a.jsx($r,{"data-testid":"status-select",children:a.jsx(Kr,{})}),a.jsxs(Br,{children:[a.jsx(nt,{value:"pending",children:"Pending"}),a.jsx(nt,{value:"completed",children:"Completed"}),a.jsx(nt,{value:"failed",children:"Failed"})]})]})]}),a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"admin-notes",children:o==="edit"?"Notes (Optional)":o==="approve"?"Processing Notes (Optional)":"Rejection Reason (Required)"}),a.jsx(ys,{id:"admin-notes",value:r,onChange:C=>n(C.target.value),placeholder:o==="edit"?"Enter any notes about this status change...":o==="approve"?"Enter any processing notes...":"Please explain why this withdrawal is being rejected...",className:"mt-1","data-testid":"admin-notes-input"})]})]}),a.jsxs(uN,{children:[a.jsx(ie,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsx(ie,{onClick:x,disabled:m.isPending||v.isPending||o==="reject"&&!r.trim(),className:o==="edit"?"bg-blue-600 hover:bg-blue-700":o==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700","data-testid":"confirm-action-button",children:m.isPending||v.isPending?"Processing...":o==="edit"?"Update Status":o==="approve"?"Approve Withdrawal":"Reject Withdrawal"})]})]})})]})}const tBe=St.object({title:St.string().min(1,"Title is required").max(100,"Title must be less than 100 characters"),message:St.string().min(1,"Message is required").max(500,"Message must be less than 500 characters"),type:St.enum(["general","promotion","security","maintenance","alert"]),actionUrl:St.string().optional(),expiresIn:St.number().min(1,"Expiry must be at least 1 hour").max(168,"Expiry cannot exceed 1 week").optional()});function rBe(){const[e,t]=S.useState(!1),{toast:r}=Et(),n=Jr(),{data:i,isLoading:s}=Xt({queryKey:["/api/admin/notifications"]}),o=(i==null?void 0:i.notifications)||[],l=Yo({resolver:Xo(tBe),defaultValues:{title:"",message:"",type:"general",actionUrl:""}}),c=kt({mutationFn:async g=>(await qe("POST","/api/admin/broadcast-notification",g)).json(),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/admin/notifications"]}),r({title:"Notification Sent",description:"Your notification has been broadcast to all users successfully."}),t(!1),l.reset()},onError:g=>{r({title:"Error",description:(g==null?void 0:g.message)||"Failed to send notification",variant:"destructive"})}}),u=kt({mutationFn:async g=>(await qe("DELETE",`/api/admin/notifications/${g}`)).json(),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/admin/notifications"]}),r({title:"Notification Deleted",description:"The notification has been deleted successfully."})},onError:g=>{r({title:"Error",description:(g==null?void 0:g.message)||"Failed to delete notification",variant:"destructive"})}}),d=g=>{c.mutate(g)},f=g=>{switch(g){case"promotion":return"bg-blue-100 text-blue-800";case"security":return"bg-red-100 text-red-800";case"maintenance":return"bg-yellow-100 text-yellow-800";case"alert":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},h=g=>new Date(g).toLocaleString(),p=g=>g?new Date(g)<new Date:!1;if(s)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-8 h-8 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading notifications..."})]})});const y=o.filter(g=>g.isGlobal),m=y.filter(g=>!p(g.expiresAt)),v=y.filter(g=>p(g.expiresAt));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notification Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage and broadcast notifications to users"})]}),a.jsxs(ie,{onClick:()=>t(!0),className:"bg-green-600 hover:bg-green-700",children:[a.jsx(aa,{className:"w-4 h-4 mr-2"}),"Broadcast Notification"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ke,{children:a.jsxs(Me,{className:"p-6 flex items-center gap-3",children:[a.jsx($o,{className:"w-8 h-8 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:y.length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Notifications"})]})]})}),a.jsx(ke,{children:a.jsxs(Me,{className:"p-6 flex items-center gap-3",children:[a.jsx(Rr,{className:"w-8 h-8 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Active Notifications"})]})]})}),a.jsx(ke,{children:a.jsxs(Me,{className:"p-6 flex items-center gap-3",children:[a.jsx(Vo,{className:"w-8 h-8 text-gray-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-600",children:v.length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Expired Notifications"})]})]})})]}),a.jsxs(CE,{defaultValue:"active",className:"space-y-4",children:[a.jsxs(t5,{children:[a.jsxs(vl,{value:"active",children:["Active (",m.length,")"]}),a.jsxs(vl,{value:"expired",children:["Expired (",v.length,")"]})]}),a.jsx(bl,{value:"active",children:a.jsx(ja,{className:"h-[500px]",children:a.jsx("div",{className:"space-y-4",children:m.length===0?a.jsx(ke,{children:a.jsxs(Me,{className:"p-8 text-center",children:[a.jsx($o,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Active Notifications"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first broadcast notification to engage with users."}),a.jsxs(ie,{onClick:()=>t(!0),className:"bg-green-600 hover:bg-green-700",children:[a.jsx(aa,{className:"w-4 h-4 mr-2"}),"Send Notification"]})]})}):m.map(g=>a.jsxs(ke,{className:"border-l-4 border-l-green-400",children:[a.jsx(He,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ls,{className:"w-5 h-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:g.title}),a.jsx("p",{className:"text-sm text-gray-600",children:"Global broadcast"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lt,{className:f(g.type),children:g.type}),a.jsx(ie,{variant:"outline",size:"sm",onClick:()=>u.mutate(g.id),disabled:u.isPending,className:"text-red-600 border-red-200 hover:bg-red-50","data-testid":`delete-notification-${g.id}`,children:a.jsx(zc,{className:"w-4 h-4"})})]})]})}),a.jsxs(Me,{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:g.body}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx(Ge,{className:"text-xs text-gray-500",children:"Created"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Fl,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{children:h(g.createdAt)})]})]}),g.expiresAt&&a.jsxs("div",{children:[a.jsx(Ge,{className:"text-xs text-gray-500",children:"Expires"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Vo,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{children:h(g.expiresAt)})]})]})]}),g.actionUrl&&a.jsxs("div",{children:[a.jsx(Ge,{className:"text-xs text-gray-500",children:"Action URL"}),a.jsx("p",{className:"text-sm font-mono bg-gray-50 p-2 rounded",children:g.actionUrl})]})]})]},g.id))})})}),a.jsx(bl,{value:"expired",children:a.jsx(ja,{className:"h-[500px]",children:a.jsx("div",{className:"space-y-4",children:v.map(g=>a.jsxs(ke,{className:"border-l-4 border-l-gray-400 opacity-75",children:[a.jsx(He,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ls,{className:"w-5 h-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-700",children:g.title}),a.jsx("p",{className:"text-sm text-gray-600",children:"Expired notification"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lt,{variant:"outline",className:"text-gray-600",children:"Expired"}),a.jsx(ie,{variant:"outline",size:"sm",onClick:()=>u.mutate(g.id),disabled:u.isPending,className:"text-red-600 border-red-200 hover:bg-red-50","data-testid":`delete-expired-notification-${g.id}`,children:a.jsx(zc,{className:"w-4 h-4"})})]})]})}),a.jsxs(Me,{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:g.body}),a.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Expired on ",h(g.expiresAt)]})]})]},g.id))})})})]}),a.jsx(ps,{open:e,onOpenChange:t,children:a.jsxs(Ba,{className:"max-w-2xl",children:[a.jsxs(oa,{children:[a.jsx($i,{children:"Broadcast Notification"}),a.jsx(Xs,{children:"Send a notification to all users. This will appear in their notifications panel."})]}),a.jsx(to,{...l,children:a.jsxs("form",{onSubmit:l.handleSubmit(d),className:"space-y-4",children:[a.jsx(zt,{control:l.control,name:"title",render:({field:g})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Title"}),a.jsx(qt,{children:a.jsx($e,{placeholder:"Enter notification title",...g,"data-testid":"notification-title"})}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:l.control,name:"message",render:({field:g})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Message"}),a.jsx(qt,{children:a.jsx(ys,{placeholder:"Enter your message...",className:"min-h-[100px]",...g,"data-testid":"notification-message"})}),a.jsx(Yt,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(zt,{control:l.control,name:"type",render:({field:g})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Type"}),a.jsxs(Hr,{onValueChange:g.onChange,defaultValue:g.value,children:[a.jsx(qt,{children:a.jsx($r,{"data-testid":"notification-type",children:a.jsx(Kr,{placeholder:"Select notification type"})})}),a.jsxs(Br,{children:[a.jsx(nt,{value:"general",children:"General"}),a.jsx(nt,{value:"promotion",children:"Promotion"}),a.jsx(nt,{value:"security",children:"Security"}),a.jsx(nt,{value:"maintenance",children:"Maintenance"}),a.jsx(nt,{value:"alert",children:"Alert"})]})]}),a.jsx(Yt,{})]})}),a.jsx(zt,{control:l.control,name:"expiresIn",render:({field:g})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Expires In (hours)"}),a.jsx(qt,{children:a.jsx($e,{type:"number",placeholder:"24",...g,onChange:x=>g.onChange(x.target.value?parseInt(x.target.value):void 0),"data-testid":"notification-expires"})}),a.jsx(Yt,{})]})})]}),a.jsx(zt,{control:l.control,name:"actionUrl",render:({field:g})=>a.jsxs($t,{children:[a.jsx(hr,{children:"Action URL (Optional)"}),a.jsx(qt,{children:a.jsx($e,{placeholder:"https://example.com/action",...g,"data-testid":"notification-action-url"})}),a.jsx(Yt,{})]})}),a.jsxs(uN,{children:[a.jsx(ie,{variant:"outline",type:"button",onClick:()=>t(!1),children:"Cancel"}),a.jsx(ie,{type:"submit",disabled:c.isPending,className:"bg-green-600 hover:bg-green-700","data-testid":"send-notification-button",children:c.isPending?"Sending...":a.jsxs(a.Fragment,{children:[a.jsx(aa,{className:"w-4 h-4 mr-2"}),"Send Notification"]})})]})]})})]})})]})}function nBe(){const[e,t]=S.useState("60.00"),{toast:r}=Et(),n=Jr(),{data:i,isLoading:s}=Xt({queryKey:["/api/system-settings/card-price"]}),o=(i==null?void 0:i.price)||"60.00";S.useEffect(()=>{o&&t(o)},[o]);const l=kt({mutationFn:async d=>(await qe("PUT","/api/system-settings/card-price",{price:parseFloat(d).toFixed(2)})).json(),onSuccess:()=>{r({title:"Price Updated",description:"Virtual card price has been updated successfully."}),n.invalidateQueries({queryKey:["/api/system-settings/card-price"]}),n.invalidateQueries({queryKey:["/api/virtual-card"]})},onError:d=>{r({title:"Update Failed",description:d.message||"Failed to update card price. Please try again.",variant:"destructive"})}}),c=()=>{const d=parseFloat(e);if(isNaN(d)||d<=0){r({title:"Invalid Price",description:"Please enter a valid price greater than 0.",variant:"destructive"});return}l.mutate(e)},u=parseFloat(e)!==parseFloat(o);return s?a.jsx(ke,{children:a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Bo,{className:"w-5 h-5"}),"Card Price Management"]}),a.jsx(Ct,{children:"Loading current price..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Card Price Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Configure virtual card pricing for users"})]}),a.jsxs(lt,{variant:"secondary",className:"flex items-center gap-2",children:[a.jsx(Bo,{className:"w-4 h-4"}),"Pricing Settings"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Zn,{className:"w-5 h-5"}),"Current Price"]}),a.jsx(Ct,{children:"The current price users see for virtual cards"})]}),a.jsxs(Me,{children:[a.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",o]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(Rr,{className:"w-4 h-4 text-green-500"}),"Active price displayed to users"]})]})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Bo,{className:"w-5 h-5"}),"Update Price"]}),a.jsx(Ct,{children:"Set a new price for virtual card purchases"})]}),a.jsxs(Me,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"card-price",children:"New Card Price (USD)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Zn,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx($e,{id:"card-price",type:"number",step:"0.01",min:"0",value:e,onChange:d=>t(d.target.value),className:"pl-10",placeholder:"60.00","data-testid":"input-card-price"})]})]}),u&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[a.jsx(Ai,{className:"w-4 h-4 text-yellow-600"}),a.jsxs("span",{className:"text-sm text-yellow-800",children:["Price change: $",o,"  $",parseFloat(e).toFixed(2)]})]}),a.jsxs(ie,{onClick:c,disabled:!u||l.isPending,className:"w-full","data-testid":"button-save-price",children:[a.jsx(Vs,{className:"w-4 h-4 mr-2"}),l.isPending?"Updating...":"Update Price"]})]})]})]}),a.jsxs(ke,{children:[a.jsx(He,{children:a.jsx(Xe,{children:"Important Information"})}),a.jsxs(Me,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Rr,{className:"w-5 h-5 text-green-500 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Immediate Effect"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Price changes take effect immediately for all new card purchases"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Rr,{className:"w-5 h-5 text-green-500 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"User Display"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Updated price will be shown on the virtual card page for all users"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Rr,{className:"w-5 h-5 text-green-500 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Payment Processing"}),a.jsx("p",{className:"text-sm text-gray-600",children:"M-Pesa payments will be processed for the new amount"})]})]})]})]})]})}function iBe(){const[e,t]=S.useState([]),[r,n]=S.useState(!1),[i,s]=S.useState(!1),[o,l]=S.useState(""),[c,u]=S.useState("all"),d=S.useRef(null),f=S.useRef(null),[h,p]=S.useState(!0),y=S.useRef(!0),{data:m,isLoading:v}=Xt({queryKey:["/api/admin/system-logs"],queryFn:async()=>{const I=await fetch("/api/admin/system-logs?minutes=30");if(!I.ok)throw new Error("Failed to fetch system logs");return I.json()}}),g=[...((m==null?void 0:m.logs)||[]).map(I=>({id:I.id,timestamp:I.timestamp,level:I.level,message:I.message,source:I.source,data:I.data?typeof I.data=="string"?JSON.parse(I.data):I.data:void 0})),...e].sort((I,E)=>new Date(I.timestamp).getTime()-new Date(E.timestamp).getTime()).slice(-2e3);S.useEffect(()=>(y.current=!0,x(),()=>{y.current=!1,f.current&&f.current.close()}),[]),S.useEffect(()=>{h&&d.current&&(d.current.scrollTop=d.current.scrollHeight)},[g,h]);const x=()=>{try{const E=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/logs`;f.current=new WebSocket(E),f.current.onopen=()=>{n(!0),console.log("Connected to logs WebSocket")},f.current.onmessage=A=>{if(!i)try{const D=JSON.parse(A.data);t(R=>[...R,D].slice(-500))}catch(D){console.error("Failed to parse log entry:",D)}},f.current.onclose=()=>{n(!1),y.current&&setTimeout(()=>{y.current&&x()},3e3)},f.current.onerror=A=>{console.error("WebSocket error:",A),n(!1)}}catch(I){console.error("Failed to connect WebSocket:",I),n(!1)}},w=I=>{switch(I){case"error":return a.jsx(Fa,{className:"w-4 h-4 text-red-500"});case"warn":return a.jsx(Ai,{className:"w-4 h-4 text-yellow-500"});case"info":return a.jsx(Lj,{className:"w-4 h-4 text-blue-500"});case"api":return a.jsx($0,{className:"w-4 h-4 text-green-500"});default:return a.jsx(Rr,{className:"w-4 h-4 text-gray-500"})}},j=I=>{switch(I){case"error":return"text-red-600 dark:text-red-400";case"warn":return"text-yellow-600 dark:text-yellow-400";case"info":return"text-blue-600 dark:text-blue-400";case"api":return"text-green-600 dark:text-green-400";default:return"text-gray-600 dark:text-gray-400"}},N=()=>{t([])},P=()=>{const I=k.map(R=>`[${R.timestamp}] ${R.level.toUpperCase()}: ${R.message}${R.data?`
`+JSON.stringify(R.data,null,2):""}`).join(`
`),E=new Blob([I],{type:"text/plain"}),A=URL.createObjectURL(E),D=document.createElement("a");D.href=A,D.download=`system-logs-${new Date().toISOString().split("T")[0]}.txt`,D.click(),URL.revokeObjectURL(A)},k=g.filter(I=>{const E=!o||I.message.toLowerCase().includes(o.toLowerCase())||I.source&&I.source.toLowerCase().includes(o.toLowerCase()),A=c==="all"||I.level===c;return E&&A}),C=["all","api","info","warn","error","debug"],O=g.reduce((I,E)=>(I[E.level]=(I[E.level]||0)+1,I),{});return a.jsxs("div",{className:"space-y-4 md:space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"System Logs"}),a.jsx("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:"Real-time system logs and API requests"})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(lt,{variant:r?"default":"destructive",className:"flex items-center gap-2",children:[a.jsx(yS,{className:"w-3 h-3 md:w-4 md:h-4"}),a.jsx("span",{className:"text-xs md:text-sm",children:r?"Connected":"Disconnected"})]}),a.jsxs(lt,{variant:"secondary",className:"flex items-center gap-2",children:[a.jsx($0,{className:"w-3 h-3 md:w-4 md:h-4"}),a.jsxs("span",{className:"text-xs md:text-sm",children:[g.length," logs"]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(ie,{variant:i?"default":"outline",size:"sm",onClick:()=>s(!i),"data-testid":"button-pause-logs",children:[i?a.jsx(SU,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}):a.jsx(iie,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),a.jsx("span",{className:"text-xs md:text-sm",children:i?"Resume":"Pause"})]}),a.jsxs(ie,{variant:"outline",size:"sm",onClick:N,"data-testid":"button-clear-logs",children:[a.jsx(zc,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),a.jsx("span",{className:"text-xs md:text-sm",children:"Clear"})]}),a.jsxs(ie,{variant:"outline",size:"sm",onClick:P,disabled:k.length===0,"data-testid":"button-download-logs",children:[a.jsx(Gs,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),a.jsx("span",{className:"text-xs md:text-sm hidden sm:inline",children:"Download"}),a.jsx("span",{className:"text-xs md:text-sm sm:hidden",children:"Export"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-xs md:text-sm ml-auto",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:I=>p(I.target.checked),className:"rounded"}),"Auto-scroll"]})]}),a.jsxs("div",{className:"space-y-3 md:space-y-0 md:flex md:items-center md:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx(dg,{className:"w-4 h-4 text-gray-500"}),a.jsx($e,{placeholder:"Filter logs...",value:o,onChange:I=>l(I.target.value),className:"flex-1","data-testid":"input-log-filter"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mj,{className:"w-4 h-4 text-gray-500"}),a.jsx("select",{value:c,onChange:I=>u(I.target.value),className:"px-3 py-1.5 border rounded-md bg-background text-sm flex-1 md:flex-none md:min-w-[120px]","data-testid":"select-log-level",children:C.map(I=>a.jsxs("option",{value:I,children:[I.charAt(0).toUpperCase()+I.slice(1),I!=="all"&&O[I]?` (${O[I]})`:""]},I))})]})]})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(yS,{className:"w-5 h-5"}),"Live System Logs"]}),a.jsxs(Ct,{children:["Showing ",k.length," of ",g.length," log entries (last 30 minutes)",v&&a.jsx(lt,{variant:"outline",className:"ml-2",children:"Loading..."}),i&&a.jsx(lt,{variant:"outline",className:"ml-2",children:"Paused"})]})]}),a.jsx(Me,{children:a.jsx("div",{className:"bg-black text-green-400 font-mono rounded-lg p-2 md:p-4 h-[50vh] md:h-96",children:a.jsx(ja,{className:"h-full",ref:d,children:k.length===0?a.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(yS,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:v?"Loading logs...":"No logs to display"}),!r&&!v&&a.jsx("p",{className:"text-xs mt-1",children:"Waiting for connection..."})]})}):a.jsx("div",{className:"space-y-2",children:k.map(I=>a.jsx("div",{className:"hover:bg-gray-800 p-2 rounded transition-colors",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-1 md:gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 md:shrink-0",children:[a.jsx("span",{className:"text-gray-400 text-xs md:w-16 shrink-0",children:new Date(I.timestamp).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 md:w-4 md:h-4",children:w(I.level)}),a.jsx("span",{className:`text-xs uppercase font-semibold ${j(I.level)}`,children:I.level})]})]}),a.jsxs("div",{className:"flex-1 min-w-0 pl-2 md:pl-0",children:[a.jsx("div",{className:"text-xs md:text-sm break-words",children:I.message}),I.data&&a.jsx("pre",{className:"mt-2 text-xs text-gray-400 overflow-x-auto bg-gray-900 p-2 rounded border-l-2 border-gray-600",children:JSON.stringify(I.data,null,2)})]})]})},I.id))})})})})]}),!r&&a.jsx(ke,{className:"border-yellow-200 bg-yellow-50",children:a.jsxs(Me,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[a.jsx(Ai,{className:"w-4 h-4"}),a.jsx("span",{className:"font-medium",children:"Connection Lost"})]}),a.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"Attempting to reconnect to log stream..."})]})})]})}function aBe(){const[e,t]=S.useState(null),[r,n]=S.useState(""),[i,s]=S.useState(!1),o=S.useRef(null),l=S.useRef(null),{toast:c}=Et(),u=Jr(),{data:d=[],isLoading:f}=Xt({queryKey:["/api/admin/conversations"],queryFn:async()=>{const k=await fetch("/api/admin/conversations",{credentials:"include"});if(!k.ok)throw new Error("Failed to fetch conversations");return k.json()},refetchOnWindowFocus:!1}),{data:h=[],isLoading:p}=Xt({queryKey:["/api/messages",e],queryFn:async()=>{if(!e)return[];const k=await fetch(`/api/messages/${e}`,{credentials:"include"});if(!k.ok)throw new Error("Failed to fetch messages");return k.json()},enabled:!!e,refetchOnWindowFocus:!1}),y=S.useCallback(()=>{const k=window.location.protocol==="https:"?"wss:":"ws:",C=window.location.host,O=new WebSocket(`${k}//${C}/ws`);O.onopen=()=>{console.log("Admin WebSocket connected"),s(!0),O.send(JSON.stringify({type:"register",userId:"admin",isAdmin:!0}))},O.onmessage=I=>{try{const E=JSON.parse(I.data);E.type==="new_message"?(e&&u.setQueryData(["/api/messages",e],A=>A?A.some(R=>R.id===E.message.id)?A:[...A,E.message]:[E.message]),u.invalidateQueries({queryKey:["/api/admin/conversations"]})):E.type==="new_conversation"&&u.invalidateQueries({queryKey:["/api/admin/conversations"]})}catch(E){console.error("Error parsing admin WebSocket message:",E)}},O.onclose=()=>{console.log("Admin WebSocket disconnected"),s(!1),setTimeout(()=>{y()},3e3)},O.onerror=I=>{console.error("Admin WebSocket error:",I),s(!1)},l.current=O},[e,u]);S.useEffect(()=>(y(),()=>{l.current&&(l.current.close(),l.current=null)}),[y]);const m=kt({mutationFn:async k=>{if(!e)throw new Error("No conversation selected");return qe("POST","/api/messages",{conversationId:e,content:k.content,messageType:"text"})},onSuccess:()=>{u.invalidateQueries({queryKey:["/api/messages"]}),u.invalidateQueries({queryKey:["/api/admin/conversations"]}),n("")},onError:k=>{c({title:"Failed to send message",description:"Please try again.",variant:"destructive"})}}),v=kt({mutationFn:async k=>qe("PUT",`/api/admin/conversations/${k}/assign`,{}),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/admin/conversations"]}),c({title:"Conversation assigned",description:"You are now handling this conversation."})},onError:k=>{c({title:"Failed to assign conversation",description:"Please try again.",variant:"destructive"})}}),g=()=>{!r.trim()||!e||m.mutate({content:r.trim()})},x=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),g())},w=k=>{v.mutate(k)};S.useEffect(()=>{var k;(k=o.current)==null||k.scrollIntoView({behavior:"smooth"})},[h]);const j=k=>{if(k===0)return"0 Bytes";const C=1024,O=["Bytes","KB","MB","GB"],I=Math.floor(Math.log(k)/Math.log(C));return parseFloat((k/Math.pow(C,I)).toFixed(2))+" "+O[I]},N=k=>k.senderType==="user"?k.readAt?a.jsx(Rr,{className:"w-3 h-3 text-green-500"}):a.jsx(Gne,{className:"w-3 h-3 text-gray-400"}):null,P=d.find(k=>k.id===e);return a.jsxs("div",{className:"h-full flex",children:[a.jsx("div",{className:"w-1/3 border-r border-border",children:a.jsxs(ke,{className:"h-full rounded-none",children:[a.jsxs(He,{className:"border-b",children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(ls,{className:"w-5 h-5"}),"Active Conversations"]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.length," active conversation",d.length!==1?"s":""]})]}),a.jsx(Me,{className:"p-0",children:a.jsx(ja,{className:"h-96",children:f?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):d.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(ls,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{"data-testid":"text-no-conversations",children:"No active conversations"})]}):d.map(k=>a.jsxs("div",{className:`p-4 border-b border-border cursor-pointer hover:bg-muted transition-colors ${e===k.id?"bg-muted":""}`,onClick:()=>t(k.id),"data-testid":`conversation-${k.id}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($l,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium text-sm",children:k.title||"User Support Request"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(lt,{variant:k.status==="active"?"default":"secondary",className:"text-xs",children:k.status}),!k.adminId&&a.jsx(ie,{variant:"outline",size:"sm",onClick:C=>{C.stopPropagation(),w(k.id)},disabled:v.isPending,"data-testid":`button-take-${k.id}`,children:"Take"})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:k.lastMessageAt?Qr(new Date(k.lastMessageAt),"MMM d, HH:mm"):Qr(new Date(k.createdAt),"MMM d, HH:mm")}),k.adminId&&a.jsx("span",{className:"text-green-600",children:"Assigned"})]})]},k.id))})})]})}),a.jsx("div",{className:"flex-1 flex flex-col",children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"border-b border-border p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:(P==null?void 0:P.title)||"User Support Chat"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Started ",Qr(new Date((P==null?void 0:P.createdAt)||""),"MMM d, yyyy HH:mm")]})]}),a.jsx(lt,{variant:(P==null?void 0:P.status)==="active"?"default":"secondary",children:P==null?void 0:P.status})]})}),a.jsx(ja,{className:"flex-1 p-4",children:a.jsxs("div",{className:"space-y-4",children:[p?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):h.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(ls,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No messages yet"})]}):h.map(k=>a.jsx("div",{className:`flex ${k.senderType==="admin"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${k.senderType==="admin"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[k.senderType==="user"&&a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx($l,{className:"w-3 h-3 mr-1"}),a.jsx("span",{className:"text-xs font-medium",children:"User"})]}),k.messageType==="file"||k.messageType==="image"||k.messageType==="video"?a.jsxs("div",{className:"space-y-2",children:[k.messageType==="image"&&k.fileUrl?a.jsx("img",{src:k.fileUrl,alt:k.fileName,className:"max-w-full rounded border cursor-pointer hover:opacity-80",onClick:()=>window.open(k.fileUrl,"_blank"),"data-testid":`image-${k.id}`}):k.messageType==="video"&&k.fileUrl?a.jsxs("video",{controls:!0,className:"max-w-full rounded border",style:{maxHeight:"250px"},"data-testid":`video-${k.id}`,children:[a.jsx("source",{src:k.fileUrl,type:"video/mp4"}),"Your browser does not support the video tag."]}):k.fileUrl?a.jsxs("a",{href:k.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 p-2 bg-background/10 rounded hover:bg-background/20 transition-colors",children:[k.messageType==="image"?a.jsx(tie,{className:"w-4 h-4 flex-shrink-0"}):a.jsx(_w,{className:"w-4 h-4 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:k.fileName||"Download file"}),k.fileSize&&a.jsx("p",{className:"text-xs opacity-75",children:j(k.fileSize)})]})]}):a.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-background/10 rounded",children:[a.jsx(_w,{className:"w-4 h-4"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:k.fileName||"File"}),k.fileSize&&a.jsx("p",{className:"text-xs opacity-75",children:j(k.fileSize)})]})]}),k.content!==k.fileName&&k.content&&a.jsx("p",{className:"text-sm",children:k.content})]}):a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:k.content}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("span",{className:"text-xs opacity-75",children:Qr(new Date(k.createdAt),"HH:mm")}),N(k)]})]})},k.id)),a.jsx("div",{ref:o})]})}),a.jsx("div",{className:"border-t border-border p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($e,{placeholder:"Type your response...",value:r,onChange:k=>n(k.target.value),onKeyPress:x,disabled:m.isPending,className:"flex-1","data-testid":"input-admin-message"}),a.jsx(ie,{onClick:g,disabled:!r.trim()||m.isPending,"data-testid":"button-send-admin-message",children:m.isPending?a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsx(aa,{className:"w-4 h-4"})})]})})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center text-center",children:a.jsxs("div",{children:[a.jsx(ls,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a conversation"}),a.jsx("p",{className:"text-muted-foreground",children:"Choose a conversation from the list to start chatting with users"})]})})})]})}function sBe(){return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Live Support"}),a.jsx("p",{className:"text-gray-600",children:"Real-time customer support conversations"})]})}),a.jsx(ke,{className:"h-[600px]",children:a.jsx(aBe,{})})]})}function oBe(){const[e,t]=S.useState(1),[r,n]=S.useState(null),[i,s]=S.useState(""),[o,l]=S.useState(""),[c,u]=S.useState(""),[d,f]=S.useState(""),[h,p]=S.useState(null),{toast:y}=Et(),m=Jr(),{data:v,isLoading:g,refetch:x,isFetching:w}=Xt({queryKey:["support-tickets",e],queryFn:async()=>{const E=await fetch(`/api/admin/support/tickets?page=${e}&limit=10`,{credentials:"include"});if(!E.ok)throw new Error("Failed to fetch");return E.json()}}),j=kt({mutationFn:async E=>qe("PUT",`/api/admin/support/tickets/${E.id}`,{status:E.status,priority:E.priority,adminNotes:E.notes}),onSuccess:()=>{m.invalidateQueries({queryKey:["support-tickets"]}),y({title:"Updated"})}}),N=kt({mutationFn:async()=>{const E=new FormData;E.append("content",d),h&&E.append("file",h);const A=await fetch(`/api/admin/support-tickets/${r}/reply`,{method:"POST",credentials:"include",body:E});if(!A.ok)throw new Error("Failed to send reply");return A.json()},onSuccess:()=>{m.invalidateQueries({queryKey:["support-tickets"]}),y({title:"Reply sent"}),f(""),p(null)}}),P=kt({mutationFn:async E=>qe("DELETE",`/api/admin/support/tickets/${E}`),onSuccess:()=>{m.invalidateQueries({queryKey:["support-tickets"]}),y({title:"Deleted"}),n(null)}});if(g)return a.jsx("div",{className:"p-4",children:"Loading..."});const k=(v==null?void 0:v.tickets)||[],C=r?k.find(E=>E.id===r):null,O=E=>{n(E.id),s(E.status),l(E.priority),u(E.adminNotes||"")},I=()=>{C&&j.mutate({id:C.id,status:i,priority:o,notes:c})};return r&&C?a.jsxs("div",{className:"space-y-4",children:[a.jsx(ie,{variant:"outline",onClick:()=>n(null),className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",children:" Back"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[a.jsxs(ke,{className:"bg-gradient-to-br from-emerald-50 to-green-50 border-2 border-emerald-200",children:[a.jsx(He,{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white rounded-t-lg",children:a.jsx(Xe,{className:"text-2xl",children:C.issueType})}),a.jsxs(Me,{className:"space-y-4 pt-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-emerald-800",children:"Description"}),a.jsx("p",{className:"text-sm mt-2 bg-white p-4 rounded-lg border-l-4 border-emerald-500",children:C.description})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Ge,{className:"text-sm font-semibold text-emerald-800",children:"Status"}),a.jsxs(Hr,{value:i,onValueChange:s,children:[a.jsx($r,{className:"mt-1 border-emerald-200",children:a.jsx(Kr,{})}),a.jsxs(Br,{children:[a.jsx(nt,{value:"open",children:"Open"}),a.jsx(nt,{value:"in_progress",children:"In Progress"}),a.jsx(nt,{value:"resolved",children:"Resolved"}),a.jsx(nt,{value:"closed",children:"Closed"})]})]})]}),a.jsxs("div",{children:[a.jsx(Ge,{className:"text-sm font-semibold text-emerald-800",children:"Priority"}),a.jsxs(Hr,{value:o,onValueChange:l,children:[a.jsx($r,{className:"mt-1 border-emerald-200",children:a.jsx(Kr,{})}),a.jsxs(Br,{children:[a.jsx(nt,{value:"low",children:"Low"}),a.jsx(nt,{value:"medium",children:"Medium"}),a.jsx(nt,{value:"high",children:"High"}),a.jsx(nt,{value:"urgent",children:"Urgent"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(Ge,{htmlFor:"notes",className:"text-sm font-semibold text-emerald-800",children:"Admin Notes"}),a.jsx(ys,{id:"notes",value:c,onChange:E=>u(E.target.value),className:"mt-1 border-emerald-200",rows:3})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(ie,{variant:"outline",onClick:()=>n(null),className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",children:"Cancel"}),a.jsxs(ie,{variant:"destructive",onClick:()=>{confirm("Delete ticket?")&&P.mutate(C.id)},children:[a.jsx(zc,{className:"w-4 h-4 mr-2"})," Delete"]}),a.jsx(ie,{onClick:I,disabled:j.isPending,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:j.isPending?"Saving...":"Save Changes"})]})]})]}),a.jsxs(ke,{className:"border-2 border-emerald-200 bg-gradient-to-br from-emerald-50 to-transparent",children:[a.jsx(He,{className:"bg-gradient-to-r from-emerald-100 to-green-50 border-b border-emerald-200",children:a.jsx(Xe,{className:"text-emerald-800",children:"Conversation"})}),a.jsx(Me,{className:"space-y-3 pt-6 max-h-64 overflow-y-auto",children:!C.replies||C.replies.length===0?a.jsx("p",{className:"text-emerald-600 text-center py-8",children:"No replies yet"}):C.replies.map(E=>a.jsxs("div",{className:`p-3 rounded-lg text-sm ${E.senderType==="admin"?"bg-emerald-50 border-l-4 border-emerald-500 ml-4":"bg-white border-l-4 border-emerald-300 mr-4"}`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"font-semibold text-xs text-emerald-800",children:E.senderType==="admin"?" Admin":" User"}),a.jsx("span",{className:"text-xs text-emerald-600",children:Qr(new Date(E.createdAt),"MMM d HH:mm")})]}),a.jsx("p",{className:"text-sm text-gray-800",children:E.content}),E.fileUrl&&a.jsxs("a",{href:E.fileUrl,target:"_blank",className:"text-xs text-emerald-600 mt-1 inline-block font-semibold hover:underline",children:[" ",E.fileName]})]},E.id))})]}),a.jsxs(ke,{className:"border-2 border-emerald-200 bg-gradient-to-br from-emerald-50 to-green-50",children:[a.jsx(He,{className:"bg-gradient-to-r from-emerald-100 to-green-50 border-b border-emerald-200",children:a.jsx(Xe,{className:"text-emerald-800",children:"Send Reply"})}),a.jsxs(Me,{className:"space-y-3 pt-6",children:[a.jsx(ys,{placeholder:"Type your reply...",value:d,onChange:E=>f(E.target.value),rows:2,className:"text-sm border-emerald-200"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx($e,{type:"file",onChange:E=>{var A;return p(((A=E.target.files)==null?void 0:A[0])||null)},className:"text-sm border-emerald-200 flex-1",accept:"image/*,video/*,.pdf,.doc,.docx"}),h&&a.jsxs("span",{className:"text-xs text-emerald-600 self-center px-2 font-semibold",children:[" ",h.name]})]}),a.jsxs(ie,{onClick:()=>N.mutate(),disabled:!d.trim()||N.isPending,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white",children:[a.jsx(aa,{className:"w-4 h-4 mr-2"}),N.isPending?"Sending...":"Send Reply"]})]})]})]}),a.jsxs(ke,{className:"border-2 border-emerald-200 h-fit bg-gradient-to-br from-emerald-50 to-green-50",children:[a.jsx(He,{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white rounded-t-lg",children:a.jsx(Xe,{children:"User Information"})}),a.jsxs(Me,{className:"space-y-3 pt-6",children:[C.user&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border-l-4 border-emerald-500",children:[a.jsx($l,{className:"w-5 h-5 text-emerald-600"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs text-emerald-700",children:"Full Name"}),a.jsx("p",{className:"font-semibold text-sm truncate",children:C.user.fullName})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border-l-4 border-emerald-500",children:[a.jsx(Pl,{className:"w-5 h-5 text-emerald-600"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs text-emerald-700",children:"Email"}),a.jsx("p",{className:"font-semibold text-sm truncate",children:C.user.email})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border-l-4 border-emerald-500",children:[a.jsx(Ij,{className:"w-5 h-5 text-emerald-600"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs text-emerald-700",children:"Phone"}),a.jsx("p",{className:"font-semibold text-sm",children:C.user.phone})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border-l-4 border-emerald-500",children:[a.jsx(Fl,{className:"w-5 h-5 text-emerald-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs text-emerald-700",children:"Created"}),a.jsx("p",{className:"font-semibold text-sm",children:Qr(new Date(C.createdAt),"MMM d, yyyy")})]})]}),a.jsxs(lt,{className:"w-full justify-center py-2 mt-4 bg-emerald-600 hover:bg-emerald-700 text-white",children:["ID: ",C.id.substring(0,8)]})]})]})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent",children:"Support Tickets"}),a.jsxs("p",{className:"text-emerald-700 text-sm mt-1",children:[(v==null?void 0:v.total)||0," total tickets"]})]}),a.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>x(),disabled:w,className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",children:[a.jsx(aie,{className:`w-4 h-4 mr-2 ${w?"animate-spin":""}`}),"Refresh"]})]}),a.jsxs(ke,{className:"border-emerald-200",children:[a.jsx(He,{className:"bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-200",children:a.jsx(Xe,{className:"text-emerald-800",children:"All Tickets"})}),a.jsxs(Me,{className:"pt-6",children:[k.length===0?a.jsx("p",{className:"text-emerald-600 text-center py-8",children:"No tickets"}):a.jsx("div",{className:"space-y-3",children:k.map(E=>a.jsx("div",{className:"p-4 border border-emerald-200 rounded-lg hover:shadow-lg transition-all bg-gradient-to-r from-emerald-50 to-green-50 hover:from-emerald-100 hover:to-green-100 cursor-pointer",onClick:()=>O(E),children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"font-bold text-emerald-900",children:E.issueType}),a.jsx(lt,{className:"bg-emerald-600 text-white",children:E.status}),a.jsx(lt,{className:"bg-emerald-500 text-white",children:E.priority})]}),a.jsxs("p",{className:"text-sm text-emerald-800 mb-2",children:[E.description.substring(0,80),"..."]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-emerald-700",children:[E.user&&a.jsxs(a.Fragment,{children:[a.jsxs("span",{children:[" ",E.user.fullName]}),a.jsxs("span",{children:[" ",E.user.email]})]}),a.jsx("span",{children:Qr(new Date(E.createdAt),"MMM d")})]})]}),a.jsx(ie,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:"View"})]})},E.id))}),v&&v.totalPages>1&&a.jsxs("div",{className:"flex gap-2 mt-6",children:[a.jsx(ie,{size:"sm",disabled:e<=1,onClick:()=>t(E=>E-1),className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",variant:"outline",children:"Prev"}),a.jsxs("span",{className:"text-sm py-2 text-emerald-700 font-semibold",children:[e," / ",v.totalPages]}),a.jsx(ie,{size:"sm",disabled:e>=v.totalPages,onClick:()=>t(E=>E+1),className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",variant:"outline",children:"Next"})]})]})]})]})}function lBe({isOpen:e,onClose:t,templates:r}){const[n,i]=S.useState(""),[s,o]=S.useState(""),[l,c]=S.useState({}),[u,d]=S.useState({}),[f,h]=S.useState(!1),{toast:p}=Et(),{data:y}=Xt({queryKey:["/api/admin/users"],select:N=>N.users||[]}),{data:m,isLoading:v}=Xt({queryKey:["/api/admin/whatsapp/template-parameters",s],enabled:!!s,queryFn:async()=>{const N=await fetch(`/api/admin/whatsapp/template-parameters/${s}`);if(!N.ok)throw new Error("Failed to fetch template parameters");return N.json()}}),g=async()=>{if(!n||!s){p({title:"Validation Error",description:"Please select a user and template",variant:"destructive"});return}const N=(m==null?void 0:m.required)||[];if(N.length>0){const P=N.filter(k=>{var O;const C=(O=m==null?void 0:m.parameterMetadata)==null?void 0:O[k];return(C==null?void 0:C.type)==="media"?!u[k]:!l[k]||!l[k].trim()});if(P.length>0){p({title:"Missing Parameters",description:`Please provide values for: ${P.join(", ")}`,variant:"destructive"});return}}h(!0);try{const P=Object.keys(u).length>0;let k,C={};if(P){const E=new FormData;E.append("userId",n),E.append("templateName",s),E.append("parameters",JSON.stringify(l)),Object.entries(u).forEach(([A,D])=>{E.append(`media_${A}`,D)}),k=E}else k=JSON.stringify({userId:n,templateName:s,parameters:l}),C["Content-Type"]="application/json";const I=await(await fetch("/api/admin/whatsapp/send-template",{method:"POST",headers:C,body:k})).json();if(I.success)p({title:"Template Delivered",description:`Template "${s}" delivered to WhatsApp`}),i(""),o(""),c({}),d({}),t();else{const E=I.message||I.error||"Template delivery failed";p({title:"Delivery Failed",description:E,variant:"destructive"})}}catch(P){p({title:"Send Failed",description:P.message||"Failed to send template",variant:"destructive"})}finally{h(!1)}};if(!e)return null;const x=(m==null?void 0:m.required)||[],w=(m==null?void 0:m.paramCount)||0,j=(m==null?void 0:m.parameterMetadata)||{};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs(ke,{className:"w-full max-w-md max-h-96 overflow-y-auto",children:[a.jsxs(He,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsxs("div",{children:[a.jsx(Xe,{children:"Send Template to User"}),a.jsx(Ct,{children:"Send a WhatsApp template to a specific user"})]}),a.jsx(ie,{onClick:t,variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:a.jsx(Vc,{className:"w-4 h-4"})})]}),a.jsxs(Me,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"user",children:"Select User"}),a.jsxs(Hr,{value:n,onValueChange:i,children:[a.jsx($r,{children:a.jsx(Kr,{placeholder:"Choose a user"})}),a.jsx(Br,{className:"max-h-60",children:y==null?void 0:y.map(N=>a.jsxs(nt,{value:N.id,children:[N.fullName," (",N.phone,")"]},N.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"template",children:"Select Template"}),a.jsxs(Hr,{value:s,onValueChange:N=>{o(N),c({})},children:[a.jsx($r,{children:a.jsx(Kr,{placeholder:"Choose a template"})}),a.jsx(Br,{children:r.map((N,P)=>a.jsxs(nt,{value:N.name,children:[N.name," ",N.status&&`(${N.status})`]},P))})]})]}),s&&m&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 space-y-2",children:[a.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Template Information"}),a.jsxs("div",{className:"text-xs space-y-1 text-blue-800",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Language:"})," ",m.language]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," ",m.status]}),w>0&&a.jsxs("p",{children:[a.jsx("strong",{children:"Required Parameters:"})," ",w]})]})]}),s&&v&&a.jsx("div",{className:"text-sm text-gray-500",children:"Loading template requirements..."}),s&&m&&w>0&&a.jsxs("div",{className:"space-y-3 bg-amber-50 border border-amber-200 rounded-lg p-3",children:[a.jsxs("div",{className:"text-sm font-medium text-amber-900 flex items-center gap-2",children:[a.jsx(Ai,{className:"w-4 h-4"}),"This template requires ",w," parameter(s)"]}),x.map((N,P)=>{const k=j[N],C=(k==null?void 0:k.type)==="media",O=(k==null?void 0:k.mediaType)||"image";return a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ge,{htmlFor:N,className:"text-xs font-medium",children:C?a.jsxs(a.Fragment,{children:["Parameter ",P+1,": ",N," (Upload ",O,") *"]}):a.jsxs(a.Fragment,{children:["Parameter ",P+1,": ",N," *"]})}),C?a.jsxs("div",{className:"relative",children:[a.jsx($e,{id:N,type:"file",accept:O==="image"?"image/*":O==="video"?"video/*":"*/*",onChange:I=>{var A;const E=(A=I.target.files)==null?void 0:A[0];E&&d({...u,[N]:E})},className:"text-sm"}),u[N]&&a.jsxs("div",{className:"text-xs text-green-600 mt-1 flex items-center gap-1",children:[a.jsx(kw,{className:"w-3 h-3"}),u[N].name]})]}):a.jsx($e,{id:N,placeholder:`Enter ${N}`,value:l[N]||"",onChange:I=>c({...l,[N]:I.target.value}),required:!0,className:"text-sm"})]},N)})]}),s&&m&&w===0&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:a.jsx("p",{className:"text-sm text-green-800",children:" No parameters required for this template"})}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(ie,{onClick:t,variant:"outline",className:"flex-1",children:"Cancel"}),a.jsxs(ie,{onClick:g,disabled:f||!n||!s||v,className:"flex-1",children:[a.jsx(aa,{className:"w-4 h-4 mr-2"}),f?"Sending...":"Send"]})]})]})]})})}function OZ(){const[e,t]=S.useState([]),[r,n]=S.useState(!1),[i,s]=S.useState(null),[o,l]=S.useState(!1),[c,u]=S.useState(!1);S.useState(null);const{toast:d}=Et();S.useEffect(()=>{f()},[]);const f=async()=>{n(!0);try{const p=await qe("GET","/api/admin/whatsapp/templates");if(p.ok){const y=await p.json();t(y.templates||[]),d({title:"Templates Loaded",description:`Found ${y.count} template(s) in Meta Business Manager`})}else throw new Error("Failed to fetch templates")}catch{d({title:"Load Failed",description:"Could not fetch templates from Meta. Check your credentials.",variant:"destructive"}),t([])}finally{n(!1)}},h=p=>{const m={APPROVED:{variant:"default",label:" Approved"},PENDING_REVIEW:{variant:"secondary",label:" Pending"},REJECTED:{variant:"destructive",label:" Rejected"},DISABLED:{variant:"outline",label:"Disabled"},PAUSED:{variant:"outline",label:"Paused"}}[p]||{variant:"outline",label:p};return a.jsx(lt,{variant:m.variant,children:m.label})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ke,{children:[a.jsx(He,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(ls,{className:"w-5 h-5"}),"WhatsApp Template Manager"]}),a.jsx(Ct,{children:"View and manage your WhatsApp templates from Meta Business Manager"})]}),a.jsxs(ie,{onClick:f,disabled:r,variant:"outline",children:[a.jsx(Aw,{className:`w-4 h-4 mr-2 ${r?"animate-spin":""}`}),r?"Loading...":"Refresh Templates"]})]})}),a.jsx(Me,{children:e.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-gray-500 mb-4",children:"No templates found"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Create templates first or load from Meta"})]}):a.jsx("div",{className:"space-y-4",children:e.map((p,y)=>a.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:p.name}),h(p.status)]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Language:"})," ",p.language||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Category:"})," ",p.category||"N/A"]})]})]}),a.jsxs(ie,{onClick:()=>{s(p),l(!0)},variant:"ghost",size:"sm",children:[a.jsx(qo,{className:"w-4 h-4 mr-2"}),"View"]})]})},y))})})]}),a.jsxs(ie,{onClick:()=>u(!0),className:"w-full bg-green-600 hover:bg-green-700",size:"lg",children:[a.jsx(aa,{className:"w-4 h-4 mr-2"}),"Send Template to User"]}),o&&i&&a.jsxs(ke,{className:"border-blue-200 bg-blue-50",children:[a.jsx(He,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Xe,{className:"text-lg",children:i.name}),a.jsx(ie,{onClick:()=>l(!1),variant:"ghost",size:"sm",children:""})]})}),a.jsxs(Me,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-700",children:"Status"}),a.jsx("p",{className:"text-gray-600 mt-1",children:i.status})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-700",children:"Language"}),a.jsx("p",{className:"text-gray-600 mt-1",children:i.language||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-700",children:"Category"}),a.jsx("p",{className:"text-gray-600 mt-1",children:i.category||"N/A"})]})]}),i.components&&i.components.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"Components"}),a.jsx("div",{className:"space-y-2 bg-white p-3 rounded border",children:i.components.map((p,y)=>a.jsxs("div",{className:"text-sm",children:[a.jsxs("p",{className:"font-medium text-gray-900 capitalize",children:[p.type,":"]}),a.jsx("p",{className:"text-gray-600 ml-2",children:p.text||JSON.stringify(p)})]},y))})]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"Note:"})," To edit this template, go to Meta Business Manager. Changes sync when you refresh."]})})]})]}),a.jsx(lBe,{isOpen:c,onClose:()=>u(!1),templates:e})]})}function cBe(){var D,R,G,F,q;const[e,t]=S.useState("settings"),[r,n]=S.useState({apiKey:"",accountEmail:"",senderId:"",whatsappAccessToken:"",whatsappPhoneNumberId:"",whatsappBusinessAccountId:""}),[i,s]=S.useState({enableOtpMessages:!0,enablePasswordResetMessages:!0,enableFundReceiptMessages:!0,enableKycVerifiedMessages:!0,enableCardActivationMessages:!0,enableLoginAlertMessages:!0}),[o,l]=S.useState(!1),[c,u]=S.useState(!0),[d,f]=S.useState(""),[h,p]=S.useState(""),[y,m]=S.useState(!1),[v,g]=S.useState(!1),{toast:x}=Et(),{data:w}=Xt({queryKey:["/api/admin/users"],select:B=>B.users||[]});S.useEffect(()=>{j()},[]);const j=async()=>{u(!0);try{const[B,Z]=await Promise.all([qe("GET","/api/admin/messaging-settings"),qe("GET","/api/admin/message-toggles")]);if(B.ok){const le=await B.json();n(le)}if(Z.ok){const le=await Z.json();s(le)}}catch(B){console.error("Error loading settings:",B),x({title:"Loading Failed",description:"Failed to load settings. Using default values.",variant:"destructive"})}finally{u(!1)}},N=async()=>{l(!0);try{if((await qe("PUT","/api/admin/message-toggles",i)).ok)x({title:"Toggles Updated",description:"Message types have been updated successfully."});else throw new Error("Failed to update toggles")}catch{x({title:"Update Failed",description:"Failed to update message toggles. Please try again.",variant:"destructive"}),await j()}finally{l(!1)}},P=async()=>{g(!0);try{const B=await qe("POST","/api/admin/whatsapp/create-templates");if(B.ok){const Z=await B.json();x({title:"Templates Created",description:`Successfully created ${Z.successCount} template(s). ${Z.failedCount>0?`Failed: ${Z.failedCount}`:"All templates ready!"}`})}else{const Z=await B.json();throw new Error(Z.message||"Failed to create templates")}}catch(B){x({title:"Template Creation Failed",description:B.message||"Failed to create WhatsApp templates. Please try again.",variant:"destructive"})}finally{g(!1)}},k=async()=>{l(!0);try{if((await qe("PUT","/api/admin/messaging-settings",r)).ok)await j(),x({title:"Settings Updated",description:"Messaging configuration has been saved successfully."});else throw new Error("Failed to update settings")}catch{x({title:"Update Failed",description:"Failed to update messaging settings. Please try again.",variant:"destructive"})}finally{l(!1)}},C=async()=>{if(!d||!h.trim()){x({title:"Validation Error",description:"Please select a user and enter a message.",variant:"destructive"});return}m(!0);try{const B=await qe("POST","/api/admin/send-message",{userId:d,message:h});if(B.ok){const Z=await B.json(),le=[];Z.sms&&le.push("SMS"),Z.whatsapp&&le.push("WhatsApp"),x({title:"Message Sent",description:le.length>0?`Message sent via ${le.join(" and ")}`:"Message delivery status unknown"}),p(""),f("")}else{const Z=await B.json();throw new Error(Z.message||"Failed to send message")}}catch(B){x({title:"Send Failed",description:B.message||"Failed to send message. Please try again.",variant:"destructive"})}finally{m(!1)}},O=()=>160-("[Greenpay] ".length+h.length),I=!!((D=r.apiKey)!=null&&D.trim()&&((R=r.accountEmail)!=null&&R.trim())&&((G=r.senderId)!=null&&G.trim())),E=!!((F=r.whatsappAccessToken)!=null&&F.trim()&&((q=r.whatsappPhoneNumberId)!=null&&q.trim())),A=I||E;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Messaging Settings"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Configure SMS and WhatsApp messaging channels"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(lt,{variant:I?"default":"outline",className:"flex items-center gap-2",children:[a.jsx(ls,{className:"w-4 h-4"}),"SMS: ",I?" Configured":"Not Set"]}),a.jsxs(lt,{variant:E?"default":"outline",className:"flex items-center gap-2",children:[a.jsx(ls,{className:"w-4 h-4"}),"WhatsApp: ",E?" Configured":"Not Set"]}),A&&a.jsxs(lt,{variant:"secondary",className:"flex items-center gap-2",children:[a.jsx(Rr,{className:"w-4 h-4"}),"Messaging Ready"]})]})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("div",{className:"flex gap-8",children:[a.jsx("button",{onClick:()=>t("settings"),className:`pb-4 px-1 text-sm font-medium transition border-b-2 ${e==="settings"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Configuration"}),a.jsx("button",{onClick:()=>t("templates"),className:`pb-4 px-1 text-sm font-medium transition border-b-2 ${e==="templates"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Templates Manager"})]})}),e==="settings"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Al,{className:"w-5 h-5"}),"SMS Configuration"]}),a.jsx(Ct,{children:"Configure SMS delivery via TalkNTalk API"})]}),a.jsx(Me,{className:"space-y-4",children:c?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin mr-3"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading settings..."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"apiKey",children:"API Key (X-API-Key)"}),a.jsx($e,{id:"apiKey",type:"password",value:r.apiKey,onChange:B=>n({...r,apiKey:B.target.value}),placeholder:"Enter your TalkNTalk API key"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Your TalkNTalk API key for SMS authentication"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"accountEmail",children:"Account Email (X-Account-Email)"}),a.jsx($e,{id:"accountEmail",type:"email",value:r.accountEmail,onChange:B=>n({...r,accountEmail:B.target.value}),placeholder:"support@greenpay.world"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Your TalkNTalk account email address"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"senderId",children:"Sender ID"}),a.jsx($e,{id:"senderId",value:r.senderId,onChange:B=>n({...r,senderId:B.target.value}),placeholder:"Greenpay"}),a.jsx("p",{className:"text-sm text-gray-500",children:"SMS sender ID (alphanumeric, max 11 characters)"})]})]})})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Al,{className:"w-5 h-5"}),"WhatsApp Configuration"]}),a.jsx(Ct,{children:"Configure WhatsApp delivery via Meta Business API"})]}),a.jsx(Me,{className:"space-y-4",children:c?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin mr-3"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading settings..."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"whatsappAccessToken",children:"Access Token"}),a.jsx($e,{id:"whatsappAccessToken",type:"password",value:r.whatsappAccessToken,onChange:B=>n({...r,whatsappAccessToken:B.target.value}),placeholder:"Enter your Meta access token"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Your Meta WhatsApp Business API access token"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"whatsappPhoneNumberId",children:"Phone Number ID"}),a.jsx($e,{id:"whatsappPhoneNumberId",value:r.whatsappPhoneNumberId,onChange:B=>n({...r,whatsappPhoneNumberId:B.target.value}),placeholder:"1234567890"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Your WhatsApp Business phone number ID from Meta"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"whatsappBusinessAccountId",children:"Business Account ID (WABA ID)"}),a.jsx($e,{id:"whatsappBusinessAccountId",value:r.whatsappBusinessAccountId,onChange:B=>n({...r,whatsappBusinessAccountId:B.target.value}),placeholder:"526034077251940"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Your WhatsApp Business Account ID from Meta (required for creating templates)"})]}),a.jsxs(Ec,{children:[a.jsx(Ai,{className:"h-4 w-4"}),a.jsx(Oc,{className:"text-xs",children:"Set up Meta Business account at developers.facebook.com and create WhatsApp Business app"})]})]})})]})]}),a.jsxs(ie,{onClick:k,disabled:o,className:"w-full",size:"lg",children:[a.jsx(Vs,{className:"w-4 h-4 mr-2"}),o?"Saving...":"Save All Settings"]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(aa,{className:"w-5 h-5"}),"Send Test Message"]}),a.jsx(Ct,{children:"Send a test message to any user via all configured channels"})]}),a.jsxs(Me,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"user",children:"Select User"}),a.jsxs(Hr,{value:d,onValueChange:f,children:[a.jsx($r,{children:a.jsx(Kr,{placeholder:"Choose a user"})}),a.jsx(Br,{children:w==null?void 0:w.map(B=>a.jsxs(nt,{value:B.id,children:[B.fullName," (",B.phone,")"]},B.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"message",children:"Message"}),a.jsx(ys,{id:"message",value:h,onChange:B=>p(B.target.value),placeholder:"Enter your message (without [Greenpay] prefix)",rows:4,maxLength:149}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("p",{className:"text-gray-500",children:'Message will be prefixed with "[Greenpay]"'}),a.jsxs("p",{className:`${O()<0?"text-red-500":"text-gray-500"}`,children:[O()," chars remaining"]})]})]}),a.jsxs(ie,{onClick:C,disabled:y||!d||!h.trim()||O()<0,className:"w-full",children:[a.jsx(aa,{className:"w-4 h-4 mr-2"}),y?"Sending...":`Send Test Message${I&&E?" (SMS + WhatsApp)":I?" (SMS Only)":E?" (WhatsApp Only)":""}`]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-blue-800 flex items-start gap-2",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{children:'Messages are sent via all configured channels. All messages are automatically prefixed with "[Greenpay]".'})]})})]})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Al,{className:"w-5 h-5"}),"Message Type Controls"]}),a.jsx(Ct,{children:"Enable or disable specific message types sent to users"})]}),a.jsx(Me,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"enableOtpMessages",label:"OTP Verification",desc:"Login/signup verification codes"},{key:"enablePasswordResetMessages",label:"Password Reset",desc:"Password reset codes"},{key:"enableFundReceiptMessages",label:"Fund Receipt",desc:"Money received notifications"},{key:"enableKycVerifiedMessages",label:"KYC Verified",desc:"Account verification complete"},{key:"enableCardActivationMessages",label:"Card Activation",desc:"Virtual card activated"},{key:"enableLoginAlertMessages",label:"Login Alert",desc:"New login notifications with location/IP"}].map(B=>a.jsxs("div",{className:"flex items-start justify-between p-3 border rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:B.label}),a.jsx("p",{className:"text-sm text-gray-600",children:B.desc})]}),a.jsx("button",{onClick:()=>s(Z=>({...Z,[B.key]:!Z[B.key]})),className:`ml-4 px-3 py-1 rounded-full text-sm font-medium transition ${i[B.key]?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:i[B.key]?"ON":"OFF"})]},B.key))}),a.jsxs(ie,{onClick:N,disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700",children:[a.jsx(Vs,{className:"w-4 h-4 mr-2"}),o?"Saving...":"Save Message Toggles"]})]})})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(ls,{className:"w-5 h-5"}),"WhatsApp Message Templates"]}),a.jsx(Ct,{children:"Create pre-approved message templates in Meta Business Manager"})]}),a.jsx(Me,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Click the button below to automatically create all required WhatsApp message templates in your Meta Business Account. Templates must be approved by Meta before they can be used."}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-yellow-800 flex items-start gap-2",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{children:"Templates will be created in pending status. You must approve them in Meta Business Manager before users can receive messages."})]})}),a.jsxs(ie,{onClick:P,disabled:v,className:"w-full bg-green-600 hover:bg-green-700",children:[a.jsx(ls,{className:"w-4 h-4 mr-2"}),v?"Creating Templates...":"Create All WhatsApp Templates"]})]})})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Rr,{className:"w-5 h-5"}),"Automatic Notifications"]}),a.jsx(Ct,{children:"Messages are automatically sent for the following events (when enabled above)"})]}),a.jsx(Me,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"User Actions:"}),a.jsxs("ul",{className:"space-y-1 text-gray-600",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"OTP Verification:"})," Login/signup verification code"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Fund Receipt:"})," Money received notification"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Login Alert:"})," Location and IP on new login"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Password Reset:"})," Password reset code"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Admin Actions:"}),a.jsxs("ul",{className:"space-y-1 text-gray-600",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"KYC Verified:"})," Account verification complete"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Card Activation:"})," Virtual card activated"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Transactions:"})," Withdrawal & transfer updates"]})]})]})]})})]}),a.jsxs(ke,{children:[a.jsx(He,{children:a.jsx(Xe,{children:"Setup Guide"})}),a.jsx(Me,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"SMS (TalkNTalk):"}),a.jsxs("ol",{className:"space-y-1 text-gray-600 list-decimal list-inside",children:[a.jsx("li",{children:"Sign up at talkntalk.africa"}),a.jsx("li",{children:"Get your API key and account email"}),a.jsx("li",{children:"Create a sender ID"}),a.jsx("li",{children:"Fill SMS settings above"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"WhatsApp (Meta):"}),a.jsxs("ol",{className:"space-y-1 text-gray-600 list-decimal list-inside",children:[a.jsx("li",{children:"Create Meta Business account"}),a.jsx("li",{children:"Create WhatsApp Business app"}),a.jsx("li",{children:"Get Phone Number ID & Access Token"}),a.jsx("li",{children:"Fill WhatsApp settings above"})]})]})]})})]})]}),e==="templates"&&a.jsx(OZ,{})]})}function uBe(){const{toast:e}=Et(),[t,r]=S.useState(""),[n,i]=S.useState(!1),[s,o]=S.useState(!1),[l,c]=S.useState(""),[u,d]=S.useState(!1),[f,h]=S.useState(!1),[p,y]=S.useState(""),[m,v]=S.useState(""),[g,x]=S.useState({}),[w,j]=S.useState(!1),[N,P]=S.useState(null),[k,C]=S.useState([]),[O,I]=S.useState(!1),[E,A]=S.useState(""),[D,R]=S.useState({}),[G,F]=S.useState(!1),[q,B]=S.useState(""),[Z,le]=S.useState("");S.useEffect(()=>{fe(),$()},[]);const fe=async()=>{try{const Ne=await qe("GET","/api/admin/mailtrap-settings");if(Ne.ok){const xe=await Ne.json();i(xe.isConfigured)}}catch(Ne){console.error("Error loading Mailtrap settings:",Ne),e({title:"Error",description:"Failed to load Mailtrap settings",variant:"destructive"})}},$=async()=>{I(!0);try{const Ne=await qe("GET","/api/admin/users-list");if(Ne.ok){const xe=await Ne.json();C(xe)}}catch(Ne){console.error("Error loading users:",Ne)}finally{I(!1)}},Y=async()=>{if(!t.trim()){e({title:"Validation Error",description:"API key is required",variant:"destructive"});return}d(!0);try{if((await qe("POST","/api/admin/mailtrap-settings",{apiKey:t.trim()})).ok)e({title:"Success",description:"Mailtrap API key saved successfully"}),i(!0),r(""),o(!1),await fe();else throw new Error("Failed to save settings")}catch{e({title:"Save Failed",description:"Failed to save Mailtrap settings",variant:"destructive"})}finally{d(!1)}},J=()=>{o(!0),r("")},ae=()=>{o(!1),r("")},de=async()=>{if(!l.trim()){e({title:"Validation Error",description:"Test email address is required",variant:"destructive"});return}h(!0);try{if((await qe("POST","/api/admin/mailtrap-test",{email:l.trim()})).ok)e({title:"Success",description:"Test email sent successfully"}),c("");else throw new Error("Failed to send test email")}catch{e({title:"Test Failed",description:"Failed to send test email",variant:"destructive"})}finally{h(!1)}},ce=()=>{if(!q.trim()){e({title:"Validation Error",description:"Parameter key is required",variant:"destructive"});return}x({...g,[q]:Z}),B(""),le("")},be=Ne=>{const xe={...g};delete xe[Ne],x(xe)},oe=async()=>{if(!p.trim()||!m.trim()){e({title:"Validation Error",description:"Template UUID and email are required",variant:"destructive"});return}j(!0);try{if((await qe("POST","/api/admin/send-template-test",{email:m.trim(),templateUuid:p.trim(),parameters:g})).ok)e({title:"Success",description:"Template email sent successfully"}),y(""),v(""),x({});else throw new Error("Failed to send template")}catch{e({title:"Send Failed",description:"Failed to send template email",variant:"destructive"})}finally{j(!1)}},ye=()=>{if(!q.trim()){e({title:"Validation Error",description:"Parameter key is required",variant:"destructive"});return}R({...D,[q]:Z}),B(""),le("")},je=Ne=>{const xe={...D};delete xe[Ne],R(xe)},pe=async()=>{if(!(N!=null&&N.id)||!E.trim()){e({title:"Validation Error",description:"Please select a user and provide a template UUID",variant:"destructive"});return}F(!0);try{if((await qe("POST","/api/admin/send-template-to-user",{userId:N.id,templateUuid:E.trim(),parameters:D})).ok)e({title:"Success",description:"Template email sent to user successfully"}),P(null),A(""),R({});else throw new Error("Failed to send to user")}catch{e({title:"Send Failed",description:"Failed to send template to user",variant:"destructive"})}finally{F(!1)}};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Mail Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage Mailtrap templates and send transactional emails to users"})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Pl,{className:"w-5 h-5"}),"Mailtrap Email Service"]}),a.jsx(Ct,{children:"Configure Mailtrap for sending transactional emails"})]}),a.jsxs(Me,{className:"space-y-6",children:[n?a.jsxs(Ec,{className:"border-green-200 bg-green-50",children:[a.jsx(Rr,{className:"h-4 w-4 text-green-600"}),a.jsx(Oc,{className:"text-green-800",children:"Mailtrap is configured and ready to use"})]}):a.jsxs(Ec,{className:"border-yellow-200 bg-yellow-50",children:[a.jsx(Ai,{className:"h-4 w-4 text-yellow-600"}),a.jsx(Oc,{className:"text-yellow-800",children:"Mailtrap is not configured. Add your API key below."})]}),!s&&n?a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"API Key Configured"}),a.jsx("p",{className:"text-sm text-gray-600",children:""})]}),a.jsx(ie,{onClick:J,variant:"outline",className:"ml-4",children:"Edit Key"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"api-key",children:"Mailtrap API Key"}),a.jsx($e,{id:"api-key",type:"password",placeholder:"Enter your Mailtrap API token",value:t,onChange:Ne=>r(Ne.target.value)}),a.jsx("p",{className:"text-sm text-gray-500",children:"Get your API key from your Mailtrap account settings"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ie,{onClick:Y,disabled:u,className:"flex-1 bg-green-600 hover:bg-green-700",children:[a.jsx(Vs,{className:"w-4 h-4 mr-2"}),u?"Saving...":"Save API Key"]}),s&&a.jsx(ie,{onClick:ae,variant:"outline",disabled:u,children:"Cancel"})]})]}),n&&a.jsxs("div",{className:"space-y-4 p-4 border-t",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"test-email",children:"Send Quick Test Email"}),a.jsx($e,{id:"test-email",type:"email",placeholder:"your@email.com",value:l,onChange:Ne=>c(Ne.target.value)})]}),a.jsx(ie,{onClick:de,disabled:f,className:"w-full",variant:"outline",children:f?"Sending...":"Send Quick Test"})]})]})]}),n&&a.jsxs(a.Fragment,{children:[a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Pl,{className:"w-5 h-5"}),"Test Mailtrap Template"]}),a.jsx(Ct,{children:"Send a Mailtrap template by UUID to test it"})]}),a.jsxs(Me,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"test-uuid",children:"Template UUID *"}),a.jsx($e,{id:"test-uuid",placeholder:"e.g., 64254a5b-a2ba-4b7d-aa41-5a0907c836db",value:p,onChange:Ne=>y(Ne.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"test-email-addr",children:"Email Address *"}),a.jsx($e,{id:"test-email-addr",type:"email",placeholder:"recipient@example.com",value:m,onChange:Ne=>v(Ne.target.value)})]})]}),a.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg border",children:[a.jsx("h3",{className:"font-semibold text-sm",children:"Template Parameters"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[a.jsx($e,{placeholder:"Parameter key (e.g., first_name)",value:q,onChange:Ne=>B(Ne.target.value)}),a.jsx($e,{placeholder:"Parameter value",value:Z,onChange:Ne=>le(Ne.target.value)}),a.jsxs(ie,{onClick:ce,variant:"outline",className:"w-full",children:[a.jsx(gA,{className:"w-4 h-4 mr-2"}),"Add"]})]}),Object.keys(g).length>0&&a.jsx("div",{className:"space-y-2",children:Object.entries(g).map(([Ne,xe])=>a.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[a.jsxs("span",{className:"text-sm",children:[a.jsxs("span",{className:"font-semibold",children:[Ne,":"]})," ",xe]}),a.jsx(ie,{onClick:()=>be(Ne),variant:"ghost",size:"sm",children:a.jsx(zc,{className:"w-4 h-4 text-red-500"})})]},Ne))})]}),a.jsx(ie,{onClick:oe,disabled:w,className:"w-full bg-blue-600 hover:bg-blue-700",children:w?a.jsxs(a.Fragment,{children:[a.jsx(od,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(aa,{className:"w-4 h-4 mr-2"}),"Send Template"]})})]})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Pl,{className:"w-5 h-5"}),"Send Email Template to User"]}),a.jsx(Ct,{children:"Send a Mailtrap template to a specific user via email"})]}),a.jsxs(Me,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"user-select",children:"Select User *"}),O?a.jsx("div",{className:"p-3 bg-gray-50 rounded border text-sm text-gray-600",children:"Loading users..."}):a.jsxs("select",{id:"user-select",value:(N==null?void 0:N.id)||"",onChange:Ne=>{const xe=k.find(V=>V.id===Ne.target.value);P(xe||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:[a.jsx("option",{value:"",children:"-- Select a user --"}),k.map(Ne=>a.jsxs("option",{value:Ne.id,children:[Ne.name||"Unknown"," (",Ne.email||Ne.phone||"No contact",")"]},Ne.id))]})]}),N&&a.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded",children:a.jsxs("p",{className:"text-sm text-blue-900",children:[a.jsx("span",{className:"font-semibold",children:"Selected:"})," ",N.name||"Unknown"," (",N.email,")"]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ge,{htmlFor:"template-uuid",children:"Template UUID *"}),a.jsx($e,{id:"template-uuid",placeholder:"e.g., 64254a5b-a2ba-4b7d-aa41-5a0907c836db",value:E,onChange:Ne=>A(Ne.target.value)})]}),a.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg border",children:[a.jsx("h3",{className:"font-semibold text-sm",children:"Template Parameters"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[a.jsx($e,{placeholder:"Parameter key (e.g., otp)",value:q,onChange:Ne=>B(Ne.target.value)}),a.jsx($e,{placeholder:"Parameter value",value:Z,onChange:Ne=>le(Ne.target.value)}),a.jsxs(ie,{onClick:ye,variant:"outline",className:"w-full",children:[a.jsx(gA,{className:"w-4 h-4 mr-2"}),"Add"]})]}),Object.keys(D).length>0&&a.jsx("div",{className:"space-y-2",children:Object.entries(D).map(([Ne,xe])=>a.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[a.jsxs("span",{className:"text-sm",children:[a.jsxs("span",{className:"font-semibold",children:[Ne,":"]})," ",xe]}),a.jsx(ie,{onClick:()=>je(Ne),variant:"ghost",size:"sm",children:a.jsx(zc,{className:"w-4 h-4 text-red-500"})})]},Ne))})]}),a.jsx(ie,{onClick:pe,disabled:G||!N,className:"w-full bg-green-600 hover:bg-green-700",children:G?a.jsxs(a.Fragment,{children:[a.jsx(od,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(aa,{className:"w-4 h-4 mr-2"}),"Send Email"]})})]})]})]})]})}function dBe(){const[,e]=Jt(),[t,r]=S.useState(null),[n,i]=S.useState(""),[s,o]=S.useState(!1),l=S.useRef(null),{toast:c}=Et(),u=Jr(),{data:d}=Xt({queryKey:["/api/admin/messaging-settings"],queryFn:async()=>(await qe("GET","/api/admin/messaging-settings")).json()});S.useEffect(()=>{d!=null&&d.whatsappAccessToken&&(d!=null&&d.whatsappPhoneNumberId)?o(!0):o(!1)},[d]);const{data:f=[]}=Xt({queryKey:["/api/admin/whatsapp/conversations"],queryFn:async()=>(await qe("GET","/api/admin/whatsapp/conversations")).json(),refetchInterval:3e3}),{data:h=[]}=Xt({queryKey:["/api/admin/whatsapp/messages",t],queryFn:async()=>t?(await qe("GET",`/api/admin/whatsapp/messages/${t}`)).json():[],enabled:!!t,refetchInterval:2e3}),p=f.find(P=>P.id===t),[y,m]=S.useState(null),[v,g]=S.useState(new Set),x=S.useRef(null),w=()=>{p&&t&&qe("POST","/api/admin/whatsapp/typing",{phoneNumber:p.phoneNumber}).catch(P=>console.error("Failed to send typing indicator:",P))};S.useEffect(()=>(n.trim()&&p&&(x.current&&clearTimeout(x.current),w(),x.current=setTimeout(()=>{x.current=null},3e3)),()=>{x.current&&clearTimeout(x.current)}),[n,p]);const j=kt({mutationFn:async P=>(await qe("POST","/api/admin/whatsapp/send",P)).json(),onSuccess:()=>{i(""),m(null),u.invalidateQueries({queryKey:["/api/admin/whatsapp/messages",t]}),c({title:"Message sent",description:"WhatsApp message sent successfully"})},onError:P=>{c({title:"Error",description:(P==null?void 0:P.message)||"Failed to send message",variant:"destructive"})}}),N=async()=>{if(!t||!n.trim())return;const P=f.find(O=>O.id===t);if(!P)return;let k,C;if(y){const O=new FormData;O.append("file",y);try{const I=await fetch("/api/upload",{method:"POST",credentials:"include",body:O});if(!I.ok)throw new Error(`Upload failed: ${I.status}`);const E=await I.json();k=E.fileUrl||E.url,C=y.type.startsWith("image/")?"image":y.type.startsWith("video/")?"video":"file",console.log("[WhatsApp] Media uploaded:",{mediaUrl:k,mediaType:C})}catch(I){console.error("[WhatsApp] Media upload error:",I),c({title:"Error",description:I.message||"Failed to upload media file",variant:"destructive"});return}}j.mutate({conversationId:t,phoneNumber:P.phoneNumber,message:n.trim(),mediaUrl:k,mediaType:C})};return S.useEffect(()=>{var P;(P=l.current)==null||P.scrollIntoView({behavior:"smooth"})},[h]),s?a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-3 gap-4 h-[600px]",children:[a.jsxs(ke,{className:"col-span-1",children:[a.jsx(He,{className:"pb-3",children:a.jsxs(Xe,{className:"flex items-center gap-2 text-lg",children:[a.jsx(cv,{className:"w-4 h-4"}),"Conversations"]})}),a.jsx(Me,{className:"p-0",children:a.jsx(ja,{className:"h-[530px]",children:f.length===0?a.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No conversations yet"}):a.jsx("div",{className:"space-y-1 p-2",children:f.map(P=>a.jsx("button",{onClick:()=>r(P.id),className:`w-full text-left p-3 rounded-lg transition-colors ${t===P.id?"bg-green-100 border-l-4 border-green-500":"hover:bg-gray-100"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:P.displayName||P.phoneNumber}),a.jsx("p",{className:"text-xs text-gray-500",children:P.phoneNumber})]}),a.jsx(lt,{variant:"outline",className:"text-xs",children:P.status})]})},P.id))})})})]}),a.jsx(ke,{className:"col-span-2",children:p?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"pb-3 border-b",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Ij,{className:"w-4 h-4"}),p.displayName||p.phoneNumber]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:p.phoneNumber})]})})}),a.jsxs(Me,{className:"flex flex-col h-[540px] p-0",children:[a.jsx(ja,{className:"flex-1 p-4",children:a.jsx("div",{className:"space-y-3",children:h.length===0?a.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No messages yet"}):a.jsxs(a.Fragment,{children:[[...h].reverse().map(P=>{var C;const k=P.messageType&&P.messageType!=="text"&&P.fileUrl;return a.jsx("div",{className:`flex ${P.isFromAdmin?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg space-y-2 ${P.isFromAdmin?"bg-green-500 text-white":"bg-gray-200 text-gray-900"}`,children:[P.content&&a.jsx("p",{className:"text-sm",children:P.content}),k&&a.jsxs(a.Fragment,{children:[P.messageType==="image"&&a.jsx("img",{src:P.fileUrl,alt:P.fileName||"Message media",className:"max-w-full h-auto rounded cursor-pointer hover:opacity-80 max-h-64",onClick:()=>window.open(P.fileUrl,"_blank")}),P.messageType==="video"&&a.jsx("video",{controls:!0,className:"max-w-full h-auto rounded",style:{maxHeight:"200px"},children:a.jsx("source",{src:P.fileUrl,type:"video/mp4"})}),(P.messageType==="file"||P.messageType==="document")&&a.jsx("a",{href:P.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"block text-xs underline break-all hover:opacity-80",children:(C=P.fileName)!=null&&C.endsWith(".pdf")?" PDF Document":" "+(P.fileName||"Download File")})]}),a.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs opacity-70",children:[a.jsx(Vo,{className:"w-3 h-3"}),Qr(new Date(P.createdAt),"HH:mm"),P.isFromAdmin&&P.status==="sent"&&a.jsx(ZC,{className:"w-3 h-3"})]})]})},P.id)}),v.has((p==null?void 0:p.phoneNumber)||"")&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"bg-gray-200 text-gray-900 px-4 py-2 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-xs",children:"typing"}),a.jsxs("div",{className:"flex gap-0.5",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),a.jsx("div",{className:"w-1.5 h-1.5 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),a.jsx("div",{className:"w-1.5 h-1.5 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})}),a.jsx("div",{ref:l})]})})}),a.jsxs("div",{className:"border-t p-4 space-y-2",children:[y&&a.jsxs("div",{className:"text-xs bg-blue-50 p-2 rounded flex justify-between items-center",children:[a.jsxs("span",{children:[" ",y.name]}),a.jsx("button",{onClick:()=>m(null),className:"text-red-600 hover:text-red-800",children:""})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx($e,{placeholder:"Type a message...",value:n,onChange:P=>i(P.target.value),onKeyPress:P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),N())},disabled:j.isPending}),a.jsx("input",{type:"file",id:"media-upload",className:"hidden",onChange:P=>{var k;(k=P.target.files)!=null&&k[0]&&m(P.target.files[0])},accept:"image/*,video/*,application/pdf,.doc,.docx,.txt"}),a.jsx(ie,{variant:"outline",size:"sm",onClick:()=>{var P;return(P=document.getElementById("media-upload"))==null?void 0:P.click()},disabled:j.isPending,children:""}),a.jsx(ie,{onClick:N,disabled:j.isPending||!n.trim(),size:"sm",children:a.jsx(aa,{className:"w-4 h-4"})})]})]})]})]}):a.jsx("div",{className:"h-[540px] flex items-center justify-center text-muted-foreground",children:"Select a conversation to start messaging"})})]})}):a.jsx("div",{className:"space-y-4",children:a.jsx(ke,{className:"border-yellow-200 bg-yellow-50",children:a.jsx(Me,{className:"pt-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-lg",children:""}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-yellow-900",children:"WhatsApp Not Configured"}),a.jsx("p",{className:"text-sm text-yellow-800 mt-1",children:"Please configure your WhatsApp Business credentials in the Messaging Settings to start messaging users."}),a.jsx(ie,{size:"sm",className:"mt-3",onClick:()=>e("/admin/mail-management?tab=messaging-settings"),children:"Go to Messaging Settings"})]})]})})})})}function fBe(){const[e,t]=S.useState([]),[r,n]=S.useState(!1),[i,s]=S.useState(!1),[o,l]=S.useState(!1),[c,u]=S.useState(null),[d,f]=S.useState(null),[h,p]=S.useState(null),[y,m]=S.useState(null),[v,g]=S.useState(!1),[x,w]=S.useState({valid:!1,message:""});S.useEffect(()=>{j()},[]);const j=async()=>{l(!0);try{const D=await(await fetch("/api/admin/database/check")).json();u(D)}catch(A){u({connected:!1,message:A instanceof Error?A.message:"Connection check failed"})}finally{l(!1)}},N=async()=>{if(!(c!=null&&c.connected)){f({type:"error",text:"Database connection failed. Please check your connection."});return}n(!0),f(null);try{const A=await fetch("/api/admin/database/backup",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(!A.ok){const R=await A.json();throw new Error(R.error||"Export failed")}const D=await A.json();if(D.success){f({type:"success",text:"Database exported successfully!"});const R=document.createElement("a");R.href=`/api/admin/database/backup/${D.backup.id}/download`,R.download=D.backup.filename,document.body.appendChild(R),R.click(),document.body.removeChild(R)}}catch(A){f({type:"error",text:`Failed to export database: ${A instanceof Error?A.message:"Unknown error"}`})}finally{n(!1)}},P=async A=>{if(A.size>104857600)return{valid:!1,message:`File is too large. Maximum size is ${I(104857600)}`};const R=[".json",".sql",".gz",".gzip"],G=A.name.toLowerCase();if(!R.some(q=>G.endsWith(q)))return{valid:!1,message:`Invalid file type. Allowed types: ${R.join(", ")}`};if(G.endsWith(".json"))try{const q=await A.text(),B=JSON.parse(q);if(!B.tables&&!B.backup)return{valid:!1,message:"JSON file does not appear to be a valid database backup"}}catch{return{valid:!1,message:"Invalid JSON format in backup file"}}return{valid:!0,message:"File validated successfully"}},k=async A=>{try{const D=await A.text();let R="";if(A.name.toLowerCase().endsWith(".json"))try{const G=JSON.parse(D);R=JSON.stringify(G,null,2).substring(0,1e3)}catch{R=D.substring(0,1e3)}else R=D.substring(0,1e3);R+=D.length>1e3?`

...[truncated - full file will be restored]`:"",m(R),g(!0)}catch{f({type:"error",text:"Failed to read file preview"})}},C=async A=>{if(p(A),m(null),g(!1),!A){w({valid:!1,message:""});return}const D=await P(A);w(D),D.valid&&await k(A)},O=async()=>{if(!h){f({type:"error",text:"Please select a backup file"});return}if(!(c!=null&&c.connected)){f({type:"error",text:"Database connection failed. Please check your connection."});return}s(!0),f(null);try{const A=new FormData;A.append("file",h);const D=await fetch("/api/admin/database/restore",{method:"POST",body:A,credentials:"include"}),R=await D.json();D.ok?(f({type:"success",text:`Database restored successfully! Restored ${Object.values(R.recordsRestored).reduce((G,F)=>G+F,0)} records.`}),p(null),g(!1),m(null)):f({type:"error",text:`Restore failed: ${R.error||"Unknown error"}`})}catch(A){f({type:"error",text:`Failed to restore database: ${A instanceof Error?A.message:"Unknown error"}`})}finally{s(!1)}},I=A=>{if(A===0)return"0 Bytes";const D=1024,R=["Bytes","KB","MB","GB"],G=Math.floor(Math.log(A)/Math.log(D));return Math.round(A/Math.pow(D,G)*100)/100+" "+R[G]},E=A=>new Date(A).toLocaleString();return a.jsxs("div",{className:"space-y-6",children:[a.jsx(ke,{className:c!=null&&c.connected?"border-green-200":"border-red-200",children:a.jsx(Me,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[o?a.jsx(od,{className:"w-5 h-5 animate-spin text-yellow-500"}):c!=null&&c.connected?a.jsx(Rr,{className:"w-5 h-5 text-green-600"}):a.jsx(Fa,{className:"w-5 h-5 text-red-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:c!=null&&c.connected?"Connected":"Disconnected"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:c==null?void 0:c.message})]})]}),a.jsx(ie,{onClick:j,variant:"outline",size:"sm",children:"Check Again"})]})})}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Gs,{className:"w-5 h-5"}),"Export Database"]}),a.jsx(Ct,{children:"Create a complete backup of your database"})]}),a.jsxs(Me,{className:"space-y-4",children:[a.jsxs(Ec,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:[a.jsx(Ai,{className:"h-4 w-4 text-blue-600"}),a.jsx(Oc,{className:"text-blue-800 dark:text-blue-400",children:"This will export all data from all tables in your database as a compressed file."})]}),a.jsx(ie,{onClick:N,disabled:r,className:"w-full",children:r?a.jsxs(a.Fragment,{children:[a.jsx(od,{className:"w-4 h-4 mr-2 animate-spin"}),"Exporting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Export Database Now"]})})]})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(kw,{className:"w-5 h-5"}),"Restore Database"]}),a.jsx(Ct,{children:"Restore database from a previously exported file"})]}),a.jsxs(Me,{className:"space-y-4",children:[a.jsxs(Ec,{className:"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",children:[a.jsx(Ai,{className:"h-4 w-4 text-yellow-600"}),a.jsx(Oc,{className:"text-yellow-800 dark:text-yellow-400",children:"Warning: This will replace all current database data with the imported backup."})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Select Backup File"}),a.jsx("input",{type:"file",accept:".json,.sql,.gz",onChange:A=>{var D;return C(((D=A.target.files)==null?void 0:D[0])||null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg",disabled:i}),h&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:h.name}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:I(h.size)})]}),x.valid?a.jsx(Rr,{className:"w-5 h-5 text-green-600"}):a.jsx(Fa,{className:"w-5 h-5 text-red-600"})]}),a.jsx("p",{className:`text-xs ${x.valid?"text-green-700 dark:text-green-400":"text-red-700 dark:text-red-400"}`,children:x.message})]}),v&&y&&a.jsxs("div",{className:"p-3 bg-gray-900 rounded-lg border border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-xs font-medium text-white",children:"File Preview"}),a.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-300",children:""})]}),a.jsx("pre",{className:"text-xs text-gray-300 overflow-auto max-h-40 font-mono",children:y})]}),h&&!v&&a.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>g(!0),className:"w-full",children:[a.jsx(qo,{className:"w-4 h-4 mr-2"}),"View File Preview"]})]})]}),a.jsx(ie,{onClick:O,disabled:i||!h||!x.valid||!(c!=null&&c.connected),className:"w-full",variant:"destructive",children:i?a.jsxs(a.Fragment,{children:[a.jsx(od,{className:"w-4 h-4 mr-2 animate-spin"}),"Restoring..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kw,{className:"w-4 h-4 mr-2"}),"Restore from File"]})})]})]}),d&&a.jsxs(Ec,{className:d.type==="success"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",children:[d.type==="success"?a.jsx(Rr,{className:"h-4 w-4 text-green-600"}):a.jsx(Fa,{className:"h-4 w-4 text-red-600"}),a.jsx(Oc,{className:d.type==="success"?"text-green-800 dark:text-green-400":"text-red-800 dark:text-red-400",children:d.text})]}),e.length>0&&a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsx(Xe,{children:"Recent Backups"}),a.jsx(Ct,{children:"Your exported database backups"})]}),a.jsx(Me,{children:a.jsx("div",{className:"space-y-2",children:e.map(A=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:A.filename}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[E(A.createdAt),"  ",I(A.size),"  ",A.tablesCount," tables  ",A.recordsCount," records"]})]}),a.jsx(ie,{size:"sm",variant:"outline",onClick:()=>{const D=document.createElement("a");D.href=`/api/admin/database/backup/${A.id}/download`,D.download=A.filename,document.body.appendChild(D),D.click(),document.body.removeChild(D)},children:a.jsx(Gs,{className:"w-4 h-4"})})]},A.id))})})]})]})}const eP={info:{icon:Lj,color:"bg-blue-100 text-blue-800",label:"Info"},warn:{icon:Rj,color:"bg-yellow-100 text-yellow-800",label:"Warning"},error:{icon:Ai,color:"bg-red-100 text-red-800",label:"Error"},debug:{icon:qo,color:"bg-gray-100 text-gray-800",label:"Debug"}};function hBe(){const[e,t]=S.useState([]),[r,n]=S.useState([]),[i,s]=S.useState(""),[o,l]=S.useState("all"),[c,u]=S.useState("all"),[d,f]=S.useState(!0),[h,p]=S.useState(null),[y,m]=S.useState(!1),[v,g]=S.useState([]);S.useEffect(()=>{x()},[]),S.useEffect(()=>{try{let j=e||[];const N=Array.from(new Set(e.map(P=>P==null?void 0:P.userId).filter(P=>P&&P.trim()&&P!=="system"))).sort();if(g(N),i&&i.trim()){const P=i.toLowerCase();j=j.filter(k=>{var C,O,I,E,A,D;return((O=(C=k==null?void 0:k.userId)==null?void 0:C.toLowerCase())==null?void 0:O.includes(P))||!1||((E=(I=k==null?void 0:k.message)==null?void 0:I.toLowerCase())==null?void 0:E.includes(P))||!1||((D=(A=k==null?void 0:k.source)==null?void 0:A.toLowerCase())==null?void 0:D.includes(P))||!1})}c&&c!=="all"&&(j=j.filter(P=>(P==null?void 0:P.userId)===c)),o&&o!=="all"&&(j=j.filter(P=>(P==null?void 0:P.level)===o)),n(j)}catch(j){console.error("Error filtering logs:",j),n(e||[])}},[e,i,c,o]);const x=async()=>{try{f(!0);const j=await fetch("/api/admin/user-activities");if(j.ok){const P=(await j.json()).map(k=>{const C=k.userId||(k.source?k.source.split(":")[1]:"system");return{...k,userId:C||"system",timestamp:new Date(k.timestamp)}});t(P)}}catch(j){console.error("Failed to fetch logs:",j)}finally{f(!1)}},w=()=>{const j=[["User ID","Level","Message","Source","Timestamp"],...r.map(C=>[C.userId,C.level,C.message,C.source,C.timestamp.toISOString()])].map(C=>C.map(O=>`"${O}"`).join(",")).join(`
`),N=new Blob([j],{type:"text/csv"}),P=window.URL.createObjectURL(N),k=document.createElement("a");k.href=P,k.download=`console-logs-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(k),k.click(),window.URL.revokeObjectURL(P),document.body.removeChild(k)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(dg,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),a.jsx($e,{placeholder:"Search by message, source...",value:i,onChange:j=>s(j.target.value),className:"pl-10"})]}),a.jsxs("select",{value:c,onChange:j=>u(j.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg dark:bg-gray-800 dark:border-gray-600 min-w-max",children:[a.jsx("option",{value:"all",children:"All Users"}),v.map(j=>a.jsx("option",{value:j,children:j},j))]}),a.jsxs("select",{value:o,onChange:j=>l(j.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg dark:bg-gray-800 dark:border-gray-600 min-w-max",children:[a.jsx("option",{value:"all",children:"All Levels"}),a.jsx("option",{value:"info",children:"Info"}),a.jsx("option",{value:"warn",children:"Warning"}),a.jsx("option",{value:"error",children:"Error"}),a.jsx("option",{value:"debug",children:"Debug"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ie,{onClick:x,variant:"outline",className:"flex-1 sm:flex-none",children:"Refresh"}),a.jsxs(ie,{onClick:w,variant:"outline",className:"flex-1 sm:flex-none",children:[a.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),y&&h&&a.jsxs(ke,{className:"border-blue-300 dark:border-blue-700",children:[a.jsx(He,{className:"bg-blue-50 dark:bg-blue-900/30",children:a.jsxs(Xe,{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-lg",children:"Full Log Details"}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>m(!1),children:""})]})}),a.jsxs(Me,{className:"space-y-4 pt-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase",children:"User ID"}),a.jsx("p",{className:"text-sm font-mono text-gray-900 dark:text-white",children:h.userId})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase",children:"Level"}),a.jsx(lt,{className:"mt-1",children:h.level.toUpperCase()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase",children:"Source"}),a.jsx("p",{className:"text-sm font-mono text-gray-900 dark:text-white",children:h.source})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase",children:"Timestamp"}),a.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:h.timestamp.toLocaleString()})]})]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Message"}),a.jsx("p",{className:"text-sm text-gray-900 dark:text-white break-words bg-gray-50 dark:bg-gray-800 p-3 rounded",children:h.message})]}),h.data&&a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Full Data"}),a.jsx("pre",{className:"text-xs bg-gray-900 dark:bg-gray-950 text-gray-200 p-4 rounded overflow-auto max-h-60 font-mono border border-gray-700",children:typeof h.data=="string"?h.data:JSON.stringify(h.data,null,2)})]})]})]}),d?a.jsx(ke,{children:a.jsx(Me,{className:"flex justify-center py-8",children:a.jsx("div",{className:"animate-spin",children:"Loading logs..."})})}):r.length===0?a.jsx(ke,{children:a.jsx(Me,{className:"flex justify-center py-8 text-gray-500",children:"No console logs found"})}):a.jsx("div",{className:"space-y-3",children:r&&r.length>0?r.map(j=>{var k,C;if(!j||!j.id)return null;const N=eP[j.level]||eP.info,P=(N==null?void 0:N.icon)||Lj;return a.jsx(ke,{children:a.jsx(Me,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex gap-4 flex-1",children:[a.jsx("div",{className:`p-2 rounded-lg ${(N==null?void 0:N.color)||"bg-gray-100 text-gray-800"}`,children:a.jsx(P,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white",children:["User: ",j.userId||"unknown"]}),a.jsx(lt,{variant:"outline",className:"text-xs",children:j.source||"system"})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 break-words",children:j.message||"No message"}),a.jsx("div",{className:"flex gap-4 text-xs text-gray-500 dark:text-gray-500",children:a.jsx("span",{children:((C=(k=j.timestamp)==null?void 0:k.toLocaleString)==null?void 0:C.call(k))||"No timestamp"})})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(lt,{className:(N==null?void 0:N.color)||"bg-gray-100 text-gray-800",children:(N==null?void 0:N.label)||"Unknown"}),a.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>{p(j),m(!0)},children:"View"})]})]})})},j.id)}):a.jsx(ke,{children:a.jsx(Me,{className:"flex justify-center py-8 text-gray-500",children:"No logs match your filters"})})}),e.length>0&&a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:Object.entries(eP).map(([j,N])=>{const P=e.filter(C=>C.level===j).length,k=N.icon;return a.jsx(ke,{children:a.jsx(Me,{className:"p-3",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`inline-block p-2 rounded mb-1 ${N.color}`,children:a.jsx(k,{className:"w-4 h-4"})}),a.jsx("p",{className:"text-xs font-medium",children:P}),a.jsx("p",{className:"text-xs text-gray-500 capitalize",children:j})]})})},j)})})]})}function pBe(){var p;const[,e]=Jt(),[t,r]=S.useState(null),[n,i]=S.useState("dashboard"),[s,o]=S.useState(!1);S.useEffect(()=>{const y=localStorage.getItem("adminAuth");if(!y){e("/admin/login");return}r(JSON.parse(y))},[e]);const{data:l,isLoading:c,error:u}=Xt({queryKey:["/api/admin/dashboard"],enabled:!!t}),d=()=>{localStorage.removeItem("adminAuth"),e("/admin/login")},f=[{id:"dashboard",label:"Dashboard",icon:rie},{id:"users",label:"User Management",icon:Ys},{id:"kyc",label:"KYC Review",icon:lv},{id:"transactions",label:"Transactions",icon:Zn},{id:"withdrawals",label:"Withdrawals",icon:Wne},{id:"cards",label:"Virtual Cards",icon:Bo},{id:"pricing",label:"Card Pricing",icon:Zn},{id:"notifications",label:"Notifications",icon:$o},{id:"mail",label:"Mail Management",icon:Pl},{id:"whatsapp",label:"WhatsApp Messaging",icon:cv},{id:"support",label:"Live Support",icon:Ys},{id:"tickets",label:"Support Tickets",icon:_w},{id:"logs",label:"System Logs",icon:$0},{id:"payhero",label:"PayHero Settings",icon:Dj},{id:"manual-payment",label:"Manual Payment",icon:Zn},{id:"messaging",label:"Messaging Settings",icon:$o},{id:"templates",label:"WhatsApp Templates",icon:ls},{id:"activity",label:"Activity Logs",icon:eie},{id:"database",label:"Database Management",icon:Xne},{id:"analytics",label:"Analytics",icon:yU},{id:"settings",label:"Settings",icon:Al}],h=()=>{switch(n){case"dashboard":return a.jsx(B$,{dashboardData:l});case"users":return a.jsx(mBe,{});case"kyc":return a.jsx(gBe,{});case"transactions":return a.jsx(xBe,{});case"withdrawals":return a.jsx(eBe,{});case"cards":return a.jsx(yBe,{});case"pricing":return a.jsx(nBe,{});case"notifications":return a.jsx(rBe,{});case"mail":return a.jsx(uBe,{});case"whatsapp":return a.jsx(dBe,{});case"support":return a.jsx(sBe,{});case"tickets":return a.jsx(oBe,{});case"logs":return a.jsx(iBe,{});case"payhero":return a.jsx($$,{});case"manual-payment":return a.jsx($$,{});case"messaging":return a.jsx(cBe,{});case"templates":return a.jsx(OZ,{});case"activity":return a.jsx(hBe,{});case"database":return a.jsx(fBe,{});case"analytics":return a.jsx(vBe,{dashboardData:l});case"settings":return a.jsx(bBe,{});default:return a.jsx(B$,{dashboardData:l})}};return c?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading admin dashboard..."})]})}):u?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-2",children:"Error loading dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Please try refreshing the page"})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>o(!1)}),a.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-xl transform transition-transform duration-300 ease-in-out
        lg:translate-x-0 lg:static lg:inset-0
        ${s?"translate-x-0":"-translate-x-full"}
      `,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx($a,{className:"w-8 h-8 text-green-600 mr-3"}),a.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"GreenPay Admin"})]}),a.jsx(ie,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>o(!1),children:a.jsx(Vc,{className:"w-5 h-5"})})]}),a.jsx(ja,{className:"flex-1 py-6",children:a.jsx("nav",{className:"space-y-2 px-3",children:f.map(y=>{const m=y.icon;return a.jsxs("button",{onClick:()=>{i(y.id),o(!1)},className:`
                      w-full flex items-center px-3 py-2.5 rounded-lg text-sm font-medium transition-colors
                      ${n===y.id?"bg-green-100 text-green-700 border border-green-200":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}
                    `,children:[a.jsx(m,{className:"w-5 h-5 mr-3"}),y.label]},y.id)})})}),a.jsx(FK,{}),a.jsxs("div",{className:"p-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3",children:a.jsx(Ys,{className:"w-4 h-4 text-green-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(t==null?void 0:t.email)||"Admin"}),a.jsx("p",{className:"text-xs text-gray-500",children:"System Administrator"})]})]}),a.jsxs(ie,{variant:"ghost",size:"sm",onClick:d,className:"w-full justify-start text-gray-600 hover:text-red-600 hover:bg-red-50",children:[a.jsx(QC,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 lg:hidden",children:a.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>o(!0),children:a.jsx(nie,{className:"w-5 h-5"})}),a.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:((p=f.find(y=>y.id===n))==null?void 0:p.label)||"Dashboard"}),a.jsx("div",{className:"w-8"})," "]})}),a.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:a.jsx("div",{className:"p-6",children:h()})})]})]})}function B$({dashboardData:e}){const t=e==null?void 0:e.metrics;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(ke,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:a.jsx(Me,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalUsers)||0}),a.jsxs("p",{className:"text-blue-100 text-xs mt-1",children:[(t==null?void 0:t.activeUsers)||0," active"]})]}),a.jsx(Ys,{className:"w-8 h-8 text-blue-100"})]})})}),a.jsx(ke,{className:"bg-gradient-to-r from-green-500 to-green-600 text-white",children:a.jsx(Me,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Total Volume"}),a.jsxs("p",{className:"text-2xl font-bold",children:["$",((t==null?void 0:t.totalVolume)||0).toLocaleString()]}),a.jsxs("p",{className:"text-green-100 text-xs mt-1",children:[(t==null?void 0:t.completedTransactions)||0," transactions"]})]}),a.jsx(Zn,{className:"w-8 h-8 text-green-100"})]})})}),a.jsx(ke,{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white",children:a.jsx(Me,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Revenue"}),a.jsxs("p",{className:"text-2xl font-bold",children:["$",((t==null?void 0:t.totalRevenue)||0).toLocaleString()]}),a.jsx("p",{className:"text-purple-100 text-xs mt-1",children:"This month"})]}),a.jsx(uv,{className:"w-8 h-8 text-purple-100"})]})})}),a.jsx(ke,{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:a.jsx(Me,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Pending KYC"}),a.jsx("p",{className:"text-2xl font-bold",children:(t==null?void 0:t.pendingKyc)||0}),a.jsx("p",{className:"text-orange-100 text-xs mt-1",children:"Requires review"})]}),a.jsx(lv,{className:"w-8 h-8 text-orange-100"})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsx(Xe,{children:"Transaction Trends"}),a.jsx(Ct,{children:"Daily transaction volume over time"})]}),a.jsx(Me,{children:a.jsx("div",{className:"h-80",children:a.jsx(aR,{width:"100%",height:"100%",children:a.jsxs(N9e,{data:(e==null?void 0:e.transactionTrends)||[],children:[a.jsx(O4,{strokeDasharray:"3 3"}),a.jsx(Jm,{dataKey:"date"}),a.jsx(tg,{}),a.jsx(So,{}),a.jsx(Iv,{type:"monotone",dataKey:"volume",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981"}})]})})})})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsx(Xe,{children:"Transaction Count"}),a.jsx(Ct,{children:"Number of transactions per day"})]}),a.jsx(Me,{children:a.jsx("div",{className:"h-80",children:a.jsx(aR,{width:"100%",height:"100%",children:a.jsxs(S9e,{data:(e==null?void 0:e.transactionTrends)||[],children:[a.jsx(O4,{strokeDasharray:"3 3"}),a.jsx(Jm,{dataKey:"date"}),a.jsx(tg,{}),a.jsx(So,{}),a.jsx(Eh,{dataKey:"count",fill:"#3b82f6",radius:[4,4,0,0]})]})})})})]})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsx(Xe,{children:"Quick Actions"}),a.jsx(Ct,{children:"Common administrative tasks"})]}),a.jsx(Me,{children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs(ie,{variant:"outline",className:"h-20 flex-col gap-2",children:[a.jsx(PU,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm",children:"Approve KYC"})]}),a.jsxs(ie,{variant:"outline",className:"h-20 flex-col gap-2",children:[a.jsx(AU,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm",children:"Block User"})]}),a.jsxs(ie,{variant:"outline",className:"h-20 flex-col gap-2",children:[a.jsx(Bo,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm",children:"Issue Card"})]}),a.jsxs(ie,{variant:"outline",className:"h-20 flex-col gap-2",children:[a.jsx(Al,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm",children:"Settings"})]})]})})]})]})}function mBe(){return a.jsx(k9e,{})}function gBe(){return a.jsx(T9e,{})}function xBe(){return a.jsx(O9e,{})}function yBe(){return a.jsx(L9e,{})}function vBe({dashboardData:e}){return a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(yU,{className:"w-5 h-5"}),"Analytics & Reports"]}),a.jsx(Ct,{children:"Detailed analytics and reporting tools"})]}),a.jsx(Me,{children:a.jsx("p",{className:"text-gray-500",children:"Advanced analytics interface coming soon..."})})]})}function bBe(){return a.jsx(J9e,{})}function nu({title:e,description:t,keywords:r,canonical:n="https://greenpay.world",ogType:i="website",ogImage:s="https://greenpay.world/og-image.png",structuredData:o}){return a.jsxs(Rte,{children:[a.jsx("title",{children:e}),a.jsx("meta",{name:"title",content:e}),a.jsx("meta",{name:"description",content:t}),r&&a.jsx("meta",{name:"keywords",content:r}),a.jsx("link",{rel:"canonical",href:n}),a.jsx("meta",{property:"og:type",content:i}),a.jsx("meta",{property:"og:url",content:n}),a.jsx("meta",{property:"og:title",content:e}),a.jsx("meta",{property:"og:description",content:t}),a.jsx("meta",{property:"og:image",content:s}),a.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),a.jsx("meta",{name:"twitter:url",content:n}),a.jsx("meta",{name:"twitter:title",content:e}),a.jsx("meta",{name:"twitter:description",content:t}),a.jsx("meta",{name:"twitter:image",content:s}),o&&a.jsx("script",{type:"application/ld+json",children:JSON.stringify(o)})]})}function wBe(){return a.jsxs(a.Fragment,{children:[a.jsx(nu,{title:"Send Money to Kenya Instantly | GreenPay - Best USD to KES Rates",description:"Send money to Kenya instantly with GreenPay. Best USD to KES exchange rates, low fees, instant M-Pesa delivery. Join thousands sending money home today!",keywords:"send money to Kenya, USD to KES, international money transfer, Kenya remittance, M-Pesa, send money home, Kenya diaspora",canonical:"https://greenpay.world/features/send-money"}),a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-green-50 to-white",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[a.jsxs("header",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Send Money to Kenya Instantly"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Fast, secure, and affordable international money transfers with the best USD to KES exchange rates"}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsx(_i,{href:"/signup",children:a.jsxs(ie,{size:"lg",className:"bg-green-600 hover:bg-green-700",children:["Get Started Free ",a.jsx(gs,{className:"ml-2 h-5 w-5"})]})}),a.jsx(_i,{href:"/login",children:a.jsx(ie,{size:"lg",variant:"outline",children:"Sign In"})})]})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[a.jsx(ke,{children:a.jsxs(He,{children:[a.jsx(Fj,{className:"h-10 w-10 text-green-600 mb-2"}),a.jsx(Xe,{children:"Instant Transfers"}),a.jsx(Ct,{children:"Money arrives in seconds, not days. Send to M-Pesa or bank accounts instantly."})]})}),a.jsx(ke,{children:a.jsxs(He,{children:[a.jsx(Zn,{className:"h-10 w-10 text-green-600 mb-2"}),a.jsx(Xe,{children:"Best Exchange Rates"}),a.jsx(Ct,{children:"Live USD to KES rates updated in real-time. No hidden fees or markups."})]})}),a.jsx(ke,{children:a.jsxs(He,{children:[a.jsx($a,{className:"h-10 w-10 text-green-600 mb-2"}),a.jsx(Xe,{children:"100% Secure"}),a.jsx(Ct,{children:"Bank-level encryption and security. Your money is always protected."})]})})]}),a.jsxs(ke,{className:"mb-12",children:[a.jsx(He,{children:a.jsx(Xe,{className:"text-2xl",children:"How It Works"})}),a.jsx(Me,{children:a.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-3 font-bold text-lg",children:"1"}),a.jsx("h3",{className:"font-semibold mb-2",children:"Create Account"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Sign up for free in under 2 minutes"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-3 font-bold text-lg",children:"2"}),a.jsx("h3",{className:"font-semibold mb-2",children:"Add Money"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Deposit USD to your wallet"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-3 font-bold text-lg",children:"3"}),a.jsx("h3",{className:"font-semibold mb-2",children:"Enter Details"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Add recipient phone or account"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-3 font-bold text-lg",children:"4"}),a.jsx("h3",{className:"font-semibold mb-2",children:"Send Instantly"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Money arrives in seconds"})]})]})})]}),a.jsxs(ke,{className:"bg-green-50 border-green-200",children:[a.jsx(He,{children:a.jsx(Xe,{className:"text-2xl",children:"Why Choose GreenPay?"})}),a.jsx(Me,{children:a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-green-600 mt-0.5"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Live Exchange Rates:"})," Real-time USD to KES conversion rates, updated every minute"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-green-600 mt-0.5"}),a.jsxs("span",{children:[a.jsx("strong",{children:"No Hidden Fees:"})," Transparent pricing with no surprises"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-green-600 mt-0.5"}),a.jsxs("span",{children:[a.jsx("strong",{children:"24/7 Support:"})," Live chat support whenever you need help"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-green-600 mt-0.5"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Trusted by Thousands:"})," Join the Kenyan diaspora sending money home"]})]})]})})]}),a.jsx("div",{className:"text-center mt-12",children:a.jsx(_i,{href:"/signup",children:a.jsxs(ie,{size:"lg",className:"bg-green-600 hover:bg-green-700",children:["Start Sending Money Now ",a.jsx(gs,{className:"ml-2 h-5 w-5"})]})})})]})})]})}function jBe(){return a.jsxs(a.Fragment,{children:[a.jsx(nu,{title:"Virtual Mastercard for Online Shopping | GreenPay Digital Wallet",description:"Get instant virtual Mastercard for online shopping worldwide. Use on Amazon, Netflix, any website. Secure, instant issuance. Purchase your virtual card today!",keywords:"virtual card, virtual Mastercard, online shopping, digital card, international payments, virtual debit card",canonical:"https://greenpay.world/features/virtual-cards"}),a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[a.jsxs("header",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Virtual Mastercard for Online Shopping"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Get instant virtual cards for secure online payments worldwide"}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsx(_i,{href:"/signup",children:a.jsxs(ie,{size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:["Get Your Card Now ",a.jsx(gs,{className:"ml-2 h-5 w-5"})]})}),a.jsx(_i,{href:"/login",children:a.jsx(ie,{size:"lg",variant:"outline",children:"Sign In"})})]})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[a.jsx(ke,{children:a.jsxs(He,{children:[a.jsx(Bo,{className:"h-10 w-10 text-blue-600 mb-2"}),a.jsx(Xe,{children:"Instant Issuance"}),a.jsx(Ct,{children:"Get your virtual Mastercard instantly. No waiting for physical cards."})]})}),a.jsx(ke,{children:a.jsxs(He,{children:[a.jsx(wU,{className:"h-10 w-10 text-blue-600 mb-2"}),a.jsx(Xe,{children:"Shop Worldwide"}),a.jsx(Ct,{children:"Use on any website that accepts Mastercard. Perfect for international purchases."})]})}),a.jsx(ke,{children:a.jsxs(He,{children:[a.jsx(Oa,{className:"h-10 w-10 text-blue-600 mb-2"}),a.jsx(Xe,{children:"Secure Payments"}),a.jsx(Ct,{children:"Protected by Mastercard security. Freeze or cancel anytime from your app."})]})})]}),a.jsxs(ke,{className:"bg-blue-50 border-blue-200 mb-12",children:[a.jsx(He,{children:a.jsx(Xe,{className:"text-2xl",children:"Perfect For"})}),a.jsx(Me,{children:a.jsxs("ul",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),a.jsx("span",{children:"Online shopping (Amazon, eBay, AliExpress)"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),a.jsx("span",{children:"Subscription services (Netflix, Spotify)"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),a.jsx("span",{children:"Digital products and software"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),a.jsx("span",{children:"International payments"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),a.jsx("span",{children:"Travel bookings"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),a.jsx("span",{children:"App stores and gaming"})]})]})})]}),a.jsx("div",{className:"text-center",children:a.jsx(_i,{href:"/signup",children:a.jsxs(ie,{size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:["Get Your Virtual Card ",a.jsx(gs,{className:"ml-2 h-5 w-5"})]})})})]})})]})}function NBe(){return a.jsxs(a.Fragment,{children:[a.jsx(nu,{title:"USD to KES Exchange Rate - Live Rates | GreenPay Currency Exchange",description:"Convert USD to KES with live exchange rates. Current rate: 129.27 KES per USD. No hidden fees. Fast, secure currency exchange for Kenya.",keywords:"USD to KES, currency exchange, exchange rate, Kenya shilling, US dollar to Kenyan shilling, forex Kenya",canonical:"https://greenpay.world/features/exchange"}),a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-green-50 to-white",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[a.jsxs("header",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"USD to KES Exchange - Best Rates"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Convert between USD and KES with live exchange rates. No hidden fees."}),a.jsx(_i,{href:"/signup",children:a.jsxs(ie,{size:"lg",className:"bg-green-600 hover:bg-green-700",children:["Start Exchanging ",a.jsx(gs,{className:"ml-2 h-5 w-5"})]})})]}),a.jsxs(ke,{className:"mb-8",children:[a.jsx(He,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(uv,{className:"h-6 w-6 text-green-600"}),a.jsx(Xe,{children:"Live Exchange Rate"})]})}),a.jsx(Me,{children:a.jsxs("div",{className:"text-center p-8 bg-green-50 rounded-lg",children:[a.jsx("div",{className:"text-5xl font-bold text-green-600 mb-2",children:"129.27"}),a.jsx("div",{className:"text-gray-600",children:"KES per 1 USD"}),a.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"Updated in real-time"})]})})]}),a.jsx("div",{className:"text-center",children:a.jsx(_i,{href:"/signup",children:a.jsxs(ie,{size:"lg",className:"bg-green-600 hover:bg-green-700",children:["Get Started ",a.jsx(gs,{className:"ml-2 h-5 w-5"})]})})})]})})]})}var TE="Collapsible",[SBe,MZ]=js(TE),[_Be,EE]=SBe(TE),LZ=S.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:s,onOpenChange:o,...l}=e,[c=!1,u]=Rl({prop:n,defaultProp:i,onChange:o});return a.jsx(_Be,{scope:r,disabled:s,contentId:kl(),open:c,onOpenToggle:S.useCallback(()=>u(d=>!d),[u]),children:a.jsx(Tt.div,{"data-state":ME(c),"data-disabled":s?"":void 0,...l,ref:t})})});LZ.displayName=TE;var IZ="CollapsibleTrigger",DZ=S.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,i=EE(IZ,r);return a.jsx(Tt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":ME(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:t,onClick:jt(e.onClick,i.onOpenToggle)})});DZ.displayName=IZ;var OE="CollapsibleContent",RZ=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=EE(OE,e.__scopeCollapsible);return a.jsx(io,{present:r||i.open,children:({present:s})=>a.jsx(PBe,{...n,ref:t,present:s})})});RZ.displayName=OE;var PBe=S.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:i,...s}=e,o=EE(OE,r),[l,c]=S.useState(n),u=S.useRef(null),d=br(t,u),f=S.useRef(0),h=f.current,p=S.useRef(0),y=p.current,m=o.open||l,v=S.useRef(m),g=S.useRef(void 0);return S.useEffect(()=>{const x=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(x)},[]),Pi(()=>{const x=u.current;if(x){g.current=g.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const w=x.getBoundingClientRect();f.current=w.height,p.current=w.width,v.current||(x.style.transitionDuration=g.current.transitionDuration,x.style.animationName=g.current.animationName),c(n)}},[o.open,n]),a.jsx(Tt.div,{"data-state":ME(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:m&&i})});function ME(e){return e?"open":"closed"}var ABe=LZ,kBe=DZ,CBe=RZ,iu="Accordion",TBe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[LE,EBe,OBe]=Cj(iu),[r5,wUe]=js(iu,[OBe,MZ]),IE=MZ(),FZ=se.forwardRef((e,t)=>{const{type:r,...n}=e,i=n,s=n;return a.jsx(LE.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(DBe,{...s,ref:t}):a.jsx(IBe,{...i,ref:t})})});FZ.displayName=iu;var[$Z,MBe]=r5(iu),[BZ,LBe]=r5(iu,{collapsible:!1}),IBe=se.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:s=!1,...o}=e,[l,c]=Rl({prop:r,defaultProp:n,onChange:i});return a.jsx($Z,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:se.useCallback(()=>s&&c(""),[s,c]),children:a.jsx(BZ,{scope:e.__scopeAccordion,collapsible:s,children:a.jsx(UZ,{...o,ref:t})})})}),DBe=se.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...s}=e,[o=[],l]=Rl({prop:r,defaultProp:n,onChange:i}),c=se.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=se.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return a.jsx($Z,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(BZ,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(UZ,{...s,ref:t})})})}),[RBe,n5]=r5(iu),UZ=se.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:s="vertical",...o}=e,l=se.useRef(null),c=br(l,t),u=EBe(r),f=vv(i)==="ltr",h=jt(e.onKeyDown,p=>{var C;if(!TBe.includes(p.key))return;const y=p.target,m=u().filter(O=>{var I;return!((I=O.ref.current)!=null&&I.disabled)}),v=m.findIndex(O=>O.ref.current===y),g=m.length;if(v===-1)return;p.preventDefault();let x=v;const w=0,j=g-1,N=()=>{x=v+1,x>j&&(x=w)},P=()=>{x=v-1,x<w&&(x=j)};switch(p.key){case"Home":x=w;break;case"End":x=j;break;case"ArrowRight":s==="horizontal"&&(f?N():P());break;case"ArrowDown":s==="vertical"&&N();break;case"ArrowLeft":s==="horizontal"&&(f?P():N());break;case"ArrowUp":s==="vertical"&&P();break}const k=x%g;(C=m[k].ref.current)==null||C.focus()});return a.jsx(RBe,{scope:r,disabled:n,direction:i,orientation:s,children:a.jsx(LE.Slot,{scope:r,children:a.jsx(Tt.div,{...o,"data-orientation":s,ref:c,onKeyDown:n?void 0:h})})})}),dj="AccordionItem",[FBe,DE]=r5(dj),zZ=se.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...i}=e,s=n5(dj,r),o=MBe(dj,r),l=IE(r),c=kl(),u=n&&o.value.includes(n)||!1,d=s.disabled||e.disabled;return a.jsx(FBe,{scope:r,open:u,disabled:d,triggerId:c,children:a.jsx(ABe,{"data-orientation":s.orientation,"data-state":GZ(u),...l,...i,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});zZ.displayName=dj;var VZ="AccordionHeader",qZ=se.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,i=n5(iu,r),s=DE(VZ,r);return a.jsx(Tt.h3,{"data-orientation":i.orientation,"data-state":GZ(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:t})});qZ.displayName=VZ;var W4="AccordionTrigger",WZ=se.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,i=n5(iu,r),s=DE(W4,r),o=LBe(W4,r),l=IE(r);return a.jsx(LE.ItemSlot,{scope:r,children:a.jsx(kBe,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...l,...n,ref:t})})});WZ.displayName=W4;var HZ="AccordionContent",KZ=se.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,i=n5(iu,r),s=DE(HZ,r),o=IE(r);return a.jsx(CBe,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});KZ.displayName=HZ;function GZ(e){return e?"open":"closed"}var $Be=FZ,BBe=zZ,UBe=qZ,YZ=WZ,XZ=KZ;const zBe=$Be,wf=S.forwardRef(({className:e,...t},r)=>a.jsx(BBe,{ref:r,className:_t("border-b",e),...t}));wf.displayName="AccordionItem";const jf=S.forwardRef(({className:e,children:t,...r},n)=>a.jsx(UBe,{className:"flex",children:a.jsxs(YZ,{ref:n,className:_t("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(XC,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));jf.displayName=YZ.displayName;const Nf=S.forwardRef(({className:e,children:t,...r},n)=>a.jsx(XZ,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:_t("pb-4 pt-0",e),children:t})}));Nf.displayName=XZ.displayName;function VBe(){const e={"@context":"https://schema.org","@type":"FAQPage",mainEntity:[{"@type":"Question",name:"How do I send money to Kenya with GreenPay?",acceptedAnswer:{"@type":"Answer",text:"Sign up for a free GreenPay account, add funds in USD, select Kenya as the destination, enter the recipient details, and confirm your transfer. Money arrives instantly."}},{"@type":"Question",name:"What is the USD to KES exchange rate?",acceptedAnswer:{"@type":"Answer",text:"GreenPay offers live exchange rates updated in real-time. Current rate is approximately 129 KES per 1 USD. Check our app for the latest rates."}}]};return a.jsxs(a.Fragment,{children:[a.jsx(nu,{title:"Help Center & FAQ | GreenPay Support - Money Transfer Questions",description:"Find answers to common questions about sending money to Kenya, USD to KES rates, virtual cards, and airtime. Get help with GreenPay international transfers.",keywords:"GreenPay help, money transfer FAQ, Kenya transfer questions, USD to KES help, virtual card support",canonical:"https://greenpay.world/help",structuredData:e}),a.jsx("div",{className:"min-h-screen bg-white",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[a.jsxs("header",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Help Center & FAQ"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Find answers to common questions about GreenPay"})]}),a.jsxs(ke,{className:"mb-8",children:[a.jsx(He,{children:a.jsx(Xe,{children:"Frequently Asked Questions"})}),a.jsx(Me,{children:a.jsxs(zBe,{type:"single",collapsible:!0,children:[a.jsxs(wf,{value:"item-1",children:[a.jsx(jf,{children:"How do I send money to Kenya with GreenPay?"}),a.jsx(Nf,{children:"Sign up for a free GreenPay account, add funds in USD, select Kenya as the destination, enter the recipient details, and confirm your transfer. Money arrives instantly."})]}),a.jsxs(wf,{value:"item-2",children:[a.jsx(jf,{children:"What is the USD to KES exchange rate?"}),a.jsx(Nf,{children:"GreenPay offers live exchange rates updated in real-time. Current rate is approximately 129 KES per 1 USD. Check our app for the latest rates."})]}),a.jsxs(wf,{value:"item-3",children:[a.jsx(jf,{children:"How long does it take to send money to Kenya?"}),a.jsx(Nf,{children:"Transfers to Kenya are instant. Once you confirm your transaction, the recipient receives the money immediately in their digital wallet or M-Pesa account."})]}),a.jsxs(wf,{value:"item-4",children:[a.jsx(jf,{children:"Are virtual cards included?"}),a.jsx(Nf,{children:"Yes! GreenPay offers virtual Mastercard cards that you can use for online shopping worldwide. Purchase a virtual card from your dashboard."})]}),a.jsxs(wf,{value:"item-5",children:[a.jsx(jf,{children:"What fees does GreenPay charge?"}),a.jsx(Nf,{children:"GreenPay offers transparent pricing with no hidden fees. You see the exact fees before confirming any transaction. Typically fees are 2-3% for international transfers."})]}),a.jsxs(wf,{value:"item-6",children:[a.jsx(jf,{children:"Is GreenPay secure?"}),a.jsx(Nf,{children:"Yes. GreenPay uses bank-level encryption and security measures to protect your money and personal information. We comply with all financial regulations and use secure payment processing partners."})]})]})})]}),a.jsxs("div",{className:"text-center",children:[a.jsx(_i,{href:"/support",children:a.jsx(ie,{variant:"outline",className:"mr-4",children:"Contact Support"})}),a.jsx(_i,{href:"/signup",children:a.jsxs(ie,{className:"bg-green-600 hover:bg-green-700",children:["Get Started ",a.jsx(gs,{className:"ml-2 h-5 w-5"})]})})]})]})})]})}function qBe(){return a.jsxs(a.Fragment,{children:[a.jsx(nu,{title:"Buy Airtime for Kenya | Safaricom, Airtel, Telkom Top-Up | GreenPay",description:"Top up mobile airtime for Kenya instantly. Support for Safaricom, Airtel Kenya, and Telkom. Fast delivery, transparent pricing. Buy airtime now!",keywords:"Kenya airtime, Safaricom airtime, Airtel Kenya top-up, Telkom Kenya, mobile airtime, buy airtime Kenya",canonical:"https://greenpay.world/features/airtime"}),a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-purple-50 to-white",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[a.jsxs("header",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Buy Airtime for Kenya"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Top up mobile airtime instantly for Safaricom, Airtel, and Telkom Kenya"}),a.jsx(_i,{href:"/signup",children:a.jsxs(ie,{size:"lg",className:"bg-purple-600 hover:bg-purple-700",children:["Buy Airtime Now ",a.jsx(gs,{className:"ml-2 h-5 w-5"})]})})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[a.jsx(ke,{children:a.jsxs(He,{children:[a.jsx(Fj,{className:"h-10 w-10 text-purple-600 mb-2"}),a.jsx(Xe,{children:"Instant Delivery"}),a.jsx(Ct,{children:"Airtime delivered in seconds directly to any Kenyan mobile number"})]})}),a.jsx(ke,{children:a.jsxs(He,{children:[a.jsx(Dj,{className:"h-10 w-10 text-purple-600 mb-2"}),a.jsx(Xe,{children:"All Networks"}),a.jsx(Ct,{children:"Support for Safaricom, Airtel Kenya, and Telkom Kenya"})]})}),a.jsx(ke,{children:a.jsxs(He,{children:[a.jsx(Sn,{className:"h-10 w-10 text-purple-600 mb-2"}),a.jsx(Xe,{children:"No Hidden Fees"}),a.jsx(Ct,{children:"Transparent pricing. Pay exactly what you see with no surprises."})]})})]}),a.jsxs(ke,{className:"bg-purple-50 border-purple-200",children:[a.jsx(He,{children:a.jsx(Xe,{children:"Supported Networks"})}),a.jsx(Me,{children:a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-purple-600"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Safaricom"})," - Kenya's largest mobile network"]})]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-purple-600"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Airtel Kenya"})," - Fast and reliable service"]})]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-purple-600"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Telkom Kenya"})," - Great coverage nationwide"]})]})]})})]}),a.jsx("div",{className:"text-center mt-12",children:a.jsx(_i,{href:"/signup",children:a.jsxs(ie,{size:"lg",className:"bg-purple-600 hover:bg-purple-700",children:["Top Up Airtime ",a.jsx(gs,{className:"ml-2 h-5 w-5"})]})})})]})})]})}function WBe(){return a.jsxs(a.Fragment,{children:[a.jsx(nu,{title:"About GreenPay | Empowering Kenya Diaspora with Fast Money Transfers",description:"Learn about GreenPay's mission to make international money transfers to Kenya simple and affordable. Join thousands sending money home with transparency and speed.",keywords:"about GreenPay, Kenya diaspora, international remittance company, money transfer service, about us",canonical:"https://greenpay.world/about"}),a.jsx("div",{className:"min-h-screen bg-white",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[a.jsxs("header",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"About GreenPay"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Empowering the Kenyan diaspora to send money home with speed, security, and transparency"})]}),a.jsxs(ke,{className:"mb-8",children:[a.jsxs(He,{children:[a.jsx(oie,{className:"h-8 w-8 text-green-600 mb-2"}),a.jsx(Xe,{children:"Our Mission"})]}),a.jsx(Me,{children:a.jsx("p",{className:"text-gray-700",children:"GreenPay was founded to make international money transfers to Kenya simple, affordable, and instant. We believe everyone deserves access to fast, transparent financial services without hidden fees or complicated processes. Our mission is to connect families and support economic growth in Kenya through reliable remittance services."})})]}),a.jsxs(ke,{className:"mb-8",children:[a.jsxs(He,{children:[a.jsx(Jne,{className:"h-8 w-8 text-green-600 mb-2"}),a.jsx(Xe,{children:"Why GreenPay?"})]}),a.jsx(Me,{children:a.jsxs("ul",{className:"space-y-3 text-gray-700",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Built for Kenya:"})," Optimized specifically for USD to KES transfers and M-Pesa integration"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Transparent Pricing:"})," No hidden fees. What you see is what you pay"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Instant Transfers:"})," Money arrives in seconds, not days"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"24/7 Support:"})," Our team is always here to help you"]})]})})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsx(Ys,{className:"h-8 w-8 text-green-600 mb-2"}),a.jsx(Xe,{children:"Join Thousands of Users"})]}),a.jsxs(Me,{children:[a.jsx("p",{className:"text-gray-700 mb-4",children:"GreenPay is trusted by thousands of people in the Kenyan diaspora who send money home regularly. Whether it's supporting family, investing in property, or managing business operations, GreenPay makes it easy and affordable."}),a.jsx(_i,{href:"/signup",children:a.jsxs(ie,{className:"bg-green-600 hover:bg-green-700",children:["Get Started Today ",a.jsx(gs,{className:"ml-2 h-5 w-5"})]})})]})]})]})})]})}function HBe(){return a.jsxs(a.Fragment,{children:[a.jsx(nu,{title:"Pricing & Fees | Transparent Money Transfer Costs | GreenPay",description:"Clear, transparent pricing for money transfers to Kenya. 2-3% transfer fees, $5 virtual cards, no hidden costs. See exactly what you'll pay before you send.",keywords:"GreenPay pricing, money transfer fees, Kenya transfer cost, virtual card price, remittance fees",canonical:"https://greenpay.world/pricing"}),a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[a.jsxs("header",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Transparent Pricing & Fees"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"No hidden fees. Pay exactly what you see. Simple and transparent."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[a.jsxs(ke,{className:"border-2 border-green-200",children:[a.jsxs(He,{children:[a.jsx(Xe,{className:"text-2xl",children:"Money Transfers"}),a.jsx(Ct,{children:"Send money to Kenya"})]}),a.jsxs(Me,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"2-3%"}),a.jsx("div",{className:"text-gray-600",children:"Transaction Fee"})]}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-green-600 mt-0.5"}),a.jsx("span",{children:"Live USD to KES exchange rates"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-green-600 mt-0.5"}),a.jsx("span",{children:"Instant delivery to M-Pesa or bank account"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-green-600 mt-0.5"}),a.jsx("span",{children:"No minimum transfer amount"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-green-600 mt-0.5"}),a.jsx("span",{children:"24/7 customer support"})]})]})]})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsx(Xe,{className:"text-2xl",children:"Virtual Cards"}),a.jsx(Ct,{children:"For online shopping"})]}),a.jsxs(Me,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:"$5"}),a.jsx("div",{className:"text-gray-600",children:"One-time Purchase Fee"})]}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),a.jsx("span",{children:"Instant virtual Mastercard"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),a.jsx("span",{children:"Use on any website worldwide"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),a.jsx("span",{children:"No monthly fees"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),a.jsx("span",{children:"Freeze/unfreeze anytime"})]})]})]})]})]}),a.jsxs(ke,{className:"bg-gray-50",children:[a.jsx(He,{children:a.jsx(Xe,{children:"Other Services"})}),a.jsx(Me,{children:a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Currency Exchange"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Live rates, minimal spread"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Airtime Top-Up"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Face value + small service fee"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Withdrawals"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Standard processing fees apply"})]})]})})]}),a.jsx("div",{className:"text-center mt-12",children:a.jsx(_i,{href:"/signup",children:a.jsxs(ie,{size:"lg",className:"bg-green-600 hover:bg-green-700",children:["Get Started Free ",a.jsx(gs,{className:"ml-2 h-5 w-5"})]})})})]})})]})}function KBe(){return a.jsxs(a.Fragment,{children:[a.jsx(nu,{title:"Security & Compliance | Bank-Level Protection | GreenPay",description:"Your money is protected with 256-bit encryption, two-factor authentication, KYC verification, and AML compliance. Trust GreenPay for secure transfers.",keywords:"GreenPay security, money transfer safety, encryption, KYC verification, AML compliance, secure remittance",canonical:"https://greenpay.world/security"}),a.jsx("div",{className:"min-h-screen bg-white",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[a.jsxs("header",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Security & Compliance"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Your money and data are protected with bank-level security"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:[a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsx(Oa,{className:"h-10 w-10 text-green-600 mb-2"}),a.jsx(Xe,{children:"Bank-Level Encryption"})]}),a.jsx(Me,{children:a.jsx("p",{className:"text-gray-700",children:"All data is encrypted using industry-standard 256-bit SSL encryption. Your personal information and financial data are protected both in transit and at rest."})})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsx($a,{className:"h-10 w-10 text-green-600 mb-2"}),a.jsx(Xe,{children:"Two-Factor Authentication"})]}),a.jsx(Me,{children:a.jsx("p",{className:"text-gray-700",children:"Protect your account with multi-factor authentication via SMS or WhatsApp. Every transaction requires verification to ensure it's really you."})})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsx(lv,{className:"h-10 w-10 text-green-600 mb-2"}),a.jsx(Xe,{children:"KYC Verification"})]}),a.jsx(Me,{children:a.jsx("p",{className:"text-gray-700",children:"We verify all users through a secure Know Your Customer (KYC) process to prevent fraud and comply with international financial regulations."})})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsx(qo,{className:"h-10 w-10 text-green-600 mb-2"}),a.jsx(Xe,{children:"Transaction Monitoring"})]}),a.jsx(Me,{children:a.jsx("p",{className:"text-gray-700",children:"Our advanced fraud detection system monitors all transactions in real-time to identify and prevent suspicious activity before it affects you."})})]})]}),a.jsxs(ke,{className:"bg-green-50 border-green-200 mb-8",children:[a.jsx(He,{children:a.jsx(Xe,{children:"Compliance & Regulations"})}),a.jsx(Me,{children:a.jsxs("ul",{className:"space-y-3 text-gray-700",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"AML/CTF Compliance:"})," We follow strict Anti-Money Laundering and Counter-Terrorism Financing protocols"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Data Protection:"})," Full compliance with international data protection regulations"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Financial Licensing:"})," Authorized and regulated to provide money transfer services"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Regular Audits:"})," Independent security audits and penetration testing"]})]})})]}),a.jsx("div",{className:"text-center",children:a.jsx(_i,{href:"/signup",children:a.jsxs(ie,{size:"lg",className:"bg-green-600 hover:bg-green-700",children:["Create Secure Account ",a.jsx(gs,{className:"ml-2 h-5 w-5"})]})})})]})})]})}function GBe(){return a.jsxs(a.Fragment,{children:[a.jsx(nu,{title:"Contact Support | Get Help with Money Transfers | GreenPay",description:"Contact GreenPay support via live chat, email, or phone. 24/7 customer service for money transfers, virtual cards, and account help. support@greenpay.world",keywords:"GreenPay contact, customer support, live chat, help desk, contact support",canonical:"https://greenpay.world/contact"}),a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[a.jsxs("header",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Contact Support"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"We're here to help. Get in touch with our support team."})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsx(cv,{className:"h-10 w-10 text-green-600 mb-2"}),a.jsx(Xe,{children:"Live Chat"})]}),a.jsxs(Me,{children:[a.jsx("p",{className:"text-gray-700 mb-4",children:"Chat with our support team in real-time. Available 24/7 for account holders."}),a.jsx(_i,{href:"/login",children:a.jsx(ie,{variant:"outline",className:"w-full",children:"Sign In to Chat"})})]})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsx(Pl,{className:"h-10 w-10 text-green-600 mb-2"}),a.jsx(Xe,{children:"Email Support"})]}),a.jsxs(Me,{children:[a.jsx("p",{className:"text-gray-700 mb-4",children:"Send us an email and we'll respond within 24 hours."}),a.jsx("a",{href:"mailto:support@greenpay.world",children:a.jsx(ie,{variant:"outline",className:"w-full",children:"support@greenpay.world"})})]})]}),a.jsxs(ke,{children:[a.jsxs(He,{children:[a.jsx(Ij,{className:"h-10 w-10 text-green-600 mb-2"}),a.jsx(Xe,{children:"Phone Support"})]}),a.jsxs(Me,{children:[a.jsx("p",{className:"text-gray-700 mb-4",children:"Call us for urgent assistance. International rates apply."}),a.jsx("a",{href:"tel:+18006737729",children:a.jsx(ie,{variant:"outline",className:"w-full",children:"+1-800-GREENPAY"})})]})]})]}),a.jsxs(ke,{className:"bg-blue-50 border-blue-200 mb-8",children:[a.jsx(He,{children:a.jsx(Xe,{children:"Need Help?"})}),a.jsxs(Me,{children:[a.jsx("p",{className:"text-gray-700 mb-4",children:"Before contacting support, check our Help Center for answers to common questions about transfers, virtual cards, and account management."}),a.jsx(_i,{href:"/help",children:a.jsx(ie,{variant:"outline",children:"Visit Help Center"})})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-600 mb-4",children:"Don't have an account yet?"}),a.jsx(_i,{href:"/signup",children:a.jsxs(ie,{size:"lg",className:"bg-green-600 hover:bg-green-700",children:["Sign Up Free ",a.jsx(gs,{className:"ml-2 h-5 w-5"})]})})]})]})})]})}function YBe(){const[,e]=Jt(),t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},r={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900 p-4",children:a.jsxs(K.div,{className:"max-w-4xl mx-auto",variants:t,initial:"hidden",animate:"visible",children:[a.jsxs(K.div,{variants:r,className:"mb-8 flex items-center gap-4",children:[a.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>e("/login"),className:"rounded-full hover:bg-blue-100 dark:hover:bg-slate-800",children:a.jsx(ah,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Terms and Conditions"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Important legal information for using GreenPay"})]})]}),a.jsx(K.p,{variants:r,className:"text-sm text-slate-600 dark:text-slate-400 mb-8",children:"Last updated: November 30, 2025"}),a.jsx(K.div,{variants:r,className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[{icon:Oa,label:"Your Rights",color:"from-blue-500"},{icon:Zn,label:"Payment Terms",color:"from-indigo-500"},{icon:$a,label:"Security",color:"from-purple-500"}].map((n,i)=>a.jsxs(K.div,{whileHover:{scale:1.05},className:`bg-gradient-to-br ${n.color} to-slate-100 dark:to-slate-800 rounded-lg p-4 shadow-md`,children:[a.jsx(n.icon,{className:"w-8 h-8 text-slate-900 dark:text-white mb-2"}),a.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:n.label})]},i))}),a.jsxs(K.div,{variants:t,initial:"hidden",animate:"visible",className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl p-8 md:p-12 space-y-8 border border-blue-100 dark:border-slate-700",children:[a.jsxs(K.section,{variants:r,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(qne,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),a.jsx("div",{children:a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"1. Acceptance of Terms"})})]}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:'By accessing and using GreenPay ("the Application"), you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service.'})]}),a.jsxs(K.section,{variants:r,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(Oa,{className:"w-6 h-6 text-indigo-600 flex-shrink-0 mt-1"}),a.jsx("div",{children:a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"2. Use License"})})]}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"Permission is granted to temporarily download one copy of the materials (information or software) on GreenPay for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title, and under this license you may not:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[a.jsx("li",{children:"Modifying or copying the materials"}),a.jsx("li",{children:"Using the materials for any commercial purpose or for any public display"}),a.jsx("li",{children:"Attempting to decompile or reverse engineer any software contained on the Application"}),a.jsx("li",{children:"Removing any copyright or other proprietary notations from the materials"}),a.jsx("li",{children:'Transferring the materials to another person or "mirroring" the materials on any other server'}),a.jsx("li",{children:"Violating any applicable laws or regulations"})]})]}),a.jsxs(K.section,{variants:r,children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"3. Disclaimer of Warranties"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"The materials on GreenPay are provided on an 'as is' basis. GreenPay makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights. Further, GreenPay does not warrant or make any representations concerning the accuracy, likely results, or reliability of the use of the materials on its Internet web site or otherwise relating to such materials or on any sites linked to this site."})]}),a.jsxs(K.section,{variants:r,children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"4. Limitations of Liability"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"In no event shall GreenPay or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on GreenPay, even if GreenPay or an authorized representative has been notified orally or in writing of the possibility of such damage. Because some jurisdictions do not allow limitations on implied warranties, or limitations of liability for consequential or incidental damages, these limitations may not apply to you."})]}),a.jsxs(K.section,{variants:r,children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"5. Accuracy of Materials"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"The materials appearing on GreenPay could include technical, typographical, or photographic errors. GreenPay does not warrant that any of the materials on its Application are accurate, complete, or current. GreenPay may make changes to the materials contained on its Application at any time without notice."})]}),a.jsxs(K.section,{variants:r,children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"6. Materials on Other Sites"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"GreenPay has not reviewed all of the sites linked to its Application and is not responsible for the contents of any such linked site. The inclusion of any link does not imply endorsement by GreenPay of the site. Use of any such linked website is at the user's own risk."})]}),a.jsxs(K.section,{variants:r,children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"7. Modifications of Terms"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"GreenPay may revise these terms of service for its Application at any time without notice. By using this Application, you are agreeing to be bound by the then current version of these terms of service."})]}),a.jsxs(K.section,{variants:r,children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"8. Governing Law"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"These terms and conditions are governed by and construed in accordance with the laws of the jurisdiction in which GreenPay operates, and you irrevocably submit to the exclusive jurisdiction of the courts in that location."})]}),a.jsxs(K.section,{variants:r,children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"9. User Accounts and Passwords"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"When you create an account on GreenPay, you are responsible for:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[a.jsx("li",{children:"Maintaining the confidentiality of your account information and password"}),a.jsx("li",{children:"Restricting access to your computer or mobile device"}),a.jsx("li",{children:"Accepting responsibility for all activities that occur under your account"}),a.jsx("li",{children:"Notifying GreenPay immediately of any unauthorized use of your account"})]})]}),a.jsxs(K.section,{variants:r,children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"10. Payment and Financial Transactions"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"GreenPay facilitates financial transactions including money transfers, virtual card payments, currency exchange, and airtime purchases. By using these services, you:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[a.jsx("li",{children:"Acknowledge that all transactions are final and cannot be reversed"}),a.jsx("li",{children:"Accept responsibility for verifying recipient details before confirming payments"}),a.jsx("li",{children:"Understand that GreenPay acts as a facilitator and is not liable for third-party errors"}),a.jsx("li",{children:"Agree to comply with all applicable laws and regulations regarding financial transactions"}),a.jsx("li",{children:"Accept that transaction fees and exchange rates are clearly displayed before confirmation"})]})]}),a.jsxs(K.section,{variants:r,children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"11. Security and Privacy"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"GreenPay implements comprehensive security measures including:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[a.jsx("li",{children:"Two-factor authentication and biometric login capabilities"}),a.jsx("li",{children:"End-to-end encryption for sensitive data transmission"}),a.jsx("li",{children:"Regular security audits and vulnerability assessments"}),a.jsx("li",{children:"Compliance with international data protection standards"})]}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mt-3",children:"Your use of biometric authentication and backup codes is governed by these terms. You are solely responsible for safeguarding your backup codes."})]}),a.jsxs(K.section,{variants:r,children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"12. Document Upload and Verification"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"When you upload documents for KYC verification, you represent and warrant that:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[a.jsx("li",{children:"All documents are authentic and accurate"}),a.jsx("li",{children:"You have the right to upload and share the documents"}),a.jsx("li",{children:"The documents comply with all applicable privacy laws"}),a.jsx("li",{children:"GreenPay may verify documents with third-party services"})]})]}),a.jsxs(K.section,{variants:r,children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"13. Third-Party Services"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"GreenPay integrates with third-party services including WhatsApp Business API, Cloudinary, Mailtrap, and payment processors. Your use of these services is subject to their respective terms and conditions. GreenPay is not responsible for any issues arising from third-party services."})]}),a.jsxs(K.section,{variants:r,children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"14. Prohibited Activities"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"You agree not to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[a.jsx("li",{children:"Engage in any illegal or fraudulent activities"}),a.jsx("li",{children:"Use the Application for money laundering or terrorism financing"}),a.jsx("li",{children:"Attempt to gain unauthorized access to the Application or its systems"}),a.jsx("li",{children:"Harass, threaten, or defame other users"}),a.jsx("li",{children:"Upload malware, viruses, or malicious code"}),a.jsx("li",{children:"Interfere with the normal operation of the Application"})]})]}),a.jsxs(K.section,{variants:r,children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"15. Limitation of Service"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"GreenPay reserves the right to limit, suspend, or terminate your account if you violate these terms, engage in suspicious activities, or pose a security risk. Termination may result in loss of access to funds and account data."})]}),a.jsxs(K.section,{variants:r,children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"16. Intellectual Property Rights"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"All content on the GreenPay Application, including logos, designs, text, and graphics, are the property of GreenPay or its content suppliers and are protected by international copyright laws. You may not reproduce, distribute, or transmit any content without prior written permission."})]}),a.jsxs(K.section,{variants:r,children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"17. Indemnification"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"You agree to indemnify, defend, and hold harmless GreenPay and its officers, directors, employees, and agents from any and all claims, damages, losses, costs, and expenses (including attorney's fees) arising from or related to your use of the Application or violation of these terms."})]}),a.jsxs(K.section,{variants:r,children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"18. Contact Information"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"If you have any questions about these Terms and Conditions, please contact us at:"}),a.jsxs("div",{className:"mt-3 text-slate-700 dark:text-slate-300 space-y-1",children:[a.jsx("p",{children:"Email: support@greenpay.com"}),a.jsx("p",{children:"WhatsApp: Available through the Application"}),a.jsx("p",{children:"Support Page: /support"})]})]}),a.jsx(K.section,{variants:r,className:"pt-6 border-t border-slate-200 dark:border-slate-700",children:a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"By continuing to use GreenPay, you agree to be bound by all terms and conditions outlined above. Thank you for using GreenPay!"})})]}),a.jsxs(K.div,{variants:r,className:"mt-8 flex justify-center gap-4 flex-wrap",children:[a.jsx(ie,{onClick:()=>e("/login"),className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white px-8",children:"Back to Login"}),a.jsx(ie,{onClick:()=>e("/privacy"),variant:"outline",className:"border-blue-200 dark:border-blue-800",children:"Privacy Policy"})]})]})})}function XBe(){const[,e]=Jt(),t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},r={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-blue-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900 p-4",children:a.jsxs(K.div,{className:"max-w-4xl mx-auto",variants:t,initial:"hidden",animate:"visible",children:[a.jsxs(K.div,{variants:r,className:"mb-8 flex items-center gap-4",children:[a.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>e("/login"),className:"rounded-full hover:bg-emerald-100 dark:hover:bg-slate-800",children:a.jsx(ah,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-emerald-600 to-blue-600 bg-clip-text text-transparent",children:"Privacy Policy"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Your data, your control"})]})]}),a.jsx(K.p,{variants:r,className:"text-sm text-slate-600 dark:text-slate-400 mb-8",children:"Last updated: November 30, 2025"}),a.jsx(K.div,{variants:r,className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[{icon:$a,label:"Data Security",color:"from-emerald-500"},{icon:Oa,label:"Encryption",color:"from-blue-500"},{icon:qo,label:"Privacy Controls",color:"from-purple-500"}].map((n,i)=>a.jsxs(K.div,{whileHover:{scale:1.05},className:`bg-gradient-to-br ${n.color} to-slate-100 dark:to-slate-800 rounded-lg p-4 shadow-md`,children:[a.jsx(n.icon,{className:"w-8 h-8 text-slate-900 dark:text-white mb-2"}),a.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:n.label})]},i))}),a.jsxs(K.div,{variants:t,initial:"hidden",animate:"visible",className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl p-8 md:p-12 space-y-8 border border-emerald-100 dark:border-slate-700",children:[a.jsxs(K.section,{variants:r,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx($a,{className:"w-6 h-6 text-emerald-600 flex-shrink-0 mt-1"}),a.jsx("div",{children:a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"1. Information We Collect"})})]}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"We collect information necessary to provide our fintech services, including:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4 mt-3",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Identity Information:"})," Name, email, phone number, date of birth"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Financial Information:"})," Bank account details, card information, transaction history"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Identity Verification:"})," Government ID, passport, proof of residence"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Biometric Data:"})," Fingerprints and facial recognition for WebAuthn authentication"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Device Information:"})," IP address, device type, browser type, operating system"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Usage Data:"})," Features used, pages visited, transaction patterns"]})]})]}),a.jsxs(K.section,{variants:r,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(Oa,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),a.jsx("div",{children:a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"2. How We Use Your Information"})})]}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"We use your information to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[a.jsx("li",{children:"Process and facilitate financial transactions"}),a.jsx("li",{children:"Verify your identity and comply with KYC regulations"}),a.jsx("li",{children:"Provide secure authentication through biometric login"}),a.jsx("li",{children:"Detect and prevent fraud and illegal activities"}),a.jsx("li",{children:"Send important account and transaction notifications"}),a.jsx("li",{children:"Improve our services and user experience"}),a.jsx("li",{children:"Comply with legal and regulatory requirements"}),a.jsx("li",{children:"Provide customer support"})]})]}),a.jsxs(K.section,{variants:r,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(Ys,{className:"w-6 h-6 text-purple-600 flex-shrink-0 mt-1"}),a.jsx("div",{children:a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"3. Data Sharing and Third Parties"})})]}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"We share your data with trusted third parties only when necessary:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Payment Processors:"})," Stripe and other payment gateways for transaction processing"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"WhatsApp Business:"})," For customer communication and support"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Email Service:"})," Mailtrap for notification delivery"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Media Storage:"})," Cloudinary for secure document storage"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Regulatory Bodies:"})," As required by law and compliance obligations"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Law Enforcement:"})," When legally required or to prevent illegal activities"]})]}),a.jsx("div",{className:"mt-4 p-4 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg border border-emerald-200 dark:border-emerald-800",children:a.jsxs("p",{className:"text-sm text-emerald-900 dark:text-emerald-100",children:[a.jsx("strong",{children:"Note:"})," We never sell your personal data to advertisers or marketing companies."]})})]}),a.jsxs(K.section,{variants:r,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(Oa,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),a.jsx("div",{children:a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"4. Data Security"})})]}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"We implement industry-leading security measures to protect your data:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"End-to-End Encryption:"})," All data transmitted using TLS/SSL encryption"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Two-Factor Authentication:"})," Protect your account with 2FA and backup codes"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Biometric Security:"})," WebAuthn standard for secure device authentication"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Regular Audits:"})," Continuous security testing and vulnerability assessments"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Access Controls:"})," Strict permissions limiting employee access to sensitive data"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Data Minimization:"})," We only collect data necessary for our services"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Secure Storage:"})," Database encryption and secure backup procedures"]})]})]}),a.jsxs(K.section,{variants:r,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(qo,{className:"w-6 h-6 text-purple-600 flex-shrink-0 mt-1"}),a.jsx("div",{children:a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"5. Your Privacy Rights"})})]}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"You have the right to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Access:"})," Request a copy of all personal data we hold about you"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Rectification:"})," Correct inaccurate or incomplete information"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Deletion:"})," Request erasure of your data subject to legal requirements"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Portability:"})," Receive your data in a structured format"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Restrict Processing:"})," Limit how we use your information"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Object:"})," Opt-out of marketing communications"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Withdraw Consent:"})," Revoke permissions you've granted us"]})]}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mt-3",children:'To exercise these rights, contact us using the information in the "Contact Us" section.'})]}),a.jsxs(K.section,{variants:r,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx($o,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),a.jsx("div",{children:a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"6. Biometric Data and WebAuthn"})})]}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"When you enable biometric login through WebAuthn, we securely store your biometric credential ID on our servers. Your actual biometric data (fingerprint/face) never leaves your device. The biometric template is processed locally by your device's secure enclave, and only the credential ID is transmitted for authentication verification. You can disable biometric login at any time in your settings, which will delete all stored credential data."})]}),a.jsxs(K.section,{variants:r,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(zc,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-1"}),a.jsx("div",{children:a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"7. Data Retention"})})]}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"We retain your personal data only as long as necessary to provide our services and comply with legal requirements. Transaction records are retained for a minimum of 7 years per financial regulations. You can request deletion of non-essential data anytime through your account settings. Upon account deletion, we securely dispose of your data, except where we're legally required to retain it."})]}),a.jsxs(K.section,{variants:r,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx($a,{className:"w-6 h-6 text-emerald-600 flex-shrink-0 mt-1"}),a.jsx("div",{children:a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"8. Cookies and Tracking"})})]}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"We use essential cookies to maintain your session and provide security features. We do not use tracking cookies for advertising purposes. You can manage cookie preferences in your browser settings. Disabling cookies may limit certain features of our application."})]}),a.jsxs(K.section,{variants:r,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(Ys,{className:"w-6 h-6 text-purple-600 flex-shrink-0 mt-1"}),a.jsx("div",{children:a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"9. Children's Privacy"})})]}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"GreenPay is not intended for users under 18 years of age. We do not knowingly collect personal information from children. If we become aware that a child has provided us with personal information, we will delete such information immediately and terminate the child's account."})]}),a.jsxs(K.section,{variants:r,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(Oa,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),a.jsx("div",{children:a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"10. Policy Updates"})})]}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"We may update this Privacy Policy periodically to reflect changes in our practices, technology, legal requirements, or other factors. We will notify you of material changes via email or through a prominent notice on our platform. Your continued use of GreenPay following such notification constitutes your acceptance of the updated Privacy Policy."})]}),a.jsxs(K.section,{variants:r,children:[a.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-3",children:[a.jsx(Ys,{className:"w-6 h-6 text-purple-600"}),"11. Contact Us"]}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"If you have questions about our Privacy Policy or your data, please contact us:"}),a.jsxs("div",{className:"space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[a.jsx("p",{children:" Email: privacy@greenpay.com"}),a.jsx("p",{children:" WhatsApp: Available through the Application"}),a.jsx("p",{children:" Support Page: /support"})]})]}),a.jsxs(K.section,{variants:r,className:"pt-8 border-t border-slate-200 dark:border-slate-700",children:[a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Also review our Terms and Conditions:"}),a.jsx(ie,{variant:"outline",onClick:()=>e("/terms"),className:"border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 font-semibold",children:"View Terms and Conditions"})]})]}),a.jsxs(K.div,{variants:r,className:"mt-8 flex justify-center gap-4 flex-wrap",children:[a.jsx(ie,{onClick:()=>e("/login"),className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white px-8",children:"Back to Login"}),a.jsx(ie,{onClick:()=>e("/terms"),variant:"outline",className:"border-emerald-200 dark:border-emerald-800",children:"Terms and Conditions"})]})]})})}function ZBe(){const[,e]=Jt(),{user:t}=kr(),{toast:r}=Et(),[n,i]=S.useState(!1),[s,o]=S.useState(""),l=t!=null&&t.createdAt?Math.floor((Date.now()-new Date(t.createdAt).getTime())/(1e3*60*60*24)):0,c=l>=30,u=(t==null?void 0:t.kycStatus)==="verified",{data:d,isLoading:f}=Xt({queryKey:["/api/loans/performance",t==null?void 0:t.id],enabled:!!(t!=null&&t.id),queryFn:async()=>(await qe("GET","/api/loans/performance")).json()}),{data:h,isLoading:p}=Xt({queryKey:["/api/loans",t==null?void 0:t.id],enabled:!!(t!=null&&t.id),queryFn:async()=>(await qe("GET","/api/loans")).json()}),y=kt({mutationFn:async()=>(await qe("POST","/api/loans/apply",{amount:parseFloat(s)})).json(),onSuccess:C=>{r({title:"Loan Application Submitted",description:`Requested amount: $${s}. Admin will review your application.`}),o(""),i(!1)},onError:C=>{r({title:"Application Failed",description:C.message||"Unable to submit loan application",variant:"destructive"})}}),m=(d==null?void 0:d.performance)||{},v=(h==null?void 0:h.loans)||[],g=v.find(C=>C.status==="active"),x=m.score||0,w=Math.min(m.maxLoanAmount||0,5e4),j=c&&u&&x>=60&&!g,N=[];c||N.push(`Account must be 30+ days old (${l} days)`),u||N.push("KYC verification required"),x<60&&N.push(`Performance score too low (${x}/100)`),g&&N.push("Active loan exists");const P=C=>C>=80?"text-green-600":C>=60?"text-amber-600":"text-red-600",k=C=>C>=80?"bg-green-50 dark:bg-green-950/20":C>=60?"bg-amber-50 dark:bg-amber-950/20":"bg-red-50 dark:bg-red-950/20";return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/dashboard"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"Loans"})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:a.jsx(ie,{onClick:()=>{c?u?x<60?r({title:"Score Too Low",description:`Your performance score is ${x}/100. Need 60+ to qualify.`,variant:"destructive"}):r(g?{title:"Active Loan Exists",description:"Pay off your current loan before applying for a new one.",variant:"destructive"}:{title:"Eligible! ",description:`You can borrow up to $${Gt(w)}.`}):r({title:"KYC Required",description:"Complete identity verification in settings to check your loan limit.",variant:"destructive"}):r({title:"Account Too New",description:`Your account needs to be 30 days old. Current age: ${l} days. Wait ${30-l} more days.`,variant:"destructive"})},className:"w-full bg-gradient-to-r from-primary via-primary to-secondary hover:opacity-90 text-white",children:"Check Your Loan Limit"})}),!j&&a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm font-semibold text-amber-900 dark:text-amber-100 mb-2",children:"Not Eligible Yet"}),a.jsx("ul",{className:"space-y-1",children:N.map((C,O)=>a.jsxs("li",{className:"text-xs text-amber-800 dark:text-amber-200 flex items-start gap-2",children:[a.jsx("span",{className:"mt-0.5",children:""}),a.jsx("span",{children:C})]},O))})]}),a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-2xl border border-border p-6",children:[a.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[a.jsx(uv,{className:"w-5 h-5 text-primary"}),"Account Performance"]}),f?a.jsxs("div",{className:"space-y-3 animate-pulse",children:[a.jsx("div",{className:"h-4 bg-muted rounded"}),a.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:`${k(x)} rounded-lg p-4`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-semibold",children:"Performance Score"}),a.jsxs("span",{className:`text-2xl font-bold ${P(x)}`,children:[x,"/100"]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full transition-all ${x>=80?"bg-green-600":x>=60?"bg-amber-600":"bg-red-600"}`,style:{width:`${x}%`}})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total Transactions"}),a.jsx("p",{className:"font-bold text-lg",children:m.transactionCount||0})]}),a.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Account Age"}),a.jsxs("p",{className:"font-bold text-lg",children:[m.accountAgeDays||0," days"]})]}),a.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total Volume"}),a.jsxs("p",{className:"font-bold text-lg",children:["$",Gt(m.totalVolume||0)]})]}),a.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"KYC Status"}),a.jsx("p",{className:"font-bold text-lg capitalize",children:m.kycStatus||"Not verified"})]})]}),a.jsxs("div",{className:`rounded-lg p-4 flex items-start gap-3 ${j?"bg-green-50 dark:bg-green-950/20":"bg-amber-50 dark:bg-amber-950/20"}`,children:[j?a.jsx(Rr,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}):a.jsx(Ai,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:`font-semibold ${j?"text-green-900 dark:text-green-100":"text-amber-900 dark:text-amber-100"}`,children:j?`You're Eligible! Limit: $${Gt(w)}`:"Not Eligible Yet"}),a.jsx("p",{className:`text-sm ${j?"text-green-700 dark:text-green-200":"text-amber-700 dark:text-amber-200"}`,children:j?"You meet all requirements. Apply now!":N.length>0?N[0]:"Build your account history"})]})]})]})]}),g&&a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-2xl border border-primary/20 p-6",children:[a.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[a.jsx(Zn,{className:"w-5 h-5 text-primary"}),"Active Loan"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Loan Amount"}),a.jsxs("span",{className:"font-bold",children:["$",Gt(g.amount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Remaining Balance"}),a.jsxs("span",{className:"font-bold",children:["$",Gt(g.remainingBalance)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Monthly Payment"}),a.jsxs("span",{className:"font-bold",children:["$",Gt(g.monthlyPayment)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Next Payment"}),a.jsx("span",{className:"font-bold",children:new Date(g.nextPaymentDate).toLocaleDateString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Interest Rate"}),a.jsxs("span",{className:"font-bold",children:[g.interestRate,"% per year"]})]})]})]}),!g&&a.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-2xl border border-border p-6",children:n?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Loan Amount (USD)"}),a.jsx("input",{type:"number",value:s,onChange:C=>o(C.target.value),placeholder:`Up to $${Gt(w)}`,max:w,min:100,step:100,className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Maximum: $",Gt(w)]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ie,{onClick:()=>i(!1),variant:"outline",className:"flex-1",children:"Cancel"}),a.jsx(ie,{onClick:()=>y.mutate(),disabled:!s||parseFloat(s)<=0||y.isPending,className:"flex-1 bg-primary hover:bg-primary/90",children:y.isPending?"Submitting...":"Submit Application"})]})]}):a.jsx(ie,{onClick:()=>i(!0),disabled:!j,className:"w-full bg-gradient-to-r from-primary via-primary to-secondary hover:opacity-90 text-white disabled:opacity-50",children:j?"Apply for a Loan":"Complete Requirements to Apply"})}),v.length>0&&a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-2xl border border-border p-6",children:[a.jsx("h2",{className:"text-lg font-bold mb-4",children:"Loan History"}),a.jsx("div",{className:"space-y-3",children:v.map(C=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold capitalize",children:C.status}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",Gt(C.amount)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold",children:["$",Gt(C.remainingBalance)]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[C.interestRate,"% APR"]})]})]},C.id))})]})]})]})}function QBe(){const[,e]=Jt(),{toast:t}=Et(),[r,n]=S.useState([]);S.useState(new Set);const[i,s]=S.useState(!1),[o,l]=S.useState(!1),[c,u]=S.useState({name:"",scopes:["read","write"],rateLimit:"1000"}),[d,f]=S.useState(null);S.useEffect(()=>{h()},[]);const h=async()=>{try{s(!0);const v=await fetch("/api/admin/api-keys",{credentials:"include"});if(v.ok){const g=await v.json();n(g.keys||[])}else{const g=await v.json().catch(()=>({}));console.error(`API Error ${v.status}:`,g),v.status===401?t({description:"Please log in to view API keys",variant:"destructive"}):v.status===403?t({description:"You need admin privileges to manage API keys",variant:"destructive"}):t({description:g.message||g.error||"Failed to load API keys",variant:"destructive"})}}catch(v){console.error("Failed to fetch API keys:",v),t({description:"Network error loading API keys",variant:"destructive"})}finally{s(!1)}},p=async v=>{if(v.preventDefault(),!c.name.trim()){t({description:"Please enter a key name",variant:"destructive"});return}try{const g=await fetch("/api/admin/api-keys/generate",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:c.name,scope:c.scopes,rateLimit:parseInt(c.rateLimit)})}),x=await g.json();g.ok?(f(x.key),u({name:"",scopes:["read","write"],rateLimit:"1000"}),t({description:"API key generated successfully! Copy it now."}),await h()):t({description:x.error||"Failed to generate key",variant:"destructive"})}catch{t({description:"Error generating API key",variant:"destructive"})}},y=async v=>{try{(await fetch(`/api/admin/api-keys/${v}/revoke`,{method:"POST",credentials:"include"})).ok?(t({description:"API key revoked successfully"}),await h()):t({description:"Failed to revoke key",variant:"destructive"})}catch{t({description:"Error revoking API key",variant:"destructive"})}},m=v=>{navigator.clipboard.writeText(v),t({description:"Copied to clipboard"})};return a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsx(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center justify-between elevation-1",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/dashboard"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors",children:"arrow_back"}),a.jsx("h1",{className:"text-lg font-semibold",children:"API Services"})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-2xl border border-primary/20 p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"GreenPay API"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Integrate GreenPay's payment services into your applications."}),a.jsx("div",{className:"flex gap-2 flex-wrap",children:a.jsxs(ie,{size:"sm",onClick:()=>e("/api-documentation"),children:[a.jsx(nM,{className:"w-4 h-4 mr-2"}),"Documentation"]})})]}),a.jsx(nM,{className:"w-16 h-16 text-primary/30"})]})}),a.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{title:"RESTful API",description:"Modern REST endpoints for all operations"},{title:"Rate Limiting",description:"Flexible rate limits based on your plan"},{title:"Webhook Support",description:"Real-time event notifications"}].map((v,g)=>a.jsxs("div",{className:"bg-card rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Rr,{className:"w-5 h-5 text-green-600"}),a.jsx("h3",{className:"font-semibold",children:v.title})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:v.description})]},g))}),a.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(ps,{open:o,onOpenChange:l,children:[a.jsx(mh,{asChild:!0,children:a.jsxs(ie,{className:"w-full bg-gradient-to-r from-primary via-primary to-secondary",children:[a.jsx(gA,{className:"w-4 h-4 mr-2"}),"Generate New API Key"]})}),a.jsxs(Ba,{children:[a.jsx(oa,{children:a.jsx($i,{children:"Generate New API Key"})}),d?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm font-semibold text-green-900 dark:text-green-100 mb-3",children:"Your API key has been generated!"}),a.jsx("div",{className:"bg-background p-3 rounded font-mono text-sm break-all border border-border mb-3",children:d}),a.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Copy this key now. You won't be able to see it again!"}),a.jsxs(ie,{onClick:()=>m(d),className:"w-full",children:[a.jsx(bU,{className:"w-4 h-4 mr-2"}),"Copy Key"]})]}),a.jsx(ie,{variant:"outline",onClick:()=>{f(null),l(!1)},children:"Done"})]}):a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Key Name"}),a.jsx($e,{placeholder:"e.g., Mobile App, Backend Service",value:c.name,onChange:v=>u({...c,name:v.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Rate Limit (requests/minute)"}),a.jsxs(Hr,{value:c.rateLimit,onValueChange:v=>u({...c,rateLimit:v}),children:[a.jsx($r,{children:a.jsx(Kr,{})}),a.jsxs(Br,{children:[a.jsx(nt,{value:"100",children:"100"}),a.jsx(nt,{value:"500",children:"500"}),a.jsx(nt,{value:"1000",children:"1,000"}),a.jsx(nt,{value:"5000",children:"5,000"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Scopes"}),a.jsx("div",{className:"space-y-2",children:["read","write"].map(v=>a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:c.scopes.includes(v),onChange:g=>{g.target.checked?u({...c,scopes:[...c.scopes,v]}):u({...c,scopes:c.scopes.filter(x=>x!==v)})},className:"rounded"}),a.jsx("span",{className:"text-sm capitalize",children:v})]},v))})]}),a.jsx(ie,{type:"submit",className:"w-full",children:"Generate Key"})]})]})]})}),a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Your API Keys"}),i?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin",children:""}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading keys..."})]}):r.length===0?a.jsx("div",{className:"bg-card rounded-lg border border-border p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No API keys yet. Generate one to get started!"})}):a.jsx("div",{className:"space-y-3",children:r.map(v=>a.jsxs("div",{className:"bg-card rounded-lg border border-border p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h4",{className:"font-semibold",children:v.name}),a.jsx("span",{className:`text-xs px-2 py-1 rounded ${v.isActive?"bg-green-100 text-green-800 dark:bg-green-950 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-950 dark:text-red-200"}`,children:v.isActive?"Active":"Revoked"})]}),a.jsxs("div",{className:"flex gap-3 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Scopes: ",v.scope.join(", ")]}),a.jsxs("span",{children:["Rate: ",v.rateLimit,"/min"]}),v.lastUsedAt&&a.jsxs("span",{children:["Last used:"," ",new Date(v.lastUsedAt).toLocaleDateString()]})]})]}),v.isActive&&a.jsx(ie,{variant:"destructive",size:"sm",onClick:()=>y(v.id),children:a.jsx(zc,{className:"w-4 h-4"})})]},v.id))})]}),a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card rounded-lg border border-border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Available Endpoints"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:["POST /api/auth/signup","POST /api/auth/login","POST /api/transactions/send","GET /api/exchange-rates/:from/:to","POST /api/deposit/initialize-payment","POST /api/airtime/purchase","GET /api/notifications","POST /api/support/tickets"].map((v,g)=>a.jsx("div",{className:"bg-muted/50 rounded p-3 font-mono text-xs",children:v},g))}),a.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"See the full API documentation for all 30+ endpoints and examples."})]})]})]})}const Dx=[{method:"POST",path:"/auth/signup",title:"Sign Up",description:"Create new user account",category:"Authentication",request:JSON.stringify({fullName:"John Doe",email:"john@example.com",phone:"+254712345678",country:"KE",password:"SecurePass123!"},null,2),response:JSON.stringify({user:{id:"user-id-123",email:"john@example.com",fullName:"John Doe",phone:"+254712345678",country:"KE",isPhoneVerified:!0,isEmailVerified:!0},message:"Account created successfully"},null,2),examples:[{language:"JavaScript",code:`const response = await fetch('https://greenpay.world/api/auth/signup', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer gpay_xxxxx',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    fullName: "John Doe",
    email: "john@example.com",
    phone: "+254712345678",
    country: "KE",
    password: "SecurePass123!"
  })
});
const data = await response.json();`},{language:"Python",code:`import requests
response = requests.post(
  'https://greenpay.world/api/auth/signup',
  headers={'Authorization': 'Bearer gpay_xxxxx'},
  json={
    'fullName': 'John Doe',
    'email': 'john@example.com',
    'phone': '+254712345678',
    'country': 'KE',
    'password': 'SecurePass123!'
  }
)
data = response.json()`},{language:"cURL",code:`curl -X POST https://greenpay.world/api/auth/signup \\
  -H "Authorization: Bearer gpay_xxxxx" \\
  -H "Content-Type: application/json" \\
  -d '{
    "fullName": "John Doe",
    "email": "john@example.com",
    "phone": "+254712345678",
    "country": "KE",
    "password": "SecurePass123!"
  }'`}]},{method:"POST",path:"/auth/login",title:"Login",description:"User login with email and password",category:"Authentication",request:JSON.stringify({email:"john@example.com",password:"SecurePass123!"},null,2),response:JSON.stringify({user:{id:"user-id",email:"john@example.com",fullName:"John Doe",balance:"0.00",kycStatus:"pending"},requiresOtp:!0,message:"OTP sent to your phone"},null,2)},{method:"POST",path:"/auth/verify-otp",title:"Verify OTP",description:"Verify OTP code for login",category:"Authentication",request:JSON.stringify({code:"123456"},null,2),response:JSON.stringify({success:!0,user:{id:"user-id",email:"john@example.com"},message:"Login successful"},null,2)},{method:"GET",path:"/exchange-rates/:base",title:"Get Exchange Rates",description:"Get exchange rates for a base currency",category:"Financial",response:JSON.stringify({base:"USD",rates:{KES:145.5,EUR:.92,GBP:.79},timestamp:"2024-01-15T10:30:00Z"},null,2)},{method:"POST",path:"/exchange/convert",title:"Convert Currency",description:"Convert between currencies",category:"Financial",request:JSON.stringify({amount:"100",fromCurrency:"USD",toCurrency:"KES"},null,2),response:JSON.stringify({fromAmount:"100",fromCurrency:"USD",toAmount:"14550.00",toCurrency:"KES",rate:145.5,fee:"10.00",netAmount:"14540.00"},null,2)},{method:"GET",path:"/transactions",title:"Get Transactions",description:"Retrieve all user transactions",category:"Financial",response:JSON.stringify({transactions:[{id:"txn-id",type:"send",amount:"500",currency:"KES",status:"completed",recipientName:"Jane Doe",timestamp:"2024-01-15T10:30:00Z"}]},null,2)},{method:"POST",path:"/deposit/initialize-payment",title:"Initialize Deposit",description:"Start a deposit transaction",category:"Financial",request:JSON.stringify({amount:"1000",currency:"KES",paymentMethod:"mpesa"},null,2),response:JSON.stringify({paymentId:"pay-id",amount:"1000",currency:"KES",status:"pending",paymentLink:"https://pay.greenpay.world/...",expiresAt:"2024-01-15T11:30:00Z"},null,2)},{method:"POST",path:"/airtime/purchase",title:"Purchase Airtime",description:"Buy airtime for a phone",category:"Financial",request:JSON.stringify({phoneNumber:"+254712345678",amount:"50",provider:"safaricom"},null,2),response:JSON.stringify({transaction:{id:"txn-id",status:"completed",phoneNumber:"+254712345678",amount:"50",provider:"safaricom",timestamp:"2024-01-15T10:30:00Z"}},null,2)},{method:"GET",path:"/users/profile",title:"Get Profile",description:"Retrieve user profile information",category:"User Profile",response:JSON.stringify({id:"user-id",fullName:"John Doe",email:"john@example.com",phone:"+254712345678",country:"KE",balance:"10000.00",currency:"KES",kycStatus:"verified",hasVirtualCard:!0},null,2)},{method:"PUT",path:"/users/profile",title:"Update Profile",description:"Update user profile data",category:"User Profile",request:JSON.stringify({fullName:"John Updated",phone:"+254712345679",darkMode:!0},null,2),response:JSON.stringify({user:{id:"user-id",fullName:"John Updated"},message:"Profile updated successfully"},null,2)},{method:"POST",path:"/kyc/submit",title:"Submit KYC",description:"Submit KYC documents for verification",category:"User Profile",request:JSON.stringify({documentType:"national_id",frontImage:"base64-encoded-image",dateOfBirth:"1990-01-15"},null,2),response:JSON.stringify({kyc:{id:"kyc-id",status:"pending",submittedAt:"2024-01-15T10:30:00Z"}},null,2)},{method:"GET",path:"/notifications",title:"Get Notifications",description:"Retrieve user notifications",category:"User Profile",response:JSON.stringify({notifications:[{id:"notif-id",title:"Payment Received",message:"You received 1000 KES from John",read:!1,timestamp:"2024-01-15T10:30:00Z"}]},null,2)},{method:"POST",path:"/support/tickets",title:"Create Ticket",description:"Create a support ticket",category:"Support",request:JSON.stringify({issueType:"payment_issue",description:"Transaction failed but money was deducted"},null,2),response:JSON.stringify({ticket:{id:"ticket-id",status:"open",createdAt:"2024-01-15T10:30:00Z",trackingUrl:"https://support.greenpay.world/tickets/..."}},null,2)},{method:"GET",path:"/support/tickets",title:"Get Support Tickets",description:"Retrieve all support tickets",category:"Support",response:JSON.stringify({tickets:[{id:"ticket-id",status:"open",issueType:"payment_issue",createdAt:"2024-01-15T10:30:00Z"}]},null,2)},{method:"GET",path:"/system/status",title:"System Status",description:"Check API and system health",category:"System",response:JSON.stringify({status:"operational",version:"1.0.0",timestamp:"2024-01-15T10:30:00Z",components:{api:"operational",database:"operational",whatsapp:"operational",email:"operational"}},null,2)}];function JBe(){const[,e]=Jt(),[t,r]=S.useState(null),[n,i]=S.useState(null),[s,o]=S.useState(""),[l,c]=S.useState(null),[u,d]=S.useState(null),{toast:f}=Et();kr();const h=Array.from(new Set(Dx.map(m=>m.category))),p=(m,v)=>{navigator.clipboard.writeText(m),r(v),f({description:"Copied to clipboard"}),setTimeout(()=>r(null),2e3)},y=()=>{try{const m=new At({orientation:"p",unit:"mm",format:"a4"}),v=m.internal.pageSize.getWidth(),g=m.internal.pageSize.getHeight();let x=15;m.setFillColor(34,197,94),m.rect(0,0,v,50,"F"),m.setTextColor(255,255,255),m.setFont("helvetica","bold"),m.setFontSize(28),m.text("GreenPay API",15,25),m.setFontSize(14),m.text("Complete Developer Reference",15,35),m.setFontSize(10),m.text("Version 1.0.0 - November 2024",15,42),m.addPage(),x=15,m.setTextColor(0,0,0),m.setFont("helvetica","bold"),m.setFontSize(16),m.text("Table of Contents",15,x),x+=12,h.forEach((j,N)=>{m.setFont("helvetica","normal"),m.setFontSize(10);const P=Dx.filter(k=>k.category===j).length;m.text(`${N+1}. ${j} (${P} endpoints)`,20,x),x+=8}),h.forEach(j=>{m.addPage(),x=15,m.setFillColor(34,197,94),m.rect(0,x-8,v,12,"F"),m.setTextColor(255,255,255),m.setFont("helvetica","bold"),m.setFontSize(14),m.text(j,15,x),x+=18,Dx.filter(N=>N.category===j).forEach(N=>{x>g-40&&(m.addPage(),x=15),m.setTextColor(0,0,0),m.setFont("helvetica","bold"),m.setFontSize(11),m.text(`${N.method} ${N.path}`,15,x),x+=6,m.setFont("helvetica","normal"),m.setFontSize(10),m.setTextColor(100,100,100),m.text(N.title,15,x),x+=4,m.setTextColor(80,80,80);const P=m.splitTextToSize(N.description,180);m.text(P,15,x),x+=P.length*4+3,N.request&&(x>g-30&&(m.addPage(),x=15),m.setFont("helvetica","bold"),m.setTextColor(34,197,94),m.setFontSize(9),m.text("Request Body:",15,x),x+=5,m.setFont("courier","normal"),m.setFontSize(8),m.setTextColor(40,40,40),N.request.split(`
`).forEach(C=>{x>g-15&&(m.addPage(),x=15),m.text(C,18,x),x+=3.5}),x+=2),N.response&&(x>g-30&&(m.addPage(),x=15),m.setFont("helvetica","bold"),m.setTextColor(34,197,94),m.setFontSize(9),m.text("Response:",15,x),x+=5,m.setFont("courier","normal"),m.setFontSize(8),m.setTextColor(40,40,40),N.response.split(`
`).forEach(C=>{x>g-15&&(m.addPage(),x=15),m.text(C,18,x),x+=3.5}),x+=5)})});const w=m.getNumberOfPages();for(let j=1;j<=w;j++)m.setPage(j),m.setFontSize(9),m.setTextColor(150,150,150),m.text(`Page ${j} of ${w}`,v-30,g-10),m.text("GreenPay  2024",15,g-10);m.save("GreenPay-API-Documentation.pdf"),f({description:"PDF downloaded successfully"})}catch{f({description:"Error generating PDF",variant:"destructive"})}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white to-green-50 pb-20",children:[a.jsx(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-green-600 to-green-700 shadow-lg p-4 sm:p-6 sticky top-0 z-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[a.jsx("button",{onClick:()=>e("/api-service"),className:"text-white hover:bg-green-700 p-2 rounded-lg transition-colors",children:" Back"}),a.jsx("div",{className:"hidden sm:flex items-center gap-3 flex-1 mx-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"GreenPay API"}),a.jsx("p",{className:"text-green-100 text-sm",children:"Complete API Reference & Examples"})]})}),a.jsx("div",{className:"sm:hidden flex-1 mx-3",children:a.jsx("h1",{className:"text-lg font-bold text-white",children:"Documentation"})}),a.jsxs("button",{onClick:y,className:"bg-white text-green-600 hover:bg-green-50 p-2 sm:px-4 sm:py-2 rounded-lg font-semibold flex items-center gap-2 transition-all",children:[a.jsx(Gs,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Download PDF"})]})]})}),a.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:[a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-green-600",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Test API Endpoints"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"password",placeholder:"Enter your API key (gpay_...)",value:s,onChange:m=>o(m.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600"}),a.jsx("button",{onClick:()=>o(""),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 font-medium",children:"Clear"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Your API key is stored locally only - never sent to external servers"})]}),h.map(m=>a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-1 w-8 bg-green-600 rounded"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:m}),a.jsx("span",{className:"text-sm font-semibold bg-green-100 text-green-700 px-3 py-1 rounded-full",children:Dx.filter(v=>v.category===m).length})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:Dx.filter(v=>v.category===m).map((v,g)=>{var j,N;const x=`${v.method}-${v.path}`,w=n===x;return a.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden hover:shadow-lg transition-all",children:[a.jsx("button",{onClick:()=>i(w?null:x),className:"w-full text-left bg-gradient-to-r from-gray-50 to-gray-100 p-4 border-b hover:from-gray-100 hover:to-gray-150 transition-all",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded text-white ${v.method==="GET"?"bg-blue-600":"bg-green-600"}`,children:v.method}),a.jsx("code",{className:"font-mono text-sm font-semibold text-gray-900",children:v.path})]}),a.jsx("h4",{className:"text-lg font-bold text-gray-900",children:v.title}),a.jsx("p",{className:"text-sm text-gray-600",children:v.description})]}),a.jsx(Yne,{className:`w-6 h-6 text-green-600 opacity-20 flex-shrink-0 transition-transform ${w?"rotate-180":""}`})]})}),w&&a.jsxs("div",{className:"p-6 space-y-4 bg-white",children:[v.request&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Request"}),a.jsx("button",{onClick:()=>p(v.request,`req-${x}`),className:`text-xs px-2 py-1 rounded transition-all ${t===`req-${x}`?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:t===`req-${x}`?"Copied":"Copy"})]}),a.jsx("pre",{className:"bg-gray-900 text-gray-100 p-3 rounded text-xs overflow-x-auto",children:v.request})]}),v.response&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Response Example"}),a.jsx("button",{onClick:()=>p(v.response,`resp-${x}`),className:`text-xs px-2 py-1 rounded transition-all ${t===`resp-${x}`?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:t===`resp-${x}`?"Copied":"Copy"})]}),a.jsx("pre",{className:"bg-green-50 border border-green-300 text-gray-900 p-3 rounded text-xs overflow-x-auto",children:v.response})]}),v.examples&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold text-gray-700 mb-3 block",children:"Code Examples"}),a.jsx("div",{className:"flex gap-2 mb-3",children:v.examples.map(P=>a.jsx("button",{onClick:()=>d(u===P.language?null:P.language),className:`px-3 py-1 rounded text-sm font-medium transition-all ${u===P.language?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:P.language},P.language))}),u&&a.jsxs("div",{children:[a.jsx("button",{onClick:()=>{var P;return p(((P=v.examples.find(k=>k.language===u))==null?void 0:P.code)||"",`ex-${x}-${u}`)},className:`text-xs px-2 py-1 rounded transition-all mb-2 ${t===`ex-${x}-${u}`?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:t===`ex-${x}-${u}`?"Copied":"Copy Code"}),a.jsx("pre",{className:"bg-gray-900 text-gray-100 p-3 rounded text-xs overflow-x-auto",children:(N=(j=v.examples)==null?void 0:j.find(P=>P.language===u))==null?void 0:N.code})]})]}),a.jsxs("button",{onClick:()=>{if(!s){f({description:"Please enter your API key",variant:"destructive"});return}c(JSON.stringify(JSON.parse(v.response||"{}"),null,2))},className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center gap-2 transition-all",children:[a.jsx(SU,{className:"w-4 h-4"}),"Test This Endpoint"]}),l&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-gray-700 mb-2",children:"Test Response:"}),a.jsx("pre",{className:"bg-blue-50 border border-blue-300 text-gray-900 p-3 rounded text-xs overflow-x-auto",children:l})]})]})]},g)})})]},m)),a.jsx("div",{className:"text-center text-sm text-gray-500 py-6 border-t",children:a.jsx("p",{children:" 2024 GreenPay. All rights reserved. API v1.0.0"})})]})]})}function eUe(){var x;const[,e]=Jt(),[t,r]=S.useState(null),[n,i]=S.useState(""),[s,o]=S.useState(null),{toast:l}=Et(),c=Jr(),{data:u,isLoading:d,refetch:f,isFetching:h}=Xt({queryKey:["user-support-tickets"],queryFn:async()=>{const w=await fetch("/api/user/support-tickets",{credentials:"include"});if(!w.ok)throw new Error("Failed to fetch");return w.json()}}),p=kt({mutationFn:async()=>{const w=new FormData;w.append("content",n),s&&w.append("file",s);const j=await fetch(`/api/user/support-tickets/${t}/reply`,{method:"POST",credentials:"include",body:w});if(!j.ok)throw new Error("Failed to send reply");return j.json()},onSuccess:()=>{c.invalidateQueries({queryKey:["user-support-tickets"]}),l({title:"Reply sent successfully"}),i(""),o(null)},onError:w=>{console.error("Reply error:",w),l({title:"Failed to send reply",variant:"destructive"})}});if(d)return a.jsx("div",{className:"p-8 text-center",children:"Loading..."});const y=(u==null?void 0:u.tickets)||[],m=t?y.find(w=>w.id===t):null,v=w=>{switch(w){case"open":return a.jsx(Ai,{className:"w-5 h-5 text-emerald-600"});case"in_progress":return a.jsx(Vo,{className:"w-5 h-5 text-emerald-500"});case"resolved":case"closed":return a.jsx(Rr,{className:"w-5 h-5 text-emerald-700"});default:return a.jsx(Ai,{className:"w-5 h-5"})}},g=w=>{switch(w){case"open":return"bg-emerald-50 text-emerald-800 border-emerald-300";case"in_progress":return"bg-emerald-100 text-emerald-800 border-emerald-300";case"resolved":return"bg-emerald-100 text-emerald-800 border-emerald-300";case"closed":return"bg-emerald-50 text-emerald-800 border-emerald-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}};return m?a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1 border-b border-border",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>r(null),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors",children:"arrow_back"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-semibold",children:m.issueType}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Qr(new Date(m.createdAt),"MMM d, yyyy HH:mm")})]}),a.jsxs("div",{className:"ml-auto flex gap-2",children:[a.jsx(lt,{className:`${g(m.status)} border text-xs`,children:m.status}),a.jsx(lt,{variant:"outline",className:"text-xs bg-emerald-50 text-emerald-700 border-emerald-300",children:m.priority})]})]}),a.jsxs("div",{className:"p-4 space-y-4 max-w-full",children:[a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card p-4 rounded-xl border border-emerald-200 elevation-1 bg-gradient-to-br from-emerald-50 to-transparent",children:[a.jsx("p",{className:"text-sm font-semibold text-emerald-800 mb-2",children:"ISSUE DESCRIPTION"}),a.jsx("p",{className:"text-sm text-foreground",children:m.description})]}),a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card rounded-xl border border-emerald-200 elevation-1",children:[a.jsx("div",{className:"p-4 border-b border-emerald-200 bg-gradient-to-r from-emerald-50 to-transparent",children:a.jsxs("p",{className:"text-sm font-semibold text-emerald-800",children:["CONVERSATION (",((x=m.replies)==null?void 0:x.length)||0,")"]})}),a.jsx("div",{className:"p-4 max-h-80 overflow-y-auto space-y-3",children:!m.replies||m.replies.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-6 text-sm",children:"No replies yet"}):m.replies.map(w=>a.jsxs(K.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:`p-3 rounded-lg text-sm ${w.senderType==="admin"?"bg-emerald-50 border-l-4 border-emerald-500":"bg-muted border-l-4 border-muted-foreground"}`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"font-semibold text-xs text-emerald-800",children:w.senderType==="admin"?" Support":" You"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:Qr(new Date(w.createdAt),"MMM d HH:mm")})]}),a.jsx("p",{className:"text-foreground",children:w.content}),w.fileUrl&&a.jsxs("a",{href:w.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-emerald-600 mt-2 inline-block hover:underline font-semibold",children:[" ",w.fileName||"Download"]})]},w.id))})]}),a.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card p-4 rounded-xl border border-emerald-200 elevation-1 bg-gradient-to-br from-emerald-50 to-transparent",children:[a.jsx("p",{className:"text-sm font-semibold text-emerald-800 mb-3",children:"SEND REPLY"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ys,{placeholder:"Type your response...",value:n,onChange:w=>i(w.target.value),rows:2,className:"text-sm rounded-lg"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx($e,{type:"file",onChange:w=>{var j;return o(((j=w.target.files)==null?void 0:j[0])||null)},className:"text-sm flex-1",accept:"image/*,video/*,.pdf,.doc,.docx"}),s&&a.jsxs("span",{className:"text-xs text-emerald-600 self-center px-2 font-semibold",children:[" ",s.name]})]}),a.jsxs(ie,{onClick:()=>p.mutate(),disabled:!n.trim()||p.isPending,className:"w-full ripple bg-emerald-600 hover:bg-emerald-700 text-white",children:[a.jsx("span",{className:"material-icons text-sm mr-2",children:"send"}),p.isPending?"Sending...":"Send Reply"]})]})]})]})]}):a.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[a.jsxs(K.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center justify-between elevation-1 border-b border-border",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-semibold",children:"Support Tickets"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.length," ticket",y.length!==1?"s":""]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>f(),disabled:h,className:"material-icons text-emerald-600 p-2 rounded-full hover:bg-emerald-50 transition-colors",children:h?"schedule":"refresh"}),a.jsx(K.button,{whileTap:{scale:.95},onClick:()=>e("/support"),className:"material-icons text-muted-foreground p-2 rounded-full hover:bg-muted transition-colors",children:"close"})]})]}),a.jsx("div",{className:"p-4 space-y-3",children:y.length===0?a.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-card p-6 rounded-xl text-center border border-emerald-200 elevation-1 bg-gradient-to-br from-emerald-50 to-transparent",children:[a.jsx("span",{className:"material-icons text-4xl text-emerald-600 mb-2 inline-block",children:"inbox"}),a.jsx("p",{className:"text-emerald-800 font-semibold text-sm",children:"No support tickets yet"}),a.jsx("p",{className:"text-xs text-emerald-700 mt-1",children:"Visit the support page to report an issue"})]}):y.map((w,j)=>{var N;return a.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.05},whileHover:{scale:1.01},whileTap:{scale:.99},children:a.jsx(ke,{className:"cursor-pointer hover:shadow-md transition-all border-emerald-200 bg-card elevation-1 hover:border-emerald-300",onClick:()=>r(w.id),children:a.jsx(Me,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v(w.status),a.jsx("h3",{className:"font-semibold text-sm truncate",children:w.issueType})]}),a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mb-2",children:w.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:Qr(new Date(w.createdAt),"MMM d")}),a.jsxs("span",{className:"text-emerald-700 font-semibold",children:[((N=w.replies)==null?void 0:N.length)||0," replies"]})]})]}),a.jsx("div",{className:"flex flex-col gap-2 items-end flex-shrink-0",children:a.jsx(lt,{className:`${g(w.status)} border text-xs`,children:w.status})})]})})})},w.id)})})]})}function U$({component:e}){const[,t]=Jt(),{isAuthenticated:r,isLoading:n}=kr();return n?a.jsx(_be,{}):r?a.jsx(e,{}):(t("/login"),null)}function tUe({component:e}){const[,t]=Jt(),r=localStorage.getItem("adminAuth");if(!r)return t("/admin/login"),null;try{const n=JSON.parse(r);if(!n||!n.role||n.role!=="admin")return t("/admin/login"),null}catch{return localStorage.removeItem("adminAuth"),t("/admin/login"),null}return a.jsx(e,{})}function rUe(){return a.jsxs(hre,{children:[a.jsx(Ft,{path:"/",component:Vue}),a.jsx(Ft,{path:"/login",component:_fe}),a.jsx(Ft,{path:"/signup",component:Zhe}),a.jsx(Ft,{path:"/auth/otp-verification",component:Qhe}),a.jsx(Ft,{path:"/auth/kyc-verification",component:epe}),a.jsx(Ft,{path:"/auth/virtual-card-purchase",component:npe}),a.jsx(Ft,{path:"/auth/forgot-password",component:ope}),a.jsx(Ft,{path:"/auth/reset-password",component:cpe}),a.jsx(Ft,{path:"/dashboard",children:a.jsx(U$,{component:Ame})}),a.jsx(Ft,{path:"/send-money",component:kme}),a.jsx(Ft,{path:"/send-amount",component:Tme}),a.jsx(Ft,{path:"/send-confirm",component:Eme}),a.jsx(Ft,{path:"/receive-money",component:Lme}),a.jsx(Ft,{path:"/transactions",component:jve}),a.jsx(Ft,{path:"/virtual-card",component:Nve}),a.jsx(Ft,{path:"/settings",component:Vve}),a.jsx(Ft,{path:"/support",component:abe}),a.jsx(Ft,{path:"/support/tickets",children:a.jsx(U$,{component:eUe})}),a.jsx(Ft,{path:"/live-chat",component:sbe}),a.jsx(Ft,{path:"/deposit",component:lbe}),a.jsx(Ft,{path:"/withdraw",component:ube}),a.jsx(Ft,{path:"/exchange",component:fbe}),a.jsx(Ft,{path:"/kyc",component:bbe}),a.jsx(Ft,{path:"/airtime",component:jbe}),a.jsx(Ft,{path:"/bills",component:Nbe}),a.jsx(Ft,{path:"/status",component:Sbe}),a.jsx(Ft,{path:"/payment-callback",component:Cbe}),a.jsx(Ft,{path:"/payment-success",component:Tbe}),a.jsx(Ft,{path:"/payment-failed",component:Ebe}),a.jsx(Ft,{path:"/payment-processing",component:Obe}),a.jsx(Ft,{path:"/features/send-money",component:wBe}),a.jsx(Ft,{path:"/features/virtual-cards",component:jBe}),a.jsx(Ft,{path:"/features/exchange",component:NBe}),a.jsx(Ft,{path:"/features/airtime",component:qBe}),a.jsx(Ft,{path:"/help",component:VBe}),a.jsx(Ft,{path:"/about",component:WBe}),a.jsx(Ft,{path:"/pricing",component:HBe}),a.jsx(Ft,{path:"/security",component:KBe}),a.jsx(Ft,{path:"/contact",component:GBe}),a.jsx(Ft,{path:"/terms",component:YBe}),a.jsx(Ft,{path:"/privacy",component:XBe}),a.jsx(Ft,{path:"/loans",component:ZBe}),a.jsx(Ft,{path:"/api-service",component:QBe}),a.jsx(Ft,{path:"/api-documentation",component:JBe}),a.jsx(Ft,{path:"/admin-login",component:W8}),a.jsx(Ft,{path:"/admin/login",component:W8}),a.jsx(Ft,{path:"/admin/dashboard",children:a.jsx(tUe,{component:pBe})}),a.jsx(Ft,{component:zue})]})}function nUe(){return a.jsx(Mre,{client:Hre,children:a.jsx(yse,{children:a.jsxs(gse,{children:[a.jsx(qie,{}),a.jsx(rUe,{}),a.jsx(Abe,{}),a.jsx(kbe,{}),a.jsx(vse,{})]})})})}dB(document.getElementById("root")).render(a.jsx(yB,{children:a.jsx(nUe,{})}));export{qr as _,yb as c,Er as g};
