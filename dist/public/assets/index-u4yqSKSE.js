var kQ=Object.defineProperty;var a6=e=>{throw TypeError(e)};var CQ=(e,t,r)=>t in e?kQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var dr=(e,t,r)=>CQ(e,typeof t!="symbol"?t+"":t,r),h5=(e,t,r)=>t.has(e)||a6("Cannot "+r);var ge=(e,t,r)=>(h5(e,t,"read from private field"),r?r.call(e):t.get(e)),Ot=(e,t,r)=>t.has(e)?a6("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),lt=(e,t,r,n)=>(h5(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),sr=(e,t,r)=>(h5(e,t,"access private method"),r);var Xv=(e,t,r,n)=>({set _(a){lt(e,t,a,r)},get _(){return ge(e,t,n)}});function TQ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Z7={exports:{}},W2={},Q7={exports:{}},hr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly=Symbol.for("react.element"),EQ=Symbol.for("react.portal"),OQ=Symbol.for("react.fragment"),MQ=Symbol.for("react.strict_mode"),LQ=Symbol.for("react.profiler"),IQ=Symbol.for("react.provider"),DQ=Symbol.for("react.context"),RQ=Symbol.for("react.forward_ref"),FQ=Symbol.for("react.suspense"),$Q=Symbol.for("react.memo"),BQ=Symbol.for("react.lazy"),s6=Symbol.iterator;function UQ(e){return e===null||typeof e!="object"?null:(e=s6&&e[s6]||e["@@iterator"],typeof e=="function"?e:null)}var J7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e$=Object.assign,t$={};function Jp(e,t,r){this.props=e,this.context=t,this.refs=t$,this.updater=r||J7}Jp.prototype.isReactComponent={};Jp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function r$(){}r$.prototype=Jp.prototype;function Ck(e,t,r){this.props=e,this.context=t,this.refs=t$,this.updater=r||J7}var Tk=Ck.prototype=new r$;Tk.constructor=Ck;e$(Tk,Jp.prototype);Tk.isPureReactComponent=!0;var o6=Array.isArray,n$=Object.prototype.hasOwnProperty,Ek={current:null},i$={key:!0,ref:!0,__self:!0,__source:!0};function a$(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)n$.call(t,n)&&!i$.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Ly,type:e,key:s,ref:o,props:a,_owner:Ek.current}}function zQ(e,t){return{$$typeof:Ly,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ok(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ly}function VQ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var l6=/\/+/g;function m5(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VQ(""+e.key):t.toString(36)}function e1(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ly:case EQ:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+m5(o,0):n,o6(a)?(r="",e!=null&&(r=e.replace(l6,"$&/")+"/"),e1(a,t,r,"",function(u){return u})):a!=null&&(Ok(a)&&(a=zQ(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(l6,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",o6(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+m5(s,l);o+=e1(s,t,r,c,a)}else if(c=UQ(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+m5(s,l++),o+=e1(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Qv(e,t,r){if(e==null)return e;var n=[],a=0;return e1(e,n,"","",function(s){return t.call(r,s,a++)}),n}function qQ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Aa={current:null},t1={transition:null},WQ={ReactCurrentDispatcher:Aa,ReactCurrentBatchConfig:t1,ReactCurrentOwner:Ek};function s$(){throw Error("act(...) is not supported in production builds of React.")}hr.Children={map:Qv,forEach:function(e,t,r){Qv(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Qv(e,function(){t++}),t},toArray:function(e){return Qv(e,function(t){return t})||[]},only:function(e){if(!Ok(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};hr.Component=Jp;hr.Fragment=OQ;hr.Profiler=LQ;hr.PureComponent=Ck;hr.StrictMode=MQ;hr.Suspense=FQ;hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WQ;hr.act=s$;hr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=e$({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Ek.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)n$.call(t,c)&&!i$.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ly,type:e.type,key:a,ref:s,props:n,_owner:o}};hr.createContext=function(e){return e={$$typeof:DQ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:IQ,_context:e},e.Consumer=e};hr.createElement=a$;hr.createFactory=function(e){var t=a$.bind(null,e);return t.type=e,t};hr.createRef=function(){return{current:null}};hr.forwardRef=function(e){return{$$typeof:RQ,render:e}};hr.isValidElement=Ok;hr.lazy=function(e){return{$$typeof:BQ,_payload:{_status:-1,_result:e},_init:qQ}};hr.memo=function(e,t){return{$$typeof:$Q,type:e,compare:t===void 0?null:t}};hr.startTransition=function(e){var t=t1.transition;t1.transition={};try{e()}finally{t1.transition=t}};hr.unstable_act=s$;hr.useCallback=function(e,t){return Aa.current.useCallback(e,t)};hr.useContext=function(e){return Aa.current.useContext(e)};hr.useDebugValue=function(){};hr.useDeferredValue=function(e){return Aa.current.useDeferredValue(e)};hr.useEffect=function(e,t){return Aa.current.useEffect(e,t)};hr.useId=function(){return Aa.current.useId()};hr.useImperativeHandle=function(e,t,r){return Aa.current.useImperativeHandle(e,t,r)};hr.useInsertionEffect=function(e,t){return Aa.current.useInsertionEffect(e,t)};hr.useLayoutEffect=function(e,t){return Aa.current.useLayoutEffect(e,t)};hr.useMemo=function(e,t){return Aa.current.useMemo(e,t)};hr.useReducer=function(e,t,r){return Aa.current.useReducer(e,t,r)};hr.useRef=function(e){return Aa.current.useRef(e)};hr.useState=function(e){return Aa.current.useState(e)};hr.useSyncExternalStore=function(e,t,r){return Aa.current.useSyncExternalStore(e,t,r)};hr.useTransition=function(){return Aa.current.useTransition()};hr.version="18.3.1";Q7.exports=hr;var N=Q7.exports;const se=Mr(N),o$=TQ({__proto__:null,default:se},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HQ=N,KQ=Symbol.for("react.element"),GQ=Symbol.for("react.fragment"),YQ=Object.prototype.hasOwnProperty,XQ=HQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZQ={key:!0,ref:!0,__self:!0,__source:!0};function l$(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)YQ.call(t,n)&&!ZQ.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:KQ,type:e,key:s,ref:o,props:a,_owner:XQ.current}}W2.Fragment=GQ;W2.jsx=l$;W2.jsxs=l$;Z7.exports=W2;var i=Z7.exports,c$={exports:{}},bs={},u$={exports:{}},d$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,G){var le=B.length;B.push(G);e:for(;0<le;){var fe=le-1>>>1,$=B[fe];if(0<a($,G))B[fe]=G,B[le]=$,le=fe;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var G=B[0],le=B.pop();if(le!==G){B[0]=le;e:for(var fe=0,$=B.length,q=$>>>1;fe<q;){var Q=2*(fe+1)-1,ae=B[Q],ue=Q+1,ce=B[ue];if(0>a(ae,le))ue<$&&0>a(ce,ae)?(B[fe]=ce,B[ue]=le,fe=ue):(B[fe]=ae,B[Q]=le,fe=Q);else if(ue<$&&0>a(ce,le))B[fe]=ce,B[ue]=le,fe=ue;else break e}}return G}function a(B,G){var le=B.sortIndex-G.sortIndex;return le!==0?le:B.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var G=r(u);G!==null;){if(G.callback===null)n(u);else if(G.startTime<=B)n(u),G.sortIndex=G.expirationTime,t(c,G);else break;G=r(u)}}function j(B){if(x=!1,w(B),!g)if(r(c)!==null)g=!0,F(S);else{var G=r(u);G!==null&&V(j,G.startTime-B)}}function S(B,G){g=!1,x&&(x=!1,p(C),C=-1),m=!0;var le=h;try{for(w(G),f=r(c);f!==null&&(!(f.expirationTime>G)||B&&!E());){var fe=f.callback;if(typeof fe=="function"){f.callback=null,h=f.priorityLevel;var $=fe(f.expirationTime<=G);G=e.unstable_now(),typeof $=="function"?f.callback=$:f===r(c)&&n(c),w(G)}else n(c);f=r(c)}if(f!==null)var q=!0;else{var Q=r(u);Q!==null&&V(j,Q.startTime-G),q=!1}return q}finally{f=null,h=le,m=!1}}var P=!1,A=null,C=-1,O=5,D=-1;function E(){return!(e.unstable_now()-D<O)}function k(){if(A!==null){var B=e.unstable_now();D=B;var G=!0;try{G=A(!0,B)}finally{G?R():(P=!1,A=null)}}else P=!1}var R;if(typeof y=="function")R=function(){y(k)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,H=L.port2;L.port1.onmessage=k,R=function(){H.postMessage(null)}}else R=function(){v(k,0)};function F(B){A=B,P||(P=!0,R())}function V(B,G){C=v(function(){B(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,F(S))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(B){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var le=h;h=G;try{return B()}finally{h=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var le=h;h=B;try{return G()}finally{h=le}},e.unstable_scheduleCallback=function(B,G,le){var fe=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?fe+le:fe):le=fe,B){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=le+$,B={id:d++,callback:G,priorityLevel:B,startTime:le,expirationTime:$,sortIndex:-1},le>fe?(B.sortIndex=le,t(u,B),r(c)===null&&B===r(u)&&(x?(p(C),C=-1):x=!0,V(j,le-fe))):(B.sortIndex=$,t(c,B),g||m||(g=!0,F(S))),B},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(B){var G=h;return function(){var le=h;h=G;try{return B.apply(this,arguments)}finally{h=le}}}})(d$);u$.exports=d$;var QQ=u$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JQ=N,ps=QQ;function Xe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f$=new Set,f0={};function fh(e,t){np(e,t),np(e+"Capture",t)}function np(e,t){for(f0[e]=t,e=0;e<t.length;e++)f$.add(t[e])}var Lc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I_=Object.prototype.hasOwnProperty,eJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c6={},u6={};function tJ(e){return I_.call(u6,e)?!0:I_.call(c6,e)?!1:eJ.test(e)?u6[e]=!0:(c6[e]=!0,!1)}function rJ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nJ(e,t,r,n){if(t===null||typeof t>"u"||rJ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ka(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ki={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ki[e]=new ka(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ki[t]=new ka(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ki[e]=new ka(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ki[e]=new ka(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ki[e]=new ka(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ki[e]=new ka(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ki[e]=new ka(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ki[e]=new ka(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ki[e]=new ka(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mk=/[\-:]([a-z])/g;function Lk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Mk,Lk);Ki[t]=new ka(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Mk,Lk);Ki[t]=new ka(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Mk,Lk);Ki[t]=new ka(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ki[e]=new ka(e,1,!1,e.toLowerCase(),null,!1,!1)});Ki.xlinkHref=new ka("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ki[e]=new ka(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ik(e,t,r,n){var a=Ki.hasOwnProperty(t)?Ki[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nJ(t,r,a,n)&&(r=null),n||a===null?tJ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Gc=JQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jv=Symbol.for("react.element"),tm=Symbol.for("react.portal"),rm=Symbol.for("react.fragment"),Dk=Symbol.for("react.strict_mode"),D_=Symbol.for("react.profiler"),h$=Symbol.for("react.provider"),m$=Symbol.for("react.context"),Rk=Symbol.for("react.forward_ref"),R_=Symbol.for("react.suspense"),F_=Symbol.for("react.suspense_list"),Fk=Symbol.for("react.memo"),Pu=Symbol.for("react.lazy"),p$=Symbol.for("react.offscreen"),d6=Symbol.iterator;function Qg(e){return e===null||typeof e!="object"?null:(e=d6&&e[d6]||e["@@iterator"],typeof e=="function"?e:null)}var An=Object.assign,p5;function Cx(e){if(p5===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);p5=t&&t[1]||""}return`
`+p5+e}var g5=!1;function x5(e,t){if(!e||g5)return"";g5=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{g5=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Cx(e):""}function iJ(e){switch(e.tag){case 5:return Cx(e.type);case 16:return Cx("Lazy");case 13:return Cx("Suspense");case 19:return Cx("SuspenseList");case 0:case 2:case 15:return e=x5(e.type,!1),e;case 11:return e=x5(e.type.render,!1),e;case 1:return e=x5(e.type,!0),e;default:return""}}function $_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rm:return"Fragment";case tm:return"Portal";case D_:return"Profiler";case Dk:return"StrictMode";case R_:return"Suspense";case F_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case m$:return(e.displayName||"Context")+".Consumer";case h$:return(e._context.displayName||"Context")+".Provider";case Rk:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fk:return t=e.displayName||null,t!==null?t:$_(e.type)||"Memo";case Pu:t=e._payload,e=e._init;try{return $_(e(t))}catch{}}return null}function aJ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $_(t);case 8:return t===Dk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function g$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sJ(e){var t=g$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function eb(e){e._valueTracker||(e._valueTracker=sJ(e))}function x$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=g$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function L1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function B_(e,t){var r=t.checked;return An({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function f6(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=hd(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function y$(e,t){t=t.checked,t!=null&&Ik(e,"checked",t,!1)}function U_(e,t){y$(e,t);var r=hd(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?z_(e,t.type,r):t.hasOwnProperty("defaultValue")&&z_(e,t.type,hd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function h6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function z_(e,t,r){(t!=="number"||L1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Tx=Array.isArray;function jm(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+hd(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function V_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Xe(91));return An({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function m6(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Xe(92));if(Tx(r)){if(1<r.length)throw Error(Xe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:hd(r)}}function v$(e,t){var r=hd(t.value),n=hd(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function p6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function b$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function q_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?b$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tb,w$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tb=tb||document.createElement("div"),tb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function h0(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ux={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oJ=["Webkit","ms","Moz","O"];Object.keys(Ux).forEach(function(e){oJ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ux[t]=Ux[e]})});function j$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ux.hasOwnProperty(e)&&Ux[e]?(""+t).trim():t+"px"}function N$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=j$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var lJ=An({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function W_(e,t){if(t){if(lJ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Xe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Xe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Xe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Xe(62))}}function H_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var K_=null;function $k(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var G_=null,Nm=null,Sm=null;function g6(e){if(e=Ry(e)){if(typeof G_!="function")throw Error(Xe(280));var t=e.stateNode;t&&(t=X2(t),G_(e.stateNode,e.type,t))}}function S$(e){Nm?Sm?Sm.push(e):Sm=[e]:Nm=e}function _$(){if(Nm){var e=Nm,t=Sm;if(Sm=Nm=null,g6(e),t)for(e=0;e<t.length;e++)g6(t[e])}}function P$(e,t){return e(t)}function A$(){}var y5=!1;function k$(e,t,r){if(y5)return e(t,r);y5=!0;try{return P$(e,t,r)}finally{y5=!1,(Nm!==null||Sm!==null)&&(A$(),_$())}}function m0(e,t){var r=e.stateNode;if(r===null)return null;var n=X2(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Xe(231,t,typeof r));return r}var Y_=!1;if(Lc)try{var Jg={};Object.defineProperty(Jg,"passive",{get:function(){Y_=!0}}),window.addEventListener("test",Jg,Jg),window.removeEventListener("test",Jg,Jg)}catch{Y_=!1}function cJ(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var zx=!1,I1=null,D1=!1,X_=null,uJ={onError:function(e){zx=!0,I1=e}};function dJ(e,t,r,n,a,s,o,l,c){zx=!1,I1=null,cJ.apply(uJ,arguments)}function fJ(e,t,r,n,a,s,o,l,c){if(dJ.apply(this,arguments),zx){if(zx){var u=I1;zx=!1,I1=null}else throw Error(Xe(198));D1||(D1=!0,X_=u)}}function hh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function C$(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x6(e){if(hh(e)!==e)throw Error(Xe(188))}function hJ(e){var t=e.alternate;if(!t){if(t=hh(e),t===null)throw Error(Xe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return x6(a),e;if(s===n)return x6(a),t;s=s.sibling}throw Error(Xe(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(Xe(189))}}if(r.alternate!==n)throw Error(Xe(190))}if(r.tag!==3)throw Error(Xe(188));return r.stateNode.current===r?e:t}function T$(e){return e=hJ(e),e!==null?E$(e):null}function E$(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=E$(e);if(t!==null)return t;e=e.sibling}return null}var O$=ps.unstable_scheduleCallback,y6=ps.unstable_cancelCallback,mJ=ps.unstable_shouldYield,pJ=ps.unstable_requestPaint,Hn=ps.unstable_now,gJ=ps.unstable_getCurrentPriorityLevel,Bk=ps.unstable_ImmediatePriority,M$=ps.unstable_UserBlockingPriority,R1=ps.unstable_NormalPriority,xJ=ps.unstable_LowPriority,L$=ps.unstable_IdlePriority,H2=null,wl=null;function yJ(e){if(wl&&typeof wl.onCommitFiberRoot=="function")try{wl.onCommitFiberRoot(H2,e,void 0,(e.current.flags&128)===128)}catch{}}var Fo=Math.clz32?Math.clz32:wJ,vJ=Math.log,bJ=Math.LN2;function wJ(e){return e>>>=0,e===0?32:31-(vJ(e)/bJ|0)|0}var rb=64,nb=4194304;function Ex(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function F1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Ex(l):(s&=o,s!==0&&(n=Ex(s)))}else o=r&~a,o!==0?n=Ex(o):s!==0&&(n=Ex(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Fo(t),a=1<<r,n|=e[r],t&=~a;return n}function jJ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NJ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Fo(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=jJ(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Z_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function I$(){var e=rb;return rb<<=1,!(rb&4194240)&&(rb=64),e}function v5(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Iy(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fo(t),e[t]=r}function SJ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Fo(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function Uk(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Fo(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Hr=0;function D$(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var R$,zk,F$,$$,B$,Q_=!1,ib=[],Xu=null,Zu=null,Qu=null,p0=new Map,g0=new Map,Tu=[],_J="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function v6(e,t){switch(e){case"focusin":case"focusout":Xu=null;break;case"dragenter":case"dragleave":Zu=null;break;case"mouseover":case"mouseout":Qu=null;break;case"pointerover":case"pointerout":p0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":g0.delete(t.pointerId)}}function ex(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Ry(t),t!==null&&zk(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function PJ(e,t,r,n,a){switch(t){case"focusin":return Xu=ex(Xu,e,t,r,n,a),!0;case"dragenter":return Zu=ex(Zu,e,t,r,n,a),!0;case"mouseover":return Qu=ex(Qu,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return p0.set(s,ex(p0.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,g0.set(s,ex(g0.get(s)||null,e,t,r,n,a)),!0}return!1}function U$(e){var t=wf(e.target);if(t!==null){var r=hh(t);if(r!==null){if(t=r.tag,t===13){if(t=C$(r),t!==null){e.blockedOn=t,B$(e.priority,function(){F$(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function r1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=J_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);K_=n,r.target.dispatchEvent(n),K_=null}else return t=Ry(r),t!==null&&zk(t),e.blockedOn=r,!1;t.shift()}return!0}function b6(e,t,r){r1(e)&&r.delete(t)}function AJ(){Q_=!1,Xu!==null&&r1(Xu)&&(Xu=null),Zu!==null&&r1(Zu)&&(Zu=null),Qu!==null&&r1(Qu)&&(Qu=null),p0.forEach(b6),g0.forEach(b6)}function tx(e,t){e.blockedOn===t&&(e.blockedOn=null,Q_||(Q_=!0,ps.unstable_scheduleCallback(ps.unstable_NormalPriority,AJ)))}function x0(e){function t(a){return tx(a,e)}if(0<ib.length){tx(ib[0],e);for(var r=1;r<ib.length;r++){var n=ib[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Xu!==null&&tx(Xu,e),Zu!==null&&tx(Zu,e),Qu!==null&&tx(Qu,e),p0.forEach(t),g0.forEach(t),r=0;r<Tu.length;r++)n=Tu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Tu.length&&(r=Tu[0],r.blockedOn===null);)U$(r),r.blockedOn===null&&Tu.shift()}var _m=Gc.ReactCurrentBatchConfig,$1=!0;function kJ(e,t,r,n){var a=Hr,s=_m.transition;_m.transition=null;try{Hr=1,Vk(e,t,r,n)}finally{Hr=a,_m.transition=s}}function CJ(e,t,r,n){var a=Hr,s=_m.transition;_m.transition=null;try{Hr=4,Vk(e,t,r,n)}finally{Hr=a,_m.transition=s}}function Vk(e,t,r,n){if($1){var a=J_(e,t,r,n);if(a===null)C5(e,t,n,B1,r),v6(e,n);else if(PJ(a,e,t,r,n))n.stopPropagation();else if(v6(e,n),t&4&&-1<_J.indexOf(e)){for(;a!==null;){var s=Ry(a);if(s!==null&&R$(s),s=J_(e,t,r,n),s===null&&C5(e,t,n,B1,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else C5(e,t,n,null,r)}}var B1=null;function J_(e,t,r,n){if(B1=null,e=$k(n),e=wf(e),e!==null)if(t=hh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=C$(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return B1=e,null}function z$(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gJ()){case Bk:return 1;case M$:return 4;case R1:case xJ:return 16;case L$:return 536870912;default:return 16}default:return 16}}var qu=null,qk=null,n1=null;function V$(){if(n1)return n1;var e,t=qk,r=t.length,n,a="value"in qu?qu.value:qu.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return n1=a.slice(e,1<n?1-n:void 0)}function i1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ab(){return!0}function w6(){return!1}function ws(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ab:w6,this.isPropagationStopped=w6,this}return An(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ab)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ab)},persist:function(){},isPersistent:ab}),t}var eg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wk=ws(eg),Dy=An({},eg,{view:0,detail:0}),TJ=ws(Dy),b5,w5,rx,K2=An({},Dy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hk,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rx&&(rx&&e.type==="mousemove"?(b5=e.screenX-rx.screenX,w5=e.screenY-rx.screenY):w5=b5=0,rx=e),b5)},movementY:function(e){return"movementY"in e?e.movementY:w5}}),j6=ws(K2),EJ=An({},K2,{dataTransfer:0}),OJ=ws(EJ),MJ=An({},Dy,{relatedTarget:0}),j5=ws(MJ),LJ=An({},eg,{animationName:0,elapsedTime:0,pseudoElement:0}),IJ=ws(LJ),DJ=An({},eg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),RJ=ws(DJ),FJ=An({},eg,{data:0}),N6=ws(FJ),$J={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zJ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UJ[e])?!!t[e]:!1}function Hk(){return zJ}var VJ=An({},Dy,{key:function(e){if(e.key){var t=$J[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=i1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BJ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hk,charCode:function(e){return e.type==="keypress"?i1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?i1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qJ=ws(VJ),WJ=An({},K2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S6=ws(WJ),HJ=An({},Dy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hk}),KJ=ws(HJ),GJ=An({},eg,{propertyName:0,elapsedTime:0,pseudoElement:0}),YJ=ws(GJ),XJ=An({},K2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ZJ=ws(XJ),QJ=[9,13,27,32],Kk=Lc&&"CompositionEvent"in window,Vx=null;Lc&&"documentMode"in document&&(Vx=document.documentMode);var JJ=Lc&&"TextEvent"in window&&!Vx,q$=Lc&&(!Kk||Vx&&8<Vx&&11>=Vx),_6=" ",P6=!1;function W$(e,t){switch(e){case"keyup":return QJ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nm=!1;function eee(e,t){switch(e){case"compositionend":return H$(t);case"keypress":return t.which!==32?null:(P6=!0,_6);case"textInput":return e=t.data,e===_6&&P6?null:e;default:return null}}function tee(e,t){if(nm)return e==="compositionend"||!Kk&&W$(e,t)?(e=V$(),n1=qk=qu=null,nm=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return q$&&t.locale!=="ko"?null:t.data;default:return null}}var ree={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ree[e.type]:t==="textarea"}function K$(e,t,r,n){S$(n),t=U1(t,"onChange"),0<t.length&&(r=new Wk("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qx=null,y0=null;function nee(e){i9(e,0)}function G2(e){var t=sm(e);if(x$(t))return e}function iee(e,t){if(e==="change")return t}var G$=!1;if(Lc){var N5;if(Lc){var S5="oninput"in document;if(!S5){var k6=document.createElement("div");k6.setAttribute("oninput","return;"),S5=typeof k6.oninput=="function"}N5=S5}else N5=!1;G$=N5&&(!document.documentMode||9<document.documentMode)}function C6(){qx&&(qx.detachEvent("onpropertychange",Y$),y0=qx=null)}function Y$(e){if(e.propertyName==="value"&&G2(y0)){var t=[];K$(t,y0,e,$k(e)),k$(nee,t)}}function aee(e,t,r){e==="focusin"?(C6(),qx=t,y0=r,qx.attachEvent("onpropertychange",Y$)):e==="focusout"&&C6()}function see(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return G2(y0)}function oee(e,t){if(e==="click")return G2(t)}function lee(e,t){if(e==="input"||e==="change")return G2(t)}function cee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Uo=typeof Object.is=="function"?Object.is:cee;function v0(e,t){if(Uo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!I_.call(t,a)||!Uo(e[a],t[a]))return!1}return!0}function T6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function E6(e,t){var r=T6(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=T6(r)}}function X$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?X$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Z$(){for(var e=window,t=L1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=L1(e.document)}return t}function Gk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uee(e){var t=Z$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&X$(r.ownerDocument.documentElement,r)){if(n!==null&&Gk(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=E6(r,s);var o=E6(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dee=Lc&&"documentMode"in document&&11>=document.documentMode,im=null,eP=null,Wx=null,tP=!1;function O6(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tP||im==null||im!==L1(n)||(n=im,"selectionStart"in n&&Gk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wx&&v0(Wx,n)||(Wx=n,n=U1(eP,"onSelect"),0<n.length&&(t=new Wk("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=im)))}function sb(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var am={animationend:sb("Animation","AnimationEnd"),animationiteration:sb("Animation","AnimationIteration"),animationstart:sb("Animation","AnimationStart"),transitionend:sb("Transition","TransitionEnd")},_5={},Q$={};Lc&&(Q$=document.createElement("div").style,"AnimationEvent"in window||(delete am.animationend.animation,delete am.animationiteration.animation,delete am.animationstart.animation),"TransitionEvent"in window||delete am.transitionend.transition);function Y2(e){if(_5[e])return _5[e];if(!am[e])return e;var t=am[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Q$)return _5[e]=t[r];return e}var J$=Y2("animationend"),e9=Y2("animationiteration"),t9=Y2("animationstart"),r9=Y2("transitionend"),n9=new Map,M6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sd(e,t){n9.set(e,t),fh(t,[e])}for(var P5=0;P5<M6.length;P5++){var A5=M6[P5],fee=A5.toLowerCase(),hee=A5[0].toUpperCase()+A5.slice(1);Sd(fee,"on"+hee)}Sd(J$,"onAnimationEnd");Sd(e9,"onAnimationIteration");Sd(t9,"onAnimationStart");Sd("dblclick","onDoubleClick");Sd("focusin","onFocus");Sd("focusout","onBlur");Sd(r9,"onTransitionEnd");np("onMouseEnter",["mouseout","mouseover"]);np("onMouseLeave",["mouseout","mouseover"]);np("onPointerEnter",["pointerout","pointerover"]);np("onPointerLeave",["pointerout","pointerover"]);fh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fh("onBeforeInput",["compositionend","keypress","textInput","paste"]);fh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ox="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mee=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ox));function L6(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,fJ(n,t,void 0,e),e.currentTarget=null}function i9(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;L6(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;L6(a,l,u),s=c}}}if(D1)throw e=X_,D1=!1,X_=null,e}function mn(e,t){var r=t[sP];r===void 0&&(r=t[sP]=new Set);var n=e+"__bubble";r.has(n)||(a9(t,e,2,!1),r.add(n))}function k5(e,t,r){var n=0;t&&(n|=4),a9(r,e,n,t)}var ob="_reactListening"+Math.random().toString(36).slice(2);function b0(e){if(!e[ob]){e[ob]=!0,f$.forEach(function(r){r!=="selectionchange"&&(mee.has(r)||k5(r,!1,e),k5(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ob]||(t[ob]=!0,k5("selectionchange",!1,t))}}function a9(e,t,r,n){switch(z$(t)){case 1:var a=kJ;break;case 4:a=CJ;break;default:a=Vk}r=a.bind(null,t,r,e),a=void 0,!Y_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function C5(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=wf(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}k$(function(){var u=s,d=$k(r),f=[];e:{var h=n9.get(e);if(h!==void 0){var m=Wk,g=e;switch(e){case"keypress":if(i1(r)===0)break e;case"keydown":case"keyup":m=qJ;break;case"focusin":g="focus",m=j5;break;case"focusout":g="blur",m=j5;break;case"beforeblur":case"afterblur":m=j5;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=j6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=OJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=KJ;break;case J$:case e9:case t9:m=IJ;break;case r9:m=YJ;break;case"scroll":m=TJ;break;case"wheel":m=ZJ;break;case"copy":case"cut":case"paste":m=RJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=S6}var x=(t&4)!==0,v=!x&&e==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var y=u,w;y!==null;){w=y;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,p!==null&&(j=m0(y,p),j!=null&&x.push(w0(y,j,w)))),v)break;y=y.return}0<x.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==K_&&(g=r.relatedTarget||r.fromElement)&&(wf(g)||g[Ic]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?wf(g):null,g!==null&&(v=hh(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(x=j6,j="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=S6,j="onPointerLeave",p="onPointerEnter",y="pointer"),v=m==null?h:sm(m),w=g==null?h:sm(g),h=new x(j,y+"leave",m,r,d),h.target=v,h.relatedTarget=w,j=null,wf(d)===u&&(x=new x(p,y+"enter",g,r,d),x.target=w,x.relatedTarget=v,j=x),v=j,m&&g)t:{for(x=m,p=g,y=0,w=x;w;w=Rh(w))y++;for(w=0,j=p;j;j=Rh(j))w++;for(;0<y-w;)x=Rh(x),y--;for(;0<w-y;)p=Rh(p),w--;for(;y--;){if(x===p||p!==null&&x===p.alternate)break t;x=Rh(x),p=Rh(p)}x=null}else x=null;m!==null&&I6(f,h,m,x,!1),g!==null&&v!==null&&I6(f,v,g,x,!0)}}e:{if(h=u?sm(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=iee;else if(A6(h))if(G$)S=lee;else{S=see;var P=aee}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=oee);if(S&&(S=S(e,u))){K$(f,S,r,d);break e}P&&P(e,h,u),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&z_(h,"number",h.value)}switch(P=u?sm(u):window,e){case"focusin":(A6(P)||P.contentEditable==="true")&&(im=P,eP=u,Wx=null);break;case"focusout":Wx=eP=im=null;break;case"mousedown":tP=!0;break;case"contextmenu":case"mouseup":case"dragend":tP=!1,O6(f,r,d);break;case"selectionchange":if(dee)break;case"keydown":case"keyup":O6(f,r,d)}var A;if(Kk)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else nm?W$(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(q$&&r.locale!=="ko"&&(nm||C!=="onCompositionStart"?C==="onCompositionEnd"&&nm&&(A=V$()):(qu=d,qk="value"in qu?qu.value:qu.textContent,nm=!0)),P=U1(u,C),0<P.length&&(C=new N6(C,e,null,r,d),f.push({event:C,listeners:P}),A?C.data=A:(A=H$(r),A!==null&&(C.data=A)))),(A=JJ?eee(e,r):tee(e,r))&&(u=U1(u,"onBeforeInput"),0<u.length&&(d=new N6("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=A))}i9(f,t)})}function w0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function U1(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=m0(e,r),s!=null&&n.unshift(w0(e,s,a)),s=m0(e,t),s!=null&&n.push(w0(e,s,a))),e=e.return}return n}function Rh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function I6(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=m0(r,s),c!=null&&o.unshift(w0(r,c,l))):a||(c=m0(r,s),c!=null&&o.push(w0(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var pee=/\r\n?/g,gee=/\u0000|\uFFFD/g;function D6(e){return(typeof e=="string"?e:""+e).replace(pee,`
`).replace(gee,"")}function lb(e,t,r){if(t=D6(t),D6(e)!==t&&r)throw Error(Xe(425))}function z1(){}var rP=null,nP=null;function iP(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var aP=typeof setTimeout=="function"?setTimeout:void 0,xee=typeof clearTimeout=="function"?clearTimeout:void 0,R6=typeof Promise=="function"?Promise:void 0,yee=typeof queueMicrotask=="function"?queueMicrotask:typeof R6<"u"?function(e){return R6.resolve(null).then(e).catch(vee)}:aP;function vee(e){setTimeout(function(){throw e})}function T5(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),x0(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);x0(t)}function Ju(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function F6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var tg=Math.random().toString(36).slice(2),hl="__reactFiber$"+tg,j0="__reactProps$"+tg,Ic="__reactContainer$"+tg,sP="__reactEvents$"+tg,bee="__reactListeners$"+tg,wee="__reactHandles$"+tg;function wf(e){var t=e[hl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ic]||r[hl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=F6(e);e!==null;){if(r=e[hl])return r;e=F6(e)}return t}e=r,r=e.parentNode}return null}function Ry(e){return e=e[hl]||e[Ic],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sm(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Xe(33))}function X2(e){return e[j0]||null}var oP=[],om=-1;function _d(e){return{current:e}}function yn(e){0>om||(e.current=oP[om],oP[om]=null,om--)}function dn(e,t){om++,oP[om]=e.current,e.current=t}var md={},fa=_d(md),Fa=_d(!1),Kf=md;function ip(e,t){var r=e.type.contextTypes;if(!r)return md;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function $a(e){return e=e.childContextTypes,e!=null}function V1(){yn(Fa),yn(fa)}function $6(e,t,r){if(fa.current!==md)throw Error(Xe(168));dn(fa,t),dn(Fa,r)}function s9(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Xe(108,aJ(e)||"Unknown",a));return An({},r,n)}function q1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||md,Kf=fa.current,dn(fa,e),dn(Fa,Fa.current),!0}function B6(e,t,r){var n=e.stateNode;if(!n)throw Error(Xe(169));r?(e=s9(e,t,Kf),n.__reactInternalMemoizedMergedChildContext=e,yn(Fa),yn(fa),dn(fa,e)):yn(Fa),dn(Fa,r)}var fc=null,Z2=!1,E5=!1;function o9(e){fc===null?fc=[e]:fc.push(e)}function jee(e){Z2=!0,o9(e)}function Pd(){if(!E5&&fc!==null){E5=!0;var e=0,t=Hr;try{var r=fc;for(Hr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}fc=null,Z2=!1}catch(a){throw fc!==null&&(fc=fc.slice(e+1)),O$(Bk,Pd),a}finally{Hr=t,E5=!1}}return null}var lm=[],cm=0,W1=null,H1=0,Bs=[],Us=0,Gf=null,gc=1,xc="";function lf(e,t){lm[cm++]=H1,lm[cm++]=W1,W1=e,H1=t}function l9(e,t,r){Bs[Us++]=gc,Bs[Us++]=xc,Bs[Us++]=Gf,Gf=e;var n=gc;e=xc;var a=32-Fo(n)-1;n&=~(1<<a),r+=1;var s=32-Fo(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,gc=1<<32-Fo(t)+a|r<<a|n,xc=s+e}else gc=1<<s|r<<a|n,xc=e}function Yk(e){e.return!==null&&(lf(e,1),l9(e,1,0))}function Xk(e){for(;e===W1;)W1=lm[--cm],lm[cm]=null,H1=lm[--cm],lm[cm]=null;for(;e===Gf;)Gf=Bs[--Us],Bs[Us]=null,xc=Bs[--Us],Bs[Us]=null,gc=Bs[--Us],Bs[Us]=null}var hs=null,cs=null,bn=!1,Co=null;function c9(e,t){var r=qs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function U6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hs=e,cs=Ju(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hs=e,cs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gf!==null?{id:gc,overflow:xc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=qs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,hs=e,cs=null,!0):!1;default:return!1}}function lP(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cP(e){if(bn){var t=cs;if(t){var r=t;if(!U6(e,t)){if(lP(e))throw Error(Xe(418));t=Ju(r.nextSibling);var n=hs;t&&U6(e,t)?c9(n,r):(e.flags=e.flags&-4097|2,bn=!1,hs=e)}}else{if(lP(e))throw Error(Xe(418));e.flags=e.flags&-4097|2,bn=!1,hs=e}}}function z6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hs=e}function cb(e){if(e!==hs)return!1;if(!bn)return z6(e),bn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!iP(e.type,e.memoizedProps)),t&&(t=cs)){if(lP(e))throw u9(),Error(Xe(418));for(;t;)c9(e,t),t=Ju(t.nextSibling)}if(z6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Xe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){cs=Ju(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}cs=null}}else cs=hs?Ju(e.stateNode.nextSibling):null;return!0}function u9(){for(var e=cs;e;)e=Ju(e.nextSibling)}function ap(){cs=hs=null,bn=!1}function Zk(e){Co===null?Co=[e]:Co.push(e)}var Nee=Gc.ReactCurrentBatchConfig;function nx(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Xe(309));var n=r.stateNode}if(!n)throw Error(Xe(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Xe(284));if(!r._owner)throw Error(Xe(290,e))}return e}function ub(e,t){throw e=Object.prototype.toString.call(t),Error(Xe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function V6(e){var t=e._init;return t(e._payload)}function d9(e){function t(p,y){if(e){var w=p.deletions;w===null?(p.deletions=[y],p.flags|=16):w.push(y)}}function r(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function n(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function a(p,y){return p=nd(p,y),p.index=0,p.sibling=null,p}function s(p,y,w){return p.index=w,e?(w=p.alternate,w!==null?(w=w.index,w<y?(p.flags|=2,y):w):(p.flags|=2,y)):(p.flags|=1048576,y)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,y,w,j){return y===null||y.tag!==6?(y=F5(w,p.mode,j),y.return=p,y):(y=a(y,w),y.return=p,y)}function c(p,y,w,j){var S=w.type;return S===rm?d(p,y,w.props.children,j,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Pu&&V6(S)===y.type)?(j=a(y,w.props),j.ref=nx(p,y,w),j.return=p,j):(j=d1(w.type,w.key,w.props,null,p.mode,j),j.ref=nx(p,y,w),j.return=p,j)}function u(p,y,w,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=$5(w,p.mode,j),y.return=p,y):(y=a(y,w.children||[]),y.return=p,y)}function d(p,y,w,j,S){return y===null||y.tag!==7?(y=zf(w,p.mode,j,S),y.return=p,y):(y=a(y,w),y.return=p,y)}function f(p,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=F5(""+y,p.mode,w),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Jv:return w=d1(y.type,y.key,y.props,null,p.mode,w),w.ref=nx(p,null,y),w.return=p,w;case tm:return y=$5(y,p.mode,w),y.return=p,y;case Pu:var j=y._init;return f(p,j(y._payload),w)}if(Tx(y)||Qg(y))return y=zf(y,p.mode,w,null),y.return=p,y;ub(p,y)}return null}function h(p,y,w,j){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(p,y,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jv:return w.key===S?c(p,y,w,j):null;case tm:return w.key===S?u(p,y,w,j):null;case Pu:return S=w._init,h(p,y,S(w._payload),j)}if(Tx(w)||Qg(w))return S!==null?null:d(p,y,w,j,null);ub(p,w)}return null}function m(p,y,w,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(w)||null,l(y,p,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Jv:return p=p.get(j.key===null?w:j.key)||null,c(y,p,j,S);case tm:return p=p.get(j.key===null?w:j.key)||null,u(y,p,j,S);case Pu:var P=j._init;return m(p,y,w,P(j._payload),S)}if(Tx(j)||Qg(j))return p=p.get(w)||null,d(y,p,j,S,null);ub(y,j)}return null}function g(p,y,w,j){for(var S=null,P=null,A=y,C=y=0,O=null;A!==null&&C<w.length;C++){A.index>C?(O=A,A=null):O=A.sibling;var D=h(p,A,w[C],j);if(D===null){A===null&&(A=O);break}e&&A&&D.alternate===null&&t(p,A),y=s(D,y,C),P===null?S=D:P.sibling=D,P=D,A=O}if(C===w.length)return r(p,A),bn&&lf(p,C),S;if(A===null){for(;C<w.length;C++)A=f(p,w[C],j),A!==null&&(y=s(A,y,C),P===null?S=A:P.sibling=A,P=A);return bn&&lf(p,C),S}for(A=n(p,A);C<w.length;C++)O=m(A,p,C,w[C],j),O!==null&&(e&&O.alternate!==null&&A.delete(O.key===null?C:O.key),y=s(O,y,C),P===null?S=O:P.sibling=O,P=O);return e&&A.forEach(function(E){return t(p,E)}),bn&&lf(p,C),S}function x(p,y,w,j){var S=Qg(w);if(typeof S!="function")throw Error(Xe(150));if(w=S.call(w),w==null)throw Error(Xe(151));for(var P=S=null,A=y,C=y=0,O=null,D=w.next();A!==null&&!D.done;C++,D=w.next()){A.index>C?(O=A,A=null):O=A.sibling;var E=h(p,A,D.value,j);if(E===null){A===null&&(A=O);break}e&&A&&E.alternate===null&&t(p,A),y=s(E,y,C),P===null?S=E:P.sibling=E,P=E,A=O}if(D.done)return r(p,A),bn&&lf(p,C),S;if(A===null){for(;!D.done;C++,D=w.next())D=f(p,D.value,j),D!==null&&(y=s(D,y,C),P===null?S=D:P.sibling=D,P=D);return bn&&lf(p,C),S}for(A=n(p,A);!D.done;C++,D=w.next())D=m(A,p,C,D.value,j),D!==null&&(e&&D.alternate!==null&&A.delete(D.key===null?C:D.key),y=s(D,y,C),P===null?S=D:P.sibling=D,P=D);return e&&A.forEach(function(k){return t(p,k)}),bn&&lf(p,C),S}function v(p,y,w,j){if(typeof w=="object"&&w!==null&&w.type===rm&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Jv:e:{for(var S=w.key,P=y;P!==null;){if(P.key===S){if(S=w.type,S===rm){if(P.tag===7){r(p,P.sibling),y=a(P,w.props.children),y.return=p,p=y;break e}}else if(P.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Pu&&V6(S)===P.type){r(p,P.sibling),y=a(P,w.props),y.ref=nx(p,P,w),y.return=p,p=y;break e}r(p,P);break}else t(p,P);P=P.sibling}w.type===rm?(y=zf(w.props.children,p.mode,j,w.key),y.return=p,p=y):(j=d1(w.type,w.key,w.props,null,p.mode,j),j.ref=nx(p,y,w),j.return=p,p=j)}return o(p);case tm:e:{for(P=w.key;y!==null;){if(y.key===P)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(p,y.sibling),y=a(y,w.children||[]),y.return=p,p=y;break e}else{r(p,y);break}else t(p,y);y=y.sibling}y=$5(w,p.mode,j),y.return=p,p=y}return o(p);case Pu:return P=w._init,v(p,y,P(w._payload),j)}if(Tx(w))return g(p,y,w,j);if(Qg(w))return x(p,y,w,j);ub(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(p,y.sibling),y=a(y,w),y.return=p,p=y):(r(p,y),y=F5(w,p.mode,j),y.return=p,p=y),o(p)):r(p,y)}return v}var sp=d9(!0),f9=d9(!1),K1=_d(null),G1=null,um=null,Qk=null;function Jk(){Qk=um=G1=null}function eC(e){var t=K1.current;yn(K1),e._currentValue=t}function uP(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Pm(e,t){G1=e,Qk=um=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ia=!0),e.firstContext=null)}function Js(e){var t=e._currentValue;if(Qk!==e)if(e={context:e,memoizedValue:t,next:null},um===null){if(G1===null)throw Error(Xe(308));um=e,G1.dependencies={lanes:0,firstContext:e}}else um=um.next=e;return t}var jf=null;function tC(e){jf===null?jf=[e]:jf.push(e)}function h9(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,tC(t)):(r.next=a.next,a.next=r),t.interleaved=r,Dc(e,n)}function Dc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Au=!1;function rC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m9(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ed(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Pr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Dc(e,r)}return a=n.interleaved,a===null?(t.next=t,tC(n)):(t.next=a.next,a.next=t),n.interleaved=t,Dc(e,r)}function a1(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Uk(e,r)}}function q6(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Y1(e,t,r,n){var a=e.updateQueue;Au=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,x=l;switch(h=t,m=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=An({},f,h);break e;case 2:Au=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Xf|=o,e.lanes=o,e.memoizedState=f}}function W6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Xe(191,a));a.call(n)}}}var Fy={},jl=_d(Fy),N0=_d(Fy),S0=_d(Fy);function Nf(e){if(e===Fy)throw Error(Xe(174));return e}function nC(e,t){switch(dn(S0,t),dn(N0,e),dn(jl,Fy),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:q_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=q_(t,e)}yn(jl),dn(jl,t)}function op(){yn(jl),yn(N0),yn(S0)}function p9(e){Nf(S0.current);var t=Nf(jl.current),r=q_(t,e.type);t!==r&&(dn(N0,e),dn(jl,r))}function iC(e){N0.current===e&&(yn(jl),yn(N0))}var Nn=_d(0);function X1(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var O5=[];function aC(){for(var e=0;e<O5.length;e++)O5[e]._workInProgressVersionPrimary=null;O5.length=0}var s1=Gc.ReactCurrentDispatcher,M5=Gc.ReactCurrentBatchConfig,Yf=0,Pn=null,xi=null,Pi=null,Z1=!1,Hx=!1,_0=0,See=0;function Zi(){throw Error(Xe(321))}function sC(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Uo(e[r],t[r]))return!1;return!0}function oC(e,t,r,n,a,s){if(Yf=s,Pn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,s1.current=e===null||e.memoizedState===null?kee:Cee,e=r(n,a),Hx){s=0;do{if(Hx=!1,_0=0,25<=s)throw Error(Xe(301));s+=1,Pi=xi=null,t.updateQueue=null,s1.current=Tee,e=r(n,a)}while(Hx)}if(s1.current=Q1,t=xi!==null&&xi.next!==null,Yf=0,Pi=xi=Pn=null,Z1=!1,t)throw Error(Xe(300));return e}function lC(){var e=_0!==0;return _0=0,e}function ll(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pi===null?Pn.memoizedState=Pi=e:Pi=Pi.next=e,Pi}function eo(){if(xi===null){var e=Pn.alternate;e=e!==null?e.memoizedState:null}else e=xi.next;var t=Pi===null?Pn.memoizedState:Pi.next;if(t!==null)Pi=t,xi=e;else{if(e===null)throw Error(Xe(310));xi=e,e={memoizedState:xi.memoizedState,baseState:xi.baseState,baseQueue:xi.baseQueue,queue:xi.queue,next:null},Pi===null?Pn.memoizedState=Pi=e:Pi=Pi.next=e}return Pi}function P0(e,t){return typeof t=="function"?t(e):t}function L5(e){var t=eo(),r=t.queue;if(r===null)throw Error(Xe(311));r.lastRenderedReducer=e;var n=xi,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Yf&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Pn.lanes|=d,Xf|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,Uo(n,t.memoizedState)||(Ia=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Pn.lanes|=s,Xf|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function I5(e){var t=eo(),r=t.queue;if(r===null)throw Error(Xe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);Uo(s,t.memoizedState)||(Ia=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function g9(){}function x9(e,t){var r=Pn,n=eo(),a=t(),s=!Uo(n.memoizedState,a);if(s&&(n.memoizedState=a,Ia=!0),n=n.queue,cC(b9.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Pi!==null&&Pi.memoizedState.tag&1){if(r.flags|=2048,A0(9,v9.bind(null,r,n,a,t),void 0,null),ki===null)throw Error(Xe(349));Yf&30||y9(r,t,a)}return a}function y9(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pn.updateQueue,t===null?(t={lastEffect:null,stores:null},Pn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function v9(e,t,r,n){t.value=r,t.getSnapshot=n,w9(t)&&j9(e)}function b9(e,t,r){return r(function(){w9(t)&&j9(e)})}function w9(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Uo(e,r)}catch{return!0}}function j9(e){var t=Dc(e,1);t!==null&&$o(t,e,1,-1)}function H6(e){var t=ll();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:P0,lastRenderedState:e},t.queue=e,e=e.dispatch=Aee.bind(null,Pn,e),[t.memoizedState,e]}function A0(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Pn.updateQueue,t===null?(t={lastEffect:null,stores:null},Pn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function N9(){return eo().memoizedState}function o1(e,t,r,n){var a=ll();Pn.flags|=e,a.memoizedState=A0(1|t,r,void 0,n===void 0?null:n)}function Q2(e,t,r,n){var a=eo();n=n===void 0?null:n;var s=void 0;if(xi!==null){var o=xi.memoizedState;if(s=o.destroy,n!==null&&sC(n,o.deps)){a.memoizedState=A0(t,r,s,n);return}}Pn.flags|=e,a.memoizedState=A0(1|t,r,s,n)}function K6(e,t){return o1(8390656,8,e,t)}function cC(e,t){return Q2(2048,8,e,t)}function S9(e,t){return Q2(4,2,e,t)}function _9(e,t){return Q2(4,4,e,t)}function P9(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function A9(e,t,r){return r=r!=null?r.concat([e]):null,Q2(4,4,P9.bind(null,t,e),r)}function uC(){}function k9(e,t){var r=eo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sC(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function C9(e,t){var r=eo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sC(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function T9(e,t,r){return Yf&21?(Uo(r,t)||(r=I$(),Pn.lanes|=r,Xf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ia=!0),e.memoizedState=r)}function _ee(e,t){var r=Hr;Hr=r!==0&&4>r?r:4,e(!0);var n=M5.transition;M5.transition={};try{e(!1),t()}finally{Hr=r,M5.transition=n}}function E9(){return eo().memoizedState}function Pee(e,t,r){var n=rd(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},O9(e))M9(t,r);else if(r=h9(e,t,r,n),r!==null){var a=Sa();$o(r,e,n,a),L9(r,t,n)}}function Aee(e,t,r){var n=rd(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(O9(e))M9(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,Uo(l,o)){var c=t.interleaved;c===null?(a.next=a,tC(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=h9(e,t,a,n),r!==null&&(a=Sa(),$o(r,e,n,a),L9(r,t,n))}}function O9(e){var t=e.alternate;return e===Pn||t!==null&&t===Pn}function M9(e,t){Hx=Z1=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function L9(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Uk(e,r)}}var Q1={readContext:Js,useCallback:Zi,useContext:Zi,useEffect:Zi,useImperativeHandle:Zi,useInsertionEffect:Zi,useLayoutEffect:Zi,useMemo:Zi,useReducer:Zi,useRef:Zi,useState:Zi,useDebugValue:Zi,useDeferredValue:Zi,useTransition:Zi,useMutableSource:Zi,useSyncExternalStore:Zi,useId:Zi,unstable_isNewReconciler:!1},kee={readContext:Js,useCallback:function(e,t){return ll().memoizedState=[e,t===void 0?null:t],e},useContext:Js,useEffect:K6,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,o1(4194308,4,P9.bind(null,t,e),r)},useLayoutEffect:function(e,t){return o1(4194308,4,e,t)},useInsertionEffect:function(e,t){return o1(4,2,e,t)},useMemo:function(e,t){var r=ll();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ll();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Pee.bind(null,Pn,e),[n.memoizedState,e]},useRef:function(e){var t=ll();return e={current:e},t.memoizedState=e},useState:H6,useDebugValue:uC,useDeferredValue:function(e){return ll().memoizedState=e},useTransition:function(){var e=H6(!1),t=e[0];return e=_ee.bind(null,e[1]),ll().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Pn,a=ll();if(bn){if(r===void 0)throw Error(Xe(407));r=r()}else{if(r=t(),ki===null)throw Error(Xe(349));Yf&30||y9(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,K6(b9.bind(null,n,s,e),[e]),n.flags|=2048,A0(9,v9.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=ll(),t=ki.identifierPrefix;if(bn){var r=xc,n=gc;r=(n&~(1<<32-Fo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=_0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=See++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cee={readContext:Js,useCallback:k9,useContext:Js,useEffect:cC,useImperativeHandle:A9,useInsertionEffect:S9,useLayoutEffect:_9,useMemo:C9,useReducer:L5,useRef:N9,useState:function(){return L5(P0)},useDebugValue:uC,useDeferredValue:function(e){var t=eo();return T9(t,xi.memoizedState,e)},useTransition:function(){var e=L5(P0)[0],t=eo().memoizedState;return[e,t]},useMutableSource:g9,useSyncExternalStore:x9,useId:E9,unstable_isNewReconciler:!1},Tee={readContext:Js,useCallback:k9,useContext:Js,useEffect:cC,useImperativeHandle:A9,useInsertionEffect:S9,useLayoutEffect:_9,useMemo:C9,useReducer:I5,useRef:N9,useState:function(){return I5(P0)},useDebugValue:uC,useDeferredValue:function(e){var t=eo();return xi===null?t.memoizedState=e:T9(t,xi.memoizedState,e)},useTransition:function(){var e=I5(P0)[0],t=eo().memoizedState;return[e,t]},useMutableSource:g9,useSyncExternalStore:x9,useId:E9,unstable_isNewReconciler:!1};function No(e,t){if(e&&e.defaultProps){t=An({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function dP(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:An({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var J2={isMounted:function(e){return(e=e._reactInternals)?hh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Sa(),a=rd(e),s=Nc(n,a);s.payload=t,r!=null&&(s.callback=r),t=ed(e,s,a),t!==null&&($o(t,e,a,n),a1(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Sa(),a=rd(e),s=Nc(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=ed(e,s,a),t!==null&&($o(t,e,a,n),a1(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Sa(),n=rd(e),a=Nc(r,n);a.tag=2,t!=null&&(a.callback=t),t=ed(e,a,n),t!==null&&($o(t,e,n,r),a1(t,e,n))}};function G6(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!v0(r,n)||!v0(a,s):!0}function I9(e,t,r){var n=!1,a=md,s=t.contextType;return typeof s=="object"&&s!==null?s=Js(s):(a=$a(t)?Kf:fa.current,n=t.contextTypes,s=(n=n!=null)?ip(e,a):md),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=J2,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function Y6(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&J2.enqueueReplaceState(t,t.state,null)}function fP(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},rC(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Js(s):(s=$a(t)?Kf:fa.current,a.context=ip(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(dP(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&J2.enqueueReplaceState(a,a.state,null),Y1(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function lp(e,t){try{var r="",n=t;do r+=iJ(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function D5(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function hP(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Eee=typeof WeakMap=="function"?WeakMap:Map;function D9(e,t,r){r=Nc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ew||(ew=!0,NP=n),hP(e,t)},r}function R9(e,t,r){r=Nc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){hP(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){hP(e,t),typeof n!="function"&&(td===null?td=new Set([this]):td.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function X6(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Eee;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Wee.bind(null,e,t,r),t.then(e,e))}function Z6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Q6(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Nc(-1,1),t.tag=2,ed(r,t,1))),r.lanes|=1),e)}var Oee=Gc.ReactCurrentOwner,Ia=!1;function va(e,t,r,n){t.child=e===null?f9(t,null,r,n):sp(t,e.child,r,n)}function J6(e,t,r,n,a){r=r.render;var s=t.ref;return Pm(t,a),n=oC(e,t,r,n,s,a),r=lC(),e!==null&&!Ia?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Rc(e,t,a)):(bn&&r&&Yk(t),t.flags|=1,va(e,t,n,a),t.child)}function eO(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!yC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,F9(e,t,s,n,a)):(e=d1(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:v0,r(o,n)&&e.ref===t.ref)return Rc(e,t,a)}return t.flags|=1,e=nd(s,n),e.ref=t.ref,e.return=t,t.child=e}function F9(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(v0(s,n)&&e.ref===t.ref)if(Ia=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Ia=!0);else return t.lanes=e.lanes,Rc(e,t,a)}return mP(e,t,r,n,a)}function $9(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},dn(fm,is),is|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,dn(fm,is),is|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,dn(fm,is),is|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,dn(fm,is),is|=n;return va(e,t,a,r),t.child}function B9(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function mP(e,t,r,n,a){var s=$a(r)?Kf:fa.current;return s=ip(t,s),Pm(t,a),r=oC(e,t,r,n,s,a),n=lC(),e!==null&&!Ia?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Rc(e,t,a)):(bn&&n&&Yk(t),t.flags|=1,va(e,t,r,a),t.child)}function tO(e,t,r,n,a){if($a(r)){var s=!0;q1(t)}else s=!1;if(Pm(t,a),t.stateNode===null)l1(e,t),I9(t,r,n),fP(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Js(u):(u=$a(r)?Kf:fa.current,u=ip(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Y6(t,o,n,u),Au=!1;var h=t.memoizedState;o.state=h,Y1(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Fa.current||Au?(typeof d=="function"&&(dP(t,r,d,n),c=t.memoizedState),(l=Au||G6(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,m9(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:No(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Js(c):(c=$a(r)?Kf:fa.current,c=ip(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Y6(t,o,n,c),Au=!1,h=t.memoizedState,o.state=h,Y1(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||Fa.current||Au?(typeof m=="function"&&(dP(t,r,m,n),g=t.memoizedState),(u=Au||G6(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return pP(e,t,r,n,s,a)}function pP(e,t,r,n,a,s){B9(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&B6(t,r,!1),Rc(e,t,s);n=t.stateNode,Oee.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=sp(t,e.child,null,s),t.child=sp(t,null,l,s)):va(e,t,l,s),t.memoizedState=n.state,a&&B6(t,r,!0),t.child}function U9(e){var t=e.stateNode;t.pendingContext?$6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$6(e,t.context,!1),nC(e,t.containerInfo)}function rO(e,t,r,n,a){return ap(),Zk(a),t.flags|=256,va(e,t,r,n),t.child}var gP={dehydrated:null,treeContext:null,retryLane:0};function xP(e){return{baseLanes:e,cachePool:null,transitions:null}}function z9(e,t,r){var n=t.pendingProps,a=Nn.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),dn(Nn,a&1),e===null)return cP(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=rj(o,n,0,null),e=zf(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=xP(r),t.memoizedState=gP,e):dC(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Mee(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=nd(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=nd(l,s):(s=zf(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?xP(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=gP,n}return s=e.child,e=s.sibling,n=nd(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function dC(e,t){return t=rj({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function db(e,t,r,n){return n!==null&&Zk(n),sp(t,e.child,null,r),e=dC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mee(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=D5(Error(Xe(422))),db(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=rj({mode:"visible",children:n.children},a,0,null),s=zf(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&sp(t,e.child,null,o),t.child.memoizedState=xP(o),t.memoizedState=gP,s);if(!(t.mode&1))return db(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Xe(419)),n=D5(s,n,void 0),db(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ia||l){if(n=ki,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Dc(e,a),$o(n,e,a,-1))}return xC(),n=D5(Error(Xe(421))),db(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Hee.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,cs=Ju(a.nextSibling),hs=t,bn=!0,Co=null,e!==null&&(Bs[Us++]=gc,Bs[Us++]=xc,Bs[Us++]=Gf,gc=e.id,xc=e.overflow,Gf=t),t=dC(t,n.children),t.flags|=4096,t)}function nO(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),uP(e.return,t,r)}function R5(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function V9(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(va(e,t,n.children,r),n=Nn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nO(e,r,t);else if(e.tag===19)nO(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(dn(Nn,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&X1(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),R5(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&X1(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}R5(t,!0,r,null,s);break;case"together":R5(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function l1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Xf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Xe(153));if(t.child!==null){for(e=t.child,r=nd(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=nd(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Lee(e,t,r){switch(t.tag){case 3:U9(t),ap();break;case 5:p9(t);break;case 1:$a(t.type)&&q1(t);break;case 4:nC(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;dn(K1,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(dn(Nn,Nn.current&1),t.flags|=128,null):r&t.child.childLanes?z9(e,t,r):(dn(Nn,Nn.current&1),e=Rc(e,t,r),e!==null?e.sibling:null);dn(Nn,Nn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return V9(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),dn(Nn,Nn.current),n)break;return null;case 22:case 23:return t.lanes=0,$9(e,t,r)}return Rc(e,t,r)}var q9,yP,W9,H9;q9=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};yP=function(){};W9=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Nf(jl.current);var s=null;switch(r){case"input":a=B_(e,a),n=B_(e,n),s=[];break;case"select":a=An({},a,{value:void 0}),n=An({},n,{value:void 0}),s=[];break;case"textarea":a=V_(e,a),n=V_(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=z1)}W_(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(f0.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(f0.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&mn("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};H9=function(e,t,r,n){r!==n&&(t.flags|=4)};function ix(e,t){if(!bn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Qi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Iee(e,t,r){var n=t.pendingProps;switch(Xk(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qi(t),null;case 1:return $a(t.type)&&V1(),Qi(t),null;case 3:return n=t.stateNode,op(),yn(Fa),yn(fa),aC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(cb(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Co!==null&&(PP(Co),Co=null))),yP(e,t),Qi(t),null;case 5:iC(t);var a=Nf(S0.current);if(r=t.type,e!==null&&t.stateNode!=null)W9(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Xe(166));return Qi(t),null}if(e=Nf(jl.current),cb(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[hl]=t,n[j0]=s,e=(t.mode&1)!==0,r){case"dialog":mn("cancel",n),mn("close",n);break;case"iframe":case"object":case"embed":mn("load",n);break;case"video":case"audio":for(a=0;a<Ox.length;a++)mn(Ox[a],n);break;case"source":mn("error",n);break;case"img":case"image":case"link":mn("error",n),mn("load",n);break;case"details":mn("toggle",n);break;case"input":f6(n,s),mn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},mn("invalid",n);break;case"textarea":m6(n,s),mn("invalid",n)}W_(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&lb(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&lb(n.textContent,l,e),a=["children",""+l]):f0.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&mn("scroll",n)}switch(r){case"input":eb(n),h6(n,s,!0);break;case"textarea":eb(n),p6(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=z1)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=b$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[hl]=t,e[j0]=n,q9(e,t,!1,!1),t.stateNode=e;e:{switch(o=H_(r,n),r){case"dialog":mn("cancel",e),mn("close",e),a=n;break;case"iframe":case"object":case"embed":mn("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ox.length;a++)mn(Ox[a],e);a=n;break;case"source":mn("error",e),a=n;break;case"img":case"image":case"link":mn("error",e),mn("load",e),a=n;break;case"details":mn("toggle",e),a=n;break;case"input":f6(e,n),a=B_(e,n),mn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=An({},n,{value:void 0}),mn("invalid",e);break;case"textarea":m6(e,n),a=V_(e,n),mn("invalid",e);break;default:a=n}W_(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?N$(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&w$(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&h0(e,c):typeof c=="number"&&h0(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(f0.hasOwnProperty(s)?c!=null&&s==="onScroll"&&mn("scroll",e):c!=null&&Ik(e,s,c,o))}switch(r){case"input":eb(e),h6(e,n,!1);break;case"textarea":eb(e),p6(e);break;case"option":n.value!=null&&e.setAttribute("value",""+hd(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?jm(e,!!n.multiple,s,!1):n.defaultValue!=null&&jm(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=z1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qi(t),null;case 6:if(e&&t.stateNode!=null)H9(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Xe(166));if(r=Nf(S0.current),Nf(jl.current),cb(t)){if(n=t.stateNode,r=t.memoizedProps,n[hl]=t,(s=n.nodeValue!==r)&&(e=hs,e!==null))switch(e.tag){case 3:lb(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lb(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[hl]=t,t.stateNode=n}return Qi(t),null;case 13:if(yn(Nn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(bn&&cs!==null&&t.mode&1&&!(t.flags&128))u9(),ap(),t.flags|=98560,s=!1;else if(s=cb(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Xe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Xe(317));s[hl]=t}else ap(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qi(t),s=!1}else Co!==null&&(PP(Co),Co=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Nn.current&1?bi===0&&(bi=3):xC())),t.updateQueue!==null&&(t.flags|=4),Qi(t),null);case 4:return op(),yP(e,t),e===null&&b0(t.stateNode.containerInfo),Qi(t),null;case 10:return eC(t.type._context),Qi(t),null;case 17:return $a(t.type)&&V1(),Qi(t),null;case 19:if(yn(Nn),s=t.memoizedState,s===null)return Qi(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)ix(s,!1);else{if(bi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=X1(e),o!==null){for(t.flags|=128,ix(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return dn(Nn,Nn.current&1|2),t.child}e=e.sibling}s.tail!==null&&Hn()>cp&&(t.flags|=128,n=!0,ix(s,!1),t.lanes=4194304)}else{if(!n)if(e=X1(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ix(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!bn)return Qi(t),null}else 2*Hn()-s.renderingStartTime>cp&&r!==1073741824&&(t.flags|=128,n=!0,ix(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Hn(),t.sibling=null,r=Nn.current,dn(Nn,n?r&1|2:r&1),t):(Qi(t),null);case 22:case 23:return gC(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?is&1073741824&&(Qi(t),t.subtreeFlags&6&&(t.flags|=8192)):Qi(t),null;case 24:return null;case 25:return null}throw Error(Xe(156,t.tag))}function Dee(e,t){switch(Xk(t),t.tag){case 1:return $a(t.type)&&V1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return op(),yn(Fa),yn(fa),aC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return iC(t),null;case 13:if(yn(Nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Xe(340));ap()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return yn(Nn),null;case 4:return op(),null;case 10:return eC(t.type._context),null;case 22:case 23:return gC(),null;case 24:return null;default:return null}}var fb=!1,sa=!1,Ree=typeof WeakSet=="function"?WeakSet:Set,ft=null;function dm(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Dn(e,t,n)}else r.current=null}function vP(e,t,r){try{r()}catch(n){Dn(e,t,n)}}var iO=!1;function Fee(e,t){if(rP=$1,e=Z$(),Gk(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===s&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(nP={focusedElem:e,selectionRange:r},$1=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){t=ft;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,v=g.memoizedState,p=t.stateNode,y=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:No(t.type,x),v);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Xe(163))}}catch(j){Dn(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}return g=iO,iO=!1,g}function Kx(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&vP(t,r,s)}a=a.next}while(a!==n)}}function ej(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function bP(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function K9(e){var t=e.alternate;t!==null&&(e.alternate=null,K9(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hl],delete t[j0],delete t[sP],delete t[bee],delete t[wee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function G9(e){return e.tag===5||e.tag===3||e.tag===4}function aO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||G9(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wP(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=z1));else if(n!==4&&(e=e.child,e!==null))for(wP(e,t,r),e=e.sibling;e!==null;)wP(e,t,r),e=e.sibling}function jP(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(jP(e,t,r),e=e.sibling;e!==null;)jP(e,t,r),e=e.sibling}var Bi=null,_o=!1;function xu(e,t,r){for(r=r.child;r!==null;)Y9(e,t,r),r=r.sibling}function Y9(e,t,r){if(wl&&typeof wl.onCommitFiberUnmount=="function")try{wl.onCommitFiberUnmount(H2,r)}catch{}switch(r.tag){case 5:sa||dm(r,t);case 6:var n=Bi,a=_o;Bi=null,xu(e,t,r),Bi=n,_o=a,Bi!==null&&(_o?(e=Bi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Bi.removeChild(r.stateNode));break;case 18:Bi!==null&&(_o?(e=Bi,r=r.stateNode,e.nodeType===8?T5(e.parentNode,r):e.nodeType===1&&T5(e,r),x0(e)):T5(Bi,r.stateNode));break;case 4:n=Bi,a=_o,Bi=r.stateNode.containerInfo,_o=!0,xu(e,t,r),Bi=n,_o=a;break;case 0:case 11:case 14:case 15:if(!sa&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&vP(r,t,o),a=a.next}while(a!==n)}xu(e,t,r);break;case 1:if(!sa&&(dm(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Dn(r,t,l)}xu(e,t,r);break;case 21:xu(e,t,r);break;case 22:r.mode&1?(sa=(n=sa)||r.memoizedState!==null,xu(e,t,r),sa=n):xu(e,t,r);break;default:xu(e,t,r)}}function sO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ree),t.forEach(function(n){var a=Kee.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function yo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Bi=l.stateNode,_o=!1;break e;case 3:Bi=l.stateNode.containerInfo,_o=!0;break e;case 4:Bi=l.stateNode.containerInfo,_o=!0;break e}l=l.return}if(Bi===null)throw Error(Xe(160));Y9(s,o,a),Bi=null,_o=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Dn(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)X9(t,e),t=t.sibling}function X9(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yo(t,e),al(e),n&4){try{Kx(3,e,e.return),ej(3,e)}catch(x){Dn(e,e.return,x)}try{Kx(5,e,e.return)}catch(x){Dn(e,e.return,x)}}break;case 1:yo(t,e),al(e),n&512&&r!==null&&dm(r,r.return);break;case 5:if(yo(t,e),al(e),n&512&&r!==null&&dm(r,r.return),e.flags&32){var a=e.stateNode;try{h0(a,"")}catch(x){Dn(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&y$(a,s),H_(l,o);var u=H_(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?N$(a,f):d==="dangerouslySetInnerHTML"?w$(a,f):d==="children"?h0(a,f):Ik(a,d,f,u)}switch(l){case"input":U_(a,s);break;case"textarea":v$(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?jm(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?jm(a,!!s.multiple,s.defaultValue,!0):jm(a,!!s.multiple,s.multiple?[]:"",!1))}a[j0]=s}catch(x){Dn(e,e.return,x)}}break;case 6:if(yo(t,e),al(e),n&4){if(e.stateNode===null)throw Error(Xe(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(x){Dn(e,e.return,x)}}break;case 3:if(yo(t,e),al(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{x0(t.containerInfo)}catch(x){Dn(e,e.return,x)}break;case 4:yo(t,e),al(e);break;case 13:yo(t,e),al(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(mC=Hn())),n&4&&sO(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(sa=(u=sa)||d,yo(t,e),sa=u):yo(t,e),al(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ft=e,d=e.child;d!==null;){for(f=ft=d;ft!==null;){switch(h=ft,m=h.child,h.tag){case 0:case 11:case 14:case 15:Kx(4,h,h.return);break;case 1:dm(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){Dn(n,r,x)}}break;case 5:dm(h,h.return);break;case 22:if(h.memoizedState!==null){lO(f);continue}}m!==null?(m.return=h,ft=m):lO(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=j$("display",o))}catch(x){Dn(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Dn(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yo(t,e),al(e),n&4&&sO(e);break;case 21:break;default:yo(t,e),al(e)}}function al(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(G9(r)){var n=r;break e}r=r.return}throw Error(Xe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(h0(a,""),n.flags&=-33);var s=aO(e);jP(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=aO(e);wP(e,l,o);break;default:throw Error(Xe(161))}}catch(c){Dn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $ee(e,t,r){ft=e,Z9(e)}function Z9(e,t,r){for(var n=(e.mode&1)!==0;ft!==null;){var a=ft,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||fb;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||sa;l=fb;var u=sa;if(fb=o,(sa=c)&&!u)for(ft=a;ft!==null;)o=ft,c=o.child,o.tag===22&&o.memoizedState!==null?cO(a):c!==null?(c.return=o,ft=c):cO(a);for(;s!==null;)ft=s,Z9(s),s=s.sibling;ft=a,fb=l,sa=u}oO(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,ft=s):oO(e)}}function oO(e){for(;ft!==null;){var t=ft;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:sa||ej(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!sa)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:No(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&W6(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}W6(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&x0(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Xe(163))}sa||t.flags&512&&bP(t)}catch(h){Dn(t,t.return,h)}}if(t===e){ft=null;break}if(r=t.sibling,r!==null){r.return=t.return,ft=r;break}ft=t.return}}function lO(e){for(;ft!==null;){var t=ft;if(t===e){ft=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ft=r;break}ft=t.return}}function cO(e){for(;ft!==null;){var t=ft;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ej(4,t)}catch(c){Dn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Dn(t,a,c)}}var s=t.return;try{bP(t)}catch(c){Dn(t,s,c)}break;case 5:var o=t.return;try{bP(t)}catch(c){Dn(t,o,c)}}}catch(c){Dn(t,t.return,c)}if(t===e){ft=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ft=l;break}ft=t.return}}var Bee=Math.ceil,J1=Gc.ReactCurrentDispatcher,fC=Gc.ReactCurrentOwner,Hs=Gc.ReactCurrentBatchConfig,Pr=0,ki=null,ii=null,Wi=0,is=0,fm=_d(0),bi=0,k0=null,Xf=0,tj=0,hC=0,Gx=null,La=null,mC=0,cp=1/0,dc=null,ew=!1,NP=null,td=null,hb=!1,Wu=null,tw=0,Yx=0,SP=null,c1=-1,u1=0;function Sa(){return Pr&6?Hn():c1!==-1?c1:c1=Hn()}function rd(e){return e.mode&1?Pr&2&&Wi!==0?Wi&-Wi:Nee.transition!==null?(u1===0&&(u1=I$()),u1):(e=Hr,e!==0||(e=window.event,e=e===void 0?16:z$(e.type)),e):1}function $o(e,t,r,n){if(50<Yx)throw Yx=0,SP=null,Error(Xe(185));Iy(e,r,n),(!(Pr&2)||e!==ki)&&(e===ki&&(!(Pr&2)&&(tj|=r),bi===4&&Eu(e,Wi)),Ba(e,n),r===1&&Pr===0&&!(t.mode&1)&&(cp=Hn()+500,Z2&&Pd()))}function Ba(e,t){var r=e.callbackNode;NJ(e,t);var n=F1(e,e===ki?Wi:0);if(n===0)r!==null&&y6(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&y6(r),t===1)e.tag===0?jee(uO.bind(null,e)):o9(uO.bind(null,e)),yee(function(){!(Pr&6)&&Pd()}),r=null;else{switch(D$(n)){case 1:r=Bk;break;case 4:r=M$;break;case 16:r=R1;break;case 536870912:r=L$;break;default:r=R1}r=aB(r,Q9.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Q9(e,t){if(c1=-1,u1=0,Pr&6)throw Error(Xe(327));var r=e.callbackNode;if(Am()&&e.callbackNode!==r)return null;var n=F1(e,e===ki?Wi:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=rw(e,n);else{t=n;var a=Pr;Pr|=2;var s=eB();(ki!==e||Wi!==t)&&(dc=null,cp=Hn()+500,Uf(e,t));do try{Vee();break}catch(l){J9(e,l)}while(!0);Jk(),J1.current=s,Pr=a,ii!==null?t=0:(ki=null,Wi=0,t=bi)}if(t!==0){if(t===2&&(a=Z_(e),a!==0&&(n=a,t=_P(e,a))),t===1)throw r=k0,Uf(e,0),Eu(e,n),Ba(e,Hn()),r;if(t===6)Eu(e,n);else{if(a=e.current.alternate,!(n&30)&&!Uee(a)&&(t=rw(e,n),t===2&&(s=Z_(e),s!==0&&(n=s,t=_P(e,s))),t===1))throw r=k0,Uf(e,0),Eu(e,n),Ba(e,Hn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Xe(345));case 2:cf(e,La,dc);break;case 3:if(Eu(e,n),(n&130023424)===n&&(t=mC+500-Hn(),10<t)){if(F1(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Sa(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=aP(cf.bind(null,e,La,dc),t);break}cf(e,La,dc);break;case 4:if(Eu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Fo(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=Hn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Bee(n/1960))-n,10<n){e.timeoutHandle=aP(cf.bind(null,e,La,dc),n);break}cf(e,La,dc);break;case 5:cf(e,La,dc);break;default:throw Error(Xe(329))}}}return Ba(e,Hn()),e.callbackNode===r?Q9.bind(null,e):null}function _P(e,t){var r=Gx;return e.current.memoizedState.isDehydrated&&(Uf(e,t).flags|=256),e=rw(e,t),e!==2&&(t=La,La=r,t!==null&&PP(t)),e}function PP(e){La===null?La=e:La.push.apply(La,e)}function Uee(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Uo(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Eu(e,t){for(t&=~hC,t&=~tj,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Fo(t),n=1<<r;e[r]=-1,t&=~n}}function uO(e){if(Pr&6)throw Error(Xe(327));Am();var t=F1(e,0);if(!(t&1))return Ba(e,Hn()),null;var r=rw(e,t);if(e.tag!==0&&r===2){var n=Z_(e);n!==0&&(t=n,r=_P(e,n))}if(r===1)throw r=k0,Uf(e,0),Eu(e,t),Ba(e,Hn()),r;if(r===6)throw Error(Xe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cf(e,La,dc),Ba(e,Hn()),null}function pC(e,t){var r=Pr;Pr|=1;try{return e(t)}finally{Pr=r,Pr===0&&(cp=Hn()+500,Z2&&Pd())}}function Zf(e){Wu!==null&&Wu.tag===0&&!(Pr&6)&&Am();var t=Pr;Pr|=1;var r=Hs.transition,n=Hr;try{if(Hs.transition=null,Hr=1,e)return e()}finally{Hr=n,Hs.transition=r,Pr=t,!(Pr&6)&&Pd()}}function gC(){is=fm.current,yn(fm)}function Uf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,xee(r)),ii!==null)for(r=ii.return;r!==null;){var n=r;switch(Xk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&V1();break;case 3:op(),yn(Fa),yn(fa),aC();break;case 5:iC(n);break;case 4:op();break;case 13:yn(Nn);break;case 19:yn(Nn);break;case 10:eC(n.type._context);break;case 22:case 23:gC()}r=r.return}if(ki=e,ii=e=nd(e.current,null),Wi=is=t,bi=0,k0=null,hC=tj=Xf=0,La=Gx=null,jf!==null){for(t=0;t<jf.length;t++)if(r=jf[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}jf=null}return e}function J9(e,t){do{var r=ii;try{if(Jk(),s1.current=Q1,Z1){for(var n=Pn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Z1=!1}if(Yf=0,Pi=xi=Pn=null,Hx=!1,_0=0,fC.current=null,r===null||r.return===null){bi=1,k0=t,ii=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=Wi,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Z6(o);if(m!==null){m.flags&=-257,Q6(m,o,l,s,t),m.mode&1&&X6(s,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){X6(s,u,t),xC();break e}c=Error(Xe(426))}}else if(bn&&l.mode&1){var v=Z6(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Q6(v,o,l,s,t),Zk(lp(c,l));break e}}s=c=lp(c,l),bi!==4&&(bi=2),Gx===null?Gx=[s]:Gx.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=D9(s,c,t);q6(s,p);break e;case 1:l=c;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(td===null||!td.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=R9(s,l,t);q6(s,j);break e}}s=s.return}while(s!==null)}rB(r)}catch(S){t=S,ii===r&&r!==null&&(ii=r=r.return);continue}break}while(!0)}function eB(){var e=J1.current;return J1.current=Q1,e===null?Q1:e}function xC(){(bi===0||bi===3||bi===2)&&(bi=4),ki===null||!(Xf&268435455)&&!(tj&268435455)||Eu(ki,Wi)}function rw(e,t){var r=Pr;Pr|=2;var n=eB();(ki!==e||Wi!==t)&&(dc=null,Uf(e,t));do try{zee();break}catch(a){J9(e,a)}while(!0);if(Jk(),Pr=r,J1.current=n,ii!==null)throw Error(Xe(261));return ki=null,Wi=0,bi}function zee(){for(;ii!==null;)tB(ii)}function Vee(){for(;ii!==null&&!mJ();)tB(ii)}function tB(e){var t=iB(e.alternate,e,is);e.memoizedProps=e.pendingProps,t===null?rB(e):ii=t,fC.current=null}function rB(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Dee(r,t),r!==null){r.flags&=32767,ii=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bi=6,ii=null;return}}else if(r=Iee(r,t,is),r!==null){ii=r;return}if(t=t.sibling,t!==null){ii=t;return}ii=t=e}while(t!==null);bi===0&&(bi=5)}function cf(e,t,r){var n=Hr,a=Hs.transition;try{Hs.transition=null,Hr=1,qee(e,t,r,n)}finally{Hs.transition=a,Hr=n}return null}function qee(e,t,r,n){do Am();while(Wu!==null);if(Pr&6)throw Error(Xe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Xe(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(SJ(e,s),e===ki&&(ii=ki=null,Wi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||hb||(hb=!0,aB(R1,function(){return Am(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Hs.transition,Hs.transition=null;var o=Hr;Hr=1;var l=Pr;Pr|=4,fC.current=null,Fee(e,r),X9(r,e),uee(nP),$1=!!rP,nP=rP=null,e.current=r,$ee(r),pJ(),Pr=l,Hr=o,Hs.transition=s}else e.current=r;if(hb&&(hb=!1,Wu=e,tw=a),s=e.pendingLanes,s===0&&(td=null),yJ(r.stateNode),Ba(e,Hn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ew)throw ew=!1,e=NP,NP=null,e;return tw&1&&e.tag!==0&&Am(),s=e.pendingLanes,s&1?e===SP?Yx++:(Yx=0,SP=e):Yx=0,Pd(),null}function Am(){if(Wu!==null){var e=D$(tw),t=Hs.transition,r=Hr;try{if(Hs.transition=null,Hr=16>e?16:e,Wu===null)var n=!1;else{if(e=Wu,Wu=null,tw=0,Pr&6)throw Error(Xe(331));var a=Pr;for(Pr|=4,ft=e.current;ft!==null;){var s=ft,o=s.child;if(ft.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ft=u;ft!==null;){var d=ft;switch(d.tag){case 0:case 11:case 15:Kx(8,d,s)}var f=d.child;if(f!==null)f.return=d,ft=f;else for(;ft!==null;){d=ft;var h=d.sibling,m=d.return;if(K9(d),d===u){ft=null;break}if(h!==null){h.return=m,ft=h;break}ft=m}}}var g=s.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}ft=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ft=o;else e:for(;ft!==null;){if(s=ft,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Kx(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,ft=p;break e}ft=s.return}}var y=e.current;for(ft=y;ft!==null;){o=ft;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ft=w;else e:for(o=y;ft!==null;){if(l=ft,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ej(9,l)}}catch(S){Dn(l,l.return,S)}if(l===o){ft=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ft=j;break e}ft=l.return}}if(Pr=a,Pd(),wl&&typeof wl.onPostCommitFiberRoot=="function")try{wl.onPostCommitFiberRoot(H2,e)}catch{}n=!0}return n}finally{Hr=r,Hs.transition=t}}return!1}function dO(e,t,r){t=lp(r,t),t=D9(e,t,1),e=ed(e,t,1),t=Sa(),e!==null&&(Iy(e,1,t),Ba(e,t))}function Dn(e,t,r){if(e.tag===3)dO(e,e,r);else for(;t!==null;){if(t.tag===3){dO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(td===null||!td.has(n))){e=lp(r,e),e=R9(t,e,1),t=ed(t,e,1),e=Sa(),t!==null&&(Iy(t,1,e),Ba(t,e));break}}t=t.return}}function Wee(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Sa(),e.pingedLanes|=e.suspendedLanes&r,ki===e&&(Wi&r)===r&&(bi===4||bi===3&&(Wi&130023424)===Wi&&500>Hn()-mC?Uf(e,0):hC|=r),Ba(e,t)}function nB(e,t){t===0&&(e.mode&1?(t=nb,nb<<=1,!(nb&130023424)&&(nb=4194304)):t=1);var r=Sa();e=Dc(e,t),e!==null&&(Iy(e,t,r),Ba(e,r))}function Hee(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),nB(e,r)}function Kee(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Xe(314))}n!==null&&n.delete(t),nB(e,r)}var iB;iB=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fa.current)Ia=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ia=!1,Lee(e,t,r);Ia=!!(e.flags&131072)}else Ia=!1,bn&&t.flags&1048576&&l9(t,H1,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;l1(e,t),e=t.pendingProps;var a=ip(t,fa.current);Pm(t,r),a=oC(null,t,n,e,a,r);var s=lC();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$a(n)?(s=!0,q1(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,rC(t),a.updater=J2,t.stateNode=a,a._reactInternals=t,fP(t,n,e,r),t=pP(null,t,n,!0,s,r)):(t.tag=0,bn&&s&&Yk(t),va(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(l1(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Yee(n),e=No(n,e),a){case 0:t=mP(null,t,n,e,r);break e;case 1:t=tO(null,t,n,e,r);break e;case 11:t=J6(null,t,n,e,r);break e;case 14:t=eO(null,t,n,No(n.type,e),r);break e}throw Error(Xe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:No(n,a),mP(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:No(n,a),tO(e,t,n,a,r);case 3:e:{if(U9(t),e===null)throw Error(Xe(387));n=t.pendingProps,s=t.memoizedState,a=s.element,m9(e,t),Y1(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=lp(Error(Xe(423)),t),t=rO(e,t,n,r,a);break e}else if(n!==a){a=lp(Error(Xe(424)),t),t=rO(e,t,n,r,a);break e}else for(cs=Ju(t.stateNode.containerInfo.firstChild),hs=t,bn=!0,Co=null,r=f9(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ap(),n===a){t=Rc(e,t,r);break e}va(e,t,n,r)}t=t.child}return t;case 5:return p9(t),e===null&&cP(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,iP(n,a)?o=null:s!==null&&iP(n,s)&&(t.flags|=32),B9(e,t),va(e,t,o,r),t.child;case 6:return e===null&&cP(t),null;case 13:return z9(e,t,r);case 4:return nC(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=sp(t,null,n,r):va(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:No(n,a),J6(e,t,n,a,r);case 7:return va(e,t,t.pendingProps,r),t.child;case 8:return va(e,t,t.pendingProps.children,r),t.child;case 12:return va(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,dn(K1,n._currentValue),n._currentValue=o,s!==null)if(Uo(s.value,o)){if(s.children===a.children&&!Fa.current){t=Rc(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Nc(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),uP(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Xe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),uP(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}va(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Pm(t,r),a=Js(a),n=n(a),t.flags|=1,va(e,t,n,r),t.child;case 14:return n=t.type,a=No(n,t.pendingProps),a=No(n.type,a),eO(e,t,n,a,r);case 15:return F9(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:No(n,a),l1(e,t),t.tag=1,$a(n)?(e=!0,q1(t)):e=!1,Pm(t,r),I9(t,n,a),fP(t,n,a,r),pP(null,t,n,!0,e,r);case 19:return V9(e,t,r);case 22:return $9(e,t,r)}throw Error(Xe(156,t.tag))};function aB(e,t){return O$(e,t)}function Gee(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(e,t,r,n){return new Gee(e,t,r,n)}function yC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yee(e){if(typeof e=="function")return yC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rk)return 11;if(e===Fk)return 14}return 2}function nd(e,t){var r=e.alternate;return r===null?(r=qs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function d1(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")yC(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case rm:return zf(r.children,a,s,t);case Dk:o=8,a|=8;break;case D_:return e=qs(12,r,t,a|2),e.elementType=D_,e.lanes=s,e;case R_:return e=qs(13,r,t,a),e.elementType=R_,e.lanes=s,e;case F_:return e=qs(19,r,t,a),e.elementType=F_,e.lanes=s,e;case p$:return rj(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case h$:o=10;break e;case m$:o=9;break e;case Rk:o=11;break e;case Fk:o=14;break e;case Pu:o=16,n=null;break e}throw Error(Xe(130,e==null?e:typeof e,""))}return t=qs(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function zf(e,t,r,n){return e=qs(7,e,n,t),e.lanes=r,e}function rj(e,t,r,n){return e=qs(22,e,n,t),e.elementType=p$,e.lanes=r,e.stateNode={isHidden:!1},e}function F5(e,t,r){return e=qs(6,e,null,t),e.lanes=r,e}function $5(e,t,r){return t=qs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xee(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=v5(0),this.expirationTimes=v5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=v5(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function vC(e,t,r,n,a,s,o,l,c){return e=new Xee(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=qs(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rC(s),e}function Zee(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tm,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function sB(e){if(!e)return md;e=e._reactInternals;e:{if(hh(e)!==e||e.tag!==1)throw Error(Xe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($a(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Xe(171))}if(e.tag===1){var r=e.type;if($a(r))return s9(e,r,t)}return t}function oB(e,t,r,n,a,s,o,l,c){return e=vC(r,n,!0,e,a,s,o,l,c),e.context=sB(null),r=e.current,n=Sa(),a=rd(r),s=Nc(n,a),s.callback=t??null,ed(r,s,a),e.current.lanes=a,Iy(e,a,n),Ba(e,n),e}function nj(e,t,r,n){var a=t.current,s=Sa(),o=rd(a);return r=sB(r),t.context===null?t.context=r:t.pendingContext=r,t=Nc(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ed(a,t,o),e!==null&&($o(e,a,o,s),a1(e,a,o)),o}function nw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function bC(e,t){fO(e,t),(e=e.alternate)&&fO(e,t)}function Qee(){return null}var lB=typeof reportError=="function"?reportError:function(e){console.error(e)};function wC(e){this._internalRoot=e}ij.prototype.render=wC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Xe(409));nj(e,t,null,null)};ij.prototype.unmount=wC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zf(function(){nj(null,e,null,null)}),t[Ic]=null}};function ij(e){this._internalRoot=e}ij.prototype.unstable_scheduleHydration=function(e){if(e){var t=$$();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Tu.length&&t!==0&&t<Tu[r].priority;r++);Tu.splice(r,0,e),r===0&&U$(e)}};function jC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function aj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hO(){}function Jee(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=nw(o);s.call(u)}}var o=oB(t,n,e,0,null,!1,!1,"",hO);return e._reactRootContainer=o,e[Ic]=o.current,b0(e.nodeType===8?e.parentNode:e),Zf(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=nw(c);l.call(u)}}var c=vC(e,0,!1,null,null,!1,!1,"",hO);return e._reactRootContainer=c,e[Ic]=c.current,b0(e.nodeType===8?e.parentNode:e),Zf(function(){nj(t,c,r,n)}),c}function sj(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=nw(o);l.call(c)}}nj(t,o,e,a)}else o=Jee(r,t,e,a,n);return nw(o)}R$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ex(t.pendingLanes);r!==0&&(Uk(t,r|1),Ba(t,Hn()),!(Pr&6)&&(cp=Hn()+500,Pd()))}break;case 13:Zf(function(){var n=Dc(e,1);if(n!==null){var a=Sa();$o(n,e,1,a)}}),bC(e,1)}};zk=function(e){if(e.tag===13){var t=Dc(e,134217728);if(t!==null){var r=Sa();$o(t,e,134217728,r)}bC(e,134217728)}};F$=function(e){if(e.tag===13){var t=rd(e),r=Dc(e,t);if(r!==null){var n=Sa();$o(r,e,t,n)}bC(e,t)}};$$=function(){return Hr};B$=function(e,t){var r=Hr;try{return Hr=e,t()}finally{Hr=r}};G_=function(e,t,r){switch(t){case"input":if(U_(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=X2(n);if(!a)throw Error(Xe(90));x$(n),U_(n,a)}}}break;case"textarea":v$(e,r);break;case"select":t=r.value,t!=null&&jm(e,!!r.multiple,t,!1)}};P$=pC;A$=Zf;var ete={usingClientEntryPoint:!1,Events:[Ry,sm,X2,S$,_$,pC]},ax={findFiberByHostInstance:wf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tte={bundleType:ax.bundleType,version:ax.version,rendererPackageName:ax.rendererPackageName,rendererConfig:ax.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=T$(e),e===null?null:e.stateNode},findFiberByHostInstance:ax.findFiberByHostInstance||Qee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mb.isDisabled&&mb.supportsFiber)try{H2=mb.inject(tte),wl=mb}catch{}}bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ete;bs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jC(t))throw Error(Xe(200));return Zee(e,t,null,r)};bs.createRoot=function(e,t){if(!jC(e))throw Error(Xe(299));var r=!1,n="",a=lB;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=vC(e,1,!1,null,null,r,!1,n,a),e[Ic]=t.current,b0(e.nodeType===8?e.parentNode:e),new wC(t)};bs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Xe(188)):(e=Object.keys(e).join(","),Error(Xe(268,e)));return e=T$(t),e=e===null?null:e.stateNode,e};bs.flushSync=function(e){return Zf(e)};bs.hydrate=function(e,t,r){if(!aj(t))throw Error(Xe(200));return sj(null,e,t,!0,r)};bs.hydrateRoot=function(e,t,r){if(!jC(e))throw Error(Xe(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=lB;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=oB(t,null,e,1,r??null,a,!1,s,o),e[Ic]=t.current,b0(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ij(t)};bs.render=function(e,t,r){if(!aj(t))throw Error(Xe(200));return sj(null,e,t,!1,r)};bs.unmountComponentAtNode=function(e){if(!aj(e))throw Error(Xe(40));return e._reactRootContainer?(Zf(function(){sj(null,null,e,!1,function(){e._reactRootContainer=null,e[Ic]=null})}),!0):!1};bs.unstable_batchedUpdates=pC;bs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!aj(r))throw Error(Xe(200));if(e==null||e._reactInternals===void 0)throw Error(Xe(38));return sj(e,t,r,!1,n)};bs.version="18.3.1-next-f1338f8080-20240426";function cB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cB)}catch(e){console.error(e)}}cB(),c$.exports=bs;var mh=c$.exports;const rte=Mr(mh);var uB,mO=mh;uB=mO.createRoot,mO.hydrateRoot;var nte=typeof Element<"u",ite=typeof Map=="function",ate=typeof Set=="function",ste=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function f1(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!f1(e[n],t[n]))return!1;return!0}var s;if(ite&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(n=s.next()).done;)if(!t.has(n.value[0]))return!1;for(s=e.entries();!(n=s.next()).done;)if(!f1(n.value[1],t.get(n.value[0])))return!1;return!0}if(ate&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(n=s.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(ste&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;if(nte&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&e.$$typeof)&&!f1(e[a[n]],t[a[n]]))return!1;return!0}return e!==e&&t!==t}var ote=function(t,r){try{return f1(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const lte=Mr(ote);var cte=function(e,t,r,n,a,s,o,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,a,s,o,l],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},ute=cte;const pO=Mr(ute);var dte=function(t,r,n,a){var s=n?n.call(a,t,r):void 0;if(s!==void 0)return!!s;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var o=Object.keys(t),l=Object.keys(r);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),u=0;u<o.length;u++){var d=o[u];if(!c(d))return!1;var f=t[d],h=r[d];if(s=n?n.call(a,f,h,d):void 0,s===!1||s===void 0&&f!==h)return!1}return!0};const fte=Mr(dte);var dB=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(dB||{}),B5={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},gO=Object.values(dB),NC={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},hte=Object.entries(NC).reduce((e,[t,r])=>(e[r]=t,e),{}),Io="data-rh",km={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Cm=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},mte=e=>{let t=Cm(e,"title");const r=Cm(e,km.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=Cm(e,km.DEFAULT_TITLE);return t||n||void 0},pte=e=>Cm(e,km.ON_CHANGE_CLIENT_STATE)||(()=>{}),U5=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),gte=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const a=Object.keys(n);for(let s=0;s<a.length;s+=1){const l=a[s].toLowerCase();if(e.indexOf(l)!==-1&&n[l])return r.concat(n)}}return r},[]),xte=e=>console&&typeof console.warn=="function"&&console.warn(e),sx=(e,t,r)=>{const n={};return r.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]<"u"&&xte(`Helmet: ${e} should be of type "Array". Instead found type "${typeof a[e]}"`),!1)).map(a=>a[e]).reverse().reduce((a,s)=>{const o={};s.filter(c=>{let u;const d=Object.keys(c);for(let h=0;h<d.length;h+=1){const m=d[h],g=m.toLowerCase();t.indexOf(g)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(g==="rel"&&c[g].toLowerCase()==="stylesheet")&&(u=g),t.indexOf(m)!==-1&&(m==="innerHTML"||m==="cssText"||m==="itemprop")&&(u=m)}if(!u||!c[u])return!1;const f=c[u].toLowerCase();return n[u]||(n[u]={}),o[u]||(o[u]={}),n[u][f]?!1:(o[u][f]=!0,!0)}).reverse().forEach(c=>a.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const u=l[c],d={...n[u],...o[u]};n[u]=d}return a},[]).reverse()},yte=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},vte=e=>({baseTag:gte(["href"],e),bodyAttributes:U5("bodyAttributes",e),defer:Cm(e,km.DEFER),encode:Cm(e,km.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:U5("htmlAttributes",e),linkTags:sx("link",["rel","href"],e),metaTags:sx("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:sx("noscript",["innerHTML"],e),onChangeClientState:pte(e),scriptTags:sx("script",["src","innerHTML"],e),styleTags:sx("style",["cssText"],e),title:mte(e),titleAttributes:U5("titleAttributes",e),prioritizeSeoTags:yte(e,km.PRIORITIZE_SEO_TAGS)}),fB=e=>Array.isArray(e)?e.join(""):e,bte=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},z5=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(bte(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},xO=(e,t)=>({...e,[t]:void 0}),wte=["noscript","script","style"],AP=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),hB=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),jte=(e,t,r,n)=>{const a=hB(r),s=fB(t);return a?`<${e} ${Io}="true" ${a}>${AP(s,n)}</${e}>`:`<${e} ${Io}="true">${AP(s,n)}</${e}>`},Nte=(e,t,r=!0)=>t.reduce((n,a)=>{const s=a,o=Object.keys(s).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const f=typeof s[d]>"u"?d:`${d}="${AP(s[d],r)}"`;return u?`${u} ${f}`:f},""),l=s.innerHTML||s.cssText||"",c=wte.indexOf(e)===-1;return`${n}<${e} ${Io}="true" ${o}${c?"/>":`>${l}</${e}>`}`},""),mB=(e,t={})=>Object.keys(e).reduce((r,n)=>{const a=NC[n];return r[a||n]=e[n],r},t),Ste=(e,t,r)=>{const n={key:t,[Io]:!0},a=mB(r,n);return[se.createElement("title",a,t)]},h1=(e,t)=>t.map((r,n)=>{const a={key:n,[Io]:!0};return Object.keys(r).forEach(s=>{const l=NC[s]||s;if(l==="innerHTML"||l==="cssText"){const c=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:c}}else a[l]=r[s]}),se.createElement(e,a)}),Rs=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>Ste(e,t.title,t.titleAttributes),toString:()=>jte(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>mB(t),toString:()=>hB(t)};default:return{toComponent:()=>h1(e,t),toString:()=>Nte(e,t,r)}}},_te=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const a=z5(e,B5.meta),s=z5(t,B5.link),o=z5(r,B5.script);return{priorityMethods:{toComponent:()=>[...h1("meta",a.priority),...h1("link",s.priority),...h1("script",o.priority)],toString:()=>`${Rs("meta",a.priority,n)} ${Rs("link",s.priority,n)} ${Rs("script",o.priority,n)}`},metaTags:a.default,linkTags:s.default,scriptTags:o.default}},Pte=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:a,noscriptTags:s,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:u}=e;let{linkTags:d,metaTags:f,scriptTags:h}=e,m={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:m,linkTags:d,metaTags:f,scriptTags:h}=_te(e)),{priority:m,base:Rs("base",t,n),bodyAttributes:Rs("bodyAttributes",r,n),htmlAttributes:Rs("htmlAttributes",a,n),link:Rs("link",d,n),meta:Rs("meta",f,n),noscript:Rs("noscript",s,n),script:Rs("script",h,n),style:Rs("style",o,n),title:Rs("title",{title:l,titleAttributes:c},n)}},kP=Pte,pb=[],pB=!!(typeof window<"u"&&window.document&&window.document.createElement),CP=class{constructor(e,t){dr(this,"instances",[]);dr(this,"canUseDOM",pB);dr(this,"context");dr(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?pb:this.instances,add:e=>{(this.canUseDOM?pb:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?pb:this.instances).indexOf(e);(this.canUseDOM?pb:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=kP({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Ate={},gB=se.createContext(Ate),Mf,xB=(Mf=class extends N.Component{constructor(r){super(r);dr(this,"helmetData");this.helmetData=new CP(this.props.context||{},Mf.canUseDOM)}render(){return se.createElement(gB.Provider,{value:this.helmetData.value},this.props.children)}},dr(Mf,"canUseDOM",pB),Mf),Fh=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${Io}]`),a=[].slice.call(n),s=[];let o;return t&&t.length&&t.forEach(l=>{const c=document.createElement(e);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=u,f=typeof l[d]>"u"?"":l[d];c.setAttribute(u,f)}c.setAttribute(Io,"true"),a.some((u,d)=>(o=d,c.isEqualNode(u)))?a.splice(o,1):s.push(c)}),a.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),s.forEach(l=>r.appendChild(l)),{oldTags:a,newTags:s}},TP=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(Io),a=n?n.split(","):[],s=[...a],o=Object.keys(t);for(const l of o){const c=t[l]||"";r.getAttribute(l)!==c&&r.setAttribute(l,c),a.indexOf(l)===-1&&a.push(l);const u=s.indexOf(l);u!==-1&&s.splice(u,1)}for(let l=s.length-1;l>=0;l-=1)r.removeAttribute(s[l]);a.length===s.length?r.removeAttribute(Io):r.getAttribute(Io)!==o.join(",")&&r.setAttribute(Io,o.join(","))},kte=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=fB(e)),TP("title",t)},yO=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:a,linkTags:s,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:d,title:f,titleAttributes:h}=e;TP("body",n),TP("html",a),kte(f,h);const m={baseTag:Fh("base",r),linkTags:Fh("link",s),metaTags:Fh("meta",o),noscriptTags:Fh("noscript",l),scriptTags:Fh("script",u),styleTags:Fh("style",d)},g={},x={};Object.keys(m).forEach(v=>{const{newTags:p,oldTags:y}=m[v];p.length&&(g[v]=p),y.length&&(x[v]=m[v].oldTags)}),t&&t(),c(e,g,x)},ox=null,Cte=e=>{ox&&cancelAnimationFrame(ox),e.defer?ox=requestAnimationFrame(()=>{yO(e,()=>{ox=null})}):(yO(e),ox=null)},Tte=Cte,vO=class extends N.Component{constructor(){super(...arguments);dr(this,"rendered",!1)}shouldComponentUpdate(t){return!fte(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:r}=this.props.context;let n=null;const a=vte(t.get().map(s=>{const o={...s.props};return delete o.context,o}));xB.canUseDOM?Tte(a):kP&&(n=kP(a)),r(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},L_,Ete=(L_=class extends N.Component{shouldComponentUpdate(e){return!lte(xO(this.props,"helmetData"),xO(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return pO(gO.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${gO.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),pO(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return se.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:a,...s}=n.props,o=Object.keys(s).reduce((c,u)=>(c[hte[u]||u]=s[u],c),{});let{type:l}=n;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(n,a),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,o,a);break;default:t=this.mapObjectTypeChildren(n,t,o,a);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof CP)){const a=n;n=new CP(a.context,!0),delete r.helmetData}return n?se.createElement(vO,{...r,context:n.value}):se.createElement(gB.Consumer,null,a=>se.createElement(vO,{...r,context:a}))}},dr(L_,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),L_);function Ote(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,s,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),s=a.indexOf(".",1),o.push(a.substring(1,~n?n:~s?s:a.length)),l+=~n&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(l+=(~n?"?":"")+"\\"+a.substring(s))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var yB={exports:{}},vB={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up=N;function Mte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lte=typeof Object.is=="function"?Object.is:Mte,Ite=up.useState,Dte=up.useEffect,Rte=up.useLayoutEffect,Fte=up.useDebugValue;function $te(e,t){var r=t(),n=Ite({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return Rte(function(){a.value=r,a.getSnapshot=t,V5(a)&&s({inst:a})},[e,r,t]),Dte(function(){return V5(a)&&s({inst:a}),e(function(){V5(a)&&s({inst:a})})},[e]),Fte(r),r}function V5(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Lte(e,r)}catch{return!0}}function Bte(e,t){return t()}var Ute=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Bte:$te;vB.useSyncExternalStore=up.useSyncExternalStore!==void 0?up.useSyncExternalStore:Ute;yB.exports=vB;var zte=yB.exports;const Vte=o$.useInsertionEffect,qte=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wte=qte?N.useLayoutEffect:N.useEffect,Hte=Vte||Wte,bB=e=>{const t=N.useRef([e,(...r)=>t[0](...r)]).current;return Hte(()=>{t[0]=e}),t[1]},Kte="popstate",SC="pushState",_C="replaceState",Gte="hashchange",bO=[Kte,SC,_C,Gte],Yte=e=>{for(const t of bO)addEventListener(t,e);return()=>{for(const t of bO)removeEventListener(t,e)}},wB=(e,t)=>zte.useSyncExternalStore(Yte,e,t),Xte=()=>location.search,Zte=({ssrSearch:e=""}={})=>wB(Xte,()=>e),wO=()=>location.pathname,Qte=({ssrPath:e}={})=>wB(wO,e?()=>e:wO),Jte=(e,{replace:t=!1,state:r=null}={})=>history[t?_C:SC](r,"",e),ere=(e={})=>[Qte(e),Jte],jO=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[jO]>"u"){for(const e of[SC,_C]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,jO,{value:!0})}const tre=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",jB=(e="")=>e==="/"?"":e,rre=(e,t)=>e[0]==="~"?e.slice(1):jB(t)+e,nre=(e="",t)=>tre(NO(jB(e)),NO(t)),NO=e=>{try{return decodeURI(e)}catch{return e}},NB={hook:ere,searchHook:Zte,parser:Ote,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},SB=N.createContext(NB),$y=()=>N.useContext(SB),_B={},PB=N.createContext(_B),ire=()=>N.useContext(PB),oj=e=>{const[t,r]=e.hook(e);return[nre(e.base,t),bB((n,a)=>r(rre(n,e.base),a))]},Gt=()=>oj($y()),AB=(e,t,r,n)=>{const{pattern:a,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=a.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},are=({children:e,...t})=>{var d,f;const r=$y(),n=t.hook?NB:r;let a=n;const[s,o]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=s),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=N.useRef({}),c=l.current,u=c;for(let h in n){const m=h==="base"?n[h]+(t[h]||""):t[h]||n[h];c===u&&m!==u[h]&&(l.current=u={...u}),u[h]=m,m!==n[h]&&(a=u)}return N.createElement(SB.Provider,{value:a,children:e})},SO=({children:e,component:t},r)=>t?N.createElement(t,{params:r}):typeof e=="function"?e(r):e,sre=e=>{let t=N.useRef(_B),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},Rt=({path:e,nest:t,match:r,...n})=>{const a=$y(),[s]=oj(a),[o,l,c]=r??AB(a.parser,e,s,t),u=sre({...ire(),...l});if(!o)return null;const d=c?N.createElement(are,{base:c},SO(n,u)):SO(n,u);return N.createElement(PB.Provider,{value:u,children:d})},Ci=N.forwardRef((e,t)=>{const r=$y(),[n,a]=oj(r),{to:s="",href:o=s,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,...m}=e,g=bB(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(l==null||l(v),v.defaultPrevented||(v.preventDefault(),a(o,e)))}),x=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&N.isValidElement(u)?N.cloneElement(u,{onClick:g,href:x}):N.createElement("a",{...m,onClick:g,href:x,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),kB=e=>Array.isArray(e)?e.flatMap(t=>kB(t&&t.type===N.Fragment?t.props.children:t)):[e],ore=({children:e,location:t})=>{const r=$y(),[n]=oj(r);for(const a of kB(e)){let s=0;if(N.isValidElement(a)&&(s=AB(r.parser,a.props.path,t||n,a.props.nest))[0])return N.cloneElement(a,{match:s})}return null};var rg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qf=typeof window>"u"||"Deno"in globalThis;function $s(){}function lre(e,t){return typeof e=="function"?e(t):e}function EP(e){return typeof e=="number"&&e>=0&&e!==1/0}function CB(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Tm(e,t){return typeof e=="function"?e(t):e}function To(e,t){return typeof e=="function"?e(t):e}function _O(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==PC(o,t.options))return!1}else if(!C0(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function PO(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Jf(t.options.mutationKey)!==Jf(s))return!1}else if(!C0(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function PC(e,t){return((t==null?void 0:t.queryKeyHashFn)||Jf)(e)}function Jf(e){return JSON.stringify(e,(t,r)=>OP(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function C0(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!C0(e[r],t[r])):!1}function TB(e,t){if(e===t)return e;const r=AO(e)&&AO(t);if(r||OP(e)&&OP(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),o=s.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:s[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=TB(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function iw(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function AO(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function OP(e){if(!kO(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!kO(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function kO(e){return Object.prototype.toString.call(e)==="[object Object]"}function cre(e){return new Promise(t=>{setTimeout(t,e)})}function MP(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?TB(e,t):t}function ure(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function dre(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var AC=Symbol();function EB(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===AC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Lf,Iu,qm,U7,fre=(U7=class extends rg{constructor(){super();Ot(this,Lf);Ot(this,Iu);Ot(this,qm);lt(this,qm,t=>{if(!Qf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ge(this,Iu)||this.setEventListener(ge(this,qm))}onUnsubscribe(){var t;this.hasListeners()||((t=ge(this,Iu))==null||t.call(this),lt(this,Iu,void 0))}setEventListener(t){var r;lt(this,qm,t),(r=ge(this,Iu))==null||r.call(this),lt(this,Iu,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ge(this,Lf)!==t&&(lt(this,Lf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ge(this,Lf)=="boolean"?ge(this,Lf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Lf=new WeakMap,Iu=new WeakMap,qm=new WeakMap,U7),kC=new fre,Wm,Du,Hm,z7,hre=(z7=class extends rg{constructor(){super();Ot(this,Wm,!0);Ot(this,Du);Ot(this,Hm);lt(this,Hm,t=>{if(!Qf&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ge(this,Du)||this.setEventListener(ge(this,Hm))}onUnsubscribe(){var t;this.hasListeners()||((t=ge(this,Du))==null||t.call(this),lt(this,Du,void 0))}setEventListener(t){var r;lt(this,Hm,t),(r=ge(this,Du))==null||r.call(this),lt(this,Du,t(this.setOnline.bind(this)))}setOnline(t){ge(this,Wm)!==t&&(lt(this,Wm,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ge(this,Wm)}},Wm=new WeakMap,Du=new WeakMap,Hm=new WeakMap,z7),aw=new hre;function LP(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function mre(e){return Math.min(1e3*2**e,3e4)}function OB(e){return(e??"online")==="online"?aw.isOnline():!0}var MB=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function q5(e){return e instanceof MB}function LB(e){let t=!1,r=0,n=!1,a;const s=LP(),o=x=>{var v;n||(h(new MB(x)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>kC.isFocused()&&(e.networkMode==="always"||aw.isOnline())&&e.canRun(),d=()=>OB(e.networkMode)&&e.canRun(),f=x=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,x),a==null||a(),s.resolve(x))},h=x=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,x),a==null||a(),s.reject(x))},m=()=>new Promise(x=>{var v;a=p=>{(n||u())&&x(p)},(v=e.onPause)==null||v.call(e)}).then(()=>{var x;a=void 0,n||(x=e.onContinue)==null||x.call(e)}),g=()=>{if(n)return;let x;const v=r===0?e.initialPromise:void 0;try{x=v??e.fn()}catch(p){x=Promise.reject(p)}Promise.resolve(x).then(f).catch(p=>{var P;if(n)return;const y=e.retry??(Qf?0:3),w=e.retryDelay??mre,j=typeof w=="function"?w(r,p):w,S=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,p);if(t||!S){h(p);return}r++,(P=e.onFail)==null||P.call(e,r,p),cre(j).then(()=>u()?void 0:m()).then(()=>{t?h(p):g()})})};return{promise:s,cancel:o,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),s)}}function pre(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const s=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var yi=pre(),If,V7,IB=(V7=class{constructor(){Ot(this,If)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),EP(this.gcTime)&&lt(this,If,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qf?1/0:5*60*1e3))}clearGcTimeout(){ge(this,If)&&(clearTimeout(ge(this,If)),lt(this,If,void 0))}},If=new WeakMap,V7),Km,Gm,Fs,na,Ty,Df,So,uc,q7,gre=(q7=class extends IB{constructor(t){super();Ot(this,So);Ot(this,Km);Ot(this,Gm);Ot(this,Fs);Ot(this,na);Ot(this,Ty);Ot(this,Df);lt(this,Df,!1),lt(this,Ty,t.defaultOptions),this.setOptions(t.options),this.observers=[],lt(this,Fs,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,lt(this,Km,xre(this.options)),this.state=t.state??ge(this,Km),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ge(this,na))==null?void 0:t.promise}setOptions(t){this.options={...ge(this,Ty),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ge(this,Fs).remove(this)}setData(t,r){const n=MP(this.state.data,t,this.options);return sr(this,So,uc).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){sr(this,So,uc).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=ge(this,na))==null?void 0:n.promise;return(a=ge(this,na))==null||a.cancel(t),r?r.then($s).catch($s):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ge(this,Km))}isActive(){return this.observers.some(t=>To(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===AC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!CB(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ge(this,na))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ge(this,na))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ge(this,Fs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ge(this,na)&&(ge(this,Df)?ge(this,na).cancel({revert:!0}):ge(this,na).cancelRetry()),this.scheduleGc()),ge(this,Fs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||sr(this,So,uc).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ge(this,na))return ge(this,na).continueRetry(),ge(this,na).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(lt(this,Df,!0),n.signal)})},s=()=>{const f=EB(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),lt(this,Df,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),lt(this,Gm,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&sr(this,So,uc).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,m,g,x;q5(f)&&f.silent||sr(this,So,uc).call(this,{type:"error",error:f}),q5(f)||((m=(h=ge(this,Fs).config).onError)==null||m.call(h,f,this),(x=(g=ge(this,Fs).config).onSettled)==null||x.call(g,this.state.data,f,this)),this.scheduleGc()};return lt(this,na,LB({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,m,g,x;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){l(v);return}(m=(h=ge(this,Fs).config).onSuccess)==null||m.call(h,f,this),(x=(g=ge(this,Fs).config).onSettled)==null||x.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{sr(this,So,uc).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{sr(this,So,uc).call(this,{type:"pause"})},onContinue:()=>{sr(this,So,uc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ge(this,na).start()}},Km=new WeakMap,Gm=new WeakMap,Fs=new WeakMap,na=new WeakMap,Ty=new WeakMap,Df=new WeakMap,So=new WeakSet,uc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...DB(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return q5(a)&&a.revert&&ge(this,Gm)?{...ge(this,Gm),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),yi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ge(this,Fs).notify({query:this,type:"updated",action:t})})},q7);function DB(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:OB(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function xre(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var cl,W7,yre=(W7=class extends rg{constructor(t={}){super();Ot(this,cl);this.config=t,lt(this,cl,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??PC(a,r);let o=this.get(s);return o||(o=new gre({cache:this,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){ge(this,cl).has(t.queryHash)||(ge(this,cl).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ge(this,cl).get(t.queryHash);r&&(t.destroy(),r===t&&ge(this,cl).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){yi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ge(this,cl).get(t)}getAll(){return[...ge(this,cl).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>_O(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>_O(t,n)):r}notify(t){yi.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){yi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){yi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},cl=new WeakMap,W7),ul,ga,Rf,dl,Nu,H7,vre=(H7=class extends IB{constructor(t){super();Ot(this,dl);Ot(this,ul);Ot(this,ga);Ot(this,Rf);this.mutationId=t.mutationId,lt(this,ga,t.mutationCache),lt(this,ul,[]),this.state=t.state||RB(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ge(this,ul).includes(t)||(ge(this,ul).push(t),this.clearGcTimeout(),ge(this,ga).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){lt(this,ul,ge(this,ul).filter(r=>r!==t)),this.scheduleGc(),ge(this,ga).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ge(this,ul).length||(this.state.status==="pending"?this.scheduleGc():ge(this,ga).remove(this))}continue(){var t;return((t=ge(this,Rf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,s,o,l,c,u,d,f,h,m,g,x,v,p,y,w,j,S,P,A;lt(this,Rf,LB({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,O)=>{sr(this,dl,Nu).call(this,{type:"failed",failureCount:C,error:O})},onPause:()=>{sr(this,dl,Nu).call(this,{type:"pause"})},onContinue:()=>{sr(this,dl,Nu).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ge(this,ga).canRun(this)}));const r=this.state.status==="pending",n=!ge(this,Rf).canStart();try{if(!r){sr(this,dl,Nu).call(this,{type:"pending",variables:t,isPaused:n}),await((s=(a=ge(this,ga).config).onMutate)==null?void 0:s.call(a,t,this));const O=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));O!==this.state.context&&sr(this,dl,Nu).call(this,{type:"pending",context:O,variables:t,isPaused:n})}const C=await ge(this,Rf).start();return await((u=(c=ge(this,ga).config).onSuccess)==null?void 0:u.call(c,C,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,C,t,this.state.context)),await((m=(h=ge(this,ga).config).onSettled)==null?void 0:m.call(h,C,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,C,null,t,this.state.context)),sr(this,dl,Nu).call(this,{type:"success",data:C}),C}catch(C){try{throw await((p=(v=ge(this,ga).config).onError)==null?void 0:p.call(v,C,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,C,t,this.state.context)),await((S=(j=ge(this,ga).config).onSettled)==null?void 0:S.call(j,void 0,C,this.state.variables,this.state.context,this)),await((A=(P=this.options).onSettled)==null?void 0:A.call(P,void 0,C,t,this.state.context)),C}finally{sr(this,dl,Nu).call(this,{type:"error",error:C})}}finally{ge(this,ga).runNext(this)}}},ul=new WeakMap,ga=new WeakMap,Rf=new WeakMap,dl=new WeakSet,Nu=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),yi.batch(()=>{ge(this,ul).forEach(n=>{n.onMutationUpdate(t)}),ge(this,ga).notify({mutation:this,type:"updated",action:t})})},H7);function RB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ns,Ey,K7,bre=(K7=class extends rg{constructor(t={}){super();Ot(this,ns);Ot(this,Ey);this.config=t,lt(this,ns,new Map),lt(this,Ey,Date.now())}build(t,r,n){const a=new vre({mutationCache:this,mutationId:++Xv(this,Ey)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=gb(t),n=ge(this,ns).get(r)??[];n.push(t),ge(this,ns).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=gb(t);if(ge(this,ns).has(r)){const a=(n=ge(this,ns).get(r))==null?void 0:n.filter(s=>s!==t);a&&(a.length===0?ge(this,ns).delete(r):ge(this,ns).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=ge(this,ns).get(gb(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=ge(this,ns).get(gb(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){yi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...ge(this,ns).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>PO(r,n))}findAll(t={}){return this.getAll().filter(r=>PO(t,r))}notify(t){yi.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return yi.batch(()=>Promise.all(t.map(r=>r.continue().catch($s))))}},ns=new WeakMap,Ey=new WeakMap,K7);function gb(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function CO(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},p=EB(t.options,t.fetchOptions),y=async(w,j,S)=>{if(x)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const P={queryKey:t.queryKey,pageParam:j,direction:S?"backward":"forward",meta:t.options.meta};v(P);const A=await p(P),{maxPages:C}=t.options,O=S?dre:ure;return{pages:O(w.pages,A,C),pageParams:O(w.pageParams,j,C)}};if(a&&s.length){const w=a==="backward",j=w?wre:TO,S={pages:s,pageParams:o},P=j(n,S);l=await y(S,P,w)}else{const w=e??s.length;do{const j=c===0?o[0]??n.initialPageParam:TO(n,l);if(c>0&&j==null)break;l=await y(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var x,v;return(v=(x=t.options).persister)==null?void 0:v.call(x,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function TO(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function wre(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var On,Ru,Fu,Ym,Xm,$u,Zm,Qm,G7,jre=(G7=class{constructor(e={}){Ot(this,On);Ot(this,Ru);Ot(this,Fu);Ot(this,Ym);Ot(this,Xm);Ot(this,$u);Ot(this,Zm);Ot(this,Qm);lt(this,On,e.queryCache||new yre),lt(this,Ru,e.mutationCache||new bre),lt(this,Fu,e.defaultOptions||{}),lt(this,Ym,new Map),lt(this,Xm,new Map),lt(this,$u,0)}mount(){Xv(this,$u)._++,ge(this,$u)===1&&(lt(this,Zm,kC.subscribe(async e=>{e&&(await this.resumePausedMutations(),ge(this,On).onFocus())})),lt(this,Qm,aw.subscribe(async e=>{e&&(await this.resumePausedMutations(),ge(this,On).onOnline())})))}unmount(){var e,t;Xv(this,$u)._--,ge(this,$u)===0&&((e=ge(this,Zm))==null||e.call(this),lt(this,Zm,void 0),(t=ge(this,Qm))==null||t.call(this),lt(this,Qm,void 0))}isFetching(e){return ge(this,On).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ge(this,Ru).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ge(this,On).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=ge(this,On).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Tm(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return ge(this,On).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=ge(this,On).get(n.queryHash),s=a==null?void 0:a.state.data,o=lre(t,s);if(o!==void 0)return ge(this,On).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return yi.batch(()=>ge(this,On).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ge(this,On).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ge(this,On);yi.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ge(this,On),n={type:"active",...e};return yi.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=yi.batch(()=>ge(this,On).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then($s).catch($s)}invalidateQueries(e={},t={}){return yi.batch(()=>{if(ge(this,On).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=yi.batch(()=>ge(this,On).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch($s)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then($s)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ge(this,On).build(this,t);return r.isStaleByTime(Tm(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($s).catch($s)}fetchInfiniteQuery(e){return e.behavior=CO(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($s).catch($s)}ensureInfiniteQueryData(e){return e.behavior=CO(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return aw.isOnline()?ge(this,Ru).resumePausedMutations():Promise.resolve()}getQueryCache(){return ge(this,On)}getMutationCache(){return ge(this,Ru)}getDefaultOptions(){return ge(this,Fu)}setDefaultOptions(e){lt(this,Fu,e)}setQueryDefaults(e,t){ge(this,Ym).set(Jf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ge(this,Ym).values()];let r={};return t.forEach(n=>{C0(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){ge(this,Xm).set(Jf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ge(this,Xm).values()];let r={};return t.forEach(n=>{C0(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ge(this,Fu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=PC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===AC&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ge(this,Fu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ge(this,On).clear(),ge(this,Ru).clear()}},On=new WeakMap,Ru=new WeakMap,Fu=new WeakMap,Ym=new WeakMap,Xm=new WeakMap,$u=new WeakMap,Zm=new WeakMap,Qm=new WeakMap,G7),Oa,gr,Oy,xa,Ff,Jm,Bu,fl,My,ep,tp,$f,Bf,Uu,rp,$r,Mx,IP,DP,RP,FP,$P,BP,UP,FB,Y7,Nre=(Y7=class extends rg{constructor(t,r){super();Ot(this,$r);Ot(this,Oa);Ot(this,gr);Ot(this,Oy);Ot(this,xa);Ot(this,Ff);Ot(this,Jm);Ot(this,Bu);Ot(this,fl);Ot(this,My);Ot(this,ep);Ot(this,tp);Ot(this,$f);Ot(this,Bf);Ot(this,Uu);Ot(this,rp,new Set);this.options=r,lt(this,Oa,t),lt(this,fl,null),lt(this,Bu,LP()),this.options.experimental_prefetchInRender||ge(this,Bu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ge(this,gr).addObserver(this),EO(ge(this,gr),this.options)?sr(this,$r,Mx).call(this):this.updateResult(),sr(this,$r,FP).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return zP(ge(this,gr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return zP(ge(this,gr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,sr(this,$r,$P).call(this),sr(this,$r,BP).call(this),ge(this,gr).removeObserver(this)}setOptions(t,r){const n=this.options,a=ge(this,gr);if(this.options=ge(this,Oa).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof To(this.options.enabled,ge(this,gr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");sr(this,$r,UP).call(this),ge(this,gr).setOptions(this.options),n._defaulted&&!iw(this.options,n)&&ge(this,Oa).getQueryCache().notify({type:"observerOptionsUpdated",query:ge(this,gr),observer:this});const s=this.hasListeners();s&&OO(ge(this,gr),a,this.options,n)&&sr(this,$r,Mx).call(this),this.updateResult(r),s&&(ge(this,gr)!==a||To(this.options.enabled,ge(this,gr))!==To(n.enabled,ge(this,gr))||Tm(this.options.staleTime,ge(this,gr))!==Tm(n.staleTime,ge(this,gr)))&&sr(this,$r,IP).call(this);const o=sr(this,$r,DP).call(this);s&&(ge(this,gr)!==a||To(this.options.enabled,ge(this,gr))!==To(n.enabled,ge(this,gr))||o!==ge(this,Uu))&&sr(this,$r,RP).call(this,o)}getOptimisticResult(t){const r=ge(this,Oa).getQueryCache().build(ge(this,Oa),t),n=this.createResult(r,t);return _re(this,n)&&(lt(this,xa,n),lt(this,Jm,this.options),lt(this,Ff,ge(this,gr).state)),n}getCurrentResult(){return ge(this,xa)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){ge(this,rp).add(t)}getCurrentQuery(){return ge(this,gr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=ge(this,Oa).defaultQueryOptions(t),n=ge(this,Oa).getQueryCache().build(ge(this,Oa),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return sr(this,$r,Mx).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ge(this,xa)))}createResult(t,r){var C;const n=ge(this,gr),a=this.options,s=ge(this,xa),o=ge(this,Ff),l=ge(this,Jm),u=t!==n?t.state:ge(this,Oy),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const O=this.hasListeners(),D=!O&&EO(t,r),E=O&&OO(t,n,r,a);(D||E)&&(f={...f,...DB(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:x,status:v}=f;if(r.select&&f.data!==void 0)if(s&&f.data===(o==null?void 0:o.data)&&r.select===ge(this,My))m=ge(this,ep);else try{lt(this,My,r.select),m=r.select(f.data),m=MP(s==null?void 0:s.data,m,r),lt(this,ep,m),lt(this,fl,null)}catch(O){lt(this,fl,O)}else m=f.data;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let O;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))O=s.data;else if(O=typeof r.placeholderData=="function"?r.placeholderData((C=ge(this,tp))==null?void 0:C.state.data,ge(this,tp)):r.placeholderData,r.select&&O!==void 0)try{O=r.select(O),lt(this,fl,null)}catch(D){lt(this,fl,D)}O!==void 0&&(v="success",m=MP(s==null?void 0:s.data,O,r),h=!0)}ge(this,fl)&&(g=ge(this,fl),m=ge(this,ep),x=Date.now(),v="error");const p=f.fetchStatus==="fetching",y=v==="pending",w=v==="error",j=y&&p,S=m!==void 0,A={status:v,fetchStatus:f.fetchStatus,isPending:y,isSuccess:v==="success",isError:w,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:p,isRefetching:p&&!y,isLoadingError:w&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&S,isStale:CC(t,r),refetch:this.refetch,promise:ge(this,Bu)};if(this.options.experimental_prefetchInRender){const O=k=>{A.status==="error"?k.reject(A.error):A.data!==void 0&&k.resolve(A.data)},D=()=>{const k=lt(this,Bu,A.promise=LP());O(k)},E=ge(this,Bu);switch(E.status){case"pending":t.queryHash===n.queryHash&&O(E);break;case"fulfilled":(A.status==="error"||A.data!==E.value)&&D();break;case"rejected":(A.status!=="error"||A.error!==E.reason)&&D();break}}return A}updateResult(t){const r=ge(this,xa),n=this.createResult(ge(this,gr),this.options);if(lt(this,Ff,ge(this,gr).state),lt(this,Jm,this.options),ge(this,Ff).data!==void 0&&lt(this,tp,ge(this,gr)),iw(n,r))return;lt(this,xa,n);const a={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!ge(this,rp).size)return!0;const c=new Set(l??ge(this,rp));return this.options.throwOnError&&c.add("error"),Object.keys(ge(this,xa)).some(u=>{const d=u;return ge(this,xa)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&s()&&(a.listeners=!0),sr(this,$r,FB).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&sr(this,$r,FP).call(this)}},Oa=new WeakMap,gr=new WeakMap,Oy=new WeakMap,xa=new WeakMap,Ff=new WeakMap,Jm=new WeakMap,Bu=new WeakMap,fl=new WeakMap,My=new WeakMap,ep=new WeakMap,tp=new WeakMap,$f=new WeakMap,Bf=new WeakMap,Uu=new WeakMap,rp=new WeakMap,$r=new WeakSet,Mx=function(t){sr(this,$r,UP).call(this);let r=ge(this,gr).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch($s)),r},IP=function(){sr(this,$r,$P).call(this);const t=Tm(this.options.staleTime,ge(this,gr));if(Qf||ge(this,xa).isStale||!EP(t))return;const n=CB(ge(this,xa).dataUpdatedAt,t)+1;lt(this,$f,setTimeout(()=>{ge(this,xa).isStale||this.updateResult()},n))},DP=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ge(this,gr)):this.options.refetchInterval)??!1},RP=function(t){sr(this,$r,BP).call(this),lt(this,Uu,t),!(Qf||To(this.options.enabled,ge(this,gr))===!1||!EP(ge(this,Uu))||ge(this,Uu)===0)&&lt(this,Bf,setInterval(()=>{(this.options.refetchIntervalInBackground||kC.isFocused())&&sr(this,$r,Mx).call(this)},ge(this,Uu)))},FP=function(){sr(this,$r,IP).call(this),sr(this,$r,RP).call(this,sr(this,$r,DP).call(this))},$P=function(){ge(this,$f)&&(clearTimeout(ge(this,$f)),lt(this,$f,void 0))},BP=function(){ge(this,Bf)&&(clearInterval(ge(this,Bf)),lt(this,Bf,void 0))},UP=function(){const t=ge(this,Oa).getQueryCache().build(ge(this,Oa),this.options);if(t===ge(this,gr))return;const r=ge(this,gr);lt(this,gr,t),lt(this,Oy,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},FB=function(t){yi.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(ge(this,xa))}),ge(this,Oa).getQueryCache().notify({query:ge(this,gr),type:"observerResultsUpdated"})})},Y7);function Sre(e,t){return To(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function EO(e,t){return Sre(e,t)||e.state.data!==void 0&&zP(e,t,t.refetchOnMount)}function zP(e,t,r){if(To(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&CC(e,t)}return!1}function OO(e,t,r,n){return(e!==t||To(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&CC(e,r)}function CC(e,t){return To(t.enabled,e)!==!1&&e.isStaleByTime(Tm(t.staleTime,e))}function _re(e,t){return!iw(e.getCurrentResult(),t)}var zu,Vu,Ma,pc,Mc,m1,VP,X7,Pre=(X7=class extends rg{constructor(r,n){super();Ot(this,Mc);Ot(this,zu);Ot(this,Vu);Ot(this,Ma);Ot(this,pc);lt(this,zu,r),this.setOptions(n),this.bindMethods(),sr(this,Mc,m1).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=ge(this,zu).defaultMutationOptions(r),iw(this.options,n)||ge(this,zu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ge(this,Ma),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Jf(n.mutationKey)!==Jf(this.options.mutationKey)?this.reset():((a=ge(this,Ma))==null?void 0:a.state.status)==="pending"&&ge(this,Ma).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ge(this,Ma))==null||r.removeObserver(this)}onMutationUpdate(r){sr(this,Mc,m1).call(this),sr(this,Mc,VP).call(this,r)}getCurrentResult(){return ge(this,Vu)}reset(){var r;(r=ge(this,Ma))==null||r.removeObserver(this),lt(this,Ma,void 0),sr(this,Mc,m1).call(this),sr(this,Mc,VP).call(this)}mutate(r,n){var a;return lt(this,pc,n),(a=ge(this,Ma))==null||a.removeObserver(this),lt(this,Ma,ge(this,zu).getMutationCache().build(ge(this,zu),this.options)),ge(this,Ma).addObserver(this),ge(this,Ma).execute(r)}},zu=new WeakMap,Vu=new WeakMap,Ma=new WeakMap,pc=new WeakMap,Mc=new WeakSet,m1=function(){var n;const r=((n=ge(this,Ma))==null?void 0:n.state)??RB();lt(this,Vu,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},VP=function(r){yi.batch(()=>{var n,a,s,o,l,c,u,d;if(ge(this,pc)&&this.hasListeners()){const f=ge(this,Vu).variables,h=ge(this,Vu).context;(r==null?void 0:r.type)==="success"?((a=(n=ge(this,pc)).onSuccess)==null||a.call(n,r.data,f,h),(o=(s=ge(this,pc)).onSettled)==null||o.call(s,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=ge(this,pc)).onError)==null||c.call(l,r.error,f,h),(d=(u=ge(this,pc)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(ge(this,Vu))})})},X7),$B=N.createContext(void 0),en=e=>{const t=N.useContext($B);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Are=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx($B.Provider,{value:e,children:t})),BB=N.createContext(!1),kre=()=>N.useContext(BB);BB.Provider;function Cre(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Tre=N.createContext(Cre()),Ere=()=>N.useContext(Tre);function UB(e,t){return typeof e=="function"?e(...t):!!e}function qP(){}var Ore=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Mre=e=>{N.useEffect(()=>{e.clearReset()},[e])},Lre=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&UB(r,[e.error,n]),Ire=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Dre=(e,t)=>e.isLoading&&e.isFetching&&!t,Rre=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,MO=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Fre(e,t,r){var d,f,h,m,g;const n=en(),a=kre(),s=Ere(),o=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=a?"isRestoring":"optimistic",Ire(o),Ore(o,s),Mre(s);const l=!n.getQueryCache().get(o.queryHash),[c]=N.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(N.useSyncExternalStore(N.useCallback(x=>{const v=a?qP:c.subscribe(yi.batchCalls(x));return c.updateResult(),v},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),N.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),Rre(o,u))throw MO(o,c,s);if(Lre({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((m=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||m.call(h,o,u),o.experimental_prefetchInRender&&!Qf&&Dre(u,a)){const x=l?MO(o,c,s):(g=n.getQueryCache().get(o.queryHash))==null?void 0:g.promise;x==null||x.catch(qP).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Kt(e,t){return Fre(e,Nre)}function St(e,t){const r=en(),[n]=N.useState(()=>new Pre(r,e));N.useEffect(()=>{n.setOptions(e)},[n,e]);const a=N.useSyncExternalStore(N.useCallback(o=>n.subscribe(yi.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=N.useCallback((o,l)=>{n.mutate(o,l).catch(qP)},[n]);if(a.error&&UB(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}async function zB(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function He(e,t,r){const n=await fetch(t,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await zB(n),n}const $re=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await zB(r),await r.json())},Bre=new jre({defaultOptions:{queries:{queryFn:$re({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Ure=1,zre=1e6;let W5=0;function Vre(){return W5=(W5+1)%Number.MAX_SAFE_INTEGER,W5.toString()}const H5=new Map,LO=e=>{if(H5.has(e))return;const t=setTimeout(()=>{H5.delete(e),Xx({type:"REMOVE_TOAST",toastId:e})},zre);H5.set(e,t)},qre=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Ure)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?LO(r):e.toasts.forEach(n=>{LO(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},p1=[];let g1={toasts:[]};function Xx(e){g1=qre(g1,e),p1.forEach(t=>{t(g1)})}function Wre({...e}){const t=Vre(),r=a=>Xx({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Xx({type:"DISMISS_TOAST",toastId:t});return Xx({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Ct(){const[e,t]=N.useState(g1);return N.useEffect(()=>(p1.push(t),()=>{const r=p1.indexOf(t);r>-1&&p1.splice(r,1)}),[e]),{...e,toast:Wre,dismiss:r=>Xx({type:"DISMISS_TOAST",toastId:r})}}function jt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function IO(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function VB(...e){return t=>{let r=!1;const n=e.map(a=>{const s=IO(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():IO(e[a],null)}}}}function br(...e){return N.useCallback(VB(...e),e)}function Hre(e,t){const r=N.createContext(t),n=s=>{const{children:o,...l}=s,c=N.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(s){const o=N.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function js(e,t=[]){let r=[];function n(s,o){const l=N.createContext(o),c=r.length;r=[...r,o];const u=f=>{var p;const{scope:h,children:m,...g}=f,x=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,v=N.useMemo(()=>g,Object.values(g));return i.jsx(x.Provider,{value:v,children:m})};u.displayName=s+"Provider";function d(f,h){var x;const m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,g=N.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>N.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return N.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Kre(a,...t)]}function Kre(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function dp(e){const t=Gre(e),r=N.forwardRef((n,a)=>{const{children:s,...o}=n,l=N.Children.toArray(s),c=l.find(Xre);if(c){const u=c.props.children,d=l.map(f=>f===c?N.Children.count(u)>1?N.Children.only(null):N.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:N.isValidElement(u)?N.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var qB=dp("Slot");function Gre(e){const t=N.forwardRef((r,n)=>{const{children:a,...s}=r;if(N.isValidElement(a)){const o=Qre(a),l=Zre(s,a.props);return a.type!==N.Fragment&&(l.ref=n?VB(n,o):o),N.cloneElement(a,l)}return N.Children.count(a)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var WB=Symbol("radix.slottable");function Yre(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=WB,t}function Xre(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===WB}function Zre(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{s(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Qre(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function lj(e){const t=e+"CollectionProvider",[r,n]=js(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:v,children:p}=x,y=se.useRef(null),w=se.useRef(new Map).current;return i.jsx(a,{scope:v,itemMap:w,collectionRef:y,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=dp(l),u=se.forwardRef((x,v)=>{const{scope:p,children:y}=x,w=s(l,p),j=br(v,w.collectionRef);return i.jsx(c,{ref:j,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=dp(d),m=se.forwardRef((x,v)=>{const{scope:p,children:y,...w}=x,j=se.useRef(null),S=br(v,j),P=s(d,p);return se.useEffect(()=>(P.itemMap.set(j,{ref:j,...w}),()=>void P.itemMap.delete(j))),i.jsx(h,{[f]:"",ref:S,children:y})});m.displayName=d;function g(x){const v=s(e+"CollectionConsumer",x);return se.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((P,A)=>w.indexOf(P.ref.current)-w.indexOf(A.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}var Jre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Tt=Jre.reduce((e,t)=>{const r=dp(`Primitive.${t}`),n=N.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function HB(e,t){e&&mh.flushSync(()=>e.dispatchEvent(t))}function Xn(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function ene(e,t=globalThis==null?void 0:globalThis.document){const r=Xn(e);N.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var tne="DismissableLayer",WP="dismissableLayer.update",rne="dismissableLayer.pointerDownOutside",nne="dismissableLayer.focusOutside",DO,KB=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),By=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=N.useContext(KB),[d,f]=N.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=N.useState({}),g=br(t,A=>f(A)),x=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=x.indexOf(v),y=d?x.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=p,S=ane(A=>{const C=A.target,O=[...u.branches].some(D=>D.contains(C));!j||O||(a==null||a(A),o==null||o(A),A.defaultPrevented||l==null||l())},h),P=sne(A=>{const C=A.target;[...u.branches].some(D=>D.contains(C))||(s==null||s(A),o==null||o(A),A.defaultPrevented||l==null||l())},h);return ene(A=>{y===u.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},h),N.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(DO=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),RO(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=DO)}},[d,h,r,u]),N.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),RO())},[d,u]),N.useEffect(()=>{const A=()=>m({});return document.addEventListener(WP,A),()=>document.removeEventListener(WP,A)},[]),i.jsx(Tt.div,{...c,ref:g,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:jt(e.onFocusCapture,P.onFocusCapture),onBlurCapture:jt(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:jt(e.onPointerDownCapture,S.onPointerDownCapture)})});By.displayName=tne;var ine="DismissableLayerBranch",GB=N.forwardRef((e,t)=>{const r=N.useContext(KB),n=N.useRef(null),a=br(t,n);return N.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(Tt.div,{...e,ref:a})});GB.displayName=ine;function ane(e,t=globalThis==null?void 0:globalThis.document){const r=Xn(e),n=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){YB(rne,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function sne(e,t=globalThis==null?void 0:globalThis.document){const r=Xn(e),n=N.useRef(!1);return N.useEffect(()=>{const a=s=>{s.target&&!n.current&&YB(nne,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function RO(){const e=new CustomEvent(WP);document.dispatchEvent(e)}function YB(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?HB(a,s):a.dispatchEvent(s)}var one=By,lne=GB,Ti=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},cne="Portal",cj=N.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=N.useState(!1);Ti(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?rte.createPortal(i.jsx(Tt.div,{...n,ref:t}),o):null});cj.displayName=cne;function une(e,t){return N.useReducer((r,n)=>t[r][n]??r,e)}var ao=e=>{const{present:t,children:r}=e,n=dne(t),a=typeof r=="function"?r({present:n.isPresent}):N.Children.only(r),s=br(n.ref,fne(a));return typeof r=="function"||n.isPresent?N.cloneElement(a,{ref:s}):null};ao.displayName="Presence";function dne(e){const[t,r]=N.useState(),n=N.useRef({}),a=N.useRef(e),s=N.useRef("none"),o=e?"mounted":"unmounted",[l,c]=une(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const u=xb(n.current);s.current=l==="mounted"?u:"none"},[l]),Ti(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=xb(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ti(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const x=xb(n.current).includes(m.animationName);if(m.target===t&&x&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(s.current=xb(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function xb(e){return(e==null?void 0:e.animationName)||"none"}function fne(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ll({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=hne({defaultProp:t,onChange:r}),s=e!==void 0,o=s?e:n,l=Xn(r),c=N.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[s,e,a,l]);return[o,c]}function hne({defaultProp:e,onChange:t}){const r=N.useState(e),[n]=r,a=N.useRef(n),s=Xn(t);return N.useEffect(()=>{a.current!==n&&(s(n),a.current=n)},[n,a,s]),r}var mne="VisuallyHidden",Uy=N.forwardRef((e,t)=>i.jsx(Tt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Uy.displayName=mne;var pne=Uy,TC="ToastProvider",[EC,gne,xne]=lj("Toast"),[XB,wBe]=js("Toast",[xne]),[yne,uj]=XB(TC),ZB=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:o}=e,[l,c]=N.useState(null),[u,d]=N.useState(0),f=N.useRef(!1),h=N.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${TC}\`. Expected non-empty \`string\`.`),i.jsx(EC.Provider,{scope:t,children:i.jsx(yne,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:N.useCallback(()=>d(m=>m+1),[]),onToastRemove:N.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};ZB.displayName=TC;var QB="ToastViewport",vne=["F8"],HP="toast.viewportPause",KP="toast.viewportResume",JB=N.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=vne,label:a="Notifications ({hotkey})",...s}=e,o=uj(QB,r),l=gne(r),c=N.useRef(null),u=N.useRef(null),d=N.useRef(null),f=N.useRef(null),h=br(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;N.useEffect(()=>{const v=p=>{var w;n.length!==0&&n.every(j=>p[j]||p.code===j)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),N.useEffect(()=>{const v=c.current,p=f.current;if(g&&v&&p){const y=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(HP);p.dispatchEvent(P),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(KP);p.dispatchEvent(P),o.isClosePausedRef.current=!1}},j=P=>{!v.contains(P.relatedTarget)&&w()},S=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",y),v.addEventListener("focusout",j),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const x=N.useCallback(({tabbingDirection:v})=>{const y=l().map(w=>{const j=w.ref.current,S=[j,...One(j)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?y.reverse():y).flat()},[l]);return N.useEffect(()=>{const v=f.current;if(v){const p=y=>{var S,P,A;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const C=document.activeElement,O=y.shiftKey;if(y.target===v&&O){(S=u.current)==null||S.focus();return}const k=x({tabbingDirection:O?"backwards":"forwards"}),R=k.findIndex(L=>L===C);K5(k.slice(R+1))?y.preventDefault():O?(P=u.current)==null||P.focus():(A=d.current)==null||A.focus()}};return v.addEventListener("keydown",p),()=>v.removeEventListener("keydown",p)}},[l,x]),i.jsxs(lne,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&i.jsx(GP,{ref:u,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"forwards"});K5(v)}}),i.jsx(EC.Slot,{scope:r,children:i.jsx(Tt.ol,{tabIndex:-1,...s,ref:h})}),g&&i.jsx(GP,{ref:d,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"backwards"});K5(v)}})]})});JB.displayName=QB;var eU="ToastFocusProxy",GP=N.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,s=uj(eU,r);return i.jsx(Uy,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&n()}})});GP.displayName=eU;var dj="Toast",bne="toast.swipeStart",wne="toast.swipeMove",jne="toast.swipeCancel",Nne="toast.swipeEnd",tU=N.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...o}=e,[l=!0,c]=Ll({prop:n,defaultProp:a,onChange:s});return i.jsx(ao,{present:r||l,children:i.jsx(Pne,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Xn(e.onPause),onResume:Xn(e.onResume),onSwipeStart:jt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:jt(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:jt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:jt(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});tU.displayName=dj;var[Sne,_ne]=XB(dj,{onClose(){}}),Pne=N.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...g}=e,x=uj(dj,r),[v,p]=N.useState(null),y=br(t,L=>p(L)),w=N.useRef(null),j=N.useRef(null),S=a||x.duration,P=N.useRef(0),A=N.useRef(S),C=N.useRef(0),{onToastAdd:O,onToastRemove:D}=x,E=Xn(()=>{var H;(v==null?void 0:v.contains(document.activeElement))&&((H=x.viewport)==null||H.focus()),o()}),k=N.useCallback(L=>{!L||L===1/0||(window.clearTimeout(C.current),P.current=new Date().getTime(),C.current=window.setTimeout(E,L))},[E]);N.useEffect(()=>{const L=x.viewport;if(L){const H=()=>{k(A.current),u==null||u()},F=()=>{const V=new Date().getTime()-P.current;A.current=A.current-V,window.clearTimeout(C.current),c==null||c()};return L.addEventListener(HP,F),L.addEventListener(KP,H),()=>{L.removeEventListener(HP,F),L.removeEventListener(KP,H)}}},[x.viewport,S,c,u,k]),N.useEffect(()=>{s&&!x.isClosePausedRef.current&&k(S)},[s,S,x.isClosePausedRef,k]),N.useEffect(()=>(O(),()=>D()),[O,D]);const R=N.useMemo(()=>v?lU(v):null,[v]);return x.viewport?i.jsxs(i.Fragment,{children:[R&&i.jsx(Ane,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),i.jsx(Sne,{scope:r,onClose:E,children:mh.createPortal(i.jsx(EC.ItemSlot,{scope:r,children:i.jsx(one,{asChild:!0,onEscapeKeyDown:jt(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||E(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Tt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:jt(e.onKeyDown,L=>{L.key==="Escape"&&(l==null||l(L.nativeEvent),L.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:jt(e.onPointerDown,L=>{L.button===0&&(w.current={x:L.clientX,y:L.clientY})}),onPointerMove:jt(e.onPointerMove,L=>{if(!w.current)return;const H=L.clientX-w.current.x,F=L.clientY-w.current.y,V=!!j.current,B=["left","right"].includes(x.swipeDirection),G=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,le=B?G(0,H):0,fe=B?0:G(0,F),$=L.pointerType==="touch"?10:2,q={x:le,y:fe},Q={originalEvent:L,delta:q};V?(j.current=q,yb(wne,f,Q,{discrete:!1})):FO(q,x.swipeDirection,$)?(j.current=q,yb(bne,d,Q,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(H)>$||Math.abs(F)>$)&&(w.current=null)}),onPointerUp:jt(e.onPointerUp,L=>{const H=j.current,F=L.target;if(F.hasPointerCapture(L.pointerId)&&F.releasePointerCapture(L.pointerId),j.current=null,w.current=null,H){const V=L.currentTarget,B={originalEvent:L,delta:H};FO(H,x.swipeDirection,x.swipeThreshold)?yb(Nne,m,B,{discrete:!0}):yb(jne,h,B,{discrete:!0}),V.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),Ane=e=>{const{__scopeToast:t,children:r,...n}=e,a=uj(dj,t),[s,o]=N.useState(!1),[l,c]=N.useState(!1);return Tne(()=>o(!0)),N.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(cj,{asChild:!0,children:i.jsx(Uy,{...n,children:s&&i.jsxs(i.Fragment,{children:[a.label," ",r]})})})},kne="ToastTitle",rU=N.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(Tt.div,{...n,ref:t})});rU.displayName=kne;var Cne="ToastDescription",nU=N.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(Tt.div,{...n,ref:t})});nU.displayName=Cne;var iU="ToastAction",aU=N.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(oU,{altText:r,asChild:!0,children:i.jsx(OC,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${iU}\`. Expected non-empty \`string\`.`),null)});aU.displayName=iU;var sU="ToastClose",OC=N.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=_ne(sU,r);return i.jsx(oU,{asChild:!0,children:i.jsx(Tt.button,{type:"button",...n,ref:t,onClick:jt(e.onClick,a.onClose)})})});OC.displayName=sU;var oU=N.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return i.jsx(Tt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function lU(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Ene(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...lU(n))}}),t}function yb(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?HB(a,s):a.dispatchEvent(s)}var FO=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),s=n>a;return t==="left"||t==="right"?s&&n>r:!s&&a>r};function Tne(e=()=>{}){const t=Xn(e);Ti(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Ene(e){return e.nodeType===e.ELEMENT_NODE}function One(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function K5(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Mne=ZB,cU=JB,uU=tU,dU=rU,fU=nU,hU=aU,mU=OC;function pU(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=pU(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function vr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=pU(e))&&(n&&(n+=" "),n+=t);return n}const $O=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,BO=vr,zy=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return BO(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=$O(d)||$O(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[x,v]=g;return Array.isArray(v)?v.includes({...s,...l}[x]):{...s,...l}[x]===v})?[...u,f,h]:u},[]);return BO(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gU=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ine={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dne=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>N.createElement("svg",{ref:c,...Ine,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:gU("lucide",a),...l},[...o.map(([u,d])=>N.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(e,t)=>{const r=N.forwardRef(({className:n,...a},s)=>N.createElement(Dne,{ref:s,iconNode:t,className:gU(`lucide-${Lne(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=tt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=tt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rne=tt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=tt("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=tt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=tt("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=tt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=tt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=tt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=tt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=tt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=tt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=tt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=tt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=tt("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=tt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=tt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=tt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=tt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=tt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=tt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=tt("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=tt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=tt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=tt("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=tt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=tt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=tt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=tt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=tt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=tt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=tt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=tt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=tt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=tt("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=tt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=tt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=tt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=tt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=tt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=tt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=tt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=tt("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=tt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=tt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=tt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=tt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=tt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=tt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=tt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=tt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=tt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=tt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=tt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=tt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=tt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=tt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=tt("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=tt("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=tt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=tt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=tt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=tt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=tt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=tt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),RC="-",eie=e=>{const t=rie(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(RC);return l[0]===""&&l.length!==1&&l.shift(),AU(l,t)||tie(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},AU=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?AU(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(RC);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},GO=/^\[(.+)\]$/,tie=e=>{if(GO.test(e)){const t=GO.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},rie=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return iie(Object.entries(e.classGroups),r).forEach(([s,o])=>{ZP(o,n,s,t)}),n},ZP=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:YO(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(nie(a)){ZP(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{ZP(o,YO(t,s),r,n)})})},YO=(e,t)=>{let r=e;return t.split(RC).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},nie=e=>e.isThemeGetter,iie=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,a]}):e,aie=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},kU="!",sie=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let p=l[v];if(u===0){if(p===a&&(n||l.slice(v,v+s)===t)){c.push(l.slice(d,v)),d=v+s;continue}if(p==="/"){f=v;continue}}p==="["?u++:p==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(kU),g=m?h.substring(1):h,x=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:o}):o},oie=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},lie=e=>({cache:aie(e.cacheSize),parseClassName:sie(e),...eie(e)}),cie=/\s+/,uie=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split(cie);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,x=n(g?h.substring(0,m):h);if(!x){if(!g){l=u+(l.length>0?" "+l:l);continue}if(x=n(h),!x){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=oie(d).join(":"),p=f?v+kU:v,y=p+x;if(s.includes(y))continue;s.push(y);const w=a(x,g);for(let j=0;j<w.length;++j){const S=w[j];s.push(p+S)}l=u+(l.length>0?" "+l:l)}return l};function die(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=CU(t))&&(n&&(n+=" "),n+=r);return n}const CU=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=CU(e[n]))&&(r&&(r+=" "),r+=t);return r};function fie(e,...t){let r,n,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=lie(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=uie(c,r);return a(c,d),d}return function(){return s(die.apply(null,arguments))}}const hn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},TU=/^\[(?:([a-z-]+):)?(.+)\]$/i,hie=/^\d+\/\d+$/,mie=new Set(["px","full","screen"]),pie=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gie=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xie=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yie=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vie=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ac=e=>Em(e)||mie.has(e)||hie.test(e),yu=e=>ig(e,"length",Aie),Em=e=>!!e&&!Number.isNaN(Number(e)),Y5=e=>ig(e,"number",Em),lx=e=>!!e&&Number.isInteger(Number(e)),bie=e=>e.endsWith("%")&&Em(e.slice(0,-1)),ar=e=>TU.test(e),vu=e=>pie.test(e),wie=new Set(["length","size","percentage"]),jie=e=>ig(e,wie,EU),Nie=e=>ig(e,"position",EU),Sie=new Set(["image","url"]),_ie=e=>ig(e,Sie,Cie),Pie=e=>ig(e,"",kie),cx=()=>!0,ig=(e,t,r)=>{const n=TU.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Aie=e=>gie.test(e)&&!xie.test(e),EU=()=>!1,kie=e=>yie.test(e),Cie=e=>vie.test(e),Tie=()=>{const e=hn("colors"),t=hn("spacing"),r=hn("blur"),n=hn("brightness"),a=hn("borderColor"),s=hn("borderRadius"),o=hn("borderSpacing"),l=hn("borderWidth"),c=hn("contrast"),u=hn("grayscale"),d=hn("hueRotate"),f=hn("invert"),h=hn("gap"),m=hn("gradientColorStops"),g=hn("gradientColorStopPositions"),x=hn("inset"),v=hn("margin"),p=hn("opacity"),y=hn("padding"),w=hn("saturate"),j=hn("scale"),S=hn("sepia"),P=hn("skew"),A=hn("space"),C=hn("translate"),O=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",ar,t],k=()=>[ar,t],R=()=>["",ac,yu],L=()=>["auto",Em,ar],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",ar],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[Em,ar];return{cacheSize:500,separator:":",theme:{colors:[cx],spacing:[ac,yu],blur:["none","",vu,ar],brightness:fe(),borderColor:[e],borderRadius:["none","","full",vu,ar],borderSpacing:k(),borderWidth:R(),contrast:fe(),grayscale:G(),hueRotate:fe(),invert:G(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[bie,yu],inset:E(),margin:E(),opacity:fe(),padding:k(),saturate:fe(),scale:fe(),sepia:G(),skew:fe(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",ar]}],container:["container"],columns:[{columns:[vu]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),ar]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",lx,ar]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ar]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",lx,ar]}],"grid-cols":[{"grid-cols":[cx]}],"col-start-end":[{col:["auto",{span:["full",lx,ar]},ar]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[cx]}],"row-start-end":[{row:["auto",{span:[lx,ar]},ar]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ar]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ar]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ar,t]}],"min-w":[{"min-w":[ar,t,"min","max","fit"]}],"max-w":[{"max-w":[ar,t,"none","full","min","max","fit","prose",{screen:[vu]},vu]}],h:[{h:[ar,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ar,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ar,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ar,t,"auto","min","max","fit"]}],"font-size":[{text:["base",vu,yu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Y5]}],"font-family":[{font:[cx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ar]}],"line-clamp":[{"line-clamp":["none",Em,Y5]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ac,ar]}],"list-image":[{"list-image":["none",ar]}],"list-style-type":[{list:["none","disc","decimal",ar]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ac,yu]}],"underline-offset":[{"underline-offset":["auto",ac,ar]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ar]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ar]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),Nie]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jie]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_ie]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:F()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[ac,ar]}],"outline-w":[{outline:[ac,yu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[ac,yu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",vu,Pie]}],"shadow-color":[{shadow:[cx]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",vu,ar]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ar]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",ar]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",ar]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[lx,ar]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ar]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ar]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ar]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ac,yu,Y5]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Eie=fie(Tie);function _t(...e){return Eie(vr(e))}const Oie=Mne,OU=N.forwardRef(({className:e,...t},r)=>i.jsx(cU,{ref:r,className:_t("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:top-0 sm:flex-col md:max-w-[420px] md:left-[50%] md:translate-x-[-50%]",e),...t}));OU.displayName=cU.displayName;const Mie=zy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-lg border p-6 pr-8 shadow-xl backdrop-blur-sm transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border-white/30 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white shadow-lg shadow-blue-500/25",destructive:"destructive group border-red-500/50 bg-gradient-to-r from-red-500 via-orange-500 to-pink-500 text-white shadow-lg shadow-red-500/25"}},defaultVariants:{variant:"default"}}),MU=N.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(uU,{ref:n,className:_t(Mie({variant:t}),e),...r}));MU.displayName=uU.displayName;const Lie=N.forwardRef(({className:e,...t},r)=>i.jsx(hU,{ref:r,className:_t("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Lie.displayName=hU.displayName;const LU=N.forwardRef(({className:e,...t},r)=>i.jsx(mU,{ref:r,className:_t("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Fl,{className:"h-4 w-4"})}));LU.displayName=mU.displayName;const IU=N.forwardRef(({className:e,...t},r)=>i.jsx(dU,{ref:r,className:_t("text-sm font-semibold",e),...t}));IU.displayName=dU.displayName;const DU=N.forwardRef(({className:e,...t},r)=>i.jsx(fU,{ref:r,className:_t("text-sm opacity-90",e),...t}));DU.displayName=fU.displayName;function Iie(){const{toasts:e}=Ct();return i.jsxs(Oie,{children:[e.map(function({id:t,title:r,description:n,action:a,...s}){return i.jsxs(MU,{...s,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(IU,{children:r}),n&&i.jsx(DU,{children:n})]}),a,i.jsx(LU,{})]},t)}),i.jsx(OU,{})]})}var Die=o$[" useId ".trim().toString()]||(()=>{}),Rie=0;function _l(e){const[t,r]=N.useState(Die());return Ti(()=>{r(n=>n??String(Rie++))},[e]),t?`radix-${t}`:""}const Fie=["top","right","bottom","left"],pd=Math.min,os=Math.max,uw=Math.round,vb=Math.floor,Pl=e=>({x:e,y:e}),$ie={left:"right",right:"left",bottom:"top",top:"bottom"},Bie={start:"end",end:"start"};function QP(e,t,r){return os(e,pd(t,r))}function $c(e,t){return typeof e=="function"?e(t):e}function Bc(e){return e.split("-")[0]}function ag(e){return e.split("-")[1]}function FC(e){return e==="x"?"y":"x"}function $C(e){return e==="y"?"height":"width"}function gd(e){return["top","bottom"].includes(Bc(e))?"y":"x"}function BC(e){return FC(gd(e))}function Uie(e,t,r){r===void 0&&(r=!1);const n=ag(e),a=BC(e),s=$C(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=dw(o)),[o,dw(o)]}function zie(e){const t=dw(e);return[JP(e),t,JP(t)]}function JP(e){return e.replace(/start|end/g,t=>Bie[t])}function Vie(e,t,r){const n=["left","right"],a=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?s:o;default:return[]}}function qie(e,t,r,n){const a=ag(e);let s=Vie(Bc(e),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(JP)))),s}function dw(e){return e.replace(/left|right|bottom|top/g,t=>$ie[t])}function Wie(e){return{top:0,right:0,bottom:0,left:0,...e}}function RU(e){return typeof e!="number"?Wie(e):{top:e,right:e,bottom:e,left:e}}function fw(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function XO(e,t,r){let{reference:n,floating:a}=e;const s=gd(t),o=BC(t),l=$C(o),c=Bc(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(ag(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const Hie=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=XO(u,n,c),h=n,m={},g=0;for(let x=0;x<l.length;x++){const{name:v,fn:p}=l[x],{x:y,y:w,data:j,reset:S}=await p({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=w??f,m={...m,[v]:{...m[v],...j}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=XO(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function O0(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=$c(t,e),g=RU(m),v=l[h?f==="floating"?"reference":"floating":f],p=fw(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),j=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},S=fw(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(p.top-S.top+g.top)/j.y,bottom:(S.bottom-p.bottom+g.bottom)/j.y,left:(p.left-S.left+g.left)/j.x,right:(S.right-p.right+g.right)/j.x}}const Kie=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=$c(e,t)||{};if(u==null)return{};const f=RU(d),h={x:r,y:n},m=BC(a),g=$C(m),x=await o.getDimensions(u),v=m==="y",p=v?"top":"left",y=v?"bottom":"right",w=v?"clientHeight":"clientWidth",j=s.reference[g]+s.reference[m]-h[m]-s.floating[g],S=h[m]-s.reference[m],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=P?P[w]:0;(!A||!await(o.isElement==null?void 0:o.isElement(P)))&&(A=l.floating[w]||s.floating[g]);const C=j/2-S/2,O=A/2-x[g]/2-1,D=pd(f[p],O),E=pd(f[y],O),k=D,R=A-x[g]-E,L=A/2-x[g]/2+C,H=QP(k,L,R),F=!c.arrow&&ag(a)!=null&&L!==H&&s.reference[g]/2-(L<k?D:E)-x[g]/2<0,V=F?L<k?L-k:L-R:0;return{[m]:h[m]+V,data:{[m]:H,centerOffset:L-H-V,...F&&{alignmentOffset:V}},reset:F}}}),Gie=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:x=!0,...v}=$c(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const p=Bc(a),y=gd(l),w=Bc(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(w||!x?[dw(l)]:zie(l)),P=g!=="none";!h&&P&&S.push(...qie(l,x,g,j));const A=[l,...S],C=await O0(t,v),O=[];let D=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&O.push(C[p]),f){const L=Uie(a,o,j);O.push(C[L[0]],C[L[1]])}if(D=[...D,{placement:a,overflows:O}],!O.every(L=>L<=0)){var E,k;const L=(((E=s.flip)==null?void 0:E.index)||0)+1,H=A[L];if(H)return{data:{index:L,overflows:D},reset:{placement:H}};let F=(k=D.filter(V=>V.overflows[0]<=0).sort((V,B)=>V.overflows[1]-B.overflows[1])[0])==null?void 0:k.placement;if(!F)switch(m){case"bestFit":{var R;const V=(R=D.filter(B=>{if(P){const G=gd(B.placement);return G===y||G==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(G=>G>0).reduce((G,le)=>G+le,0)]).sort((B,G)=>B[1]-G[1])[0])==null?void 0:R[0];V&&(F=V);break}case"initialPlacement":F=l;break}if(a!==F)return{reset:{placement:F}}}return{}}}};function ZO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function QO(e){return Fie.some(t=>e[t]>=0)}const Yie=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=$c(e,t);switch(n){case"referenceHidden":{const s=await O0(t,{...a,elementContext:"reference"}),o=ZO(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:QO(o)}}}case"escaped":{const s=await O0(t,{...a,altBoundary:!0}),o=ZO(s,r.floating);return{data:{escapedOffsets:o,escaped:QO(o)}}}default:return{}}}}};async function Xie(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Bc(r),l=ag(r),c=gd(r)==="y",u=["left","top"].includes(o)?-1:1,d=s&&c?-1:1,f=$c(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Zie=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await Xie(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},Qie=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:p,y}=v;return{x:p,y}}},...c}=$c(e,t),u={x:r,y:n},d=await O0(t,c),f=gd(Bc(a)),h=FC(f);let m=u[h],g=u[f];if(s){const v=h==="y"?"top":"left",p=h==="y"?"bottom":"right",y=m+d[v],w=m-d[p];m=QP(y,m,w)}if(o){const v=f==="y"?"top":"left",p=f==="y"?"bottom":"right",y=g+d[v],w=g-d[p];g=QP(y,g,w)}const x=l.fn({...t,[h]:m,[f]:g});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[h]:s,[f]:o}}}}}},Jie=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=$c(e,t),d={x:r,y:n},f=gd(a),h=FC(f);let m=d[h],g=d[f];const x=$c(l,t),v=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const w=h==="y"?"height":"width",j=s.reference[h]-s.floating[w]+v.mainAxis,S=s.reference[h]+s.reference[w]-v.mainAxis;m<j?m=j:m>S&&(m=S)}if(u){var p,y;const w=h==="y"?"width":"height",j=["top","left"].includes(Bc(a)),S=s.reference[f]-s.floating[w]+(j&&((p=o.offset)==null?void 0:p[f])||0)+(j?0:v.crossAxis),P=s.reference[f]+s.reference[w]+(j?0:((y=o.offset)==null?void 0:y[f])||0)-(j?v.crossAxis:0);g<S?g=S:g>P&&(g=P)}return{[h]:m,[f]:g}}}},eae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=$c(e,t),d=await O0(t,u),f=Bc(a),h=ag(a),m=gd(a)==="y",{width:g,height:x}=s.floating;let v,p;f==="top"||f==="bottom"?(v=f,p=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(p=f,v=h==="end"?"top":"bottom");const y=x-d.top-d.bottom,w=g-d.left-d.right,j=pd(x-d[v],y),S=pd(g-d[p],w),P=!t.middlewareData.shift;let A=j,C=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(A=y),P&&!h){const D=os(d.left,0),E=os(d.right,0),k=os(d.top,0),R=os(d.bottom,0);m?C=g-2*(D!==0||E!==0?D+E:os(d.left,d.right)):A=x-2*(k!==0||R!==0?k+R:os(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:A});const O=await o.getDimensions(l.floating);return g!==O.width||x!==O.height?{reset:{rects:!0}}:{}}}};function xj(){return typeof window<"u"}function sg(e){return FU(e)?(e.nodeName||"").toLowerCase():"#document"}function ms(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ul(e){var t;return(t=(FU(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function FU(e){return xj()?e instanceof Node||e instanceof ms(e).Node:!1}function Vo(e){return xj()?e instanceof Element||e instanceof ms(e).Element:!1}function $l(e){return xj()?e instanceof HTMLElement||e instanceof ms(e).HTMLElement:!1}function JO(e){return!xj()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ms(e).ShadowRoot}function Hy(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=qo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function tae(e){return["table","td","th"].includes(sg(e))}function yj(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function UC(e){const t=zC(),r=Vo(e)?qo(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function rae(e){let t=xd(e);for(;$l(t)&&!fp(t);){if(UC(t))return t;if(yj(t))return null;t=xd(t)}return null}function zC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fp(e){return["html","body","#document"].includes(sg(e))}function qo(e){return ms(e).getComputedStyle(e)}function vj(e){return Vo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xd(e){if(sg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||JO(e)&&e.host||Ul(e);return JO(t)?t.host:t}function $U(e){const t=xd(e);return fp(t)?e.ownerDocument?e.ownerDocument.body:e.body:$l(t)&&Hy(t)?t:$U(t)}function M0(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=$U(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),o=ms(a);if(s){const l=eA(o);return t.concat(o,o.visualViewport||[],Hy(a)?a:[],l&&r?M0(l):[])}return t.concat(a,M0(a,[],r))}function eA(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function BU(e){const t=qo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=$l(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=uw(r)!==s||uw(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function VC(e){return Vo(e)?e:e.contextElement}function Om(e){const t=VC(e);if(!$l(t))return Pl(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=BU(t);let o=(s?uw(r.width):r.width)/n,l=(s?uw(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const nae=Pl(0);function UU(e){const t=ms(e);return!zC()||!t.visualViewport?nae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function iae(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ms(e)?!1:t}function eh(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=VC(e);let o=Pl(1);t&&(n?Vo(n)&&(o=Om(n)):o=Om(e));const l=iae(s,r,n)?UU(s):Pl(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const h=ms(s),m=n&&Vo(n)?ms(n):n;let g=h,x=eA(g);for(;x&&n&&m!==g;){const v=Om(x),p=x.getBoundingClientRect(),y=qo(x),w=p.left+(x.clientLeft+parseFloat(y.paddingLeft))*v.x,j=p.top+(x.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=j,g=ms(x),x=eA(g)}}return fw({width:d,height:f,x:c,y:u})}function qC(e,t){const r=vj(e).scrollLeft;return t?t.left+r:eh(Ul(e)).left+r}function zU(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:qC(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function aae(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",o=Ul(n),l=t?yj(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=Pl(1);const d=Pl(0),f=$l(n);if((f||!f&&!s)&&((sg(n)!=="body"||Hy(o))&&(c=vj(n)),$l(n))){const m=eh(n);u=Om(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!s?zU(o,c,!0):Pl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function sae(e){return Array.from(e.getClientRects())}function oae(e){const t=Ul(e),r=vj(e),n=e.ownerDocument.body,a=os(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=os(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+qC(e);const l=-r.scrollTop;return qo(n).direction==="rtl"&&(o+=os(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}function lae(e,t){const r=ms(e),n=Ul(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const u=zC();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:l,y:c}}function cae(e,t){const r=eh(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=$l(e)?Om(e):Pl(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function eM(e,t,r){let n;if(t==="viewport")n=lae(e,r);else if(t==="document")n=oae(Ul(e));else if(Vo(t))n=cae(t,r);else{const a=UU(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return fw(n)}function VU(e,t){const r=xd(e);return r===t||!Vo(r)||fp(r)?!1:qo(r).position==="fixed"||VU(r,t)}function uae(e,t){const r=t.get(e);if(r)return r;let n=M0(e,[],!1).filter(l=>Vo(l)&&sg(l)!=="body"),a=null;const s=qo(e).position==="fixed";let o=s?xd(e):e;for(;Vo(o)&&!fp(o);){const l=qo(o),c=UC(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Hy(o)&&!c&&VU(e,o))?n=n.filter(d=>d!==o):a=l,o=xd(o)}return t.set(e,n),n}function dae(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?yj(t)?[]:uae(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=eM(t,d,a);return u.top=os(f.top,u.top),u.right=pd(f.right,u.right),u.bottom=pd(f.bottom,u.bottom),u.left=os(f.left,u.left),u},eM(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function fae(e){const{width:t,height:r}=BU(e);return{width:t,height:r}}function hae(e,t,r){const n=$l(t),a=Ul(t),s=r==="fixed",o=eh(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Pl(0);if(n||!n&&!s)if((sg(t)!=="body"||Hy(a))&&(l=vj(t)),n){const h=eh(t,!0,s,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=qC(a));const u=a&&!n&&!s?zU(a,l):Pl(0),d=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function X5(e){return qo(e).position==="static"}function tM(e,t){if(!$l(e)||qo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ul(e)===r&&(r=r.ownerDocument.body),r}function qU(e,t){const r=ms(e);if(yj(e))return r;if(!$l(e)){let a=xd(e);for(;a&&!fp(a);){if(Vo(a)&&!X5(a))return a;a=xd(a)}return r}let n=tM(e,t);for(;n&&tae(n)&&X5(n);)n=tM(n,t);return n&&fp(n)&&X5(n)&&!UC(n)?r:n||rae(e)||r}const mae=async function(e){const t=this.getOffsetParent||qU,r=this.getDimensions,n=await r(e.floating);return{reference:hae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function pae(e){return qo(e).direction==="rtl"}const gae={convertOffsetParentRelativeRectToViewportRelativeRect:aae,getDocumentElement:Ul,getClippingRect:dae,getOffsetParent:qU,getElementRects:mae,getClientRects:sae,getDimensions:fae,getScale:Om,isElement:Vo,isRTL:pae};function WU(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function xae(e,t){let r=null,n;const a=Ul(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=vb(f),x=vb(a.clientWidth-(d+h)),v=vb(a.clientHeight-(f+m)),p=vb(d),w={rootMargin:-g+"px "+-x+"px "+-v+"px "+-p+"px",threshold:os(0,pd(1,c))||1};let j=!0;function S(P){const A=P[0].intersectionRatio;if(A!==c){if(!j)return o();A?o(!1,A):n=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!WU(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(S,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return o(!0),s}function yae(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=VC(e),d=a||s?[...u?M0(u):[],...M0(t)]:[];d.forEach(p=>{a&&p.addEventListener("scroll",r,{passive:!0}),s&&p.addEventListener("resize",r)});const f=u&&l?xae(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(p=>{let[y]=p;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,x=c?eh(e):null;c&&v();function v(){const p=eh(e);x&&!WU(x,p)&&r(),x=p,g=requestAnimationFrame(v)}return r(),()=>{var p;d.forEach(y=>{a&&y.removeEventListener("scroll",r),s&&y.removeEventListener("resize",r)}),f==null||f(),(p=m)==null||p.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const vae=Zie,bae=Qie,wae=Gie,jae=eae,Nae=Yie,rM=Kie,Sae=Jie,_ae=(e,t,r)=>{const n=new Map,a={platform:gae,...r},s={...a.platform,_c:n};return Hie(e,t,{...a,platform:s})};var y1=typeof document<"u"?N.useLayoutEffect:N.useEffect;function hw(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!hw(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!hw(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function HU(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nM(e,t){const r=HU(e);return Math.round(t*r)/r}function Z5(e){const t=N.useRef(e);return y1(()=>{t.current=e}),t}function Pae(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=N.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=N.useState(n);hw(h,n)||m(n);const[g,x]=N.useState(null),[v,p]=N.useState(null),y=N.useCallback(B=>{B!==P.current&&(P.current=B,x(B))},[]),w=N.useCallback(B=>{B!==A.current&&(A.current=B,p(B))},[]),j=s||g,S=o||v,P=N.useRef(null),A=N.useRef(null),C=N.useRef(d),O=c!=null,D=Z5(c),E=Z5(a),k=Z5(u),R=N.useCallback(()=>{if(!P.current||!A.current)return;const B={placement:t,strategy:r,middleware:h};E.current&&(B.platform=E.current),_ae(P.current,A.current,B).then(G=>{const le={...G,isPositioned:k.current!==!1};L.current&&!hw(C.current,le)&&(C.current=le,mh.flushSync(()=>{f(le)}))})},[h,t,r,E,k]);y1(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[u]);const L=N.useRef(!1);y1(()=>(L.current=!0,()=>{L.current=!1}),[]),y1(()=>{if(j&&(P.current=j),S&&(A.current=S),j&&S){if(D.current)return D.current(j,S,R);R()}},[j,S,R,D,O]);const H=N.useMemo(()=>({reference:P,floating:A,setReference:y,setFloating:w}),[y,w]),F=N.useMemo(()=>({reference:j,floating:S}),[j,S]),V=N.useMemo(()=>{const B={position:r,left:0,top:0};if(!F.floating)return B;const G=nM(F.floating,d.x),le=nM(F.floating,d.y);return l?{...B,transform:"translate("+G+"px, "+le+"px)",...HU(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:G,top:le}},[r,l,F.floating,d.x,d.y]);return N.useMemo(()=>({...d,update:R,refs:H,elements:F,floatingStyles:V}),[d,R,H,F,V])}const Aae=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?rM({element:n.current,padding:a}).fn(r):{}:n?rM({element:n,padding:a}).fn(r):{}}}},kae=(e,t)=>({...vae(e),options:[e,t]}),Cae=(e,t)=>({...bae(e),options:[e,t]}),Tae=(e,t)=>({...Sae(e),options:[e,t]}),Eae=(e,t)=>({...wae(e),options:[e,t]}),Oae=(e,t)=>({...jae(e),options:[e,t]}),Mae=(e,t)=>({...Nae(e),options:[e,t]}),Lae=(e,t)=>({...Aae(e),options:[e,t]});var Iae="Arrow",KU=N.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return i.jsx(Tt.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});KU.displayName=Iae;var Dae=KU;function GU(e){const[t,r]=N.useState(void 0);return Ti(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var WC="Popper",[YU,bj]=js(WC),[Rae,XU]=YU(WC),ZU=e=>{const{__scopePopper:t,children:r}=e,[n,a]=N.useState(null);return i.jsx(Rae,{scope:t,anchor:n,onAnchorChange:a,children:r})};ZU.displayName=WC;var QU="PopperAnchor",JU=N.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=XU(QU,r),o=N.useRef(null),l=br(t,o);return N.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(Tt.div,{...a,ref:l})});JU.displayName=QU;var HC="PopperContent",[Fae,$ae]=YU(HC),ez=N.forwardRef((e,t)=>{var ce,we,oe,ye,Ne,pe;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...x}=e,v=XU(HC,r),[p,y]=N.useState(null),w=br(t,_e=>y(_e)),[j,S]=N.useState(null),P=GU(j),A=(P==null?void 0:P.width)??0,C=(P==null?void 0:P.height)??0,O=n+(s!=="center"?"-"+s:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},E=Array.isArray(u)?u:[u],k=E.length>0,R={padding:D,boundary:E.filter(Uae),altBoundary:k},{refs:L,floatingStyles:H,placement:F,isPositioned:V,middlewareData:B}=Pae({strategy:"fixed",placement:O,whileElementsMounted:(..._e)=>yae(..._e,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[kae({mainAxis:a+C,alignmentAxis:o}),c&&Cae({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Tae():void 0,...R}),c&&Eae({...R}),Oae({...R,apply:({elements:_e,rects:ve,availableWidth:J,availableHeight:ut})=>{const{width:at,height:ct}=ve.reference,$e=_e.floating.style;$e.setProperty("--radix-popper-available-width",`${J}px`),$e.setProperty("--radix-popper-available-height",`${ut}px`),$e.setProperty("--radix-popper-anchor-width",`${at}px`),$e.setProperty("--radix-popper-anchor-height",`${ct}px`)}}),j&&Lae({element:j,padding:l}),zae({arrowWidth:A,arrowHeight:C}),h&&Mae({strategy:"referenceHidden",...R})]}),[G,le]=nz(F),fe=Xn(g);Ti(()=>{V&&(fe==null||fe())},[V,fe]);const $=(ce=B.arrow)==null?void 0:ce.x,q=(we=B.arrow)==null?void 0:we.y,Q=((oe=B.arrow)==null?void 0:oe.centerOffset)!==0,[ae,ue]=N.useState();return Ti(()=>{p&&ue(window.getComputedStyle(p).zIndex)},[p]),i.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:V?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(ye=B.transformOrigin)==null?void 0:ye.x,(Ne=B.transformOrigin)==null?void 0:Ne.y].join(" "),...((pe=B.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(Fae,{scope:r,placedSide:G,onArrowChange:S,arrowX:$,arrowY:q,shouldHideArrow:Q,children:i.jsx(Tt.div,{"data-side":G,"data-align":le,...x,ref:w,style:{...x.style,animation:V?void 0:"none"}})})})});ez.displayName=HC;var tz="PopperArrow",Bae={top:"bottom",right:"left",bottom:"top",left:"right"},rz=N.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=$ae(tz,n),o=Bae[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(Dae,{...a,ref:r,style:{...a.style,display:"block"}})})});rz.displayName=tz;function Uae(e){return e!==null}var zae=e=>({name:"transformOrigin",options:e,fn(t){var v,p,y;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=nz(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((p=a.arrow)==null?void 0:p.x)??0)+l/2,m=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let g="",x="";return u==="bottom"?(g=o?f:`${h}px`,x=`${-c}px`):u==="top"?(g=o?f:`${h}px`,x=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,x=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,x=o?f:`${m}px`),{data:{x:g,y:x}}}});function nz(e){const[t,r="center"]=e.split("-");return[t,r]}var Vae=ZU,iz=JU,az=ez,sz=rz,[wj,jBe]=js("Tooltip",[bj]),KC=bj(),oz="TooltipProvider",qae=700,iM="tooltip.open",[Wae,lz]=wj(oz),cz=e=>{const{__scopeTooltip:t,delayDuration:r=qae,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=e,o=N.useRef(!0),l=N.useRef(!1),c=N.useRef(0);return N.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(Wae,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:N.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:N.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:s})};cz.displayName=oz;var uz="Tooltip",[NBe,jj]=wj(uz),tA="TooltipTrigger",Hae=N.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=jj(tA,r),s=lz(tA,r),o=KC(r),l=N.useRef(null),c=br(t,l,a.onTriggerChange),u=N.useRef(!1),d=N.useRef(!1),f=N.useCallback(()=>u.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(iz,{asChild:!0,...o,children:i.jsx(Tt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:jt(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:jt(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:jt(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:jt(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:jt(e.onBlur,a.onClose),onClick:jt(e.onClick,a.onClose)})})});Hae.displayName=tA;var Kae="TooltipPortal",[SBe,Gae]=wj(Kae,{forceMount:void 0}),hp="TooltipContent",dz=N.forwardRef((e,t)=>{const r=Gae(hp,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=e,o=jj(hp,e.__scopeTooltip);return i.jsx(ao,{present:n||o.open,children:o.disableHoverableContent?i.jsx(fz,{side:a,...s,ref:t}):i.jsx(Yae,{side:a,...s,ref:t})})}),Yae=N.forwardRef((e,t)=>{const r=jj(hp,e.__scopeTooltip),n=lz(hp,e.__scopeTooltip),a=N.useRef(null),s=br(t,a),[o,l]=N.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=N.useCallback(()=>{l(null),f(!1)},[f]),m=N.useCallback((g,x)=>{const v=g.currentTarget,p={x:g.clientX,y:g.clientY},y=ese(p,v.getBoundingClientRect()),w=tse(p,y),j=rse(x.getBoundingClientRect()),S=ise([...w,...j]);l(S),f(!0)},[f]);return N.useEffect(()=>()=>h(),[h]),N.useEffect(()=>{if(c&&d){const g=v=>m(v,d),x=v=>m(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",x)}}},[c,d,m,h]),N.useEffect(()=>{if(o){const g=x=>{const v=x.target,p={x:x.clientX,y:x.clientY},y=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!nse(p,o);y?h():w&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,h]),i.jsx(fz,{...e,ref:s})}),[Xae,Zae]=wj(uz,{isInside:!1}),Qae=Yre("TooltipContent"),fz=N.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,c=jj(hp,r),u=KC(r),{onClose:d}=c;return N.useEffect(()=>(document.addEventListener(iM,d),()=>document.removeEventListener(iM,d)),[d]),N.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(By,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(az,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(Qae,{children:n}),i.jsx(Xae,{scope:r,isInside:!0,children:i.jsx(pne,{id:c.contentId,role:"tooltip",children:a||n})})]})})});dz.displayName=hp;var hz="TooltipArrow",Jae=N.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=KC(r);return Zae(hz,r).isInside?null:i.jsx(sz,{...a,...n,ref:t})});Jae.displayName=hz;function ese(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function tse(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function rse(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function nse(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s].x,c=t[s].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}function ise(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),ase(t)}function ase(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var sse=cz,mz=dz;const ose=sse,lse=N.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(mz,{ref:n,sideOffset:t,className:_t("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));lse.displayName=mz.displayName;function pz(e,t){try{const r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.warn(`Storage corruption for key "${e}":`,r),localStorage.removeItem(e),t}}function aM(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error(`Failed to save to storage for key "${e}":`,r)}}const gz=N.createContext(null);function cse({children:e}){const[t,r]=N.useState(null),[n,a]=N.useState(!0);N.useEffect(()=>{const u=pz("greenpay_user",null);u&&(r(u),u!=null&&u.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")),a(!1)},[]);const s=u=>{r(u),aM("greenpay_user",u)},o=()=>{r(null),localStorage.removeItem("greenpay_user")},l=async()=>{if(t!=null&&t.id)try{const u=await fetch(`/api/users/${t.id}`);if(u.ok){const d=await u.json();r(d.user),aM("greenpay_user",d.user)}}catch(u){console.error("Failed to refresh user data:",u)}},c=!!t;return i.jsx(gz.Provider,{value:{user:t,login:s,logout:o,refreshUser:l,isAuthenticated:c,isLoading:n},children:e})}function Tr(){const e=N.useContext(gz);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function use(){const e=`https://wa.me/14704657028?text=${encodeURIComponent("Hi, I need support with GreenPay")}`;return i.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-24 right-6 z-50 w-14 h-14 bg-green-500 hover:bg-green-600 text-white rounded-full shadow-lg flex items-center justify-center transition-all duration-200 hover:scale-110 hover:shadow-xl",title:"Chat with us on WhatsApp",children:i.jsx(qy,{className:"w-6 h-6"})})}function dse(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}function Nj(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const rA=e=>Array.isArray(e);function xz(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function L0(e){return typeof e=="string"||Array.isArray(e)}function sM(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function GC(e,t,r,n){if(typeof t=="function"){const[a,s]=sM(n);t=t(r!==void 0?r:e.custom,a,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,s]=sM(n);t=t(r!==void 0?r:e.custom,a,s)}return t}function Sj(e,t,r){const n=e.getProps();return GC(n,t,r!==void 0?r:n.custom,e)}const YC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],XC=["initial",...YC],Ky=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ph=new Set(Ky),Sc=e=>e*1e3,_c=e=>e/1e3,fse={type:"spring",stiffness:500,damping:25,restSpeed:10},hse=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),mse={type:"keyframes",duration:.8},pse={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gse=(e,{keyframes:t})=>t.length>2?mse:ph.has(e)?e.startsWith("scale")?hse(t[1]):fse:pse;function ZC(e,t){return e?e[t]||e.default||e:void 0}const xse={skipAnimations:!1,useManualTiming:!1},yse=e=>e!==null;function _j(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(yse),s=t&&r!=="loop"&&t%2===1?0:a.length-1;return!s||n===void 0?a[s]:n}const da=e=>e;let nA=da;function vse(e){let t=new Set,r=new Set,n=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){s.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const m=f&&n?t:r;return d&&s.add(u),m.has(u)||m.add(u),u},cancel:u=>{r.delete(u),s.delete(u)},process:u=>{if(o=u,n){a=!0;return}n=!0,[t,r]=[r,t],r.clear(),t.forEach(l),n=!1,a&&(a=!1,c.process(u))}};return c}const bb=["read","resolveKeyframes","update","preRender","render","postRender"],bse=40;function yz(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=bb.reduce((p,y)=>(p[y]=vse(s),p),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=o,m=()=>{const p=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(p-a.timestamp,bse),1),a.timestamp=p,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),f.process(a),h.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(m))},g=()=>{r=!0,n=!0,a.isProcessing||e(m)};return{schedule:bb.reduce((p,y)=>{const w=o[y];return p[y]=(j,S=!1,P=!1)=>(r||g(),w.schedule(j,S,P)),p},{}),cancel:p=>{for(let y=0;y<bb.length;y++)o[bb[y]].cancel(p)},state:a,steps:o}}const{schedule:Zr,cancel:yd,state:zi,steps:Q5}=yz(typeof requestAnimationFrame<"u"?requestAnimationFrame:da,!0),vz=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,wse=1e-7,jse=12;function Nse(e,t,r,n,a){let s,o,l=0;do o=t+(r-t)/2,s=vz(o,n,a)-e,s>0?r=o:t=o;while(Math.abs(s)>wse&&++l<jse);return o}function Gy(e,t,r,n){if(e===t&&r===n)return da;const a=s=>Nse(s,0,1,e,r);return s=>s===0||s===1?s:vz(a(s),t,n)}const bz=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,wz=e=>t=>1-e(1-t),jz=Gy(.33,1.53,.69,.99),QC=wz(jz),Nz=bz(QC),Sz=e=>(e*=2)<1?.5*QC(e):.5*(2-Math.pow(2,-10*(e-1))),JC=e=>1-Math.sin(Math.acos(e)),_z=wz(JC),Pz=bz(JC),Az=e=>/^0[^.\s]+$/u.test(e);function Sse(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Az(e):!0}const kz=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Cz=e=>t=>typeof t=="string"&&t.startsWith(e),Tz=Cz("--"),_se=Cz("var(--"),e3=e=>_se(e)?Pse.test(e.split("/*")[0].trim()):!1,Pse=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ase=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kse(e){const t=Ase.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function Ez(e,t,r=1){const[n,a]=kse(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const o=s.trim();return kz(o)?parseFloat(o):o}return e3(a)?Ez(a,t,r+1):a}const Uc=(e,t,r)=>r>t?t:r<e?e:r,og={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},I0={...og,transform:e=>Uc(0,1,e)},wb={...og,default:1},Yy=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Su=Yy("deg"),Al=Yy("%"),It=Yy("px"),Cse=Yy("vh"),Tse=Yy("vw"),oM={...Al,parse:e=>Al.parse(e)/100,transform:e=>Al.transform(e*100)},Ese=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),lM=e=>e===og||e===It,cM=(e,t)=>parseFloat(e.split(", ")[t]),uM=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/u);if(a)return cM(a[1],t);{const s=n.match(/^matrix\((.+)\)$/u);return s?cM(s[1],e):0}},Ose=new Set(["x","y","z"]),Mse=Ky.filter(e=>!Ose.has(e));function Lse(e){const t=[];return Mse.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const mp={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:uM(4,13),y:uM(5,14)};mp.translateX=mp.x;mp.translateY=mp.y;const Oz=e=>t=>t.test(e),Ise={test:e=>e==="auto",parse:e=>e},Mz=[og,It,Al,Su,Tse,Cse,Ise],dM=e=>Mz.find(Oz(e)),Vf=new Set;let iA=!1,aA=!1;function Lz(){if(aA){const e=Array.from(Vf).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Lse(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([s,o])=>{var l;(l=n.getValue(s))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}aA=!1,iA=!1,Vf.forEach(e=>e.complete()),Vf.clear()}function Iz(){Vf.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(aA=!0)})}function Dse(){Iz(),Lz()}class t3{constructor(t,r,n,a,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Vf.add(this),iA||(iA=!0,Zr.read(Iz),Zr.resolveKeyframes(Lz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=a==null?void 0:a.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Vf.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Vf.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Zx=e=>Math.round(e*1e5)/1e5,r3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Rse(e){return e==null}const Fse=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,n3=(e,t)=>r=>!!(typeof r=="string"&&Fse.test(r)&&r.startsWith(e)||t&&!Rse(r)&&Object.prototype.hasOwnProperty.call(r,t)),Dz=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,s,o,l]=n.match(r3);return{[e]:parseFloat(a),[t]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},$se=e=>Uc(0,255,e),J5={...og,transform:e=>Math.round($se(e))},Sf={test:n3("rgb","red"),parse:Dz("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+J5.transform(e)+", "+J5.transform(t)+", "+J5.transform(r)+", "+Zx(I0.transform(n))+")"};function Bse(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const sA={test:n3("#"),parse:Bse,transform:Sf.transform},hm={test:n3("hsl","hue"),parse:Dz("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Al.transform(Zx(t))+", "+Al.transform(Zx(r))+", "+Zx(I0.transform(n))+")"},ia={test:e=>Sf.test(e)||sA.test(e)||hm.test(e),parse:e=>Sf.test(e)?Sf.parse(e):hm.test(e)?hm.parse(e):sA.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Sf.transform(e):hm.transform(e)},Use=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zse(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(r3))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Use))===null||r===void 0?void 0:r.length)||0)>0}const Rz="number",Fz="color",Vse="var",qse="var(",fM="${}",Wse=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function D0(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let s=0;const l=t.replace(Wse,c=>(ia.test(c)?(n.color.push(s),a.push(Fz),r.push(ia.parse(c))):c.startsWith(qse)?(n.var.push(s),a.push(Vse),r.push(c)):(n.number.push(s),a.push(Rz),r.push(parseFloat(c))),++s,fM)).split(fM);return{values:r,split:l,indexes:n,types:a}}function $z(e){return D0(e).values}function Bz(e){const{split:t,types:r}=D0(e),n=t.length;return a=>{let s="";for(let o=0;o<n;o++)if(s+=t[o],a[o]!==void 0){const l=r[o];l===Rz?s+=Zx(a[o]):l===Fz?s+=ia.transform(a[o]):s+=a[o]}return s}}const Hse=e=>typeof e=="number"?0:e;function Kse(e){const t=$z(e);return Bz(e)(t.map(Hse))}const vd={test:zse,parse:$z,createTransformer:Bz,getAnimatableNone:Kse},Gse=new Set(["brightness","contrast","saturate","opacity"]);function Yse(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(r3)||[];if(!n)return e;const a=r.replace(n,"");let s=Gse.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+a+")"}const Xse=/\b([a-z-]*)\(.*?\)/gu,oA={...vd,getAnimatableNone:e=>{const t=e.match(Xse);return t?t.map(Yse).join(" "):e}},Zse={borderWidth:It,borderTopWidth:It,borderRightWidth:It,borderBottomWidth:It,borderLeftWidth:It,borderRadius:It,radius:It,borderTopLeftRadius:It,borderTopRightRadius:It,borderBottomRightRadius:It,borderBottomLeftRadius:It,width:It,maxWidth:It,height:It,maxHeight:It,top:It,right:It,bottom:It,left:It,padding:It,paddingTop:It,paddingRight:It,paddingBottom:It,paddingLeft:It,margin:It,marginTop:It,marginRight:It,marginBottom:It,marginLeft:It,backgroundPositionX:It,backgroundPositionY:It},Qse={rotate:Su,rotateX:Su,rotateY:Su,rotateZ:Su,scale:wb,scaleX:wb,scaleY:wb,scaleZ:wb,skew:Su,skewX:Su,skewY:Su,distance:It,translateX:It,translateY:It,translateZ:It,x:It,y:It,z:It,perspective:It,transformPerspective:It,opacity:I0,originX:oM,originY:oM,originZ:It},hM={...og,transform:Math.round},i3={...Zse,...Qse,zIndex:hM,size:It,fillOpacity:I0,strokeOpacity:I0,numOctaves:hM},Jse={...i3,color:ia,backgroundColor:ia,outlineColor:ia,fill:ia,stroke:ia,borderColor:ia,borderTopColor:ia,borderRightColor:ia,borderBottomColor:ia,borderLeftColor:ia,filter:oA,WebkitFilter:oA},a3=e=>Jse[e];function Uz(e,t){let r=a3(e);return r!==oA&&(r=vd),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const eoe=new Set(["auto","none","0"]);function toe(e,t,r){let n=0,a;for(;n<e.length&&!a;){const s=e[n];typeof s=="string"&&!eoe.has(s)&&D0(s).values.length&&(a=e[n]),n++}if(a&&r)for(const s of t)e[s]=Uz(r,a)}class zz extends t3{constructor(t,r,n,a,s){super(t,r,n,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),e3(u))){const d=Ez(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Ese.has(n)||t.length!==2)return;const[a,s]=t,o=dM(a),l=dM(s);if(o!==l)if(lM(o)&&lM(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)Sse(t[a])&&n.push(a);n.length&&toe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mp[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const s=r.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=mp[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function s3(e){return typeof e=="function"}let v1;function roe(){v1=void 0}const kl={now:()=>(v1===void 0&&kl.set(zi.isProcessing||xse.useManualTiming?zi.timestamp:performance.now()),v1),set:e=>{v1=e,queueMicrotask(roe)}},mM=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(vd.test(e)||e==="0")&&!e.startsWith("url("));function noe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function ioe(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=mM(a,t),l=mM(s,t);return!o||!l?!1:noe(e)||(r==="spring"||s3(r))&&n}const aoe=40;class Vz{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=kl.now(),this.options={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:s,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>aoe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Dse(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=kl.now(),this.hasAttemptedResolve=!0;const{name:n,type:a,velocity:s,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!ioe(t,n,a,s))if(o)this.options.duration=0;else{c==null||c(_j(t,this.options,r)),l==null||l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const pp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},qz=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let s=0;s<a;s++)n+=e(pp(0,a-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function Wz(e,t){return t?e*(1e3/t):0}const soe=5;function Hz(e,t,r){const n=Math.max(t-soe,0);return Wz(r-e(n),t-n)}const Ln={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},eS=.001;function ooe({duration:e=Ln.duration,bounce:t=Ln.bounce,velocity:r=Ln.velocity,mass:n=Ln.mass}){let a,s,o=1-t;o=Uc(Ln.minDamping,Ln.maxDamping,o),e=Uc(Ln.minDuration,Ln.maxDuration,_c(e)),o<1?(a=u=>{const d=u*o,f=d*e,h=d-r,m=lA(u,o),g=Math.exp(-f);return eS-h/m*g},s=u=>{const f=u*o*e,h=f*r+r,m=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-f),x=lA(Math.pow(u,2),o);return(-a(u)+eS>0?-1:1)*((h-m)*g)/x}):(a=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-eS+d*f},s=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=coe(a,s,l);if(e=Sc(e),isNaN(c))return{stiffness:Ln.stiffness,damping:Ln.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const loe=12;function coe(e,t,r){let n=r;for(let a=1;a<loe;a++)n=n-e(n)/t(n);return n}function lA(e,t){return e*Math.sqrt(1-t*t)}const cA=2e4;function Kz(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<cA;)t+=r,n=e.next(t);return t>=cA?1/0:t}const uoe=["duration","bounce"],doe=["stiffness","damping","mass"];function pM(e,t){return t.some(r=>e[r]!==void 0)}function foe(e){let t={velocity:Ln.velocity,stiffness:Ln.stiffness,damping:Ln.damping,mass:Ln.mass,isResolvedFromDuration:!1,...e};if(!pM(e,doe)&&pM(e,uoe))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,s=2*Uc(.05,1,1-e.bounce)*Math.sqrt(a);t={...t,mass:Ln.mass,stiffness:a,damping:s}}else{const r=ooe(e);t={...t,...r,mass:Ln.mass},t.isResolvedFromDuration=!0}return t}function Gz(e=Ln.visualDuration,t=Ln.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=foe({...r,velocity:-_c(r.velocity||0)}),g=h||0,x=u/(2*Math.sqrt(c*d)),v=o-s,p=_c(Math.sqrt(c/d)),y=Math.abs(v)<5;n||(n=y?Ln.restSpeed.granular:Ln.restSpeed.default),a||(a=y?Ln.restDelta.granular:Ln.restDelta.default);let w;if(x<1){const S=lA(p,x);w=P=>{const A=Math.exp(-x*p*P);return o-A*((g+x*p*v)/S*Math.sin(S*P)+v*Math.cos(S*P))}}else if(x===1)w=S=>o-Math.exp(-p*S)*(v+(g+p*v)*S);else{const S=p*Math.sqrt(x*x-1);w=P=>{const A=Math.exp(-x*p*P),C=Math.min(S*P,300);return o-A*((g+x*p*v)*Math.sinh(C)+S*v*Math.cosh(C))/S}}const j={calculatedDuration:m&&f||null,next:S=>{const P=w(S);if(m)l.done=S>=f;else{let A=0;x<1&&(A=S===0?Sc(g):Hz(w,S,P));const C=Math.abs(A)<=n,O=Math.abs(o-P)<=a;l.done=C&&O}return l.value=l.done?o:P,l},toString:()=>{const S=Math.min(Kz(j),cA),P=qz(A=>j.next(S*A).value,S,30);return S+"ms "+P}};return j}function gM({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=C=>l!==void 0&&C<l||c!==void 0&&C>c,g=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let x=r*t;const v=f+x,p=o===void 0?v:o(v);p!==v&&(x=p-f);const y=C=>-x*Math.exp(-C/n),w=C=>p+y(C),j=C=>{const O=y(C),D=w(C);h.done=Math.abs(O)<=u,h.value=h.done?p:D};let S,P;const A=C=>{m(h.value)&&(S=C,P=Gz({keyframes:[h.value,g(h.value)],velocity:Hz(w,C,h.value),damping:a,stiffness:s,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:C=>{let O=!1;return!P&&S===void 0&&(O=!0,j(C),A(C)),S!==void 0&&C>=S?P.next(C-S):(!O&&j(C),h)}}}const hoe=Gy(.42,0,1,1),moe=Gy(0,0,.58,1),Yz=Gy(.42,0,.58,1),poe=e=>Array.isArray(e)&&typeof e[0]!="number",o3=e=>Array.isArray(e)&&typeof e[0]=="number",xM={linear:da,easeIn:hoe,easeInOut:Yz,easeOut:moe,circIn:JC,circInOut:Pz,circOut:_z,backIn:QC,backInOut:Nz,backOut:jz,anticipate:Sz},yM=e=>{if(o3(e)){nA(e.length===4);const[t,r,n,a]=e;return Gy(t,r,n,a)}else if(typeof e=="string")return nA(xM[e]!==void 0),xM[e];return e},goe=(e,t)=>r=>t(e(r)),ad=(...e)=>e.reduce(goe),_n=(e,t,r)=>e+(t-e)*r;function tS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function xoe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,s=0,o=0;if(!t)a=s=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=tS(c,l,e+1/3),s=tS(c,l,e),o=tS(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function mw(e,t){return r=>r>0?t:e}const rS=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},yoe=[sA,Sf,hm],voe=e=>yoe.find(t=>t.test(e));function vM(e){const t=voe(e);if(!t)return!1;let r=t.parse(e);return t===hm&&(r=xoe(r)),r}const bM=(e,t)=>{const r=vM(e),n=vM(t);if(!r||!n)return mw(e,t);const a={...r};return s=>(a.red=rS(r.red,n.red,s),a.green=rS(r.green,n.green,s),a.blue=rS(r.blue,n.blue,s),a.alpha=_n(r.alpha,n.alpha,s),Sf.transform(a))},uA=new Set(["none","hidden"]);function boe(e,t){return uA.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function woe(e,t){return r=>_n(e,t,r)}function l3(e){return typeof e=="number"?woe:typeof e=="string"?e3(e)?mw:ia.test(e)?bM:Soe:Array.isArray(e)?Xz:typeof e=="object"?ia.test(e)?bM:joe:mw}function Xz(e,t){const r=[...e],n=r.length,a=e.map((s,o)=>l3(s)(s,t[o]));return s=>{for(let o=0;o<n;o++)r[o]=a[o](s);return r}}function joe(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=l3(e[a])(e[a],t[a]));return a=>{for(const s in n)r[s]=n[s](a);return r}}function Noe(e,t){var r;const n=[],a={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],l=e.indexes[o][a[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[s]=c,a[o]++}return n}const Soe=(e,t)=>{const r=vd.createTransformer(t),n=D0(e),a=D0(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?uA.has(e)&&!a.values.length||uA.has(t)&&!n.values.length?boe(e,t):ad(Xz(Noe(n,a),a.values),r):mw(e,t)};function Zz(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?_n(e,t,r):l3(e)(e,t)}function _oe(e,t,r){const n=[],a=r||Zz,s=e.length-1;for(let o=0;o<s;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||da:t;l=ad(c,l)}n.push(l)}return n}function Poe(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const s=e.length;if(nA(s===t.length),s===1)return()=>t[0];if(s===2&&e[0]===e[1])return()=>t[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=_oe(t,n,a),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=pp(e[d],e[d+1],u);return o[d](f)};return r?u=>c(Uc(e[0],e[s-1],u)):c}function Aoe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=pp(0,t,n);e.push(_n(r,1,a))}}function koe(e){const t=[0];return Aoe(t,e.length-1),t}function Coe(e,t){return e.map(r=>r*t)}function Toe(e,t){return e.map(()=>t||Yz).splice(0,e.length-1)}function pw({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=poe(n)?n.map(yM):yM(n),s={done:!1,value:t[0]},o=Coe(r&&r.length===t.length?r:koe(t),e),l=Poe(o,t,{ease:Array.isArray(a)?a:Toe(t,a)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const Eoe=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Zr.update(t,!0),stop:()=>yd(t),now:()=>zi.isProcessing?zi.timestamp:kl.now()}},Ooe={decay:gM,inertia:gM,tween:pw,keyframes:pw,spring:Gz},Moe=e=>e/100;class c3 extends Vz{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:a,keyframes:s}=this.options,o=(a==null?void 0:a.KeyframeResolver)||t3,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(s,l,r,n,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:s,velocity:o=0}=this.options,l=s3(r)?r:Ooe[r]||pw;let c,u;l!==pw&&typeof t[0]!="number"&&(c=ad(Moe,Zz(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});s==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Kz(d));const{calculatedDuration:f}=d,h=f+a,m=h*(n+1)-a;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:a,generator:s,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=n;if(this.startTime===null)return s.next(0);const{delay:h,repeat:m,repeatType:g,repeatDelay:x,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const p=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?p<0:p>d;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,j=s;if(m){const C=Math.min(this.currentTime,d)/f;let O=Math.floor(C),D=C%1;!D&&C>=1&&(D=1),D===1&&O--,O=Math.min(O,m+1),!!(O%2)&&(g==="reverse"?(D=1-D,x&&(D-=x/f)):g==="mirror"&&(j=o)),w=Uc(0,1,D)*f}const S=y?{done:!1,value:c[0]}:j.next(w);l&&(S.value=l(S.value));let{done:P}=S;!y&&u!==null&&(P=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return A&&a!==void 0&&(S.value=_j(c,this.options,a)),v&&v(S.value),A&&this.finish(),S}get duration(){const{resolved:t}=this;return t?_c(t.calculatedDuration):0}get time(){return _c(this.currentTime)}set time(t){t=Sc(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=_c(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Eoe,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Loe=new Set(["opacity","clipPath","filter","transform"]);function u3(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ioe={linearEasing:void 0};function Doe(e,t){const r=u3(e);return()=>{var n;return(n=Ioe[t])!==null&&n!==void 0?n:r()}}const gw=Doe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Qz(e){return!!(typeof e=="function"&&gw()||!e||typeof e=="string"&&(e in dA||gw())||o3(e)||Array.isArray(e)&&e.every(Qz))}const Lx=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,dA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lx([0,.65,.55,1]),circOut:Lx([.55,0,1,.45]),backIn:Lx([.31,.01,.66,-.59]),backOut:Lx([.33,1.53,.69,.99])};function Jz(e,t){if(e)return typeof e=="function"&&gw()?qz(e,t):o3(e)?Lx(e):Array.isArray(e)?e.map(r=>Jz(r,t)||dA.easeOut):dA[e]}function Roe(e,t,r,{delay:n=0,duration:a=300,repeat:s=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=Jz(l,a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function wM(e,t){e.timeline=t,e.onfinish=null}const Foe=u3(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xw=10,$oe=2e4;function Boe(e){return s3(e.type)||e.type==="spring"||!Qz(e.ease)}function Uoe(e,t){const r=new c3({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const a=[];let s=0;for(;!n.done&&s<$oe;)n=r.sample(s),a.push(n.value),s+=xw;return{times:void 0,keyframes:a,duration:s-xw,ease:"linear"}}const eV={anticipate:Sz,backInOut:Nz,circInOut:Pz};function zoe(e){return e in eV}class jM extends Vz{constructor(t){super(t);const{name:r,motionValue:n,element:a,keyframes:s}=this.options;this.resolver=new zz(s,(o,l)=>this.onKeyframesResolved(o,l),r,n,a),this.resolver.scheduleResolve()}initPlayback(t,r){var n;let{duration:a=300,times:s,ease:o,type:l,motionValue:c,name:u,startTime:d}=this.options;if(!(!((n=c.owner)===null||n===void 0)&&n.current))return!1;if(typeof o=="string"&&gw()&&zoe(o)&&(o=eV[o]),Boe(this.options)){const{onComplete:h,onUpdate:m,motionValue:g,element:x,...v}=this.options,p=Uoe(t,v);t=p.keyframes,t.length===1&&(t[1]=t[0]),a=p.duration,s=p.times,o=p.ease,l="keyframes"}const f=Roe(c.owner.current,u,t,{...this.options,duration:a,times:s,ease:o});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(wM(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:h}=this.options;c.set(_j(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:a,times:s,type:l,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return _c(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return _c(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Sc(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return da;const{animation:n}=r;wM(n,t)}return da}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:a,type:s,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...m}=this.options,g=new c3({...m,keyframes:n,duration:a,type:s,ease:o,times:l,isGenerator:!0}),x=Sc(this.time);u.setWithVelocity(g.sample(x-xw).value,g.sample(x).value,xw)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:a,repeatType:s,damping:o,type:l}=t;return Foe()&&n&&Loe.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!a&&s!=="mirror"&&o!==0&&l!=="inertia"}}const Voe=u3(()=>window.ScrollTimeline!==void 0);class qoe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,r){return Promise.all(this.animations).then(t).catch(r)}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(a=>Voe()&&a.attachTimeline?a.attachTimeline(t):r(a));return()=>{n.forEach((a,s)=>{a&&a(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Woe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const d3=(e,t,r,n={},a,s)=>o=>{const l=ZC(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Sc(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:a};Woe(l)||(d={...d,...gse(e,d)}),d.duration&&(d.duration=Sc(d.duration)),d.repeatDelay&&(d.repeatDelay=Sc(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&t.get()!==void 0){const h=_j(d.keyframes,l);if(h!==void 0)return Zr.update(()=>{d.onUpdate(h),d.onComplete()}),new qoe([])}return!s&&jM.supports(d)?new jM(d):new c3(d)},Hoe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Koe=e=>rA(e)?e[e.length-1]||0:e;function f3(e,t){e.indexOf(t)===-1&&e.push(t)}function h3(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class m3{constructor(){this.subscriptions=[]}add(t){return f3(this.subscriptions,t),()=>h3(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let s=0;s<a;s++){const o=this.subscriptions[s];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const NM=30,Goe=e=>!isNaN(parseFloat(e));class Yoe{constructor(t,r={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{const s=kl.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=kl.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Goe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new m3);const n=this.events[t].add(r);return t==="change"?()=>{n(),Zr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=kl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>NM)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,NM);return Wz(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function R0(e,t){return new Yoe(e,t)}function Xoe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,R0(r))}function Zoe(e,t){const r=Sj(e,t);let{transitionEnd:n={},transition:a={},...s}=r||{};s={...s,...n};for(const o in s){const l=Koe(s[o]);Xoe(e,o,l)}}const p3=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Qoe="framerAppearId",tV="data-"+p3(Qoe);function rV(e){return e.props[tV]}const ua=e=>!!(e&&e.getVelocity);function Joe(e){return!!(ua(e)&&e.add)}function fA(e,t){const r=e.getValue("willChange");if(Joe(r))return r.add(t)}function ele({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function nV(e,t,{delay:r=0,transitionOverride:n,type:a}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in c){const h=e.getValue(f,(s=e.latestValues[f])!==null&&s!==void 0?s:null),m=c[f];if(m===void 0||d&&ele(d,f))continue;const g={delay:r,...ZC(o||{},f)};let x=!1;if(window.MotionHandoffAnimation){const p=rV(e);if(p){const y=window.MotionHandoffAnimation(p,f,Zr);y!==null&&(g.startTime=y,x=!0)}}fA(e,f),h.start(d3(f,h,m,e.shouldReduceMotion&&ph.has(f)?{type:!1}:g,e,x));const v=h.animation;v&&u.push(v)}return l&&Promise.all(u).then(()=>{Zr.update(()=>{l&&Zoe(e,l)})}),u}function hA(e,t,r={}){var n;const a=Sj(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(s=r.transitionOverride);const o=a?()=>Promise.all(nV(e,a,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return tle(e,t,d+u,f,h,r)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(r.delay)])}function tle(e,t,r=0,n=0,a=1,s){const o=[],l=(e.variantChildren.size-1)*n,c=a===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(rle).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(hA(u,t,{...s,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function rle(e,t){return e.sortNodePosition(t)}function nle(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(s=>hA(e,s,r));n=Promise.all(a)}else if(typeof t=="string")n=hA(e,t,r);else{const a=typeof t=="function"?Sj(e,t,r.custom):t;n=Promise.all(nV(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const ile=XC.length;function iV(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?iV(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<ile;r++){const n=XC[r],a=e.props[n];(L0(a)||a===!1)&&(t[n]=a)}return t}const ale=[...YC].reverse(),sle=YC.length;function ole(e){return t=>Promise.all(t.map(({animation:r,options:n})=>nle(e,r,n)))}function lle(e){let t=ole(e),r=SM(),n=!0;const a=c=>(u,d)=>{var f;const h=Sj(e,d,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:g,...x}=h;u={...u,...x,...g}}return u};function s(c){t=c(e)}function o(c){const{props:u}=e,d=iV(e.parent)||{},f=[],h=new Set;let m={},g=1/0;for(let v=0;v<sle;v++){const p=ale[v],y=r[p],w=u[p]!==void 0?u[p]:d[p],j=L0(w),S=p===c?y.isActive:null;S===!1&&(g=v);let P=w===d[p]&&w!==u[p]&&j;if(P&&n&&e.manuallyAnimateOnMount&&(P=!1),y.protectedKeys={...m},!y.isActive&&S===null||!w&&!y.prevProp||Nj(w)||typeof w=="boolean")continue;const A=cle(y.prevProp,w);let C=A||p===c&&y.isActive&&!P&&j||v>g&&j,O=!1;const D=Array.isArray(w)?w:[w];let E=D.reduce(a(p),{});S===!1&&(E={});const{prevResolvedValues:k={}}=y,R={...k,...E},L=V=>{C=!0,h.has(V)&&(O=!0,h.delete(V)),y.needsAnimating[V]=!0;const B=e.getValue(V);B&&(B.liveStyle=!1)};for(const V in R){const B=E[V],G=k[V];if(m.hasOwnProperty(V))continue;let le=!1;rA(B)&&rA(G)?le=!xz(B,G):le=B!==G,le?B!=null?L(V):h.add(V):B!==void 0&&h.has(V)?L(V):y.protectedKeys[V]=!0}y.prevProp=w,y.prevResolvedValues=E,y.isActive&&(m={...m,...E}),n&&e.blockInitialAnimation&&(C=!1),C&&(!(P&&A)||O)&&f.push(...D.map(V=>({animation:V,options:{type:p}})))}if(h.size){const v={};h.forEach(p=>{const y=e.getBaseTarget(p),w=e.getValue(p);w&&(w.liveStyle=!0),v[p]=y??null}),f.push({animation:v})}let x=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(f):Promise.resolve()}function l(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),r[c].isActive=u;const f=o(c);for(const h in r)r[h].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=SM(),n=!0}}}function cle(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!xz(t,e):!1}function sf(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function SM(){return{animate:sf(!0),whileInView:sf(),whileHover:sf(),whileTap:sf(),whileDrag:sf(),whileFocus:sf(),exit:sf()}}class Ad{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ule extends Ad{constructor(t){super(t),t.animationState||(t.animationState=lle(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Nj(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let dle=0;class fle extends Ad{constructor(){super(...arguments),this.id=dle++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const hle={animation:{Feature:ule},exit:{Feature:fle}};function mle(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const s=(n=void 0)!==null&&n!==void 0?n:a.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const wo={x:!1,y:!1};function aV(){return wo.x||wo.y}function _M(e){return t=>{t.pointerType==="touch"||aV()||e(t)}}function ple(e,t,r={}){const n=new AbortController,a={passive:!0,...r,signal:n.signal},s=_M(o=>{const{target:l}=o,c=t(o);if(!c||!l)return;const u=_M(d=>{c(d),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,a)});return mle(e).forEach(o=>{o.addEventListener("pointerenter",s,a)}),()=>n.abort()}function gle(e){return e==="x"||e==="y"?wo[e]?null:(wo[e]=!0,()=>{wo[e]=!1}):wo.x||wo.y?null:(wo.x=wo.y=!0,()=>{wo.x=wo.y=!1})}const sV=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Xy(e){return{point:{x:e.pageX,y:e.pageY}}}const xle=e=>t=>sV(t)&&e(t,Xy(t));function yc(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function sd(e,t,r,n){return yc(e,t,xle(r),n)}const PM=(e,t)=>Math.abs(e-t);function yle(e,t){const r=PM(e.x,t.x),n=PM(e.y,t.y);return Math.sqrt(r**2+n**2)}class oV{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=iS(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=yle(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:g}=f,{timestamp:x}=zi;this.history.push({...g,timestamp:x});const{onStart:v,onMove:p}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=nS(h,this.transformPagePoint),Zr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=iS(f.type==="pointercancel"?this.lastMoveEventInfo:nS(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,v),g&&g(f,v)},!sV(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=Xy(t),l=nS(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=zi;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,iS(l,this.history)),this.removeListeners=ad(sd(this.contextWindow,"pointermove",this.handlePointerMove),sd(this.contextWindow,"pointerup",this.handlePointerUp),sd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),yd(this.updatePoint)}}function nS(e,t){return t?{point:t(e.point)}:e}function AM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function iS({point:e},t){return{point:e,delta:AM(e,lV(t)),offset:AM(e,vle(t)),velocity:ble(t,.1)}}function vle(e){return e[0]}function lV(e){return e[e.length-1]}function ble(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=lV(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Sc(t)));)r--;if(!n)return{x:0,y:0};const s=_c(a.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function mm(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const cV=1e-4,wle=1-cV,jle=1+cV,uV=.01,Nle=0-uV,Sle=0+uV;function xs(e){return e.max-e.min}function _le(e,t,r){return Math.abs(e-t)<=r}function kM(e,t,r,n=.5){e.origin=n,e.originPoint=_n(t.min,t.max,e.origin),e.scale=xs(r)/xs(t),e.translate=_n(r.min,r.max,e.origin)-e.originPoint,(e.scale>=wle&&e.scale<=jle||isNaN(e.scale))&&(e.scale=1),(e.translate>=Nle&&e.translate<=Sle||isNaN(e.translate))&&(e.translate=0)}function Qx(e,t,r,n){kM(e.x,t.x,r.x,n?n.originX:void 0),kM(e.y,t.y,r.y,n?n.originY:void 0)}function CM(e,t,r){e.min=r.min+t.min,e.max=e.min+xs(t)}function Ple(e,t,r){CM(e.x,t.x,r.x),CM(e.y,t.y,r.y)}function TM(e,t,r){e.min=t.min-r.min,e.max=e.min+xs(t)}function Jx(e,t,r){TM(e.x,t.x,r.x),TM(e.y,t.y,r.y)}function Ale(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?_n(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?_n(r,e,n.max):Math.min(e,r)),e}function EM(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function kle(e,{top:t,left:r,bottom:n,right:a}){return{x:EM(e.x,r,a),y:EM(e.y,t,n)}}function OM(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Cle(e,t){return{x:OM(e.x,t.x),y:OM(e.y,t.y)}}function Tle(e,t){let r=.5;const n=xs(e),a=xs(t);return a>n?r=pp(t.min,t.max-n,e.min):n>a&&(r=pp(e.min,e.max-a,t.min)),Uc(0,1,r)}function Ele(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const mA=.35;function Ole(e=mA){return e===!1?e=0:e===!0&&(e=mA),{x:MM(e,"left","right"),y:MM(e,"top","bottom")}}function MM(e,t,r){return{min:LM(e,t),max:LM(e,r)}}function LM(e,t){return typeof e=="number"?e:e[t]||0}const IM=()=>({translate:0,scale:1,origin:0,originPoint:0}),pm=()=>({x:IM(),y:IM()}),DM=()=>({min:0,max:0}),qn=()=>({x:DM(),y:DM()});function Ds(e){return[e("x"),e("y")]}function dV({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Mle({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Lle(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function aS(e){return e===void 0||e===1}function pA({scale:e,scaleX:t,scaleY:r}){return!aS(e)||!aS(t)||!aS(r)}function uf(e){return pA(e)||fV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function fV(e){return RM(e.x)||RM(e.y)}function RM(e){return e&&e!=="0%"}function yw(e,t,r){const n=e-r,a=t*n;return r+a}function FM(e,t,r,n,a){return a!==void 0&&(e=yw(e,a,n)),yw(e,r,n)+t}function gA(e,t=0,r=1,n,a){e.min=FM(e.min,t,r,n,a),e.max=FM(e.max,t,r,n,a)}function hV(e,{x:t,y:r}){gA(e.x,t.translate,t.scale,t.originPoint),gA(e.y,r.translate,r.scale,r.originPoint)}const $M=.999999999999,BM=1.0000000000001;function Ile(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let s,o;for(let l=0;l<a;l++){s=r[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&xm(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,hV(e,o)),n&&uf(s.latestValues)&&xm(e,s.latestValues))}t.x<BM&&t.x>$M&&(t.x=1),t.y<BM&&t.y>$M&&(t.y=1)}function gm(e,t){e.min=e.min+t,e.max=e.max+t}function UM(e,t,r,n,a=.5){const s=_n(e.min,e.max,a);gA(e,t,r,s,n)}function xm(e,t){UM(e.x,t.x,t.scaleX,t.scale,t.originX),UM(e.y,t.y,t.scaleY,t.scale,t.originY)}function mV(e,t){return dV(Lle(e.getBoundingClientRect(),t))}function Dle(e,t,r){const n=mV(e,r),{scroll:a}=t;return a&&(gm(n.x,a.offset.x),gm(n.y,a.offset.y)),n}const pV=({current:e})=>e?e.ownerDocument.defaultView:null,Rle=new WeakMap;class Fle{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Xy(d).point)},s=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:g}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gle(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ds(v=>{let p=this.getAxisMotionValue(v).get()||0;if(Al.test(p)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[v];w&&(p=xs(w)*(parseFloat(p)/100))}}this.originPoint[v]=p}),g&&Zr.postRender(()=>g(d,f)),fA(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:g,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(m&&this.currentDirection===null){this.currentDirection=$le(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),x&&x(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Ds(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new oV(t,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:pV(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:s}=this.getProps();s&&Zr.postRender(()=>s(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!jb(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=Ale(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;r&&mm(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=kle(a.layoutBox,r):this.constraints=!1,this.elastic=Ole(n),s!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Ds(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Ele(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!mm(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=Dle(n,a.root,this.visualElement.getTransformPagePoint());let o=Cle(a.layout.layoutBox,s);if(r){const l=r(Mle(o));this.hasMutatedConstraints=!!l,l&&(o=dV(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ds(d=>{if(!jb(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=a?200:1e6,m=a?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return fA(this.visualElement,t),n.start(d3(t,n,0,r,this.visualElement,!1))}stopAnimation(){Ds(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ds(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ds(r=>{const{drag:n}=this.getProps();if(!jb(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];s.set(t[r]-_n(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!mm(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ds(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=Tle({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ds(o=>{if(!jb(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(_n(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;Rle.set(this.visualElement,this);const t=this.visualElement.current,r=sd(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();mm(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Zr.read(n);const o=yc(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ds(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:o=mA,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function jb(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function $le(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Ble extends Ad{constructor(t){super(t),this.removeGroupControls=da,this.removeListeners=da,this.controls=new Fle(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||da}unmount(){this.removeGroupControls(),this.removeListeners()}}const zM=e=>(t,r)=>{e&&Zr.postRender(()=>e(t,r))};class Ule extends Ad{constructor(){super(...arguments),this.removePointerDownListener=da}onPointerDown(t){this.session=new oV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:zM(t),onStart:zM(r),onMove:n,onEnd:(s,o)=>{delete this.session,a&&Zr.postRender(()=>a(s,o))}}}mount(){this.removePointerDownListener=sd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Pj=N.createContext(null);function zle(){const e=N.useContext(Pj);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,a=N.useId();N.useEffect(()=>n(a),[]);const s=N.useCallback(()=>r&&r(a),[a,r]);return!t&&r?[!1,s]:[!0]}const g3=N.createContext({}),gV=N.createContext({}),b1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function VM(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ux={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(It.test(e))e=parseFloat(e);else return e;const r=VM(e,t.target.x),n=VM(e,t.target.y);return`${r}% ${n}%`}},Vle={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=vd.parse(e);if(a.length>5)return n;const s=vd.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=_n(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),s(a)}},vw={};function qle(e){Object.assign(vw,e)}const{schedule:x3,cancel:_Be}=yz(queueMicrotask,!1);class Wle extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=t;qle(Hle),s&&(r.group&&r.group.add(s),n&&n.register&&a&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),b1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,a||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Zr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),x3.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function xV(e){const[t,r]=zle(),n=N.useContext(g3);return i.jsx(Wle,{...e,layoutGroup:n,switchLayoutGroup:N.useContext(gV),isPresent:t,safeToRemove:r})}const Hle={borderRadius:{...ux,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ux,borderTopRightRadius:ux,borderBottomLeftRadius:ux,borderBottomRightRadius:ux,boxShadow:Vle},yV=["TopLeft","TopRight","BottomLeft","BottomRight"],Kle=yV.length,qM=e=>typeof e=="string"?parseFloat(e):e,WM=e=>typeof e=="number"||It.test(e);function Gle(e,t,r,n,a,s){a?(e.opacity=_n(0,r.opacity!==void 0?r.opacity:1,Yle(n)),e.opacityExit=_n(t.opacity!==void 0?t.opacity:1,0,Xle(n))):s&&(e.opacity=_n(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<Kle;o++){const l=`border${yV[o]}Radius`;let c=HM(t,l),u=HM(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||WM(c)===WM(u)?(e[l]=Math.max(_n(qM(c),qM(u),n),0),(Al.test(u)||Al.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=_n(t.rotate||0,r.rotate||0,n))}function HM(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Yle=vV(0,.5,_z),Xle=vV(.5,.95,da);function vV(e,t,r){return n=>n<e?0:n>t?1:r(pp(e,t,n))}function KM(e,t){e.min=t.min,e.max=t.max}function Os(e,t){KM(e.x,t.x),KM(e.y,t.y)}function GM(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function YM(e,t,r,n,a){return e-=t,e=yw(e,1/r,n),a!==void 0&&(e=yw(e,1/a,n)),e}function Zle(e,t=0,r=1,n=.5,a,s=e,o=e){if(Al.test(t)&&(t=parseFloat(t),t=_n(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=_n(s.min,s.max,n);e===s&&(l-=t),e.min=YM(e.min,t,r,l,a),e.max=YM(e.max,t,r,l,a)}function XM(e,t,[r,n,a],s,o){Zle(e,t[r],t[n],t[a],t.scale,s,o)}const Qle=["x","scaleX","originX"],Jle=["y","scaleY","originY"];function ZM(e,t,r,n){XM(e.x,t,Qle,r?r.x:void 0,n?n.x:void 0),XM(e.y,t,Jle,r?r.y:void 0,n?n.y:void 0)}function QM(e){return e.translate===0&&e.scale===1}function bV(e){return QM(e.x)&&QM(e.y)}function JM(e,t){return e.min===t.min&&e.max===t.max}function ece(e,t){return JM(e.x,t.x)&&JM(e.y,t.y)}function eL(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function wV(e,t){return eL(e.x,t.x)&&eL(e.y,t.y)}function tL(e){return xs(e.x)/xs(e.y)}function rL(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class tce{constructor(){this.members=[]}add(t){f3(this.members,t),t.scheduleRender()}remove(t){if(h3(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rce(e,t,r){let n="";const a=e.x.translate/t.x,s=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||s||o)&&(n=`translate3d(${a}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:g}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),g&&(n+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const nce=(e,t)=>e.depth-t.depth;class ice{constructor(){this.children=[],this.isDirty=!1}add(t){f3(this.children,t),this.isDirty=!0}remove(t){h3(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(nce),this.isDirty=!1,this.children.forEach(t)}}function w1(e){const t=ua(e)?e.get():e;return Hoe(t)?t.toValue():t}function ace(e,t){const r=kl.now(),n=({timestamp:a})=>{const s=a-r;s>=t&&(yd(n),e(s-t))};return Zr.read(n,!0),()=>yd(n)}function sce(e){return e instanceof SVGElement&&e.tagName!=="svg"}function oce(e,t,r){const n=ua(e)?e:R0(e);return n.start(d3("",n,t,r)),n.animation}const df={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ix=typeof window<"u"&&window.MotionDebug!==void 0,sS=["","X","Y","Z"],lce={visibility:"hidden"},nL=1e3;let cce=0;function oS(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function jV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=rV(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Zr,!(a||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&jV(n)}function NV({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=cce++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ix&&(df.totalNodes=df.resolvedTargetDeltas=df.recalculatedProjection=0),this.nodes.forEach(fce),this.nodes.forEach(xce),this.nodes.forEach(yce),this.nodes.forEach(hce),Ix&&window.MotionDebug.record(df)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ice)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new m3),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sce(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=ace(h,250),b1.hasAnimatedSinceResize&&(b1.hasAnimatedSinceResize=!1,this.nodes.forEach(aL))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||Nce,{onLayoutAnimationStart:v,onLayoutAnimationComplete:p}=d.getProps(),y=!this.targetLayout||!wV(this.targetLayout,g)||m,w=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const j={...ZC(x,"layout"),onPlay:v,onComplete:p};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else h||aL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,yd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vce),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iL);return}this.isUpdating||this.nodes.forEach(pce),this.isUpdating=!1,this.nodes.forEach(gce),this.nodes.forEach(uce),this.nodes.forEach(dce),this.clearAllSnapshots();const l=kl.now();zi.delta=Uc(0,1e3/60,l-zi.timestamp),zi.timestamp=l,zi.isProcessing=!0,Q5.update.process(zi),Q5.preRender.process(zi),Q5.render.process(zi),zi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,x3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mce),this.sharedNodes.forEach(bce)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!bV(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||uf(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Sce(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return qn();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(_ce))){const{scroll:d}=this.root;d&&(gm(c.x,d.offset.x),gm(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=qn();if(Os(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Os(c,o),gm(c.x,f.offset.x),gm(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=qn();Os(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&xm(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),uf(d.latestValues)&&xm(c,d.latestValues)}return uf(this.latestValues)&&xm(c,this.latestValues),c}removeTransform(o){const l=qn();Os(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!uf(u.latestValues))continue;pA(u.latestValues)&&u.updateSnapshot();const d=qn(),f=u.measurePageBox();Os(d,f),ZM(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return uf(this.latestValues)&&ZM(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=zi.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qn(),this.relativeTargetOrigin=qn(),Jx(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=qn(),this.targetWithTransforms=qn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ple(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Os(this.target,this.layout.layoutBox),hV(this.target,this.targetDelta)):Os(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qn(),this.relativeTargetOrigin=qn(),Jx(this.relativeTargetOrigin,this.target,m.target),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ix&&df.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||pA(this.parent.latestValues)||fV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===zi.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Os(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Ile(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=qn());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(GM(this.prevProjectionDelta.x,this.projectionDelta.x),GM(this.prevProjectionDelta.y,this.projectionDelta.y)),Qx(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!rL(this.projectionDelta.x,this.prevProjectionDelta.x)||!rL(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Ix&&df.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pm(),this.projectionDelta=pm(),this.projectionDeltaWithTransform=pm()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=pm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=qn(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,x=m!==g,v=this.getStack(),p=!v||v.members.length<=1,y=!!(x&&!p&&this.options.crossfade===!0&&!this.path.some(jce));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const S=j/1e3;sL(f.x,o.x,S),sL(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jx(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wce(this.relativeTarget,this.relativeTargetOrigin,h,S),w&&ece(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=qn()),Os(w,this.relativeTarget)),x&&(this.animationValues=d,Gle(d,u,this.latestValues,S,y,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(yd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zr.update(()=>{b1.hasAnimatedSinceResize=!0,this.currentAnimation=oce(0,nL,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&SV(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||qn();const f=xs(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=xs(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Os(l,c),xm(l,d),Qx(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new tce),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&oS("z",o,u,this.animationValues);for(let d=0;d<sS.length;d++)oS(`rotate${sS[d]}`,o,u,this.animationValues),oS(`skew${sS[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lce;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=w1(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=w1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!uf(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=rce(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in vw){if(h[x]===void 0)continue;const{correct:v,applyTo:p}=vw[x],y=u.transform==="none"?h[x]:v(h[x],f);if(p){const w=p.length;for(let j=0;j<w;j++)u[p[j]]=y}else u[x]=y}return this.options.layoutId&&(u.pointerEvents=f===this?w1(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(iL),this.root.sharedNodes.clear()}}}function uce(e){e.updateLayout()}function dce(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:s}=e.options,o=r.source!==e.layout.source;s==="size"?Ds(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],m=xs(h);h.min=n[f].min,h.max=h.min+m}):SV(s,r.layoutBox,n)&&Ds(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],m=xs(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=pm();Qx(l,n,r.layoutBox);const c=pm();o?Qx(c,e.applyTransform(a,!0),r.measuredBox):Qx(c,n,r.layoutBox);const u=!bV(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=qn();Jx(g,r.layoutBox,h.layoutBox);const x=qn();Jx(x,n,m.layoutBox),wV(g,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function fce(e){Ix&&df.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function hce(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function mce(e){e.clearSnapshot()}function iL(e){e.clearMeasurements()}function pce(e){e.isLayoutDirty=!1}function gce(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function aL(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xce(e){e.resolveTargetDelta()}function yce(e){e.calcProjection()}function vce(e){e.resetSkewAndRotation()}function bce(e){e.removeLeadSnapshot()}function sL(e,t,r){e.translate=_n(t.translate,0,r),e.scale=_n(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function oL(e,t,r,n){e.min=_n(t.min,r.min,n),e.max=_n(t.max,r.max,n)}function wce(e,t,r,n){oL(e.x,t.x,r.x,n),oL(e.y,t.y,r.y,n)}function jce(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Nce={duration:.45,ease:[.4,0,.1,1]},lL=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),cL=lL("applewebkit/")&&!lL("chrome/")?Math.round:da;function uL(e){e.min=cL(e.min),e.max=cL(e.max)}function Sce(e){uL(e.x),uL(e.y)}function SV(e,t,r){return e==="position"||e==="preserve-aspect"&&!_le(tL(t),tL(r),.2)}function _ce(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Pce=NV({attachResizeListener:(e,t)=>yc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lS={current:void 0},_V=NV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!lS.current){const e=new Pce({});e.mount(window),e.setOptions({layoutScroll:!0}),lS.current=e}return lS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Ace={pan:{Feature:Ule},drag:{Feature:Ble,ProjectionNode:_V,MeasureLayout:xV}};function dL(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r);const a=n[r?"onHoverStart":"onHoverEnd"];a&&Zr.postRender(()=>a(t,Xy(t)))}class kce extends Ad{mount(){const{current:t,props:r}=this.node;t&&(this.unmount=ple(t,n=>(dL(this.node,n,!0),a=>dL(this.node,a,!1)),{passive:!r.onHoverStart&&!r.onHoverEnd}))}unmount(){}}class Cce extends Ad{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ad(yc(this.node.current,"focus",()=>this.onFocus()),yc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const PV=(e,t)=>t?e===t?!0:PV(e,t.parentElement):!1;function cS(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Xy(r))}class Tce extends Ad{constructor(){super(...arguments),this.removeStartListeners=da,this.removeEndListeners=da,this.removeAccessibleListeners=da,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),s=sd(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps(),h=!f&&!PV(this.node.current,l.target)?d:u;h&&Zr.update(()=>h(l,c))},{passive:!(n.onTap||n.onPointerUp)}),o=sd(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=ad(s,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||cS("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Zr.postRender(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=yc(this.node.current,"keyup",o),cS("down",(l,c)=>{this.startPress(l,c)})},r=yc(this.node.current,"keydown",t),n=()=>{this.isPressing&&cS("cancel",(s,o)=>this.cancelPress(s,o))},a=yc(this.node.current,"blur",n);this.removeAccessibleListeners=ad(r,a)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Zr.postRender(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!aV()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Zr.postRender(()=>n(t,r))}mount(){const t=this.node.getProps(),r=sd(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=yc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ad(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const xA=new WeakMap,uS=new WeakMap,Ece=e=>{const t=xA.get(e.target);t&&t(e)},Oce=e=>{e.forEach(Ece)};function Mce({root:e,...t}){const r=e||document;uS.has(r)||uS.set(r,{});const n=uS.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Oce,{root:e,...t})),n[a]}function Lce(e,t,r){const n=Mce(t);return xA.set(e,r),n.observe(e),()=>{xA.delete(e),n.unobserve(e)}}const Ice={some:0,all:1};class Dce extends Ad{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:s}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:Ice[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return Lce(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Rce(t,r))&&this.startObserver()}unmount(){}}function Rce({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Fce={inView:{Feature:Dce},tap:{Feature:Tce},focus:{Feature:Cce},hover:{Feature:kce}},$ce={layout:{ProjectionNode:_V,MeasureLayout:xV}},y3=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Aj=N.createContext({}),v3=typeof window<"u",AV=v3?N.useLayoutEffect:N.useEffect,kV=N.createContext({strict:!1});function Bce(e,t,r,n,a){var s,o;const{visualElement:l}=N.useContext(Aj),c=N.useContext(kV),u=N.useContext(Pj),d=N.useContext(y3).reducedMotion,f=N.useRef();n=n||c.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,m=N.useContext(gV);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&Uce(f.current,r,a,m);const g=N.useRef(!1);N.useInsertionEffect(()=>{h&&g.current&&h.update(r,u)});const x=r[tV],v=N.useRef(!!x&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,x))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,x)));return AV(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),x3.render(h.render),v.current&&h.animationState&&h.animationState.animateChanges())}),N.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)===null||p===void 0||p.call(window,x)}),v.current=!1))}),h}function Uce(e,t,r,n){const{layoutId:a,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:CV(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!o||l&&mm(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function CV(e){if(e)return e.options.allowProjection!==!1?e.projection:CV(e.parent)}function zce(e,t,r){return N.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):mm(r)&&(r.current=n))},[t])}function kj(e){return Nj(e.animate)||XC.some(t=>L0(e[t]))}function TV(e){return!!(kj(e)||e.variants)}function Vce(e,t){if(kj(e)){const{initial:r,animate:n}=e;return{initial:r===!1||L0(r)?r:void 0,animate:L0(n)?n:void 0}}return e.inherit!==!1?t:{}}function qce(e){const{initial:t,animate:r}=Vce(e,N.useContext(Aj));return N.useMemo(()=>({initial:t,animate:r}),[fL(t),fL(r)])}function fL(e){return Array.isArray(e)?e.join(" "):e}const hL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gp={};for(const e in hL)gp[e]={isEnabled:t=>hL[e].some(r=>!!t[r])};function Wce(e){for(const t in e)gp[t]={...gp[t],...e[t]}}const Hce=Symbol.for("motionComponentSymbol");function Kce({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&Wce(e);function s(l,c){let u;const d={...N.useContext(y3),...l,layoutId:Gce(l)},{isStatic:f}=d,h=qce(l),m=n(l,f);if(!f&&v3){Yce();const g=Xce(d);u=g.MeasureLayout,h.visualElement=Bce(a,m,d,t,g.ProjectionNode)}return i.jsxs(Aj.Provider,{value:h,children:[u&&h.visualElement?i.jsx(u,{visualElement:h.visualElement,...d}):null,r(a,l,zce(m,h.visualElement,c),m,f,h.visualElement)]})}const o=N.forwardRef(s);return o[Hce]=a,o}function Gce({layoutId:e}){const t=N.useContext(g3).id;return t&&e!==void 0?t+"-"+e:e}function Yce(e,t){N.useContext(kV).strict}function Xce(e){const{drag:t,layout:r}=gp;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Zce=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function b3(e){return typeof e!="string"||e.includes("-")?!1:!!(Zce.indexOf(e)>-1||/[A-Z]/u.test(e))}function EV(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const s in r)e.style.setProperty(s,r[s])}const OV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function MV(e,t,r,n){EV(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(OV.has(a)?a:p3(a),t.attrs[a])}function LV(e,{layout:t,layoutId:r}){return ph.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!vw[e]||e==="opacity")}function w3(e,t,r){var n;const{style:a}=e,s={};for(const o in a)(ua(a[o])||t.style&&ua(t.style[o])||LV(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[o]=a[o]);return s}function IV(e,t,r){const n=w3(e,t,r);for(const a in e)if(ua(e[a])||ua(t[a])){const s=Ky.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[s]=e[a]}return n}function j3(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}function Qce({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,a,s){const o={latestValues:Jce(n,a,s,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const DV=e=>(t,r)=>{const n=N.useContext(Aj),a=N.useContext(Pj),s=()=>Qce(e,t,n,a);return r?s():j3(s)};function Jce(e,t,r,n){const a={},s=n(e,{});for(const h in s)a[h]=w1(s[h]);let{initial:o,animate:l}=e;const c=kj(e),u=TV(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!Nj(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const g=GC(e,h[m]);if(g){const{transitionEnd:x,transition:v,...p}=g;for(const y in p){let w=p[y];if(Array.isArray(w)){const j=d?w.length-1:0;w=w[j]}w!==null&&(a[y]=w)}for(const y in x)a[y]=x[y]}}}return a}const N3=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),RV=()=>({...N3(),attrs:{}}),FV=(e,t)=>t&&typeof e=="number"?t.transform(e):e,eue={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tue=Ky.length;function rue(e,t,r){let n="",a=!0;for(let s=0;s<tue;s++){const o=Ky[s],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=FV(l,i3[o]);if(!c){a=!1;const d=eue[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function S3(e,t,r){const{style:n,vars:a,transformOrigin:s}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(ph.has(c)){o=!0;continue}else if(Tz(c)){a[c]=u;continue}else{const d=FV(u,i3[c]);c.startsWith("origin")?(l=!0,s[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=rue(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${c} ${u} ${d}`}}function mL(e,t,r){return typeof e=="string"?e:It.transform(t+r*e)}function nue(e,t,r){const n=mL(t,e.x,e.width),a=mL(r,e.y,e.height);return`${n} ${a}`}const iue={offset:"stroke-dashoffset",array:"stroke-dasharray"},aue={offset:"strokeDashoffset",array:"strokeDasharray"};function sue(e,t,r=1,n=0,a=!0){e.pathLength=1;const s=a?iue:aue;e[s.offset]=It.transform(-n);const o=It.transform(t),l=It.transform(r);e[s.array]=`${o} ${l}`}function _3(e,{attrX:t,attrY:r,attrScale:n,originX:a,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(S3(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:g}=e;h.transform&&(g&&(m.transform=h.transform),delete h.transform),g&&(a!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=nue(g,a!==void 0?a:.5,s!==void 0?s:.5)),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),o!==void 0&&sue(h,o,l,c,!1)}const P3=e=>typeof e=="string"&&e.toLowerCase()==="svg",oue={useVisualState:DV({scrapeMotionValuesFromProps:IV,createRenderState:RV,onMount:(e,t,{renderState:r,latestValues:n})=>{Zr.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Zr.render(()=>{_3(r,n,P3(t.tagName),e.transformTemplate),MV(t,r)})}})},lue={useVisualState:DV({scrapeMotionValuesFromProps:w3,createRenderState:N3})};function $V(e,t,r){for(const n in t)!ua(t[n])&&!LV(n,r)&&(e[n]=t[n])}function cue({transformTemplate:e},t){return N.useMemo(()=>{const r=N3();return S3(r,t,e),Object.assign({},r.vars,r.style)},[t])}function uue(e,t){const r=e.style||{},n={};return $V(n,r,e),Object.assign(n,cue(e,t)),n}function due(e,t){const r={},n=uue(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const fue=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bw(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||fue.has(e)}let BV=e=>!bw(e);function hue(e){e&&(BV=t=>t.startsWith("on")?!bw(t):e(t))}try{hue(require("@emotion/is-prop-valid").default)}catch{}function mue(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(BV(a)||r===!0&&bw(a)||!t&&!bw(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function pue(e,t,r,n){const a=N.useMemo(()=>{const s=RV();return _3(s,t,P3(n),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};$V(s,e.style,e),a.style={...s,...a.style}}return a}function gue(e=!1){return(r,n,a,{latestValues:s},o)=>{const c=(b3(r)?pue:due)(n,s,o,r),u=mue(n,typeof r=="string",e),d=r!==N.Fragment?{...u,...c,ref:a}:{},{children:f}=n,h=N.useMemo(()=>ua(f)?f.get():f,[f]);return N.createElement(r,{...d,children:h})}}function xue(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...b3(n)?oue:lue,preloadedFeatures:e,useRender:gue(a),createVisualElement:t,Component:n};return Kce(o)}}const yA={current:null},UV={current:!1};function yue(){if(UV.current=!0,!!v3)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>yA.current=e.matches;e.addListener(t),t()}else yA.current=!1}function vue(e,t,r){for(const n in t){const a=t[n],s=r[n];if(ua(a))e.addValue(n,a);else if(ua(s))e.addValue(n,R0(a,{owner:e}));else if(s!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,R0(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const pL=new WeakMap,bue=[...Mz,ia,vd],wue=e=>bue.find(Oz(e)),gL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jue{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=t3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=kl.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Zr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=kj(r),this.isVariantNode=TV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&ua(m)&&m.set(c[h],!1)}}mount(t){this.current=t,pL.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),UV.current||yue(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){pL.delete(this.current),this.projection&&this.projection.unmount(),yd(this.notifyUpdate),yd(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ph.has(t),a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Zr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),s(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in gp){const r=gp[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<gL.length;n++){const a=gL[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,o=t[s];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=vue(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=R0(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(kz(a)||Az(a))?a=parseFloat(a):!wue(a)&&vd.test(r)&&(a=Uz(t,r)),this.setBaseTarget(t,ua(a)?a.get():a)),ua(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const o=GC(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(a=o[t])}if(n&&a!==void 0)return a;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ua(s)?s:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new m3),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class zV extends jue{constructor(){super(...arguments),this.KeyframeResolver=zz}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ua(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Nue(e){return window.getComputedStyle(e)}class Sue extends zV{constructor(){super(...arguments),this.type="html",this.renderInstance=EV}readValueFromInstance(t,r){if(ph.has(r)){const n=a3(r);return n&&n.default||0}else{const n=Nue(t),a=(Tz(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return mV(t,r)}build(t,r,n){S3(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return w3(t,r,n)}}class _ue extends zV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ph.has(r)){const n=a3(r);return n&&n.default||0}return r=OV.has(r)?r:p3(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return IV(t,r,n)}build(t,r,n){_3(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,a){MV(t,r,n,a)}mount(t){this.isSVGTag=P3(t.tagName),super.mount(t)}}const Pue=(e,t)=>b3(e)?new _ue(t):new Sue(t,{allowProjection:e!==N.Fragment}),Aue=xue({...hle,...Fce,...Ace,...$ce},Pue),X=dse(Aue);class kue extends N.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Cue({children:e,isPresent:t}){const r=N.useId(),n=N.useRef(null),a=N.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=N.useContext(y3);return N.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=a.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),i.jsx(kue,{isPresent:t,childRef:n,sizeRef:a,children:N.cloneElement(e,{ref:n})})}const Tue=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:o})=>{const l=j3(Eue),c=N.useId(),u=N.useCallback(f=>{l.set(f,!0);for(const h of l.values())if(!h)return;n&&n()},[l,n]),d=N.useMemo(()=>({id:c,initial:t,isPresent:r,custom:a,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),s?[Math.random(),u]:[r,u]);return N.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[r]),N.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=i.jsx(Cue,{isPresent:r,children:e})),i.jsx(Pj.Provider,{value:d,children:e})};function Eue(){return new Map}const Nb=e=>e.key||"";function xL(e){const t=[];return N.Children.forEach(e,r=>{N.isValidElement(r)&&t.push(r)}),t}const gh=({children:e,exitBeforeEnter:t,custom:r,initial:n=!0,onExitComplete:a,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const l=N.useMemo(()=>xL(e),[e]),c=l.map(Nb),u=N.useRef(!0),d=N.useRef(l),f=j3(()=>new Map),[h,m]=N.useState(l),[g,x]=N.useState(l);AV(()=>{u.current=!1,d.current=l;for(let y=0;y<g.length;y++){const w=Nb(g[y]);c.includes(w)?f.delete(w):f.get(w)!==!0&&f.set(w,!1)}},[g,c.length,c.join("-")]);const v=[];if(l!==h){let y=[...l];for(let w=0;w<g.length;w++){const j=g[w],S=Nb(j);c.includes(S)||(y.splice(w,0,j),v.push(j))}o==="wait"&&v.length&&(y=v),x(xL(y)),m(l);return}const{forceRender:p}=N.useContext(g3);return i.jsx(i.Fragment,{children:g.map(y=>{const w=Nb(y),j=l===g||c.includes(w),S=()=>{if(f.has(w))f.set(w,!0);else return;let P=!0;f.forEach(A=>{A||(P=!1)}),P&&(p==null||p(),x(d.current),a&&a())};return i.jsx(Tue,{isPresent:j,initial:!u.current||n?void 0:!1,custom:j?void 0:r,presenceAffectsLayout:s,mode:o,onExitComplete:j?void 0:S,children:y},w)})})},Oue=zy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=N.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const o=n?qB:"button";return i.jsx(o,{className:_t(Oue({variant:t,size:r,className:e})),ref:s,...a})});re.displayName="Button";function Mue(){const[,e]=Gt();return i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 elevation-1 sticky top-0 z-40",children:i.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:i.jsx(E0,{className:"w-5 h-5"})}),i.jsx("div",{children:i.jsx("h1",{className:"text-xl font-bold",children:"Page Not Found"})})]}),i.jsxs(re,{onClick:()=>e("/dashboard"),className:"hidden sm:flex gap-2",children:[i.jsx(zO,{className:"w-4 h-4"}),"Dashboard"]})]})}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12 md:py-24",children:i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx(X.div,{animate:{y:[0,-10,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"text-8xl md:text-9xl font-bold bg-gradient-to-br from-primary via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"404"}),i.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:"Page Not Found"}),i.jsx("p",{className:"text-lg text-muted-foreground max-w-md mx-auto",children:"Sorry, we couldn't find the page you're looking for. It might have been moved or doesn't exist."})]}),i.jsx(X.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"flex justify-center py-8",children:i.jsx("div",{className:"w-32 h-32 md:w-48 md:h-48 rounded-full bg-gradient-to-br from-primary/10 to-purple-500/10 flex items-center justify-center",children:i.jsx(yU,{className:"w-16 h-16 md:w-24 md:h-24 text-primary opacity-50"})})}),i.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"flex flex-col sm:flex-row gap-3 justify-center pt-8",children:[i.jsxs(re,{onClick:()=>e("/dashboard"),className:"gap-2 h-11 px-6",size:"lg",children:[i.jsx(zO,{className:"w-5 h-5"}),"Go to Dashboard"]}),i.jsxs(re,{onClick:()=>e("/"),variant:"outline",className:"gap-2 h-11 px-6",size:"lg",children:[i.jsx(E0,{className:"w-5 h-5"}),"Go Home"]})]}),i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"pt-12 border-t border-border",children:[i.jsx("p",{className:"text-sm font-semibold text-muted-foreground mb-4",children:"Quick Links"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 max-w-2xl mx-auto",children:[{label:"Transactions",path:"/transactions"},{label:"Send Money",path:"/send-money"},{label:"Cards",path:"/cards"},{label:"Settings",path:"/settings"}].map((t,r)=>i.jsx(X.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5+r*.1},onClick:()=>e(t.path),className:"px-4 py-2 rounded-lg bg-muted hover:bg-muted/80 text-sm font-medium transition-colors",children:t.label},t.path))})]}),i.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-xs text-muted-foreground pt-6",children:i.jsx("p",{children:"If you think this is a mistake, please contact support"})})]})})]})}const Sb=[{id:1,title:"Send Money Instantly",description:"Send money to Kenya and Africa with just a few taps. Fast, secure, and affordable.",icon:i.jsx(Hi,{className:"w-24 h-24"}),gradient:"from-emerald-500 to-green-600"},{id:2,title:"Virtual Cards",description:"Get instant virtual Mastercard for online shopping worldwide. No waiting.",icon:i.jsx(Ks,{className:"w-24 h-24"}),gradient:"from-blue-500 to-cyan-600"},{id:3,title:"Best Exchange Rates",description:"Real-time rates with no hidden fees. Get more value for your money.",icon:i.jsx(Wy,{className:"w-24 h-24"}),gradient:"from-purple-500 to-pink-600"},{id:4,title:"Bank-Level Security",description:"Your money is protected with military-grade encryption and biometric login.",icon:i.jsx(_a,{className:"w-24 h-24"}),gradient:"from-orange-500 to-red-600"}];function Lue(){const[,e]=Gt(),[t,r]=N.useState(0),n=()=>{try{localStorage.clear(),sessionStorage.clear();const c=document.cookie.split(";");for(let u=0;u<c.length;u++){const d=c[u],f=d.indexOf("="),h=f>-1?d.substr(0,f):d;document.cookie=h+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/"}}catch(c){console.error("Error clearing storage:",c)}t<Sb.length-1?r(t+1):setTimeout(()=>{e("/signup")},100)},a=()=>{e("/login")},s=()=>{t>0&&r(t-1)},o={enter:c=>({x:c>0?1e3:-1e3,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:c=>({zIndex:0,x:c<0?1e3:-1e3,opacity:0})},l=Sb[t];return i.jsxs("div",{className:"fixed inset-0 w-screen h-screen bg-gradient-to-br from-gray-900 to-black flex flex-col relative overflow-hidden",style:{top:0,left:0,right:0,bottom:0},children:[i.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[i.jsx(X.div,{className:"absolute top-20 right-10 w-96 h-96 bg-emerald-500 rounded-full opacity-10 blur-3xl",animate:{x:[0,100,0],y:[0,50,0]},transition:{duration:15,repeat:1/0}}),i.jsx(X.div,{className:"absolute -bottom-10 -left-20 w-96 h-96 bg-green-500 rounded-full opacity-10 blur-3xl",animate:{x:[0,-100,0],y:[0,-50,0]},transition:{duration:18,repeat:1/0}})]}),i.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:"relative z-10",children:[i.jsxs("svg",{className:"w-full",viewBox:"-50 0 1380 130",preserveAspectRatio:"none",style:{height:"140px",overflow:"visible"},children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"waveGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[i.jsx("stop",{offset:"0%",style:{stopColor:"#4CAF50",stopOpacity:1}}),i.jsx("stop",{offset:"100%",style:{stopColor:"#45a049",stopOpacity:.3}})]})}),i.jsx("path",{d:"M-50,60 Q315,0 665,60 T1365,60 L1365,0 L-50,0 Z",fill:"#4CAF50"}),i.jsx("path",{d:"M-50,80 Q315,40 665,80 T1365,80 Q1035,120 665,100 Q295,80 -50,100 Z",fill:"rgba(76, 175, 80, 0.4)",opacity:"0.6"}),i.jsx("path",{d:"M-50,120 Q315,90 665,120 T1365,120",stroke:"#4CAF50",strokeWidth:"2",fill:"none",opacity:"0.5"})]}),i.jsx("div",{className:"absolute top-0 right-6 flex items-center justify-end px-6 py-6 h-24",children:i.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:a,className:"text-white hover:text-gray-200 transition-colors text-sm font-medium drop-shadow-md",children:"Skip"})})]}),i.jsx("div",{className:"flex-1 flex flex-col items-center justify-center px-6 relative z-10 overflow-hidden pt-0 mt-0",children:i.jsx(gh,{mode:"wait",custom:1,children:i.jsxs(X.div,{custom:1,variants:o,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.4}},className:"w-full max-w-2xl flex flex-col items-center justify-center",children:[i.jsx(X.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1,duration:.5},className:`bg-gradient-to-br ${l.gradient} p-8 rounded-3xl mb-8 text-white shadow-2xl`,children:l.icon}),i.jsx(X.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},className:"text-4xl md:text-5xl font-bold text-white text-center mb-4",children:l.title}),i.jsx(X.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.5},className:"text-gray-300 text-center text-base md:text-lg leading-relaxed max-w-xl",children:l.description})]},t)})}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex gap-2 justify-center py-4 relative z-10",children:Sb.map((c,u)=>i.jsx(X.button,{onClick:()=>r(u),className:`h-3 rounded-full transition-all duration-300 ${u===t?"bg-emerald-500 w-8":"bg-gray-700 w-3"}`,whileHover:{scale:1.2}},u))}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"px-6 py-4 space-y-2 relative z-10",children:i.jsxs("div",{className:"flex gap-3",children:[t>0&&i.jsx(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:s,className:"flex-1 bg-gray-800 hover:bg-gray-700 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:"Back"}),i.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:n,className:"flex-1 bg-gradient-to-r from-emerald-500 to-green-500 hover:from-emerald-600 hover:to-green-600 text-white font-semibold py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all shadow-lg",children:[i.jsx("span",{children:t===Sb.length-1?"Get Started":"Next"}),i.jsx(x1,{className:"w-5 h-5"})]})]})})]})}var Zy=e=>e.type==="checkbox",_f=e=>e instanceof Date,ba=e=>e==null;const VV=e=>typeof e=="object";var Jn=e=>!ba(e)&&!Array.isArray(e)&&VV(e)&&!_f(e),qV=e=>Jn(e)&&e.target?Zy(e.target)?e.target.checked:e.target.value:e,Iue=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,WV=(e,t)=>e.has(Iue(t)),Due=e=>{const t=e.constructor&&e.constructor.prototype;return Jn(t)&&t.hasOwnProperty("isPrototypeOf")},A3=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Fi(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(A3&&(e instanceof Blob||n))&&(r||Jn(e)))if(t=r?[]:{},!r&&!Due(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Fi(e[a]));else return e;return t}var Cj=e=>Array.isArray(e)?e.filter(Boolean):[],Wn=e=>e===void 0,it=(e,t,r)=>{if(!t||!Jn(e))return r;const n=Cj(t.split(/[,[\].]+?/)).reduce((a,s)=>ba(a)?a:a[s],e);return Wn(n)||n===e?Wn(e[t])?r:e[t]:n},ss=e=>typeof e=="boolean",k3=e=>/^\w*$/.test(e),HV=e=>Cj(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Rr=(e,t,r)=>{let n=-1;const a=k3(t)?[t]:HV(t),s=a.length,o=s-1;for(;++n<s;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Jn(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const ww={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Oo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},sc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},KV=se.createContext(null),Tj=()=>se.useContext(KV),Rue=e=>{const{children:t,...r}=e;return se.createElement(KV.Provider,{value:r},t)};var GV=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const o=s;return t._proxyFormState[o]!==Oo.all&&(t._proxyFormState[o]=!n||Oo.all),r&&(r[o]=!0),e[o]}});return a};function Fue(e){const t=Tj(),{control:r=t.control,disabled:n,name:a,exact:s}=e||{},[o,l]=se.useState(r._formState),c=se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=se.useRef(a);return u.current=a,se.useEffect(()=>r._subscribe({name:u.current,formState:c.current,exact:s,callback:d=>{!n&&l({...r._formState,...d})}}),[r,n,s]),se.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),se.useMemo(()=>GV(o,r,c.current,!1),[o,r])}var yl=e=>typeof e=="string",YV=(e,t,r,n,a)=>yl(e)?(n&&t.watch.add(e),it(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),it(r,s))):(n&&(t.watchAll=!0),r);function $ue(e){const t=Tj(),{control:r=t.control,name:n,defaultValue:a,disabled:s,exact:o}=e||{},l=se.useRef(n),c=se.useRef(a);l.current=n,se.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!s&&d(YV(l.current,r._names,f.values||r._formValues,!1,c.current))}),[r,s,o]);const[u,d]=se.useState(r._getWatch(n,a));return se.useEffect(()=>r._removeUnmounted()),u}function Bue(e){const t=Tj(),{name:r,disabled:n,control:a=t.control,shouldUnregister:s}=e,o=WV(a._names.array,r),l=$ue({control:a,name:r,defaultValue:it(a._formValues,r,it(a._defaultValues,r,e.defaultValue)),exact:!0}),c=Fue({control:a,name:r,exact:!0}),u=se.useRef(e),d=se.useRef(a.register(r,{...e.rules,value:l,...ss(e.disabled)?{disabled:e.disabled}:{}})),f=se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!it(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!it(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!it(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!it(c.validatingFields,r)},error:{enumerable:!0,get:()=>it(c.errors,r)}}),[c,r]),h=se.useCallback(v=>d.current.onChange({target:{value:qV(v),name:r},type:ww.CHANGE}),[r]),m=se.useCallback(()=>d.current.onBlur({target:{value:it(a._formValues,r),name:r},type:ww.BLUR}),[r,a._formValues]),g=se.useCallback(v=>{const p=it(a._fields,r);p&&v&&(p._f.ref={focus:()=>v.focus(),select:()=>v.select(),setCustomValidity:y=>v.setCustomValidity(y),reportValidity:()=>v.reportValidity()})},[a._fields,r]),x=se.useMemo(()=>({name:r,value:l,...ss(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:h,onBlur:m,ref:g}),[r,n,c.disabled,h,m,g,l]);return se.useEffect(()=>{const v=a._options.shouldUnregister||s;a.register(r,{...u.current.rules,...ss(u.current.disabled)?{disabled:u.current.disabled}:{}});const p=(y,w)=>{const j=it(a._fields,y);j&&j._f&&(j._f.mount=w)};if(p(r,!0),v){const y=Fi(it(a._options.defaultValues,r));Rr(a._defaultValues,r,y),Wn(it(a._formValues,r))&&Rr(a._formValues,r,y)}return!o&&a.register(r),()=>{(o?v&&!a._state.action:v)?a.unregister(r):p(r,!1)}},[r,a,o,s]),se.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),se.useMemo(()=>({field:x,formState:c,fieldState:f}),[x,c,f])}const Uue=e=>e.render(Bue(e));var XV=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},e0=e=>Array.isArray(e)?e:[e],yL=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}},vA=e=>ba(e)||!VV(e);function Ou(e,t){if(vA(e)||vA(t))return e===t;if(_f(e)&&_f(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const s=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=t[a];if(_f(s)&&_f(o)||Jn(s)&&Jn(o)||Array.isArray(s)&&Array.isArray(o)?!Ou(s,o):s!==o)return!1}}return!0}var ya=e=>Jn(e)&&!Object.keys(e).length,C3=e=>e.type==="file",Mo=e=>typeof e=="function",jw=e=>{if(!A3)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ZV=e=>e.type==="select-multiple",T3=e=>e.type==="radio",zue=e=>T3(e)||Zy(e),dS=e=>jw(e)&&e.isConnected;function Vue(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Wn(e)?n++:e[t[n++]];return e}function que(e){for(const t in e)if(e.hasOwnProperty(t)&&!Wn(e[t]))return!1;return!0}function pi(e,t){const r=Array.isArray(t)?t:k3(t)?[t]:HV(t),n=r.length===1?e:Vue(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(Jn(n)&&ya(n)||Array.isArray(n)&&que(n))&&pi(e,r.slice(0,-1)),e}var QV=e=>{for(const t in e)if(Mo(e[t]))return!0;return!1};function Nw(e,t={}){const r=Array.isArray(e);if(Jn(e)||r)for(const n in e)Array.isArray(e[n])||Jn(e[n])&&!QV(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Nw(e[n],t[n])):ba(e[n])||(t[n]=!0);return t}function JV(e,t,r){const n=Array.isArray(e);if(Jn(e)||n)for(const a in e)Array.isArray(e[a])||Jn(e[a])&&!QV(e[a])?Wn(t)||vA(r[a])?r[a]=Array.isArray(e[a])?Nw(e[a],[]):{...Nw(e[a])}:JV(e[a],ba(t)?{}:t[a],r[a]):r[a]=!Ou(e[a],t[a]);return r}var dx=(e,t)=>JV(e,t,Nw(t));const vL={value:!1,isValid:!1},bL={value:!0,isValid:!0};var eq=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Wn(e[0].attributes.value)?Wn(e[0].value)||e[0].value===""?bL:{value:e[0].value,isValid:!0}:bL:vL}return vL},tq=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Wn(e)?e:t?e===""?NaN:e&&+e:r&&yl(e)?new Date(e):n?n(e):e;const wL={isValid:!1,value:null};var rq=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,wL):wL;function jL(e){const t=e.ref;return C3(t)?t.files:T3(t)?rq(e.refs).value:ZV(t)?[...t.selectedOptions].map(({value:r})=>r):Zy(t)?eq(e.refs).value:tq(Wn(t.value)?e.ref.value:t.value,e)}var Wue=(e,t,r,n)=>{const a={};for(const s of e){const o=it(t,s);o&&Rr(a,s,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Sw=e=>e instanceof RegExp,fx=e=>Wn(e)?e:Sw(e)?e.source:Jn(e)?Sw(e.value)?e.value.source:e.value:e,NL=e=>({isOnSubmit:!e||e===Oo.onSubmit,isOnBlur:e===Oo.onBlur,isOnChange:e===Oo.onChange,isOnAll:e===Oo.all,isOnTouch:e===Oo.onTouched});const SL="AsyncFunction";var Hue=e=>!!e&&!!e.validate&&!!(Mo(e.validate)&&e.validate.constructor.name===SL||Jn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===SL)),Kue=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),_L=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const t0=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=it(e,a);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(t0(l,t))break}else if(Jn(l)&&t0(l,t))break}}};function PL(e,t,r){const n=it(e,r);if(n||k3(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),o=it(t,s),l=it(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};a.pop()}return{name:r}}var Gue=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return ya(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||Oo.all))},Yue=(e,t,r)=>!e||!t||e===t||e0(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Xue=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,Zue=(e,t)=>!Cj(it(e,t)).length&&pi(e,t),Que=(e,t,r)=>{const n=e0(it(e,r));return Rr(n,"root",t[r]),Rr(e,r,n),e},j1=e=>yl(e);function AL(e,t,r="validate"){if(j1(e)||Array.isArray(e)&&e.every(j1)||ss(e)&&!e)return{type:r,message:j1(e)?e:"",ref:t}}var $h=e=>Jn(e)&&!Sw(e)?e:{value:e,message:""},kL=async(e,t,r,n,a,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:x,valueAsNumber:v,mount:p}=e._f,y=it(r,x);if(!p||t.has(x))return{};const w=l?l[0]:o,j=k=>{a&&w.reportValidity&&(w.setCustomValidity(ss(k)?"":k||""),w.reportValidity())},S={},P=T3(o),A=Zy(o),C=P||A,O=(v||C3(o))&&Wn(o.value)&&Wn(y)||jw(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,D=XV.bind(null,x,n,S),E=(k,R,L,H=sc.maxLength,F=sc.minLength)=>{const V=k?R:L;S[x]={type:k?H:F,message:V,ref:o,...D(k?H:F,V)}};if(s?!Array.isArray(y)||!y.length:c&&(!C&&(O||ba(y))||ss(y)&&!y||A&&!eq(l).isValid||P&&!rq(l).isValid)){const{value:k,message:R}=j1(c)?{value:!!c,message:c}:$h(c);if(k&&(S[x]={type:sc.required,message:R,ref:w,...D(sc.required,R)},!n))return j(R),S}if(!O&&(!ba(f)||!ba(h))){let k,R;const L=$h(h),H=$h(f);if(!ba(y)&&!isNaN(y)){const F=o.valueAsNumber||y&&+y;ba(L.value)||(k=F>L.value),ba(H.value)||(R=F<H.value)}else{const F=o.valueAsDate||new Date(y),V=le=>new Date(new Date().toDateString()+" "+le),B=o.type=="time",G=o.type=="week";yl(L.value)&&y&&(k=B?V(y)>V(L.value):G?y>L.value:F>new Date(L.value)),yl(H.value)&&y&&(R=B?V(y)<V(H.value):G?y<H.value:F<new Date(H.value))}if((k||R)&&(E(!!k,L.message,H.message,sc.max,sc.min),!n))return j(S[x].message),S}if((u||d)&&!O&&(yl(y)||s&&Array.isArray(y))){const k=$h(u),R=$h(d),L=!ba(k.value)&&y.length>+k.value,H=!ba(R.value)&&y.length<+R.value;if((L||H)&&(E(L,k.message,R.message),!n))return j(S[x].message),S}if(m&&!O&&yl(y)){const{value:k,message:R}=$h(m);if(Sw(k)&&!y.match(k)&&(S[x]={type:sc.pattern,message:R,ref:o,...D(sc.pattern,R)},!n))return j(R),S}if(g){if(Mo(g)){const k=await g(y,r),R=AL(k,w);if(R&&(S[x]={...R,...D(sc.validate,R.message)},!n))return j(R.message),S}else if(Jn(g)){let k={};for(const R in g){if(!ya(k)&&!n)break;const L=AL(await g[R](y,r),w,R);L&&(k={...L,...D(R,L.message)},j(L.message),n&&(S[x]=k))}if(!ya(k)&&(S[x]={ref:w,...k},!n))return S}}return j(!0),S};const Jue={mode:Oo.onSubmit,reValidateMode:Oo.onChange,shouldFocusError:!0};function ede(e={}){let t={...Jue,...e},r={submitCount:0,isDirty:!1,isLoading:Mo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a=Jn(t.defaultValues)||Jn(t.values)?Fi(t.values||t.defaultValues)||{}:{},s=t.shouldUnregister?{}:Fi(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:yL(),state:yL()},m=NL(t.mode),g=NL(t.reValidateMode),x=t.criteriaMode===Oo.all,v=ie=>me=>{clearTimeout(u),u=setTimeout(ie,me)},p=async ie=>{if(!t.disabled&&(d.isValid||f.isValid||ie)){const me=t.resolver?ya((await O()).errors):await E(n,!0);me!==r.isValid&&h.state.next({isValid:me})}},y=(ie,me)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((ie||Array.from(l.mount)).forEach(Pe=>{Pe&&(me?Rr(r.validatingFields,Pe,me):pi(r.validatingFields,Pe))}),h.state.next({validatingFields:r.validatingFields,isValidating:!ya(r.validatingFields)}))},w=(ie,me=[],Pe,Fe,Me=!0,Re=!0)=>{if(Fe&&Pe&&!t.disabled){if(o.action=!0,Re&&Array.isArray(it(n,ie))){const Ue=Pe(it(n,ie),Fe.argA,Fe.argB);Me&&Rr(n,ie,Ue)}if(Re&&Array.isArray(it(r.errors,ie))){const Ue=Pe(it(r.errors,ie),Fe.argA,Fe.argB);Me&&Rr(r.errors,ie,Ue),Zue(r.errors,ie)}if((d.touchedFields||f.touchedFields)&&Re&&Array.isArray(it(r.touchedFields,ie))){const Ue=Pe(it(r.touchedFields,ie),Fe.argA,Fe.argB);Me&&Rr(r.touchedFields,ie,Ue)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=dx(a,s)),h.state.next({name:ie,isDirty:R(ie,me),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Rr(s,ie,me)},j=(ie,me)=>{Rr(r.errors,ie,me),h.state.next({errors:r.errors})},S=ie=>{r.errors=ie,h.state.next({errors:r.errors,isValid:!1})},P=(ie,me,Pe,Fe)=>{const Me=it(n,ie);if(Me){const Re=it(s,ie,Wn(Pe)?it(a,ie):Pe);Wn(Re)||Fe&&Fe.defaultChecked||me?Rr(s,ie,me?Re:jL(Me._f)):F(ie,Re),o.mount&&p()}},A=(ie,me,Pe,Fe,Me)=>{let Re=!1,Ue=!1;const he={name:ie};if(!t.disabled){if(!Pe||Fe){(d.isDirty||f.isDirty)&&(Ue=r.isDirty,r.isDirty=he.isDirty=R(),Re=Ue!==he.isDirty);const ze=Ou(it(a,ie),me);Ue=!!it(r.dirtyFields,ie),ze?pi(r.dirtyFields,ie):Rr(r.dirtyFields,ie,!0),he.dirtyFields=r.dirtyFields,Re=Re||(d.dirtyFields||f.dirtyFields)&&Ue!==!ze}if(Pe){const ze=it(r.touchedFields,ie);ze||(Rr(r.touchedFields,ie,Pe),he.touchedFields=r.touchedFields,Re=Re||(d.touchedFields||f.touchedFields)&&ze!==Pe)}Re&&Me&&h.state.next(he)}return Re?he:{}},C=(ie,me,Pe,Fe)=>{const Me=it(r.errors,ie),Re=(d.isValid||f.isValid)&&ss(me)&&r.isValid!==me;if(t.delayError&&Pe?(c=v(()=>j(ie,Pe)),c(t.delayError)):(clearTimeout(u),c=null,Pe?Rr(r.errors,ie,Pe):pi(r.errors,ie)),(Pe?!Ou(Me,Pe):Me)||!ya(Fe)||Re){const Ue={...Fe,...Re&&ss(me)?{isValid:me}:{},errors:r.errors,name:ie};r={...r,...Ue},h.state.next(Ue)}},O=async ie=>{y(ie,!0);const me=await t.resolver(s,t.context,Wue(ie||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(ie),me},D=async ie=>{const{errors:me}=await O(ie);if(ie)for(const Pe of ie){const Fe=it(me,Pe);Fe?Rr(r.errors,Pe,Fe):pi(r.errors,Pe)}else r.errors=me;return me},E=async(ie,me,Pe={valid:!0})=>{for(const Fe in ie){const Me=ie[Fe];if(Me){const{_f:Re,...Ue}=Me;if(Re){const he=l.array.has(Re.name),ze=Me._f&&Hue(Me._f);ze&&d.validatingFields&&y([Fe],!0);const Ye=await kL(Me,l.disabled,s,x,t.shouldUseNativeValidation&&!me,he);if(ze&&d.validatingFields&&y([Fe]),Ye[Re.name]&&(Pe.valid=!1,me))break;!me&&(it(Ye,Re.name)?he?Que(r.errors,Ye,Re.name):Rr(r.errors,Re.name,Ye[Re.name]):pi(r.errors,Re.name))}!ya(Ue)&&await E(Ue,me,Pe)}}return Pe.valid},k=()=>{for(const ie of l.unMount){const me=it(n,ie);me&&(me._f.refs?me._f.refs.every(Pe=>!dS(Pe)):!dS(me._f.ref))&&oe(ie)}l.unMount=new Set},R=(ie,me)=>!t.disabled&&(ie&&me&&Rr(s,ie,me),!Ou($(),a)),L=(ie,me,Pe)=>YV(ie,l,{...o.mount?s:Wn(me)?a:yl(ie)?{[ie]:me}:me},Pe,me),H=ie=>Cj(it(o.mount?s:a,ie,t.shouldUnregister?it(a,ie,[]):[])),F=(ie,me,Pe={})=>{const Fe=it(n,ie);let Me=me;if(Fe){const Re=Fe._f;Re&&(!Re.disabled&&Rr(s,ie,tq(me,Re)),Me=jw(Re.ref)&&ba(me)?"":me,ZV(Re.ref)?[...Re.ref.options].forEach(Ue=>Ue.selected=Me.includes(Ue.value)):Re.refs?Zy(Re.ref)?Re.refs.length>1?Re.refs.forEach(Ue=>(!Ue.defaultChecked||!Ue.disabled)&&(Ue.checked=Array.isArray(Me)?!!Me.find(he=>he===Ue.value):Me===Ue.value)):Re.refs[0]&&(Re.refs[0].checked=!!Me):Re.refs.forEach(Ue=>Ue.checked=Ue.value===Me):C3(Re.ref)?Re.ref.value="":(Re.ref.value=Me,Re.ref.type||h.state.next({name:ie,values:Fi(s)})))}(Pe.shouldDirty||Pe.shouldTouch)&&A(ie,Me,Pe.shouldTouch,Pe.shouldDirty,!0),Pe.shouldValidate&&fe(ie)},V=(ie,me,Pe)=>{for(const Fe in me){const Me=me[Fe],Re=`${ie}.${Fe}`,Ue=it(n,Re);(l.array.has(ie)||Jn(Me)||Ue&&!Ue._f)&&!_f(Me)?V(Re,Me,Pe):F(Re,Me,Pe)}},B=(ie,me,Pe={})=>{const Fe=it(n,ie),Me=l.array.has(ie),Re=Fi(me);Rr(s,ie,Re),Me?(h.array.next({name:ie,values:Fi(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Pe.shouldDirty&&h.state.next({name:ie,dirtyFields:dx(a,s),isDirty:R(ie,Re)})):Fe&&!Fe._f&&!ba(Re)?V(ie,Re,Pe):F(ie,Re,Pe),_L(ie,l)&&h.state.next({...r}),h.state.next({name:o.mount?ie:void 0,values:Fi(s)})},G=async ie=>{o.mount=!0;const me=ie.target;let Pe=me.name,Fe=!0;const Me=it(n,Pe),Re=Ue=>{Fe=Number.isNaN(Ue)||_f(Ue)&&isNaN(Ue.getTime())||Ou(Ue,it(s,Pe,Ue))};if(Me){let Ue,he;const ze=me.type?jL(Me._f):qV(ie),Ye=ie.type===ww.BLUR||ie.type===ww.FOCUS_OUT,or=!Kue(Me._f)&&!t.resolver&&!it(r.errors,Pe)&&!Me._f.deps||Xue(Ye,it(r.touchedFields,Pe),r.isSubmitted,g,m),Jt=_L(Pe,l,Ye);Rr(s,Pe,ze),Ye?(Me._f.onBlur&&Me._f.onBlur(ie),c&&c(0)):Me._f.onChange&&Me._f.onChange(ie);const mt=A(Pe,ze,Ye),Dt=!ya(mt)||Jt;if(!Ye&&h.state.next({name:Pe,type:ie.type,values:Fi(s)}),or)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Ye&&p():Ye||p()),Dt&&h.state.next({name:Pe,...Jt?{}:mt});if(!Ye&&Jt&&h.state.next({...r}),t.resolver){const{errors:Sr}=await O([Pe]);if(Re(ze),Fe){const Et=PL(r.errors,n,Pe),cr=PL(Sr,n,Et.name||Pe);Ue=cr.error,Pe=cr.name,he=ya(Sr)}}else y([Pe],!0),Ue=(await kL(Me,l.disabled,s,x,t.shouldUseNativeValidation))[Pe],y([Pe]),Re(ze),Fe&&(Ue?he=!1:(d.isValid||f.isValid)&&(he=await E(n,!0)));Fe&&(Me._f.deps&&fe(Me._f.deps),C(Pe,he,Ue,mt))}},le=(ie,me)=>{if(it(r.errors,me)&&ie.focus)return ie.focus(),1},fe=async(ie,me={})=>{let Pe,Fe;const Me=e0(ie);if(t.resolver){const Re=await D(Wn(ie)?ie:Me);Pe=ya(Re),Fe=ie?!Me.some(Ue=>it(Re,Ue)):Pe}else ie?(Fe=(await Promise.all(Me.map(async Re=>{const Ue=it(n,Re);return await E(Ue&&Ue._f?{[Re]:Ue}:Ue)}))).every(Boolean),!(!Fe&&!r.isValid)&&p()):Fe=Pe=await E(n);return h.state.next({...!yl(ie)||(d.isValid||f.isValid)&&Pe!==r.isValid?{}:{name:ie},...t.resolver||!ie?{isValid:Pe}:{},errors:r.errors}),me.shouldFocus&&!Fe&&t0(n,le,ie?Me:l.mount),Fe},$=ie=>{const me={...o.mount?s:a};return Wn(ie)?me:yl(ie)?it(me,ie):ie.map(Pe=>it(me,Pe))},q=(ie,me)=>({invalid:!!it((me||r).errors,ie),isDirty:!!it((me||r).dirtyFields,ie),error:it((me||r).errors,ie),isValidating:!!it(r.validatingFields,ie),isTouched:!!it((me||r).touchedFields,ie)}),Q=ie=>{ie&&e0(ie).forEach(me=>pi(r.errors,me)),h.state.next({errors:ie?r.errors:{}})},ae=(ie,me,Pe)=>{const Fe=(it(n,ie,{_f:{}})._f||{}).ref,Me=it(r.errors,ie)||{},{ref:Re,message:Ue,type:he,...ze}=Me;Rr(r.errors,ie,{...ze,...me,ref:Fe}),h.state.next({name:ie,errors:r.errors,isValid:!1}),Pe&&Pe.shouldFocus&&Fe&&Fe.focus&&Fe.focus()},ue=(ie,me)=>Mo(ie)?h.state.subscribe({next:Pe=>ie(L(void 0,me),Pe)}):L(ie,me,!0),ce=ie=>h.state.subscribe({next:me=>{Yue(ie.name,me.name,ie.exact)&&Gue(me,ie.formState||d,$e,ie.reRenderRoot)&&ie.callback({values:{...s},...r,...me})}}).unsubscribe,we=ie=>(o.mount=!0,f={...f,...ie.formState},ce({...ie,formState:f})),oe=(ie,me={})=>{for(const Pe of ie?e0(ie):l.mount)l.mount.delete(Pe),l.array.delete(Pe),me.keepValue||(pi(n,Pe),pi(s,Pe)),!me.keepError&&pi(r.errors,Pe),!me.keepDirty&&pi(r.dirtyFields,Pe),!me.keepTouched&&pi(r.touchedFields,Pe),!me.keepIsValidating&&pi(r.validatingFields,Pe),!t.shouldUnregister&&!me.keepDefaultValue&&pi(a,Pe);h.state.next({values:Fi(s)}),h.state.next({...r,...me.keepDirty?{isDirty:R()}:{}}),!me.keepIsValid&&p()},ye=({disabled:ie,name:me})=>{(ss(ie)&&o.mount||ie||l.disabled.has(me))&&(ie?l.disabled.add(me):l.disabled.delete(me))},Ne=(ie,me={})=>{let Pe=it(n,ie);const Fe=ss(me.disabled)||ss(t.disabled);return Rr(n,ie,{...Pe||{},_f:{...Pe&&Pe._f?Pe._f:{ref:{name:ie}},name:ie,mount:!0,...me}}),l.mount.add(ie),Pe?ye({disabled:ss(me.disabled)?me.disabled:t.disabled,name:ie}):P(ie,!0,me.value),{...Fe?{disabled:me.disabled||t.disabled}:{},...t.progressive?{required:!!me.required,min:fx(me.min),max:fx(me.max),minLength:fx(me.minLength),maxLength:fx(me.maxLength),pattern:fx(me.pattern)}:{},name:ie,onChange:G,onBlur:G,ref:Me=>{if(Me){Ne(ie,me),Pe=it(n,ie);const Re=Wn(Me.value)&&Me.querySelectorAll&&Me.querySelectorAll("input,select,textarea")[0]||Me,Ue=zue(Re),he=Pe._f.refs||[];if(Ue?he.find(ze=>ze===Re):Re===Pe._f.ref)return;Rr(n,ie,{_f:{...Pe._f,...Ue?{refs:[...he.filter(dS),Re,...Array.isArray(it(a,ie))?[{}]:[]],ref:{type:Re.type,name:ie}}:{ref:Re}}}),P(ie,!1,void 0,Re)}else Pe=it(n,ie,{}),Pe._f&&(Pe._f.mount=!1),(t.shouldUnregister||me.shouldUnregister)&&!(WV(l.array,ie)&&o.action)&&l.unMount.add(ie)}}},pe=()=>t.shouldFocusError&&t0(n,le,l.mount),_e=ie=>{ss(ie)&&(h.state.next({disabled:ie}),t0(n,(me,Pe)=>{const Fe=it(n,Pe);Fe&&(me.disabled=Fe._f.disabled||ie,Array.isArray(Fe._f.refs)&&Fe._f.refs.forEach(Me=>{Me.disabled=Fe._f.disabled||ie}))},0,!1))},ve=(ie,me)=>async Pe=>{let Fe;Pe&&(Pe.preventDefault&&Pe.preventDefault(),Pe.persist&&Pe.persist());let Me=Fi(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:Re,values:Ue}=await O();r.errors=Re,Me=Ue}else await E(n);if(l.disabled.size)for(const Re of l.disabled)Rr(Me,Re,void 0);if(pi(r.errors,"root"),ya(r.errors)){h.state.next({errors:{}});try{await ie(Me,Pe)}catch(Re){Fe=Re}}else me&&await me({...r.errors},Pe),pe(),setTimeout(pe);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ya(r.errors)&&!Fe,submitCount:r.submitCount+1,errors:r.errors}),Fe)throw Fe},J=(ie,me={})=>{it(n,ie)&&(Wn(me.defaultValue)?B(ie,Fi(it(a,ie))):(B(ie,me.defaultValue),Rr(a,ie,Fi(me.defaultValue))),me.keepTouched||pi(r.touchedFields,ie),me.keepDirty||(pi(r.dirtyFields,ie),r.isDirty=me.defaultValue?R(ie,Fi(it(a,ie))):R()),me.keepError||(pi(r.errors,ie),d.isValid&&p()),h.state.next({...r}))},ut=(ie,me={})=>{const Pe=ie?Fi(ie):a,Fe=Fi(Pe),Me=ya(ie),Re=Me?a:Fe;if(me.keepDefaultValues||(a=Pe),!me.keepValues){if(me.keepDirtyValues){const Ue=new Set([...l.mount,...Object.keys(dx(a,s))]);for(const he of Array.from(Ue))it(r.dirtyFields,he)?Rr(Re,he,it(s,he)):B(he,it(Re,he))}else{if(A3&&Wn(ie))for(const Ue of l.mount){const he=it(n,Ue);if(he&&he._f){const ze=Array.isArray(he._f.refs)?he._f.refs[0]:he._f.ref;if(jw(ze)){const Ye=ze.closest("form");if(Ye){Ye.reset();break}}}}for(const Ue of l.mount)B(Ue,it(Re,Ue))}s=Fi(Re),h.array.next({values:{...Re}}),h.state.next({values:{...Re}})}l={mount:me.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!me.keepIsValid||!!me.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:me.keepSubmitCount?r.submitCount:0,isDirty:Me?!1:me.keepDirty?r.isDirty:!!(me.keepDefaultValues&&!Ou(ie,a)),isSubmitted:me.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Me?{}:me.keepDirtyValues?me.keepDefaultValues&&s?dx(a,s):r.dirtyFields:me.keepDefaultValues&&ie?dx(a,ie):me.keepDirty?r.dirtyFields:{},touchedFields:me.keepTouched?r.touchedFields:{},errors:me.keepErrors?r.errors:{},isSubmitSuccessful:me.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},at=(ie,me)=>ut(Mo(ie)?ie(s):ie,me),ct=(ie,me={})=>{const Pe=it(n,ie),Fe=Pe&&Pe._f;if(Fe){const Me=Fe.refs?Fe.refs[0]:Fe.ref;Me.focus&&(Me.focus(),me.shouldSelect&&Mo(Me.select)&&Me.select())}},$e=ie=>{r={...r,...ie}},Qe={control:{register:Ne,unregister:oe,getFieldState:q,handleSubmit:ve,setError:ae,_subscribe:ce,_runSchema:O,_getWatch:L,_getDirty:R,_setValid:p,_setFieldArray:w,_setDisabledField:ye,_setErrors:S,_getFieldArray:H,_reset:ut,_resetDefaultValues:()=>Mo(t.defaultValues)&&t.defaultValues().then(ie=>{at(ie,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:_e,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(ie){o=ie},get _defaultValues(){return a},get _names(){return l},set _names(ie){l=ie},get _formState(){return r},get _options(){return t},set _options(ie){t={...t,...ie}}},subscribe:we,trigger:fe,register:Ne,handleSubmit:ve,watch:ue,setValue:B,getValues:$,reset:at,resetField:J,clearErrors:Q,unregister:oe,setError:ae,setFocus:ct,getFieldState:q};return{...Qe,formControl:Qe}}function Ho(e={}){const t=se.useRef(void 0),r=se.useRef(void 0),[n,a]=se.useState({isDirty:!1,isValidating:!1,isLoading:Mo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Mo(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:ede(e),formState:n},e.formControl&&e.defaultValues&&!Mo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const s=t.current.control;return s._options=e,se.useLayoutEffect(()=>s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0}),[s]),se.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),se.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),se.useEffect(()=>{e.values&&!Ou(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,a(o=>({...o}))):s._resetDefaultValues()},[e.values,s]),se.useEffect(()=>{e.errors&&!ya(e.errors)&&s._setErrors(e.errors)},[e.errors,s]),se.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),se.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=GV(n,s),t.current}const CL=(e,t,r)=>{if(e&&"reportValidity"in e){const n=it(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},nq=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?CL(n.ref,r,e):n.refs&&n.refs.forEach(a=>CL(a,r,e))}},tde=(e,t)=>{t.shouldUseNativeValidation&&nq(e,t);const r={};for(const n in e){const a=it(t.fields,n),s=Object.assign(e[n]||{},{ref:a&&a.ref});if(rde(t.names||Object.keys(e),n)){const o=Object.assign({},it(r,n));Rr(o,"root",s),Rr(r,n,o)}else Rr(r,n,s)}return r},rde=(e,t)=>e.some(r=>r.startsWith(t+"."));var nde=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=XV(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},Ko=function(e,t,r){return r===void 0&&(r={}),function(n,a,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&nq({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:tde(nde(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},kr;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of s)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},e.find=(a,s)=>{for(const o of a)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(kr||(kr={}));var TL;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(TL||(TL={}));const yt=kr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ku=e=>{switch(typeof e){case"undefined":return yt.undefined;case"string":return yt.string;case"number":return Number.isNaN(e)?yt.nan:yt.number;case"boolean":return yt.boolean;case"function":return yt.function;case"bigint":return yt.bigint;case"symbol":return yt.symbol;case"object":return Array.isArray(e)?yt.array:e===null?yt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?yt.promise:typeof Map<"u"&&e instanceof Map?yt.map:typeof Set<"u"&&e instanceof Set?yt.set:typeof Date<"u"&&e instanceof Date?yt.date:yt.object;default:return yt.unknown}},Je=kr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class zc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof zc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,kr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const s=a.path[0];r[s]=r[s]||[],r[s].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}zc.create=e=>new zc(e);const bA=(e,t)=>{let r;switch(e.code){case Je.invalid_type:e.received===yt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Je.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,kr.jsonStringifyReplacer)}`;break;case Je.unrecognized_keys:r=`Unrecognized key(s) in object: ${kr.joinValues(e.keys,", ")}`;break;case Je.invalid_union:r="Invalid input";break;case Je.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${kr.joinValues(e.options)}`;break;case Je.invalid_enum_value:r=`Invalid enum value. Expected ${kr.joinValues(e.options)}, received '${e.received}'`;break;case Je.invalid_arguments:r="Invalid function arguments";break;case Je.invalid_return_type:r="Invalid function return type";break;case Je.invalid_date:r="Invalid date";break;case Je.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:kr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Je.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Je.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Je.custom:r="Invalid input";break;case Je.invalid_intersection_types:r="Intersection results could not be merged";break;case Je.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Je.not_finite:r="Number must be finite";break;default:r=t.defaultError,kr.assertNever(e)}return{message:r}};let ide=bA;function ade(){return ide}const sde=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],o={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:s,message:l}};function ot(e,t){const r=ade(),n=sde({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===bA?void 0:bA].filter(a=>!!a)});e.common.issues.push(n)}class ys{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Zt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const s=await a.key,o=await a.value;n.push({key:s,value:o})}return ys.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:s,value:o}=a;if(s.status==="aborted"||o.status==="aborted")return Zt;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const Zt=Object.freeze({status:"aborted"}),Dx=e=>({status:"dirty",value:e}),so=e=>({status:"valid",value:e}),EL=e=>e.status==="aborted",OL=e=>e.status==="dirty",xp=e=>e.status==="valid",_w=e=>typeof Promise<"u"&&e instanceof Promise;var wt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(wt||(wt={}));class bd{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ML=(e,t)=>{if(xp(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new zc(e.common.issues);return this._error=r,this._error}}};function ur(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Ar{get description(){return this._def.description}_getType(t){return ku(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ku(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ys,ctx:{common:t.parent.common,data:t.data,parsedType:ku(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(_w(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ku(t)},a=this._parseSync({data:t,path:n.path,parent:n});return ML(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ku(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return xp(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(a=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>xp(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ku(t)},a=this._parse({data:t,path:n.path,parent:n}),s=await(_w(a)?a:Promise.resolve(a));return ML(n,s)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,s)=>{const o=t(a),l=()=>s.addIssue({code:Je.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new bp({schema:this,typeName:Qt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return od.create(this,this._def)}nullable(){return wp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Cl.create(this)}promise(){return Cw.create(this,this._def)}or(t){return Aw.create([this,t],this._def)}and(t){return kw.create(this,t,this._def)}transform(t){return new bp({...ur(this._def),schema:this,typeName:Qt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new SA({...ur(this._def),innerType:this,defaultValue:r,typeName:Qt.ZodDefault})}brand(){return new Cde({typeName:Qt.ZodBranded,type:this,...ur(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new _A({...ur(this._def),innerType:this,catchValue:r,typeName:Qt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return E3.create(this,t)}readonly(){return PA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ode=/^c[^\s-]{8,}$/i,lde=/^[0-9a-z]+$/,cde=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ude=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,dde=/^[a-z0-9_-]{21}$/i,fde=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,hde=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,mde=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pde="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let fS;const gde=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,xde=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,yde=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,vde=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,bde=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,wde=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,iq="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",jde=new RegExp(`^${iq}$`);function aq(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Nde(e){return new RegExp(`^${aq(e)}$`)}function Sde(e){let t=`${iq}T${aq(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function _de(e,t){return!!((t==="v4"||!t)&&gde.test(e)||(t==="v6"||!t)&&yde.test(e))}function Pde(e,t){if(!fde.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function Ade(e,t){return!!((t==="v4"||!t)&&xde.test(e)||(t==="v6"||!t)&&vde.test(e))}class Hu extends Ar{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==yt.string){const s=this._getOrReturnCtx(t);return ot(s,{code:Je.invalid_type,expected:yt.string,received:s.parsedType}),Zt}const n=new ys;let a;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(a=this._getOrReturnCtx(t,a),ot(a,{code:Je.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(a=this._getOrReturnCtx(t,a),ot(a,{code:Je.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?ot(a,{code:Je.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&ot(a,{code:Je.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")mde.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"email",code:Je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")fS||(fS=new RegExp(pde,"u")),fS.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"emoji",code:Je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")ude.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"uuid",code:Je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")dde.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"nanoid",code:Je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")ode.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"cuid",code:Je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")lde.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"cuid2",code:Je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")cde.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"ulid",code:Je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),ot(a,{validation:"url",code:Je.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"regex",code:Je.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(t,a),ot(a,{code:Je.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(a=this._getOrReturnCtx(t,a),ot(a,{code:Je.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(a=this._getOrReturnCtx(t,a),ot(a,{code:Je.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Sde(s).test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{code:Je.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?jde.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{code:Je.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?Nde(s).test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{code:Je.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?hde.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"duration",code:Je.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?_de(t.data,s.version)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"ip",code:Je.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?Pde(t.data,s.alg)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"jwt",code:Je.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?Ade(t.data,s.version)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"cidr",code:Je.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?bde.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"base64",code:Je.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?wde.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"base64url",code:Je.invalid_string,message:s.message}),n.dirty()):kr.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Je.invalid_string,...wt.errToObj(n)})}_addCheck(t){return new Hu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...wt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...wt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...wt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...wt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...wt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...wt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...wt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...wt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...wt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...wt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...wt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...wt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...wt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...wt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...wt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...wt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...wt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...wt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...wt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...wt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...wt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...wt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...wt.errToObj(r)})}nonempty(t){return this.min(1,wt.errToObj(t))}trim(){return new Hu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Hu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Hu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Hu.create=e=>new Hu({checks:[],typeName:Qt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ur(e)});function kde(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,s=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return s%o/10**a}class yp extends Ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==yt.number){const s=this._getOrReturnCtx(t);return ot(s,{code:Je.invalid_type,expected:yt.number,received:s.parsedType}),Zt}let n;const a=new ys;for(const s of this._def.checks)s.kind==="int"?kr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ot(n,{code:Je.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:Je.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:Je.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?kde(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),ot(n,{code:Je.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ot(n,{code:Je.not_finite,message:s.message}),a.dirty()):kr.assertNever(s);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,wt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,wt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,wt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,wt.toString(r))}setLimit(t,r,n,a){return new yp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:wt.toString(a)}]})}_addCheck(t){return new yp({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:wt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:wt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:wt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:wt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:wt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:wt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:wt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:wt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:wt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&kr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}yp.create=e=>new yp({checks:[],typeName:Qt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ur(e)});class F0 extends Ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==yt.bigint)return this._getInvalidInput(t);let n;const a=new ys;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:Je.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:Je.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:Je.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):kr.assertNever(s);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ot(r,{code:Je.invalid_type,expected:yt.bigint,received:r.parsedType}),Zt}gte(t,r){return this.setLimit("min",t,!0,wt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,wt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,wt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,wt.toString(r))}setLimit(t,r,n,a){return new F0({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:wt.toString(a)}]})}_addCheck(t){return new F0({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:wt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:wt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:wt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:wt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:wt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}F0.create=e=>new F0({checks:[],typeName:Qt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ur(e)});class wA extends Ar{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==yt.boolean){const n=this._getOrReturnCtx(t);return ot(n,{code:Je.invalid_type,expected:yt.boolean,received:n.parsedType}),Zt}return so(t.data)}}wA.create=e=>new wA({typeName:Qt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ur(e)});class Pw extends Ar{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==yt.date){const s=this._getOrReturnCtx(t);return ot(s,{code:Je.invalid_type,expected:yt.date,received:s.parsedType}),Zt}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return ot(s,{code:Je.invalid_date}),Zt}const n=new ys;let a;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(a=this._getOrReturnCtx(t,a),ot(a,{code:Je.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(a=this._getOrReturnCtx(t,a),ot(a,{code:Je.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):kr.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Pw({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:wt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:wt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Pw.create=e=>new Pw({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Qt.ZodDate,...ur(e)});class LL extends Ar{_parse(t){if(this._getType(t)!==yt.symbol){const n=this._getOrReturnCtx(t);return ot(n,{code:Je.invalid_type,expected:yt.symbol,received:n.parsedType}),Zt}return so(t.data)}}LL.create=e=>new LL({typeName:Qt.ZodSymbol,...ur(e)});class IL extends Ar{_parse(t){if(this._getType(t)!==yt.undefined){const n=this._getOrReturnCtx(t);return ot(n,{code:Je.invalid_type,expected:yt.undefined,received:n.parsedType}),Zt}return so(t.data)}}IL.create=e=>new IL({typeName:Qt.ZodUndefined,...ur(e)});class DL extends Ar{_parse(t){if(this._getType(t)!==yt.null){const n=this._getOrReturnCtx(t);return ot(n,{code:Je.invalid_type,expected:yt.null,received:n.parsedType}),Zt}return so(t.data)}}DL.create=e=>new DL({typeName:Qt.ZodNull,...ur(e)});class jA extends Ar{constructor(){super(...arguments),this._any=!0}_parse(t){return so(t.data)}}jA.create=e=>new jA({typeName:Qt.ZodAny,...ur(e)});class RL extends Ar{constructor(){super(...arguments),this._unknown=!0}_parse(t){return so(t.data)}}RL.create=e=>new RL({typeName:Qt.ZodUnknown,...ur(e)});class wd extends Ar{_parse(t){const r=this._getOrReturnCtx(t);return ot(r,{code:Je.invalid_type,expected:yt.never,received:r.parsedType}),Zt}}wd.create=e=>new wd({typeName:Qt.ZodNever,...ur(e)});class FL extends Ar{_parse(t){if(this._getType(t)!==yt.undefined){const n=this._getOrReturnCtx(t);return ot(n,{code:Je.invalid_type,expected:yt.void,received:n.parsedType}),Zt}return so(t.data)}}FL.create=e=>new FL({typeName:Qt.ZodVoid,...ur(e)});class Cl extends Ar{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==yt.array)return ot(r,{code:Je.invalid_type,expected:yt.array,received:r.parsedType}),Zt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(ot(r,{code:o?Je.too_big:Je.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(ot(r,{code:Je.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(ot(r,{code:Je.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new bd(r,o,r.path,l)))).then(o=>ys.mergeArray(n,o));const s=[...r.data].map((o,l)=>a.type._parseSync(new bd(r,o,r.path,l)));return ys.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new Cl({...this._def,minLength:{value:t,message:wt.toString(r)}})}max(t,r){return new Cl({...this._def,maxLength:{value:t,message:wt.toString(r)}})}length(t,r){return new Cl({...this._def,exactLength:{value:t,message:wt.toString(r)}})}nonempty(t){return this.min(1,t)}}Cl.create=(e,t)=>new Cl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Qt.ZodArray,...ur(t)});function Qh(e){if(e instanceof In){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=od.create(Qh(n))}return new In({...e._def,shape:()=>t})}else return e instanceof Cl?new Cl({...e._def,type:Qh(e.element)}):e instanceof od?od.create(Qh(e.unwrap())):e instanceof wp?wp.create(Qh(e.unwrap())):e instanceof th?th.create(e.items.map(t=>Qh(t))):e}class In extends Ar{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=kr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==yt.object){const u=this._getOrReturnCtx(t);return ot(u,{code:Je.invalid_type,expected:yt.object,received:u.parsedType}),Zt}const{status:n,ctx:a}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof wd&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=s[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new bd(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof wd){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(ot(a,{code:Je.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new bd(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>ys.mergeObjectSync(n,u)):ys.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return wt.errToObj,new In({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,o;const a=((o=(s=this._def).errorMap)==null?void 0:o.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:wt.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new In({...this._def,unknownKeys:"strip"})}passthrough(){return new In({...this._def,unknownKeys:"passthrough"})}extend(t){return new In({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new In({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Qt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new In({...this._def,catchall:t})}pick(t){const r={};for(const n of kr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new In({...this._def,shape:()=>r})}omit(t){const r={};for(const n of kr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new In({...this._def,shape:()=>r})}deepPartial(){return Qh(this)}partial(t){const r={};for(const n of kr.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new In({...this._def,shape:()=>r})}required(t){const r={};for(const n of kr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof od;)s=s._def.innerType;r[n]=s}return new In({...this._def,shape:()=>r})}keyof(){return sq(kr.objectKeys(this.shape))}}In.create=(e,t)=>new In({shape:()=>e,unknownKeys:"strip",catchall:wd.create(),typeName:Qt.ZodObject,...ur(t)});In.strictCreate=(e,t)=>new In({shape:()=>e,unknownKeys:"strict",catchall:wd.create(),typeName:Qt.ZodObject,...ur(t)});In.lazycreate=(e,t)=>new In({shape:e,unknownKeys:"strip",catchall:wd.create(),typeName:Qt.ZodObject,...ur(t)});class Aw extends Ar{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new zc(l.ctx.common.issues));return ot(r,{code:Je.invalid_union,unionErrors:o}),Zt}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new zc(c));return ot(r,{code:Je.invalid_union,unionErrors:l}),Zt}}get options(){return this._def.options}}Aw.create=(e,t)=>new Aw({options:e,typeName:Qt.ZodUnion,...ur(t)});function NA(e,t){const r=ku(e),n=ku(t);if(e===t)return{valid:!0,data:e};if(r===yt.object&&n===yt.object){const a=kr.objectKeys(t),s=kr.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of s){const c=NA(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===yt.array&&n===yt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],c=NA(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===yt.date&&n===yt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class kw extends Ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(s,o)=>{if(EL(s)||EL(o))return Zt;const l=NA(s.value,o.value);return l.valid?((OL(s)||OL(o))&&r.dirty(),{status:r.value,value:l.data}):(ot(n,{code:Je.invalid_intersection_types}),Zt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>a(s,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}kw.create=(e,t,r)=>new kw({left:e,right:t,typeName:Qt.ZodIntersection,...ur(r)});class th extends Ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==yt.array)return ot(n,{code:Je.invalid_type,expected:yt.array,received:n.parsedType}),Zt;if(n.data.length<this._def.items.length)return ot(n,{code:Je.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Zt;!this._def.rest&&n.data.length>this._def.items.length&&(ot(n,{code:Je.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new bd(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>ys.mergeArray(r,o)):ys.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new th({...this._def,rest:t})}}th.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new th({items:e,typeName:Qt.ZodTuple,rest:null,...ur(t)})};class $L extends Ar{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==yt.map)return ot(n,{code:Je.invalid_type,expected:yt.map,received:n.parsedType}),Zt;const a=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new bd(n,l,n.path,[u,"key"])),value:s._parse(new bd(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Zt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Zt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}$L.create=(e,t,r)=>new $L({valueType:t,keyType:e,typeName:Qt.ZodMap,...ur(r)});class $0 extends Ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==yt.set)return ot(n,{code:Je.invalid_type,expected:yt.set,received:n.parsedType}),Zt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(ot(n,{code:Je.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(ot(n,{code:Je.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Zt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new bd(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new $0({...this._def,minSize:{value:t,message:wt.toString(r)}})}max(t,r){return new $0({...this._def,maxSize:{value:t,message:wt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}$0.create=(e,t)=>new $0({valueType:e,minSize:null,maxSize:null,typeName:Qt.ZodSet,...ur(t)});class BL extends Ar{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}BL.create=(e,t)=>new BL({getter:e,typeName:Qt.ZodLazy,...ur(t)});class UL extends Ar{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ot(r,{received:r.data,code:Je.invalid_literal,expected:this._def.value}),Zt}return{status:"valid",value:t.data}}get value(){return this._def.value}}UL.create=(e,t)=>new UL({value:e,typeName:Qt.ZodLiteral,...ur(t)});function sq(e,t){return new vp({values:e,typeName:Qt.ZodEnum,...ur(t)})}class vp extends Ar{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ot(r,{expected:kr.joinValues(n),received:r.parsedType,code:Je.invalid_type}),Zt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ot(r,{received:r.data,code:Je.invalid_enum_value,options:n}),Zt}return so(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return vp.create(t,{...this._def,...r})}exclude(t,r=this._def){return vp.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}vp.create=sq;class zL extends Ar{_parse(t){const r=kr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==yt.string&&n.parsedType!==yt.number){const a=kr.objectValues(r);return ot(n,{expected:kr.joinValues(a),received:n.parsedType,code:Je.invalid_type}),Zt}if(this._cache||(this._cache=new Set(kr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=kr.objectValues(r);return ot(n,{received:n.data,code:Je.invalid_enum_value,options:a}),Zt}return so(t.data)}get enum(){return this._def.values}}zL.create=(e,t)=>new zL({values:e,typeName:Qt.ZodNativeEnum,...ur(t)});class Cw extends Ar{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==yt.promise&&r.common.async===!1)return ot(r,{code:Je.invalid_type,expected:yt.promise,received:r.parsedType}),Zt;const n=r.parsedType===yt.promise?r.data:Promise.resolve(r.data);return so(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Cw.create=(e,t)=>new Cw({type:e,typeName:Qt.ZodPromise,...ur(t)});class bp extends Ar{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Qt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,s={addIssue:o=>{ot(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const o=a.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Zt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Zt:c.status==="dirty"||r.value==="dirty"?Dx(c.value):c});{if(r.value==="aborted")return Zt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Zt:l.status==="dirty"||r.value==="dirty"?Dx(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Zt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Zt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!xp(o))return Zt;const l=a.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>xp(o)?Promise.resolve(a.transform(o.value,s)).then(l=>({status:r.value,value:l})):Zt);kr.assertNever(a)}}bp.create=(e,t,r)=>new bp({schema:e,typeName:Qt.ZodEffects,effect:t,...ur(r)});bp.createWithPreprocess=(e,t,r)=>new bp({schema:t,effect:{type:"preprocess",transform:e},typeName:Qt.ZodEffects,...ur(r)});class od extends Ar{_parse(t){return this._getType(t)===yt.undefined?so(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}od.create=(e,t)=>new od({innerType:e,typeName:Qt.ZodOptional,...ur(t)});class wp extends Ar{_parse(t){return this._getType(t)===yt.null?so(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}wp.create=(e,t)=>new wp({innerType:e,typeName:Qt.ZodNullable,...ur(t)});class SA extends Ar{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===yt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}SA.create=(e,t)=>new SA({innerType:e,typeName:Qt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ur(t)});class _A extends Ar{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return _w(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new zc(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new zc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}_A.create=(e,t)=>new _A({innerType:e,typeName:Qt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ur(t)});class VL extends Ar{_parse(t){if(this._getType(t)!==yt.nan){const n=this._getOrReturnCtx(t);return ot(n,{code:Je.invalid_type,expected:yt.nan,received:n.parsedType}),Zt}return{status:"valid",value:t.data}}}VL.create=e=>new VL({typeName:Qt.ZodNaN,...ur(e)});class Cde extends Ar{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class E3 extends Ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Zt:s.status==="dirty"?(r.dirty(),Dx(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Zt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new E3({in:t,out:r,typeName:Qt.ZodPipeline})}}class PA extends Ar{_parse(t){const r=this._def.innerType._parse(t),n=a=>(xp(a)&&(a.value=Object.freeze(a.value)),a);return _w(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}PA.create=(e,t)=>new PA({innerType:e,typeName:Qt.ZodReadonly,...ur(t)});In.lazycreate;var Qt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Qt||(Qt={}));const rr=Hu.create,Tde=yp.create,Ede=wA.create,Ode=jA.create;wd.create;Cl.create;const to=In.create;In.strictCreate;Aw.create;kw.create;th.create;const Mde=vp.create;Cw.create;od.create;wp.create;const Be=N.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:_t("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Be.displayName="Input";var Lde="Label",oq=N.forwardRef((e,t)=>i.jsx(Tt.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));oq.displayName=Lde;var lq=oq;const Ide=zy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ve=N.forwardRef(({className:e,...t},r)=>i.jsx(lq,{ref:r,className:_t(Ide(),e),...t}));Ve.displayName=lq.displayName;const ro=Rue,cq=N.createContext({}),zt=({...e})=>i.jsx(cq.Provider,{value:{name:e.name},children:i.jsx(Uue,{...e})}),Ej=()=>{const e=N.useContext(cq),t=N.useContext(uq),{getFieldState:r,formState:n}=Tj(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...a}},uq=N.createContext({}),$t=N.forwardRef(({className:e,...t},r)=>{const n=N.useId();return i.jsx(uq.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:_t("space-y-2",e),...t})})});$t.displayName="FormItem";const mr=N.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=Ej();return i.jsx(Ve,{ref:r,className:_t(n&&"text-destructive",e),htmlFor:a,...t})});mr.displayName="FormLabel";const Wt=N.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:s}=Ej();return i.jsx(qB,{ref:t,id:n,"aria-describedby":r?`${a} ${s}`:`${a}`,"aria-invalid":!!r,...e})});Wt.displayName="FormControl";const Dde=N.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Ej();return i.jsx("p",{ref:r,id:n,className:_t("text-sm text-muted-foreground",e),...t})});Dde.displayName="FormDescription";const Ht=N.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:s}=Ej(),o=a?String((a==null?void 0:a.message)??""):t;return o?i.jsx("p",{ref:n,id:s,className:_t("text-sm font-medium text-destructive",e),...r,children:o}):null});Ht.displayName="FormMessage";function AA(){const[e,t]=N.useState(null),[r,n]=N.useState(!0);return N.useEffect(()=>{const c=async()=>{try{const f=await(await He("GET","/api/system-settings")).json();t(f)}catch(d){console.error("Failed to fetch system settings:",d)}finally{n(!1)}};c();const u=setInterval(c,3e4);return()=>clearInterval(u)},[]),{settings:e,isLoading:r,getMaintenanceMode:()=>{var c,u;return((u=(c=e==null?void 0:e.platform)==null?void 0:c.maintenance_mode)==null?void 0:u.value)==="true"},getMaintenanceMessage:()=>{var c,u;return((u=(c=e==null?void 0:e.platform)==null?void 0:c.maintenance_message)==null?void 0:u.value)||"System maintenance in progress"},getPinRequired:()=>{var c,u;return((u=(c=e==null?void 0:e.security)==null?void 0:c.pin_required)==null?void 0:u.value)==="true"},getTwoFactorRequired:()=>{var c,u;return((u=(c=e==null?void 0:e.security)==null?void 0:c.two_factor_required)==null?void 0:u.value)==="true"}}}function Jr({title:e,onBack:t,rightContent:r,size:n="md"}){const a={sm:"80px",md:"100px",lg:"140px"},s={sm:"-50 0 1380 100",md:"-50 0 1380 110",lg:"-50 0 1380 130"},o={sm:{main:"M-50,50 Q315,0 665,50 T1365,50 L1365,0 L-50,0 Z",flowing:"M-50,65 Q315,30 665,65 T1365,65 Q1035,95 665,80 Q295,65 -50,85 Z",accent:"M-50,90 Q315,65 665,90 T1365,90"},md:{main:"M-50,55 Q315,5 665,55 T1365,55 L1365,0 L-50,0 Z",flowing:"M-50,75 Q315,35 665,75 T1365,75 Q1035,110 665,90 Q295,75 -50,95 Z",accent:"M-50,105 Q315,75 665,105 T1365,105"},lg:{main:"M-50,60 Q315,0 665,60 T1365,60 L1365,0 L-50,0 Z",flowing:"M-50,80 Q315,40 665,80 T1365,80 Q1035,120 665,100 Q295,80 -50,100 Z",accent:"M-50,120 Q315,90 665,120 T1365,120"}},l={sm:"py-3 px-4",md:"py-4 px-6",lg:"py-6 px-6"},c=o[n];return i.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:"relative z-10",children:[i.jsxs("svg",{className:"w-full",viewBox:s[n],preserveAspectRatio:"none",style:{height:a[n],overflow:"visible"},children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"waveGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[i.jsx("stop",{offset:"0%",style:{stopColor:"#4CAF50",stopOpacity:1}}),i.jsx("stop",{offset:"100%",style:{stopColor:"#45a049",stopOpacity:.3}})]})}),i.jsx("path",{d:c.main,fill:"#4CAF50"}),i.jsx("path",{d:c.flowing,fill:"rgba(76, 175, 80, 0.4)",opacity:"0.6"}),i.jsx("path",{d:c.accent,stroke:"#4CAF50",strokeWidth:"2",fill:"none",opacity:"0.5"})]}),i.jsxs("div",{className:`absolute top-0 left-0 right-0 flex items-center justify-between ${l[n]}`,children:[t&&i.jsx(X.button,{whileTap:{scale:.95},onClick:t,className:"material-icons text-gray-800 dark:text-gray-200 p-2 rounded-full hover:bg-black/10 dark:hover:bg-white/20 transition-colors flex-shrink-0",children:"arrow_back"}),i.jsx("div",{className:"flex-1"}),e&&i.jsx("h1",{className:"text-gray-800 dark:text-gray-200 font-semibold drop-shadow-lg text-right",style:{fontSize:n==="sm"?"14px":n==="md"?"16px":"18px"},children:e}),r&&i.jsx("div",{className:"ml-auto",children:r})]})]})}const Rde=to({email:rr().email("Please enter a valid email"),password:rr().min(1,"Password is required")});function Fde(){const[,e]=Gt(),[t,r]=N.useState(!1),[n,a]=N.useState(!1),[s,o]=N.useState(!1),[l,c]=N.useState(""),[u,d]=N.useState(null),[f,h]=N.useState(null),{toast:m}=Ct(),{login:g}=Tr(),{getMaintenanceMode:x,getMaintenanceMessage:v}=AA();N.useEffect(()=>{window.PublicKeyCredential&&a(!0)},[]);const p=Ho({resolver:Ko(Rde),defaultValues:{email:"",password:""}}),y=St({mutationFn:async P=>(await He("POST","/api/auth/login",P)).json(),onSuccess:P=>{P.requiresPin||P.requiresOtp?P.requiresPin&&P.requiresOtp?(d(P),h(null)):P.requiresPin?(d(P),h("pin"),o(!0),c("")):(m({title:"Verification code sent",description:`A 6-digit code was sent via ${P.sentVia}`}),localStorage.setItem("otpUserId",P.userId),localStorage.setItem("otpPhone",P.phone),localStorage.setItem("otpSentVia",P.sentVia||""),localStorage.setItem("otpEmail",P.email||""),e("/auth/otp-verification")):(g(P.user),m({title:"Welcome back!",description:"You have been successfully logged in."}),setTimeout(()=>{e("/dashboard")},100))},onError:P=>{m({title:"Login failed",description:P.message||"Invalid email or password. Please try again.",variant:"destructive"})}}),w=St({mutationFn:async()=>(await He("POST","/api/auth/verify-pin",{userId:u.userId,pin:l})).json(),onSuccess:P=>{g(P.user),o(!1),c(""),d(null),m({title:"Welcome back!",description:"You have been successfully logged in."}),setTimeout(()=>{e("/dashboard")},100)},onError:P=>{m({title:"PIN verification failed",description:P.message||"Invalid PIN. Please try again.",variant:"destructive"}),c("")}}),j=St({mutationFn:async()=>{if(!n)throw new Error("Your device doesn't support biometric authentication");try{const P=await navigator.credentials.get({publicKey:{challenge:crypto.getRandomValues(new Uint8Array(32)),timeout:6e4,userVerification:"preferred",rpId:window.location.hostname}});if(!P)throw new Error("Biometric authentication cancelled");const A=await He("POST","/api/auth/biometric/login",{credentialId:P.id});if(!A.ok){const C=await A.json();throw A.status===401&&C.message.includes("No passkey found")?new Error(C.message):new Error(C.message||"Login failed")}return A.json()}catch(P){throw console.error("Biometric login error details:",P),P}},onSuccess:P=>{P.user&&(g(P.user),m({title:"Biometric Login Success",description:"Welcome back!"}),setTimeout(()=>{e("/dashboard")},100))},onError:P=>{m({title:"Biometric Login Failed",description:P.message||"Failed to authenticate with biometric",variant:"destructive"})}}),S=P=>{y.mutate(P)};return x()?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/20 via-background to-secondary/20 flex items-center justify-center p-4",children:i.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card p-8 rounded-2xl border border-border shadow-lg max-w-md w-full text-center",children:[i.jsx("div",{className:"mb-4 text-6xl",children:""}),i.jsx("h1",{className:"text-3xl font-bold mb-3",children:"System Maintenance"}),i.jsx("p",{className:"text-muted-foreground mb-6 text-lg",children:v()}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll be back soon. Please check back later."})]})}):u&&f===null&&u.requiresPin&&u.requiresOtp?i.jsxs("div",{className:"min-h-screen flex flex-col bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsx("div",{className:"flex-1 p-6",children:i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"max-w-sm mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Choose Verification Method"}),i.jsx("p",{className:"text-muted-foreground",children:"Select how you'd like to verify your identity"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(X.button,{whileHover:{scale:1.02},onClick:()=>{h("pin"),o(!0)},className:"w-full p-4 border border-border rounded-lg bg-card hover:bg-muted transition-colors text-left",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-primary mr-3",children:"lock"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Use PIN Code"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"4-6 digit PIN"})]})]})}),i.jsx(X.button,{whileHover:{scale:1.02},onClick:()=>{He("POST","/api/auth/send-otp",{userId:u.userId}).then(async A=>{const C=await A.json();localStorage.setItem("otpUserId",u.userId),localStorage.setItem("otpPhone",u.phone),localStorage.setItem("otpSentVia",C.sentVia||""),localStorage.setItem("otpEmail",u.email||""),e("/auth/otp-verification")}).catch(()=>{m({title:"Error",description:"Failed to send OTP",variant:"destructive"})})},className:"w-full p-4 border border-border rounded-lg bg-card hover:bg-muted transition-colors text-left",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-secondary mr-3",children:"mail"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Use OTP Code"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"6-digit code via SMS/Email"})]})]})}),i.jsx(re,{variant:"outline",className:"w-full mt-4",onClick:()=>{h(null),d(null)},children:"Back"})]})]})})]}):i.jsxs("div",{className:"min-h-screen flex flex-col bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsx("div",{className:"flex-1 p-6",children:i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-sm mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx(X.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"material-icons text-white text-2xl",children:"attach_money"})}),i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome Back"}),i.jsx("p",{className:"text-muted-foreground",children:"Sign in to your GreenPay account"})]}),i.jsx(ro,{...p,children:i.jsxs("form",{onSubmit:p.handleSubmit(S),className:"space-y-6",children:[i.jsx(zt,{control:p.control,name:"email",render:({field:P})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Email"}),i.jsx(Wt,{children:i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"material-icons absolute left-3 top-3 text-muted-foreground",children:"person"}),i.jsx(Be,{...P,type:"email",placeholder:"Enter your email",className:"pl-12","data-testid":"input-email"})]})}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"If correct, a 6-digit verification code will be sent to your registered phone via SMS and WhatsApp and Email"}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:p.control,name:"password",render:({field:P})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Password"}),i.jsx(Wt,{children:i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"material-icons absolute left-3 top-3 text-muted-foreground",children:"lock"}),i.jsx(Be,{...P,type:t?"text":"password",placeholder:"Enter your password",className:"pl-12 pr-12","data-testid":"input-password"}),i.jsx("button",{type:"button",onClick:()=>r(!t),className:"material-icons absolute right-3 top-3 text-muted-foreground hover:text-foreground transition-colors","data-testid":"button-toggle-password",children:t?"visibility_off":"visibility"})]})}),i.jsx(Ht,{})]})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",className:"w-4 h-4 text-primary border-border rounded focus:ring-ring","data-testid":"checkbox-remember"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Remember me"})]}),i.jsx("button",{type:"button",onClick:()=>e("/auth/forgot-password"),className:"text-sm text-primary hover:underline","data-testid":"button-forgot-password",children:"Forgot password?"})]}),i.jsx(re,{type:"submit",className:"w-full ripple",disabled:y.isPending,"data-testid":"button-signin-submit",children:y.isPending?"Signing In...":"Sign In"})]})}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",i.jsx("button",{onClick:()=>e("/signup"),className:"text-primary hover:underline font-medium","data-testid":"link-signup",children:"Sign up"})]})}),i.jsx("div",{className:"mt-4 text-center",children:i.jsxs("p",{className:"text-xs text-muted-foreground",children:["By signing in, you agree to our"," ",i.jsx("button",{onClick:()=>e("/terms"),className:"text-primary hover:underline font-medium",children:"Terms and Conditions"})]})}),s&&i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>{o(!1),c(""),d(null)},children:i.jsxs(X.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-background p-6 rounded-lg border border-border max-w-sm w-full shadow-lg",onClick:P=>P.stopPropagation(),children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Enter PIN"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your account has PIN protection enabled. Please enter your 4-6 digit PIN to continue."}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Be,{type:"password",placeholder:"Enter PIN",value:l,onChange:P=>c(P.target.value.replace(/[^0-9]/g,"").slice(0,6)),maxLength:6,className:"text-center text-2xl tracking-widest font-bold"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(re,{variant:"outline",className:"flex-1",onClick:()=>{o(!1),c(""),d(null)},children:"Cancel"}),i.jsx(re,{className:"flex-1",disabled:l.length<4||w.isPending,onClick:()=>w.mutate(),children:w.isPending?"Verifying...":"Verify"})]})]})]})}),i.jsxs("div",{className:"mt-8",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-border"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-background text-muted-foreground",children:"Or continue with"})})]}),n&&i.jsx("div",{className:"mt-6",children:i.jsxs(re,{variant:"outline",className:"w-full flex items-center justify-center",onClick:()=>j.mutate(),disabled:j.isPending,"data-testid":"button-biometric",children:[i.jsx("span",{className:"material-icons text-muted-foreground mr-2",children:"fingerprint"}),i.jsx("span",{className:"text-sm font-medium",children:j.isPending?"Authenticating...":"Biometric Login"})]})}),!n&&i.jsx("div",{className:"mt-6 p-3 bg-muted rounded-lg text-center",children:i.jsx("p",{className:"text-xs text-muted-foreground",children:"Biometric login is not supported on this device"})})]})]})})]})}function kA(e,[t,r]){return Math.min(r,Math.max(t,e))}var $de=N.createContext(void 0);function Qy(e){const t=N.useContext($de);return e||t||"ltr"}var hS=0;function dq(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??qL()),document.body.insertAdjacentElement("beforeend",e[1]??qL()),hS++,()=>{hS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),hS--}},[])}function qL(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var mS="focusScope.autoFocusOnMount",pS="focusScope.autoFocusOnUnmount",WL={bubbles:!1,cancelable:!0},Bde="FocusScope",O3=N.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=N.useState(null),u=Xn(a),d=Xn(s),f=N.useRef(null),h=br(t,x=>c(x)),m=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let x=function(w){if(m.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:_u(f.current,{select:!0})},v=function(w){if(m.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||_u(f.current,{select:!0}))},p=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&_u(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",v);const y=new MutationObserver(p);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",v),y.disconnect()}}},[n,l,m.paused]),N.useEffect(()=>{if(l){KL.add(m);const x=document.activeElement;if(!l.contains(x)){const p=new CustomEvent(mS,WL);l.addEventListener(mS,u),l.dispatchEvent(p),p.defaultPrevented||(Ude(Hde(fq(l)),{select:!0}),document.activeElement===x&&_u(l))}return()=>{l.removeEventListener(mS,u),setTimeout(()=>{const p=new CustomEvent(pS,WL);l.addEventListener(pS,d),l.dispatchEvent(p),p.defaultPrevented||_u(x??document.body,{select:!0}),l.removeEventListener(pS,d),KL.remove(m)},0)}}},[l,u,d,m]);const g=N.useCallback(x=>{if(!r&&!n||m.paused)return;const v=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,p=document.activeElement;if(v&&p){const y=x.currentTarget,[w,j]=zde(y);w&&j?!x.shiftKey&&p===j?(x.preventDefault(),r&&_u(w,{select:!0})):x.shiftKey&&p===w&&(x.preventDefault(),r&&_u(j,{select:!0})):p===y&&x.preventDefault()}},[r,n,m.paused]);return i.jsx(Tt.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});O3.displayName=Bde;function Ude(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(_u(n,{select:t}),document.activeElement!==r)return}function zde(e){const t=fq(e),r=HL(t,e),n=HL(t.reverse(),e);return[r,n]}function fq(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function HL(e,t){for(const r of e)if(!Vde(r,{upTo:t}))return r}function Vde(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function qde(e){return e instanceof HTMLInputElement&&"select"in e}function _u(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&qde(e)&&t&&e.select()}}var KL=Wde();function Wde(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=GL(e,t),e.unshift(t)},remove(t){var r;e=GL(e,t),(r=e[0])==null||r.resume()}}}function GL(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Hde(e){return e.filter(t=>t.tagName!=="A")}function hq(e){const t=N.useRef({value:e,previous:e});return N.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Kde=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Bh=new WeakMap,_b=new WeakMap,Pb={},gS=0,mq=function(e){return e&&(e.host||mq(e.parentNode))},Gde=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=mq(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Yde=function(e,t,r,n){var a=Gde(t,Array.isArray(e)?e:[e]);Pb[r]||(Pb[r]=new WeakMap);var s=Pb[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",x=(Bh.get(h)||0)+1,v=(s.get(h)||0)+1;Bh.set(h,x),s.set(h,v),o.push(h),x===1&&g&&_b.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(p){console.error("aria-hidden: cannot operate on ",h,p)}})};return d(t),l.clear(),gS++,function(){o.forEach(function(f){var h=Bh.get(f)-1,m=s.get(f)-1;Bh.set(f,h),s.set(f,m),h||(_b.has(f)||f.removeAttribute(n),_b.delete(f)),m||f.removeAttribute(r)}),gS--,gS||(Bh=new WeakMap,Bh=new WeakMap,_b=new WeakMap,Pb={})}},pq=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Kde(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Yde(n,a,r,"aria-hidden")):function(){return null}},ml=function(){return ml=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ml.apply(this,arguments)};function gq(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Xde(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var N1="right-scroll-bar-position",S1="width-before-scroll-bar",Zde="with-scroll-bars-hidden",Qde="--removed-body-scroll-bar-size";function xS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Jde(e,t){var r=N.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var efe=typeof window<"u"?N.useLayoutEffect:N.useEffect,YL=new WeakMap;function tfe(e,t){var r=Jde(null,function(n){return e.forEach(function(a){return xS(a,n)})});return efe(function(){var n=YL.get(r);if(n){var a=new Set(n),s=new Set(e),o=r.current;a.forEach(function(l){s.has(l)||xS(l,null)}),s.forEach(function(l){a.has(l)||xS(l,o)})}YL.set(r,e)},[e]),r}function rfe(e){return e}function nfe(e,t){t===void 0&&(t=rfe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function ife(e){e===void 0&&(e={});var t=nfe(null);return t.options=ml({async:!0,ssr:!1},e),t}var xq=function(e){var t=e.sideCar,r=gq(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,ml({},r))};xq.isSideCarExport=!0;function afe(e,t){return e.useMedium(t),xq}var yq=ife(),yS=function(){},Oj=N.forwardRef(function(e,t){var r=N.useRef(null),n=N.useState({onScrollCapture:yS,onWheelCapture:yS,onTouchMoveCapture:yS}),a=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,g=e.inert,x=e.allowPinchZoom,v=e.as,p=v===void 0?"div":v,y=e.gapMode,w=gq(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=tfe([r,t]),P=ml(ml({},w),a);return N.createElement(N.Fragment,null,d&&N.createElement(j,{sideCar:yq,removeScrollBar:u,shards:f,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!x,lockRef:r,gapMode:y}),o?N.cloneElement(N.Children.only(l),ml(ml({},P),{ref:S})):N.createElement(p,ml({},P,{className:c,ref:S}),l))});Oj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Oj.classNames={fullWidth:S1,zeroRight:N1};var sfe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ofe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=sfe();return t&&e.setAttribute("nonce",t),e}function lfe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function cfe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ufe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=ofe())&&(lfe(t,r),cfe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},dfe=function(){var e=ufe();return function(t,r){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},vq=function(){var e=dfe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},ffe={left:0,top:0,right:0,gap:0},vS=function(e){return parseInt(e||"",10)||0},hfe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[vS(r),vS(n),vS(a)]},mfe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ffe;var t=hfe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},pfe=vq(),Mm="data-scroll-locked",gfe=function(e,t,r,n){var a=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Zde,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Mm,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(N1,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(S1,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(N1," .").concat(N1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(S1," .").concat(S1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Mm,`] {
    `).concat(Qde,": ").concat(l,`px;
  }
`)},XL=function(){var e=parseInt(document.body.getAttribute(Mm)||"0",10);return isFinite(e)?e:0},xfe=function(){N.useEffect(function(){return document.body.setAttribute(Mm,(XL()+1).toString()),function(){var e=XL()-1;e<=0?document.body.removeAttribute(Mm):document.body.setAttribute(Mm,e.toString())}},[])},yfe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;xfe();var s=N.useMemo(function(){return mfe(a)},[a]);return N.createElement(pfe,{styles:gfe(s,!t,a,r?"":"!important")})},CA=!1;if(typeof window<"u")try{var Ab=Object.defineProperty({},"passive",{get:function(){return CA=!0,!0}});window.addEventListener("test",Ab,Ab),window.removeEventListener("test",Ab,Ab)}catch{CA=!1}var Uh=CA?{passive:!1}:!1,vfe=function(e){return e.tagName==="TEXTAREA"},bq=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!vfe(e)&&r[t]==="visible")},bfe=function(e){return bq(e,"overflowY")},wfe=function(e){return bq(e,"overflowX")},ZL=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=wq(e,n);if(a){var s=jq(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},jfe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Nfe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},wq=function(e,t){return e==="v"?bfe(t):wfe(t)},jq=function(e,t){return e==="v"?jfe(t):Nfe(t)},Sfe=function(e,t){return e==="h"&&t==="rtl"?-1:1},_fe=function(e,t,r,n,a){var s=Sfe(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var m=jq(e,l),g=m[0],x=m[1],v=m[2],p=x-v-s*g;(g||p)&&wq(e,l)&&(f+=p,h+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},kb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},QL=function(e){return[e.deltaX,e.deltaY]},JL=function(e){return e&&"current"in e?e.current:e},Pfe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Afe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},kfe=0,zh=[];function Cfe(e){var t=N.useRef([]),r=N.useRef([0,0]),n=N.useRef(),a=N.useState(kfe++)[0],s=N.useState(vq)[0],o=N.useRef(e);N.useEffect(function(){o.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=Xde([e.lockRef.current],(e.shards||[]).map(JL),!0).filter(Boolean);return x.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=N.useCallback(function(x,v){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var p=kb(x),y=r.current,w="deltaX"in x?x.deltaX:y[0]-p[0],j="deltaY"in x?x.deltaY:y[1]-p[1],S,P=x.target,A=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in x&&A==="h"&&P.type==="range")return!1;var C=ZL(A,P);if(!C)return!0;if(C?S=A:(S=A==="v"?"h":"v",C=ZL(A,P)),!C)return!1;if(!n.current&&"changedTouches"in x&&(w||j)&&(n.current=S),!S)return!0;var O=n.current||S;return _fe(O,v,x,O==="h"?w:j,!0)},[]),c=N.useCallback(function(x){var v=x;if(!(!zh.length||zh[zh.length-1]!==s)){var p="deltaY"in v?QL(v):kb(v),y=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&Pfe(S.delta,p)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(JL).filter(Boolean).filter(function(S){return S.contains(v.target)}),j=w.length>0?l(v,w[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),u=N.useCallback(function(x,v,p,y){var w={name:x,delta:v,target:p,should:y,shadowParent:Tfe(p)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=N.useCallback(function(x){r.current=kb(x),n.current=void 0},[]),f=N.useCallback(function(x){u(x.type,QL(x),x.target,l(x,e.lockRef.current))},[]),h=N.useCallback(function(x){u(x.type,kb(x),x.target,l(x,e.lockRef.current))},[]);N.useEffect(function(){return zh.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Uh),document.addEventListener("touchmove",c,Uh),document.addEventListener("touchstart",d,Uh),function(){zh=zh.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,Uh),document.removeEventListener("touchmove",c,Uh),document.removeEventListener("touchstart",d,Uh)}},[]);var m=e.removeScrollBar,g=e.inert;return N.createElement(N.Fragment,null,g?N.createElement(s,{styles:Afe(a)}):null,m?N.createElement(yfe,{gapMode:e.gapMode}):null)}function Tfe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Efe=afe(yq,Cfe);var M3=N.forwardRef(function(e,t){return N.createElement(Oj,ml({},e,{ref:t,sideCar:Efe}))});M3.classNames=Oj.classNames;var Ofe=[" ","Enter","ArrowUp","ArrowDown"],Mfe=[" ","Enter"],Jy="Select",[Mj,Lj,Lfe]=lj(Jy),[lg,ABe]=js(Jy,[Lfe,bj]),Ij=bj(),[Ife,kd]=lg(Jy),[Dfe,Rfe]=lg(Jy),Nq=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,x=Ij(t),[v,p]=N.useState(null),[y,w]=N.useState(null),[j,S]=N.useState(!1),P=Qy(u),[A=!1,C]=Ll({prop:n,defaultProp:a,onChange:s}),[O,D]=Ll({prop:o,defaultProp:l,onChange:c}),E=N.useRef(null),k=v?g||!!v.closest("form"):!0,[R,L]=N.useState(new Set),H=Array.from(R).map(F=>F.props.value).join(";");return i.jsx(Vae,{...x,children:i.jsxs(Ife,{required:m,scope:t,trigger:v,onTriggerChange:p,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:_l(),value:O,onValueChange:D,open:A,onOpenChange:C,dir:P,triggerPointerDownPosRef:E,disabled:h,children:[i.jsx(Mj.Provider,{scope:t,children:i.jsx(Dfe,{scope:e.__scopeSelect,onNativeOptionAdd:N.useCallback(F=>{L(V=>new Set(V).add(F))},[]),onNativeOptionRemove:N.useCallback(F=>{L(V=>{const B=new Set(V);return B.delete(F),B})},[]),children:r})}),k?i.jsxs(Gq,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:F=>D(F.target.value),disabled:h,form:g,children:[O===void 0?i.jsx("option",{value:""}):null,Array.from(R)]},H):null]})})};Nq.displayName=Jy;var Sq="SelectTrigger",_q=N.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=Ij(r),o=kd(Sq,r),l=o.disabled||n,c=br(t,o.onTriggerChange),u=Lj(r),d=N.useRef("touch"),[f,h,m]=Yq(x=>{const v=u().filter(w=>!w.disabled),p=v.find(w=>w.value===o.value),y=Xq(v,x,p);y!==void 0&&o.onValueChange(y.value)}),g=x=>{l||(o.onOpenChange(!0),m()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return i.jsx(iz,{asChild:!0,...s,children:i.jsx(Tt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Kq(o.value)?"":void 0,...a,ref:c,onClick:jt(a.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&g(x)}),onPointerDown:jt(a.onPointerDown,x=>{d.current=x.pointerType;const v=x.target;v.hasPointerCapture(x.pointerId)&&v.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(g(x),x.preventDefault())}),onKeyDown:jt(a.onKeyDown,x=>{const v=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(v&&x.key===" ")&&Ofe.includes(x.key)&&(g(),x.preventDefault())})})})});_q.displayName=Sq;var Pq="SelectValue",Aq=N.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:o="",...l}=e,c=kd(Pq,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=br(t,c.onValueNodeChange);return Ti(()=>{u(d)},[u,d]),i.jsx(Tt.span,{...l,ref:f,style:{pointerEvents:"none"},children:Kq(c.value)?i.jsx(i.Fragment,{children:o}):s})});Aq.displayName=Pq;var Ffe="SelectIcon",kq=N.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return i.jsx(Tt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});kq.displayName=Ffe;var $fe="SelectPortal",Cq=e=>i.jsx(cj,{asChild:!0,...e});Cq.displayName=$fe;var rh="SelectContent",Tq=N.forwardRef((e,t)=>{const r=kd(rh,e.__scopeSelect),[n,a]=N.useState();if(Ti(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?mh.createPortal(i.jsx(Eq,{scope:e.__scopeSelect,children:i.jsx(Mj.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(Oq,{...e,ref:t})});Tq.displayName=rh;var jo=10,[Eq,Cd]=lg(rh),Bfe="SelectContentImpl",Ufe=dp("SelectContent.RemoveScroll"),Oq=N.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:x,avoidCollisions:v,...p}=e,y=kd(rh,r),[w,j]=N.useState(null),[S,P]=N.useState(null),A=br(t,ce=>j(ce)),[C,O]=N.useState(null),[D,E]=N.useState(null),k=Lj(r),[R,L]=N.useState(!1),H=N.useRef(!1);N.useEffect(()=>{if(w)return pq(w)},[w]),dq();const F=N.useCallback(ce=>{const[we,...oe]=k().map(pe=>pe.ref.current),[ye]=oe.slice(-1),Ne=document.activeElement;for(const pe of ce)if(pe===Ne||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===we&&S&&(S.scrollTop=0),pe===ye&&S&&(S.scrollTop=S.scrollHeight),pe==null||pe.focus(),document.activeElement!==Ne))return},[k,S]),V=N.useCallback(()=>F([C,w]),[F,C,w]);N.useEffect(()=>{R&&V()},[R,V]);const{onOpenChange:B,triggerPointerDownPosRef:G}=y;N.useEffect(()=>{if(w){let ce={x:0,y:0};const we=ye=>{var Ne,pe;ce={x:Math.abs(Math.round(ye.pageX)-(((Ne=G.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((pe=G.current)==null?void 0:pe.y)??0))}},oe=ye=>{ce.x<=10&&ce.y<=10?ye.preventDefault():w.contains(ye.target)||B(!1),document.removeEventListener("pointermove",we),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",oe,{capture:!0})}}},[w,B,G]),N.useEffect(()=>{const ce=()=>B(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[B]);const[le,fe]=Yq(ce=>{const we=k().filter(Ne=>!Ne.disabled),oe=we.find(Ne=>Ne.ref.current===document.activeElement),ye=Xq(we,ce,oe);ye&&setTimeout(()=>ye.ref.current.focus())}),$=N.useCallback((ce,we,oe)=>{const ye=!H.current&&!oe;(y.value!==void 0&&y.value===we||ye)&&(O(ce),ye&&(H.current=!0))},[y.value]),q=N.useCallback(()=>w==null?void 0:w.focus(),[w]),Q=N.useCallback((ce,we,oe)=>{const ye=!H.current&&!oe;(y.value!==void 0&&y.value===we||ye)&&E(ce)},[y.value]),ae=n==="popper"?TA:Mq,ue=ae===TA?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:x,avoidCollisions:v}:{};return i.jsx(Eq,{scope:r,content:w,viewport:S,onViewportChange:P,itemRefCallback:$,selectedItem:C,onItemLeave:q,itemTextRefCallback:Q,focusSelectedItem:V,selectedItemText:D,position:n,isPositioned:R,searchRef:le,children:i.jsx(M3,{as:Ufe,allowPinchZoom:!0,children:i.jsx(O3,{asChild:!0,trapped:y.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:jt(a,ce=>{var we;(we=y.trigger)==null||we.focus({preventScroll:!0}),ce.preventDefault()}),children:i.jsx(By,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:i.jsx(ae,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ce=>ce.preventDefault(),...p,...ue,onPlaced:()=>L(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:jt(p.onKeyDown,ce=>{const we=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!we&&ce.key.length===1&&fe(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let ye=k().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const Ne=ce.target,pe=ye.indexOf(Ne);ye=ye.slice(pe+1)}setTimeout(()=>F(ye)),ce.preventDefault()}})})})})})})});Oq.displayName=Bfe;var zfe="SelectItemAlignedPosition",Mq=N.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=kd(rh,r),o=Cd(rh,r),[l,c]=N.useState(null),[u,d]=N.useState(null),f=br(t,A=>d(A)),h=Lj(r),m=N.useRef(!1),g=N.useRef(!0),{viewport:x,selectedItem:v,selectedItemText:p,focusSelectedItem:y}=o,w=N.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&x&&v&&p){const A=s.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),O=s.valueNode.getBoundingClientRect(),D=p.getBoundingClientRect();if(s.dir!=="rtl"){const Ne=D.left-C.left,pe=O.left-Ne,_e=A.left-pe,ve=A.width+_e,J=Math.max(ve,C.width),ut=window.innerWidth-jo,at=kA(pe,[jo,Math.max(jo,ut-J)]);l.style.minWidth=ve+"px",l.style.left=at+"px"}else{const Ne=C.right-D.right,pe=window.innerWidth-O.right-Ne,_e=window.innerWidth-A.right-pe,ve=A.width+_e,J=Math.max(ve,C.width),ut=window.innerWidth-jo,at=kA(pe,[jo,Math.max(jo,ut-J)]);l.style.minWidth=ve+"px",l.style.right=at+"px"}const E=h(),k=window.innerHeight-jo*2,R=x.scrollHeight,L=window.getComputedStyle(u),H=parseInt(L.borderTopWidth,10),F=parseInt(L.paddingTop,10),V=parseInt(L.borderBottomWidth,10),B=parseInt(L.paddingBottom,10),G=H+F+R+B+V,le=Math.min(v.offsetHeight*5,G),fe=window.getComputedStyle(x),$=parseInt(fe.paddingTop,10),q=parseInt(fe.paddingBottom,10),Q=A.top+A.height/2-jo,ae=k-Q,ue=v.offsetHeight/2,ce=v.offsetTop+ue,we=H+F+ce,oe=G-we;if(we<=Q){const Ne=E.length>0&&v===E[E.length-1].ref.current;l.style.bottom="0px";const pe=u.clientHeight-x.offsetTop-x.offsetHeight,_e=Math.max(ae,ue+(Ne?q:0)+pe+V),ve=we+_e;l.style.height=ve+"px"}else{const Ne=E.length>0&&v===E[0].ref.current;l.style.top="0px";const _e=Math.max(Q,H+x.offsetTop+(Ne?$:0)+ue)+oe;l.style.height=_e+"px",x.scrollTop=we-Q+x.offsetTop}l.style.margin=`${jo}px 0`,l.style.minHeight=le+"px",l.style.maxHeight=k+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,x,v,p,s.dir,n]);Ti(()=>w(),[w]);const[j,S]=N.useState();Ti(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const P=N.useCallback(A=>{A&&g.current===!0&&(w(),y==null||y(),g.current=!1)},[w,y]);return i.jsx(qfe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:P,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(Tt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Mq.displayName=zfe;var Vfe="SelectPopperPosition",TA=N.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=jo,...s}=e,o=Ij(r);return i.jsx(az,{...o,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});TA.displayName=Vfe;var[qfe,L3]=lg(rh,{}),EA="SelectViewport",Lq=N.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=Cd(EA,r),o=L3(EA,r),l=br(t,s.onViewportChange),c=N.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Mj.Slot,{scope:r,children:i.jsx(Tt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:jt(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-jo*2,x=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),p=Math.max(x,v);if(p<g){const y=p+m,w=Math.min(g,y),j=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Lq.displayName=EA;var Iq="SelectGroup",[Wfe,Hfe]=lg(Iq),Kfe=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=_l();return i.jsx(Wfe,{scope:r,id:a,children:i.jsx(Tt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Kfe.displayName=Iq;var Dq="SelectLabel",Rq=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Hfe(Dq,r);return i.jsx(Tt.div,{id:a.id,...n,ref:t})});Rq.displayName=Dq;var Tw="SelectItem",[Gfe,Fq]=lg(Tw),$q=N.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...o}=e,l=kd(Tw,r),c=Cd(Tw,r),u=l.value===n,[d,f]=N.useState(s??""),[h,m]=N.useState(!1),g=br(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,a)}),x=_l(),v=N.useRef("touch"),p=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Gfe,{scope:r,value:n,disabled:a,textId:x,isSelected:u,onItemTextChange:N.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:i.jsx(Mj.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:i.jsx(Tt.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:jt(o.onFocus,()=>m(!0)),onBlur:jt(o.onBlur,()=>m(!1)),onClick:jt(o.onClick,()=>{v.current!=="mouse"&&p()}),onPointerUp:jt(o.onPointerUp,()=>{v.current==="mouse"&&p()}),onPointerDown:jt(o.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:jt(o.onPointerMove,y=>{var w;v.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:jt(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:jt(o.onKeyDown,y=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&y.key===" "||(Mfe.includes(y.key)&&p(),y.key===" "&&y.preventDefault())})})})})});$q.displayName=Tw;var Rx="SelectItemText",Bq=N.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,o=kd(Rx,r),l=Cd(Rx,r),c=Fq(Rx,r),u=Rfe(Rx,r),[d,f]=N.useState(null),h=br(t,p=>f(p),c.onItemTextChange,p=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,p,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=N.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:v}=u;return Ti(()=>(x(g),()=>v(g)),[x,v,g]),i.jsxs(i.Fragment,{children:[i.jsx(Tt.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?mh.createPortal(s.children,o.valueNode):null]})});Bq.displayName=Rx;var Uq="SelectItemIndicator",zq=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Fq(Uq,r).isSelected?i.jsx(Tt.span,{"aria-hidden":!0,...n,ref:t}):null});zq.displayName=Uq;var OA="SelectScrollUpButton",Vq=N.forwardRef((e,t)=>{const r=Cd(OA,e.__scopeSelect),n=L3(OA,e.__scopeSelect),[a,s]=N.useState(!1),o=br(t,n.onScrollButtonChange);return Ti(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(Wq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Vq.displayName=OA;var MA="SelectScrollDownButton",qq=N.forwardRef((e,t)=>{const r=Cd(MA,e.__scopeSelect),n=L3(MA,e.__scopeSelect),[a,s]=N.useState(!1),o=br(t,n.onScrollButtonChange);return Ti(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(Wq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});qq.displayName=MA;var Wq=N.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=Cd("SelectScrollButton",r),o=N.useRef(null),l=Lj(r),c=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>c(),[c]),Ti(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(Tt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:jt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:jt(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:jt(a.onPointerLeave,()=>{c()})})}),Yfe="SelectSeparator",Hq=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(Tt.div,{"aria-hidden":!0,...n,ref:t})});Hq.displayName=Yfe;var LA="SelectArrow",Xfe=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ij(r),s=kd(LA,r),o=Cd(LA,r);return s.open&&o.position==="popper"?i.jsx(sz,{...a,...n,ref:t}):null});Xfe.displayName=LA;function Kq(e){return e===""||e===void 0}var Gq=N.forwardRef((e,t)=>{const{value:r,...n}=e,a=N.useRef(null),s=br(t,a),o=hq(r);return N.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),i.jsx(Uy,{asChild:!0,children:i.jsx("select",{...n,ref:s,defaultValue:r})})});Gq.displayName="BubbleSelect";function Yq(e){const t=Xn(e),r=N.useRef(""),n=N.useRef(0),a=N.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=N.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function Xq(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=Zfe(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Zfe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Qfe=Nq,Zq=_q,Jfe=Aq,ehe=kq,the=Cq,Qq=Tq,rhe=Lq,Jq=Rq,eW=$q,nhe=Bq,ihe=zq,tW=Vq,rW=qq,nW=Hq;const Kr=Qfe,Gr=Jfe,Br=N.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Zq,{ref:n,className:_t("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(ehe,{asChild:!0,children:i.jsx(MC,{className:"h-4 w-4 opacity-50"})})]}));Br.displayName=Zq.displayName;const iW=N.forwardRef(({className:e,...t},r)=>i.jsx(tW,{ref:r,className:_t("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Une,{className:"h-4 w-4"})}));iW.displayName=tW.displayName;const aW=N.forwardRef(({className:e,...t},r)=>i.jsx(rW,{ref:r,className:_t("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(MC,{className:"h-4 w-4"})}));aW.displayName=rW.displayName;const Ur=N.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>i.jsx(the,{children:i.jsxs(Qq,{ref:a,className:_t("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(iW,{}),i.jsx(rhe,{className:_t("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(aW,{})]})}));Ur.displayName=Qq.displayName;const ahe=N.forwardRef(({className:e,...t},r)=>i.jsx(Jq,{ref:r,className:_t("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ahe.displayName=Jq.displayName;const nt=N.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(eW,{ref:n,className:_t("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(ihe,{children:i.jsx(Sn,{className:"h-4 w-4"})})}),i.jsx(nhe,{children:t})]}));nt.displayName=eW.displayName;const she=N.forwardRef(({className:e,...t},r)=>i.jsx(nW,{ref:r,className:_t("-mx-1 my-1 h-px bg-muted",e),...t}));she.displayName=nW.displayName;const ohe=[{code:"US",name:"United States",flag:""},{code:"UK",name:"United Kingdom",flag:""},{code:"CA",name:"Canada",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""},{code:"NG",name:"Nigeria",flag:""},{code:"GH",name:"Ghana",flag:""},{code:"KE",name:"Kenya",flag:""},{code:"ZA",name:"South Africa",flag:""},{code:"CM",name:"Cameroon",flag:""}],sW=[{code:"USD",name:"US Dollar",symbol:"$"},{code:"KES",name:"Kenyan Shilling",symbol:"KSh"}],lhe=[{question:"How long do transfers take?",answer:"Most transfers complete within 5 minutes to African countries. Bank transfers may take up to 1-2 business days."},{question:"What are the transfer fees?",answer:"Fees start from $2.99 per transfer. The exact fee depends on the amount, destination, and delivery method."},{question:"How to verify my account?",answer:"Upload a valid ID (passport, national ID, or driver's license), proof of address, and take a selfie. Verification usually takes 24-48 hours."},{question:"Can I cancel a transfer?",answer:"Yes, you can cancel a transfer if it hasn't been processed yet. Go to Transactions and tap on the pending transfer to cancel."},{question:"Is my money safe?",answer:"Yes, we use bank-level security and are regulated by financial authorities. Your funds are protected by FDIC insurance."},{question:"How much can I send?",answer:"Daily limits start at $2,500 for verified accounts. Monthly limits can go up to $50,000 based on your verification level."}],che=to({fullName:rr().min(2,"Full name must be at least 2 characters"),email:rr().email("Please enter a valid email"),phone:rr().min(9,"Phone number must be 9 digits").max(9,"Phone number must be 9 digits").regex(/^[17]\d{8}$/,"Phone number must start with 1 or 7 and be 9 digits (e.g., 145454534 or 712345678)"),phoneCountryCode:rr().min(1,"Please select country code"),country:rr().min(1,"Please select your country"),password:rr().min(8,"Password must be at least 8 characters"),confirmPassword:rr(),agreeToTerms:Ede().refine(e=>e===!0,"You must agree to the terms")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function uhe(){const[,e]=Gt(),{toast:t}=Ct();Tr();const r=Ho({resolver:Ko(che),defaultValues:{fullName:"",email:"",phone:"",phoneCountryCode:"+254",country:"",password:"",confirmPassword:"",agreeToTerms:!1}}),n=St({mutationFn:async o=>(await He("POST","/api/auth/signup",o)).json(),onSuccess:o=>{t({title:"Account created!",description:"Your account has been created successfully. Please log in."}),e("/login")},onError:()=>{t({title:"Signup failed",description:"Unable to create account. Please try again.",variant:"destructive"})}}),a=o=>{const{confirmPassword:l,agreeToTerms:c,phoneCountryCode:u,...d}=o,f=u+d.phone;n.mutate({...d,phone:f})},s=[{code:"+254",country:"Kenya"},{code:"+234",country:"Nigeria"},{code:"+233",country:"Ghana"},{code:"+27",country:"South Africa"},{code:"+20",country:"Egypt"},{code:"+256",country:"Uganda"},{code:"+255",country:"Tanzania"},{code:"+1",country:"USA"},{code:"+44",country:"UK"}];return i.jsxs("div",{className:"min-h-screen flex flex-col bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsx("div",{className:"flex-1 p-6",children:i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-sm mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx(X.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"material-icons text-white text-2xl",children:"attach_money"})}),i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Join GreenPay"}),i.jsx("p",{className:"text-muted-foreground",children:"Create your account to start sending money"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-3 px-2",children:"Account verification requires a valid phone number on WhatsApp with SMS capability, a verified email address, and identification that matches your registered name."})]}),i.jsx(ro,{...r,children:i.jsxs("form",{onSubmit:r.handleSubmit(a),className:"space-y-4",children:[i.jsx(zt,{control:r.control,name:"fullName",render:({field:o})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Full Name"}),i.jsx(Wt,{children:i.jsx(Be,{...o,placeholder:"Enter your full name","data-testid":"input-fullname"})}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This must match the name on your official identification"}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:r.control,name:"email",render:({field:o})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Email"}),i.jsx(Wt,{children:i.jsx(Be,{...o,type:"email",placeholder:"Enter your email","data-testid":"input-email"})}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"A verification code will be sent to this address"}),i.jsx(Ht,{})]})}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(zt,{control:r.control,name:"phoneCountryCode",render:({field:o})=>i.jsxs($t,{className:"w-28",children:[i.jsx(mr,{children:"Code"}),i.jsxs(Kr,{onValueChange:o.onChange,defaultValue:o.value,children:[i.jsx(Wt,{children:i.jsx(Br,{children:i.jsx(Gr,{})})}),i.jsx(Ur,{children:s.map(l=>i.jsx(nt,{value:l.code,children:l.code},l.code))})]}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:r.control,name:"phone",render:({field:o})=>i.jsxs($t,{className:"flex-1",children:[i.jsx(mr,{children:"Phone Number"}),i.jsx(Wt,{children:i.jsx(Be,{...o,type:"tel",placeholder:"712345678","data-testid":"input-phone"})}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Must be a WhatsApp-enabled number with SMS capability. A verification code will be sent via SMS."}),i.jsx(Ht,{})]})})]}),i.jsx(zt,{control:r.control,name:"country",render:({field:o})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Country"}),i.jsxs(Kr,{onValueChange:o.onChange,defaultValue:o.value,children:[i.jsx(Wt,{children:i.jsx(Br,{"data-testid":"select-country",children:i.jsx(Gr,{placeholder:"Select your country"})})}),i.jsx(Ur,{children:ohe.map(l=>i.jsxs(nt,{value:l.name,children:[l.flag," ",l.name]},l.code))})]}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:r.control,name:"password",render:({field:o})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Password"}),i.jsx(Wt,{children:i.jsx(Be,{...o,type:"password",placeholder:"Create a strong password","data-testid":"input-password"})}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:r.control,name:"confirmPassword",render:({field:o})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Confirm Password"}),i.jsx(Wt,{children:i.jsx(Be,{...o,type:"password",placeholder:"Confirm your password","data-testid":"input-confirm-password"})}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:r.control,name:"agreeToTerms",render:({field:o})=>i.jsxs($t,{className:"flex items-start space-x-2 space-y-0",children:[i.jsx(Wt,{children:i.jsx("input",{type:"checkbox",checked:o.value,onChange:o.onChange,className:"w-4 h-4 text-primary border-border rounded focus:ring-ring mt-1","data-testid":"checkbox-terms"})}),i.jsxs("div",{className:"space-y-1 leading-none",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:["I agree to the"," ",i.jsx("button",{type:"button",onClick:l=>{l.preventDefault(),e("/terms")},className:"text-primary hover:underline font-medium",children:"Terms of Service"})," ","and"," ",i.jsx("button",{type:"button",onClick:l=>{l.preventDefault(),e("/privacy")},className:"text-primary hover:underline font-medium",children:"Privacy Policy"})]}),i.jsx(Ht,{})]})]})}),i.jsx(re,{type:"submit",className:"w-full ripple",disabled:n.isPending,"data-testid":"button-create-account",children:n.isPending?"Creating Account...":"Create Account"})]})}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",i.jsx("button",{onClick:()=>e("/login"),className:"text-primary hover:underline font-semibold","data-testid":"link-signin",children:"Sign in"})]})}),i.jsx("div",{className:"mt-4 text-center",children:i.jsxs("p",{className:"text-xs text-muted-foreground",children:["By creating an account, you agree to our"," ",i.jsx("button",{onClick:()=>e("/terms"),className:"text-primary hover:underline font-medium",children:"Terms and Conditions"})]})})]})})]})}function dhe(){const[,e]=Gt(),[t,r]=N.useState(new Array(6).fill("")),n=N.useRef([]),{toast:a}=Ct(),{login:s}=Tr(),[o,l]=N.useState(""),[c,u]=N.useState(""),[d,f]=N.useState(""),[h,m]=N.useState("");N.useEffect(()=>{const j=localStorage.getItem("otpUserId"),S=localStorage.getItem("otpPhone"),P=localStorage.getItem("otpEmail"),A=localStorage.getItem("otpSentVia");if(!j){a({title:"Session expired",description:"Please login again.",variant:"destructive"}),e("/login");return}l(j),u(S||""),f(P||""),m(A||""),n.current[0]&&n.current[0].focus()},[e,a]);const g=St({mutationFn:async j=>(await He("POST","/api/auth/verify-otp",{code:j,userId:o})).json(),onSuccess:j=>{localStorage.removeItem("otpUserId"),localStorage.removeItem("otpPhone"),s(j.user),a({title:"Login successful!",description:"You have been successfully verified and logged in."}),setTimeout(()=>{e("/dashboard")},100)},onError:()=>{a({title:"Verification failed",description:"Invalid or expired OTP code. Please try again.",variant:"destructive"}),r(new Array(6).fill("")),n.current[0]&&n.current[0].focus()}}),x=(j,S)=>{isNaN(Number(j.value))||(r([...t.map((P,A)=>A===S?j.value:P)]),j.nextSibling&&j.value!==""&&j.nextSibling.focus())},v=(j,S)=>{var P;j.key==="Backspace"&&!t[S]&&S>0&&((P=n.current[S-1])==null||P.focus())},p=j=>{j.preventDefault();const S=t.join("");S.length===6&&g.mutate(S)},y=St({mutationFn:async()=>(await He("POST","/api/auth/resend-otp",{userId:o})).json(),onSuccess:j=>{a({title:"OTP Resent",description:j.message||"A new verification code has been sent."})},onError:()=>{a({title:"Resend failed",description:"Failed to resend verification code. Please try again.",variant:"destructive"})}}),w=()=>{y.mutate()};return i.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[i.jsx(Jr,{size:"sm"}),i.jsx("div",{className:"flex-1 p-6 flex items-center justify-center",children:i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-sm mx-auto text-center",children:[i.jsx(X.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx("span",{className:"material-icons text-white text-2xl",children:"sms"})}),i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Verify Login"}),i.jsxs("p",{className:"text-muted-foreground mb-8",children:["We've sent a 6-digit verification code to (Check Email, SMS or WhatsApp):",i.jsx("br",{}),i.jsx("strong",{children:" Phone:"})," ",c||"your phone",d&&i.jsxs(i.Fragment,{children:[i.jsx("br",{}),i.jsx("strong",{children:" Email:"})," ",d&&d.trim().length>0?d:i.jsx("span",{className:"text-muted-foreground",children:"Check your mailbox. Ensure you entered a correct email or contact us."})]})]}),i.jsxs("form",{onSubmit:p,children:[i.jsx("div",{className:"flex justify-center space-x-3 mb-8",children:t.map((j,S)=>i.jsx("input",{type:"text",maxLength:1,value:j,onChange:P=>x(P.target,S),onKeyDown:P=>v(P,S),onFocus:P=>P.target.select(),ref:P=>n.current[S]=P,className:"w-12 h-12 text-center text-xl font-bold border border-border rounded-xl bg-input focus:outline-none focus:ring-2 focus:ring-ring transition-all"},S))}),i.jsx(re,{type:"submit",className:"w-full ripple mb-4",disabled:g.isPending||t.join("").length!==6,children:g.isPending?"Verifying...":"Verify Code"})]}),i.jsxs("p",{className:"text-muted-foreground text-sm",children:["Didn't receive a code?"," ",i.jsx("button",{onClick:w,disabled:y.isPending,className:"text-primary hover:underline font-medium disabled:opacity-50",children:y.isPending?"Sending...":"Resend Code"})]}),i.jsxs("p",{className:"text-muted-foreground text-sm mt-4",children:["Having OTP issues?"," ",i.jsxs("a",{href:"https://wa.me/14704657028",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-green-600 hover:underline font-medium",children:[i.jsx("span",{className:"material-icons text-base",children:"chat"}),"Contact Support on WhatsApp (+1 470 465 7028)"]})]})]})})]})}const fhe=to({dateOfBirth:rr().min(1,"Date of birth is required"),address:rr().min(10,"Please enter your full address"),documentType:rr().min(1,"Please select a document type")});function hhe(){const[,e]=Gt(),[t,r]=N.useState({frontImage:null,backImage:null,selfie:null}),{toast:n}=Ct(),{user:a}=Tr(),{data:s,isLoading:o}=Kt({queryKey:[`/api/kyc/${a==null?void 0:a.id}`],queryFn:async()=>a!=null&&a.id?(await He("GET",`/api/kyc/${a.id}`)).json():null,enabled:!!(a!=null&&a.id)}),l=s==null?void 0:s.kyc,c=Ho({resolver:Ko(fhe),defaultValues:{dateOfBirth:"",address:"",documentType:""}}),u=St({mutationFn:async h=>{var x;if(!t.frontImage||!t.backImage||!t.selfie)throw new Error("Please upload all required documents");const m=new FormData;m.append("userId",((x=a==null?void 0:a.id)==null?void 0:x.toString())||""),m.append("documentType",h.documentType),m.append("dateOfBirth",h.dateOfBirth),m.append("address",h.address),m.append("frontImage",t.frontImage),m.append("backImage",t.backImage),m.append("selfie",t.selfie);const g=await fetch("/api/kyc/submit",{method:"POST",credentials:"include",body:m});if(!g.ok){const v=await g.json();throw new Error(v.message||"Submission failed")}return g.json()},onSuccess:()=>{n({title:"Documents submitted!",description:"Your documents have been submitted for verification."}),e("/virtual-card-purchase")},onError:h=>{n({title:"Submission failed",description:h.message||"Unable to submit documents. Please try again.",variant:"destructive"})}}),d=h=>{u.mutate(h)},f=h=>m=>{var x;const g=(x=m.target.files)==null?void 0:x[0];g&&(r(v=>({...v,[h]:g})),n({title:"File uploaded",description:`${g.name} has been uploaded successfully.`}))};return i.jsxs("div",{className:"min-h-screen flex flex-col bg-background pb-20",children:[i.jsx(Jr,{size:"md"}),i.jsx("div",{className:"flex-1 p-6",children:i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-sm mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx(X.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 bg-accent rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"material-icons text-accent-foreground text-2xl",children:"verified_user"})}),i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Verify Your Identity"}),i.jsx("p",{className:"text-muted-foreground",children:"Complete your profile to ensure secure transactions"})]}),o?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):(l==null?void 0:l.status)==="pending"?i.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-6 mb-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"material-icons text-amber-600 text-3xl",children:"pending"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-amber-900 mb-1",children:"Documents Under Review"}),i.jsx("p",{className:"text-sm text-amber-700",children:"Your KYC documents have been submitted and are currently being reviewed by our team. You will be notified once the verification is complete. Please wait for admin approval."}),i.jsx(re,{onClick:()=>e("/dashboard"),variant:"outline",className:"mt-4",children:"Return to Dashboard"})]})]})}):(l==null?void 0:l.status)==="verified"?i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 mb-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"material-icons text-green-600 text-3xl",children:"check_circle"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"Verification Complete"}),i.jsx("p",{className:"text-sm text-green-700",children:"Your identity has been successfully verified. You can now access all features of your account."}),i.jsx(re,{onClick:()=>e("/virtual-card-purchase"),className:"mt-4",children:"Continue to Virtual Card"})]})]})}):(l==null?void 0:l.status)==="rejected"?i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 mb-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"material-icons text-red-600 text-3xl",children:"cancel"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:"Verification Rejected"}),i.jsxs("p",{className:"text-sm text-red-700 mb-2",children:["Your previous KYC submission was rejected. ",l.verificationNotes&&`Reason: ${l.verificationNotes}`]}),i.jsx("p",{className:"text-sm text-red-700",children:"Please upload clear, valid documents and resubmit your verification below."})]})]})}):null,!l||l.status==="rejected"?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"font-semibold",children:"Personal Details"}),i.jsx("span",{className:"text-xs text-primary bg-primary/10 px-2 py-1 rounded-full",children:"Required"})]}),i.jsx(ro,{...c,children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(zt,{control:c.control,name:"dateOfBirth",render:({field:h})=>i.jsxs($t,{children:[i.jsx(Wt,{children:i.jsx(Be,{...h,type:"date",placeholder:"Date of Birth","data-testid":"input-dob"})}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:c.control,name:"address",render:({field:h})=>i.jsxs($t,{children:[i.jsx(Wt,{children:i.jsx(Be,{...h,placeholder:"Full Address","data-testid":"input-address"})}),i.jsx(Ht,{})]})})]})})]}),i.jsxs("div",{className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"font-semibold",children:"Identity Document"}),i.jsx("span",{className:"text-xs text-primary bg-primary/10 px-2 py-1 rounded-full",children:"Required"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(ro,{...c,children:i.jsx(zt,{control:c.control,name:"documentType",render:({field:h})=>i.jsxs($t,{children:[i.jsxs(Kr,{onValueChange:h.onChange,defaultValue:h.value,children:[i.jsx(Wt,{children:i.jsx(Br,{"data-testid":"select-document-type",children:i.jsx(Gr,{placeholder:"Select document type"})})}),i.jsxs(Ur,{children:[i.jsx(nt,{value:"national_id",children:"National ID"}),i.jsx(nt,{value:"passport",children:"Passport"}),i.jsx(nt,{value:"drivers_license",children:"Driver's License"})]})]}),i.jsx(Ht,{})]})})}),i.jsxs("div",{className:"border-2 border-dashed border-border rounded-xl p-6 text-center hover:border-primary transition-colors cursor-pointer",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:f("frontImage"),className:"hidden",id:"front-upload"}),i.jsxs("label",{htmlFor:"front-upload",className:"cursor-pointer","data-testid":"upload-front",children:[i.jsx("span",{className:"material-icons text-3xl text-muted-foreground mb-2",children:"cloud_upload"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t.frontImage?t.frontImage.name:"Tap to upload front side"})]})]}),i.jsxs("div",{className:"border-2 border-dashed border-border rounded-xl p-6 text-center hover:border-primary transition-colors cursor-pointer",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:f("backImage"),className:"hidden",id:"back-upload"}),i.jsxs("label",{htmlFor:"back-upload",className:"cursor-pointer","data-testid":"upload-back",children:[i.jsx("span",{className:"material-icons text-3xl text-muted-foreground mb-2",children:"cloud_upload"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t.backImage?t.backImage.name:"Tap to upload back side"})]})]})]})]}),i.jsxs("div",{className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"font-semibold",children:"Selfie Verification"}),i.jsx("span",{className:"text-xs text-primary bg-primary/10 px-2 py-1 rounded-full",children:"Required"})]}),i.jsxs("div",{className:"border-2 border-dashed border-border rounded-xl p-6 text-center hover:border-primary transition-colors cursor-pointer",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:f("selfie"),className:"hidden",id:"selfie-upload"}),i.jsxs("label",{htmlFor:"selfie-upload",className:"cursor-pointer","data-testid":"upload-selfie",children:[i.jsx("span",{className:"material-icons text-3xl text-muted-foreground mb-2",children:"camera_alt"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t.selfie?t.selfie.name:"Take a selfie"})]})]})]}),i.jsx(re,{onClick:c.handleSubmit(d),className:"w-full ripple",disabled:u.isPending,"data-testid":"button-continue-verification",children:u.isPending?"Submitting...":(l==null?void 0:l.status)==="rejected"?"Resubmit Verification":"Continue Verification"})]}):null]})})]})}function mhe(){const{user:e}=Tr(),{toast:t}=Ct();return St({mutationFn:async()=>(await He("POST","/api/virtual-card/initialize-payment",{userId:e==null?void 0:e.id})).json(),onSuccess:r=>{window.open(r.authorizationUrl,"_blank")},onError:r=>{t({title:"Payment Initialization Failed",description:r.message||"Unable to initialize payment",variant:"destructive"})}})}function phe(){const e=en(),{user:t,login:r}=Tr(),{toast:n}=Ct();return St({mutationFn:async a=>(await He("POST","/api/virtual-card/verify-payment",{reference:a,userId:t==null?void 0:t.id})).json(),onSuccess:a=>{a.success&&a.card?(t&&r({...t,hasVirtualCard:!0}),e.invalidateQueries({queryKey:["virtual-card",t==null?void 0:t.id]}),e.invalidateQueries({queryKey:["transactions",t==null?void 0:t.id]}),n({title:"Payment Successful!",description:"Your virtual card has been activated."})):(e.invalidateQueries({queryKey:["transactions",t==null?void 0:t.id]}),n({title:"Payment Incomplete",description:a.message||"Your payment was not completed successfully.",variant:"destructive"}))},onError:a=>{n({title:"Payment Verification Failed",description:a.message||"Unable to verify payment status",variant:"destructive"})}})}function ghe(){const[,e]=Gt(),{toast:t}=Ct();Tr(),N.useState(null);const[r,n]=N.useState("auto"),a=mhe(),s=phe(),{data:o}=Kt({queryKey:["/api/manual-payment-settings"],queryFn:async()=>(await He("GET","/api/manual-payment-settings")).json()});N.useState(()=>{(()=>{const u=new URLSearchParams(window.location.search),d=u.get("reference"),f=u.get("status");d&&f==="success"&&s.mutate(d,{onSuccess:()=>{e("/dashboard")}})})()});const l=()=>{a.mutate(void 0,{onSuccess:c=>{c.authorization_url&&(window.location.href=c.authorization_url)},onError:c=>{t({title:"Payment Failed",description:"Unable to initialize payment. Please try again.",variant:"destructive"})}})};return i.jsxs("div",{className:"min-h-screen flex flex-col bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsx("div",{className:"flex-1 p-6 flex items-center justify-center",children:i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-sm mx-auto text-center",children:[i.jsxs(X.div,{initial:{scale:.8,rotateY:-30},animate:{scale:1,rotateY:0},transition:{delay:.2,duration:.6},className:"bg-gradient-to-br from-primary to-secondary p-6 rounded-2xl mb-6 elevation-3",children:[i.jsx("div",{className:"bg-white/20 rounded-xl p-4 mb-4",children:i.jsx("span",{className:"material-icons text-white text-4xl",children:"credit_card"})}),i.jsx("h3",{className:"text-white text-xl font-bold mb-2",children:"GreenPay Virtual Card"}),i.jsx("p",{className:"text-green-100 text-sm",children:"Required for all transactions"})]}),i.jsx(X.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-2xl font-bold mb-4",children:"Almost There!"}),i.jsx(X.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-muted-foreground mb-8",children:"To start sending and receiving money, you need to purchase a virtual card for just $60. This one-time fee unlocks all features."}),i.jsxs(X.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"bg-card p-4 rounded-xl border border-border mb-6 elevation-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("span",{className:"font-medium",children:"Virtual Card (Annual)"}),i.jsx("span",{className:"text-xl font-bold text-primary",children:"$60"})]}),i.jsxs("div",{className:"text-left space-y-2 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-green-500 text-sm mr-2",children:"check"}),i.jsx("span",{children:"Send money worldwide"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-green-500 text-sm mr-2",children:"check"}),i.jsx("span",{children:"Receive money instantly"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-green-500 text-sm mr-2",children:"check"}),i.jsx("span",{children:"Withdraw to bank accounts"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-green-500 text-sm mr-2",children:"check"}),i.jsx("span",{children:"24/7 customer support"})]})]})]}),i.jsxs(X.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"space-y-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-sm",children:"Choose Payment Method"}),i.jsx(X.div,{whileTap:{scale:.98},onClick:()=>n("auto"),className:`relative p-4 rounded-xl border-2 cursor-pointer transition-all ${r==="auto"?"border-primary bg-primary/5":"border-border bg-card hover:border-primary/50"}`,children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[i.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center mt-0.5 transition-all ${r==="auto"?"border-primary bg-primary":"border-border"}`,children:r==="auto"&&i.jsx("span",{className:"material-icons text-white text-xs",children:"check"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h4",{className:"font-semibold",children:"Automatic Payment"}),i.jsx("span",{className:"bg-green-500/10 text-green-700 dark:text-green-400 text-xs px-2 py-0.5 rounded-full font-medium",children:"Recommended"})]}),i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Instant activation via PayHero M-Pesa STK Push"}),i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsx("span",{className:"material-icons text-green-500 text-xs",children:"bolt"}),i.jsx("span",{className:"text-muted-foreground",children:"Instant"}),i.jsx("span",{className:"material-icons text-green-500 text-xs ml-2",children:"security"}),i.jsx("span",{className:"text-muted-foreground",children:"Secure"})]})]})]})})}),i.jsx(X.div,{whileTap:{scale:.98},onClick:()=>n("manual"),className:`relative p-4 rounded-xl border-2 cursor-pointer transition-all ${r==="manual"?"border-primary bg-primary/5":"border-border bg-card hover:border-primary/50"}`,children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[i.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center mt-0.5 transition-all ${r==="manual"?"border-primary bg-primary":"border-border"}`,children:r==="manual"&&i.jsx("span",{className:"material-icons text-white text-xs",children:"check"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold mb-1",children:"Manual M-Pesa Payment"}),i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Pay via M-Pesa paybill and contact support for activation"}),i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsx("span",{className:"material-icons text-amber-500 text-xs",children:"schedule"}),i.jsx("span",{className:"text-muted-foreground",children:"Requires manual activation"})]})]})]})})})]}),r==="auto"&&i.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3",children:[i.jsx(re,{onClick:l,className:"w-full ripple",disabled:a.isPending,"data-testid":"button-purchase-card",children:a.isPending?"Processing...":"Pay with M-Pesa - $60"}),i.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Secure payment powered by PayHero"})]}),r==="manual"&&i.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-muted/50 p-4 rounded-xl border border-border text-left space-y-3",children:[i.jsxs("h4",{className:"font-semibold flex items-center",children:[i.jsx("span",{className:"material-icons text-primary mr-2 text-sm",children:"payments"}),"Payment Instructions"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[i.jsx("span",{className:"text-muted-foreground",children:"Paybill Number:"}),i.jsx("span",{className:"font-mono font-semibold",children:(o==null?void 0:o.paybill)||"247"})]}),i.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[i.jsx("span",{className:"text-muted-foreground",children:"Account Number:"}),i.jsx("span",{className:"font-mono font-semibold",children:(o==null?void 0:o.account)||"4664"})]}),i.jsxs("div",{className:"flex justify-between items-center py-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),i.jsx("span",{className:"font-semibold",children:"KES 7,740"})]})]}),i.jsx("div",{className:"p-3 bg-amber-500/10 rounded-lg border border-amber-500/20",children:i.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-400",children:[i.jsx("span",{className:"material-icons text-xs mr-1 align-middle",children:"info"}),"After payment, contact support with your M-Pesa confirmation message to activate your card."]})}),i.jsxs(re,{onClick:()=>e("/support"),variant:"outline",className:"w-full",children:[i.jsx("span",{className:"material-icons text-sm mr-2",children:"support_agent"}),"Contact Support"]})]})]})]})})]})}const Ce=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:_t("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ce.displayName="Card";const Ge=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:_t("flex flex-col space-y-1.5 p-6",e),...t}));Ge.displayName="CardHeader";const Ze=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:_t("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ze.displayName="CardTitle";const kt=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:_t("text-sm text-muted-foreground",e),...t}));kt.displayName="CardDescription";const Ie=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:_t("p-6 pt-0",e),...t}));Ie.displayName="CardContent";const xhe=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:_t("flex items-center p-6 pt-0",e),...t}));xhe.displayName="CardFooter";const yhe=zy("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Pc=N.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:_t(yhe({variant:t}),e),...r}));Pc.displayName="Alert";const vhe=N.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:_t("mb-1 font-medium leading-none tracking-tight",e),...t}));vhe.displayName="AlertTitle";const Ac=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:_t("text-sm [&_p]:leading-relaxed",e),...t}));Ac.displayName="AlertDescription";function bhe(){const[,e]=Gt(),{toast:t}=Ct(),[r,n]=N.useState(""),[a,s]=N.useState(!1),[o,l]=N.useState(""),[c,u]=N.useState(!1),[d,f]=N.useState(""),h=async m=>{if(m.preventDefault(),l(""),!r.trim()){l("Please enter your phone number or email address");return}s(!0);try{const g=await He("POST","/api/auth/forgot-password",{contact:r.trim()});if(g.ok){const x=await g.json();localStorage.setItem("resetPhone",r.trim()),u(!0),f(x.sentVia||x.contact),t({title:"Success",description:"Reset code sent! Check your phone or email."}),setTimeout(()=>{e("/auth/reset-password")},2e3)}else{const x=await g.json();l(x.message||"Failed to send reset code"),t({title:"Error",description:x.message||"Failed to send reset code",variant:"destructive"})}}catch(g){const x=g.message||"Failed to send reset code. Please try again.";l(x),t({title:"Error",description:x,variant:"destructive"})}finally{s(!1)}};return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:i.jsxs(Ce,{className:"w-full max-w-md shadow-lg",children:[i.jsxs(Ge,{className:"space-y-2",children:[i.jsx(Ze,{className:"text-2xl",children:"Reset Password"}),i.jsx(kt,{children:"Enter your phone number or email address to receive a reset code"})]}),i.jsxs(Ie,{className:"space-y-4",children:[o&&i.jsxs(Pc,{variant:"destructive",children:[i.jsx(Ei,{className:"h-4 w-4"}),i.jsx(Ac,{children:o})]}),c&&i.jsx(Pc,{children:i.jsxs(Ac,{children:["Reset code sent to ",d,". Redirecting..."]})}),!c&&i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"contact",className:"text-sm font-medium",children:"Phone Number or Email"}),i.jsx(Be,{id:"contact",type:"text",placeholder:"Enter phone (e.g., +254712345678) or email",value:r,onChange:m=>n(m.target.value),disabled:a,className:"w-full"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter your registered phone number (with country code) or email address"})]}),i.jsx(re,{type:"submit",disabled:a||!r.trim(),className:"w-full",children:a?i.jsxs(i.Fragment,{children:[i.jsx(id,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):"Send Reset Code"})]}),i.jsxs(re,{variant:"ghost",className:"w-full",onClick:()=>e("/login"),children:[i.jsx(E0,{className:"w-4 h-4 mr-2"}),"Back to Login"]})]})]})})}const whe=to({code:rr().length(6,"Code must be 6 digits"),newPassword:rr().min(6,"Password must be at least 6 characters"),confirmPassword:rr().min(6,"Password must be at least 6 characters")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function jhe(){const[,e]=Gt(),[t,r]=N.useState(!1),{toast:n}=Ct(),a=Ho({resolver:Ko(whe),defaultValues:{code:"",newPassword:"",confirmPassword:""}}),s=St({mutationFn:async l=>{const u=localStorage.getItem("resetPhone");if(!u)throw new Error("Session expired. Please start again from the forgot password page.");return(await He("POST","/api/auth/reset-password",{phone:u,code:l.code,newPassword:l.newPassword})).json()},onSuccess:()=>{localStorage.removeItem("resetPhone"),n({title:"Password reset successful",description:"You can now sign in with your new password"}),e("/login")},onError:l=>{n({title:"Reset failed",description:l.message||"Invalid code or expired. Please try again.",variant:"destructive"})}}),o=l=>{s.mutate(l)};return i.jsxs("div",{className:"min-h-screen flex flex-col bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsx("div",{className:"flex-1 p-6",children:i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-sm mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx(X.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"material-icons text-white text-2xl",children:"vpn_key"})}),i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Enter Reset Code"}),i.jsx("p",{className:"text-muted-foreground",children:"Enter the code sent to your phone and your new password"})]}),i.jsx(ro,{...a,children:i.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-6",children:[i.jsx(zt,{control:a.control,name:"code",render:({field:l})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Reset Code"}),i.jsx(Wt,{children:i.jsx(Be,{...l,type:"text",placeholder:"000000",className:"h-12 text-center text-2xl tracking-widest",maxLength:6,autoComplete:"one-time-code"})}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:a.control,name:"newPassword",render:({field:l})=>i.jsxs($t,{children:[i.jsx(mr,{children:"New Password"}),i.jsx(Wt,{children:i.jsxs("div",{className:"relative",children:[i.jsx(Be,{...l,type:t?"text":"password",placeholder:"Enter new password",className:"h-12 pr-12",autoComplete:"new-password"}),i.jsx("button",{type:"button",onClick:()=>r(!t),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:i.jsx("span",{className:"material-icons text-xl",children:t?"visibility_off":"visibility"})})]})}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:a.control,name:"confirmPassword",render:({field:l})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Confirm Password"}),i.jsx(Wt,{children:i.jsx(Be,{...l,type:t?"text":"password",placeholder:"Confirm new password",className:"h-12",autoComplete:"new-password"})}),i.jsx(Ht,{})]})}),i.jsx(re,{type:"submit",className:"w-full h-12 text-base font-semibold",disabled:s.isPending,children:s.isPending?i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Resetting Password..."]}):"Reset Password"}),i.jsx("div",{className:"text-center",children:i.jsx(re,{type:"button",variant:"link",onClick:()=>e("/auth/forgot-password"),className:"text-primary",children:"Resend Code"})})]})})]})})]})}const Nhe=zy("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function st({className:e,variant:t,...r}){return i.jsx("div",{className:_t(Nhe({variant:t}),e),...r})}function sn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function jd(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const oW=6048e5,She=864e5,Cb=43200,eI=1440;let _he={};function ev(){return _he}function B0(e,t){var l,c,u,d;const r=ev(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=sn(e),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Ew(e){return B0(e,{weekStartsOn:1})}function lW(e){const t=sn(e),r=t.getFullYear(),n=jd(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Ew(n),s=jd(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Ew(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function tI(e){const t=sn(e);return t.setHours(0,0,0,0),t}function Ow(e){const t=sn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Phe(e,t){const r=tI(e),n=tI(t),a=+r-Ow(r),s=+n-Ow(n);return Math.round((a-s)/She)}function Ahe(e){const t=lW(e),r=jd(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ew(r)}function _1(e,t){const r=sn(e),n=sn(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function khe(e){return jd(e,Date.now())}function Che(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function The(e){if(!Che(e)&&typeof e!="number")return!1;const t=sn(e);return!isNaN(Number(t))}function Ehe(e,t){const r=sn(e),n=sn(t),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function Ohe(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Mhe(e,t){return+sn(e)-+sn(t)}function Lhe(e){const t=sn(e);return t.setHours(23,59,59,999),t}function Ihe(e){const t=sn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Dhe(e){const t=sn(e);return+Lhe(t)==+Ihe(t)}function Rhe(e,t){const r=sn(e),n=sn(t),a=_1(r,n),s=Math.abs(Ehe(r,n));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);let l=_1(r,n)===-a;Dhe(sn(e))&&s===1&&_1(e,n)===1&&(l=!1),o=a*(s-Number(l))}return o===0?0:o}function Fhe(e,t,r){const n=Mhe(e,t)/1e3;return Ohe(r==null?void 0:r.roundingMethod)(n)}function $he(e){const t=sn(e),r=jd(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Bhe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Uhe=(e,t,r)=>{let n;const a=Bhe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function bS(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const zhe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Vhe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qhe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Whe={date:bS({formats:zhe,defaultWidth:"full"}),time:bS({formats:Vhe,defaultWidth:"full"}),dateTime:bS({formats:qhe,defaultWidth:"full"})},Hhe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Khe=(e,t,r,n)=>Hhe[e];function hx(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const Ghe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yhe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xhe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zhe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eme=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},tme={ordinalNumber:eme,era:hx({values:Ghe,defaultWidth:"wide"}),quarter:hx({values:Yhe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:hx({values:Xhe,defaultWidth:"wide"}),day:hx({values:Zhe,defaultWidth:"wide"}),dayPeriod:hx({values:Qhe,defaultWidth:"wide",formattingValues:Jhe,defaultFormattingWidth:"wide"})};function mx(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?nme(l,f=>f.test(o)):rme(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function rme(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function nme(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ime(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const ame=/^(\d+)(th|st|nd|rd)?/i,sme=/\d+/i,ome={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lme={any:[/^b/i,/^(a|c)/i]},cme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ume={any:[/1/i,/2/i,/3/i,/4/i]},dme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fme={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hme={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pme={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xme={ordinalNumber:ime({matchPattern:ame,parsePattern:sme,valueCallback:e=>parseInt(e,10)}),era:mx({matchPatterns:ome,defaultMatchWidth:"wide",parsePatterns:lme,defaultParseWidth:"any"}),quarter:mx({matchPatterns:cme,defaultMatchWidth:"wide",parsePatterns:ume,defaultParseWidth:"any",valueCallback:e=>e+1}),month:mx({matchPatterns:dme,defaultMatchWidth:"wide",parsePatterns:fme,defaultParseWidth:"any"}),day:mx({matchPatterns:hme,defaultMatchWidth:"wide",parsePatterns:mme,defaultParseWidth:"any"}),dayPeriod:mx({matchPatterns:pme,defaultMatchWidth:"any",parsePatterns:gme,defaultParseWidth:"any"})},cW={code:"en-US",formatDistance:Uhe,formatLong:Whe,formatRelative:Khe,localize:tme,match:xme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yme(e){const t=sn(e);return Phe(t,$he(t))+1}function vme(e){const t=sn(e),r=+Ew(t)-+Ahe(t);return Math.round(r/oW)+1}function uW(e,t){var d,f,h,m;const r=sn(e),n=r.getFullYear(),a=ev(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=jd(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=B0(o,t),c=jd(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=B0(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function bme(e,t){var l,c,u,d;const r=ev(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=uW(e,t),s=jd(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),B0(s,t)}function wme(e,t){const r=sn(e),n=+B0(r,t)-+bme(r,t);return Math.round(n/oW)+1}function qr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const bu={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return qr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):qr(r+1,2)},d(e,t){return qr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return qr(e.getHours()%12||12,t.length)},H(e,t){return qr(e.getHours(),t.length)},m(e,t){return qr(e.getMinutes(),t.length)},s(e,t){return qr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return qr(a,t.length)}},Vh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rI={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return bu.y(e,t)},Y:function(e,t,r,n){const a=uW(e,n),s=a>0?a:1-a;if(t==="YY"){const o=s%100;return qr(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):qr(s,t.length)},R:function(e,t){const r=lW(e);return qr(r,t.length)},u:function(e,t){const r=e.getFullYear();return qr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return qr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return qr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return bu.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return qr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=wme(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):qr(a,t.length)},I:function(e,t,r){const n=vme(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):qr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):bu.d(e,t)},D:function(e,t,r){const n=yme(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):qr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return qr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return qr(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return qr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Vh.noon:n===0?a=Vh.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Vh.evening:n>=12?a=Vh.afternoon:n>=4?a=Vh.morning:a=Vh.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return bu.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):bu.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):qr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):qr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):bu.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):bu.s(e,t)},S:function(e,t){return bu.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return iI(n);case"XXXX":case"XX":return ff(n);case"XXXXX":case"XXX":default:return ff(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return iI(n);case"xxxx":case"xx":return ff(n);case"xxxxx":case"xxx":default:return ff(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+nI(n,":");case"OOOO":default:return"GMT"+ff(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+nI(n,":");case"zzzz":default:return"GMT"+ff(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return qr(n,t.length)},T:function(e,t,r){const n=e.getTime();return qr(n,t.length)}};function nI(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+qr(s,2)}function iI(e,t){return e%60===0?(e>0?"-":"+")+qr(Math.abs(e)/60,2):ff(e,t)}function ff(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=qr(Math.trunc(n/60),2),s=qr(n%60,2);return r+a+t+s}const aI=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},dW=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},jme=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return aI(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",aI(n,t)).replace("{{time}}",dW(a,t))},Nme={p:dW,P:jme},Sme=/^D+$/,_me=/^Y+$/,Pme=["D","DD","YY","YYYY"];function Ame(e){return Sme.test(e)}function kme(e){return _me.test(e)}function Cme(e,t,r){const n=Tme(e,t,r);if(console.warn(n),Pme.includes(e))throw new RangeError(n)}function Tme(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Eme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ome=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Mme=/^'([^]*?)'?$/,Lme=/''/g,Ime=/[a-zA-Z]/;function Qr(e,t,r){var d,f,h,m;const n=ev(),a=n.locale??cW,s=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,l=sn(e);if(!The(l))throw new RangeError("Invalid time value");let c=t.match(Ome).map(g=>{const x=g[0];if(x==="p"||x==="P"){const v=Nme[x];return v(g,a.formatLong)}return g}).join("").match(Eme).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const x=g[0];if(x==="'")return{isToken:!1,value:Dme(g)};if(rI[x])return{isToken:!0,value:g};if(x.match(Ime))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return c.map(g=>{if(!g.isToken)return g.value;const x=g.value;(kme(x)||Ame(x))&&Cme(x,t,String(e));const v=rI[x[0]];return v(l,x,a.localize,u)}).join("")}function Dme(e){const t=e.match(Mme);return t?t[1].replace(Lme,"'"):e}function Rme(e,t,r){const n=ev(),a=(r==null?void 0:r.locale)??n.locale??cW,s=2520,o=_1(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=sn(t),u=sn(e)):(c=sn(e),u=sn(t));const d=Fhe(u,c),f=(Ow(u)-Ow(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<eI){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<s)return a.formatDistance("xDays",1,l);if(h<Cb){const g=Math.round(h/eI);return a.formatDistance("xDays",g,l)}else if(h<Cb*2)return m=Math.round(h/Cb),a.formatDistance("aboutXMonths",m,l)}if(m=Rhe(u,c),m<12){const g=Math.round(h/Cb);return a.formatDistance("xMonths",g,l)}else{const g=m%12,x=Math.trunc(m/12);return g<3?a.formatDistance("aboutXYears",x,l):g<9?a.formatDistance("overXYears",x,l):a.formatDistance("almostXYears",x+1,l)}}function Fme(e,t){return Rme(e,khe(e),t)}function $me(){const[e,t]=N.useState(!1),{user:r}=Tr(),n=en(),[,a]=Gt(),{data:s={notifications:[]},isLoading:o}=Kt({queryKey:["/api/notifications",r==null?void 0:r.id],enabled:!!(r!=null&&r.id)}),l=(s==null?void 0:s.notifications)||[],c=St({mutationFn:async m=>He("POST",`/api/notifications/${m}/read`),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/notifications",r==null?void 0:r.id]})}}),u=l.filter(m=>!m.isRead).length,d=m=>{switch(m){case"success":return i.jsx(Fr,{className:"w-4 h-4 text-green-500"});case"warning":return i.jsx(pj,{className:"w-4 h-4 text-yellow-500"});case"error":return i.jsx(Ei,{className:"w-4 h-4 text-red-500"});default:return i.jsx(hj,{className:"w-4 h-4 text-blue-500"})}},f=m=>{c.mutate(m)},h=m=>{m.isRead||f(m.id),m.actionUrl&&(a(m.actionUrl),t(!1))};return o?i.jsx("div",{className:"relative",children:i.jsx(re,{variant:"ghost",size:"sm",disabled:!0,children:i.jsx(Bo,{className:"w-5 h-5"})})}):i.jsxs("div",{className:"relative",children:[i.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>t(!e),className:"relative","data-testid":"button-notifications",children:[i.jsx(Bo,{className:"w-5 h-5"}),u>0&&i.jsx(st,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs","data-testid":"badge-notification-count",children:u>9?"9+":u})]}),i.jsx(gh,{children:e&&i.jsxs(i.Fragment,{children:[i.jsx(X.div,{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>t(!1)}),i.jsxs(X.div,{className:"fixed top-4 left-4 right-4 sm:left-1/2 sm:right-auto sm:w-96 bg-background border border-border rounded-xl shadow-xl z-50 max-h-[80vh] overflow-hidden",style:{...window.innerWidth>=640?{left:"50%",transform:"translateX(-50%)",width:"24rem",right:"auto"}:{}},initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.2,ease:"easeOut"},children:[i.jsxs(X.div,{className:"flex items-center justify-between p-4 border-b border-border/50 bg-gradient-to-r from-primary/5 to-primary/10",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},children:[i.jsx("h3",{className:"font-semibold text-foreground",children:"Notifications"}),i.jsx(re,{variant:"ghost",size:"sm",onClick:()=>t(!1),className:"h-8 w-8 p-0 hover:bg-destructive/10 hover:text-destructive transition-colors","data-testid":"button-close-notifications",children:i.jsx(Fl,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"max-h-[60vh] sm:max-h-80 overflow-y-auto",children:l.length===0?i.jsxs(X.div,{className:"p-8 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.3},children:[i.jsx(Bo,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground opacity-50"}),i.jsx("p",{className:"text-muted-foreground","data-testid":"text-no-notifications",children:"No notifications yet"})]}):i.jsx("div",{className:"p-2 space-y-2",children:l.map((m,g)=>i.jsx(X.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.05,duration:.3},whileHover:{scale:1.01},whileTap:{scale:.99},children:i.jsx(Ce,{className:`cursor-pointer transition-all duration-200 hover:shadow-md border-border/30 ${m.isRead?"opacity-70 bg-background/50":"bg-primary/5 border-primary/20 shadow-sm"} ${m.actionUrl?"hover:bg-primary/10":""}`,onClick:()=>h(m),"data-testid":`notification-${m.id}`,children:i.jsxs(Ie,{className:"p-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(X.div,{className:"flex-shrink-0 mt-1",initial:{scale:0},animate:{scale:1},transition:{delay:g*.05+.2,duration:.2,type:"spring"},children:d(m.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-medium text-foreground text-sm line-clamp-2",children:m.title}),i.jsx("p",{className:"text-muted-foreground text-sm mt-1 line-clamp-2",children:m.message}),i.jsxs("div",{className:"flex items-center justify-between mt-3",children:[i.jsx("span",{className:"text-xs text-muted-foreground/80",children:Fme(new Date(m.createdAt),{addSuffix:!0})}),!m.isRead&&i.jsx(re,{size:"sm",variant:"ghost",onClick:x=>{x.stopPropagation(),f(m.id)},className:"text-xs h-7 px-2 hover:bg-primary/10 hover:text-primary transition-colors","data-testid":`button-mark-read-${m.id}`,children:"Mark as read"})]})]})]}),!m.isRead&&i.jsx(X.div,{className:"absolute top-3 right-3 w-2 h-2 bg-primary rounded-full",initial:{scale:0},animate:{scale:1},transition:{delay:g*.05+.3,duration:.2}})]})})},m.id))})})]})]})})]})}function Ut(e,t=2){const r=typeof e=="string"?parseFloat(e):e;return isNaN(r)?"0.00":r.toLocaleString("en-US",{minimumFractionDigits:t,maximumFractionDigits:t})}function P1(e){switch(e==null?void 0:e.toUpperCase()){case"KES":return"KSh ";case"USD":return"$";default:return"$"}}function Bme(){var B,G,le,fe,$;const[,e]=Gt(),[t,r]=N.useState(!0);N.useState(!1);const[n,a]=N.useState("USD"),[s,o]=N.useState(!1),{user:l,logout:c,refreshUser:u}=Tr(),{toast:d}=Ct(),{getMaintenanceMode:f,getMaintenanceMessage:h}=AA();N.useEffect(()=>{u()},[]),N.useEffect(()=>{f()&&!s&&(o(!0),d({title:"System Maintenance",description:h(),variant:"destructive"}))},[f(),s,d,h]);const{data:m}=Kt({queryKey:["/api/transactions",l==null?void 0:l.id],enabled:!!(l!=null&&l.id)}),{data:g}=Kt({queryKey:["/api/exchange-rates","USD"]}),{data:x}=Kt({queryKey:["/api/virtual-card",l==null?void 0:l.id],enabled:!!(l!=null&&l.id)}),{data:v}=Kt({queryKey:["/api/system-settings/card-price"]}),{data:p}=Kt({queryKey:["/api/users/login-history",l==null?void 0:l.id],queryFn:async()=>l!=null&&l.id?(await He("GET",`/api/users/${l.id}/login-history`)).json():null,enabled:!!(l!=null&&l.id)}),y=(m==null?void 0:m.transactions)||[],w=(p==null?void 0:p.loginHistory)||[],j=parseFloat((l==null?void 0:l.balance)||"0"),S=parseFloat((l==null?void 0:l.kesBalance)||"0"),P=n==="USD"?j:S;g!=null&&g.rates;const A=(l==null?void 0:l.kycStatus)==="verified",C=x==null?void 0:x.card,O=C&&C.status==="active",D=O?"active":"inactive";v!=null&&v.price;const E=()=>{document.documentElement.classList.toggle("dark")},k=[{id:"send",icon:Hi,label:"Send Money",path:"/send-money",color:"from-blue-500 to-blue-600",iconColor:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-950/20",disabled:!O,requiresCard:!0},{id:"receive",icon:Gs,label:"Receive",path:"/receive-money",color:"from-green-500 to-green-600",iconColor:"text-green-600",bgColor:"bg-green-50 dark:bg-green-950/20",disabled:!O,requiresCard:!0},{id:"airtime",icon:DC,label:"Buy Airtime",path:"/airtime",color:"from-purple-500 to-purple-600",iconColor:"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-950/20",disabled:!1,requiresCard:!1},{id:"bills",icon:SU,label:"Pay Bills",path:"/bills",color:"from-red-500 to-red-600",iconColor:"text-red-600",bgColor:"bg-red-50 dark:bg-red-950/20",disabled:!1,requiresCard:!1},{id:"deposit",icon:Wy,label:"Add Money",path:"/deposit",color:"from-orange-500 to-orange-600",iconColor:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-950/20",disabled:!1,requiresCard:!1}],R=q=>{if(q.disabled&&q.requiresCard){d({title:"Virtual Card Required",description:"Please get a virtual card first to use this feature. Tap 'Get Card' below.",variant:"default"});return}e(q.path)},{settings:L,isLoaded:H}=AA(),F=H&&(((B=L==null?void 0:L.general)==null?void 0:B.show_announcement)===!0||((G=L==null?void 0:L.general)==null?void 0:G.show_announcement)==="true"),V=(le=L==null?void 0:L.general)==null?void 0:le.dashboard_announcement;return i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx("div",{className:"max-w-md mx-auto px-4 pt-6",children:F&&V&&i.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-primary/10 border border-primary/20 p-4 rounded-2xl flex items-start gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center shrink-0",children:i.jsx(WO,{className:"w-4 h-4 text-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-primary",children:"Announcement"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 leading-relaxed",children:V})]})]})}),i.jsxs("div",{className:"relative overflow-hidden rounded-b-3xl",children:[i.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 1440 600",preserveAspectRatio:"none",style:{height:"100%"},children:[i.jsx("rect",{width:"1440",height:"600",fill:"#0f1a14"}),i.jsx("path",{d:"M 0,0 L 1440,0 L 1440,180 Q 1080,140 720,180 Q 360,140 0,180 Z",fill:"#4CAF50"}),i.jsx("path",{d:"M 0,180 Q 360,220 720,180 Q 1080,140 1440,180 L 1440,280 Q 1080,240 720,280 Q 360,240 0,280 Z",fill:"#3a9940",opacity:"0.8"}),i.jsx("path",{d:"M 0,280 Q 360,320 720,280 Q 1080,240 1440,280 L 1440,380 Q 1080,340 720,380 Q 360,340 0,380 Z",fill:"#2a7f30",opacity:"0.7"}),i.jsx("path",{d:"M 0,380 Q 360,420 720,380 Q 1080,340 1440,380 L 1440,480 Q 1080,440 720,480 Q 360,440 0,480 Z",fill:"#1a5a20",opacity:"0.8"}),i.jsx("path",{d:"M 20,480 Q 360,520 720,480 Q 1080,440 1420,480 Q 1430,480 1440,490 L 1440,600 L 0,600 L 0,490 Q 10,480 20,480 Z",fill:"#0f3a14",opacity:"0.9"})]}),i.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative z-10 bg-gradient-to-br from-primary/30 via-primary/20 to-secondary/30 backdrop-blur-sm p-6 text-white",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center flex-1",children:[l!=null&&l.profilePhotoUrl?i.jsx("img",{src:l.profilePhotoUrl,alt:"Profile",className:"w-12 h-12 rounded-full object-cover mr-3 border-2 border-white/30 shadow-lg"}):i.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center mr-3 border-2 border-white/30 shadow-lg",children:i.jsx("span",{className:"text-white font-bold text-lg",children:((fe=l==null?void 0:l.fullName)==null?void 0:fe.split(" ").map(q=>q[0]).join(""))||"JD"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"font-bold text-lg",children:["Hi, ",(($=l==null?void 0:l.fullName)==null?void 0:$.split(" ")[0])||"John","!"]}),i.jsx("p",{className:"text-xs text-white/80",children:"Welcome back "})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx($me,{}),i.jsx(X.button,{whileTap:{scale:.95},onClick:()=>e("/live-chat"),className:"p-2 rounded-full hover:opacity-80 transition-opacity",title:"Contact Support","data-testid":"button-support",children:i.jsx("span",{className:"material-icons text-white text-xl",children:"headset_mic"})}),i.jsx(X.button,{whileTap:{scale:.95},onClick:E,className:"p-2 rounded-full hover:opacity-80 transition-opacity mr-2","data-testid":"button-dark-mode",children:i.jsx("span",{className:"material-icons text-white text-xl",children:"brightness_6"})})]})]}),(l==null?void 0:l.country)&&i.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.05},className:"flex items-center gap-2 mb-3 justify-start",children:[i.jsx(jU,{className:"w-3.5 h-3.5 text-white/70"}),i.jsx("span",{className:"text-white/70 text-xs",children:"Logged in"}),i.jsx("span",{className:"text-white/70 text-xs font-medium",children:l.country})]}),i.jsxs(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white/10 backdrop-blur-md rounded-2xl p-5 border border-white/20 shadow-xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex bg-white/10 rounded-lg p-1 backdrop-blur-sm",children:[i.jsx("button",{onClick:()=>a("USD"),className:`px-3 py-1.5 rounded-md text-xs font-semibold transition-all ${n==="USD"?"bg-white text-primary shadow-md":"text-white/70 hover:text-white"}`,children:"USD"}),i.jsx("button",{onClick:()=>a("KES"),className:`px-3 py-1.5 rounded-md text-xs font-semibold transition-all ${n==="KES"?"bg-white text-primary shadow-md":"text-white/70 hover:text-white"}`,children:"KES"})]}),i.jsx(X.button,{whileTap:{scale:.95},onClick:()=>r(!t),className:"p-2 rounded-full hover:opacity-80 transition-opacity","data-testid":"button-toggle-balance",children:i.jsx("span",{className:"material-icons text-white text-lg",children:t?"visibility":"visibility_off"})})]}),i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"flex items-center justify-between mb-1",children:i.jsxs("p",{className:"text-white/70 text-xs flex items-center",children:[n," Balance",A&&i.jsx("span",{className:"material-icons text-green-300 ml-1 text-sm",children:"verified"})]})}),i.jsx("p",{className:"text-3xl font-bold mb-2","data-testid":"text-balance",children:t?n==="USD"?`$${Ut(P)}`:`KSh ${Ut(P)}`:""}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-white/60 text-xs",children:n==="USD"?i.jsxs(i.Fragment,{children:["Other: KSh ",t?Ut(S):""]}):i.jsxs(i.Fragment,{children:["Other: $",t?Ut(j):""]})}),i.jsxs(X.button,{whileTap:{scale:.95},onClick:()=>e("/exchange"),className:"flex items-center bg-white/10 hover:bg-white/20 px-2.5 py-1.5 rounded-lg transition-colors",children:[i.jsx("span",{className:"material-icons text-white text-sm mr-1",children:"currency_exchange"}),i.jsx("span",{className:"text-white text-xs font-medium",children:"Exchange"})]})]})]})})]})]})]}),i.jsxs("div",{className:"px-4 py-6 space-y-6",children:[!A&&(l==null?void 0:l.kycStatus)==="pending"&&i.jsxs(X.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 p-4 rounded-xl flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-blue-600 mr-3",children:"hourglass_empty"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-200 text-sm",children:"Documents Under Review"}),i.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Your KYC documents are being verified"})]})]}),i.jsx(re,{onClick:()=>e("/kyc"),size:"sm",variant:"outline",className:"border-blue-600 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-950/40 text-xs","data-testid":"button-view-kyc",children:"View Status"})]}),!A&&(l==null?void 0:l.kycStatus)==="rejected"&&i.jsxs(X.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 p-4 rounded-xl flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-red-600 mr-3",children:"error_outline"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-red-900 dark:text-red-200 text-sm",children:"Verification Failed"}),i.jsx("p",{className:"text-xs text-red-700 dark:text-red-300",children:"Please resubmit your documents"})]})]}),i.jsx(re,{onClick:()=>e("/kyc"),size:"sm",className:"bg-red-600 hover:bg-red-700 text-white text-xs","data-testid":"button-resubmit-kyc",children:"Resubmit"})]}),!A&&(!(l!=null&&l.kycStatus)||(l==null?void 0:l.kycStatus)==="not_submitted")&&i.jsxs(X.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-amber-600 mr-3",children:"warning"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-amber-900 dark:text-amber-200 text-sm",children:"Verify Your Identity"}),i.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"Complete KYC to unlock all features"})]})]}),i.jsx(re,{onClick:()=>e("/kyc"),size:"sm",className:"bg-amber-600 hover:bg-amber-700 text-white text-xs","data-testid":"button-verify-kyc",children:"Verify"})]}),!O&&i.jsxs(X.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 p-4 rounded-xl flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ks,{className:"w-5 h-5 text-blue-600 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-200 text-sm",children:"Get Virtual Card"}),i.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Start making transactions"})]})]}),i.jsx(re,{onClick:()=>e("/virtual-card"),size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white text-xs","data-testid":"button-activate-card",children:"Get Card"})]}),!(l!=null&&l.hasClaimedAirtimeBonus)&&i.jsx(X.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.15},className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-950/20 dark:to-pink-950/20 border border-purple-200 dark:border-purple-800 p-4 rounded-xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(WO,{className:"w-6 h-6 text-purple-600 mr-3 flex-shrink-0 animate-pulse"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-bold text-purple-900 dark:text-purple-200 text-sm mb-1",children:" Free Airtime Bonus!"}),i.jsx("p",{className:"text-xs text-purple-700 dark:text-purple-300",children:"Claim your one-time KES 15 airtime bonus now!"})]})]}),i.jsx(re,{onClick:async()=>{try{const Q=await(await He("POST","/api/airtime/claim-bonus",{userId:l==null?void 0:l.id})).json();Q.success?(d({title:"Bonus Claimed!",description:Q.message}),await u(),e("/airtime")):d({title:"Error",description:Q.message,variant:"destructive"})}catch{d({title:"Error",description:"Failed to claim bonus. Please try again.",variant:"destructive"})}},size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white text-xs",children:"Claim Now"})]})}),i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[i.jsx("h2",{className:"text-lg font-bold mb-4",children:"Quick Actions"}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:k.map((q,Q)=>{const ae=q.icon;return i.jsxs(X.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*Q},whileTap:{scale:q.disabled?1:.95},onClick:()=>R(q),className:`${q.bgColor} p-5 rounded-2xl border border-border hover:shadow-lg transition-all ${q.disabled?"opacity-50 cursor-not-allowed":"hover:scale-105"}`,children:[i.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${q.color} flex items-center justify-center mb-3 shadow-md`,children:i.jsx(ae,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-semibold text-sm",children:q.label}),q.disabled&&q.requiresCard&&i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Card required"})]})]},q.id)})})]}),i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[i.jsx("h2",{className:"text-lg font-bold mb-4",children:"Services"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(X.button,{whileTap:{scale:.95},onClick:()=>e("/virtual-card"),className:"bg-card p-5 rounded-2xl border border-border hover:shadow-lg transition-all hover:scale-105","data-testid":"button-virtual-card",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-indigo-600 flex items-center justify-center mb-3 shadow-md",children:i.jsx("span",{className:"material-icons text-white text-2xl leading-none",children:"credit_card"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-semibold text-sm mb-1",children:"Virtual Card"}),i.jsx("p",{className:`text-xs ${D==="active"?"text-green-600":"text-amber-600"}`,children:D==="active"?" Active":" Inactive"})]})]}),i.jsxs(X.button,{whileTap:{scale:.95},onClick:()=>e("/transactions"),className:"bg-card p-5 rounded-2xl border border-border hover:shadow-lg transition-all hover:scale-105","data-testid":"button-transactions",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-pink-500 to-pink-600 flex items-center justify-center mb-3 shadow-md",children:i.jsx("span",{className:"material-icons text-white text-2xl leading-none",children:"receipt_long"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-semibold text-sm mb-1",children:"History"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.length," records"]})]})]}),i.jsxs(X.button,{whileTap:{scale:.95},onClick:()=>e("/exchange"),className:"bg-card p-5 rounded-2xl border border-border hover:shadow-lg transition-all hover:scale-105",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-teal-600 flex items-center justify-center mb-3 shadow-md",children:i.jsx("span",{className:"material-icons text-white text-2xl leading-none",children:"currency_exchange"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-semibold text-sm mb-1",children:"Exchange"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Multi-currency"})]})]}),i.jsxs(X.button,{whileTap:{scale:.95},onClick:()=>e("/support"),className:"bg-card p-5 rounded-2xl border border-border hover:shadow-lg transition-all hover:scale-105","data-testid":"button-support",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-rose-500 to-rose-600 flex items-center justify-center mb-3 shadow-md",children:i.jsx("span",{className:"material-icons text-white text-2xl leading-none",children:"support_agent"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-semibold text-sm mb-1",children:"Support"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"24/7 help"})]})]}),i.jsxs(X.button,{whileTap:{scale:.95},onClick:()=>e("/status"),className:"bg-card p-5 rounded-2xl border border-border hover:shadow-lg transition-all hover:scale-105",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center mb-3 shadow-md",children:i.jsx("span",{className:"material-icons text-white text-2xl leading-none",children:"health_and_safety"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-semibold text-sm mb-1",children:"System Status"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Service health"})]})]}),i.jsxs(X.button,{whileTap:{scale:.95},onClick:()=>e("/settings"),className:"bg-card p-5 rounded-2xl border border-border hover:shadow-lg transition-all hover:scale-105","data-testid":"button-settings",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center mb-3 shadow-md",children:i.jsx("span",{className:"material-icons text-white text-2xl leading-none",children:"settings"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-semibold text-sm mb-1",children:"Settings"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Preferences & security"})]})]}),i.jsxs(X.button,{whileTap:{scale:.95},onClick:()=>e("/loans"),className:"bg-card p-5 rounded-2xl border border-border hover:shadow-lg transition-all hover:scale-105",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center mb-3 shadow-md",children:i.jsx(Qn,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-semibold text-sm mb-1",children:"Loans"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Borrow easily"})]})]}),i.jsxs(X.button,{whileTap:{scale:.95},onClick:()=>e("/api-service"),className:"bg-card p-5 rounded-2xl border border-border hover:shadow-lg transition-all hover:scale-105",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mb-3 shadow-md",children:i.jsx(gj,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-semibold text-sm mb-1",children:"API Services"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Generate & manage keys"})]})]})]})]}),y.length>0&&i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card rounded-2xl border border-border shadow-sm",children:[i.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[i.jsx("h3",{className:"font-bold text-base",children:"Recent Activity"}),i.jsx(re,{variant:"ghost",size:"sm",onClick:()=>e("/transactions"),className:"text-xs","data-testid":"button-view-all-transactions",children:"View All"})]}),i.jsx("div",{className:"divide-y divide-border",children:y.slice(0,3).map((q,Q)=>{var ae;return i.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-muted/50 transition-colors",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center mr-3 ${q.type==="receive"||q.type==="deposit"?"bg-green-100 dark:bg-green-950/30 text-green-600":"bg-red-100 dark:bg-red-950/30 text-red-600"}`,children:i.jsx("span",{className:"material-icons text-lg",children:q.type==="receive"||q.type==="deposit"?"arrow_downward":"arrow_upward"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm capitalize",children:q.type.replace("_"," ")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(q.createdAt).toLocaleDateString()})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-bold text-sm ${q.type==="receive"||q.type==="deposit"?"text-green-600":"text-red-600"}`,children:[q.type==="receive"||q.type==="deposit"?"+":"-",((ae=q.currency)==null?void 0:ae.toUpperCase())==="KES"?"KSh ":"$",q.amount]}),i.jsx("p",{className:`text-xs ${q.status==="completed"?"text-green-600":q.status==="pending"?"text-amber-600":"text-red-600"}`,children:q.status})]})]},q.id||Q)})})]}),w.length>0&&i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-card rounded-2xl border border-border shadow-sm",children:[i.jsx("div",{className:"p-4 border-b border-border",children:i.jsx("h3",{className:"font-bold text-base",children:"Recent Logins"})}),i.jsx("div",{className:"divide-y divide-border",children:w.slice(0,5).map((q,Q)=>i.jsxs("div",{className:"p-4 flex items-start justify-between hover:bg-muted/50 transition-colors",children:[i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 dark:bg-blue-950/30 text-blue-600 flex items-center justify-center mr-3 flex-shrink-0",children:i.jsx("span",{className:"material-icons text-lg",children:q.deviceType==="mobile"?"smartphone":"computer"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsxs("p",{className:"font-medium text-sm truncate",children:[q.browser||"Unknown Browser",q.deviceType&&`  ${q.deviceType.charAt(0).toUpperCase()+q.deviceType.slice(1)}`]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:q.location||"Unknown Location"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:new Date(q.createdAt).toLocaleString()})]})]}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${q.status==="success"?"bg-green-100 text-green-700 dark:bg-green-950/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-950/30 dark:text-red-400"}`,children:q.status})})]},q.id||Q))})]})]})]})}const za=N.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:_t("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));za.displayName="Textarea";var I3="Dialog",[fW,kBe]=js(I3),[Ume,Go]=fW(I3),hW=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=N.useRef(null),c=N.useRef(null),[u=!1,d]=Ll({prop:n,defaultProp:a,onChange:s});return i.jsx(Ume,{scope:t,triggerRef:l,contentRef:c,contentId:_l(),titleId:_l(),descriptionId:_l(),open:u,onOpenChange:d,onOpenToggle:N.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};hW.displayName=I3;var mW="DialogTrigger",pW=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Go(mW,r),s=br(t,a.triggerRef);return i.jsx(Tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":F3(a.open),...n,ref:s,onClick:jt(e.onClick,a.onOpenToggle)})});pW.displayName=mW;var D3="DialogPortal",[zme,gW]=fW(D3,{forceMount:void 0}),xW=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Go(D3,t);return i.jsx(zme,{scope:t,forceMount:r,children:N.Children.map(n,o=>i.jsx(ao,{present:r||s.open,children:i.jsx(cj,{asChild:!0,container:a,children:o})}))})};xW.displayName=D3;var Mw="DialogOverlay",yW=N.forwardRef((e,t)=>{const r=gW(Mw,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Go(Mw,e.__scopeDialog);return s.modal?i.jsx(ao,{present:n||s.open,children:i.jsx(qme,{...a,ref:t})}):null});yW.displayName=Mw;var Vme=dp("DialogOverlay.RemoveScroll"),qme=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Go(Mw,r);return i.jsx(M3,{as:Vme,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(Tt.div,{"data-state":F3(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),nh="DialogContent",vW=N.forwardRef((e,t)=>{const r=gW(nh,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Go(nh,e.__scopeDialog);return i.jsx(ao,{present:n||s.open,children:s.modal?i.jsx(Wme,{...a,ref:t}):i.jsx(Hme,{...a,ref:t})})});vW.displayName=nh;var Wme=N.forwardRef((e,t)=>{const r=Go(nh,e.__scopeDialog),n=N.useRef(null),a=br(t,r.contentRef,n);return N.useEffect(()=>{const s=n.current;if(s)return pq(s)},[]),i.jsx(bW,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jt(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:jt(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:jt(e.onFocusOutside,s=>s.preventDefault())})}),Hme=N.forwardRef((e,t)=>{const r=Go(nh,e.__scopeDialog),n=N.useRef(!1),a=N.useRef(!1);return i.jsx(bW,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),bW=N.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=Go(nh,r),c=N.useRef(null),u=br(t,c);return dq(),i.jsxs(i.Fragment,{children:[i.jsx(O3,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(By,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":F3(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(Kme,{titleId:l.titleId}),i.jsx(Yme,{contentRef:c,descriptionId:l.descriptionId})]})]})}),R3="DialogTitle",wW=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Go(R3,r);return i.jsx(Tt.h2,{id:a.titleId,...n,ref:t})});wW.displayName=R3;var jW="DialogDescription",NW=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Go(jW,r);return i.jsx(Tt.p,{id:a.descriptionId,...n,ref:t})});NW.displayName=jW;var SW="DialogClose",_W=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Go(SW,r);return i.jsx(Tt.button,{type:"button",...n,ref:t,onClick:jt(e.onClick,()=>a.onOpenChange(!1))})});_W.displayName=SW;function F3(e){return e?"open":"closed"}var PW="DialogTitleWarning",[CBe,AW]=Hre(PW,{contentName:nh,titleName:R3,docsSlug:"dialog"}),Kme=({titleId:e})=>{const t=AW(PW),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Gme="DialogDescriptionWarning",Yme=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${AW(Gme).contentName}}.`;return N.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Xme=hW,Zme=pW,Qme=xW,kW=yW,CW=vW,TW=wW,EW=NW,Jme=_W;const ca=Xme,kc=Zme,epe=Qme,OW=N.forwardRef(({className:e,...t},r)=>i.jsx(kW,{ref:r,className:_t("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));OW.displayName=kW.displayName;const Vi=N.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(epe,{children:[i.jsx(OW,{}),i.jsxs(CW,{ref:n,className:_t("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(Jme,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Fl,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Vi.displayName=CW.displayName;const vi=({className:e,...t})=>i.jsx("div",{className:_t("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});vi.displayName="DialogHeader";const Dj=({className:e,...t})=>i.jsx("div",{className:_t("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Dj.displayName="DialogFooter";const ai=N.forwardRef(({className:e,...t},r)=>i.jsx(TW,{ref:r,className:_t("text-lg font-semibold leading-none tracking-tight",e),...t}));ai.displayName=TW.displayName;const Xs=N.forwardRef(({className:e,...t},r)=>i.jsx(EW,{ref:r,className:_t("text-sm text-muted-foreground",e),...t}));Xs.displayName=EW.displayName;function MW({isOpen:e,onClose:t,onSuccess:r,isLoading:n=!1,title:a="Enter PIN",description:s="Enter your 4-digit PIN to complete this transaction"}){const[o,l]=N.useState(""),{toast:c}=Ct(),u=()=>{if(o.length!==4){c({title:"Invalid PIN",description:"PIN must be 4 digits",variant:"destructive"});return}if(!/^\d{4}$/.test(o)){c({title:"Invalid PIN",description:"PIN must contain only numbers",variant:"destructive"});return}r(o),l("")},d=()=>{l(""),t()};return i.jsx(ca,{open:e,onOpenChange:d,children:i.jsxs(Vi,{className:"sm:max-w-md",children:[i.jsx(vi,{children:i.jsxs(ai,{className:"flex items-center gap-2",children:[i.jsx(wa,{className:"w-5 h-5"}),a]})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:s}),i.jsx(Be,{type:"password",inputMode:"numeric",placeholder:"",maxLength:4,value:o,onChange:f=>l(f.target.value.replace(/[^0-9]/g,"")),className:"text-center text-2xl tracking-widest",onKeyDown:f=>{f.key==="Enter"&&u()}}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(re,{variant:"outline",onClick:d,disabled:n,className:"flex-1",children:"Cancel"}),i.jsx(re,{onClick:u,disabled:o.length!==4||n,className:"flex-1",children:n?"Verifying...":"Verify PIN"})]})]})]})})}function tpe(){const[,e]=Gt(),[t,r]=N.useState(""),[n,a]=N.useState(null),[s,o]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState([]),[f,h]=N.useState(!1),[m,g]=N.useState(!1),[x,v]=N.useState(null),{user:p}=Tr(),{toast:y}=Ct(),w=en(),{data:j}=Kt({queryKey:["/api/transactions",p==null?void 0:p.id],enabled:!!(p!=null&&p.id)});j!=null&&j.transactions;const S=parseFloat((p==null?void 0:p.balance)||"0"),P=St({mutationFn:async L=>{const F=`/api/users/search?q=${encodeURIComponent(L)}`;console.log("[Frontend API] Calling:",F);const V=await He("GET",F);console.log("[Frontend API] Response status:",V.status);const B=await V.json();return console.log("[Frontend API] Response data:",B),B},onSuccess:L=>{console.log("[Frontend Search Success] Found users:",L.users),d(L.users||[]),h(!1)},onError:L=>{console.error("[Frontend Search Error] Search failed:",L),d([]),h(!1)}}),A=St({mutationFn:async L=>{const H=await He("POST","/api/transfer",L),F=await H.json();if(H.status===400&&F.requiresPin)throw{...F,requiresPin:!0};if(!H.ok)throw new Error(F.message||"Transfer failed");return F},onSuccess:()=>{y({title:"Transfer Successful",description:`$${s} sent to ${n==null?void 0:n.fullName} successfully!`}),D(),w.invalidateQueries({queryKey:["/api/transactions",p==null?void 0:p.id]}),setTimeout(()=>{e("/dashboard")},2e3)},onError:L=>{if(L.requiresPin){g(!0);return}y({title:"Transfer Failed",description:L.message||"Unable to complete transfer. Please try again.",variant:"destructive"})}}),C=async L=>{if(console.log("[Frontend Search] User typed:",L),L.length<2){console.log("[Frontend Search] Term too short, clearing results"),d([]);return}console.log("[Frontend Search] Starting search for:",L),h(!0),P.mutate(L)},O=L=>{a(L),d([]),r("")},D=()=>{a(null),o(""),c(""),r(""),d([]),v(null)},E=L=>{x&&(g(!1),A.mutate({...x,pin:L}))},k=()=>{if(console.log("[Frontend Transfer] Starting transfer..."),console.log("[Frontend Transfer] Selected user:",n),console.log("[Frontend Transfer] Current user ID:",p==null?void 0:p.id),console.log("[Frontend Transfer] Amount:",s),!n||!s||!p){console.error("[Frontend Transfer] Missing data:",{selectedUser:!!n,amount:!!s,user:!!p});return}const L=parseFloat(s);if(L<=0){console.error("[Frontend Transfer] Invalid amount:",L),y({title:"Invalid Amount",description:"Please enter a valid amount greater than 0.",variant:"destructive"});return}if(L>S){console.error("[Frontend Transfer] Insufficient balance:",{available:S,requested:L}),y({title:"Insufficient Balance",description:"You don't have enough balance for this transfer.",variant:"destructive"});return}const H={fromUserId:p.id,toUserId:n.id,amount:s,currency:"USD",description:l||`Transfer to ${n.fullName}`};console.log("[Frontend Transfer] Sending payload:",H),A.mutate(H)};if(!(p!=null&&p.hasVirtualCard))return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6",children:i.jsxs("div",{className:"text-center max-w-sm",children:[i.jsx("div",{className:"w-16 h-16 bg-destructive/20 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"material-icons text-destructive",children:"block"})}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Virtual Card Required"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"You need to purchase a virtual card before you can send money."}),i.jsx(re,{onClick:()=>e("/virtual-card"),children:"Get Virtual Card"})]})});const R=()=>i.jsxs("div",{className:"space-y-4",children:[!n&&i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Ys,{className:"w-5 h-5"}),"Find GreenPay User"]}),i.jsx(kt,{children:"Search for a GreenPay user by email or full name"})]}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ng,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),i.jsx(Be,{placeholder:"Enter email or full name...",value:t,onChange:L=>{r(L.target.value),C(L.target.value)},className:"pl-10","data-testid":"input-search-greenpay-user"})]}),f&&i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-muted-foreground",children:"Searching..."})}),u.length>0&&i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:u.map(L=>i.jsx(X.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>O(L),className:"p-3 border rounded-lg cursor-pointer hover:bg-muted transition-colors","data-testid":`greenpay-user-result-${L.id}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-primary font-semibold",children:L.fullName.split(" ").map(H=>H[0]).join("")})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:L.fullName}),i.jsx("p",{className:"text-sm text-muted-foreground",children:L.email})]})]})},L.id))}),t.length>=2&&!f&&u.length===0&&i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-muted-foreground",children:"No users found"})})]})]}),n&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs(Ce,{children:[i.jsx(Ge,{children:i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Fr,{className:"w-5 h-5 text-green-600"}),"Sending to"]})}),i.jsx(Ie,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-primary font-semibold text-lg",children:n.fullName.split(" ").map(L=>L[0]).join("")})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:n.fullName}),i.jsx("p",{className:"text-sm text-muted-foreground",children:n.email})]})]}),i.jsx(re,{variant:"ghost",size:"sm",onClick:()=>a(null),"data-testid":"button-change-greenpay-user",children:"Change"})]})})]}),i.jsxs(Ce,{children:[i.jsx(Ge,{children:i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Hi,{className:"w-5 h-5"}),"Transfer Details"]})}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"greenpay-amount",children:"Amount (USD)"}),i.jsxs("div",{className:"relative",children:[i.jsx(Qn,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),i.jsx(Be,{id:"greenpay-amount",type:"number",placeholder:"0.00",value:s,onChange:L=>o(L.target.value),className:"pl-10",min:"0",step:"0.01","data-testid":"input-greenpay-amount"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Available: $",S.toFixed(2)]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"greenpay-description",children:"Description (Optional)"}),i.jsx(za,{id:"greenpay-description",placeholder:"What's this transfer for?",value:l,onChange:L=>c(L.target.value),rows:3,"data-testid":"input-greenpay-description"})]}),i.jsx(re,{onClick:k,disabled:!s||parseFloat(s)<=0||A.isPending,className:"w-full",size:"lg","data-testid":"button-send-greenpay-money",children:A.isPending?"Processing Transfer...":i.jsxs(i.Fragment,{children:[i.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Send $",s||"0.00"]})})]})]})]}),i.jsx(Ce,{children:i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:i.jsx("span",{className:"material-icons text-blue-600 text-sm",children:"info"})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium text-sm",children:"About GreenPay Transfers"}),i.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[i.jsx("p",{children:" Transfers between GreenPay users are instant and free"}),i.jsx("p",{children:" Both sender and recipient will receive notifications"}),i.jsx("p",{children:" Transfers are processed immediately with real-time balance updates"})]})]})]})})})]});return i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-primary to-secondary p-6 rounded-2xl text-white elevation-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-green-200 text-sm",children:"Available Balance"}),i.jsxs("p",{className:"text-3xl font-bold",children:["$",S.toFixed(2)]})]}),i.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:i.jsx(Qn,{className:"w-6 h-6"})})]}),i.jsx("p",{className:"text-green-200 text-sm",children:"GreenPay Wallet"})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[i.jsx(Ys,{className:"w-5 h-5"}),"Send to GreenPay Users"]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Transfer money instantly to other GreenPay users - free and instant"})]}),R()]})]}),i.jsx(MW,{isOpen:m,onClose:()=>g(!1),onSuccess:E,title:"Verify Transfer",description:"Enter your 4-digit PIN to complete this transfer"})]})}function rpe(e="USD"){return Kt({queryKey:["exchange-rates",e],queryFn:async()=>(await He("GET",`/api/exchange-rates/${e}`)).json(),refetchInterval:3e4,staleTime:3e4})}const LW=rpe;function npe(){var C;const[,e]=Gt(),[t,r]=N.useState(""),[n,a]=N.useState(""),[s,o]=N.useState("USD"),[l,c]=N.useState("KES"),[u,d]=N.useState(null),{user:f}=Tr(),{toast:h}=Ct(),{data:m}=LW(s);N.useEffect(()=>{const O=sessionStorage.getItem("selectedRecipient");if(O){const D=JSON.parse(O);d(D),c(D.currency||"KES")}else e("/send-money")},[e]);const g=((C=m==null?void 0:m.rates)==null?void 0:C[l])||1,x=t?parseFloat(t):0,v=x*g,p=x*.025,y=x+p,w=x?Ut(v):"0.00",j=x?Ut(p):"0.00",S=x?Ut(y):"0.00",P=()=>{if(!t||parseFloat(t)<=0){h({title:"Invalid Amount",description:"Please enter a valid amount",variant:"destructive"});return}if(parseFloat(t)>parseFloat((f==null?void 0:f.balance)||"0")){h({title:"Insufficient Balance",description:"You don't have enough balance for this transfer",variant:"destructive"});return}sessionStorage.setItem("transferDetails",JSON.stringify({recipient:u,amount:t,sourceCurrency:s,targetCurrency:l,convertedAmount:w,fee:j,total:S,description:n,exchangeRate:g})),e("/send-confirm")},A=[{code:"USD",name:"US Dollar",symbol:"$"},{code:"KES",name:"Kenyan Shilling",symbol:"KSh"}];return u?i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex items-center justify-center mb-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-muted text-muted-foreground rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),i.jsx("div",{className:"w-16 h-1 bg-primary mx-2"}),i.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),i.jsx("div",{className:"w-16 h-1 bg-muted mx-2"}),i.jsx("div",{className:"w-8 h-8 bg-muted text-muted-foreground rounded-full flex items-center justify-center text-sm font-bold",children:"3"})]})}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Sending to"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center mr-3",children:i.jsx("span",{className:"text-white font-semibold text-sm",children:u.name.split(" ").map(O=>O[0]).join("").toUpperCase()})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:u.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.country,"  ",u.currency]})]})]})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card p-6 rounded-xl border border-border elevation-1",children:[i.jsx("h3",{className:"font-semibold mb-4",children:"How much are you sending?"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex space-x-3",children:i.jsxs("div",{className:"flex-1",children:[i.jsx(Ve,{htmlFor:"amount",children:"You send"}),i.jsxs("div",{className:"relative",children:[i.jsx(Be,{id:"amount",type:"number",placeholder:"0.00",value:t,onChange:O=>r(O.target.value),className:"pr-16 text-2xl h-14","data-testid":"input-amount"}),i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:i.jsxs(Kr,{value:s,onValueChange:o,children:[i.jsx(Br,{className:"w-20 h-8 text-sm border-0 bg-transparent",children:i.jsx(Gr,{})}),i.jsx(Ur,{children:A.map(O=>i.jsx(nt,{value:O.code,children:O.code},O.code))})]})})]})]})}),i.jsx("div",{className:"text-center py-2",children:i.jsxs("div",{className:"flex items-center justify-center text-sm text-muted-foreground",children:[i.jsx("span",{className:"material-icons mr-1 text-sm",children:"sync_alt"}),"1 ",s," = ",g.toFixed(4)," ",l]})}),i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"converted",children:"Recipient gets"}),i.jsxs("div",{className:"relative",children:[i.jsx(Be,{id:"converted",value:w,disabled:!0,className:"pr-16 text-2xl h-14 bg-muted/50"}),i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm font-medium",children:l})]})]}),i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"description",children:"Description (Optional)"}),i.jsx(Be,{id:"description",placeholder:"What's this for?",value:n,onChange:O=>a(O.target.value),"data-testid":"input-description"})]})]})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Transaction breakdown"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Transfer amount"}),i.jsxs("span",{children:[t||"0.00"," ",s]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Transfer fee"}),i.jsxs("span",{children:[j," ",s]})]}),i.jsx("div",{className:"border-t border-border pt-2 mt-2",children:i.jsxs("div",{className:"flex justify-between font-semibold",children:[i.jsx("span",{children:"Total to pay"}),i.jsxs("span",{children:[S," ",s]})]})})]})]}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Available balance: ",i.jsxs("span",{className:"font-semibold",children:["$",Ut(parseFloat((f==null?void 0:f.balance)||"0"))," USD"]})]})}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:i.jsx(re,{onClick:P,className:"w-full ripple",disabled:!t||parseFloat(t)<=0,"data-testid":"button-continue",children:"Continue"})})]})]}):i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})})}function ipe(){var d,f,h,m,g,x;const[,e]=Gt(),[t,r]=N.useState(null),[n,a]=N.useState(new Array(4).fill("")),{toast:s}=Ct(),{user:o}=Tr();N.useEffect(()=>{const v=sessionStorage.getItem("transferData");v?r(JSON.parse(v)):e("/send-money")},[e]);const l=St({mutationFn:async()=>(await He("POST","/api/transactions",{userId:o==null?void 0:o.id,type:"send",amount:t.amount,currency:t.currency,recipientDetails:t.recipient,fee:t.fee,exchangeRate:t.exchangeRate.toString(),description:`Sent to ${t.recipient.name}`})).json(),onSuccess:()=>{var p;const v=((p=t.currency)==null?void 0:p.toUpperCase())==="KES"?"KSh ":"$";s({title:"Transfer successful!",description:`${v}${t.amount} has been sent to ${t.recipient.name}.`}),sessionStorage.removeItem("selectedRecipient"),sessionStorage.removeItem("transferData"),e("/dashboard")},onError:()=>{s({title:"Transfer failed",description:"Unable to complete the transfer. Please try again.",variant:"destructive"})}}),c=(v,p)=>{if(isNaN(Number(v.value)))return!1;a([...n.map((y,w)=>w===p?v.value:y)]),v.nextSibling&&v.value!==""&&v.nextSibling.focus()},u=()=>{n.join("").length===4?l.mutate():s({title:"Invalid PIN",description:"Please enter your 4-digit transaction PIN.",variant:"destructive"})};return t?i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex items-center justify-center mb-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),i.jsx("div",{className:"w-16 h-1 bg-primary mx-2"}),i.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),i.jsx("div",{className:"w-16 h-1 bg-primary mx-2"}),i.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"})]})}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card p-6 rounded-xl border border-border elevation-1",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-white font-bold text-xl",children:t.recipient.initials})}),i.jsx("h3",{className:"text-xl font-bold mb-2",children:t.recipient.name}),i.jsx("p",{className:"text-muted-foreground",children:t.recipient.country})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[i.jsx("span",{className:"text-muted-foreground",children:"You send"}),i.jsxs("span",{className:"font-semibold text-lg",children:[((d=t.currency)==null?void 0:d.toUpperCase())==="KES"?"KSh ":"$",t.amount]})]}),i.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[i.jsx("span",{className:"text-muted-foreground",children:"They receive"}),i.jsxs("span",{className:"font-semibold text-lg",children:[((f=t.targetCurrency)==null?void 0:f.toUpperCase())==="KES"?"KSh ":"$",t.recipientAmount]})]}),i.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[i.jsx("span",{className:"text-muted-foreground",children:"Transfer fee"}),i.jsxs("span",{className:"font-medium",children:[((h=t.currency)==null?void 0:h.toUpperCase())==="KES"?"KSh ":"$",t.fee]})]}),i.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[i.jsx("span",{className:"text-muted-foreground",children:"Exchange rate"}),i.jsxs("span",{className:"font-medium",children:["1 ",((m=t.currency)==null?void 0:m.toUpperCase())||"USD"," = ",t.exchangeRate.toLocaleString()," ",((g=t.targetCurrency)==null?void 0:g.toUpperCase())||"KES"]})]}),i.jsxs("div",{className:"flex justify-between items-center py-2",children:[i.jsx("span",{className:"font-bold",children:"Total to pay"}),i.jsxs("span",{className:"font-bold text-xl text-primary",children:[((x=t.currency)==null?void 0:x.toUpperCase())==="KES"?"KSh ":"$",t.total]})]})]})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card p-6 rounded-xl border border-border elevation-1",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-accent rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"material-icons text-accent-foreground",children:"lock"})}),i.jsx("h3",{className:"font-semibold mb-2",children:"Enter Transaction PIN"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Please enter your 4-digit PIN to confirm this transfer"})]}),i.jsx("div",{className:"flex justify-center space-x-3 mb-6",children:n.map((v,p)=>i.jsx("input",{type:"password",maxLength:1,value:v,onChange:y=>c(y.target,p),onFocus:y=>y.target.select(),className:"w-12 h-12 text-center text-xl font-bold border border-border rounded-xl bg-input focus:outline-none focus:ring-2 focus:ring-ring transition-all","data-testid":`input-pin-${p}`},p))})]}),i.jsx(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-accent/10 p-4 rounded-xl border border-accent/20",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("span",{className:"material-icons text-accent mr-3 mt-0.5",children:"info"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-accent mb-1",children:"Important"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"This transfer cannot be cancelled once confirmed. Please verify all details are correct."})]})]})}),i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-3",children:[i.jsx(re,{onClick:u,className:"w-full ripple bg-primary hover:bg-primary/90",disabled:l.isPending||n.join("").length!==4,"data-testid":"button-confirm-transfer",children:l.isPending?"Processing...":`Confirm Transfer - $${t.total}`}),i.jsx(re,{variant:"outline",onClick:()=>e("/send-amount"),className:"w-full","data-testid":"button-edit-transfer",children:"Edit Transfer"})]})]})]}):i.jsx("div",{children:"Loading..."})}function ape({value:e,size:t=192,className:r=""}){const n=N.useRef(null);N.useEffect(()=>{const l=n.current;if(!l)return;const c=l.getContext("2d");if(!c)return;const u=t/25,d=25;c.fillStyle="white",c.fillRect(0,0,t,t),c.fillStyle="black",a(c,0,0,u),a(c,(d-7)*u,0,u),a(c,0,(d-7)*u,u);for(let f=0;f<d;f++)for(let h=0;h<d;h++){if(s(f,h,d))continue;o(e+f+h)%3===0&&c.fillRect(f*u,h*u,u,u)}},[e,t]);function a(l,c,u,d){l.fillRect(c,u,7*d,7*d),l.fillStyle="white",l.fillRect(c+d,u+d,5*d,5*d),l.fillStyle="black",l.fillRect(c+2*d,u+2*d,3*d,3*d)}function s(l,c,u){return l<9&&c<9||l>=u-8&&c<9||l<9&&c>=u-8}function o(l){let c=0;for(let u=0;u<l.length;u++){const d=l.charCodeAt(u);c=(c<<5)-c+d,c=c&c}return Math.abs(c)}return i.jsx("canvas",{ref:n,width:t,height:t,className:`border border-border rounded-lg ${r}`,"data-testid":"qr-code"})}const spe=to({amount:rr().min(1,"Amount is required").refine(e=>parseFloat(e)>0,"Amount must be greater than 0"),currency:rr().min(1,"Please select a currency"),toEmail:rr().optional(),toPhone:rr().optional(),message:rr().optional()}).refine(e=>e.toEmail||e.toPhone,{message:"Please enter either email or phone number",path:["toEmail"]});function ope(){var u;Gt();const[e,t]=N.useState("qr"),{toast:r}=Ct(),{user:n}=Tr(),a=Ho({resolver:Ko(spe),defaultValues:{amount:"",currency:"USD",toEmail:"",toPhone:"",message:""}}),s=St({mutationFn:async d=>(await He("POST","/api/payment-requests",{fromUserId:n==null?void 0:n.id,...d})).json(),onSuccess:()=>{r({title:"Payment request sent!",description:"The recipient will be notified about your payment request."}),a.reset()},onError:()=>{r({title:"Request failed",description:"Unable to send payment request. Please try again.",variant:"destructive"})}}),o=d=>{s.mutate(d)},l=(d,f)=>{navigator.clipboard.writeText(d),r({title:"Copied!",description:`${f} copied to clipboard.`})},c=()=>{navigator.share?navigator.share({title:"GreenPay QR Code",text:"Scan this QR code to send me money via GreenPay"}):r({title:"QR Code ready",description:"Save or screenshot the QR code to share."})};return i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex space-x-1 bg-muted p-1 rounded-lg",children:[i.jsx("button",{onClick:()=>t("qr"),className:`flex-1 py-2 px-3 text-sm font-medium rounded-md transition-all ${e==="qr"?"bg-card text-foreground elevation-1":"text-muted-foreground hover:text-foreground"}`,"data-testid":"tab-qr",children:"QR Code"}),i.jsx("button",{onClick:()=>t("request"),className:`flex-1 py-2 px-3 text-sm font-medium rounded-md transition-all ${e==="request"?"bg-card text-foreground elevation-1":"text-muted-foreground hover:text-foreground"}`,"data-testid":"tab-request",children:"Request Payment"})]}),e==="qr"&&i.jsxs(i.Fragment,{children:[i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card p-6 rounded-xl border border-border text-center elevation-1",children:[i.jsx("h3",{className:"font-semibold mb-4",children:"Scan to Pay"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx(ape,{value:`greenpay://pay/${n==null?void 0:n.id}`,size:192,className:"mx-auto"})}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Share this QR code for instant payments"}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs(re,{onClick:c,className:"flex-1","data-testid":"button-share-qr",children:[i.jsx("span",{className:"material-icons text-sm mr-1",children:"share"}),"Share"]}),i.jsxs(re,{variant:"outline",onClick:c,className:"flex-1","data-testid":"button-save-qr",children:[i.jsx("span",{className:"material-icons text-sm mr-1",children:"file_download"}),"Save"]})]})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"font-semibold",children:"Share Account Details"}),i.jsx("button",{onClick:()=>{var f;const d=`Account: GP-${(f=n==null?void 0:n.id)==null?void 0:f.slice(-9)}
Bank: GreenPay Digital Bank
Name: ${n==null?void 0:n.fullName}`;navigator.clipboard.writeText(d),r({title:"All details copied!"})},className:"text-primary text-sm hover:underline","data-testid":"button-copy-all",children:"Copy All"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted rounded-xl",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Account Number"}),i.jsxs("p",{className:"font-medium",children:["GP-",((u=n==null?void 0:n.id)==null?void 0:u.slice(-9))||"123456789"]})]}),i.jsx(X.button,{whileTap:{scale:.95},onClick:()=>{var d;return l(`GP-${((d=n==null?void 0:n.id)==null?void 0:d.slice(-9))||"123456789"}`,"Account number")},className:"material-icons text-muted-foreground hover:text-foreground transition-colors","data-testid":"button-copy-account",children:"content_copy"})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted rounded-xl",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Bank Name"}),i.jsx("p",{className:"font-medium",children:"GreenPay Digital Bank"})]}),i.jsx(X.button,{whileTap:{scale:.95},onClick:()=>l("GreenPay Digital Bank","Bank name"),className:"material-icons text-muted-foreground hover:text-foreground transition-colors","data-testid":"button-copy-bank",children:"content_copy"})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted rounded-xl",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Account Name"}),i.jsx("p",{className:"font-medium",children:n==null?void 0:n.fullName})]}),i.jsx(X.button,{whileTap:{scale:.95},onClick:()=>l((n==null?void 0:n.fullName)||"","Account name"),className:"material-icons text-muted-foreground hover:text-foreground transition-colors","data-testid":"button-copy-name",children:"content_copy"})]})]})]})]}),e==="request"&&i.jsx(i.Fragment,{children:i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[i.jsx("h3",{className:"font-semibold mb-4",children:"Request Payment"}),i.jsx(ro,{...a,children:i.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsx(zt,{control:a.control,name:"currency",render:({field:d})=>i.jsx($t,{children:i.jsxs(Kr,{onValueChange:d.onChange,defaultValue:d.value,children:[i.jsx(Wt,{children:i.jsx(Br,{"data-testid":"select-currency",children:i.jsx(Gr,{})})}),i.jsx(Ur,{children:sW.slice(0,3).map(f=>i.jsx(nt,{value:f.code,children:f.code},f.code))})]})})}),i.jsx("div",{className:"col-span-2",children:i.jsx(zt,{control:a.control,name:"amount",render:({field:d})=>i.jsxs($t,{children:[i.jsx(Wt,{children:i.jsx(Be,{...d,type:"number",step:"0.01",placeholder:"0.00","data-testid":"input-request-amount"})}),i.jsx(Ht,{})]})})})]}),i.jsx(zt,{control:a.control,name:"toEmail",render:({field:d})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Recipient Email"}),i.jsx(Wt,{children:i.jsx(Be,{...d,type:"email",placeholder:"Enter email address","data-testid":"input-recipient-email"})}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:a.control,name:"toPhone",render:({field:d})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Recipient Phone (Alternative)"}),i.jsx(Wt,{children:i.jsx(Be,{...d,type:"tel",placeholder:"Enter phone number","data-testid":"input-recipient-phone"})}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:a.control,name:"message",render:({field:d})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Message (Optional)"}),i.jsx(Wt,{children:i.jsx(za,{...d,placeholder:"Add a note for your payment request",className:"h-20","data-testid":"textarea-message"})}),i.jsx(Ht,{})]})}),i.jsx(re,{type:"submit",className:"w-full ripple",disabled:s.isPending,"data-testid":"button-send-request",children:s.isPending?"Sending...":"Send Payment Request"})]})})]})}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card rounded-xl border border-border elevation-1",children:[i.jsx("div",{className:"p-4 border-b border-border",children:i.jsx("h3",{className:"font-semibold",children:"Recent Requests"})}),i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("span",{className:"material-icons text-muted-foreground mb-3 block text-3xl",children:"inbox"}),i.jsx("p",{className:"text-muted-foreground",children:"No payment requests yet"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Your payment requests will appear here"})]})]})]})]})}const lpe="modulepreload",cpe=function(e){return"/"+e},sI={},wS=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=cpe(c),c in sI)return;sI[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":lpe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function Wr(e){"@babel/helpers - typeof";return Wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wr(e)}var Wo=Uint8Array,ds=Uint16Array,$3=Int32Array,B3=new Wo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),U3=new Wo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),oI=new Wo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),IW=function(e,t){for(var r=new ds(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new $3(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},DW=IW(B3,2),upe=DW.b,IA=DW.r;upe[28]=258,IA[258]=28;var dpe=IW(U3,0),lI=dpe.r,DA=new ds(32768);for(var xn=0;xn<32768;++xn){var wu=(xn&43690)>>1|(xn&21845)<<1;wu=(wu&52428)>>2|(wu&13107)<<2,wu=(wu&61680)>>4|(wu&3855)<<4,DA[xn]=((wu&65280)>>8|(wu&255)<<8)>>1}var r0=function(e,t,r){for(var n=e.length,a=0,s=new ds(t);a<n;++a)e[a]&&++s[e[a]-1];var o=new ds(t);for(a=1;a<t;++a)o[a]=o[a-1]+s[a-1]<<1;var l;if(r){l=new ds(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)l[DA[f]>>c]=u}else for(l=new ds(n),a=0;a<n;++a)e[a]&&(l[a]=DA[o[e[a]-1]++]>>15-e[a]);return l},ih=new Wo(288);for(var xn=0;xn<144;++xn)ih[xn]=8;for(var xn=144;xn<256;++xn)ih[xn]=9;for(var xn=256;xn<280;++xn)ih[xn]=7;for(var xn=280;xn<288;++xn)ih[xn]=8;var Lw=new Wo(32);for(var xn=0;xn<32;++xn)Lw[xn]=5;var fpe=r0(ih,9,0),hpe=r0(Lw,5,0),RW=function(e){return(e+7)/8|0},mpe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Wo(e.subarray(t,r))},oc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},px=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},jS=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return{t:$W,l:0};if(a==1){var o=new Wo(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(S,P){return S.f-P.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var h=s[0].s,n=1;n<a;++n)s[n].s>h&&(h=s[n].s);var m=new ds(h+1),g=RA(r[d-1],m,0);if(g>t){var n=0,x=0,v=g-t,p=1<<v;for(s.sort(function(P,A){return m[A.s]-m[P.s]||P.f-A.f});n<a;++n){var y=s[n].s;if(m[y]>t)x+=p-(1<<g-m[y]),m[y]=t;else break}for(x>>=v;x>0;){var w=s[n].s;m[w]<t?x-=1<<t-m[w]++-1:++n}for(;n>=0&&x;--n){var j=s[n].s;m[j]==t&&(--m[j],++x)}g=t}return{t:new Wo(m),l:g}},RA=function(e,t,r){return e.s==-1?Math.max(RA(e.l,t,r+1),RA(e.r,t,r+1)):t[e.s]=r},cI=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ds(++t),n=0,a=e[0],s=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=e[l]}return{c:r.subarray(0,n),n:t}},gx=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},FW=function(e,t,r){var n=r.length,a=RW(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=r[s];return(a+4+n)*8},uI=function(e,t,r,n,a,s,o,l,c,u,d){oc(t,d++,r),++a[256];for(var f=jS(a,15),h=f.t,m=f.l,g=jS(s,15),x=g.t,v=g.l,p=cI(h),y=p.c,w=p.n,j=cI(x),S=j.c,P=j.n,A=new ds(19),C=0;C<y.length;++C)++A[y[C]&31];for(var C=0;C<S.length;++C)++A[S[C]&31];for(var O=jS(A,7),D=O.t,E=O.l,k=19;k>4&&!D[oI[k-1]];--k);var R=u+5<<3,L=gx(a,ih)+gx(s,Lw)+o,H=gx(a,h)+gx(s,x)+o+14+3*k+gx(A,D)+2*A[16]+3*A[17]+7*A[18];if(c>=0&&R<=L&&R<=H)return FW(t,d,e.subarray(c,c+u));var F,V,B,G;if(oc(t,d,1+(H<L)),d+=2,H<L){F=r0(h,m,0),V=h,B=r0(x,v,0),G=x;var le=r0(D,E,0);oc(t,d,w-257),oc(t,d+5,P-1),oc(t,d+10,k-4),d+=14;for(var C=0;C<k;++C)oc(t,d+3*C,D[oI[C]]);d+=3*k;for(var fe=[y,S],$=0;$<2;++$)for(var q=fe[$],C=0;C<q.length;++C){var Q=q[C]&31;oc(t,d,le[Q]),d+=D[Q],Q>15&&(oc(t,d,q[C]>>5&127),d+=q[C]>>12)}}else F=fpe,V=ih,B=hpe,G=Lw;for(var C=0;C<l;++C){var ae=n[C];if(ae>255){var Q=ae>>18&31;px(t,d,F[Q+257]),d+=V[Q+257],Q>7&&(oc(t,d,ae>>23&31),d+=B3[Q]);var ue=ae&31;px(t,d,B[ue]),d+=G[ue],ue>3&&(px(t,d,ae>>5&8191),d+=U3[ue])}else px(t,d,F[ae]),d+=V[ae]}return px(t,d,F[256]),d+V[256]},ppe=new $3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$W=new Wo(0),gpe=function(e,t,r,n,a,s){var o=s.z||e.length,l=new Wo(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=s.l,d=(s.r||0)&7;if(t){d&&(c[0]=s.r>>3);for(var f=ppe[t-1],h=f>>13,m=f&8191,g=(1<<r)-1,x=s.p||new ds(32768),v=s.h||new ds(g+1),p=Math.ceil(r/3),y=2*p,w=function(ve){return(e[ve]^e[ve+1]<<p^e[ve+2]<<y)&g},j=new $3(25e3),S=new ds(288),P=new ds(32),A=0,C=0,O=s.i||0,D=0,E=s.w||0,k=0;O+2<o;++O){var R=w(O),L=O&32767,H=v[R];if(x[L]=H,v[R]=L,E<=O){var F=o-O;if((A>7e3||D>24576)&&(F>423||!u)){d=uI(e,c,0,j,S,P,C,D,k,O-k,d),D=A=C=0,k=O;for(var V=0;V<286;++V)S[V]=0;for(var V=0;V<30;++V)P[V]=0}var B=2,G=0,le=m,fe=L-H&32767;if(F>2&&R==w(O-fe))for(var $=Math.min(h,F)-1,q=Math.min(32767,O),Q=Math.min(258,F);fe<=q&&--le&&L!=H;){if(e[O+B]==e[O+B-fe]){for(var ae=0;ae<Q&&e[O+ae]==e[O+ae-fe];++ae);if(ae>B){if(B=ae,G=fe,ae>$)break;for(var ue=Math.min(fe,ae-2),ce=0,V=0;V<ue;++V){var we=O-fe+V&32767,oe=x[we],ye=we-oe&32767;ye>ce&&(ce=ye,H=we)}}}L=H,H=x[L],fe+=L-H&32767}if(G){j[D++]=268435456|IA[B]<<18|lI[G];var Ne=IA[B]&31,pe=lI[G]&31;C+=B3[Ne]+U3[pe],++S[257+Ne],++P[pe],E=O+B,++A}else j[D++]=e[O],++S[e[O]]}}for(O=Math.max(O,E);O<o;++O)j[D++]=e[O],++S[e[O]];d=uI(e,c,u,j,S,P,C,D,k,O-k,d),u||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=v,s.p=x,s.i=O,s.w=E)}else{for(var O=s.w||0;O<o+u;O+=65535){var _e=O+65535;_e>=o&&(c[d/8|0]=u,_e=o),d=FW(c,d+1,e.subarray(O,_e))}s.i=o}return mpe(l,0,n+RW(d)+a)},BW=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,s=r.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},xpe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Wo(s.length+e.length);o.set(s),o.set(e,s.length),e=o,a.w=s.length}return gpe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},UW=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},ype=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=BW();a.p(t.dictionary),UW(e,2,a.d())}};function FA(e,t){t||(t={});var r=BW();r.p(e);var n=xpe(e,t,t.dictionary?6:2,4);return ype(n,t),UW(n,n.length-4,r.d()),n}var vpe=typeof TextDecoder<"u"&&new TextDecoder,bpe=0;try{vpe.decode($W,{stream:!0}),bpe=1}catch{}function wpe(e){if(Array.isArray(e))return e}function jpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function dI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Npe(e,t){if(e){if(typeof e=="string")return dI(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dI(e,t):void 0}}function Spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fI(e,t){return wpe(e)||jpe(e,t)||Npe(e,t)||Spe()}function hI(e,t="utf8"){return new TextDecoder(t).decode(e)}const _pe=new TextEncoder;function Ppe(e){return _pe.encode(e)}const Ape=1024*8,kpe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),NS={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class z3{constructor(t=Ape,r={}){dr(this,"buffer");dr(this,"byteLength");dr(this,"byteOffset");dr(this,"length");dr(this,"offset");dr(this,"lastWrittenByte");dr(this,"littleEndian");dr(this,"_data");dr(this,"_mark");dr(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,s=t.byteLength-a;let o=a;(ArrayBuffer.isView(t)||t instanceof z3)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=NS[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+n);if(this.littleEndian===kpe&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new NS[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new NS[r](s);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return hI(this.readBytes(t))}decodeText(t=1,r="utf8"){return hI(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(Ppe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Cpe=4,mI=0,pI=1,Tpe=2;function cg(e){let t=e.length;for(;--t>=0;)e[t]=0}const Epe=0,zW=1,Ope=2,Mpe=3,Lpe=258,V3=29,tv=256,U0=tv+1+V3,Lm=30,q3=19,VW=2*U0+1,Pf=15,SS=16,Ipe=7,W3=256,qW=16,WW=17,HW=18,$A=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),A1=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Dpe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),KW=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Rpe=512,hc=new Array((U0+2)*2);cg(hc);const n0=new Array(Lm*2);cg(n0);const z0=new Array(Rpe);cg(z0);const V0=new Array(Lpe-Mpe+1);cg(V0);const H3=new Array(V3);cg(H3);const Iw=new Array(Lm);cg(Iw);function _S(e,t,r,n,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}let GW,YW,XW;function PS(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const ZW=e=>e<256?z0[e]:z0[256+(e>>>7)],q0=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Da=(e,t,r)=>{e.bi_valid>SS-r?(e.bi_buf|=t<<e.bi_valid&65535,q0(e,e.bi_buf),e.bi_buf=t>>SS-e.bi_valid,e.bi_valid+=r-SS):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},pl=(e,t,r)=>{Da(e,r[t*2],r[t*2+1])},QW=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},Fpe=e=>{e.bi_valid===16?(q0(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},$pe=(e,t)=>{const r=t.dyn_tree,n=t.max_code,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,f,h,m,g,x=0;for(h=0;h<=Pf;h++)e.bl_count[h]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<VW;u++)d=e.heap[u],h=r[r[d*2+1]*2+1]+1,h>c&&(h=c,x++),r[d*2+1]=h,!(d>n)&&(e.bl_count[h]++,m=0,d>=l&&(m=o[d-l]),g=r[d*2],e.opt_len+=g*(h+m),s&&(e.static_len+=g*(a[d*2+1]+m)));if(x!==0){do{for(h=c-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,x-=2}while(x>0);for(h=c;h!==0;h--)for(d=e.bl_count[h];d!==0;)f=e.heap[--u],!(f>n)&&(r[f*2+1]!==h&&(e.opt_len+=(h-r[f*2+1])*r[f*2],r[f*2+1]=h),d--)}},JW=(e,t,r)=>{const n=new Array(Pf+1);let a=0,s,o;for(s=1;s<=Pf;s++)a=a+r[s-1]<<1,n[s]=a;for(o=0;o<=t;o++){let l=e[o*2+1];l!==0&&(e[o*2]=QW(n[l]++,l))}},Bpe=()=>{let e,t,r,n,a;const s=new Array(Pf+1);for(r=0,n=0;n<V3-1;n++)for(H3[n]=r,e=0;e<1<<$A[n];e++)V0[r++]=n;for(V0[r-1]=n,a=0,n=0;n<16;n++)for(Iw[n]=a,e=0;e<1<<A1[n];e++)z0[a++]=n;for(a>>=7;n<Lm;n++)for(Iw[n]=a<<7,e=0;e<1<<A1[n]-7;e++)z0[256+a++]=n;for(t=0;t<=Pf;t++)s[t]=0;for(e=0;e<=143;)hc[e*2+1]=8,e++,s[8]++;for(;e<=255;)hc[e*2+1]=9,e++,s[9]++;for(;e<=279;)hc[e*2+1]=7,e++,s[7]++;for(;e<=287;)hc[e*2+1]=8,e++,s[8]++;for(JW(hc,U0+1,s),e=0;e<Lm;e++)n0[e*2+1]=5,n0[e*2]=QW(e,5);GW=new _S(hc,$A,tv+1,U0,Pf),YW=new _S(n0,A1,0,Lm,Pf),XW=new _S(new Array(0),Dpe,0,q3,Ipe)},eH=e=>{let t;for(t=0;t<U0;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Lm;t++)e.dyn_dtree[t*2]=0;for(t=0;t<q3;t++)e.bl_tree[t*2]=0;e.dyn_ltree[W3*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},tH=e=>{e.bi_valid>8?q0(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},gI=(e,t,r,n)=>{const a=t*2,s=r*2;return e[a]<e[s]||e[a]===e[s]&&n[t]<=n[r]},AS=(e,t,r)=>{const n=e.heap[r];let a=r<<1;for(;a<=e.heap_len&&(a<e.heap_len&&gI(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!gI(t,n,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=n},xI=(e,t,r)=>{let n,a,s=0,o,l;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+s++]&255,n+=(e.pending_buf[e.sym_buf+s++]&255)<<8,a=e.pending_buf[e.sym_buf+s++],n===0?pl(e,a,t):(o=V0[a],pl(e,o+tv+1,t),l=$A[o],l!==0&&(a-=H3[o],Da(e,a,l)),n--,o=ZW(n),pl(e,o,r),l=A1[o],l!==0&&(n-=Iw[o],Da(e,n,l)));while(s<e.sym_next);pl(e,W3,t)},BA=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,l,c=-1,u;for(e.heap_len=0,e.heap_max=VW,o=0;o<s;o++)r[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,a&&(e.static_len-=n[u*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)AS(e,r,o);u=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],AS(e,r,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,r[u*2]=r[o*2]+r[l*2],e.depth[u]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,r[o*2+1]=r[l*2+1]=u,e.heap[1]=u++,AS(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],$pe(e,t),JW(r,c,e.bl_count)},yI=(e,t,r)=>{let n,a=-1,s,o=t[0*2+1],l=0,c=7,u=4;for(o===0&&(c=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)s=o,o=t[(n+1)*2+1],!(++l<c&&s===o)&&(l<u?e.bl_tree[s*2]+=l:s!==0?(s!==a&&e.bl_tree[s*2]++,e.bl_tree[qW*2]++):l<=10?e.bl_tree[WW*2]++:e.bl_tree[HW*2]++,l=0,a=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4))},vI=(e,t,r)=>{let n,a=-1,s,o=t[0*2+1],l=0,c=7,u=4;for(o===0&&(c=138,u=3),n=0;n<=r;n++)if(s=o,o=t[(n+1)*2+1],!(++l<c&&s===o)){if(l<u)do pl(e,s,e.bl_tree);while(--l!==0);else s!==0?(s!==a&&(pl(e,s,e.bl_tree),l--),pl(e,qW,e.bl_tree),Da(e,l-3,2)):l<=10?(pl(e,WW,e.bl_tree),Da(e,l-3,3)):(pl(e,HW,e.bl_tree),Da(e,l-11,7));l=0,a=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4)}},Upe=e=>{let t;for(yI(e,e.dyn_ltree,e.l_desc.max_code),yI(e,e.dyn_dtree,e.d_desc.max_code),BA(e,e.bl_desc),t=q3-1;t>=3&&e.bl_tree[KW[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},zpe=(e,t,r,n)=>{let a;for(Da(e,t-257,5),Da(e,r-1,5),Da(e,n-4,4),a=0;a<n;a++)Da(e,e.bl_tree[KW[a]*2+1],3);vI(e,e.dyn_ltree,t-1),vI(e,e.dyn_dtree,r-1)},Vpe=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return mI;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return pI;for(r=32;r<tv;r++)if(e.dyn_ltree[r*2]!==0)return pI;return mI};let bI=!1;const qpe=e=>{bI||(Bpe(),bI=!0),e.l_desc=new PS(e.dyn_ltree,GW),e.d_desc=new PS(e.dyn_dtree,YW),e.bl_desc=new PS(e.bl_tree,XW),e.bi_buf=0,e.bi_valid=0,eH(e)},rH=(e,t,r,n)=>{Da(e,(Epe<<1)+(n?1:0),3),tH(e),q0(e,r),q0(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},Wpe=e=>{Da(e,zW<<1,3),pl(e,W3,hc),Fpe(e)},Hpe=(e,t,r,n)=>{let a,s,o=0;e.level>0?(e.strm.data_type===Tpe&&(e.strm.data_type=Vpe(e)),BA(e,e.l_desc),BA(e,e.d_desc),o=Upe(e),a=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=a&&(a=s)):a=s=r+5,r+4<=a&&t!==-1?rH(e,t,r,n):e.strategy===Cpe||s===a?(Da(e,(zW<<1)+(n?1:0),3),xI(e,hc,n0)):(Da(e,(Ope<<1)+(n?1:0),3),zpe(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),xI(e,e.dyn_ltree,e.dyn_dtree)),eH(e),n&&tH(e)},Kpe=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(V0[r]+tv+1)*2]++,e.dyn_dtree[ZW(t)*2]++),e.sym_next===e.sym_end);var Gpe=qpe,Ype=rH,Xpe=Hpe,Zpe=Kpe,Qpe=Wpe,Jpe={_tr_init:Gpe,_tr_stored_block:Ype,_tr_flush_block:Xpe,_tr_tally:Zpe,_tr_align:Qpe};const ege=(e,t,r,n)=>{let a=e&65535|0,s=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+t[n++]|0,s=s+a|0;while(--o);a%=65521,s%=65521}return a|s<<16|0};var W0=ege;const tge=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},rge=new Uint32Array(tge()),nge=(e,t,r,n)=>{const a=rge,s=n+r;e^=-1;for(let o=n;o<s;o++)e=e>>>8^a[(e^t[o])&255];return e^-1};var Si=nge,jp={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},rv={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ige,_tr_stored_block:UA,_tr_flush_block:age,_tr_tally:ld,_tr_align:sge}=Jpe,{Z_NO_FLUSH:cd,Z_PARTIAL_FLUSH:oge,Z_FULL_FLUSH:lge,Z_FINISH:Vs,Z_BLOCK:wI,Z_OK:Ui,Z_STREAM_END:jI,Z_STREAM_ERROR:Tl,Z_DATA_ERROR:cge,Z_BUF_ERROR:kS,Z_DEFAULT_COMPRESSION:uge,Z_FILTERED:dge,Z_HUFFMAN_ONLY:Tb,Z_RLE:fge,Z_FIXED:hge,Z_DEFAULT_STRATEGY:mge,Z_UNKNOWN:pge,Z_DEFLATED:Rj}=rv,gge=9,xge=15,yge=8,vge=29,bge=256,zA=bge+1+vge,wge=30,jge=19,Nge=2*zA+1,Sge=15,xr=3,Ku=258,El=Ku+xr+1,_ge=32,Np=42,K3=57,VA=69,qA=73,WA=91,HA=103,Af=113,Fx=666,ja=1,ug=2,ah=3,dg=4,Pge=3,kf=(e,t)=>(e.msg=jp[t],t),NI=e=>e*2-(e>4?9:0),Mu=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Age=e=>{let t,r,n,a=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=a?r-a:0;while(--t);t=a,n=t;do r=e.prev[--n],e.prev[n]=r>=a?r-a:0;while(--t)};let kge=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,ud=kge;const ts=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},fs=(e,t)=>{age(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ts(e.strm)},Or=(e,t)=>{e.pending_buf[e.pending++]=t},xx=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},KA=(e,t,r,n)=>{let a=e.avail_in;return a>n&&(a=n),a===0?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),r),e.state.wrap===1?e.adler=W0(e.adler,t,a,r):e.state.wrap===2&&(e.adler=Si(e.adler,t,a,r)),e.next_in+=a,e.total_in+=a,a)},nH=(e,t)=>{let r=e.max_chain_length,n=e.strstart,a,s,o=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-El?e.strstart-(e.w_size-El):0,u=e.window,d=e.w_mask,f=e.prev,h=e.strstart+Ku;let m=u[n+o-1],g=u[n+o];e.prev_length>=e.good_match&&(r>>=2),l>e.lookahead&&(l=e.lookahead);do if(a=t,!(u[a+o]!==g||u[a+o-1]!==m||u[a]!==u[n]||u[++a]!==u[n+1])){n+=2,a++;do;while(u[++n]===u[++a]&&u[++n]===u[++a]&&u[++n]===u[++a]&&u[++n]===u[++a]&&u[++n]===u[++a]&&u[++n]===u[++a]&&u[++n]===u[++a]&&u[++n]===u[++a]&&n<h);if(s=Ku-(h-n),n=h-Ku,s>o){if(e.match_start=t,o=s,s>=l)break;m=u[n+o-1],g=u[n+o]}}while((t=f[t&d])>c&&--r!==0);return o<=e.lookahead?o:e.lookahead},Sp=e=>{const t=e.w_size;let r,n,a;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-El)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Age(e),n+=t),e.strm.avail_in===0)break;if(r=KA(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=xr)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=ud(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=ud(e,e.ins_h,e.window[a+xr-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<xr)););}while(e.lookahead<El&&e.strm.avail_in!==0)},iH=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,a,s,o=0,l=e.strm.avail_in;do{if(n=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,a=e.strstart-e.block_start,n>a+e.strm.avail_in&&(n=a+e.strm.avail_in),n>s&&(n=s),n<r&&(n===0&&t!==Vs||t===cd||n!==a+e.strm.avail_in)))break;o=t===Vs&&n===a+e.strm.avail_in?1:0,UA(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,ts(e.strm),a&&(a>n&&(a=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,n-=a),n&&(KA(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?dg:t!==cd&&t!==Vs&&e.strm.avail_in===0&&e.strstart===e.block_start?ug:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(KA(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,r=s>e.w_size?e.w_size:s,a=e.strstart-e.block_start,(a>=r||(a||t===Vs)&&t!==cd&&e.strm.avail_in===0&&a<=s)&&(n=a>s?s:a,o=t===Vs&&e.strm.avail_in===0&&n===a?1:0,UA(e,e.block_start,n,o),e.block_start+=n,ts(e.strm)),o?ah:ja)},CS=(e,t)=>{let r,n;for(;;){if(e.lookahead<El){if(Sp(e),e.lookahead<El&&t===cd)return ja;if(e.lookahead===0)break}if(r=0,e.lookahead>=xr&&(e.ins_h=ud(e,e.ins_h,e.window[e.strstart+xr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-El&&(e.match_length=nH(e,r)),e.match_length>=xr)if(n=ld(e,e.strstart-e.match_start,e.match_length-xr),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=xr){e.match_length--;do e.strstart++,e.ins_h=ud(e,e.ins_h,e.window[e.strstart+xr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ud(e,e.ins_h,e.window[e.strstart+1]);else n=ld(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(fs(e,!1),e.strm.avail_out===0))return ja}return e.insert=e.strstart<xr-1?e.strstart:xr-1,t===Vs?(fs(e,!0),e.strm.avail_out===0?ah:dg):e.sym_next&&(fs(e,!1),e.strm.avail_out===0)?ja:ug},qh=(e,t)=>{let r,n,a;for(;;){if(e.lookahead<El){if(Sp(e),e.lookahead<El&&t===cd)return ja;if(e.lookahead===0)break}if(r=0,e.lookahead>=xr&&(e.ins_h=ud(e,e.ins_h,e.window[e.strstart+xr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=xr-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-El&&(e.match_length=nH(e,r),e.match_length<=5&&(e.strategy===dge||e.match_length===xr&&e.strstart-e.match_start>4096)&&(e.match_length=xr-1)),e.prev_length>=xr&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-xr,n=ld(e,e.strstart-1-e.prev_match,e.prev_length-xr),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=ud(e,e.ins_h,e.window[e.strstart+xr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=xr-1,e.strstart++,n&&(fs(e,!1),e.strm.avail_out===0))return ja}else if(e.match_available){if(n=ld(e,0,e.window[e.strstart-1]),n&&fs(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ja}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=ld(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<xr-1?e.strstart:xr-1,t===Vs?(fs(e,!0),e.strm.avail_out===0?ah:dg):e.sym_next&&(fs(e,!1),e.strm.avail_out===0)?ja:ug},Cge=(e,t)=>{let r,n,a,s;const o=e.window;for(;;){if(e.lookahead<=Ku){if(Sp(e),e.lookahead<=Ku&&t===cd)return ja;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=xr&&e.strstart>0&&(a=e.strstart-1,n=o[a],n===o[++a]&&n===o[++a]&&n===o[++a])){s=e.strstart+Ku;do;while(n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&a<s);e.match_length=Ku-(s-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=xr?(r=ld(e,1,e.match_length-xr),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=ld(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(fs(e,!1),e.strm.avail_out===0))return ja}return e.insert=0,t===Vs?(fs(e,!0),e.strm.avail_out===0?ah:dg):e.sym_next&&(fs(e,!1),e.strm.avail_out===0)?ja:ug},Tge=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Sp(e),e.lookahead===0)){if(t===cd)return ja;break}if(e.match_length=0,r=ld(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(fs(e,!1),e.strm.avail_out===0))return ja}return e.insert=0,t===Vs?(fs(e,!0),e.strm.avail_out===0?ah:dg):e.sym_next&&(fs(e,!1),e.strm.avail_out===0)?ja:ug};function sl(e,t,r,n,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=a}const $x=[new sl(0,0,0,0,iH),new sl(4,4,8,4,CS),new sl(4,5,16,8,CS),new sl(4,6,32,32,CS),new sl(4,4,16,16,qh),new sl(8,16,32,32,qh),new sl(8,16,128,128,qh),new sl(8,32,128,256,qh),new sl(32,128,258,1024,qh),new sl(32,258,258,4096,qh)],Ege=e=>{e.window_size=2*e.w_size,Mu(e.head),e.max_lazy_match=$x[e.level].max_lazy,e.good_match=$x[e.level].good_length,e.nice_match=$x[e.level].nice_length,e.max_chain_length=$x[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=xr-1,e.match_available=0,e.ins_h=0};function Oge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Rj,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Nge*2),this.dyn_dtree=new Uint16Array((2*wge+1)*2),this.bl_tree=new Uint16Array((2*jge+1)*2),Mu(this.dyn_ltree),Mu(this.dyn_dtree),Mu(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Sge+1),this.heap=new Uint16Array(2*zA+1),Mu(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*zA+1),Mu(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const nv=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Np&&t.status!==K3&&t.status!==VA&&t.status!==qA&&t.status!==WA&&t.status!==HA&&t.status!==Af&&t.status!==Fx?1:0},aH=e=>{if(nv(e))return kf(e,Tl);e.total_in=e.total_out=0,e.data_type=pge;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?K3:t.wrap?Np:Af,e.adler=t.wrap===2?0:1,t.last_flush=-2,ige(t),Ui},sH=e=>{const t=aH(e);return t===Ui&&Ege(e.state),t},Mge=(e,t)=>nv(e)||e.state.wrap!==2?Tl:(e.state.gzhead=t,Ui),oH=(e,t,r,n,a,s)=>{if(!e)return Tl;let o=1;if(t===uge&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),a<1||a>gge||r!==Rj||n<8||n>15||t<0||t>9||s<0||s>hge||n===8&&o!==1)return kf(e,Tl);n===8&&(n=9);const l=new Oge;return e.state=l,l.strm=e,l.status=Np,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+xr-1)/xr),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=s,l.method=r,sH(e)},Lge=(e,t)=>oH(e,t,Rj,xge,yge,mge),Ige=(e,t)=>{if(nv(e)||t>wI||t<0)return e?kf(e,Tl):Tl;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===Fx&&t!==Vs)return kf(e,e.avail_out===0?kS:Tl);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(ts(e),e.avail_out===0)return r.last_flush=-1,Ui}else if(e.avail_in===0&&NI(t)<=NI(n)&&t!==Vs)return kf(e,kS);if(r.status===Fx&&e.avail_in!==0)return kf(e,kS);if(r.status===Np&&r.wrap===0&&(r.status=Af),r.status===Np){let a=Rj+(r.w_bits-8<<4)<<8,s=-1;if(r.strategy>=Tb||r.level<2?s=0:r.level<6?s=1:r.level===6?s=2:s=3,a|=s<<6,r.strstart!==0&&(a|=_ge),a+=31-a%31,xx(r,a),r.strstart!==0&&(xx(r,e.adler>>>16),xx(r,e.adler&65535)),e.adler=1,r.status=Af,ts(e),r.pending!==0)return r.last_flush=-1,Ui}if(r.status===K3){if(e.adler=0,Or(r,31),Or(r,139),Or(r,8),r.gzhead)Or(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Or(r,r.gzhead.time&255),Or(r,r.gzhead.time>>8&255),Or(r,r.gzhead.time>>16&255),Or(r,r.gzhead.time>>24&255),Or(r,r.level===9?2:r.strategy>=Tb||r.level<2?4:0),Or(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Or(r,r.gzhead.extra.length&255),Or(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Si(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=VA;else if(Or(r,0),Or(r,0),Or(r,0),Or(r,0),Or(r,0),Or(r,r.level===9?2:r.strategy>=Tb||r.level<2?4:0),Or(r,Pge),r.status=Af,ts(e),r.pending!==0)return r.last_flush=-1,Ui}if(r.status===VA){if(r.gzhead.extra){let a=r.pending,s=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+s>r.pending_buf_size;){let l=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+l),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>a&&(e.adler=Si(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex+=l,ts(e),r.pending!==0)return r.last_flush=-1,Ui;a=0,s-=l}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending+=s,r.gzhead.hcrc&&r.pending>a&&(e.adler=Si(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=qA}if(r.status===qA){if(r.gzhead.name){let a=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(e.adler=Si(e.adler,r.pending_buf,r.pending-a,a)),ts(e),r.pending!==0)return r.last_flush=-1,Ui;a=0}r.gzindex<r.gzhead.name.length?s=r.gzhead.name.charCodeAt(r.gzindex++)&255:s=0,Or(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>a&&(e.adler=Si(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=WA}if(r.status===WA){if(r.gzhead.comment){let a=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(e.adler=Si(e.adler,r.pending_buf,r.pending-a,a)),ts(e),r.pending!==0)return r.last_flush=-1,Ui;a=0}r.gzindex<r.gzhead.comment.length?s=r.gzhead.comment.charCodeAt(r.gzindex++)&255:s=0,Or(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>a&&(e.adler=Si(e.adler,r.pending_buf,r.pending-a,a))}r.status=HA}if(r.status===HA){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(ts(e),r.pending!==0))return r.last_flush=-1,Ui;Or(r,e.adler&255),Or(r,e.adler>>8&255),e.adler=0}if(r.status=Af,ts(e),r.pending!==0)return r.last_flush=-1,Ui}if(e.avail_in!==0||r.lookahead!==0||t!==cd&&r.status!==Fx){let a=r.level===0?iH(r,t):r.strategy===Tb?Tge(r,t):r.strategy===fge?Cge(r,t):$x[r.level].func(r,t);if((a===ah||a===dg)&&(r.status=Fx),a===ja||a===ah)return e.avail_out===0&&(r.last_flush=-1),Ui;if(a===ug&&(t===oge?sge(r):t!==wI&&(UA(r,0,0,!1),t===lge&&(Mu(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),ts(e),e.avail_out===0))return r.last_flush=-1,Ui}return t!==Vs?Ui:r.wrap<=0?jI:(r.wrap===2?(Or(r,e.adler&255),Or(r,e.adler>>8&255),Or(r,e.adler>>16&255),Or(r,e.adler>>24&255),Or(r,e.total_in&255),Or(r,e.total_in>>8&255),Or(r,e.total_in>>16&255),Or(r,e.total_in>>24&255)):(xx(r,e.adler>>>16),xx(r,e.adler&65535)),ts(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Ui:jI)},Dge=e=>{if(nv(e))return Tl;const t=e.state.status;return e.state=null,t===Af?kf(e,cge):Ui},Rge=(e,t)=>{let r=t.length;if(nv(e))return Tl;const n=e.state,a=n.wrap;if(a===2||a===1&&n.status!==Np||n.lookahead)return Tl;if(a===1&&(e.adler=W0(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){a===0&&(Mu(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(t.subarray(r-n.w_size,r),0),t=c,r=n.w_size}const s=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Sp(n);n.lookahead>=xr;){let c=n.strstart,u=n.lookahead-(xr-1);do n.ins_h=ud(n,n.ins_h,n.window[c+xr-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--u);n.strstart=c,n.lookahead=xr-1,Sp(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=xr-1,n.match_available=0,e.next_in=o,e.input=l,e.avail_in=s,n.wrap=a,Ui};var Fge=Lge,$ge=oH,Bge=sH,Uge=aH,zge=Mge,Vge=Ige,qge=Dge,Wge=Rge,Hge="pako deflate (from Nodeca project)",i0={deflateInit:Fge,deflateInit2:$ge,deflateReset:Bge,deflateResetKeep:Uge,deflateSetHeader:zge,deflate:Vge,deflateEnd:qge,deflateSetDictionary:Wge,deflateInfo:Hge};const Kge=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Gge=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Kge(r,n)&&(e[n]=r[n])}}return e},Yge=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,s=e.length;n<s;n++){let o=e[n];r.set(o,a),a+=o.length}return r},Fj={assign:Gge,flattenChunks:Yge};let lH=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{lH=!1}const H0=new Uint8Array(256);for(let e=0;e<256;e++)H0[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;H0[254]=H0[254]=1;var Xge=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,s,o=e.length,l=0;for(a=0;a<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),s=0,a=0;s<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};const Zge=(e,t)=>{if(t<65534&&e.subarray&&lH)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var Qge=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const s=new Array(r*2);for(a=0,n=0;n<r;){let o=e[n++];if(o<128){s[a++]=o;continue}let l=H0[o];if(l>4){s[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){s[a++]=65533;continue}o<65536?s[a++]=o:(o-=65536,s[a++]=55296|o>>10&1023,s[a++]=56320|o&1023)}return Zge(s,a)},Jge=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+H0[e[r]]>t?r:t},K0={string2buf:Xge,buf2string:Qge,utf8border:Jge};function exe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var cH=exe;const uH=Object.prototype.toString,{Z_NO_FLUSH:txe,Z_SYNC_FLUSH:rxe,Z_FULL_FLUSH:nxe,Z_FINISH:ixe,Z_OK:Dw,Z_STREAM_END:axe,Z_DEFAULT_COMPRESSION:sxe,Z_DEFAULT_STRATEGY:oxe,Z_DEFLATED:lxe}=rv;function G3(e){this.options=Fj.assign({level:sxe,method:lxe,chunkSize:16384,windowBits:15,memLevel:8,strategy:oxe},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cH,this.strm.avail_out=0;let r=i0.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Dw)throw new Error(jp[r]);if(t.header&&i0.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=K0.string2buf(t.dictionary):uH.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=i0.deflateSetDictionary(this.strm,n),r!==Dw)throw new Error(jp[r]);this._dict_set=!0}}G3.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let a,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?ixe:txe,typeof e=="string"?r.input=K0.string2buf(e):uH.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===rxe||s===nxe)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(a=i0.deflate(r,s),a===axe)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=i0.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Dw;if(r.avail_out===0){this.onData(r.output);continue}if(s>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};G3.prototype.onData=function(e){this.chunks.push(e)};G3.prototype.onEnd=function(e){e===Dw&&(this.result=Fj.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const Eb=16209,cxe=16191;var uxe=function(t,r){let n,a,s,o,l,c,u,d,f,h,m,g,x,v,p,y,w,j,S,P,A,C,O,D;const E=t.state;n=t.next_in,O=t.input,a=n+(t.avail_in-5),s=t.next_out,D=t.output,o=s-(r-t.avail_out),l=s+(t.avail_out-257),c=E.dmax,u=E.wsize,d=E.whave,f=E.wnext,h=E.window,m=E.hold,g=E.bits,x=E.lencode,v=E.distcode,p=(1<<E.lenbits)-1,y=(1<<E.distbits)-1;e:do{g<15&&(m+=O[n++]<<g,g+=8,m+=O[n++]<<g,g+=8),w=x[m&p];t:for(;;){if(j=w>>>24,m>>>=j,g-=j,j=w>>>16&255,j===0)D[s++]=w&65535;else if(j&16){S=w&65535,j&=15,j&&(g<j&&(m+=O[n++]<<g,g+=8),S+=m&(1<<j)-1,m>>>=j,g-=j),g<15&&(m+=O[n++]<<g,g+=8,m+=O[n++]<<g,g+=8),w=v[m&y];r:for(;;){if(j=w>>>24,m>>>=j,g-=j,j=w>>>16&255,j&16){if(P=w&65535,j&=15,g<j&&(m+=O[n++]<<g,g+=8,g<j&&(m+=O[n++]<<g,g+=8)),P+=m&(1<<j)-1,P>c){t.msg="invalid distance too far back",E.mode=Eb;break e}if(m>>>=j,g-=j,j=s-o,P>j){if(j=P-j,j>d&&E.sane){t.msg="invalid distance too far back",E.mode=Eb;break e}if(A=0,C=h,f===0){if(A+=u-j,j<S){S-=j;do D[s++]=h[A++];while(--j);A=s-P,C=D}}else if(f<j){if(A+=u+f-j,j-=f,j<S){S-=j;do D[s++]=h[A++];while(--j);if(A=0,f<S){j=f,S-=j;do D[s++]=h[A++];while(--j);A=s-P,C=D}}}else if(A+=f-j,j<S){S-=j;do D[s++]=h[A++];while(--j);A=s-P,C=D}for(;S>2;)D[s++]=C[A++],D[s++]=C[A++],D[s++]=C[A++],S-=3;S&&(D[s++]=C[A++],S>1&&(D[s++]=C[A++]))}else{A=s-P;do D[s++]=D[A++],D[s++]=D[A++],D[s++]=D[A++],S-=3;while(S>2);S&&(D[s++]=D[A++],S>1&&(D[s++]=D[A++]))}}else if(j&64){t.msg="invalid distance code",E.mode=Eb;break e}else{w=v[(w&65535)+(m&(1<<j)-1)];continue r}break}}else if(j&64)if(j&32){E.mode=cxe;break e}else{t.msg="invalid literal/length code",E.mode=Eb;break e}else{w=x[(w&65535)+(m&(1<<j)-1)];continue t}break}}while(n<a&&s<l);S=g>>3,n-=S,g-=S<<3,m&=(1<<g)-1,t.next_in=n,t.next_out=s,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=s<l?257+(l-s):257-(s-l),E.hold=m,E.bits=g};const Wh=15,SI=852,_I=592,PI=0,TS=1,AI=2,dxe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),fxe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),hxe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),mxe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),pxe=(e,t,r,n,a,s,o,l)=>{const c=l.bits;let u=0,d=0,f=0,h=0,m=0,g=0,x=0,v=0,p=0,y=0,w,j,S,P,A,C=null,O;const D=new Uint16Array(Wh+1),E=new Uint16Array(Wh+1);let k=null,R,L,H;for(u=0;u<=Wh;u++)D[u]=0;for(d=0;d<n;d++)D[t[r+d]]++;for(m=c,h=Wh;h>=1&&D[h]===0;h--);if(m>h&&(m=h),h===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<h&&D[f]===0;f++);for(m<f&&(m=f),v=1,u=1;u<=Wh;u++)if(v<<=1,v-=D[u],v<0)return-1;if(v>0&&(e===PI||h!==1))return-1;for(E[1]=0,u=1;u<Wh;u++)E[u+1]=E[u]+D[u];for(d=0;d<n;d++)t[r+d]!==0&&(o[E[t[r+d]]++]=d);if(e===PI?(C=k=o,O=20):e===TS?(C=dxe,k=fxe,O=257):(C=hxe,k=mxe,O=0),y=0,d=0,u=f,A=s,g=m,x=0,S=-1,p=1<<m,P=p-1,e===TS&&p>SI||e===AI&&p>_I)return 1;for(;;){R=u-x,o[d]+1<O?(L=0,H=o[d]):o[d]>=O?(L=k[o[d]-O],H=C[o[d]-O]):(L=96,H=0),w=1<<u-x,j=1<<g,f=j;do j-=w,a[A+(y>>x)+j]=R<<24|L<<16|H|0;while(j!==0);for(w=1<<u-1;y&w;)w>>=1;if(w!==0?(y&=w-1,y+=w):y=0,d++,--D[u]===0){if(u===h)break;u=t[r+o[d]]}if(u>m&&(y&P)!==S){for(x===0&&(x=m),A+=f,g=u-x,v=1<<g;g+x<h&&(v-=D[g+x],!(v<=0));)g++,v<<=1;if(p+=1<<g,e===TS&&p>SI||e===AI&&p>_I)return 1;S=y&P,a[S]=m<<24|g<<16|A-s|0}}return y!==0&&(a[A+y]=u-x<<24|64<<16|0),l.bits=m,0};var a0=pxe;const gxe=0,dH=1,fH=2,{Z_FINISH:kI,Z_BLOCK:xxe,Z_TREES:Ob,Z_OK:sh,Z_STREAM_END:yxe,Z_NEED_DICT:vxe,Z_STREAM_ERROR:no,Z_DATA_ERROR:hH,Z_MEM_ERROR:mH,Z_BUF_ERROR:bxe,Z_DEFLATED:CI}=rv,$j=16180,TI=16181,EI=16182,OI=16183,MI=16184,LI=16185,II=16186,DI=16187,RI=16188,FI=16189,Rw=16190,lc=16191,ES=16192,$I=16193,OS=16194,BI=16195,UI=16196,zI=16197,VI=16198,Mb=16199,Lb=16200,qI=16201,WI=16202,HI=16203,KI=16204,GI=16205,MS=16206,YI=16207,XI=16208,vn=16209,pH=16210,gH=16211,wxe=852,jxe=592,Nxe=15,Sxe=Nxe,ZI=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function _xe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const xh=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<$j||t.mode>gH?1:0},xH=e=>{if(xh(e))return no;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=$j,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(wxe),t.distcode=t.distdyn=new Int32Array(jxe),t.sane=1,t.back=-1,sh},yH=e=>{if(xh(e))return no;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,xH(e)},vH=(e,t)=>{let r;if(xh(e))return no;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?no:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,yH(e))},bH=(e,t)=>{if(!e)return no;const r=new _xe;e.state=r,r.strm=e,r.window=null,r.mode=$j;const n=vH(e,t);return n!==sh&&(e.state=null),n},Pxe=e=>bH(e,Sxe);let QI=!0,LS,IS;const Axe=e=>{if(QI){LS=new Int32Array(512),IS=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a0(dH,e.lens,0,288,LS,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a0(fH,e.lens,0,32,IS,0,e.work,{bits:5}),QI=!1}e.lencode=LS,e.lenbits=9,e.distcode=IS,e.distbits=5},wH=(e,t,r,n)=>{let a;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>n&&(a=n),s.window.set(t.subarray(r-n,r-n+a),s.wnext),n-=a,n?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},kxe=(e,t)=>{let r,n,a,s,o,l,c,u,d,f,h,m,g,x,v=0,p,y,w,j,S,P,A,C;const O=new Uint8Array(4);let D,E;const k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(xh(e)||!e.output||!e.input&&e.avail_in!==0)return no;r=e.state,r.mode===lc&&(r.mode=ES),o=e.next_out,a=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,f=l,h=c,C=sh;e:for(;;)switch(r.mode){case $j:if(r.wrap===0){r.mode=ES;break}for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,O[0]=u&255,O[1]=u>>>8&255,r.check=Si(r.check,O,2,0),u=0,d=0,r.mode=TI;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=vn;break}if((u&15)!==CI){e.msg="unknown compression method",r.mode=vn;break}if(u>>>=4,d-=4,A=(u&15)+8,r.wbits===0&&(r.wbits=A),A>15||A>r.wbits){e.msg="invalid window size",r.mode=vn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?FI:lc,u=0,d=0;break;case TI:for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==CI){e.msg="unknown compression method",r.mode=vn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=vn;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,r.check=Si(r.check,O,2,0)),u=0,d=0,r.mode=EI;case EI:for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,O[2]=u>>>16&255,O[3]=u>>>24&255,r.check=Si(r.check,O,4,0)),u=0,d=0,r.mode=OI;case OI:for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,r.check=Si(r.check,O,2,0)),u=0,d=0,r.mode=MI;case MI:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,r.check=Si(r.check,O,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=LI;case LI:if(r.flags&1024&&(m=r.length,m>l&&(m=l),m&&(r.head&&(A=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+m),A)),r.flags&512&&r.wrap&4&&(r.check=Si(r.check,n,m,s)),l-=m,s+=m,r.length-=m),r.length))break e;r.length=0,r.mode=II;case II:if(r.flags&2048){if(l===0)break e;m=0;do A=n[s+m++],r.head&&A&&r.length<65536&&(r.head.name+=String.fromCharCode(A));while(A&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=Si(r.check,n,m,s)),l-=m,s+=m,A)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=DI;case DI:if(r.flags&4096){if(l===0)break e;m=0;do A=n[s+m++],r.head&&A&&r.length<65536&&(r.head.comment+=String.fromCharCode(A));while(A&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=Si(r.check,n,m,s)),l-=m,s+=m,A)break e}else r.head&&(r.head.comment=null);r.mode=RI;case RI:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=vn;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=lc;break;case FI:for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}e.adler=r.check=ZI(u),u=0,d=0,r.mode=Rw;case Rw:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=d,vxe;e.adler=r.check=1,r.mode=lc;case lc:if(t===xxe||t===Ob)break e;case ES:if(r.last){u>>>=d&7,d-=d&7,r.mode=MS;break}for(;d<3;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=$I;break;case 1:if(Axe(r),r.mode=Mb,t===Ob){u>>>=2,d-=2;break e}break;case 2:r.mode=UI;break;case 3:e.msg="invalid block type",r.mode=vn}u>>>=2,d-=2;break;case $I:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=vn;break}if(r.length=u&65535,u=0,d=0,r.mode=OS,t===Ob)break e;case OS:r.mode=BI;case BI:if(m=r.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;a.set(n.subarray(s,s+m),o),l-=m,s+=m,c-=m,o+=m,r.length-=m;break}r.mode=lc;break;case UI:for(;d<14;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=vn;break}r.have=0,r.mode=zI;case zI:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.lens[k[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[k[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,D={bits:r.lenbits},C=a0(gxe,r.lens,0,19,r.lencode,0,r.work,D),r.lenbits=D.bits,C){e.msg="invalid code lengths set",r.mode=vn;break}r.have=0,r.mode=VI;case VI:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],p=v>>>24,y=v>>>16&255,w=v&65535,!(p<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(w<16)u>>>=p,d-=p,r.lens[r.have++]=w;else{if(w===16){for(E=p+2;d<E;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(u>>>=p,d-=p,r.have===0){e.msg="invalid bit length repeat",r.mode=vn;break}A=r.lens[r.have-1],m=3+(u&3),u>>>=2,d-=2}else if(w===17){for(E=p+3;d<E;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=p,d-=p,A=0,m=3+(u&7),u>>>=3,d-=3}else{for(E=p+7;d<E;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=p,d-=p,A=0,m=11+(u&127),u>>>=7,d-=7}if(r.have+m>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=vn;break}for(;m--;)r.lens[r.have++]=A}}if(r.mode===vn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=vn;break}if(r.lenbits=9,D={bits:r.lenbits},C=a0(dH,r.lens,0,r.nlen,r.lencode,0,r.work,D),r.lenbits=D.bits,C){e.msg="invalid literal/lengths set",r.mode=vn;break}if(r.distbits=6,r.distcode=r.distdyn,D={bits:r.distbits},C=a0(fH,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,D),r.distbits=D.bits,C){e.msg="invalid distances set",r.mode=vn;break}if(r.mode=Mb,t===Ob)break e;case Mb:r.mode=Lb;case Lb:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=d,uxe(e,h),o=e.next_out,a=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,u=r.hold,d=r.bits,r.mode===lc&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],p=v>>>24,y=v>>>16&255,w=v&65535,!(p<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(y&&!(y&240)){for(j=p,S=y,P=w;v=r.lencode[P+((u&(1<<j+S)-1)>>j)],p=v>>>24,y=v>>>16&255,w=v&65535,!(j+p<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=j,d-=j,r.back+=j}if(u>>>=p,d-=p,r.back+=p,r.length=w,y===0){r.mode=GI;break}if(y&32){r.back=-1,r.mode=lc;break}if(y&64){e.msg="invalid literal/length code",r.mode=vn;break}r.extra=y&15,r.mode=qI;case qI:if(r.extra){for(E=r.extra;d<E;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=WI;case WI:for(;v=r.distcode[u&(1<<r.distbits)-1],p=v>>>24,y=v>>>16&255,w=v&65535,!(p<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(!(y&240)){for(j=p,S=y,P=w;v=r.distcode[P+((u&(1<<j+S)-1)>>j)],p=v>>>24,y=v>>>16&255,w=v&65535,!(j+p<=d);){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}u>>>=j,d-=j,r.back+=j}if(u>>>=p,d-=p,r.back+=p,y&64){e.msg="invalid distance code",r.mode=vn;break}r.offset=w,r.extra=y&15,r.mode=HI;case HI:if(r.extra){for(E=r.extra;d<E;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=vn;break}r.mode=KI;case KI:if(c===0)break e;if(m=h-c,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=vn;break}m>r.wnext?(m-=r.wnext,g=r.wsize-m):g=r.wnext-m,m>r.length&&(m=r.length),x=r.window}else x=a,g=o-r.offset,m=r.length;m>c&&(m=c),c-=m,r.length-=m;do a[o++]=x[g++];while(--m);r.length===0&&(r.mode=Lb);break;case GI:if(c===0)break e;a[o++]=r.length,c--,r.mode=Lb;break;case MS:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[s++]<<d,d+=8}if(h-=c,e.total_out+=h,r.total+=h,r.wrap&4&&h&&(e.adler=r.check=r.flags?Si(r.check,a,h,o-h):W0(r.check,a,h,o-h)),h=c,r.wrap&4&&(r.flags?u:ZI(u))!==r.check){e.msg="incorrect data check",r.mode=vn;break}u=0,d=0}r.mode=YI;case YI:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[s++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=vn;break}u=0,d=0}r.mode=XI;case XI:C=yxe;break e;case vn:C=hH;break e;case pH:return mH;case gH:default:return no}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=d,(r.wsize||h!==e.avail_out&&r.mode<vn&&(r.mode<MS||t!==kI))&&wH(e,e.output,e.next_out,h-e.avail_out),f-=e.avail_in,h-=e.avail_out,e.total_in+=f,e.total_out+=h,r.total+=h,r.wrap&4&&h&&(e.adler=r.check=r.flags?Si(r.check,a,h,e.next_out-h):W0(r.check,a,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(r.mode===lc?128:0)+(r.mode===Mb||r.mode===OS?256:0),(f===0&&h===0||t===kI)&&C===sh&&(C=bxe),C},Cxe=e=>{if(xh(e))return no;let t=e.state;return t.window&&(t.window=null),e.state=null,sh},Txe=(e,t)=>{if(xh(e))return no;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,sh):no},Exe=(e,t)=>{const r=t.length;let n,a,s;return xh(e)||(n=e.state,n.wrap!==0&&n.mode!==Rw)?no:n.mode===Rw&&(a=1,a=W0(a,t,r,0),a!==n.check)?hH:(s=wH(e,t,r,r),s?(n.mode=pH,mH):(n.havedict=1,sh))};var Oxe=yH,Mxe=vH,Lxe=xH,Ixe=Pxe,Dxe=bH,Rxe=kxe,Fxe=Cxe,$xe=Txe,Bxe=Exe,Uxe="pako inflate (from Nodeca project)",mc={inflateReset:Oxe,inflateReset2:Mxe,inflateResetKeep:Lxe,inflateInit:Ixe,inflateInit2:Dxe,inflate:Rxe,inflateEnd:Fxe,inflateGetHeader:$xe,inflateSetDictionary:Bxe,inflateInfo:Uxe};function zxe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Vxe=zxe;const jH=Object.prototype.toString,{Z_NO_FLUSH:qxe,Z_FINISH:Wxe,Z_OK:G0,Z_STREAM_END:DS,Z_NEED_DICT:RS,Z_STREAM_ERROR:Hxe,Z_DATA_ERROR:JI,Z_MEM_ERROR:Kxe}=rv;function iv(e){this.options=Fj.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cH,this.strm.avail_out=0;let r=mc.inflateInit2(this.strm,t.windowBits);if(r!==G0)throw new Error(jp[r]);if(this.header=new Vxe,mc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=K0.string2buf(t.dictionary):jH.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=mc.inflateSetDictionary(this.strm,t.dictionary),r!==G0)))throw new Error(jp[r])}iv.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?Wxe:qxe,jH.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=mc.inflate(r,o),s===RS&&a&&(s=mc.inflateSetDictionary(r,a),s===G0?s=mc.inflate(r,o):s===JI&&(s=RS));r.avail_in>0&&s===DS&&r.state.wrap>0&&e[r.next_in]!==0;)mc.inflateReset(r),s=mc.inflate(r,o);switch(s){case Hxe:case JI:case RS:case Kxe:return this.onEnd(s),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||s===DS))if(this.options.to==="string"){let c=K0.utf8border(r.output,r.next_out),u=r.next_out-c,d=K0.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===G0&&l===0)){if(s===DS)return s=mc.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};iv.prototype.onData=function(e){this.chunks.push(e)};iv.prototype.onEnd=function(e){e===G0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Fj.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Y3(e,t){const r=new iv(t);if(r.push(e),r.err)throw r.msg||jp[r.err];return r.result}function Gxe(e,t){return t=t||{},t.raw=!0,Y3(e,t)}var Yxe=iv,Xxe=Y3,Zxe=Gxe,Qxe=Y3,Jxe=rv,e0e={Inflate:Yxe,inflate:Xxe,inflateRaw:Zxe,ungzip:Qxe,constants:Jxe};const{Inflate:t0e,inflate:r0e,inflateRaw:TBe,ungzip:EBe}=e0e;var e8=t0e,n0e=r0e;const NH=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;NH[e]=t}const t8=4294967295;function i0e(e,t,r){let n=e;for(let a=0;a<r;a++)n=NH[(n^t[a])&255]^n>>>8;return n}function a0e(e,t){return(i0e(t8,e,t)^t8)>>>0}function r8(e,t,r){const n=e.readUint32(),a=a0e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function SH(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function _H(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function PH(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function AH(e,t,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+(t[s-a]>>1)&255}else{for(;s<a;s++)t[s]=e[s]+(r[s]>>1)&255;for(;s<n;s++)t[s]=e[s]+(t[s-a]+r[s]>>1)&255}}function kH(e,t,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-a]&255}else{for(;s<a;s++)t[s]=e[s]+r[s]&255;for(;s<n;s++)t[s]=e[s]+s0e(t[s-a],r[s],r[s-a])&255}}function s0e(e,t,r){const n=e+t-r,a=Math.abs(n-e),s=Math.abs(n-t),o=Math.abs(n-r);return a<=s&&a<=o?e:s<=o?t:r}function o0e(e,t,r,n,a,s){switch(e){case 0:SH(t,r,a);break;case 1:_H(t,r,a,s);break;case 2:PH(t,r,n,a);break;case 3:AH(t,r,n,a,s);break;case 4:kH(t,r,n,a,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const l0e=new Uint16Array([255]),c0e=new Uint8Array(l0e.buffer),u0e=c0e[0]===255;function d0e(e){const{data:t,width:r,height:n,channels:a,depth:s}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*a,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const f=o[d],h=Math.ceil((r-f.x)/f.xStep),m=Math.ceil((n-f.y)/f.yStep);if(h<=0||m<=0)continue;const g=h*l,x=new Uint8Array(g);for(let v=0;v<m;v++){const p=t[u++],y=t.subarray(u,u+g);u+=g;const w=new Uint8Array(g);o0e(p,y,w,x,g,l),x.set(w);for(let j=0;j<h;j++){const S=f.x+j*f.xStep,P=f.y+v*f.yStep;if(!(S>=r||P>=n))for(let A=0;A<l;A++)c[(P*r+S)*l+A]=w[j*l+A]}}}if(s===16){const d=new Uint16Array(c.buffer);if(u0e)for(let f=0;f<d.length;f++)d[f]=f0e(d[f]);return d}else return c}function f0e(e){return(e&255)<<8|e>>8&255}const h0e=new Uint16Array([255]),m0e=new Uint8Array(h0e.buffer),p0e=m0e[0]===255,g0e=new Uint8Array(0);function n8(e){const{data:t,width:r,height:n,channels:a,depth:s}=e,o=Math.ceil(s/8)*a,l=Math.ceil(s/8*a*r),c=new Uint8Array(n*l);let u=g0e,d=0,f,h;for(let m=0;m<n;m++){switch(f=t.subarray(d+1,d+1+l),h=c.subarray(m*l,(m+1)*l),t[d]){case 0:SH(f,h,l);break;case 1:_H(f,h,l,o);break;case 2:PH(f,h,u,l);break;case 3:AH(f,h,u,l,o);break;case 4:kH(f,h,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=h,d+=l+1}if(s===16){const m=new Uint16Array(c.buffer);if(p0e)for(let g=0;g<m.length;g++)m[g]=x0e(m[g]);return m}else return c}function x0e(e){return(e&255)<<8|e>>8&255}const k1=Uint8Array.of(137,80,78,71,13,10,26,10);function i8(e){if(!y0e(e.readBytes(k1.length)))throw new Error("wrong PNG signature")}function y0e(e){if(e.length<k1.length)return!1;for(let t=0;t<k1.length;t++)if(e[t]!==k1[t])return!1;return!0}const v0e="tEXt",b0e=0,CH=new TextDecoder("latin1");function w0e(e){if(N0e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const j0e=/^[\u0000-\u00FF]*$/;function N0e(e){if(!j0e.test(e))throw new Error("invalid latin1 text")}function S0e(e,t,r){const n=TH(t);e[n]=_0e(t,r-n.length-1)}function TH(e){for(e.mark();e.readByte()!==b0e;);const t=e.offset;e.reset();const r=CH.decode(e.readBytes(t-e.offset-1));return e.skip(1),w0e(r),r}function _0e(e,t){return CH.decode(e.readBytes(t))}const Ja={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},FS={UNKNOWN:-1,DEFLATE:0},a8={UNKNOWN:-1,ADAPTIVE:0},$S={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ib={NONE:0,BACKGROUND:1,PREVIOUS:2},BS={SOURCE:0,OVER:1};class P0e extends z3{constructor(r,n={}){super(r);dr(this,"_checkCrc");dr(this,"_inflator");dr(this,"_png");dr(this,"_apng");dr(this,"_end");dr(this,"_hasPalette");dr(this,"_palette");dr(this,"_hasTransparency");dr(this,"_transparency");dr(this,"_compressionMethod");dr(this,"_filterMethod");dr(this,"_interlaceMethod");dr(this,"_colorType");dr(this,"_isAnimated");dr(this,"_numberOfFrames");dr(this,"_numberOfPlays");dr(this,"_frames");dr(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new e8,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=FS.UNKNOWN,this._filterMethod=a8.UNKNOWN,this._interlaceMethod=$S.UNKNOWN,this._colorType=Ja.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(i8(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(i8(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case v0e:S0e(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?r8(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?r8(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=A0e(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Ja.GREYSCALE:a=1;break;case Ja.TRUECOLOUR:a=3;break;case Ja.INDEXED_COLOUR:a=1;break;case Ja.GREYSCALE_ALPHA:a=2;break;case Ja.TRUECOLOUR_ALPHA:a=4;break;case Ja.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==FS.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let s=0;s<n;s++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ja.GREYSCALE:case Ja.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ja.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ja.UNKNOWN:case Ja.GREYSCALE_ALPHA:case Ja.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=TH(this),a=this.readUint8();if(a!==FS.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:n0e(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=n8({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(a,s,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case Ib.NONE:break;case Ib.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const l=(s*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case Ib.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,s=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case BS.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(o,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[u+d]}break;case BS.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(o,l);for(let d=0;d<this._png.channels;d++){const f=n.data[u+this._png.channels-1]/a,h=d%(this._png.channels-1)===0?1:n.data[u+d],m=Math.floor(f*h+(1-f)*r.data[c+d]);r.data[c+d]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==a8.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===$S.NO_INTERLACE)this._png.data=n8({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===$S.ADAM7)this._png.data=d0e({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ib.NONE,blendOp:BS.SOURCE,data:r}),this._inflator=new e8,this._writingDataChunks=!1}}function A0e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var s8;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(s8||(s8={}));function k0e(e,t){return new P0e(e,t).decode()}var Ft=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function US(){Ft.console&&typeof Ft.console.log=="function"&&Ft.console.log.apply(Ft.console,arguments)}var an={log:US,warn:function(e){Ft.console&&(typeof Ft.console.warn=="function"?Ft.console.warn.apply(Ft.console,arguments):US.call(null,arguments))},error:function(e){Ft.console&&(typeof Ft.console.error=="function"?Ft.console.error.apply(Ft.console,arguments):US(e))}};function zS(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){hf(n.response,t,r)},n.onerror=function(){an.error("could not download file")},n.send()}function o8(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Db(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var hf=Ft.saveAs||((typeof window>"u"?"undefined":Wr(window))!=="object"||window!==Ft?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Ft.URL||Ft.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?o8(a.href)?zS(e,t,r):Db(a,a.target="_blank"):Db(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Db(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(o8(e))zS(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Db(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:Wr(s)!=="object"&&(an.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return zS(e,t,r);var a=e.type==="application/octet-stream",s=/constructor/i.test(Ft.HTMLElement)||Ft.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&s)&&(typeof FileReader>"u"?"undefined":Wr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=Ft.URL||Ft.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function EH(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,o=a.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var C1=Ft.atob.bind(Ft),l8=Ft.btoa.bind(Ft);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function VS(e,t){var r=e[0],n=e[1],a=e[2],s=e[3];r=Ji(r,n,a,s,t[0],7,-680876936),s=Ji(s,r,n,a,t[1],12,-389564586),a=Ji(a,s,r,n,t[2],17,606105819),n=Ji(n,a,s,r,t[3],22,-1044525330),r=Ji(r,n,a,s,t[4],7,-176418897),s=Ji(s,r,n,a,t[5],12,1200080426),a=Ji(a,s,r,n,t[6],17,-1473231341),n=Ji(n,a,s,r,t[7],22,-45705983),r=Ji(r,n,a,s,t[8],7,1770035416),s=Ji(s,r,n,a,t[9],12,-1958414417),a=Ji(a,s,r,n,t[10],17,-42063),n=Ji(n,a,s,r,t[11],22,-1990404162),r=Ji(r,n,a,s,t[12],7,1804603682),s=Ji(s,r,n,a,t[13],12,-40341101),a=Ji(a,s,r,n,t[14],17,-1502002290),r=ea(r,n=Ji(n,a,s,r,t[15],22,1236535329),a,s,t[1],5,-165796510),s=ea(s,r,n,a,t[6],9,-1069501632),a=ea(a,s,r,n,t[11],14,643717713),n=ea(n,a,s,r,t[0],20,-373897302),r=ea(r,n,a,s,t[5],5,-701558691),s=ea(s,r,n,a,t[10],9,38016083),a=ea(a,s,r,n,t[15],14,-660478335),n=ea(n,a,s,r,t[4],20,-405537848),r=ea(r,n,a,s,t[9],5,568446438),s=ea(s,r,n,a,t[14],9,-1019803690),a=ea(a,s,r,n,t[3],14,-187363961),n=ea(n,a,s,r,t[8],20,1163531501),r=ea(r,n,a,s,t[13],5,-1444681467),s=ea(s,r,n,a,t[2],9,-51403784),a=ea(a,s,r,n,t[7],14,1735328473),r=ta(r,n=ea(n,a,s,r,t[12],20,-1926607734),a,s,t[5],4,-378558),s=ta(s,r,n,a,t[8],11,-2022574463),a=ta(a,s,r,n,t[11],16,1839030562),n=ta(n,a,s,r,t[14],23,-35309556),r=ta(r,n,a,s,t[1],4,-1530992060),s=ta(s,r,n,a,t[4],11,1272893353),a=ta(a,s,r,n,t[7],16,-155497632),n=ta(n,a,s,r,t[10],23,-1094730640),r=ta(r,n,a,s,t[13],4,681279174),s=ta(s,r,n,a,t[0],11,-358537222),a=ta(a,s,r,n,t[3],16,-722521979),n=ta(n,a,s,r,t[6],23,76029189),r=ta(r,n,a,s,t[9],4,-640364487),s=ta(s,r,n,a,t[12],11,-421815835),a=ta(a,s,r,n,t[15],16,530742520),r=ra(r,n=ta(n,a,s,r,t[2],23,-995338651),a,s,t[0],6,-198630844),s=ra(s,r,n,a,t[7],10,1126891415),a=ra(a,s,r,n,t[14],15,-1416354905),n=ra(n,a,s,r,t[5],21,-57434055),r=ra(r,n,a,s,t[12],6,1700485571),s=ra(s,r,n,a,t[3],10,-1894986606),a=ra(a,s,r,n,t[10],15,-1051523),n=ra(n,a,s,r,t[1],21,-2054922799),r=ra(r,n,a,s,t[8],6,1873313359),s=ra(s,r,n,a,t[15],10,-30611744),a=ra(a,s,r,n,t[6],15,-1560198380),n=ra(n,a,s,r,t[13],21,1309151649),r=ra(r,n,a,s,t[4],6,-145523070),s=ra(s,r,n,a,t[11],10,-1120210379),a=ra(a,s,r,n,t[2],15,718787259),n=ra(n,a,s,r,t[9],21,-343485551),e[0]=Gu(r,e[0]),e[1]=Gu(n,e[1]),e[2]=Gu(a,e[2]),e[3]=Gu(s,e[3])}function Bj(e,t,r,n,a,s){return t=Gu(Gu(t,e),Gu(n,s)),Gu(t<<a|t>>>32-a,r)}function Ji(e,t,r,n,a,s,o){return Bj(t&r|~t&n,e,t,a,s,o)}function ea(e,t,r,n,a,s,o){return Bj(t&n|r&~n,e,t,a,s,o)}function ta(e,t,r,n,a,s,o){return Bj(t^r^n,e,t,a,s,o)}function ra(e,t,r,n,a,s,o){return Bj(r^(t|~n),e,t,a,s,o)}function OH(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)VS(n,C0e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(VS(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,VS(n,a),n}function C0e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var c8="0123456789abcdef".split("");function T0e(e){for(var t="",r=0;r<4;r++)t+=c8[e>>8*r+4&15]+c8[e>>8*r&15];return t}function E0e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function GA(e){return OH(e).map(E0e).join("")}var O0e=function(e){for(var t=0;t<e.length;t++)e[t]=T0e(e[t]);return e.join("")}(OH("hello"))!="5d41402abc4b2a76b9719d911017c592";function Gu(e,t){if(O0e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function YA(e,t){var r,n,a,s;if(e!==r){for(var o=(a=e,s=1+(256/e.length|0),new Array(s+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var f=t.length,h=0,m=0,g="";for(c=0;c<f;c++)m=(m+(d=l[h=(h+1)%256]))%256,l[h]=l[m],l[m]=d,o=l[(l[h]+l[m])%256],g+=String.fromCharCode(t.charCodeAt(c)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var u8={print:4,modify:8,copy:16,"annot-forms":32};function Jh(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(u8.perm!==void 0)throw new Error("Invalid permission: "+l);a+=u8[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^a)),this.encryptionKey=GA(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=YA(this.encryptionKey,this.padding)}function em(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function d8(e){if(Wr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[r]){var o=t[r][s];try{o[0].apply(e,n)}catch(l){Ft.console&&an.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Fw(e){if(!(this instanceof Fw))return new Fw(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function MH(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function bf(e,t,r,n,a){if(!(this instanceof bf))return new bf(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,MH.call(this,n,a)}function ym(e,t,r,n,a){if(!(this instanceof ym))return new ym(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,MH.call(this,n,a)}function At(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],o=[],l=1,c=16,u="S",d=null;Wr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},m={internal:{},__private__:{}};m.__private__.PubSub=d8;var g="1.3",x=m.__private__.getPdfVersion=function(){return g};m.__private__.setPdfVersion=function(T){g=T};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return v};var p=m.__private__.getPageFormat=function(T){return v[T]};a=a||"a4";var y="compat",w="advanced",j=y;function S(){this.saveGraphicsState(),J(new Mt(ze,0,0,-ze,0,Kd()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),u="n",j=w}function P(){this.restoreGraphicsState(),u="S",j=y}var A=m.__private__.combineFontStyleAndFontWeight=function(T,U){if(T=="bold"&&U=="normal"||T=="bold"&&U==400||T=="normal"&&U=="italic"||T=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(T=U==400||U==="normal"?T==="italic"?"italic":"normal":U!=700&&U!=="bold"||T!=="normal"?(U==700?"bold":U)+""+T:"bold"),T};m.advancedAPI=function(T){var U=j===y;return U&&S.call(this),typeof T!="function"||(T(this),U&&P.call(this)),this},m.compatAPI=function(T){var U=j===w;return U&&P.call(this),typeof T!="function"||(T(this),U&&S.call(this)),this},m.isAdvancedAPI=function(){return j===w};var C,O=function(T){if(j!==w)throw new Error(T+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=m.roundToPrecision=m.__private__.roundToPrecision=function(T,U){var ne=t||U;if(isNaN(T)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return T.toFixed(ne).replace(/0+$/,"")};C=m.hpf=m.__private__.hpf=typeof c=="number"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return D(T,c)}:c==="smart"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return D(T,T>-1&&T<1?16:5)}:function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return D(T,16)};var E=m.f2=m.__private__.f2=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f2");return D(T,2)},k=m.__private__.f3=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f3");return D(T,3)},R=m.scale=m.__private__.scale=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.scale");return j===y?T*ze:j===w?T:void 0},L=function(T){return R(function(U){return j===y?Kd()-U:j===w?U:void 0}(T))};m.__private__.setPrecision=m.setPrecision=function(T){typeof parseInt(T,10)=="number"&&(t=parseInt(T,10))};var H,F="00000000000000000000000000000000",V=m.__private__.getFileId=function(){return F},B=m.__private__.setFileId=function(T){return F=T!==void 0&&/^[a-fA-F0-9]{32}$/.test(T)?T.toUpperCase():F.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&($n=new Jh(d.userPermissions,d.userPassword,d.ownerPassword,F)),F};m.setFileId=function(T){return B(T),this},m.getFileId=function(){return V()};var G=m.__private__.convertDateToPDFDate=function(T){var U=T.getTimezoneOffset(),ne=U<0?"+":"-",de=Math.floor(Math.abs(U/60)),je=Math.abs(U%60),Le=[ne,Q(de),"'",Q(je),"'"].join("");return["D:",T.getFullYear(),Q(T.getMonth()+1),Q(T.getDate()),Q(T.getHours()),Q(T.getMinutes()),Q(T.getSeconds()),Le].join("")},le=m.__private__.convertPDFDateToDate=function(T){var U=parseInt(T.substr(2,4),10),ne=parseInt(T.substr(6,2),10)-1,de=parseInt(T.substr(8,2),10),je=parseInt(T.substr(10,2),10),Le=parseInt(T.substr(12,2),10),We=parseInt(T.substr(14,2),10);return new Date(U,ne,de,je,Le,We,0)},fe=m.__private__.setCreationDate=function(T){var U;if(T===void 0&&(T=new Date),T instanceof Date)U=G(T);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(T))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=T}return H=U},$=m.__private__.getCreationDate=function(T){var U=H;return T==="jsDate"&&(U=le(H)),U};m.setCreationDate=function(T){return fe(T),this},m.getCreationDate=function(T){return $(T)};var q,Q=m.__private__.padd2=function(T){return("0"+parseInt(T)).slice(-2)},ae=m.__private__.padd2Hex=function(T){return("00"+(T=T.toString())).substr(T.length)},ue=0,ce=[],we=[],oe=0,ye=[],Ne=[],pe=!1,_e=we;m.__private__.setCustomOutputDestination=function(T){pe=!0,_e=T};var ve=function(T){pe||(_e=T)};m.__private__.resetCustomOutputDestination=function(){pe=!1,_e=we};var J=m.__private__.out=function(T){return T=T.toString(),oe+=T.length+1,_e.push(T),_e},ut=m.__private__.write=function(T){return J(arguments.length===1?T.toString():Array.prototype.join.call(arguments," "))},at=m.__private__.getArrayBuffer=function(T){for(var U=T.length,ne=new ArrayBuffer(U),de=new Uint8Array(ne);U--;)de[U]=T.charCodeAt(U);return ne},ct=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return ct};var $e=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(T){return $e=j===w?T/ze:T,this};var dt,Qe=m.__private__.getFontSize=m.getFontSize=function(){return j===y?$e:$e*ze},ie=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(T){return ie=T,this},m.__private__.getR2L=m.getR2L=function(){return ie};var me,Pe=m.__private__.setZoomMode=function(T){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(T))dt=T;else if(isNaN(T)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(T)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+T+'" is not recognized.');dt=T}else dt=parseInt(T,10)};m.__private__.getZoomMode=function(){return dt};var Fe,Me=m.__private__.setPageMode=function(T){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(T)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+T+'" is not recognized.');me=T};m.__private__.getPageMode=function(){return me};var Re=m.__private__.setLayoutMode=function(T){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(T)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+T+'" is not recognized.');Fe=T};m.__private__.getLayoutMode=function(){return Fe},m.__private__.setDisplayMode=m.setDisplayMode=function(T,U,ne){return Pe(T),Re(U),Me(ne),this};var Ue={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(T){if(Object.keys(Ue).indexOf(T)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ue[T]},m.__private__.getDocumentProperties=function(){return Ue},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(T){for(var U in Ue)Ue.hasOwnProperty(U)&&T[U]&&(Ue[U]=T[U]);return this},m.__private__.setDocumentProperty=function(T,U){if(Object.keys(Ue).indexOf(T)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ue[T]=U};var he,ze,Ye,or,Jt,mt={},Dt={},Sr=[],Et={},cr={},er={},Fn={},oi=null,tn=0,Vt=[],Lr=new d8(m),Id=e.hotfixes||[],Gi={},Wl={},Qo=[],Mt=function T(U,ne,de,je,Le,We){if(!(this instanceof T))return new T(U,ne,de,je,Le,We);isNaN(U)&&(U=1),isNaN(ne)&&(ne=0),isNaN(de)&&(de=0),isNaN(je)&&(je=1),isNaN(Le)&&(Le=0),isNaN(We)&&(We=0),this._matrix=[U,ne,de,je,Le,We]};Object.defineProperty(Mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(Mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(Mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(Mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(Mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(Mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(Mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(Mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(Mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(Mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(Mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(Mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(Mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Mt.prototype.join=function(T){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(T)},Mt.prototype.multiply=function(T){var U=T.sx*this.sx+T.shy*this.shx,ne=T.sx*this.shy+T.shy*this.sy,de=T.shx*this.sx+T.sy*this.shx,je=T.shx*this.shy+T.sy*this.sy,Le=T.tx*this.sx+T.ty*this.shx+this.tx,We=T.tx*this.shy+T.ty*this.sy+this.ty;return new Mt(U,ne,de,je,Le,We)},Mt.prototype.decompose=function(){var T=this.sx,U=this.shy,ne=this.shx,de=this.sy,je=this.tx,Le=this.ty,We=Math.sqrt(T*T+U*U),xt=(T/=We)*ne+(U/=We)*de;ne-=T*xt,de-=U*xt;var Nt=Math.sqrt(ne*ne+de*de);return xt/=Nt,T*(de/=Nt)<U*(ne/=Nt)&&(T=-T,U=-U,xt=-xt,We=-We),{scale:new Mt(We,0,0,Nt,0,0),translate:new Mt(1,0,0,1,je,Le),rotate:new Mt(T,U,-U,T,0,0),skew:new Mt(1,0,xt,1,0,0)}},Mt.prototype.toString=function(T){return this.join(" ")},Mt.prototype.inversed=function(){var T=this.sx,U=this.shy,ne=this.shx,de=this.sy,je=this.tx,Le=this.ty,We=1/(T*de-U*ne),xt=de*We,Nt=-U*We,Bt=-ne*We,Yt=T*We;return new Mt(xt,Nt,Bt,Yt,-xt*je-Bt*Le,-Nt*je-Yt*Le)},Mt.prototype.applyToPoint=function(T){var U=T.x*this.sx+T.y*this.shx+this.tx,ne=T.x*this.shy+T.y*this.sy+this.ty;return new Wd(U,ne)},Mt.prototype.applyToRectangle=function(T){var U=this.applyToPoint(T),ne=this.applyToPoint(new Wd(T.x+T.w,T.y+T.h));return new Lg(U.x,U.y,ne.x-U.x,ne.y-U.y)},Mt.prototype.clone=function(){var T=this.sx,U=this.shy,ne=this.shx,de=this.sy,je=this.tx,Le=this.ty;return new Mt(T,U,ne,de,je,Le)},m.Matrix=Mt;var Hl=m.matrixMult=function(T,U){return U.multiply(T)},Kl=new Mt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Kl;var Ns=function(T,U){if(!cr[T]){var ne=(U instanceof bf?"Sh":"P")+(Object.keys(Et).length+1).toString(10);U.id=ne,cr[T]=ne,Et[ne]=U,Lr.publish("addPattern",U)}};m.ShadingPattern=bf,m.TilingPattern=ym,m.addShadingPattern=function(T,U){return O("addShadingPattern()"),Ns(T,U),this},m.beginTilingPattern=function(T){O("beginTilingPattern()"),Ig(T.boundingBox[0],T.boundingBox[1],T.boundingBox[2]-T.boundingBox[0],T.boundingBox[3]-T.boundingBox[1],T.matrix)},m.endTilingPattern=function(T,U){O("endTilingPattern()"),U.stream=Ne[q].join(`
`),Ns(T,U),Lr.publish("endTilingPattern",U),Qo.pop().restore()};var Ss,kn=m.__private__.newObject=function(){var T=Ni();return Mi(T,!0),T},Ni=m.__private__.newObjectDeferred=function(){return ue++,ce[ue]=function(){return oe},ue},Mi=function(T,U){return U=typeof U=="boolean"&&U,ce[T]=oe,U&&J(T+" 0 obj"),T},Dd=m.__private__.newAdditionalObject=function(){var T={objId:Ni(),content:""};return ye.push(T),T},eu=Ni(),uo=Ni(),Jo=m.__private__.decodeColorString=function(T){var U=T.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length!==5||U[4]!=="k"&&U[4]!=="K"||(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var ne=parseFloat(U[0]);U=[ne,ne,ne,"r"]}for(var de="#",je=0;je<3;je++)de+=("0"+Math.floor(255*parseFloat(U[je])).toString(16)).slice(-2);return de},fo=m.__private__.encodeColorString=function(T){var U;typeof T=="string"&&(T={ch1:T});var ne=T.ch1,de=T.ch2,je=T.ch3,Le=T.ch4,We=T.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var xt=new EH(ne);if(xt.ok)ne=xt.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var Nt=parseInt(ne.substr(1),16);ne=Nt>>16&255,de=Nt>>8&255,je=255&Nt}if(de===void 0||Le===void 0&&ne===de&&de===je)U=typeof ne=="string"?ne+" "+We[0]:T.precision===2?E(ne/255)+" "+We[0]:k(ne/255)+" "+We[0];else if(Le===void 0||Wr(Le)==="object"){if(Le&&!isNaN(Le.a)&&Le.a===0)return["1.","1.","1.",We[1]].join(" ");U=typeof ne=="string"?[ne,de,je,We[1]].join(" "):T.precision===2?[E(ne/255),E(de/255),E(je/255),We[1]].join(" "):[k(ne/255),k(de/255),k(je/255),We[1]].join(" ")}else U=typeof ne=="string"?[ne,de,je,Le,We[2]].join(" "):T.precision===2?[E(ne),E(de),E(je),E(Le),We[2]].join(" "):[k(ne),k(de),k(je),k(Le),We[2]].join(" ");return U},ho=m.__private__.getFilters=function(){return o},_s=m.__private__.putStream=function(T){var U=(T=T||{}).data||"",ne=T.filters||ho(),de=T.alreadyAppliedFilters||[],je=T.addLength1||!1,Le=U.length,We=T.objectId,xt=function(li){return li};if(d!==null&&We===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(xt=$n.encryptor(We,0));var Nt={};ne===!0&&(ne=["FlateEncode"]);var Bt=T.additionalKeyValues||[],Yt=(Nt=At.API.processDataByFilters!==void 0?At.API.processDataByFilters(U,ne):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(Nt.data.length!==0&&(Bt.push({key:"Length",value:Nt.data.length}),je===!0&&Bt.push({key:"Length1",value:Le})),Yt.length!=0)if(Yt.split("/").length-1==1)Bt.push({key:"Filter",value:Yt});else{Bt.push({key:"Filter",value:"["+Yt+"]"});for(var Er=0;Er<Bt.length;Er+=1)if(Bt[Er].key==="DecodeParms"){for(var jn=[],ti=0;ti<Nt.reverseChain.split("/").length-1;ti+=1)jn.push("null");jn.push(Bt[Er].value),Bt[Er].value="["+jn.join(" ")+"]"}}J("<<");for(var ln=0;ln<Bt.length;ln++)J("/"+Bt[ln].key+" "+Bt[ln].value);J(">>"),Nt.data.length!==0&&(J("stream"),J(xt(Nt.data)),J("endstream"))},Rd=m.__private__.putPage=function(T){var U=T.number,ne=T.data,de=T.objId,je=T.contentsObjId;Mi(de,!0),J("<</Type /Page"),J("/Parent "+T.rootDictionaryObjId+" 0 R"),J("/Resources "+T.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(C(T.mediaBox.bottomLeftX))+" "+parseFloat(C(T.mediaBox.bottomLeftY))+" "+C(T.mediaBox.topRightX)+" "+C(T.mediaBox.topRightY)+"]"),T.cropBox!==null&&J("/CropBox ["+C(T.cropBox.bottomLeftX)+" "+C(T.cropBox.bottomLeftY)+" "+C(T.cropBox.topRightX)+" "+C(T.cropBox.topRightY)+"]"),T.bleedBox!==null&&J("/BleedBox ["+C(T.bleedBox.bottomLeftX)+" "+C(T.bleedBox.bottomLeftY)+" "+C(T.bleedBox.topRightX)+" "+C(T.bleedBox.topRightY)+"]"),T.trimBox!==null&&J("/TrimBox ["+C(T.trimBox.bottomLeftX)+" "+C(T.trimBox.bottomLeftY)+" "+C(T.trimBox.topRightX)+" "+C(T.trimBox.topRightY)+"]"),T.artBox!==null&&J("/ArtBox ["+C(T.artBox.bottomLeftX)+" "+C(T.artBox.bottomLeftY)+" "+C(T.artBox.topRightX)+" "+C(T.artBox.topRightY)+"]"),typeof T.userUnit=="number"&&T.userUnit!==1&&J("/UserUnit "+T.userUnit),Lr.publish("putPage",{objId:de,pageContext:Vt[U],pageNumber:U,page:ne}),J("/Contents "+je+" 0 R"),J(">>"),J("endobj");var Le=ne.join(`
`);return j===w&&(Le+=`
Q`),Mi(je,!0),_s({data:Le,filters:ho(),objectId:je}),J("endobj"),de},el=m.__private__.putPages=function(){var T,U,ne=[];for(T=1;T<=tn;T++)Vt[T].objId=Ni(),Vt[T].contentsObjId=Ni();for(T=1;T<=tn;T++)ne.push(Rd({number:T,data:Ne[T],objId:Vt[T].objId,contentsObjId:Vt[T].contentsObjId,mediaBox:Vt[T].mediaBox,cropBox:Vt[T].cropBox,bleedBox:Vt[T].bleedBox,trimBox:Vt[T].trimBox,artBox:Vt[T].artBox,userUnit:Vt[T].userUnit,rootDictionaryObjId:eu,resourceDictionaryObjId:uo}));Mi(eu,!0),J("<</Type /Pages");var de="/Kids [";for(U=0;U<tn;U++)de+=ne[U]+" 0 R ";J(de+"]"),J("/Count "+tn),J(">>"),J("endobj"),Lr.publish("postPutPages")},Fd=function(T){Lr.publish("putFont",{font:T,out:J,newObject:kn,putStream:_s}),T.isAlreadyPutted!==!0&&(T.objectNumber=kn(),J("<<"),J("/Type /Font"),J("/BaseFont /"+em(T.postScriptName)),J("/Subtype /Type1"),typeof T.encoding=="string"&&J("/Encoding /"+T.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Sh=function(T){T.objectNumber=kn();var U=[];U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Form"}),U.push({key:"BBox",value:"["+[C(T.x),C(T.y),C(T.x+T.width),C(T.y+T.height)].join(" ")+"]"}),U.push({key:"Matrix",value:"["+T.matrix.toString()+"]"});var ne=T.pages[1].join(`
`);_s({data:ne,additionalKeyValues:U,objectId:T.objectNumber}),J("endobj")},_h=function(T,U){U||(U=21);var ne=kn(),de=function(We,xt){var Nt,Bt=[],Yt=1/(xt-1);for(Nt=0;Nt<1;Nt+=Yt)Bt.push(Nt);if(Bt.push(1),We[0].offset!=0){var Er={offset:0,color:We[0].color};We.unshift(Er)}if(We[We.length-1].offset!=1){var jn={offset:1,color:We[We.length-1].color};We.push(jn)}for(var ti="",ln=0,li=0;li<Bt.length;li++){for(Nt=Bt[li];Nt>We[ln+1].offset;)ln++;var ri=We[ln].offset,Li=(Nt-ri)/(We[ln+1].offset-ri),As=We[ln].color,Ca=We[ln+1].color;ti+=ae(Math.round((1-Li)*As[0]+Li*Ca[0]).toString(16))+ae(Math.round((1-Li)*As[1]+Li*Ca[1]).toString(16))+ae(Math.round((1-Li)*As[2]+Li*Ca[2]).toString(16))}return ti.trim()}(T.colors,U),je=[];je.push({key:"FunctionType",value:"0"}),je.push({key:"Domain",value:"[0.0 1.0]"}),je.push({key:"Size",value:"["+U+"]"}),je.push({key:"BitsPerSample",value:"8"}),je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_s({data:de,additionalKeyValues:je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),J("endobj"),T.objectNumber=kn(),J("<< /ShadingType "+T.type),J("/ColorSpace /DeviceRGB");var Le="/Coords ["+C(parseFloat(T.coords[0]))+" "+C(parseFloat(T.coords[1]))+" ";T.type===2?Le+=C(parseFloat(T.coords[2]))+" "+C(parseFloat(T.coords[3])):Le+=C(parseFloat(T.coords[2]))+" "+C(parseFloat(T.coords[3]))+" "+C(parseFloat(T.coords[4]))+" "+C(parseFloat(T.coords[5])),J(Le+="]"),T.matrix&&J("/Matrix ["+T.matrix.toString()+"]"),J("/Function "+ne+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Ph=function(T,U){var ne=Ni(),de=kn();U.push({resourcesOid:ne,objectOid:de}),T.objectNumber=de;var je=[];je.push({key:"Type",value:"/Pattern"}),je.push({key:"PatternType",value:"1"}),je.push({key:"PaintType",value:"1"}),je.push({key:"TilingType",value:"1"}),je.push({key:"BBox",value:"["+T.boundingBox.map(C).join(" ")+"]"}),je.push({key:"XStep",value:C(T.xStep)}),je.push({key:"YStep",value:C(T.yStep)}),je.push({key:"Resources",value:ne+" 0 R"}),T.matrix&&je.push({key:"Matrix",value:"["+T.matrix.toString()+"]"}),_s({data:T.stream,additionalKeyValues:je,objectId:T.objectNumber}),J("endobj")},IN=function(T){for(var U in T.objectNumber=kn(),J("<<"),T)switch(U){case"opacity":J("/ca "+E(T[U]));break;case"stroke-opacity":J("/CA "+E(T[U]))}J(">>"),J("endobj")},Sg=function(T){Mi(T.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var U in J("/Font <<"),mt)mt.hasOwnProperty(U)&&(f===!1||f===!0&&h.hasOwnProperty(U))&&J("/"+U+" "+mt[U].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(Et).length>0){for(var U in J("/Shading <<"),Et)Et.hasOwnProperty(U)&&Et[U]instanceof bf&&Et[U].objectNumber>=0&&J("/"+U+" "+Et[U].objectNumber+" 0 R");Lr.publish("putShadingPatternDict"),J(">>")}}(),function(U){if(Object.keys(Et).length>0){for(var ne in J("/Pattern <<"),Et)Et.hasOwnProperty(ne)&&Et[ne]instanceof m.TilingPattern&&Et[ne].objectNumber>=0&&Et[ne].objectNumber<U&&J("/"+ne+" "+Et[ne].objectNumber+" 0 R");Lr.publish("putTilingPatternDict"),J(">>")}}(T.objectOid),function(){if(Object.keys(er).length>0){var U;for(U in J("/ExtGState <<"),er)er.hasOwnProperty(U)&&er[U].objectNumber>=0&&J("/"+U+" "+er[U].objectNumber+" 0 R");Lr.publish("putGStateDict"),J(">>")}}(),function(){for(var U in J("/XObject <<"),Gi)Gi.hasOwnProperty(U)&&Gi[U].objectNumber>=0&&J("/"+U+" "+Gi[U].objectNumber+" 0 R");Lr.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},pv=function(T){Dt[T.fontName]=Dt[T.fontName]||{},Dt[T.fontName][T.fontStyle]=T.id},gv=function(T,U,ne,de,je){var Le={id:"F"+(Object.keys(mt).length+1).toString(10),postScriptName:T,fontName:U,fontStyle:ne,encoding:de,isStandardFont:je||!1,metadata:{}};return Lr.publish("addFont",{font:Le,instance:this}),mt[Le.id]=Le,pv(Le),Le.id},Ps=m.__private__.pdfEscape=m.pdfEscape=function(T,U){return function(ne,de){var je,Le,We,xt,Nt,Bt,Yt,Er,jn;if(We=(de=de||{}).sourceEncoding||"Unicode",Nt=de.outputEncoding,(de.autoencode||Nt)&&mt[he].metadata&&mt[he].metadata[We]&&mt[he].metadata[We].encoding&&(xt=mt[he].metadata[We].encoding,!Nt&&mt[he].encoding&&(Nt=mt[he].encoding),!Nt&&xt.codePages&&(Nt=xt.codePages[0]),typeof Nt=="string"&&(Nt=xt[Nt]),Nt)){for(Yt=!1,Bt=[],je=0,Le=ne.length;je<Le;je++)(Er=Nt[ne.charCodeAt(je)])?Bt.push(String.fromCharCode(Er)):Bt.push(ne[je]),Bt[je].charCodeAt(0)>>8&&(Yt=!0);ne=Bt.join("")}for(je=ne.length;Yt===void 0&&je!==0;)ne.charCodeAt(je-1)>>8&&(Yt=!0),je--;if(!Yt)return ne;for(Bt=de.noBOM?[]:[254,255],je=0,Le=ne.length;je<Le;je++){if((jn=(Er=ne.charCodeAt(je))>>8)>>8)throw new Error("Character at position "+je+" of string '"+ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Bt.push(jn),Bt.push(Er-(jn<<8))}return String.fromCharCode.apply(void 0,Bt)}(T,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_g=m.__private__.beginPage=function(T){Ne[++tn]=[],Vt[tn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(T[0]),topRightY:Number(T[1])}},yv(tn),ve(Ne[q])},xv=function(T,U){var ne,de,je;switch(r=U||r,typeof T=="string"&&(ne=p(T.toLowerCase()),Array.isArray(ne)&&(de=ne[0],je=ne[1])),Array.isArray(T)&&(de=T[0]*ze,je=T[1]*ze),isNaN(de)&&(de=a[0],je=a[1]),(de>14400||je>14400)&&(an.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),je=Math.min(14400,je)),a=[de,je],r.substr(0,1)){case"l":je>de&&(a=[je,de]);break;case"p":de>je&&(a=[je,de])}_g(a),qN(Tg),J(kh),Og!==0&&J(Og+" J"),Mg!==0&&J(Mg+" j"),Lr.publish("addPage",{pageNumber:tn})},Pg=function(T){T>0&&T<=tn&&(Ne.splice(T,1),Vt.splice(T,1),tn--,q>tn&&(q=tn),this.setPage(q))},yv=function(T){T>0&&T<=tn&&(q=T)},vv=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ne.length-1},bv=function(T,U,ne){var de,je=void 0;return ne=ne||{},T=T!==void 0?T:mt[he].fontName,U=U!==void 0?U:mt[he].fontStyle,de=T.toLowerCase(),Dt[de]!==void 0&&Dt[de][U]!==void 0?je=Dt[de][U]:Dt[T]!==void 0&&Dt[T][U]!==void 0?je=Dt[T][U]:ne.disableWarning===!1&&an.warn("Unable to look up font label for font '"+T+"', '"+U+"'. Refer to getFontList() for available fonts."),je||ne.noFallback||(je=Dt.times[U])==null&&(je=Dt.times.normal),je},Ah=m.__private__.putInfo=function(){var T=kn(),U=function(de){return de};for(var ne in d!==null&&(U=$n.encryptor(T,0)),J("<<"),J("/Producer ("+Ps(U("jsPDF "+At.version))+")"),Ue)Ue.hasOwnProperty(ne)&&Ue[ne]&&J("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+Ps(U(Ue[ne]))+")");J("/CreationDate ("+Ps(U(H))+")"),J(">>"),J("endobj")},DN=m.__private__.putCatalog=function(T){var U=(T=T||{}).rootDictionaryObjId||eu;switch(kn(),J("<<"),J("/Type /Catalog"),J("/Pages "+U+" 0 R"),dt||(dt="fullwidth"),dt){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+dt;ne.substr(ne.length-1)==="%"&&(dt=parseInt(dt)/100),typeof dt=="number"&&J("/OpenAction [3 0 R /XYZ null null "+E(dt)+"]")}switch(Fe||(Fe="continuous"),Fe){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}me&&J("/PageMode /"+me),Lr.publish("putCatalog"),J(">>"),J("endobj")},ei=m.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(ue+1)),J("/Root "+ue+" 0 R"),J("/Info "+(ue-1)+" 0 R"),d!==null&&J("/Encrypt "+$n.oid+" 0 R"),J("/ID [ <"+F+"> <"+F+"> ]"),J(">>")},wv=m.__private__.putHeader=function(){J("%PDF-"+g),J("%")},jv=m.__private__.putXRef=function(){var T="0000000000";J("xref"),J("0 "+(ue+1)),J("0000000000 65535 f ");for(var U=1;U<=ue;U++)typeof ce[U]=="function"?J((T+ce[U]()).slice(-10)+" 00000 n "):ce[U]!==void 0?J((T+ce[U]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Gl=m.__private__.buildDocument=function(){var T;ue=0,oe=0,we=[],ce=[],ye=[],eu=Ni(),uo=Ni(),ve(we),Lr.publish("buildDocument"),wv(),el(),function(){Lr.publish("putAdditionalObjects");for(var ne=0;ne<ye.length;ne++){var de=ye[ne];Mi(de.objId,!0),J(de.content),J("endobj")}Lr.publish("postPutAdditionalObjects")}(),T=[],function(){for(var ne in mt)mt.hasOwnProperty(ne)&&(f===!1||f===!0&&h.hasOwnProperty(ne))&&Fd(mt[ne])}(),function(){var ne;for(ne in er)er.hasOwnProperty(ne)&&IN(er[ne])}(),function(){for(var ne in Gi)Gi.hasOwnProperty(ne)&&Sh(Gi[ne])}(),function(ne){var de;for(de in Et)Et.hasOwnProperty(de)&&(Et[de]instanceof bf?_h(Et[de]):Et[de]instanceof ym&&Ph(Et[de],ne))}(T),Lr.publish("putResources"),T.forEach(Sg),Sg({resourcesOid:uo,objectOid:Number.MAX_SAFE_INTEGER}),Lr.publish("postPutResources"),d!==null&&($n.oid=kn(),J("<<"),J("/Filter /Standard"),J("/V "+$n.v),J("/R "+$n.r),J("/U <"+$n.toHexString($n.U)+">"),J("/O <"+$n.toHexString($n.O)+">"),J("/P "+$n.P),J(">>"),J("endobj")),Ah(),DN();var U=oe;return jv(),ei(),J("startxref"),J(""+U),J("%%EOF"),ve(Ne[q]),we.join(`
`)},$d=m.__private__.getBlob=function(T){return new Blob([at(T)],{type:"application/pdf"})},mo=m.output=m.__private__.output=(Ss=function(T,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",T){case void 0:return Gl();case"save":m.save(U.filename);break;case"arraybuffer":return at(Gl());case"blob":return $d(Gl());case"bloburi":case"bloburl":if(Ft.URL!==void 0&&typeof Ft.URL.createObjectURL=="function")return Ft.URL&&Ft.URL.createObjectURL($d(Gl()))||void 0;an.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",de=Gl();try{ne=l8(de)}catch{ne=l8(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+U.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Le=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(je=U.pdfObjectUrl,Le="");var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+je+'"'+Le+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");<\/script></body></html>",xt=Ft.open();return xt!==null&&xt.document.write(We),xt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',Bt=Ft.open();if(Bt!==null){Bt.document.write(Nt);var Yt=this;Bt.document.documentElement.querySelector("#pdfViewer").onload=function(){Bt.document.title=U.filename,Bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Yt.output("bloburl"))}}return Bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ft)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',jn=Ft.open();if(jn!==null&&(jn.document.write(Er),jn.document.title=U.filename),jn||typeof safari>"u")return jn;break;case"datauri":case"dataurl":return Ft.document.location.href=this.output("datauristring",U);default:return null}},Ss.foo=function(){try{return Ss.apply(this,arguments)}catch(ne){var T=ne.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var U="Error in function "+T.split(`
`)[0].split("<")[0]+": "+ne.message;if(!Ft.console)throw new Error(U);Ft.console.error(U,ne),Ft.alert&&alert(U)}},Ss.foo.bar=Ss,Ss.foo),Bd=function(T){return Array.isArray(Id)===!0&&Id.indexOf(T)>-1};switch(n){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=Bd("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ze=n}var $n=null;fe(),B();var Ag=m.__private__.getPageInfo=m.getPageInfo=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[T].objId,pageNumber:T,pageContext:Vt[T]}},RN=m.__private__.getPageInfoByObjId=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in Vt)if(Vt[U].objId===T)break;return Ag(U)},FN=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Vt[q].objId,pageNumber:q,pageContext:Vt[q]}};m.addPage=function(){return xv.apply(this,arguments),this},m.setPage=function(){return yv.apply(this,arguments),ve.call(this,Ne[q]),this},m.insertPage=function(T){return this.addPage(),this.movePage(q,T),this},m.movePage=function(T,U){var ne,de;if(T>U){ne=Ne[T],de=Vt[T];for(var je=T;je>U;je--)Ne[je]=Ne[je-1],Vt[je]=Vt[je-1];Ne[U]=ne,Vt[U]=de,this.setPage(U)}else if(T<U){ne=Ne[T],de=Vt[T];for(var Le=T;Le<U;Le++)Ne[Le]=Ne[Le+1],Vt[Le]=Vt[Le+1];Ne[U]=ne,Vt[U]=de,this.setPage(U)}return this},m.deletePage=function(){return Pg.apply(this,arguments),this},m.__private__.text=m.text=function(T,U,ne,de,je){var Le,We,xt,Nt,Bt,Yt,Er,jn,ti,ln=(de=de||{}).scope||this;if(typeof T=="number"&&typeof U=="number"&&(typeof ne=="string"||Array.isArray(ne))){var li=ne;ne=U,U=T,T=li}if(arguments[3]instanceof Mt==0?(xt=arguments[4],Nt=arguments[5],Wr(Er=arguments[3])==="object"&&Er!==null||(typeof xt=="string"&&(Nt=xt,xt=null),typeof Er=="string"&&(Nt=Er,Er=null),typeof Er=="number"&&(xt=Er,Er=null),de={flags:Er,angle:xt,align:Nt})):(O("The transform parameter of text() with a Matrix value"),ti=je),isNaN(U)||isNaN(ne)||T==null)throw new Error("Invalid arguments passed to jsPDF.text");if(T.length===0)return ln;var ri,Li="",As=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:zd,Ca=ln.internal.scaleFactor;function Tv(Ir){return Ir=Ir.split("	").join(Array(de.TabLen||9).join(" ")),Ps(Ir,Er)}function Oh(Ir){for(var rn,Un=Ir.concat(),ci=[],tc=Un.length;tc--;)typeof(rn=Un.shift())=="string"?ci.push(rn):Array.isArray(Ir)&&(rn.length===1||rn[1]===void 0&&rn[2]===void 0)?ci.push(rn[0]):ci.push([rn[0],rn[1],rn[2]]);return ci}function Gd(Ir,rn){var Un;if(typeof Ir=="string")Un=rn(Ir)[0];else if(Array.isArray(Ir)){for(var ci,tc,Wg=Ir.concat(),Ih=[],Mv=Wg.length;Mv--;)typeof(ci=Wg.shift())=="string"?Ih.push(rn(ci)[0]):Array.isArray(ci)&&typeof ci[0]=="string"&&(tc=rn(ci[0],ci[1],ci[2]),Ih.push([tc[0],tc[1],tc[2]]));Un=Ih}return Un}var nu=!1,Yd=!0;if(typeof T=="string")nu=!0;else if(Array.isArray(T)){var Xd=T.concat();We=[];for(var Zd,Yi=Xd.length;Yi--;)(typeof(Zd=Xd.shift())!="string"||Array.isArray(Zd)&&typeof Zd[0]!="string")&&(Yd=!1);nu=Yd}if(nu===!1)throw new Error('Type of text must be string or Array. "'+T+'" is not recognized.');typeof T=="string"&&(T=T.match(/[\r?\n]/)?T.split(/\r\n|\r|\n/g):[T]);var Qd=$e/ln.internal.scaleFactor,Jd=Qd*(As-1);switch(de.baseline){case"bottom":ne-=Jd;break;case"top":ne+=Qd-Jd;break;case"hanging":ne+=Qd-2*Jd;break;case"middle":ne+=Qd/2-Jd}if((Yt=de.maxWidth||0)>0&&(typeof T=="string"?T=ln.splitTextToSize(T,Yt):Object.prototype.toString.call(T)==="[object Array]"&&(T=T.reduce(function(Ir,rn){return Ir.concat(ln.splitTextToSize(rn,Yt))},[]))),Le={text:T,x:U,y:ne,options:de,mutex:{pdfEscape:Ps,activeFontKey:he,fonts:mt,activeFontSize:$e}},Lr.publish("preProcessText",Le),T=Le.text,xt=(de=Le.options).angle,ti instanceof Mt==0&&xt&&typeof xt=="number"){xt*=Math.PI/180,de.rotationDirection===0&&(xt=-xt),j===w&&(xt=-xt);var Dg=Math.cos(xt),Rg=Math.sin(xt);ti=new Mt(Dg,Rg,-Rg,Dg,0,0)}else xt&&xt instanceof Mt&&(ti=xt);j!==w||ti||(ti=Kl),(Bt=de.charSpace||Th)!==void 0&&(Li+=C(R(Bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(jn=de.horizontalScale)!==void 0&&(Li+=C(100*jn)+` Tz
`),de.lang;var Cn=-1,Jl=de.renderingMode!==void 0?de.renderingMode:de.stroke,Mh=ln.internal.getCurrentPageInfo().pageContext;switch(Jl){case 0:case!1:case"fill":Cn=0;break;case 1:case!0:case"stroke":Cn=1;break;case 2:case"fillThenStroke":Cn=2;break;case 3:case"invisible":Cn=3;break;case 4:case"fillAndAddForClipping":Cn=4;break;case 5:case"strokeAndAddPathForClipping":Cn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Cn=6;break;case 7:case"addToPathForClipping":Cn=7}var Ev=Mh.usedRenderingMode!==void 0?Mh.usedRenderingMode:-1;Cn!==-1?Li+=Cn+` Tr
`:Ev!==-1&&(Li+=`0 Tr
`),Cn!==-1&&(Mh.usedRenderingMode=Cn),Nt=de.align||"left";var ks,ef=$e*As,Fg=ln.internal.pageSize.getWidth(),$g=mt[he];Bt=de.charSpace||Th,Yt=de.maxWidth||0,Er=Object.assign({autoencode:!0,noBOM:!0},de.flags);var iu=[],tf=function(Ir){return ln.getStringUnitWidth(Ir,{font:$g,charSpace:Bt,fontSize:$e,doKerning:!1})*$e/Ca};if(Object.prototype.toString.call(T)==="[object Array]"){var Wa;We=Oh(T),Nt!=="left"&&(ks=We.map(tf));var Ha,au=0;if(Nt==="right"){U-=ks[0],T=[],Yi=We.length;for(var ec=0;ec<Yi;ec++)ec===0?(Ha=Yl(U),Wa=Xl(ne)):(Ha=R(au-ks[ec]),Wa=-ef),T.push([We[ec],Ha,Wa]),au=ks[ec]}else if(Nt==="center"){U-=ks[0]/2,T=[],Yi=We.length;for(var su=0;su<Yi;su++)su===0?(Ha=Yl(U),Wa=Xl(ne)):(Ha=R((au-ks[su])/2),Wa=-ef),T.push([We[su],Ha,Wa]),au=ks[su]}else if(Nt==="left"){T=[],Yi=We.length;for(var Bg=0;Bg<Yi;Bg++)T.push(We[Bg])}else if(Nt==="justify"&&$g.encoding==="Identity-H"){T=[],Yi=We.length,Yt=Yt!==0?Yt:Fg;for(var Lh=0,Bn=0;Bn<Yi;Bn++)if(Wa=Bn===0?Xl(ne):-ef,Ha=Bn===0?Yl(U):Lh,Bn<Yi-1){var Ov=R((Yt-ks[Bn])/(We[Bn].split(" ").length-1)),rl=We[Bn].split(" ");T.push([rl[0]+" ",Ha,Wa]),Lh=0;for(var nl=1;nl<rl.length;nl++){var Ug=(tf(rl[nl-1]+" "+rl[nl])-tf(rl[nl]))*Ca+Ov;nl==rl.length-1?T.push([rl[nl],Ug,0]):T.push([rl[nl]+" ",Ug,0]),Lh-=Ug}}else T.push([We[Bn],Ha,Wa]);T.push(["",Lh,0])}else{if(Nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(T=[],Yi=We.length,Yt=Yt!==0?Yt:Fg,Bn=0;Bn<Yi;Bn++){Wa=Bn===0?Xl(ne):-ef,Ha=Bn===0?Yl(U):0;var zg=We[Bn].split(" ").length-1,Vg=zg>0?(Yt-ks[Bn])/zg:0;Bn<Yi-1?iu.push(C(R(Vg))):iu.push(0),T.push([We[Bn],Ha,Wa])}}}(typeof de.R2L=="boolean"?de.R2L:ie)===!0&&(T=Gd(T,function(Ir,rn,Un){return[Ir.split("").reverse().join(""),rn,Un]})),Le={text:T,x:U,y:ne,options:de,mutex:{pdfEscape:Ps,activeFontKey:he,fonts:mt,activeFontSize:$e}},Lr.publish("postProcessText",Le),T=Le.text,ri=Le.mutex.isHex||!1;var qg=mt[he].encoding;qg!=="WinAnsiEncoding"&&qg!=="StandardEncoding"||(T=Gd(T,function(Ir,rn,Un){return[Tv(Ir),rn,Un]})),We=Oh(T),T=[];for(var ou,lu,cu,rf=Array.isArray(We[0])?1:0,uu="",nf=function(Ir,rn,Un){var ci="";return Un instanceof Mt?(Un=typeof de.angle=="number"?Hl(Un,new Mt(1,0,0,1,Ir,rn)):Hl(new Mt(1,0,0,1,Ir,rn),Un),j===w&&(Un=Hl(new Mt(1,0,0,-1,0,0),Un)),ci=Un.join(" ")+` Tm
`):ci=C(Ir)+" "+C(rn)+` Td
`,ci},Cs=0;Cs<We.length;Cs++){switch(uu="",rf){case 1:cu=(ri?"<":"(")+We[Cs][0]+(ri?">":")"),ou=parseFloat(We[Cs][1]),lu=parseFloat(We[Cs][2]);break;case 0:cu=(ri?"<":"(")+We[Cs]+(ri?">":")"),ou=Yl(U),lu=Xl(ne)}iu!==void 0&&iu[Cs]!==void 0&&(uu=iu[Cs]+` Tw
`),Cs===0?T.push(uu+nf(ou,lu,ti)+cu):rf===0?T.push(uu+cu):rf===1&&T.push(uu+nf(ou,lu,ti)+cu)}T=rf===0?T.join(` Tj
T* `):T.join(` Tj
`),T+=` Tj
`;var il=`BT
/`;return il+=he+" "+$e+` Tf
`,il+=C($e*As)+` TL
`,il+=Vd+`
`,il+=Li,il+=T,J(il+="ET"),h[he]=!0,ln};var $N=m.__private__.clip=m.clip=function(T){return J(T==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return $N("evenodd")},m.__private__.discardPath=m.discardPath=function(){return J("n"),this};var tl=m.__private__.isValidStyle=function(T){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(T)!==-1&&(U=!0),U};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(T){return tl(T)&&(u=T),this};var Nv=m.__private__.getStyle=m.getStyle=function(T){var U=u;switch(T){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=T}return U},Sv=m.close=function(){return J("h"),this};m.stroke=function(){return J("S"),this},m.fill=function(T){return tu("f",T),this},m.fillEvenOdd=function(T){return tu("f*",T),this},m.fillStroke=function(T){return tu("B",T),this},m.fillStrokeEvenOdd=function(T){return tu("B*",T),this};var tu=function(T,U){Wr(U)==="object"?UN(U,T):J(T)},kg=function(T){T===null||j===w&&T===void 0||(T=Nv(T),J(T))};function BN(T,U,ne,de,je){var Le=new ym(U||this.boundingBox,ne||this.xStep,de||this.yStep,this.gState,je||this.matrix);Le.stream=this.stream;var We=T+"$$"+this.cloneIndex+++"$$";return Ns(We,Le),Le}var UN=function(T,U){var ne=cr[T.key],de=Et[ne];if(de instanceof bf)J("q"),J(zN(U)),de.gState&&m.setGState(de.gState),J(T.matrix.toString()+" cm"),J("/"+ne+" sh"),J("Q");else if(de instanceof ym){var je=new Mt(1,0,0,-1,0,Kd());T.matrix&&(je=je.multiply(T.matrix||Kl),ne=BN.call(de,T.key,T.boundingBox,T.xStep,T.yStep,je).id),J("q"),J("/Pattern cs"),J("/"+ne+" scn"),de.gState&&m.setGState(de.gState),J(U),J("Q")}},zN=function(T){switch(T){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Cg=m.moveTo=function(T,U){return J(C(R(T))+" "+C(L(U))+" m"),this},Ud=m.lineTo=function(T,U){return J(C(R(T))+" "+C(L(U))+" l"),this},ru=m.curveTo=function(T,U,ne,de,je,Le){return J([C(R(T)),C(L(U)),C(R(ne)),C(L(de)),C(R(je)),C(L(Le)),"c"].join(" ")),this};m.__private__.line=m.line=function(T,U,ne,de,je){if(isNaN(T)||isNaN(U)||isNaN(ne)||isNaN(de)||!tl(je))throw new Error("Invalid arguments passed to jsPDF.line");return j===y?this.lines([[ne-T,de-U]],T,U,[1,1],je||"S"):this.lines([[ne-T,de-U]],T,U,[1,1]).stroke()},m.__private__.lines=m.lines=function(T,U,ne,de,je,Le){var We,xt,Nt,Bt,Yt,Er,jn,ti,ln,li,ri,Li;if(typeof T=="number"&&(Li=ne,ne=U,U=T,T=Li),de=de||[1,1],Le=Le||!1,isNaN(U)||isNaN(ne)||!Array.isArray(T)||!Array.isArray(de)||!tl(je)||typeof Le!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cg(U,ne),We=de[0],xt=de[1],Bt=T.length,li=U,ri=ne,Nt=0;Nt<Bt;Nt++)(Yt=T[Nt]).length===2?(li=Yt[0]*We+li,ri=Yt[1]*xt+ri,Ud(li,ri)):(Er=Yt[0]*We+li,jn=Yt[1]*xt+ri,ti=Yt[2]*We+li,ln=Yt[3]*xt+ri,li=Yt[4]*We+li,ri=Yt[5]*xt+ri,ru(Er,jn,ti,ln,li,ri));return Le&&Sv(),kg(je),this},m.path=function(T){for(var U=0;U<T.length;U++){var ne=T[U],de=ne.c;switch(ne.op){case"m":Cg(de[0],de[1]);break;case"l":Ud(de[0],de[1]);break;case"c":ru.apply(this,de);break;case"h":Sv()}}return this},m.__private__.rect=m.rect=function(T,U,ne,de,je){if(isNaN(T)||isNaN(U)||isNaN(ne)||isNaN(de)||!tl(je))throw new Error("Invalid arguments passed to jsPDF.rect");return j===y&&(de=-de),J([C(R(T)),C(L(U)),C(R(ne)),C(R(de)),"re"].join(" ")),kg(je),this},m.__private__.triangle=m.triangle=function(T,U,ne,de,je,Le,We){if(isNaN(T)||isNaN(U)||isNaN(ne)||isNaN(de)||isNaN(je)||isNaN(Le)||!tl(We))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-T,de-U],[je-ne,Le-de],[T-je,U-Le]],T,U,[1,1],We,!0),this},m.__private__.roundedRect=m.roundedRect=function(T,U,ne,de,je,Le,We){if(isNaN(T)||isNaN(U)||isNaN(ne)||isNaN(de)||isNaN(je)||isNaN(Le)||!tl(We))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var xt=4/3*(Math.SQRT2-1);return je=Math.min(je,.5*ne),Le=Math.min(Le,.5*de),this.lines([[ne-2*je,0],[je*xt,0,je,Le-Le*xt,je,Le],[0,de-2*Le],[0,Le*xt,-je*xt,Le,-je,Le],[2*je-ne,0],[-je*xt,0,-je,-Le*xt,-je,-Le],[0,2*Le-de],[0,-Le*xt,je*xt,-Le,je,-Le]],T+je,U,[1,1],We,!0),this},m.__private__.ellipse=m.ellipse=function(T,U,ne,de,je){if(isNaN(T)||isNaN(U)||isNaN(ne)||isNaN(de)||!tl(je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Le=4/3*(Math.SQRT2-1)*ne,We=4/3*(Math.SQRT2-1)*de;return Cg(T+ne,U),ru(T+ne,U-We,T+Le,U-de,T,U-de),ru(T-Le,U-de,T-ne,U-We,T-ne,U),ru(T-ne,U+We,T-Le,U+de,T,U+de),ru(T+Le,U+de,T+ne,U+We,T+ne,U),kg(je),this},m.__private__.circle=m.circle=function(T,U,ne,de){if(isNaN(T)||isNaN(U)||isNaN(ne)||!tl(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(T,U,ne,ne,de)},m.setFont=function(T,U,ne){return ne&&(U=A(U,ne)),he=bv(T,U,{disableWarning:!1}),this};var VN=m.__private__.getFont=m.getFont=function(){return mt[bv.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var T,U,ne={};for(T in Dt)if(Dt.hasOwnProperty(T))for(U in ne[T]=[],Dt[T])Dt[T].hasOwnProperty(U)&&ne[T].push(U);return ne},m.addFont=function(T,U,ne,de,je){var Le=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Le.indexOf(arguments[3])!==-1?je=arguments[3]:arguments[3]&&Le.indexOf(arguments[3])==-1&&(ne=A(ne,de)),gv.call(this,T,U,ne,je=je||"Identity-H")};var zd,Tg=e.lineWidth||.200025,qt=m.__private__.getLineWidth=m.getLineWidth=function(){return Tg},qN=m.__private__.setLineWidth=m.setLineWidth=function(T){return Tg=T,J(C(R(T))+" w"),this};m.__private__.setLineDash=At.API.setLineDash=At.API.setLineDashPattern=function(T,U){if(T=T||[],U=U||0,isNaN(U)||!Array.isArray(T))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return T=T.map(function(ne){return C(R(ne))}).join(" "),U=C(R(U)),J("["+T+"] "+U+" d"),this};var WN=m.__private__.getLineHeight=m.getLineHeight=function(){return $e*zd};m.__private__.getLineHeight=m.getLineHeight=function(){return $e*zd};var HN=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(T){return typeof(T=T||1.15)=="number"&&(zd=T),this},KN=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return zd};HN(e.lineHeight);var Yl=m.__private__.getHorizontalCoordinate=function(T){return R(T)},Xl=m.__private__.getVerticalCoordinate=function(T){return j===w?T:Vt[q].mediaBox.topRightY-Vt[q].mediaBox.bottomLeftY-R(T)},GN=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(T){return C(Yl(T))},YN=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(T){return C(Xl(T))},kh=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Jo(kh)},m.__private__.setStrokeColor=m.setDrawColor=function(T,U,ne,de){return kh=fo({ch1:T,ch2:U,ch3:ne,ch4:de,pdfColorType:"draw",precision:2}),J(kh),this};var Eg=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Jo(Eg)},m.__private__.setFillColor=m.setFillColor=function(T,U,ne,de){return Eg=fo({ch1:T,ch2:U,ch3:ne,ch4:de,pdfColorType:"fill",precision:2}),J(Eg),this};var Vd=e.textColor||"0 g",Ch=m.__private__.getTextColor=m.getTextColor=function(){return Jo(Vd)};m.__private__.setTextColor=m.setTextColor=function(T,U,ne,de){return Vd=fo({ch1:T,ch2:U,ch3:ne,ch4:de,pdfColorType:"text",precision:3}),this};var Th=e.charSpace,XN=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Th||0)};m.__private__.setCharSpace=m.setCharSpace=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Th=T,this};var Og=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(T){var U=m.CapJoinStyles[T];if(U===void 0)throw new Error("Line cap style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Og=U,J(U+" J"),this};var Mg=0;m.__private__.setLineJoin=m.setLineJoin=function(T){var U=m.CapJoinStyles[T];if(U===void 0)throw new Error("Line join style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mg=U,J(U+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(T){if(T=T||0,isNaN(T))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(C(R(T))+" M"),this},m.GState=Fw,m.setGState=function(T){(T=typeof T=="string"?er[Fn[T]]:qd(null,T)).equals(oi)||(J("/"+T.id+" gs"),oi=T)};var qd=function(T,U){if(!T||!Fn[T]){var ne=!1;for(var de in er)if(er.hasOwnProperty(de)&&er[de].equals(U)){ne=!0;break}if(ne)U=er[de];else{var je="GS"+(Object.keys(er).length+1).toString(10);er[je]=U,U.id=je}return T&&(Fn[T]=U.id),Lr.publish("addGState",U),U}};m.addGState=function(T,U){return qd(T,U),this},m.saveGraphicsState=function(){return J("q"),Sr.push({key:he,size:$e,color:Vd}),this},m.restoreGraphicsState=function(){J("Q");var T=Sr.pop();return he=T.key,$e=T.size,Vd=T.color,oi=null,this},m.setCurrentTransformationMatrix=function(T){return J(T.toString()+" cm"),this},m.comment=function(T){return J("#"+T),this};var Wd=function(T,U){var ne=T||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(Le){isNaN(Le)||(ne=parseFloat(Le))}});var de=U||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Le){isNaN(Le)||(de=parseFloat(Le))}});var je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return je},set:function(Le){je=Le.toString()}}),this},Lg=function(T,U,ne,de){Wd.call(this,T,U),this.type="rect";var je=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return je},set:function(We){isNaN(We)||(je=parseFloat(We))}});var Le=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Le},set:function(We){isNaN(We)||(Le=parseFloat(We))}}),this},Eh=function(){this.page=tn,this.currentPage=q,this.pages=Ne.slice(0),this.pagesContext=Vt.slice(0),this.x=Ye,this.y=or,this.matrix=Jt,this.width=_v(q),this.height=Zl(q),this.outputDestination=_e,this.id="",this.objectNumber=-1};Eh.prototype.restore=function(){tn=this.page,q=this.currentPage,Vt=this.pagesContext,Ne=this.pages,Ye=this.x,or=this.y,Jt=this.matrix,Pv(q,this.width),Ql(q,this.height),_e=this.outputDestination};var Ig=function(T,U,ne,de,je){Qo.push(new Eh),tn=q=0,Ne=[],Ye=T,or=U,Jt=je,_g([ne,de])};for(var Hd in m.beginFormObject=function(T,U,ne,de,je){return Ig(T,U,ne,de,je),this},m.endFormObject=function(T){return function(U){if(Wl[U])Qo.pop().restore();else{var ne=new Eh,de="Xo"+(Object.keys(Gi).length+1).toString(10);ne.id=de,Wl[U]=de,Gi[de]=ne,Lr.publish("addFormObject",ne),Qo.pop().restore()}}(T),this},m.doFormObject=function(T,U){var ne=Gi[Wl[T]];return J("q"),J(U.toString()+" cm"),J("/"+ne.id+" Do"),J("Q"),this},m.getFormObject=function(T){var U=Gi[Wl[T]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},m.save=function(T,U){return T=T||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(hf($d(Gl()),T),typeof hf.unload=="function"&&Ft.setTimeout&&setTimeout(hf.unload,911),this):new Promise(function(ne,de){try{var je=hf($d(Gl()),T);typeof hf.unload=="function"&&Ft.setTimeout&&setTimeout(hf.unload,911),ne(je)}catch(Le){de(Le.message)}})},At.API)At.API.hasOwnProperty(Hd)&&(Hd==="events"&&At.API.events.length?function(T,U){var ne,de,je;for(je=U.length-1;je!==-1;je--)ne=U[je][0],de=U[je][1],T.subscribe.apply(T,[ne].concat(typeof de=="function"?[de]:de))}(Lr,At.API.events):m[Hd]=At.API[Hd]);function _v(T){return Vt[T].mediaBox.topRightX-Vt[T].mediaBox.bottomLeftX}function Pv(T,U){Vt[T].mediaBox.topRightX=U+Vt[T].mediaBox.bottomLeftX}function Zl(T){return Vt[T].mediaBox.topRightY-Vt[T].mediaBox.bottomLeftY}function Ql(T,U){Vt[T].mediaBox.topRightY=U+Vt[T].mediaBox.bottomLeftY}var Av=m.getPageWidth=function(T){return _v(T=T||q)/ze},kv=m.setPageWidth=function(T,U){Pv(T,U*ze)},Kd=m.getPageHeight=function(T){return Zl(T=T||q)/ze},Cv=m.setPageHeight=function(T,U){Ql(T,U*ze)};return m.internal={pdfEscape:Ps,getStyle:Nv,getFont:VN,getFontSize:Qe,getCharSpace:XN,getTextColor:Ch,getLineHeight:WN,getLineHeightFactor:KN,getLineWidth:qt,write:ut,getHorizontalCoordinate:Yl,getVerticalCoordinate:Xl,getCoordinateString:GN,getVerticalCoordinateString:YN,collections:{},newObject:kn,newAdditionalObject:Dd,newObjectDeferred:Ni,newObjectDeferredBegin:Mi,getFilters:ho,putStream:_s,events:Lr,scaleFactor:ze,pageSize:{getWidth:function(){return Av(q)},setWidth:function(T){kv(q,T)},getHeight:function(){return Kd(q)},setHeight:function(T){Cv(q,T)}},encryptionOptions:d,encryption:$n,getEncryptor:function(T){return d!==null?$n.encryptor(T,0):function(U){return U}},output:mo,getNumberOfPages:vv,pages:Ne,out:J,f2:E,f3:k,getPageInfo:Ag,getPageInfoByObjId:RN,getCurrentPageInfo:FN,getPDFVersion:x,Point:Wd,Rectangle:Lg,Matrix:Mt,hasHotfix:Bd},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Av(q)},set:function(T){kv(q,T)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Kd(q)},set:function(T){Cv(q,T)},enumerable:!0,configurable:!0}),(function(T){for(var U=0,ne=ct.length;U<ne;U++){var de=gv.call(this,T[U][0],T[U][1],T[U][2],ct[U][3],!0);f===!1&&(h[de]=!0);var je=T[U][0].split("-");pv({id:de,fontName:je[0],fontStyle:je[1]||""})}Lr.publish("addFonts",{fonts:mt,dictionary:Dt})}).call(m,ct),he="F1",xv(a,r),Lr.publish("initialized"),m}Jh.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Jh.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Jh.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Jh.prototype.processOwnerPassword=function(e,t){return YA(GA(t).substr(0,5),e)},Jh.prototype.encryptor=function(e,t){var r=GA(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return YA(r,n)}},Fw.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Wr(e)!==Wr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},At.API={events:[]},At.version="3.0.3";var Mn=At.API,X3=1,yh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xt=function(e){return e.toFixed(2)},ju=function(e){return e.toFixed(5)};Mn.__acroform__={};var Va=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},f8=function(e){return e*X3},ol=function(e){var t=new IH,r=gt.internal.getHeight(e)||0,n=gt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Xt(n)),Number(Xt(r))],t},M0e=Mn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},L0e=Mn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},I0e=Mn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Kn=Mn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return I0e(e,t-1)},Gn=Mn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return M0e(e,t-1)},Yn=Mn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return L0e(e,t-1)},D0e=Mn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],s=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(s)||0,[Number(Xt(c.lowerLeft_X)),Number(Xt(c.lowerLeft_Y)),Number(Xt(c.upperRight_X)),Number(Xt(c.upperRight_Y))]},R0e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=XA(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Xt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=ol(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},XA=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var s=r,o=gt.internal.getHeight(e)||0;o=o<0?-o:o;var l=gt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(E,k,R){if(E+1<a.length){var L=k+" "+a[E+1][0];return Rb(L,e,R).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var u,d,f=Rb("3",e,s).height,h=e.multiline?o-s:(o-f)/2,m=h+=2,g=0,x=0,v=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Rb(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var p="",y=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var j=!1;if(a[w].length!==1&&v!==a[w].length-1){if((f+2)*(y+2)+2>o)continue e;p+=a[w][v],j=!0,x=w,w--}else{p=(p+=a[w][v]+" ").substr(p.length-1)==" "?p.substr(0,p.length-1):p;var S=parseInt(w),P=c(S,p,s),A=w>=a.length-1;if(P&&!A){p+=" ",v=0;continue}if(P||A){if(A)x=S;else if(e.multiline&&(f+2)*(y+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(y+2)+2>o)continue e;x=S}}for(var C="",O=g;O<=x;O++){var D=a[O];if(e.multiline){if(O===x){C+=D[v]+" ",v=(v+1)%D.length;continue}if(O===g){C+=D[D.length-1]+" ";continue}}C+=D[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,d=Rb(C,e,s).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=Xt(u)+" "+Xt(m)+` Td
`,t+="("+yh(C)+`) Tj
`,t+=-Xt(u)+` 0 Td
`,m=-(s+2),d=0,g=j?x:x+1,y++,p=""}break}return n.text=t,n.fontSize=s,n},Rb=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},F0e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},$0e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},B0e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Yo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(F0e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");X3=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new DH,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&$0e(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=D0e(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=gt.createDefaultAppearanceStream(l),Wr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=R0e(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var m=l.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var g=m[o];typeof g=="function"&&(g=g.call(a,l)),f+="/"+o+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=m)=="function"&&(g=g.call(a,l)),f+="/"+o+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}s&&function(x,v){for(var p in x)if(x.hasOwnProperty(p)){var y=p,w=x[p];v.internal.newObjectDeferredBegin(w.objId,!0),Wr(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete x[y]}}(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},LH=Mn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),Wr(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+yh(n(e[s].toString()))+")"):a+=e[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},qS=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+yh(n(e))+")"},vl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};vl.prototype.toString=function(){return this.objId+" 0 R"},vl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},vl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:LH(a,this.objId,this.scope)}):a instanceof vl?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var IH=function(){vl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Va(IH,vl);var DH=function(){vl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+yh(r(e))+")"}},set:function(r){e=r}})};Va(DH,vl);var Yo=function e(){vl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute F supplied.');t=p}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Kn(t,3)},set:function(p){p?this.F=Gn(t,3):this.F=Yn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute Ff supplied.');r=p}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(p){n=p!==void 0?p:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(p){n[0]=p}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(p){n[1]=p}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(p){n[2]=p}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(p){n[3]=p}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(p){switch(p){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=p;break;default:throw new Error('Invalid value "'+p+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof $w)return;s="FieldObject"+e.FieldNum++}var p=function(y){return y};return this.scope&&(p=this.scope.internal.getEncryptor(this.objId)),"("+yh(p(s))+")"},set:function(p){s=p.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(p){s=p}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(p){o=p}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(p){l=p}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(p){c=p}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/X3:u},set:function(p){u=p}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(p){d=p}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof $w||this instanceof qf))return qS(f,this.objId,this.scope)},set:function(p){p=p.toString(),f=p}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ai==0?qS(h,this.objId,this.scope):h},set:function(p){p=p.toString(),h=this instanceof Ai==0?p.substr(0,1)==="("?Hh(p.substr(1,p.length-2)):Hh(p):p}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ai==1?Hh(h.substr(1,h.length-1)):h},set:function(p){p=p.toString(),h=this instanceof Ai==1?"/"+p:p}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(p){this.V=p}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ai==0?qS(m,this.objId,this.scope):m},set:function(p){p=p.toString(),m=this instanceof Ai==0?p.substr(0,1)==="("?Hh(p.substr(1,p.length-2)):Hh(p):p}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ai==1?Hh(m.substr(1,m.length-1)):m},set:function(p){p=p.toString(),m=this instanceof Ai==1?"/"+p:p}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(p){p=!!p,x=p}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(p){g=p}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,1)},set:function(p){p?this.Ff=Gn(this.Ff,1):this.Ff=Yn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,2)},set:function(p){p?this.Ff=Gn(this.Ff,2):this.Ff=Yn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,3)},set:function(p){p?this.Ff=Gn(this.Ff,3):this.Ff=Yn(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(p){if([0,1,2].indexOf(p)===-1)throw new Error('Invalid value "'+p+'" for attribute Q supplied.');v=p}}),Object.defineProperty(this,"textAlign",{get:function(){var p;switch(v){case 0:default:p="left";break;case 1:p="center";break;case 2:p="right"}return p},configurable:!0,enumerable:!0,set:function(p){switch(p){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Va(Yo,vl);var Im=function(){Yo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return LH(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(s,o,l){l||(l=1);for(var c,u=[];c=o.exec(s);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,18)},set:function(r){r?this.Ff=Gn(this.Ff,18):this.Ff=Yn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Gn(this.Ff,19):this.Ff=Yn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,20)},set:function(r){r?(this.Ff=Gn(this.Ff,20),t.sort()):this.Ff=Yn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,22)},set:function(r){r?this.Ff=Gn(this.Ff,22):this.Ff=Yn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,23)},set:function(r){r?this.Ff=Gn(this.Ff,23):this.Ff=Yn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,27)},set:function(r){r?this.Ff=Gn(this.Ff,27):this.Ff=Yn(this.Ff,27)}}),this.hasAppearanceStream=!1};Va(Im,Yo);var Dm=function(){Im.call(this),this.fontName="helvetica",this.combo=!1};Va(Dm,Im);var Rm=function(){Dm.call(this),this.combo=!0};Va(Rm,Dm);var T1=function(){Rm.call(this),this.edit=!0};Va(T1,Rm);var Ai=function(){Yo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,15)},set:function(r){r?this.Ff=Gn(this.Ff,15):this.Ff=Yn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,16)},set:function(r){r?this.Ff=Gn(this.Ff,16):this.Ff=Yn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,17)},set:function(r){r?this.Ff=Gn(this.Ff,17):this.Ff=Yn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,26)},set:function(r){r?this.Ff=Gn(this.Ff,26):this.Ff=Yn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+yh(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Wr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Va(Ai,Yo);var E1=function(){Ai.call(this),this.pushButton=!0};Va(E1,Ai);var Fm=function(){Ai.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Va(Fm,Ai);var $w=function(){var e,t;Yo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+yh(a(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Wr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Va($w,Yo),Fm.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Fm.prototype.createOption=function(e){var t=new $w;return t.Parent=this,t.optionName=e,this.Kids.push(t),U0e.call(this.scope,t),t};var O1=function(){Ai.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};Va(O1,Ai);var qf=function(){Yo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,13)},set:function(t){t?this.Ff=Gn(this.Ff,13):this.Ff=Yn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,21)},set:function(t){t?this.Ff=Gn(this.Ff,21):this.Ff=Yn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,23)},set:function(t){t?this.Ff=Gn(this.Ff,23):this.Ff=Yn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,24)},set:function(t){t?this.Ff=Gn(this.Ff,24):this.Ff=Yn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,25)},set:function(t){t?this.Ff=Gn(this.Ff,25):this.Ff=Yn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,26)},set:function(t){t?this.Ff=Gn(this.Ff,26):this.Ff=Yn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Va(qf,Yo);var M1=function(){qf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,14)},set:function(e){e?this.Ff=Gn(this.Ff,14):this.Ff=Yn(this.Ff,14)}}),this.password=!0};Va(M1,qf);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ol(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=XA(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Xt(gt.internal.getWidth(e))+" "+Xt(gt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Xt(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ol(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=gt.internal.getHeight(e),o=gt.internal.getWidth(e),l=XA(e,e.caption);return a.push("1 g"),a.push("0 0 "+Xt(o)+" "+Xt(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Xt(o-1)+" "+Xt(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Xt(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=ol(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Xt(gt.internal.getWidth(e))+" "+Xt(gt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=gt.RadioButton.Circle.YesNormal,t.D[e]=gt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ol(e);t.scope=e.scope;var r=[],n=gt.internal.getWidth(e)<=gt.internal.getHeight(e)?gt.internal.getWidth(e)/4:gt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=gt.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ju(gt.internal.getWidth(e)/2)+" "+ju(gt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ol(e);t.scope=e.scope;var r=[],n=gt.internal.getWidth(e)<=gt.internal.getHeight(e)?gt.internal.getWidth(e)/4:gt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*gt.internal.Bezier_C).toFixed(5)),o=Number((n*gt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ju(gt.internal.getWidth(e)/2)+" "+ju(gt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ju(gt.internal.getWidth(e)/2)+" "+ju(gt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ol(e);t.scope=e.scope;var r=[],n=gt.internal.getWidth(e)<=gt.internal.getHeight(e)?gt.internal.getWidth(e)/4:gt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*gt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ju(gt.internal.getWidth(e)/2)+" "+ju(gt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=gt.RadioButton.Cross.YesNormal,t.D[e]=gt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ol(e);t.scope=e.scope;var r=[],n=gt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Xt(gt.internal.getWidth(e)-2)+" "+Xt(gt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Xt(n.x1.x)+" "+Xt(n.x1.y)+" m"),r.push(Xt(n.x2.x)+" "+Xt(n.x2.y)+" l"),r.push(Xt(n.x4.x)+" "+Xt(n.x4.y)+" m"),r.push(Xt(n.x3.x)+" "+Xt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ol(e);t.scope=e.scope;var r=gt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Xt(gt.internal.getWidth(e))+" "+Xt(gt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Xt(gt.internal.getWidth(e)-2)+" "+Xt(gt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Xt(r.x1.x)+" "+Xt(r.x1.y)+" m"),n.push(Xt(r.x2.x)+" "+Xt(r.x2.y)+" l"),n.push(Xt(r.x4.x)+" "+Xt(r.x4.y)+" m"),n.push(Xt(r.x3.x)+" "+Xt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ol(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Xt(gt.internal.getWidth(e))+" "+Xt(gt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};gt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=gt.internal.getWidth(e),r=gt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},gt.internal.getWidth=function(e){var t=0;return Wr(e)==="object"&&(t=f8(e.Rect[2])),t},gt.internal.getHeight=function(e){var t=0;return Wr(e)==="object"&&(t=f8(e.Rect[3])),t};var U0e=Mn.addField=function(e){if(B0e(this,e),!(e instanceof Yo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Mn.AcroFormChoiceField=Im,Mn.AcroFormListBox=Dm,Mn.AcroFormComboBox=Rm,Mn.AcroFormEditBox=T1,Mn.AcroFormButton=Ai,Mn.AcroFormPushButton=E1,Mn.AcroFormRadioButton=Fm,Mn.AcroFormCheckBox=O1,Mn.AcroFormTextField=qf,Mn.AcroFormPasswordField=M1,Mn.AcroFormAppearance=gt,Mn.AcroForm={ChoiceField:Im,ListBox:Dm,ComboBox:Rm,EditBox:T1,Button:Ai,PushButton:E1,RadioButton:Fm,CheckBox:O1,TextField:qf,PasswordField:M1,Appearance:gt},At.AcroForm={ChoiceField:Im,ListBox:Dm,ComboBox:Rm,EditBox:T1,Button:Ai,PushButton:E1,RadioButton:Fm,CheckBox:O1,TextField:qf,PasswordField:M1,Appearance:gt};function RH(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(E,k){var R,L,H,F,V,B=r;if((k=k||r)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(P(E))for(V in n)for(H=n[V],R=0;R<H.length;R+=1){for(F=!0,L=0;L<H[R].length;L+=1)if(H[R][L]!==void 0&&H[R][L]!==E[L]){F=!1;break}if(F===!0){B=V;break}}else for(V in n)for(H=n[V],R=0;R<H.length;R+=1){for(F=!0,L=0;L<H[R].length;L+=1)if(H[R][L]!==void 0&&H[R][L]!==E.charCodeAt(L)){F=!1;break}if(F===!0){B=V;break}}return B===r&&k!==r&&(B=k),B},s=function E(k){for(var R=this.internal.write,L=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var F=[];if(F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Image"}),F.push({key:"Width",value:k.width}),F.push({key:"Height",value:k.height}),k.colorSpace===p.INDEXED?F.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(F.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===p.DEVICE_CMYK&&F.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),F.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&F.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)&&k.transparency.length>0){for(var V="",B=0,G=k.transparency.length;B<G;B++)V+=k.transparency[B]+" "+k.transparency[B]+" ";F.push({key:"Mask",value:"["+V+"]"})}k.sMask!==void 0&&F.push({key:"SMask",value:k.objectId+1+" 0 R"});var le=k.filter!==void 0?["/"+k.filter]:void 0;if(L({data:k.data,additionalKeyValues:F,alreadyAppliedFilters:le,objectId:k.objectId}),R("endobj"),"sMask"in k&&k.sMask!==void 0){var fe,$=(fe=k.sMaskBitsPerComponent)!==null&&fe!==void 0?fe:k.bitsPerComponent,q={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:$,data:k.sMask};"filter"in k&&(q.decodeParameters="/Predictor ".concat(k.predictor," /Colors 1 /BitsPerComponent ").concat($," /Columns ").concat(k.width),q.filter=k.filter),E.call(this,q)}if(k.colorSpace===p.INDEXED){var Q=this.internal.newObject();L({data:C(new Uint8Array(k.palette)),objectId:Q}),R("endobj")}},o=function(){var E=this.internal.collections[t+"images"];for(var k in E)s.call(this,E[k])},l=function(){var E,k=this.internal.collections[t+"images"],R=this.internal.write;for(var L in k)R("/I"+(E=k[L]).index,E.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var E=this.internal.collections[t+"images"];return c.call(this),E},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(E){return typeof e["process"+E.toUpperCase()]=="function"},h=function(E){return Wr(E)==="object"&&E.nodeType===1},m=function(E,k){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var R=""+E.getAttribute("src");if(R.indexOf("data:image/")===0)return C1(unescape(R).split("base64,").pop());var L=e.loadFile(R,!0);if(L!==void 0)return L}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var H;switch(k){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;default:H="image/jpeg"}return C1(E.toDataURL(H,1).split("base64,").pop())}},g=function(E){var k=this.internal.collections[t+"images"];if(k){for(var R in k)if(E===k[R].alias)return k[R]}},x=function(E,k,R){return E||k||(E=-96,k=-96),E<0&&(E=-1*R.width*72/E/this.internal.scaleFactor),k<0&&(k=-1*R.height*72/k/this.internal.scaleFactor),E===0&&(E=k*R.width/R.height),k===0&&(k=E*R.height/R.width),[E,k]},v=function(E,k,R,L,H,F){var V=x.call(this,R,L,H),B=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString,le=u.call(this);if(R=V[0],L=V[1],le[H.index]=H,F){F*=Math.PI/180;var fe=Math.cos(F),$=Math.sin(F),q=function(ae){return ae.toFixed(4)},Q=[q(fe),q($),q(-1*$),q(fe),0,0,"cm"]}this.internal.write("q"),F?(this.internal.write([1,"0","0",1,B(E),G(k+L),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([B(R),"0","0",B(L),"0","0","cm"].join(" "))):this.internal.write([B(R),"0","0",B(L),B(E),G(k+L),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},p=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(E){var k,R,L=0;if(typeof E=="string")for(R=E.length,k=0;k<R;k++)L=(L<<5)-L+E.charCodeAt(k),L|=0;else if(P(E))for(R=E.byteLength/2,k=0;k<R;k++)L=(L<<5)-L+E[k],L|=0;return L},j=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var k=!0;return E.length===0&&(k=!1),E.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(k=!1),k},S=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var k=E.indexOf(",");return k<0?null:E.substring(0,k).trim().endsWith("base64")?E.substring(k+1):null};e.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var P=e.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},A=e.__addimage__.binaryStringToUint8Array=function(E){for(var k=E.length,R=new Uint8Array(k),L=0;L<k;L++)R[L]=E.charCodeAt(L);return R},C=e.__addimage__.arrayBufferToBinaryString=function(E){for(var k="",R=P(E)?E:new Uint8Array(E),L=0;L<R.length;L+=8192)k+=String.fromCharCode.apply(null,R.subarray(L,L+8192));return k};e.addImage=function(){var E,k,R,L,H,F,V,B,G;if(typeof arguments[1]=="number"?(k=r,R=arguments[1],L=arguments[2],H=arguments[3],F=arguments[4],V=arguments[5],B=arguments[6],G=arguments[7]):(k=arguments[1],R=arguments[2],L=arguments[3],H=arguments[4],F=arguments[5],V=arguments[6],B=arguments[7],G=arguments[8]),Wr(E=arguments[0])==="object"&&!h(E)&&"imageData"in E){var le=E;E=le.imageData,k=le.format||k||r,R=le.x||R||0,L=le.y||L||0,H=le.w||le.width||H,F=le.h||le.height||F,V=le.alias||V,B=le.compression||B,G=le.rotation||le.angle||G}var fe=this.internal.getFilters();if(B===void 0&&fe.indexOf("FlateEncode")!==-1&&(B="SLOW"),isNaN(R)||isNaN(L))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var $=O.call(this,E,k,V,B);return v.call(this,R,L,H,F,$,G),this};var O=function(E,k,R,L){var H,F,V;if(typeof E=="string"&&a(E)===r){E=unescape(E);var B=D(E,!1);(B!==""||(B=e.loadFile(E,!0))!==void 0)&&(E=B)}if(h(E)&&(E=m(E,k)),k=a(E,k),!f(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((V=R)==null||V.length===0)&&(R=function(G){return typeof G=="string"||P(G)?w(G):P(G.data)?w(G.data):null}(E)),(H=g.call(this,R))||(E instanceof Uint8Array||k==="RGBA"||(F=E,E=A(E)),H=this["process"+k.toUpperCase()](E,d.call(this),R,function(G){return G&&typeof G=="string"&&(G=G.toUpperCase()),G in e.image_compression?G:y.NONE}(L),F)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},D=e.__addimage__.convertBase64ToBinaryString=function(E,k){k=typeof k!="boolean"||k;var R,L="";if(typeof E=="string"){var H;R=(H=S(E))!==null&&H!==void 0?H:E;try{L=C1(R)}catch(F){if(k)throw j(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+F.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return L};e.getImageProperties=function(E){var k,R,L="";if(h(E)&&(E=m(E)),typeof E=="string"&&a(E)===r&&((L=D(E,!1))===""&&(L=e.loadFile(E)||""),E=L),R=a(E),!f(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(E instanceof Uint8Array||(E=A(E)),!(k=this["process"+R.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=R,k}})(At.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};At.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var m=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(x.objId),y=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+m(p(n.contents))+")",s+=" /Popup "+v.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+m(p(y))+") >>",x.content=s;var w=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(s+=" /Open true"),s+=" >>",v.content=s,this.internal.write(x.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(g(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var P=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+P+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+s)},options:o,type:"link"})},e.textWithLink=function(r,n,a,s){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,a,s),a+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,a-u,l,o,s),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(At.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&a.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(x){var v=0,p=r,y="",w=0;for(v=0;v<x.length;v+=1)p[x.charCodeAt(v)]!==void 0?(w++,typeof(p=p[x.charCodeAt(v)])=="number"&&(y+=String.fromCharCode(p),p=r,w=0),v===x.length-1&&(p=r,y+=x.charAt(v-(w-1)),v-=w-1,w=0)):(p=r,y+=x.charAt(v-w),v-=w,w=0);return y};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(x,v,p){return o(x)?s(x)===!1?-1:!u(x)||!o(v)&&!o(p)||!o(p)&&l(v)||l(x)&&!o(v)||l(x)&&c(v)||l(x)&&l(v)?0:d(x)&&o(v)&&!l(v)&&o(p)&&u(p)?3:l(x)||!o(p)?1:2:-1},m=function(x){var v=0,p=0,y=0,w="",j="",S="",P=(x=x||"").split("\\s+"),A=[];for(v=0;v<P.length;v+=1){for(A.push(""),p=0;p<P[v].length;p+=1)w=P[v][p],j=P[v][p-1],S=P[v][p+1],o(w)?(y=h(w,j,S),A[v]+=y!==-1?String.fromCharCode(t[w.charCodeAt(0)][y]):w):A[v]+=w;A[v]=f(A[v])}return A.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var x,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,p=[];if(Array.isArray(v)){var y=0;for(p=[],y=0;y<v.length;y+=1)Array.isArray(v[y])?p.push([m(v[y][0]),v[y][1],v[y][2]]):p.push([m(v[y])]);x=p}else x=m(v);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",g])}(At.API),At.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(At.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(x){g=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,m=0,g=0,x=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var p=u.maxWidth;p>0?typeof c=="string"?c=this.splitTextToSize(c,p):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,j){return w.concat(v.splitTextToSize(j,p))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)m<(x=this.getStringUnitWidth(c[y],{font:f})*d)&&(m=x);return m!==0&&(g=c.length),{w:m/=h,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,m&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var m,g,x,v,p=[],y=[],w=[],j={},S={},P=[],A=[],C=(h=h||{}).autoSize||!1,O=h.printHeaders!==!1,D=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,E=h.margins||Object.assign({width:this.getPageWidth()},t),k=typeof h.padding=="number"?h.padding:3,R=h.headerBackgroundColor||"#c8c8c8",L=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=L,this.setFontSize(D),f==null)y=p=Object.keys(d[0]),w=p.map(function(){return"left"});else if(Array.isArray(f)&&Wr(f[0])==="object")for(p=f.map(function(le){return le.name}),y=f.map(function(le){return le.prompt||le.name||""}),w=f.map(function(le){return le.align||"left"}),m=0;m<f.length;m+=1)S[f[m].name]=.7499990551181103*f[m].width;else Array.isArray(f)&&typeof f[0]=="string"&&(y=p=f,w=p.map(function(){return"left"}));if(C||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<p.length;m+=1){for(j[v=p[m]]=d.map(function(le){return le[v]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(y[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=j[v],this.setFont(void 0,"normal"),x=0;x<g.length;x+=1)P.push(this.getTextDimensions(g[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[v]=Math.max.apply(null,P)+k+k,P=[]}if(O){var H={};for(m=0;m<p.length;m+=1)H[p[m]]={},H[p[m]].text=y[m],H[p[m]].align=w[m];var F=l.call(this,H,S);A=p.map(function(le){return new s(c,u,S[le],F,H[le].text,void 0,H[le].align)}),this.setTableHeaderRow(A),this.printHeaderRow(1,!1)}var V=f.reduce(function(le,fe){return le[fe.name]=fe.align,le},{});for(m=0;m<d.length;m+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:m,data:d[m]},this);var B=l.call(this,d[m],S);for(x=0;x<p.length;x+=1){var G=d[m][p[x]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:m,col:x,data:G},this),o.call(this,new s(c,u,S[p[x]],B,G,m+2,V[p[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(m){var g=c[m];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/h+d+d},this).reduce(function(m,g){return Math.max(m,g)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(At.API);var FH={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$H=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ZA=RH($H),BH=[100,200,300,400,500,600,700,800,900],z0e=RH(BH);function WS(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return FH[s=s||"normal"]?s:"normal"}(e.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),a=function(s){return typeof ZA[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function h8(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var V0e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},m8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function p8(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function g8(e){return e.trimLeft()}function q0e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function W0e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Fb,x8,y8,Kh,$b,v8,b8,w8,HS=["times"];function j8(e,t,r,n,a){var s=4,o=S8;switch(a){case At.API.image_compression.FAST:s=1,o=N8;break;case At.API.image_compression.MEDIUM:s=6,o=_8;break;case At.API.image_compression.SLOW:s=9,o=P8}e=function(c,u,d,f){for(var h,m=c.length/u,g=new Uint8Array(c.length+m),x=[H0e,N8,S8,_8,P8],v=0;v<m;v+=1){var p=v*u,y=c.subarray(p,p+u);if(f)g.set(f(y,d,h),p+v);else{for(var w=x.length,j=[],S=0;S<w;S+=1)j[S]=x[S](y,d,h);var P=G0e(j.concat());g.set(j[P],p+v)}h=y}return g}(e,t,Math.ceil(r*n/8),o);var l=FA(e,{level:s});return At.API.__addimage__.arrayBufferToBinaryString(l)}function H0e(e){var t=Array.apply([],e);return t.unshift(0),t}function N8(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var s=e[a-t]||0;n[a+1]=e[a]-s+256&255}return n}function S8(e,t,r){var n=e.length,a=[];a[0]=2;for(var s=0;s<n;s+=1){var o=r&&r[s]||0;a[s+1]=e[s]-o+256&255}return a}function _8(e,t,r){var n=e.length,a=[];a[0]=3;for(var s=0;s<n;s+=1){var o=e[s-t]||0,l=r&&r[s]||0;a[s+1]=e[s]+256-(o+l>>>1)&255}return a}function P8(e,t,r){var n=e.length,a=[];a[0]=4;for(var s=0;s<n;s+=1){var o=K0e(e[s-t]||0,r&&r[s]||0,r&&r[s-t]||0);a[s+1]=e[s]-o+256&255}return a}function K0e(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),s=Math.abs(e+t-r-r);return n<=a&&n<=s?e:a<=s?t:r}function G0e(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function KS(e,t,r){var n=t*r,a=Math.floor(n/8),s=16-(n-8*a+r),o=(1<<r)-1;return UH(e,a)>>s&o}function A8(e,t,r,n){var a=r*n,s=Math.floor(a/8),o=16-(a-8*s+n),l=(1<<n)-1,c=(t&l)<<o;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var h=f>>8&255;u.setUint8(d,h)}})(e,s,UH(e,s)&~(l<<o)&65535|c)}function UH(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Y0e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,o=1<<1+(7&a);e[t++],e[t++];var l=null,c=null;s&&(l=t,c=o,t+=3*o);var u=!0,d=[],f=0,h=null,m=0,g=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],1&x||(h=null),m=x>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,p=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,j=e[t++],S=j>>6&1,P=1<<1+(7&j),A=l,C=c,O=!1;j>>7&&(O=!0,A=t,C=P,t+=3*P);var D=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}d.push({x:v,y:p,width:y,height:w,has_local_palette:O,palette_offset:A,palette_size:C,data_offset:D,data_length:t-D,transparent_index:h,interlaced:!!S,delay:f,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(k){if(k<0||k>=d.length)throw new Error("Frame index out of range.");return d[k]},this.decodeAndBlitFrameBGRA=function(k,R){var L=this.frameInfo(k),H=L.width*L.height,F=new Uint8Array(H);k8(e,L.data_offset,F,H);var V=L.palette_offset,B=L.transparent_index;B===null&&(B=256);var G=L.width,le=r-G,fe=G,$=4*(L.y*r+L.x),q=4*((L.y+L.height)*r+L.x),Q=$,ae=4*le;L.interlaced===!0&&(ae+=4*r*7);for(var ue=8,ce=0,we=F.length;ce<we;++ce){var oe=F[ce];if(fe===0&&(fe=G,(Q+=ae)>=q&&(ae=4*le+4*r*(ue-1),Q=$+(G+le)*(ue<<1),ue>>=1)),oe===B)Q+=4;else{var ye=e[V+3*oe],Ne=e[V+3*oe+1],pe=e[V+3*oe+2];R[Q++]=pe,R[Q++]=Ne,R[Q++]=ye,R[Q++]=255}--fe}},this.decodeAndBlitFrameRGBA=function(k,R){var L=this.frameInfo(k),H=L.width*L.height,F=new Uint8Array(H);k8(e,L.data_offset,F,H);var V=L.palette_offset,B=L.transparent_index;B===null&&(B=256);var G=L.width,le=r-G,fe=G,$=4*(L.y*r+L.x),q=4*((L.y+L.height)*r+L.x),Q=$,ae=4*le;L.interlaced===!0&&(ae+=4*r*7);for(var ue=8,ce=0,we=F.length;ce<we;++ce){var oe=F[ce];if(fe===0&&(fe=G,(Q+=ae)>=q&&(ae=4*le+4*r*(ue-1),Q=$+(G+le)*(ue<<1),ue>>=1)),oe===B)Q+=4;else{var ye=e[V+3*oe],Ne=e[V+3*oe+1],pe=e[V+3*oe+2];R[Q++]=ye,R[Q++]=Ne,R[Q++]=pe,R[Q++]=255}--fe}}}function k8(e,t,r,n){for(var a=e[t++],s=1<<a,o=s+1,l=o+1,c=a+1,u=(1<<c)-1,d=0,f=0,h=0,m=e[t++],g=new Int32Array(4096),x=null;;){for(;d<16&&m!==0;)f|=e[t++]<<d,d+=8,m===1?m=e[t++]:--m;if(d<c)break;var v=f&u;if(f>>=c,d-=c,v!==s){if(v===o)break;for(var p=v<l?v:x,y=0,w=p;w>s;)w=g[w]>>8,++y;var j=w;if(h+y+(p!==v?1:0)>n)return void an.log("Warning, gif stream longer than expected.");r[h++]=j;var S=h+=y;for(p!==v&&(r[h++]=j),w=p;y--;)w=g[w],r[--S]=255&w,w>>=8;x!==null&&l<4096&&(g[l++]=x<<8|j,l>=u+1&&c<12&&(++c,u=u<<1|1)),x=v}else l=o+1,u=(1<<(c=a+1))-1,x=null}return h!==n&&an.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function GS(e){var t,r,n,a,s,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),m=new Array(64),g=new Array(64),x=[],v=0,p=7,y=new Array(64),w=new Array(64),j=new Array(64),S=new Array(256),P=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function F($,q){for(var Q=0,ae=0,ue=new Array,ce=1;ce<=16;ce++){for(var we=1;we<=$[ce];we++)ue[q[ae]]=[],ue[q[ae]][0]=Q,ue[q[ae]][1]=ce,ae++,Q++;Q*=2}return ue}function V($){for(var q=$[0],Q=$[1]-1;Q>=0;)q&1<<Q&&(v|=1<<p),Q--,--p<0&&(v==255?(B(255),B(0)):B(v),p=7,v=0)}function B($){x.push($)}function G($){B($>>8&255),B(255&$)}function le($,q,Q,ae,ue){for(var ce,we=ue[0],oe=ue[240],ye=function($e,dt){var Qe,ie,me,Pe,Fe,Me,Re,Ue,he,ze,Ye=0;for(he=0;he<8;++he){Qe=$e[Ye],ie=$e[Ye+1],me=$e[Ye+2],Pe=$e[Ye+3],Fe=$e[Ye+4],Me=$e[Ye+5],Re=$e[Ye+6];var or=Qe+(Ue=$e[Ye+7]),Jt=Qe-Ue,mt=ie+Re,Dt=ie-Re,Sr=me+Me,Et=me-Me,cr=Pe+Fe,er=Pe-Fe,Fn=or+cr,oi=or-cr,tn=mt+Sr,Vt=mt-Sr;$e[Ye]=Fn+tn,$e[Ye+4]=Fn-tn;var Lr=.707106781*(Vt+oi);$e[Ye+2]=oi+Lr,$e[Ye+6]=oi-Lr;var Id=.382683433*((Fn=er+Et)-(Vt=Dt+Jt)),Gi=.5411961*Fn+Id,Wl=1.306562965*Vt+Id,Qo=.707106781*(tn=Et+Dt),Mt=Jt+Qo,Hl=Jt-Qo;$e[Ye+5]=Hl+Gi,$e[Ye+3]=Hl-Gi,$e[Ye+1]=Mt+Wl,$e[Ye+7]=Mt-Wl,Ye+=8}for(Ye=0,he=0;he<8;++he){Qe=$e[Ye],ie=$e[Ye+8],me=$e[Ye+16],Pe=$e[Ye+24],Fe=$e[Ye+32],Me=$e[Ye+40],Re=$e[Ye+48];var Kl=Qe+(Ue=$e[Ye+56]),Ns=Qe-Ue,Ss=ie+Re,kn=ie-Re,Ni=me+Me,Mi=me-Me,Dd=Pe+Fe,eu=Pe-Fe,uo=Kl+Dd,Jo=Kl-Dd,fo=Ss+Ni,ho=Ss-Ni;$e[Ye]=uo+fo,$e[Ye+32]=uo-fo;var _s=.707106781*(ho+Jo);$e[Ye+16]=Jo+_s,$e[Ye+48]=Jo-_s;var Rd=.382683433*((uo=eu+Mi)-(ho=kn+Ns)),el=.5411961*uo+Rd,Fd=1.306562965*ho+Rd,Sh=.707106781*(fo=Mi+kn),_h=Ns+Sh,Ph=Ns-Sh;$e[Ye+40]=Ph+el,$e[Ye+24]=Ph-el,$e[Ye+8]=_h+Fd,$e[Ye+56]=_h-Fd,Ye++}for(he=0;he<64;++he)ze=$e[he]*dt[he],m[he]=ze>0?ze+.5|0:ze-.5|0;return m}($,q),Ne=0;Ne<64;++Ne)g[A[Ne]]=ye[Ne];var pe=g[0]-Q;Q=g[0],pe==0?V(ae[0]):(V(ae[h[ce=32767+pe]]),V(f[ce]));for(var _e=63;_e>0&&g[_e]==0;)_e--;if(_e==0)return V(we),Q;for(var ve,J=1;J<=_e;){for(var ut=J;g[J]==0&&J<=_e;)++J;var at=J-ut;if(at>=16){ve=at>>4;for(var ct=1;ct<=ve;++ct)V(oe);at&=15}ce=32767+g[J],V(ue[(at<<4)+h[ce]]),V(f[ce]),J++}return _e!=63&&V(we),Q}function fe($){$=Math.min(Math.max($,1),100),s!=$&&(function(q){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var ue=o((Q[ae]*q+50)/100);ue=Math.min(Math.max(ue,1),255),l[A[ae]]=ue}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var oe=o((ce[we]*q+50)/100);oe=Math.min(Math.max(oe,1),255),c[A[we]]=oe}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,pe=0;pe<8;pe++)for(var _e=0;_e<8;_e++)u[Ne]=1/(l[A[Ne]]*ye[pe]*ye[_e]*8),d[Ne]=1/(c[A[Ne]]*ye[pe]*ye[_e]*8),Ne++}($<50?Math.floor(5e3/$):Math.floor(200-2*$)),s=$)}this.encode=function($,q){q&&fe(q),x=new Array,v=0,p=7,G(65496),G(65504),G(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),G(1),G(1),B(0),B(0),function(){G(65499),G(132),B(0);for(var ie=0;ie<64;ie++)B(l[ie]);B(1);for(var me=0;me<64;me++)B(c[me])}(),function(ie,me){G(65472),G(17),B(8),G(me),G(ie),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)}($.width,$.height),function(){G(65476),G(418),B(0);for(var ie=0;ie<16;ie++)B(C[ie+1]);for(var me=0;me<=11;me++)B(O[me]);B(16);for(var Pe=0;Pe<16;Pe++)B(D[Pe+1]);for(var Fe=0;Fe<=161;Fe++)B(E[Fe]);B(1);for(var Me=0;Me<16;Me++)B(k[Me+1]);for(var Re=0;Re<=11;Re++)B(R[Re]);B(17);for(var Ue=0;Ue<16;Ue++)B(L[Ue+1]);for(var he=0;he<=161;he++)B(H[he])}(),G(65498),G(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var Q=0,ae=0,ue=0;v=0,p=7,this.encode.displayName="_encode_";for(var ce,we,oe,ye,Ne,pe,_e,ve,J,ut=$.data,at=$.width,ct=$.height,$e=4*at,dt=0;dt<ct;){for(ce=0;ce<$e;){for(Ne=$e*dt+ce,_e=-1,ve=0,J=0;J<64;J++)pe=Ne+(ve=J>>3)*$e+(_e=4*(7&J)),dt+ve>=ct&&(pe-=$e*(dt+1+ve-ct)),ce+_e>=$e&&(pe-=ce+_e-$e+4),we=ut[pe++],oe=ut[pe++],ye=ut[pe++],y[J]=(P[we]+P[oe+256|0]+P[ye+512|0]>>16)-128,w[J]=(P[we+768|0]+P[oe+1024|0]+P[ye+1280|0]>>16)-128,j[J]=(P[we+1280|0]+P[oe+1536|0]+P[ye+1792|0]>>16)-128;Q=le(y,u,Q,t,n),ae=le(w,d,ae,r,a),ue=le(j,d,ue,r,a),ce+=32}dt+=8}if(p>=0){var Qe=[];Qe[1]=p+1,Qe[0]=(1<<p+1)-1,V(Qe)}return G(65497),new Uint8Array(x)},e=e||50,function(){for(var $=String.fromCharCode,q=0;q<256;q++)S[q]=$(q)}(),t=F(C,O),r=F(k,R),n=F(D,E),a=F(L,H),function(){for(var $=1,q=2,Q=1;Q<=15;Q++){for(var ae=$;ae<q;ae++)h[32767+ae]=Q,f[32767+ae]=[],f[32767+ae][1]=Q,f[32767+ae][0]=ae;for(var ue=-(q-1);ue<=-$;ue++)h[32767+ue]=Q,f[32767+ue]=[],f[32767+ue][1]=Q,f[32767+ue][0]=q-1+ue;$<<=1,q<<=1}}(),function(){for(var $=0;$<256;$++)P[$]=19595*$,P[$+256|0]=38470*$,P[$+512|0]=7471*$+32768,P[$+768|0]=-11059*$,P[$+1024|0]=-21709*$,P[$+1280|0]=32768*$+8421375,P[$+1536|0]=-27439*$,P[$+1792|0]=-5329*$}(),fe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function vo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function C8(e){function t(O){if(!O)throw Error("assert :P")}function r(O,D,E){for(var k=0;4>k;k++)if(O[D+k]!=E.charCodeAt(k))return!0;return!1}function n(O,D,E,k,R){for(var L=0;L<R;L++)O[D+L]=E[k+L]}function a(O,D,E,k){for(var R=0;R<k;R++)O[D+R]=E}function s(O){return new Int32Array(O)}function o(O,D){for(var E=[],k=0;k<O;k++)E.push(new D);return E}function l(O,D){var E=[];return function k(R,L,H){for(var F=H[L],V=0;V<F&&(R.push(H.length>L+1?[]:new D),!(H.length<L+1));V++)k(R[V],L+1,H)}(E,0,O),E}var c=function(){var O=this;function D(b,_){for(var M=1<<_-1>>>0;b&M;)M>>>=1;return M?(b&M-1)+M:b}function E(b,_,M,I,z){t(!(I%M));do b[_+(I-=M)]=z;while(0<I)}function k(b,_,M,I,z){if(t(2328>=z),512>=z)var W=s(512);else if((W=s(z))==null)return 0;return function(K,Y,Z,ee,xe,ke){var te,be,Se=Y,Te=1<<Z,Ae=s(16),Oe=s(16);for(t(xe!=0),t(ee!=null),t(K!=null),t(0<Z),be=0;be<xe;++be){if(15<ee[be])return 0;++Ae[ee[be]]}if(Ae[0]==xe)return 0;for(Oe[1]=0,te=1;15>te;++te){if(Ae[te]>1<<te)return 0;Oe[te+1]=Oe[te]+Ae[te]}for(be=0;be<xe;++be)te=ee[be],0<ee[be]&&(ke[Oe[te]++]=be);if(Oe[15]==1)return(ee=new R).g=0,ee.value=ke[0],E(K,Se,1,Te,ee),Te;var De,Ke=-1,qe=Te-1,Pt=0,pt=1,nr=1,vt=1<<Z;for(be=0,te=1,xe=2;te<=Z;++te,xe<<=1){if(pt+=nr<<=1,0>(nr-=Ae[te]))return 0;for(;0<Ae[te];--Ae[te])(ee=new R).g=te,ee.value=ke[be++],E(K,Se+Pt,xe,vt,ee),Pt=D(Pt,te)}for(te=Z+1,xe=2;15>=te;++te,xe<<=1){if(pt+=nr<<=1,0>(nr-=Ae[te]))return 0;for(;0<Ae[te];--Ae[te]){if(ee=new R,(Pt&qe)!=Ke){for(Se+=vt,De=1<<(Ke=te)-Z;15>Ke&&!(0>=(De-=Ae[Ke]));)++Ke,De<<=1;Te+=vt=1<<(De=Ke-Z),K[Y+(Ke=Pt&qe)].g=De+Z,K[Y+Ke].value=Se-Y-Ke}ee.g=te-Z,ee.value=ke[be++],E(K,Se+(Pt>>Z),xe,vt,ee),Pt=D(Pt,te)}}return pt!=2*Oe[15]-1?0:Te}(b,_,M,I,z,W)}function R(){this.value=this.g=0}function L(){this.value=this.g=0}function H(){this.G=o(5,R),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(tf,L)}function F(b,_,M,I){t(b!=null),t(_!=null),t(2147483648>I),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=_,b.pa=M,b.Jd=_,b.Yc=M+I,b.Zc=4<=I?M+I-4+1:M,we(b)}function V(b,_){for(var M=0;0<_--;)M|=ye(b,128)<<_;return M}function B(b,_){var M=V(b,_);return oe(b)?-M:M}function G(b,_,M,I){var z,W=0;for(t(b!=null),t(_!=null),t(4294967288>I),b.Sb=I,b.Ra=0,b.u=0,b.h=0,4<I&&(I=4),z=0;z<I;++z)W+=_[M+z]<<8*z;b.Ra=W,b.bb=I,b.oa=_,b.pa=M}function le(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<au-8>>>0,++b.bb,b.u-=8;ae(b)&&(b.h=1,b.u=0)}function fe(b,_){if(t(0<=_),!b.h&&_<=Ha){var M=Q(b)&Wa[_];return b.u+=_,le(b),M}return b.h=1,b.u=0}function $(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(b){return b.Ra>>>(b.u&au-1)>>>0}function ae(b){return t(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>au}function ue(b,_){b.u=_,b.h=ae(b)}function ce(b){b.u>=ec&&(t(b.u>=ec),le(b))}function we(b){t(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(t(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function oe(b){return V(b,1)}function ye(b,_){var M=b.Ca;0>b.b&&we(b);var I=b.b,z=M*_>>>8,W=(b.I>>>I>z)+0;for(W?(M-=z,b.I-=z+1<<I>>>0):M=z+1,I=M,z=0;256<=I;)z+=8,I>>=8;return I=7^z+su[I],b.b-=I,b.Ca=(M<<I)-1,W}function Ne(b,_,M){b[_+0]=M>>24&255,b[_+1]=M>>16&255,b[_+2]=M>>8&255,b[_+3]=255&M}function pe(b,_){return b[_+0]|b[_+1]<<8}function _e(b,_){return pe(b,_)|b[_+2]<<16}function ve(b,_){return pe(b,_)|pe(b,_+2)<<16}function J(b,_){var M=1<<_;return t(b!=null),t(0<_),b.X=s(M),b.X==null?0:(b.Mb=32-_,b.Xa=_,1)}function ut(b,_){t(b!=null),t(_!=null),t(b.Xa==_.Xa),n(_.X,0,b.X,0,1<<_.Xa)}function at(){this.X=[],this.Xa=this.Mb=0}function ct(b,_,M,I){t(M!=null),t(I!=null);var z=M[0],W=I[0];return z==0&&(z=(b*W+_/2)/_),W==0&&(W=(_*z+b/2)/b),0>=z||0>=W?0:(M[0]=z,I[0]=W,1)}function $e(b,_){return b+(1<<_)-1>>>_}function dt(b,_){return((4278255360&b)+(4278255360&_)>>>0&4278255360)+((16711935&b)+(16711935&_)>>>0&16711935)>>>0}function Qe(b,_){O[_]=function(M,I,z,W,K,Y,Z){var ee;for(ee=0;ee<K;++ee){var xe=O[b](Y[Z+ee-1],z,W+ee);Y[Z+ee]=dt(M[I+ee],xe)}}}function ie(){this.ud=this.hd=this.jd=0}function me(b,_){return((4278124286&(b^_))>>>1)+(b&_)>>>0}function Pe(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Fe(b,_){return Pe(b+(b-_+.5>>1))}function Me(b,_,M){return Math.abs(_-M)-Math.abs(b-M)}function Re(b,_,M,I,z,W,K){for(I=W[K-1],M=0;M<z;++M)W[K+M]=I=dt(b[_+M],I)}function Ue(b,_,M,I,z){var W;for(W=0;W<M;++W){var K=b[_+W],Y=K>>8&255,Z=16711935&(Z=(Z=16711935&K)+((Y<<16)+Y));I[z+W]=(4278255360&K)+Z>>>0}}function he(b,_){_.jd=255&b,_.hd=b>>8&255,_.ud=b>>16&255}function ze(b,_,M,I,z,W){var K;for(K=0;K<I;++K){var Y=_[M+K],Z=Y>>>8,ee=Y,xe=255&(xe=(xe=Y>>>16)+((b.jd<<24>>24)*(Z<<24>>24)>>>5));ee=255&(ee=(ee+=(b.hd<<24>>24)*(Z<<24>>24)>>>5)+((b.ud<<24>>24)*(xe<<24>>24)>>>5)),z[W+K]=(4278255360&Y)+(xe<<16)+ee}}function Ye(b,_,M,I,z){O[_]=function(W,K,Y,Z,ee,xe,ke,te,be){for(Z=ke;Z<te;++Z)for(ke=0;ke<be;++ke)ee[xe++]=z(Y[I(W[K++])])},O[b]=function(W,K,Y,Z,ee,xe,ke){var te=8>>W.b,be=W.Ea,Se=W.K[0],Te=W.w;if(8>te)for(W=(1<<W.b)-1,Te=(1<<te)-1;K<Y;++K){var Ae,Oe=0;for(Ae=0;Ae<be;++Ae)Ae&W||(Oe=I(Z[ee++])),xe[ke++]=z(Se[Oe&Te]),Oe>>=te}else O["VP8LMapColor"+M](Z,ee,Se,Te,xe,ke,K,Y,be)}}function or(b,_,M,I,z){for(M=_+M;_<M;){var W=b[_++];I[z++]=W>>16&255,I[z++]=W>>8&255,I[z++]=255&W}}function Jt(b,_,M,I,z){for(M=_+M;_<M;){var W=b[_++];I[z++]=W>>16&255,I[z++]=W>>8&255,I[z++]=255&W,I[z++]=W>>24&255}}function mt(b,_,M,I,z){for(M=_+M;_<M;){var W=(K=b[_++])>>16&240|K>>12&15,K=240&K|K>>28&15;I[z++]=W,I[z++]=K}}function Dt(b,_,M,I,z){for(M=_+M;_<M;){var W=(K=b[_++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;I[z++]=W,I[z++]=K}}function Sr(b,_,M,I,z){for(M=_+M;_<M;){var W=b[_++];I[z++]=255&W,I[z++]=W>>8&255,I[z++]=W>>16&255}}function Et(b,_,M,I,z,W){if(W==0)for(M=_+M;_<M;)Ne(I,((W=b[_++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),z+=32;else n(I,z,b,_,M)}function cr(b,_){O[_][0]=O[b+"0"],O[_][1]=O[b+"1"],O[_][2]=O[b+"2"],O[_][3]=O[b+"3"],O[_][4]=O[b+"4"],O[_][5]=O[b+"5"],O[_][6]=O[b+"6"],O[_][7]=O[b+"7"],O[_][8]=O[b+"8"],O[_][9]=O[b+"9"],O[_][10]=O[b+"10"],O[_][11]=O[b+"11"],O[_][12]=O[b+"12"],O[_][13]=O[b+"13"],O[_][14]=O[b+"0"],O[_][15]=O[b+"0"]}function er(b){return b==JN||b==e5||b==$v||b==t5}function Fn(){this.eb=[],this.size=this.A=this.fb=0}function oi(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function tn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Fn,this.f.kb=new oi,this.sd=null}function Vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Lr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Id(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Gi(b,_){var M=b.T,I=_.ba.f.RGBA,z=I.eb,W=I.fb+b.ka*I.A,K=Es[_.ba.S],Y=b.y,Z=b.O,ee=b.f,xe=b.N,ke=b.ea,te=b.W,be=_.cc,Se=_.dc,Te=_.Mc,Ae=_.Nc,Oe=b.ka,De=b.ka+b.T,Ke=b.U,qe=Ke+1>>1;for(Oe==0?K(Y,Z,null,null,ee,xe,ke,te,ee,xe,ke,te,z,W,null,null,Ke):(K(_.ec,_.fc,Y,Z,be,Se,Te,Ae,ee,xe,ke,te,z,W-I.A,z,W,Ke),++M);Oe+2<De;Oe+=2)be=ee,Se=xe,Te=ke,Ae=te,xe+=b.Rc,te+=b.Rc,W+=2*I.A,K(Y,(Z+=2*b.fa)-b.fa,Y,Z,be,Se,Te,Ae,ee,xe,ke,te,z,W-I.A,z,W,Ke);return Z+=b.fa,b.j+De<b.o?(n(_.ec,_.fc,Y,Z,Ke),n(_.cc,_.dc,ee,xe,qe),n(_.Mc,_.Nc,ke,te,qe),M--):1&De||K(Y,Z,null,null,ee,xe,ke,te,ee,xe,ke,te,z,W+I.A,null,null,Ke),M}function Wl(b,_,M){var I=b.F,z=[b.J];if(I!=null){var W=b.U,K=_.ba.S,Y=K==Fv||K==$v;_=_.ba.f.RGBA;var Z=[0],ee=b.ka;Z[0]=b.T,b.Kb&&(ee==0?--Z[0]:(--ee,z[0]-=b.width),b.j+b.ka+b.T==b.o&&(Z[0]=b.o-b.j-ee));var xe=_.eb;ee=_.fb+ee*_.A,b=kE(I,z[0],b.width,W,Z,xe,ee+(Y?0:3),_.A),t(M==Z),b&&er(K)&&Hg(xe,ee,Y,W,Z,_.A)}return 0}function Qo(b){var _=b.ma,M=_.ba.S,I=11>M,z=M==Dv||M==Rv||M==Fv||M==QN||M==12||er(M);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Fg(_.Oa,b,z?11:12))return 0;if(z&&er(M)&&Tv(),b.da)alert("todo:use_scaling");else{if(I){if(_.Ib=Id,b.Kb){if(M=b.U+1>>1,_.memory=s(b.U+2*M),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+b.U,_.Mc=_.cc,_.Nc=_.dc+M,_.Ib=Gi,Tv()}}else alert("todo:EmitYUV");z&&(_.Jb=Wl,I&&As())}if(I&&!WE){for(b=0;256>b;++b)cQ[b]=89858*(b-128)+Uv>>Bv,fQ[b]=-22014*(b-128)+Uv,dQ[b]=-45773*(b-128),uQ[b]=113618*(b-128)+Uv>>Bv;for(b=Gg;b<i5;++b)_=76283*(b-16)+Uv>>Bv,hQ[b-Gg]=Cn(_,255),mQ[b-Gg]=Cn(_+8>>4,15);WE=1}return 1}function Mt(b){var _=b.ma,M=b.U,I=b.T;return t(!(1&b.ka)),0>=M||0>=I?0:(M=_.Ib(b,_),_.Jb!=null&&_.Jb(b,_,M),_.Dc+=M,1)}function Hl(b){b.ma.memory=null}function Kl(b,_,M,I){return fe(b,8)!=47?0:(_[0]=fe(b,14)+1,M[0]=fe(b,14)+1,I[0]=fe(b,1),fe(b,3)!=0?0:!b.h)}function Ns(b,_){if(4>b)return b+1;var M=b-2>>1;return(2+(1&b)<<M)+fe(_,M)+1}function Ss(b,_){return 120<_?_-120:1<=(M=((M=YZ[_-1])>>4)*b+(8-(15&M)))?M:1;var M}function kn(b,_,M){var I=Q(M),z=b[_+=255&I].g-8;return 0<z&&(ue(M,M.u+8),I=Q(M),_+=b[_].value,_+=I&(1<<z)-1),ue(M,M.u+b[_].g),b[_].value}function Ni(b,_,M){return M.g+=b.g,M.value+=b.value<<_>>>0,t(8>=M.g),b.g}function Mi(b,_,M){var I=b.xc;return t((_=I==0?0:b.vc[b.md*(M>>I)+(_>>I)])<b.Wb),b.Ya[_]}function Dd(b,_,M,I){var z=b.ab,W=b.c*_,K=b.C;_=K+_;var Y=M,Z=I;for(I=b.Ta,M=b.Ua;0<z--;){var ee=b.gc[z],xe=K,ke=_,te=Y,be=Z,Se=(Z=I,Y=M,ee.Ea);switch(t(xe<ke),t(ke<=ee.nc),ee.hc){case 2:Bn(te,be,(ke-xe)*Se,Z,Y);break;case 0:var Te=xe,Ae=ke,Oe=Z,De=Y,Ke=(vt=ee).Ea;Te==0&&(Bg(te,be,null,null,1,Oe,De),Re(te,be+1,0,0,Ke-1,Oe,De+1),be+=Ke,De+=Ke,++Te);for(var qe=1<<vt.b,Pt=qe-1,pt=$e(Ke,vt.b),nr=vt.K,vt=vt.w+(Te>>vt.b)*pt;Te<Ae;){var pr=nr,ui=vt,ir=1;for(Lh(te,be,Oe,De-Ke,1,Oe,De);ir<Ke;){var bt=(ir&~Pt)+qe;bt>Ke&&(bt=Ke),(0,zg[pr[ui++]>>8&15])(te,be+ +ir,Oe,De+ir-Ke,bt-ir,Oe,De+ir),ir=bt}be+=Ke,De+=Ke,++Te&Pt||(vt+=pt)}ke!=ee.nc&&n(Z,Y-Se,Z,Y+(ke-xe-1)*Se,Se);break;case 1:for(Se=te,Ae=be,Ke=(te=ee.Ea)-(De=te&~(Oe=(be=1<<ee.b)-1)),Te=$e(te,ee.b),qe=ee.K,ee=ee.w+(xe>>ee.b)*Te;xe<ke;){for(Pt=qe,pt=ee,nr=new ie,vt=Ae+De,pr=Ae+te;Ae<vt;)he(Pt[pt++],nr),Vg(nr,Se,Ae,be,Z,Y),Ae+=be,Y+=be;Ae<pr&&(he(Pt[pt++],nr),Vg(nr,Se,Ae,Ke,Z,Y),Ae+=Ke,Y+=Ke),++xe&Oe||(ee+=Te)}break;case 3:if(te==Z&&be==Y&&0<ee.b){for(Ae=Z,te=Se=Y+(ke-xe)*Se-(De=(ke-xe)*$e(ee.Ea,ee.b)),be=Z,Oe=Y,Te=[],De=(Ke=De)-1;0<=De;--De)Te[De]=be[Oe+De];for(De=Ke-1;0<=De;--De)Ae[te+De]=Te[De];Ov(ee,xe,ke,Z,Se,Z,Y)}else Ov(ee,xe,ke,te,be,Z,Y)}Y=I,Z=M}Z!=M&&n(I,M,Y,Z,W)}function eu(b,_){var M=b.V,I=b.Ba+b.c*b.C,z=_-b.C;if(t(_<=b.l.o),t(16>=z),0<z){var W=b.l,K=b.Ta,Y=b.Ua,Z=W.width;if(Dd(b,z,M,I),z=Y=[Y],t((M=b.C)<(I=_)),t(W.v<W.va),I>W.o&&(I=W.o),M<W.j){var ee=W.j-M;M=W.j,z[0]+=ee*Z}if(M>=I?M=0:(z[0]+=4*W.v,W.ka=M-W.j,W.U=W.va-W.v,W.T=I-M,M=1),M){if(Y=Y[0],11>(M=b.ca).S){var xe=M.f.RGBA,ke=(I=M.S,z=W.U,W=W.T,ee=xe.eb,xe.A),te=W;for(xe=xe.fb+b.Ma*xe.A;0<te--;){var be=K,Se=Y,Te=z,Ae=ee,Oe=xe;switch(I){case Iv:qg(be,Se,Te,Ae,Oe);break;case Dv:ou(be,Se,Te,Ae,Oe);break;case JN:ou(be,Se,Te,Ae,Oe),Hg(Ae,Oe,0,Te,1,0);break;case IE:rf(be,Se,Te,Ae,Oe);break;case Rv:Et(be,Se,Te,Ae,Oe,1);break;case e5:Et(be,Se,Te,Ae,Oe,1),Hg(Ae,Oe,0,Te,1,0);break;case Fv:Et(be,Se,Te,Ae,Oe,0);break;case $v:Et(be,Se,Te,Ae,Oe,0),Hg(Ae,Oe,1,Te,1,0);break;case QN:lu(be,Se,Te,Ae,Oe);break;case t5:lu(be,Se,Te,Ae,Oe),AE(Ae,Oe,Te,1,0);break;case DE:cu(be,Se,Te,Ae,Oe);break;default:t(0)}Y+=Z,xe+=ke}b.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");t(b.Ma<=M.height)}}b.C=_,t(b.C<=b.i)}function uo(b){var _;if(0<b.ua)return 0;for(_=0;_<b.Wb;++_){var M=b.Ya[_].G,I=b.Ya[_].H;if(0<M[1][I[1]+0].g||0<M[2][I[2]+0].g||0<M[3][I[3]+0].g)return 0}return 1}function Jo(b,_,M,I,z,W){if(b.Z!=0){var K=b.qd,Y=b.rd;for(t(fu[b.Z]!=null);_<M;++_)fu[b.Z](K,Y,I,z,I,z,W),K=I,Y=z,z+=W;b.qd=K,b.rd=Y}}function fo(b,_){var M=b.l.ma,I=M.Z==0||M.Z==1?b.l.j:b.C;if(I=b.C<I?I:b.C,t(_<=b.l.o),_>I){var z=b.l.width,W=M.ca,K=M.tb+z*I,Y=b.V,Z=b.Ba+b.c*I,ee=b.gc;t(b.ab==1),t(ee[0].hc==3),nl(ee[0],I,_,Y,Z,W,K),Jo(M,I,_,W,K,z)}b.C=b.Ma=_}function ho(b,_,M,I,z,W,K){var Y=b.$/I,Z=b.$%I,ee=b.m,xe=b.s,ke=M+b.$,te=ke;z=M+I*z;var be=M+I*W,Se=280+xe.ua,Te=b.Pb?Y:16777216,Ae=0<xe.ua?xe.Wa:null,Oe=xe.wc,De=ke<be?Mi(xe,Z,Y):null;t(b.C<W),t(be<=z);var Ke=!1;e:for(;;){for(;Ke||ke<be;){var qe=0;if(Y>=Te){var Pt=ke-M;t((Te=b).Pb),Te.wd=Te.m,Te.xd=Pt,0<Te.s.ua&&ut(Te.s.Wa,Te.s.vb),Te=Y+ZZ}if(Z&Oe||(De=Mi(xe,Z,Y)),t(De!=null),De.Qb&&(_[ke]=De.qb,Ke=!0),!Ke)if(ce(ee),De.jc){qe=ee,Pt=_;var pt=ke,nr=De.pd[Q(qe)&tf-1];t(De.jc),256>nr.g?(ue(qe,qe.u+nr.g),Pt[pt]=nr.value,qe=0):(ue(qe,qe.u+nr.g-256),t(256<=nr.value),qe=nr.value),qe==0&&(Ke=!0)}else qe=kn(De.G[0],De.H[0],ee);if(ee.h)break;if(Ke||256>qe){if(!Ke)if(De.nd)_[ke]=(De.qb|qe<<8)>>>0;else{if(ce(ee),Ke=kn(De.G[1],De.H[1],ee),ce(ee),Pt=kn(De.G[2],De.H[2],ee),pt=kn(De.G[3],De.H[3],ee),ee.h)break;_[ke]=(pt<<24|Ke<<16|qe<<8|Pt)>>>0}if(Ke=!1,++ke,++Z>=I&&(Z=0,++Y,K!=null&&Y<=W&&!(Y%16)&&K(b,Y),Ae!=null))for(;te<ke;)qe=_[te++],Ae.X[(506832829*qe&4294967295)>>>Ae.Mb]=qe}else if(280>qe){if(qe=Ns(qe-256,ee),Pt=kn(De.G[4],De.H[4],ee),ce(ee),Pt=Ss(I,Pt=Ns(Pt,ee)),ee.h)break;if(ke-M<Pt||z-ke<qe)break e;for(pt=0;pt<qe;++pt)_[ke+pt]=_[ke+pt-Pt];for(ke+=qe,Z+=qe;Z>=I;)Z-=I,++Y,K!=null&&Y<=W&&!(Y%16)&&K(b,Y);if(t(ke<=z),Z&Oe&&(De=Mi(xe,Z,Y)),Ae!=null)for(;te<ke;)qe=_[te++],Ae.X[(506832829*qe&4294967295)>>>Ae.Mb]=qe}else{if(!(qe<Se))break e;for(Ke=qe-280,t(Ae!=null);te<ke;)qe=_[te++],Ae.X[(506832829*qe&4294967295)>>>Ae.Mb]=qe;qe=ke,t(!(Ke>>>(Pt=Ae).Xa)),_[qe]=Pt.X[Ke],Ke=!0}Ke||t(ee.h==ae(ee))}if(b.Pb&&ee.h&&ke<z)t(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&ut(b.s.vb,b.s.Wa);else{if(ee.h)break e;K!=null&&K(b,Y>W?W:Y),b.a=0,b.$=ke-M}return 1}return b.a=3,0}function _s(b){t(b!=null),b.vc=null,b.yc=null,b.Ya=null;var _=b.Wa;_!=null&&(_.X=null),b.vb=null,t(b!=null)}function Rd(){var b=new Nt;return b==null?null:(b.a=0,b.xb=$E,cr("Predictor","VP8LPredictors"),cr("Predictor","VP8LPredictors_C"),cr("PredictorAdd","VP8LPredictorsAdd"),cr("PredictorAdd","VP8LPredictorsAdd_C"),Bn=Ue,Vg=ze,qg=or,ou=Jt,lu=mt,cu=Dt,rf=Sr,O.VP8LMapColor32b=rl,O.VP8LMapColor8b=Ug,b)}function el(b,_,M,I,z){var W=1,K=[b],Y=[_],Z=I.m,ee=I.s,xe=null,ke=0;e:for(;;){if(M)for(;W&&fe(Z,1);){var te=K,be=Y,Se=I,Te=1,Ae=Se.m,Oe=Se.gc[Se.ab],De=fe(Ae,2);if(Se.Oc&1<<De)W=0;else{switch(Se.Oc|=1<<De,Oe.hc=De,Oe.Ea=te[0],Oe.nc=be[0],Oe.K=[null],++Se.ab,t(4>=Se.ab),De){case 0:case 1:Oe.b=fe(Ae,3)+2,Te=el($e(Oe.Ea,Oe.b),$e(Oe.nc,Oe.b),0,Se,Oe.K),Oe.K=Oe.K[0];break;case 3:var Ke,qe=fe(Ae,8)+1,Pt=16<qe?0:4<qe?1:2<qe?2:3;if(te[0]=$e(Oe.Ea,Pt),Oe.b=Pt,Ke=Te=el(qe,1,0,Se,Oe.K)){var pt,nr=qe,vt=Oe,pr=1<<(8>>vt.b),ui=s(pr);if(ui==null)Ke=0;else{var ir=vt.K[0],bt=vt.w;for(ui[0]=vt.K[0][0],pt=1;pt<1*nr;++pt)ui[pt]=dt(ir[bt+pt],ui[pt-1]);for(;pt<4*pr;++pt)ui[pt]=0;vt.K[0]=null,vt.K[0]=ui,Ke=1}}Te=Ke;break;case 2:break;default:t(0)}W=Te}}if(K=K[0],Y=Y[0],W&&fe(Z,1)&&!(W=1<=(ke=fe(Z,4))&&11>=ke)){I.a=3;break e}var rt;if(rt=W)t:{var zn,tr,wr,fn=I,Ii=K,ha=Y,Tn=ke,Xi=M,ma=fn.m,di=fn.s,_r=[null],zr=1,En=0,Vr=XZ[Tn];r:for(;;){if(Xi&&fe(ma,1)){var Di=fe(ma,3)+2,go=$e(Ii,Di),Vn=$e(ha,Di),Ta=go*Vn;if(!el(go,Vn,0,fn,_r))break r;for(_r=_r[0],di.xc=Di,zn=0;zn<Ta;++zn){var nn=_r[zn]>>8&65535;_r[zn]=nn,nn>=zr&&(zr=nn+1)}}if(ma.h)break r;for(tr=0;5>tr;++tr){var fi=RE[tr];!tr&&0<Tn&&(fi+=1<<Tn),En<fi&&(En=fi)}var Ga=o(zr*Vr,R),pa=zr,Ya=o(pa,H);if(Ya==null)var Xa=null;else t(65536>=pa),Xa=Ya;var Ea=s(En);if(Xa==null||Ea==null||Ga==null){fn.a=1;break r}var Za=Ga;for(zn=wr=0;zn<zr;++zn){var cn=Xa[zn],Qa=cn.G,xo=cn.H,af=0,nc=1,Ri=0;for(tr=0;5>tr;++tr){fi=RE[tr],Qa[tr]=Za,xo[tr]=wr,!tr&&0<Tn&&(fi+=1<<Tn);i:{var Vv,a5=fi,qv=fn,Yg=Ea,xQ=Za,yQ=wr,s5=0,hu=qv.m,vQ=fe(hu,1);if(a(Yg,0,0,a5),vQ){var bQ=fe(hu,1)+1,wQ=fe(hu,1),GE=fe(hu,wQ==0?1:8);Yg[GE]=1,bQ==2&&(Yg[GE=fe(hu,8)]=1);var Wv=1}else{var YE=s(19),XE=fe(hu,4)+4;if(19<XE){qv.a=3;var Hv=0;break i}for(Vv=0;Vv<XE;++Vv)YE[GZ[Vv]]=fe(hu,3);var o5=void 0,Xg=void 0,ZE=qv,jQ=YE,Kv=a5,QE=Yg,l5=0,mu=ZE.m,JE=8,e6=o(128,R);n:for(;k(e6,0,7,jQ,19);){if(fe(mu,1)){var NQ=2+2*fe(mu,3);if((o5=2+fe(mu,NQ))>Kv)break n}else o5=Kv;for(Xg=0;Xg<Kv&&o5--;){ce(mu);var t6=e6[0+(127&Q(mu))];ue(mu,mu.u+t6.g);var Dh=t6.value;if(16>Dh)QE[Xg++]=Dh,Dh!=0&&(JE=Dh);else{var SQ=Dh==16,r6=Dh-16,_Q=HZ[r6],n6=fe(mu,WZ[r6])+_Q;if(Xg+n6>Kv)break n;for(var PQ=SQ?JE:0;0<n6--;)QE[Xg++]=PQ}}l5=1;break n}l5||(ZE.a=3),Wv=l5}(Wv=Wv&&!hu.h)&&(s5=k(xQ,yQ,8,Yg,a5)),Wv&&s5!=0?Hv=s5:(qv.a=3,Hv=0)}if(Hv==0)break r;if(nc&&KZ[tr]==1&&(nc=Za[wr].g==0),af+=Za[wr].g,wr+=Hv,3>=tr){var Zg,c5=Ea[0];for(Zg=1;Zg<fi;++Zg)Ea[Zg]>c5&&(c5=Ea[Zg]);Ri+=c5}}if(cn.nd=nc,cn.Qb=0,nc&&(cn.qb=(Qa[3][xo[3]+0].value<<24|Qa[1][xo[1]+0].value<<16|Qa[2][xo[2]+0].value)>>>0,af==0&&256>Qa[0][xo[0]+0].value&&(cn.Qb=1,cn.qb+=Qa[0][xo[0]+0].value<<8)),cn.jc=!cn.Qb&&6>Ri,cn.jc){var Gv,ic=cn;for(Gv=0;Gv<tf;++Gv){var pu=Gv,gu=ic.pd[pu],Yv=ic.G[0][ic.H[0]+pu];256<=Yv.value?(gu.g=Yv.g+256,gu.value=Yv.value):(gu.g=0,gu.value=0,pu>>=Ni(Yv,8,gu),pu>>=Ni(ic.G[1][ic.H[1]+pu],16,gu),pu>>=Ni(ic.G[2][ic.H[2]+pu],0,gu),Ni(ic.G[3][ic.H[3]+pu],24,gu))}}}di.vc=_r,di.Wb=zr,di.Ya=Xa,di.yc=Ga,rt=1;break t}rt=0}if(!(W=rt)){I.a=3;break e}if(0<ke){if(ee.ua=1<<ke,!J(ee.Wa,ke)){I.a=1,W=0;break e}}else ee.ua=0;var u5=I,i6=K,AQ=Y,d5=u5.s,f5=d5.xc;if(u5.c=i6,u5.i=AQ,d5.md=$e(i6,f5),d5.wc=f5==0?-1:(1<<f5)-1,M){I.xb=iQ;break e}if((xe=s(K*Y))==null){I.a=1,W=0;break e}W=(W=ho(I,xe,0,K,Y,Y,null))&&!Z.h;break e}return W?(z!=null?z[0]=xe:(t(xe==null),t(M)),I.$=0,M||_s(ee)):_s(ee),W}function Fd(b,_){var M=b.c*b.i,I=M+_+16*_;return t(b.c<=_),b.V=s(I),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+M+_,1)}function Sh(b,_){var M=b.C,I=_-M,z=b.V,W=b.Ba+b.c*M;for(t(_<=b.l.o);0<I;){var K=16<I?16:I,Y=b.l.ma,Z=b.l.width,ee=Z*K,xe=Y.ca,ke=Y.tb+Z*M,te=b.Ta,be=b.Ua;Dd(b,K,z,W),CE(te,be,xe,ke,ee),Jo(Y,M,M+K,xe,ke,Z),I-=K,z+=K*b.c,M+=K}t(M==_),b.C=b.Ma=_}function _h(){this.ub=this.yd=this.td=this.Rb=0}function Ph(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function IN(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Sg(){this.Yb=function(){var b=[];return function _(M,I,z){for(var W=z[I],K=0;K<W&&(M.push(z.length>I+1?[]:0),!(z.length<I+1));K++)_(M[K],I+1,z)}(b,0,[3,11]),b}()}function pv(){this.jb=s(3),this.Wc=l([4,8],Sg),this.Xc=l([4,17],Sg)}function gv(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ps(){this.ld=this.La=this.dd=this.tc=0}function _g(){this.Na=this.la=0}function xv(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pg(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function yv(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ps),this.Y=0,this.ya=Array(new Pg),this.aa=0,this.l=new Ah}function vv(){this.y=s(16),this.f=s(8),this.ea=s(8)}function bv(){this.cb=this.a=0,this.sc="",this.m=new $,this.Od=new _h,this.Kc=new Ph,this.ed=new gv,this.Qa=new IN,this.Ic=this.$c=this.Aa=0,this.D=new yv,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,$),this.ia=0,this.pb=o(4,xv),this.Pa=new pv,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new vv),this.Hd=0,this.rb=Array(new _g),this.sb=0,this.wa=Array(new Ps),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pg),this.L=this.aa=0,this.gd=l([4,2],Ps),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ah(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function DN(){var b=new bv;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,Kg||(Kg=Gl)),b}function ei(b,_,M){return b.a==0&&(b.a=_,b.sc=M,b.cb=0),0}function wv(b,_,M){return 3<=M&&b[_+0]==157&&b[_+1]==1&&b[_+2]==42}function jv(b,_){if(b==null)return 0;if(b.a=0,b.sc="OK",_==null)return ei(b,2,"null VP8Io passed to VP8GetHeaders()");var M=_.data,I=_.w,z=_.ha;if(4>z)return ei(b,7,"Truncated header.");var W=M[I+0]|M[I+1]<<8|M[I+2]<<16,K=b.Od;if(K.Rb=!(1&W),K.td=W>>1&7,K.yd=W>>4&1,K.ub=W>>5,3<K.td)return ei(b,3,"Incorrect keyframe parameters.");if(!K.yd)return ei(b,4,"Frame not displayable.");I+=3,z-=3;var Y=b.Kc;if(K.Rb){if(7>z)return ei(b,7,"cannot parse picture header");if(!wv(M,I,z))return ei(b,3,"Bad code word");Y.c=16383&(M[I+4]<<8|M[I+3]),Y.Td=M[I+4]>>6,Y.i=16383&(M[I+6]<<8|M[I+5]),Y.Ud=M[I+6]>>6,I+=7,z-=7,b.za=Y.c+15>>4,b.Ub=Y.i+15>>4,_.width=Y.c,_.height=Y.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,a((W=b.Pa).jb,0,255,W.jb.length),t((W=b.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,a(W.Zb,0,0,W.Zb.length),a(W.Lb,0,0,W.Lb)}if(K.ub>z)return ei(b,7,"bad partition length");F(W=b.m,M,I,K.ub),I+=K.ub,z-=K.ub,K.Rb&&(Y.Ld=oe(W),Y.Kd=oe(W)),Y=b.Qa;var Z,ee=b.Pa;if(t(W!=null),t(Y!=null),Y.Cb=oe(W),Y.Cb){if(Y.Bb=oe(W),oe(W)){for(Y.Fb=oe(W),Z=0;4>Z;++Z)Y.Zb[Z]=oe(W)?B(W,7):0;for(Z=0;4>Z;++Z)Y.Lb[Z]=oe(W)?B(W,6):0}if(Y.Bb)for(Z=0;3>Z;++Z)ee.jb[Z]=oe(W)?V(W,8):255}else Y.Bb=0;if(W.Ka)return ei(b,3,"cannot parse segment header");if((Y=b.ed).zd=oe(W),Y.Tb=V(W,6),Y.wb=V(W,3),Y.Pc=oe(W),Y.Pc&&oe(W)){for(ee=0;4>ee;++ee)oe(W)&&(Y.vd[ee]=B(W,6));for(ee=0;4>ee;++ee)oe(W)&&(Y.od[ee]=B(W,6))}if(b.L=Y.Tb==0?0:Y.zd?1:2,W.Ka)return ei(b,3,"cannot parse filter header");var xe=z;if(z=Z=I,I=Z+xe,Y=xe,b.Xb=(1<<V(b.m,2))-1,xe<3*(ee=b.Xb))M=7;else{for(Z+=3*ee,Y-=3*ee,xe=0;xe<ee;++xe){var ke=M[z+0]|M[z+1]<<8|M[z+2]<<16;ke>Y&&(ke=Y),F(b.Jc[+xe],M,Z,ke),Z+=ke,Y-=ke,z+=3}F(b.Jc[+ee],M,Z,Y),M=Z<I?0:5}if(M!=0)return ei(b,M,"cannot parse partitions");for(M=V(Z=b.m,7),z=oe(Z)?B(Z,4):0,I=oe(Z)?B(Z,4):0,Y=oe(Z)?B(Z,4):0,ee=oe(Z)?B(Z,4):0,Z=oe(Z)?B(Z,4):0,xe=b.Qa,ke=0;4>ke;++ke){if(xe.Cb){var te=xe.Zb[ke];xe.Fb||(te+=M)}else{if(0<ke){b.pb[ke]=b.pb[0];continue}te=M}var be=b.pb[ke];be.Sc[0]=r5[Cn(te+z,127)],be.Sc[1]=n5[Cn(te+0,127)],be.Eb[0]=2*r5[Cn(te+I,127)],be.Eb[1]=101581*n5[Cn(te+Y,127)]>>16,8>be.Eb[1]&&(be.Eb[1]=8),be.Qc[0]=r5[Cn(te+ee,117)],be.Qc[1]=n5[Cn(te+Z,127)],be.lc=te+Z}if(!K.Rb)return ei(b,4,"Not a key frame.");for(oe(W),K=b.Pa,M=0;4>M;++M){for(z=0;8>z;++z)for(I=0;3>I;++I)for(Y=0;11>Y;++Y)ee=ye(W,rQ[M][z][I][Y])?V(W,8):eQ[M][z][I][Y],K.Wc[M][z].Yb[I][Y]=ee;for(z=0;17>z;++z)K.Xc[M][z]=K.Wc[M][nQ[z]]}return b.kc=oe(W),b.kc&&(b.Bd=V(W,8)),b.cb=1}function Gl(b,_,M,I,z,W,K){var Y=_[z].Yb[M];for(M=0;16>z;++z){if(!ye(b,Y[M+0]))return z;for(;!ye(b,Y[M+1]);)if(Y=_[++z].Yb[0],M=0,z==16)return 16;var Z=_[z+1].Yb;if(ye(b,Y[M+2])){var ee=b,xe=0;if(ye(ee,(te=Y)[(ke=M)+3]))if(ye(ee,te[ke+6])){for(Y=0,ke=2*(xe=ye(ee,te[ke+8]))+(te=ye(ee,te[ke+9+xe])),xe=0,te=QZ[ke];te[Y];++Y)xe+=xe+ye(ee,te[Y]);xe+=3+(8<<ke)}else ye(ee,te[ke+7])?(xe=7+2*ye(ee,165),xe+=ye(ee,145)):xe=5+ye(ee,159);else xe=ye(ee,te[ke+4])?3+ye(ee,te[ke+5]):2;Y=Z[2]}else xe=1,Y=Z[1];Z=K+JZ[z],0>(ee=b).b&&we(ee);var ke,te=ee.b,be=(ke=ee.Ca>>1)-(ee.I>>te)>>31;--ee.b,ee.Ca+=be,ee.Ca|=1,ee.I-=(ke+1&be)<<te,W[Z]=((xe^be)-be)*I[(0<z)+0]}return 16}function $d(b){var _=b.rb[b.sb-1];_.la=0,_.Na=0,a(b.zc,0,0,b.zc.length),b.ja=0}function mo(b,_,M,I,z){z=b[_+M+32*I]+(z>>3),b[_+M+32*I]=-256&z?0>z?0:255:z}function Bd(b,_,M,I,z,W){mo(b,_,0,M,I+z),mo(b,_,1,M,I+W),mo(b,_,2,M,I-W),mo(b,_,3,M,I-z)}function $n(b){return(20091*b>>16)+b}function Ag(b,_,M,I){var z,W=0,K=s(16);for(z=0;4>z;++z){var Y=b[_+0]+b[_+8],Z=b[_+0]-b[_+8],ee=(35468*b[_+4]>>16)-$n(b[_+12]),xe=$n(b[_+4])+(35468*b[_+12]>>16);K[W+0]=Y+xe,K[W+1]=Z+ee,K[W+2]=Z-ee,K[W+3]=Y-xe,W+=4,_++}for(z=W=0;4>z;++z)Y=(b=K[W+0]+4)+K[W+8],Z=b-K[W+8],ee=(35468*K[W+4]>>16)-$n(K[W+12]),mo(M,I,0,0,Y+(xe=$n(K[W+4])+(35468*K[W+12]>>16))),mo(M,I,1,0,Z+ee),mo(M,I,2,0,Z-ee),mo(M,I,3,0,Y-xe),W++,I+=32}function RN(b,_,M,I){var z=b[_+0]+4,W=35468*b[_+4]>>16,K=$n(b[_+4]),Y=35468*b[_+1]>>16;Bd(M,I,0,z+K,b=$n(b[_+1]),Y),Bd(M,I,1,z+W,b,Y),Bd(M,I,2,z-W,b,Y),Bd(M,I,3,z-K,b,Y)}function FN(b,_,M,I,z){Ag(b,_,M,I),z&&Ag(b,_+16,M,I+4)}function $N(b,_,M,I){nf(b,_+0,M,I,1),nf(b,_+32,M,I+128,1)}function tl(b,_,M,I){var z;for(b=b[_+0]+4,z=0;4>z;++z)for(_=0;4>_;++_)mo(M,I,_,z,b)}function Nv(b,_,M,I){b[_+0]&&Ir(b,_+0,M,I),b[_+16]&&Ir(b,_+16,M,I+4),b[_+32]&&Ir(b,_+32,M,I+128),b[_+48]&&Ir(b,_+48,M,I+128+4)}function Sv(b,_,M,I){var z,W=s(16);for(z=0;4>z;++z){var K=b[_+0+z]+b[_+12+z],Y=b[_+4+z]+b[_+8+z],Z=b[_+4+z]-b[_+8+z],ee=b[_+0+z]-b[_+12+z];W[0+z]=K+Y,W[8+z]=K-Y,W[4+z]=ee+Z,W[12+z]=ee-Z}for(z=0;4>z;++z)K=(b=W[0+4*z]+3)+W[3+4*z],Y=W[1+4*z]+W[2+4*z],Z=W[1+4*z]-W[2+4*z],ee=b-W[3+4*z],M[I+0]=K+Y>>3,M[I+16]=ee+Z>>3,M[I+32]=K-Y>>3,M[I+48]=ee-Z>>3,I+=64}function tu(b,_,M){var I,z=_-32,W=Ka,K=255-b[z-1];for(I=0;I<M;++I){var Y,Z=W,ee=K+b[_-1];for(Y=0;Y<M;++Y)b[_+Y]=Z[ee+b[z+Y]];_+=32}}function kg(b,_){tu(b,_,4)}function BN(b,_){tu(b,_,8)}function UN(b,_){tu(b,_,16)}function zN(b,_){var M;for(M=0;16>M;++M)n(b,_+32*M,b,_-32,16)}function Cg(b,_){var M;for(M=16;0<M;--M)a(b,_,b[_-1],16),_+=32}function Ud(b,_,M){var I;for(I=0;16>I;++I)a(_,M+32*I,b,16)}function ru(b,_){var M,I=16;for(M=0;16>M;++M)I+=b[_-1+32*M]+b[_+M-32];Ud(I>>5,b,_)}function VN(b,_){var M,I=8;for(M=0;16>M;++M)I+=b[_-1+32*M];Ud(I>>4,b,_)}function zd(b,_){var M,I=8;for(M=0;16>M;++M)I+=b[_+M-32];Ud(I>>4,b,_)}function Tg(b,_){Ud(128,b,_)}function qt(b,_,M){return b+2*_+M+2>>2}function qN(b,_){var M,I=_-32;for(I=new Uint8Array([qt(b[I-1],b[I+0],b[I+1]),qt(b[I+0],b[I+1],b[I+2]),qt(b[I+1],b[I+2],b[I+3]),qt(b[I+2],b[I+3],b[I+4])]),M=0;4>M;++M)n(b,_+32*M,I,0,I.length)}function WN(b,_){var M=b[_-1],I=b[_-1+32],z=b[_-1+64],W=b[_-1+96];Ne(b,_+0,16843009*qt(b[_-1-32],M,I)),Ne(b,_+32,16843009*qt(M,I,z)),Ne(b,_+64,16843009*qt(I,z,W)),Ne(b,_+96,16843009*qt(z,W,W))}function HN(b,_){var M,I=4;for(M=0;4>M;++M)I+=b[_+M-32]+b[_-1+32*M];for(I>>=3,M=0;4>M;++M)a(b,_+32*M,I,4)}function KN(b,_){var M=b[_-1+0],I=b[_-1+32],z=b[_-1+64],W=b[_-1-32],K=b[_+0-32],Y=b[_+1-32],Z=b[_+2-32],ee=b[_+3-32];b[_+0+96]=qt(I,z,b[_-1+96]),b[_+1+96]=b[_+0+64]=qt(M,I,z),b[_+2+96]=b[_+1+64]=b[_+0+32]=qt(W,M,I),b[_+3+96]=b[_+2+64]=b[_+1+32]=b[_+0+0]=qt(K,W,M),b[_+3+64]=b[_+2+32]=b[_+1+0]=qt(Y,K,W),b[_+3+32]=b[_+2+0]=qt(Z,Y,K),b[_+3+0]=qt(ee,Z,Y)}function Yl(b,_){var M=b[_+1-32],I=b[_+2-32],z=b[_+3-32],W=b[_+4-32],K=b[_+5-32],Y=b[_+6-32],Z=b[_+7-32];b[_+0+0]=qt(b[_+0-32],M,I),b[_+1+0]=b[_+0+32]=qt(M,I,z),b[_+2+0]=b[_+1+32]=b[_+0+64]=qt(I,z,W),b[_+3+0]=b[_+2+32]=b[_+1+64]=b[_+0+96]=qt(z,W,K),b[_+3+32]=b[_+2+64]=b[_+1+96]=qt(W,K,Y),b[_+3+64]=b[_+2+96]=qt(K,Y,Z),b[_+3+96]=qt(Y,Z,Z)}function Xl(b,_){var M=b[_-1+0],I=b[_-1+32],z=b[_-1+64],W=b[_-1-32],K=b[_+0-32],Y=b[_+1-32],Z=b[_+2-32],ee=b[_+3-32];b[_+0+0]=b[_+1+64]=W+K+1>>1,b[_+1+0]=b[_+2+64]=K+Y+1>>1,b[_+2+0]=b[_+3+64]=Y+Z+1>>1,b[_+3+0]=Z+ee+1>>1,b[_+0+96]=qt(z,I,M),b[_+0+64]=qt(I,M,W),b[_+0+32]=b[_+1+96]=qt(M,W,K),b[_+1+32]=b[_+2+96]=qt(W,K,Y),b[_+2+32]=b[_+3+96]=qt(K,Y,Z),b[_+3+32]=qt(Y,Z,ee)}function GN(b,_){var M=b[_+0-32],I=b[_+1-32],z=b[_+2-32],W=b[_+3-32],K=b[_+4-32],Y=b[_+5-32],Z=b[_+6-32],ee=b[_+7-32];b[_+0+0]=M+I+1>>1,b[_+1+0]=b[_+0+64]=I+z+1>>1,b[_+2+0]=b[_+1+64]=z+W+1>>1,b[_+3+0]=b[_+2+64]=W+K+1>>1,b[_+0+32]=qt(M,I,z),b[_+1+32]=b[_+0+96]=qt(I,z,W),b[_+2+32]=b[_+1+96]=qt(z,W,K),b[_+3+32]=b[_+2+96]=qt(W,K,Y),b[_+3+64]=qt(K,Y,Z),b[_+3+96]=qt(Y,Z,ee)}function YN(b,_){var M=b[_-1+0],I=b[_-1+32],z=b[_-1+64],W=b[_-1+96];b[_+0+0]=M+I+1>>1,b[_+2+0]=b[_+0+32]=I+z+1>>1,b[_+2+32]=b[_+0+64]=z+W+1>>1,b[_+1+0]=qt(M,I,z),b[_+3+0]=b[_+1+32]=qt(I,z,W),b[_+3+32]=b[_+1+64]=qt(z,W,W),b[_+3+64]=b[_+2+64]=b[_+0+96]=b[_+1+96]=b[_+2+96]=b[_+3+96]=W}function kh(b,_){var M=b[_-1+0],I=b[_-1+32],z=b[_-1+64],W=b[_-1+96],K=b[_-1-32],Y=b[_+0-32],Z=b[_+1-32],ee=b[_+2-32];b[_+0+0]=b[_+2+32]=M+K+1>>1,b[_+0+32]=b[_+2+64]=I+M+1>>1,b[_+0+64]=b[_+2+96]=z+I+1>>1,b[_+0+96]=W+z+1>>1,b[_+3+0]=qt(Y,Z,ee),b[_+2+0]=qt(K,Y,Z),b[_+1+0]=b[_+3+32]=qt(M,K,Y),b[_+1+32]=b[_+3+64]=qt(I,M,K),b[_+1+64]=b[_+3+96]=qt(z,I,M),b[_+1+96]=qt(W,z,I)}function Eg(b,_){var M;for(M=0;8>M;++M)n(b,_+32*M,b,_-32,8)}function Vd(b,_){var M;for(M=0;8>M;++M)a(b,_,b[_-1],8),_+=32}function Ch(b,_,M){var I;for(I=0;8>I;++I)a(_,M+32*I,b,8)}function Th(b,_){var M,I=8;for(M=0;8>M;++M)I+=b[_+M-32]+b[_-1+32*M];Ch(I>>4,b,_)}function XN(b,_){var M,I=4;for(M=0;8>M;++M)I+=b[_+M-32];Ch(I>>3,b,_)}function Og(b,_){var M,I=4;for(M=0;8>M;++M)I+=b[_-1+32*M];Ch(I>>3,b,_)}function Mg(b,_){Ch(128,b,_)}function qd(b,_,M){var I=b[_-M],z=b[_+0],W=3*(z-I)+ZN[1020+b[_-2*M]-b[_+M]],K=Lv[112+(W+4>>3)];b[_-M]=Ka[255+I+Lv[112+(W+3>>3)]],b[_+0]=Ka[255+z-K]}function Wd(b,_,M,I){var z=b[_+0],W=b[_+M];return Ts[255+b[_-2*M]-b[_-M]]>I||Ts[255+W-z]>I}function Lg(b,_,M,I){return 4*Ts[255+b[_-M]-b[_+0]]+Ts[255+b[_-2*M]-b[_+M]]<=I}function Eh(b,_,M,I,z){var W=b[_-3*M],K=b[_-2*M],Y=b[_-M],Z=b[_+0],ee=b[_+M],xe=b[_+2*M],ke=b[_+3*M];return 4*Ts[255+Y-Z]+Ts[255+K-ee]>I?0:Ts[255+b[_-4*M]-W]<=z&&Ts[255+W-K]<=z&&Ts[255+K-Y]<=z&&Ts[255+ke-xe]<=z&&Ts[255+xe-ee]<=z&&Ts[255+ee-Z]<=z}function Ig(b,_,M,I){var z=2*I+1;for(I=0;16>I;++I)Lg(b,_+I,M,z)&&qd(b,_+I,M)}function Hd(b,_,M,I){var z=2*I+1;for(I=0;16>I;++I)Lg(b,_+I*M,1,z)&&qd(b,_+I*M,1)}function _v(b,_,M,I){var z;for(z=3;0<z;--z)Ig(b,_+=4*M,M,I)}function Pv(b,_,M,I){var z;for(z=3;0<z;--z)Hd(b,_+=4,M,I)}function Zl(b,_,M,I,z,W,K,Y){for(W=2*W+1;0<z--;){if(Eh(b,_,M,W,K))if(Wd(b,_,M,Y))qd(b,_,M);else{var Z=b,ee=_,xe=M,ke=Z[ee-2*xe],te=Z[ee-xe],be=Z[ee+0],Se=Z[ee+xe],Te=Z[ee+2*xe],Ae=27*(De=ZN[1020+3*(be-te)+ZN[1020+ke-Se]])+63>>7,Oe=18*De+63>>7,De=9*De+63>>7;Z[ee-3*xe]=Ka[255+Z[ee-3*xe]+De],Z[ee-2*xe]=Ka[255+ke+Oe],Z[ee-xe]=Ka[255+te+Ae],Z[ee+0]=Ka[255+be-Ae],Z[ee+xe]=Ka[255+Se-Oe],Z[ee+2*xe]=Ka[255+Te-De]}_+=I}}function Ql(b,_,M,I,z,W,K,Y){for(W=2*W+1;0<z--;){if(Eh(b,_,M,W,K))if(Wd(b,_,M,Y))qd(b,_,M);else{var Z=b,ee=_,xe=M,ke=Z[ee-xe],te=Z[ee+0],be=Z[ee+xe],Se=Lv[112+(4+(Te=3*(te-ke))>>3)],Te=Lv[112+(Te+3>>3)],Ae=Se+1>>1;Z[ee-2*xe]=Ka[255+Z[ee-2*xe]+Ae],Z[ee-xe]=Ka[255+ke+Te],Z[ee+0]=Ka[255+te-Se],Z[ee+xe]=Ka[255+be-Ae]}_+=I}}function Av(b,_,M,I,z,W){Zl(b,_,M,1,16,I,z,W)}function kv(b,_,M,I,z,W){Zl(b,_,1,M,16,I,z,W)}function Kd(b,_,M,I,z,W){var K;for(K=3;0<K;--K)Ql(b,_+=4*M,M,1,16,I,z,W)}function Cv(b,_,M,I,z,W){var K;for(K=3;0<K;--K)Ql(b,_+=4,1,M,16,I,z,W)}function T(b,_,M,I,z,W,K,Y){Zl(b,_,z,1,8,W,K,Y),Zl(M,I,z,1,8,W,K,Y)}function U(b,_,M,I,z,W,K,Y){Zl(b,_,1,z,8,W,K,Y),Zl(M,I,1,z,8,W,K,Y)}function ne(b,_,M,I,z,W,K,Y){Ql(b,_+4*z,z,1,8,W,K,Y),Ql(M,I+4*z,z,1,8,W,K,Y)}function de(b,_,M,I,z,W,K,Y){Ql(b,_+4,1,z,8,W,K,Y),Ql(M,I+4,1,z,8,W,K,Y)}function je(){this.ba=new tn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Lr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Le(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function We(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function xt(){this.ua=0,this.Wa=new at,this.vb=new at,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new R}function Nt(){this.xb=this.a=0,this.l=new Ah,this.ca=new tn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new xt,this.ab=0,this.gc=o(4,We),this.Oc=0}function Bt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ah,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Yt(b,_,M,I,z,W,K){for(b=b==null?0:b[_+0],_=0;_<K;++_)z[W+_]=b+M[I+_]&255,b=z[W+_]}function Er(b,_,M,I,z,W,K){var Y;if(b==null)Yt(null,null,M,I,z,W,K);else for(Y=0;Y<K;++Y)z[W+Y]=b[_+Y]+M[I+Y]&255}function jn(b,_,M,I,z,W,K){if(b==null)Yt(null,null,M,I,z,W,K);else{var Y,Z=b[_+0],ee=Z,xe=Z;for(Y=0;Y<K;++Y)ee=xe+(Z=b[_+Y])-ee,xe=M[I+Y]+(-256&ee?0>ee?0:255:ee)&255,ee=Z,z[W+Y]=xe}}function ti(b,_,M,I){var z=_.width,W=_.o;if(t(b!=null&&_!=null),0>M||0>=I||M+I>W)return null;if(!b.Cc){if(b.ga==null){var K;if(b.ga=new Bt,(K=b.ga==null)||(K=_.width*_.o,t(b.Gb.length==0),b.Gb=s(K),b.Uc=0,b.Gb==null?K=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,K=1),K=!K),!K){K=b.ga;var Y=b.Fa,Z=b.P,ee=b.qc,xe=b.mb,ke=b.nb,te=Z+1,be=ee-1,Se=K.l;if(t(Y!=null&&xe!=null&&_!=null),fu[0]=null,fu[1]=Yt,fu[2]=Er,fu[3]=jn,K.ca=xe,K.tb=ke,K.c=_.width,K.i=_.height,t(0<K.c&&0<K.i),1>=ee)_=0;else if(K.$a=3&Y[Z+0],K.Z=Y[Z+0]>>2&3,K.Lc=Y[Z+0]>>4&3,Z=Y[Z+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||Z)_=0;else if(Se.put=Mt,Se.ac=Qo,Se.bc=Hl,Se.ma=K,Se.width=_.width,Se.height=_.height,Se.Da=_.Da,Se.v=_.v,Se.va=_.va,Se.j=_.j,Se.o=_.o,K.$a)e:{t(K.$a==1),_=Rd();t:for(;;){if(_==null){_=0;break e}if(t(K!=null),K.mc=_,_.c=K.c,_.i=K.i,_.l=K.l,_.l.ma=K,_.l.width=K.c,_.l.height=K.i,_.a=0,G(_.m,Y,te,be),!el(K.c,K.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&uo(_.s)?(K.ic=1,Y=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(Y),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(K.ic=0,_=Fd(_,K.c)),!_))break t;_=1;break e}K.mc=null,_=0}else _=be>=K.c*K.i;K=!_}if(K)return null;b.ga.Lc!=1?b.Ga=0:I=W-M}t(b.ga!=null),t(M+I<=W);e:{if(_=(Y=b.ga).c,W=Y.l.o,Y.$a==0){if(te=b.rc,be=b.Vc,Se=b.Fa,Z=b.P+1+M*_,ee=b.mb,xe=b.nb+M*_,t(Z<=b.P+b.qc),Y.Z!=0)for(t(fu[Y.Z]!=null),K=0;K<I;++K)fu[Y.Z](te,be,Se,Z,ee,xe,_),te=ee,be=xe,xe+=_,Z+=_;else for(K=0;K<I;++K)n(ee,xe,Se,Z,_),te=ee,be=xe,xe+=_,Z+=_;b.rc=te,b.Vc=be}else{if(t(Y.mc!=null),_=M+I,t((K=Y.mc)!=null),t(_<=K.i),K.C>=_)_=1;else if(Y.ic||As(),Y.ic){Y=K.V,te=K.Ba,be=K.c;var Te=K.i,Ae=(Se=1,Z=K.$/be,ee=K.$%be,xe=K.m,ke=K.s,K.$),Oe=be*Te,De=be*_,Ke=ke.wc,qe=Ae<De?Mi(ke,ee,Z):null;t(Ae<=Oe),t(_<=Te),t(uo(ke));t:for(;;){for(;!xe.h&&Ae<De;){if(ee&Ke||(qe=Mi(ke,ee,Z)),t(qe!=null),ce(xe),256>(Te=kn(qe.G[0],qe.H[0],xe)))Y[te+Ae]=Te,++Ae,++ee>=be&&(ee=0,++Z<=_&&!(Z%16)&&fo(K,Z));else{if(!(280>Te)){Se=0;break t}Te=Ns(Te-256,xe);var Pt,pt=kn(qe.G[4],qe.H[4],xe);if(ce(xe),!(Ae>=(pt=Ss(be,pt=Ns(pt,xe)))&&Oe-Ae>=Te)){Se=0;break t}for(Pt=0;Pt<Te;++Pt)Y[te+Ae+Pt]=Y[te+Ae+Pt-pt];for(Ae+=Te,ee+=Te;ee>=be;)ee-=be,++Z<=_&&!(Z%16)&&fo(K,Z);Ae<De&&ee&Ke&&(qe=Mi(ke,ee,Z))}t(xe.h==ae(xe))}fo(K,Z>_?_:Z);break t}!Se||xe.h&&Ae<Oe?(Se=0,K.a=xe.h?5:3):K.$=Ae,_=Se}else _=ho(K,K.V,K.Ba,K.c,K.i,_,Sh);if(!_){I=0;break e}}M+I>=W&&(b.Cc=1),I=1}if(!I)return null;if(b.Cc&&((I=b.ga)!=null&&(I.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+M*z}function ln(b,_,M,I,z,W){for(;0<z--;){var K,Y=b,Z=_+(M?1:0),ee=b,xe=_+(M?0:3);for(K=0;K<I;++K){var ke=ee[xe+4*K];ke!=255&&(ke*=32897,Y[Z+4*K+0]=Y[Z+4*K+0]*ke>>23,Y[Z+4*K+1]=Y[Z+4*K+1]*ke>>23,Y[Z+4*K+2]=Y[Z+4*K+2]*ke>>23)}_+=W}}function li(b,_,M,I,z){for(;0<I--;){var W;for(W=0;W<M;++W){var K=b[_+2*W+0],Y=15&(ee=b[_+2*W+1]),Z=4369*Y,ee=(240&ee|ee>>4)*Z>>16;b[_+2*W+0]=(240&K|K>>4)*Z>>16&240|(15&K|K<<4)*Z>>16>>4&15,b[_+2*W+1]=240&ee|Y}_+=z}}function ri(b,_,M,I,z,W,K,Y){var Z,ee,xe=255;for(ee=0;ee<z;++ee){for(Z=0;Z<I;++Z){var ke=b[_+Z];W[K+4*Z]=ke,xe&=ke}_+=M,K+=Y}return xe!=255}function Li(b,_,M,I,z){var W;for(W=0;W<z;++W)M[I+W]=b[_+W]>>8}function As(){Hg=ln,AE=li,kE=ri,CE=Li}function Ca(b,_,M){O[b]=function(I,z,W,K,Y,Z,ee,xe,ke,te,be,Se,Te,Ae,Oe,De,Ke){var qe,Pt=Ke-1>>1,pt=Y[Z+0]|ee[xe+0]<<16,nr=ke[te+0]|be[Se+0]<<16;t(I!=null);var vt=3*pt+nr+131074>>2;for(_(I[z+0],255&vt,vt>>16,Te,Ae),W!=null&&(vt=3*nr+pt+131074>>2,_(W[K+0],255&vt,vt>>16,Oe,De)),qe=1;qe<=Pt;++qe){var pr=Y[Z+qe]|ee[xe+qe]<<16,ui=ke[te+qe]|be[Se+qe]<<16,ir=pt+pr+nr+ui+524296,bt=ir+2*(pr+nr)>>3;vt=bt+pt>>1,pt=(ir=ir+2*(pt+ui)>>3)+pr>>1,_(I[z+2*qe-1],255&vt,vt>>16,Te,Ae+(2*qe-1)*M),_(I[z+2*qe-0],255&pt,pt>>16,Te,Ae+(2*qe-0)*M),W!=null&&(vt=ir+nr>>1,pt=bt+ui>>1,_(W[K+2*qe-1],255&vt,vt>>16,Oe,De+(2*qe-1)*M),_(W[K+2*qe+0],255&pt,pt>>16,Oe,De+(2*qe+0)*M)),pt=pr,nr=ui}1&Ke||(vt=3*pt+nr+131074>>2,_(I[z+Ke-1],255&vt,vt>>16,Te,Ae+(Ke-1)*M),W!=null&&(vt=3*nr+pt+131074>>2,_(W[K+Ke-1],255&vt,vt>>16,Oe,De+(Ke-1)*M)))}}function Tv(){Es[Iv]=aQ,Es[Dv]=BE,Es[IE]=sQ,Es[Rv]=UE,Es[Fv]=zE,Es[QN]=VE,Es[DE]=oQ,Es[JN]=BE,Es[e5]=UE,Es[$v]=zE,Es[t5]=VE}function Oh(b){return b&~lQ?0>b?0:255:b>>qE}function Gd(b,_){return Oh((19077*b>>8)+(26149*_>>8)-14234)}function nu(b,_,M){return Oh((19077*b>>8)-(6419*_>>8)-(13320*M>>8)+8708)}function Yd(b,_){return Oh((19077*b>>8)+(33050*_>>8)-17685)}function Xd(b,_,M,I,z){I[z+0]=Gd(b,M),I[z+1]=nu(b,_,M),I[z+2]=Yd(b,_)}function Zd(b,_,M,I,z){I[z+0]=Yd(b,_),I[z+1]=nu(b,_,M),I[z+2]=Gd(b,M)}function Yi(b,_,M,I,z){var W=nu(b,_,M);_=W<<3&224|Yd(b,_)>>3,I[z+0]=248&Gd(b,M)|W>>5,I[z+1]=_}function Qd(b,_,M,I,z){var W=240&Yd(b,_)|15;I[z+0]=240&Gd(b,M)|nu(b,_,M)>>4,I[z+1]=W}function Jd(b,_,M,I,z){I[z+0]=255,Xd(b,_,M,I,z+1)}function Dg(b,_,M,I,z){Zd(b,_,M,I,z),I[z+3]=255}function Rg(b,_,M,I,z){Xd(b,_,M,I,z),I[z+3]=255}function Cn(b,_){return 0>b?0:b>_?_:b}function Jl(b,_,M){O[b]=function(I,z,W,K,Y,Z,ee,xe,ke){for(var te=xe+(-2&ke)*M;xe!=te;)_(I[z+0],W[K+0],Y[Z+0],ee,xe),_(I[z+1],W[K+0],Y[Z+0],ee,xe+M),z+=2,++K,++Z,xe+=2*M;1&ke&&_(I[z+0],W[K+0],Y[Z+0],ee,xe)}}function Mh(b,_,M){return M==0?b==0?_==0?6:5:_==0?4:0:M}function Ev(b,_,M,I,z){switch(b>>>30){case 3:nf(_,M,I,z,0);break;case 2:Cs(_,M,I,z);break;case 1:Ir(_,M,I,z)}}function ks(b,_){var M,I,z=_.M,W=_.Nb,K=b.oc,Y=b.pc+40,Z=b.oc,ee=b.pc+584,xe=b.oc,ke=b.pc+600;for(M=0;16>M;++M)K[Y+32*M-1]=129;for(M=0;8>M;++M)Z[ee+32*M-1]=129,xe[ke+32*M-1]=129;for(0<z?K[Y-1-32]=Z[ee-1-32]=xe[ke-1-32]=129:(a(K,Y-32-1,127,21),a(Z,ee-32-1,127,9),a(xe,ke-32-1,127,9)),I=0;I<b.za;++I){var te=_.ya[_.aa+I];if(0<I){for(M=-1;16>M;++M)n(K,Y+32*M-4,K,Y+32*M+12,4);for(M=-1;8>M;++M)n(Z,ee+32*M-4,Z,ee+32*M+4,4),n(xe,ke+32*M-4,xe,ke+32*M+4,4)}var be=b.Gd,Se=b.Hd+I,Te=te.ad,Ae=te.Hc;if(0<z&&(n(K,Y-32,be[Se].y,0,16),n(Z,ee-32,be[Se].f,0,8),n(xe,ke-32,be[Se].ea,0,8)),te.Za){var Oe=K,De=Y-32+16;for(0<z&&(I>=b.za-1?a(Oe,De,be[Se].y[15],4):n(Oe,De,be[Se+1].y,0,4)),M=0;4>M;M++)Oe[De+128+M]=Oe[De+256+M]=Oe[De+384+M]=Oe[De+0+M];for(M=0;16>M;++M,Ae<<=2)Oe=K,De=Y+HE[M],po[te.Ob[M]](Oe,De),Ev(Ae,Te,16*+M,Oe,De)}else if(Oe=Mh(I,z,te.Ob[0]),du[Oe](K,Y),Ae!=0)for(M=0;16>M;++M,Ae<<=2)Ev(Ae,Te,16*+M,K,Y+HE[M]);for(M=te.Gc,Oe=Mh(I,z,te.Dd),rc[Oe](Z,ee),rc[Oe](xe,ke),Ae=Te,Oe=Z,De=ee,255&(te=0|M)&&(170&te?il(Ae,256,Oe,De):rn(Ae,256,Oe,De)),te=xe,Ae=ke,255&(M>>=8)&&(170&M?il(Te,320,te,Ae):rn(Te,320,te,Ae)),z<b.Ub-1&&(n(be[Se].y,0,K,Y+480,16),n(be[Se].f,0,Z,ee+224,8),n(be[Se].ea,0,xe,ke+224,8)),M=8*W*b.B,be=b.sa,Se=b.ta+16*I+16*W*b.R,Te=b.qa,te=b.ra+8*I+M,Ae=b.Ha,Oe=b.Ia+8*I+M,M=0;16>M;++M)n(be,Se+M*b.R,K,Y+32*M,16);for(M=0;8>M;++M)n(Te,te+M*b.B,Z,ee+32*M,8),n(Ae,Oe+M*b.B,xe,ke+32*M,8)}}function ef(b,_,M,I,z,W,K,Y,Z){var ee=[0],xe=[0],ke=0,te=Z!=null?Z.kd:0,be=Z??new Le;if(b==null||12>M)return 7;be.data=b,be.w=_,be.ha=M,_=[_],M=[M],be.gb=[be.gb];e:{var Se=_,Te=M,Ae=be.gb;if(t(b!=null),t(Te!=null),t(Ae!=null),Ae[0]=0,12<=Te[0]&&!r(b,Se[0],"RIFF")){if(r(b,Se[0]+8,"WEBP")){Ae=3;break e}var Oe=ve(b,Se[0]+4);if(12>Oe||4294967286<Oe){Ae=3;break e}if(te&&Oe>Te[0]-8){Ae=7;break e}Ae[0]=Oe,Se[0]+=12,Te[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Oe=0<be.gb[0],M=M[0];;){e:{var De=b;Te=_,Ae=M;var Ke=ee,qe=xe,Pt=Se=[0];if((vt=ke=[ke])[0]=0,8>Ae[0])Ae=7;else{if(!r(De,Te[0],"VP8X")){if(ve(De,Te[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var pt=ve(De,Te[0]+8),nr=1+_e(De,Te[0]+12);if(2147483648<=nr*(De=1+_e(De,Te[0]+15))){Ae=3;break e}Pt!=null&&(Pt[0]=pt),Ke!=null&&(Ke[0]=nr),qe!=null&&(qe[0]=De),Te[0]+=18,Ae[0]-=18,vt[0]=1}Ae=0}}if(ke=ke[0],Se=Se[0],Ae!=0)return Ae;if(Te=!!(2&Se),!Oe&&ke)return 3;if(W!=null&&(W[0]=!!(16&Se)),K!=null&&(K[0]=Te),Y!=null&&(Y[0]=0),K=ee[0],Se=xe[0],ke&&Te&&Z==null){Ae=0;break}if(4>M){Ae=7;break}if(Oe&&ke||!Oe&&!ke&&!r(b,_[0],"ALPH")){M=[M],be.na=[be.na],be.P=[be.P],be.Sa=[be.Sa];e:{pt=b,Ae=_,Oe=M;var vt=be.gb;Ke=be.na,qe=be.P,Pt=be.Sa,nr=22,t(pt!=null),t(Oe!=null),De=Ae[0];var pr=Oe[0];for(t(Ke!=null),t(Pt!=null),Ke[0]=null,qe[0]=null,Pt[0]=0;;){if(Ae[0]=De,Oe[0]=pr,8>pr){Ae=7;break e}var ui=ve(pt,De+4);if(4294967286<ui){Ae=3;break e}var ir=8+ui+1&-2;if(nr+=ir,0<vt&&nr>vt){Ae=3;break e}if(!r(pt,De,"VP8 ")||!r(pt,De,"VP8L")){Ae=0;break e}if(pr[0]<ir){Ae=7;break e}r(pt,De,"ALPH")||(Ke[0]=pt,qe[0]=De+8,Pt[0]=ui),De+=ir,pr-=ir}}if(M=M[0],be.na=be.na[0],be.P=be.P[0],be.Sa=be.Sa[0],Ae!=0)break}M=[M],be.Ja=[be.Ja],be.xa=[be.xa];e:if(vt=b,Ae=_,Oe=M,Ke=be.gb[0],qe=be.Ja,Pt=be.xa,pt=Ae[0],De=!r(vt,pt,"VP8 "),nr=!r(vt,pt,"VP8L"),t(vt!=null),t(Oe!=null),t(qe!=null),t(Pt!=null),8>Oe[0])Ae=7;else{if(De||nr){if(vt=ve(vt,pt+4),12<=Ke&&vt>Ke-12){Ae=3;break e}if(te&&vt>Oe[0]-8){Ae=7;break e}qe[0]=vt,Ae[0]+=8,Oe[0]-=8,Pt[0]=nr}else Pt[0]=5<=Oe[0]&&vt[pt+0]==47&&!(vt[pt+4]>>5),qe[0]=Oe[0];Ae=0}if(M=M[0],be.Ja=be.Ja[0],be.xa=be.xa[0],_=_[0],Ae!=0)break;if(4294967286<be.Ja)return 3;if(Y==null||Te||(Y[0]=be.xa?2:1),K=[K],Se=[Se],be.xa){if(5>M){Ae=7;break}Y=K,te=Se,Te=W,b==null||5>M?b=0:5<=M&&b[_+0]==47&&!(b[_+4]>>5)?(Oe=[0],vt=[0],Ke=[0],G(qe=new q,b,_,M),Kl(qe,Oe,vt,Ke)?(Y!=null&&(Y[0]=Oe[0]),te!=null&&(te[0]=vt[0]),Te!=null&&(Te[0]=Ke[0]),b=1):b=0):b=0}else{if(10>M){Ae=7;break}Y=Se,b==null||10>M||!wv(b,_+3,M-3)?b=0:(te=b[_+0]|b[_+1]<<8|b[_+2]<<16,Te=16383&(b[_+7]<<8|b[_+6]),b=16383&(b[_+9]<<8|b[_+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=be.Ja||!Te||!b?b=0:(K&&(K[0]=Te),Y&&(Y[0]=b),b=1))}if(!b||(K=K[0],Se=Se[0],ke&&(ee[0]!=K||xe[0]!=Se)))return 3;Z!=null&&(Z[0]=be,Z.offset=_-Z.w,t(4294967286>_-Z.w),t(Z.offset==Z.ha-M));break}return Ae==0||Ae==7&&ke&&Z==null?(W!=null&&(W[0]|=be.na!=null&&0<be.na.length),I!=null&&(I[0]=K),z!=null&&(z[0]=Se),0):Ae}function Fg(b,_,M){var I=_.width,z=_.height,W=0,K=0,Y=I,Z=z;if(_.Da=b!=null&&0<b.Da,_.Da&&(Y=b.cd,Z=b.bd,W=b.v,K=b.j,11>M||(W&=-2,K&=-2),0>W||0>K||0>=Y||0>=Z||W+Y>I||K+Z>z))return 0;if(_.v=W,_.j=K,_.va=W+Y,_.o=K+Z,_.U=Y,_.T=Z,_.da=b!=null&&0<b.da,_.da){if(!ct(Y,Z,M=[b.ib],W=[b.hb]))return 0;_.ib=M[0],_.hb=W[0]}return _.ob=b!=null&&b.ob,_.Kb=b==null||!b.Sd,_.da&&(_.ob=_.ib<3*I/4&&_.hb<3*z/4,_.Kb=0),1}function $g(b){if(b==null)return 2;if(11>b.S){var _=b.f.RGBA;_.fb+=(b.height-1)*_.A,_.A=-_.A}else _=b.f.kb,b=b.height,_.O+=(b-1)*_.fa,_.fa=-_.fa,_.N+=(b-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(b-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(b-1)*_.lb,_.lb=-_.lb);return 0}function iu(b,_,M,I){if(I==null||0>=b||0>=_)return 2;if(M!=null){if(M.Da){var z=M.cd,W=M.bd,K=-2&M.v,Y=-2&M.j;if(0>K||0>Y||0>=z||0>=W||K+z>b||Y+W>_)return 2;b=z,_=W}if(M.da){if(!ct(b,_,z=[M.ib],W=[M.hb]))return 2;b=z[0],_=W[0]}}I.width=b,I.height=_;e:{var Z=I.width,ee=I.height;if(b=I.S,0>=Z||0>=ee||!(b>=Iv&&13>b))b=2;else{if(0>=I.Rd&&I.sd==null){K=W=z=_=0;var xe=(Y=Z*KE[b])*ee;if(11>b||(W=(ee+1)/2*(_=(Z+1)/2),b==12&&(K=(z=Z)*ee)),(ee=s(xe+2*W+K))==null){b=1;break e}I.sd=ee,11>b?((Z=I.f.RGBA).eb=ee,Z.fb=0,Z.A=Y,Z.size=xe):((Z=I.f.kb).y=ee,Z.O=0,Z.fa=Y,Z.Fd=xe,Z.f=ee,Z.N=0+xe,Z.Ab=_,Z.Cd=W,Z.ea=ee,Z.W=0+xe+W,Z.Db=_,Z.Ed=W,b==12&&(Z.F=ee,Z.J=0+xe+2*W),Z.Tc=K,Z.lb=z)}if(_=1,z=I.S,W=I.width,K=I.height,z>=Iv&&13>z)if(11>z)b=I.f.RGBA,_&=(Y=Math.abs(b.A))*(K-1)+W<=b.size,_&=Y>=W*KE[z],_&=b.eb!=null;else{b=I.f.kb,Y=(W+1)/2,xe=(K+1)/2,Z=Math.abs(b.fa),ee=Math.abs(b.Ab);var ke=Math.abs(b.Db),te=Math.abs(b.lb),be=te*(K-1)+W;_&=Z*(K-1)+W<=b.Fd,_&=ee*(xe-1)+Y<=b.Cd,_=(_&=ke*(xe-1)+Y<=b.Ed)&Z>=W&ee>=Y&ke>=Y,_&=b.y!=null,_&=b.f!=null,_&=b.ea!=null,z==12&&(_&=te>=W,_&=be<=b.Tc,_&=b.F!=null)}else _=0;b=_?0:2}}return b!=0||M!=null&&M.fd&&(b=$g(I)),b}var tf=64,Wa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ha=24,au=32,ec=8,su=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qe("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(b){return b},O.Predictor2=function(b,_,M){return _[M+0]},O.Predictor3=function(b,_,M){return _[M+1]},O.Predictor4=function(b,_,M){return _[M-1]},O.Predictor5=function(b,_,M){return me(me(b,_[M+1]),_[M+0])},O.Predictor6=function(b,_,M){return me(b,_[M-1])},O.Predictor7=function(b,_,M){return me(b,_[M+0])},O.Predictor8=function(b,_,M){return me(_[M-1],_[M+0])},O.Predictor9=function(b,_,M){return me(_[M+0],_[M+1])},O.Predictor10=function(b,_,M){return me(me(b,_[M-1]),me(_[M+0],_[M+1]))},O.Predictor11=function(b,_,M){var I=_[M+0];return 0>=Me(I>>24&255,b>>24&255,(_=_[M-1])>>24&255)+Me(I>>16&255,b>>16&255,_>>16&255)+Me(I>>8&255,b>>8&255,_>>8&255)+Me(255&I,255&b,255&_)?I:b},O.Predictor12=function(b,_,M){var I=_[M+0];return(Pe((b>>24&255)+(I>>24&255)-((_=_[M-1])>>24&255))<<24|Pe((b>>16&255)+(I>>16&255)-(_>>16&255))<<16|Pe((b>>8&255)+(I>>8&255)-(_>>8&255))<<8|Pe((255&b)+(255&I)-(255&_)))>>>0},O.Predictor13=function(b,_,M){var I=_[M-1];return(Fe((b=me(b,_[M+0]))>>24&255,I>>24&255)<<24|Fe(b>>16&255,I>>16&255)<<16|Fe(b>>8&255,I>>8&255)<<8|Fe(255&b,255&I))>>>0};var Bg=O.PredictorAdd0;O.PredictorAdd1=Re,Qe("Predictor2","PredictorAdd2"),Qe("Predictor3","PredictorAdd3"),Qe("Predictor4","PredictorAdd4"),Qe("Predictor5","PredictorAdd5"),Qe("Predictor6","PredictorAdd6"),Qe("Predictor7","PredictorAdd7"),Qe("Predictor8","PredictorAdd8"),Qe("Predictor9","PredictorAdd9"),Qe("Predictor10","PredictorAdd10"),Qe("Predictor11","PredictorAdd11"),Qe("Predictor12","PredictorAdd12"),Qe("Predictor13","PredictorAdd13");var Lh=O.PredictorAdd2;Ye("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Ye("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var Bn,Ov=O.ColorIndexInverseTransform,rl=O.MapARGB,nl=O.VP8LColorIndexInverseTransformAlpha,Ug=O.MapAlpha,zg=O.VP8LPredictorsAdd=[];zg.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Vg,qg,ou,lu,cu,rf,uu,nf,Cs,il,Ir,rn,Un,ci,tc,Wg,Ih,Mv,wE,jE,NE,SE,_E,PE,Hg,AE,kE,CE,TE=s(511),EE=s(2041),OE=s(225),ME=s(767),LE=0,ZN=EE,Lv=OE,Ka=ME,Ts=TE,Iv=0,Dv=1,IE=2,Rv=3,Fv=4,QN=5,DE=6,JN=7,e5=8,$v=9,t5=10,WZ=[2,3,7],HZ=[3,3,11],RE=[280,256,256,256,40],KZ=[0,1,1,1,0],GZ=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],YZ=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],XZ=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ZZ=8,r5=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],n5=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Kg=null,QZ=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],JZ=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],FE=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],eQ=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],tQ=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],rQ=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],nQ=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],du=[],po=[],rc=[],iQ=1,$E=2,fu=[],Es=[];Ca("UpsampleRgbLinePair",Xd,3),Ca("UpsampleBgrLinePair",Zd,3),Ca("UpsampleRgbaLinePair",Rg,4),Ca("UpsampleBgraLinePair",Dg,4),Ca("UpsampleArgbLinePair",Jd,4),Ca("UpsampleRgba4444LinePair",Qd,2),Ca("UpsampleRgb565LinePair",Yi,2);var aQ=O.UpsampleRgbLinePair,sQ=O.UpsampleBgrLinePair,BE=O.UpsampleRgbaLinePair,UE=O.UpsampleBgraLinePair,zE=O.UpsampleArgbLinePair,VE=O.UpsampleRgba4444LinePair,oQ=O.UpsampleRgb565LinePair,Bv=16,Uv=1<<Bv-1,Gg=-227,i5=482,qE=6,lQ=(256<<qE)-1,WE=0,cQ=s(256),uQ=s(256),dQ=s(256),fQ=s(256),hQ=s(i5-Gg),mQ=s(i5-Gg);Jl("YuvToRgbRow",Xd,3),Jl("YuvToBgrRow",Zd,3),Jl("YuvToRgbaRow",Rg,4),Jl("YuvToBgraRow",Dg,4),Jl("YuvToArgbRow",Jd,4),Jl("YuvToRgba4444Row",Qd,2),Jl("YuvToRgb565Row",Yi,2);var HE=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],zv=[0,2,8],pQ=[8,7,6,4,4,2,2,2,1,1,1,1],gQ=1;this.WebPDecodeRGBA=function(b,_,M,I,z){var W=Dv,K=new je,Y=new tn;K.ba=Y,Y.S=W,Y.width=[Y.width],Y.height=[Y.height];var Z=Y.width,ee=Y.height,xe=new Vt;if(xe==null||b==null)var ke=2;else t(xe!=null),ke=ef(b,_,M,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(ke!=0?Z=0:(Z!=null&&(Z[0]=xe.width[0]),ee!=null&&(ee[0]=xe.height[0]),Z=1),Z){Y.width=Y.width[0],Y.height=Y.height[0],I!=null&&(I[0]=Y.width),z!=null&&(z[0]=Y.height);e:{if(I=new Ah,(z=new Le).data=b,z.w=_,z.ha=M,z.kd=1,_=[0],t(z!=null),((b=ef(z.data,z.w,z.ha,null,null,null,_,null,z))==0||b==7)&&_[0]&&(b=4),(_=b)==0){if(t(K!=null),I.data=z.data,I.w=z.w+z.offset,I.ha=z.ha-z.offset,I.put=Mt,I.ac=Qo,I.bc=Hl,I.ma=K,z.xa){if((b=Rd())==null){K=1;break e}if(function(te,be){var Se=[0],Te=[0],Ae=[0];t:for(;;){if(te==null)return 0;if(be==null)return te.a=2,0;if(te.l=be,te.a=0,G(te.m,be.data,be.w,be.ha),!Kl(te.m,Se,Te,Ae)){te.a=3;break t}if(te.xb=$E,be.width=Se[0],be.height=Te[0],!el(Se[0],Te[0],1,te,null))break t;return 1}return t(te.a!=0),0}(b,I)){if(I=(_=iu(I.width,I.height,K.Oa,K.ba))==0){t:{I=b;r:for(;;){if(I==null){I=0;break t}if(t(I.s.yc!=null),t(I.s.Ya!=null),t(0<I.s.Wb),t((M=I.l)!=null),t((z=M.ma)!=null),I.xb!=0){if(I.ca=z.ba,I.tb=z.tb,t(I.ca!=null),!Fg(z.Oa,M,Rv)){I.a=2;break r}if(!Fd(I,M.width)||M.da)break r;if((M.da||er(I.ca.S))&&As(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&As()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!J(I.s.vb,I.s.Wa.Xa)){I.a=1;break r}I.xb=0}if(!ho(I,I.V,I.Ba,I.c,I.i,M.o,eu))break r;z.Dc=I.Ma,I=1;break t}t(I.a!=0),I=0}I=!I}I&&(_=b.a)}else _=b.a}else{if((b=new DN)==null){K=1;break e}if(b.Fa=z.na,b.P=z.P,b.qc=z.Sa,jv(b,I)){if((_=iu(I.width,I.height,K.Oa,K.ba))==0){if(b.Aa=0,M=K.Oa,t((z=b)!=null),M!=null){if(0<(Z=0>(Z=M.Md)?0:100<Z?255:255*Z/100)){for(ee=xe=0;4>ee;++ee)12>(ke=z.pb[ee]).lc&&(ke.ia=Z*pQ[0>ke.lc?0:ke.lc]>>3),xe|=ke.ia;xe&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=M.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}(function(te,be){if(te==null)return 0;if(be==null)return ei(te,2,"NULL VP8Io parameter in VP8Decode().");if(!te.cb&&!jv(te,be))return 0;if(t(te.cb),be.ac==null||be.ac(be)){be.ob&&(te.L=0);var Se=zv[te.L];if(te.L==2?(te.yb=0,te.zb=0):(te.yb=be.v-Se>>4,te.zb=be.j-Se>>4,0>te.yb&&(te.yb=0),0>te.zb&&(te.zb=0)),te.Va=be.o+15+Se>>4,te.Hb=be.va+15+Se>>4,te.Hb>te.za&&(te.Hb=te.za),te.Va>te.Ub&&(te.Va=te.Ub),0<te.L){var Te=te.ed;for(Se=0;4>Se;++Se){var Ae;if(te.Qa.Cb){var Oe=te.Qa.Lb[Se];te.Qa.Fb||(Oe+=Te.Tb)}else Oe=Te.Tb;for(Ae=0;1>=Ae;++Ae){var De=te.gd[Se][Ae],Ke=Oe;if(Te.Pc&&(Ke+=Te.vd[0],Ae&&(Ke+=Te.od[0])),0<(Ke=0>Ke?0:63<Ke?63:Ke)){var qe=Ke;0<Te.wb&&(qe=4<Te.wb?qe>>2:qe>>1)>9-Te.wb&&(qe=9-Te.wb),1>qe&&(qe=1),De.dd=qe,De.tc=2*Ke+qe,De.ld=40<=Ke?2:15<=Ke?1:0}else De.tc=0;De.La=Ae}}}Se=0}else ei(te,6,"Frame setup failed"),Se=te.a;if(Se=Se==0){if(Se){te.$c=0,0<te.Aa||(te.Ic=gQ);t:{Se=te.Ic,Te=4*(qe=te.za);var Pt=32*qe,pt=qe+1,nr=0<te.L?qe*(0<te.Aa?2:1):0,vt=(te.Aa==2?2:1)*qe;if((De=Te+832+(Ae=3*(16*Se+zv[te.L])/2*Pt)+(Oe=te.Fa!=null&&0<te.Fa.length?te.Kc.c*te.Kc.i:0))!=De)Se=0;else{if(De>te.Vb){if(te.Vb=0,te.Ec=s(De),te.Fc=0,te.Ec==null){Se=ei(te,1,"no memory during frame initialization.");break t}te.Vb=De}De=te.Ec,Ke=te.Fc,te.Ac=De,te.Bc=Ke,Ke+=Te,te.Gd=o(Pt,vv),te.Hd=0,te.rb=o(pt+1,_g),te.sb=1,te.wa=nr?o(nr,Ps):null,te.Y=0,te.D.Nb=0,te.D.wa=te.wa,te.D.Y=te.Y,0<te.Aa&&(te.D.Y+=qe),t(!0),te.oc=De,te.pc=Ke,Ke+=832,te.ya=o(vt,Pg),te.aa=0,te.D.ya=te.ya,te.D.aa=te.aa,te.Aa==2&&(te.D.aa+=qe),te.R=16*qe,te.B=8*qe,qe=(Pt=zv[te.L])*te.R,Pt=Pt/2*te.B,te.sa=De,te.ta=Ke+qe,te.qa=te.sa,te.ra=te.ta+16*Se*te.R+Pt,te.Ha=te.qa,te.Ia=te.ra+8*Se*te.B+Pt,te.$c=0,Ke+=Ae,te.mb=Oe?De:null,te.nb=Oe?Ke:null,t(Ke+Oe<=te.Fc+te.Vb),$d(te),a(te.Ac,te.Bc,0,Te),Se=1}}if(Se){if(be.ka=0,be.y=te.sa,be.O=te.ta,be.f=te.qa,be.N=te.ra,be.ea=te.Ha,be.Vd=te.Ia,be.fa=te.R,be.Rc=te.B,be.F=null,be.J=0,!LE){for(Se=-255;255>=Se;++Se)TE[255+Se]=0>Se?-Se:Se;for(Se=-1020;1020>=Se;++Se)EE[1020+Se]=-128>Se?-128:127<Se?127:Se;for(Se=-112;112>=Se;++Se)OE[112+Se]=-16>Se?-16:15<Se?15:Se;for(Se=-255;510>=Se;++Se)ME[255+Se]=0>Se?0:255<Se?255:Se;LE=1}uu=Sv,nf=FN,il=$N,Ir=tl,rn=Nv,Cs=RN,Un=Av,ci=kv,tc=T,Wg=U,Ih=Kd,Mv=Cv,wE=ne,jE=de,NE=Ig,SE=Hd,_E=_v,PE=Pv,po[0]=HN,po[1]=kg,po[2]=qN,po[3]=WN,po[4]=KN,po[5]=Xl,po[6]=Yl,po[7]=GN,po[8]=kh,po[9]=YN,du[0]=ru,du[1]=UN,du[2]=zN,du[3]=Cg,du[4]=VN,du[5]=zd,du[6]=Tg,rc[0]=Th,rc[1]=BN,rc[2]=Eg,rc[3]=Vd,rc[4]=Og,rc[5]=XN,rc[6]=Mg,Se=1}else Se=0}Se&&(Se=function(pr,ui){for(pr.M=0;pr.M<pr.Va;++pr.M){var ir,bt=pr.Jc[pr.M&pr.Xb],rt=pr.m,zn=pr;for(ir=0;ir<zn.za;++ir){var tr=rt,wr=zn,fn=wr.Ac,Ii=wr.Bc+4*ir,ha=wr.zc,Tn=wr.ya[wr.aa+ir];if(wr.Qa.Bb?Tn.$b=ye(tr,wr.Pa.jb[0])?2+ye(tr,wr.Pa.jb[2]):ye(tr,wr.Pa.jb[1]):Tn.$b=0,wr.kc&&(Tn.Ad=ye(tr,wr.Bd)),Tn.Za=!ye(tr,145)+0,Tn.Za){var Xi=Tn.Ob,ma=0;for(wr=0;4>wr;++wr){var di,_r=ha[0+wr];for(di=0;4>di;++di){_r=tQ[fn[Ii+di]][_r];for(var zr=FE[ye(tr,_r[0])];0<zr;)zr=FE[2*zr+ye(tr,_r[zr])];_r=-zr,fn[Ii+di]=_r}n(Xi,ma,fn,Ii,4),ma+=4,ha[0+wr]=_r}}else _r=ye(tr,156)?ye(tr,128)?1:3:ye(tr,163)?2:0,Tn.Ob[0]=_r,a(fn,Ii,_r,4),a(ha,0,_r,4);Tn.Dd=ye(tr,142)?ye(tr,114)?ye(tr,183)?1:3:2:0}if(zn.m.Ka)return ei(pr,7,"Premature end-of-partition0 encountered.");for(;pr.ja<pr.za;++pr.ja){if(zn=bt,tr=(rt=pr).rb[rt.sb-1],fn=rt.rb[rt.sb+rt.ja],ir=rt.ya[rt.aa+rt.ja],Ii=rt.kc?ir.Ad:0)tr.la=fn.la=0,ir.Za||(tr.Na=fn.Na=0),ir.Hc=0,ir.Gc=0,ir.ia=0;else{var En,Vr;if(tr=fn,fn=zn,Ii=rt.Pa.Xc,ha=rt.ya[rt.aa+rt.ja],Tn=rt.pb[ha.$b],wr=ha.ad,Xi=0,ma=rt.rb[rt.sb-1],_r=di=0,a(wr,Xi,0,384),ha.Za)var Di=0,go=Ii[3];else{zr=s(16);var Vn=tr.Na+ma.Na;if(Vn=Kg(fn,Ii[1],Vn,Tn.Eb,0,zr,0),tr.Na=ma.Na=(0<Vn)+0,1<Vn)uu(zr,0,wr,Xi);else{var Ta=zr[0]+3>>3;for(zr=0;256>zr;zr+=16)wr[Xi+zr]=Ta}Di=1,go=Ii[0]}var nn=15&tr.la,fi=15&ma.la;for(zr=0;4>zr;++zr){var Ga=1&fi;for(Ta=Vr=0;4>Ta;++Ta)nn=nn>>1|(Ga=(Vn=Kg(fn,go,Vn=Ga+(1&nn),Tn.Sc,Di,wr,Xi))>Di)<<7,Vr=Vr<<2|(3<Vn?3:1<Vn?2:wr[Xi+0]!=0),Xi+=16;nn>>=4,fi=fi>>1|Ga<<7,di=(di<<8|Vr)>>>0}for(go=nn,Di=fi>>4,En=0;4>En;En+=2){for(Vr=0,nn=tr.la>>4+En,fi=ma.la>>4+En,zr=0;2>zr;++zr){for(Ga=1&fi,Ta=0;2>Ta;++Ta)Vn=Ga+(1&nn),nn=nn>>1|(Ga=0<(Vn=Kg(fn,Ii[2],Vn,Tn.Qc,0,wr,Xi)))<<3,Vr=Vr<<2|(3<Vn?3:1<Vn?2:wr[Xi+0]!=0),Xi+=16;nn>>=2,fi=fi>>1|Ga<<5}_r|=Vr<<4*En,go|=nn<<4<<En,Di|=(240&fi)<<En}tr.la=go,ma.la=Di,ha.Hc=di,ha.Gc=_r,ha.ia=43690&_r?0:Tn.ia,Ii=!(di|_r)}if(0<rt.L&&(rt.wa[rt.Y+rt.ja]=rt.gd[ir.$b][ir.Za],rt.wa[rt.Y+rt.ja].La|=!Ii),zn.Ka)return ei(pr,7,"Premature end-of-file encountered.")}if($d(pr),rt=ui,zn=1,ir=(bt=pr).D,tr=0<bt.L&&bt.M>=bt.zb&&bt.M<=bt.Va,bt.Aa==0)t:{if(ir.M=bt.M,ir.uc=tr,ks(bt,ir),zn=1,ir=(Vr=bt.D).Nb,tr=(_r=zv[bt.L])*bt.R,fn=_r/2*bt.B,zr=16*ir*bt.R,Ta=8*ir*bt.B,Ii=bt.sa,ha=bt.ta-tr+zr,Tn=bt.qa,wr=bt.ra-fn+Ta,Xi=bt.Ha,ma=bt.Ia-fn+Ta,fi=(nn=Vr.M)==0,di=nn>=bt.Va-1,bt.Aa==2&&ks(bt,Vr),Vr.uc)for(Ga=(Vn=bt).D.M,t(Vn.D.uc),Vr=Vn.yb;Vr<Vn.Hb;++Vr){Di=Vr,go=Ga;var pa=(Ya=(Ri=Vn).D).Nb;En=Ri.R;var Ya=Ya.wa[Ya.Y+Di],Xa=Ri.sa,Ea=Ri.ta+16*pa*En+16*Di,Za=Ya.dd,cn=Ya.tc;if(cn!=0)if(t(3<=cn),Ri.L==1)0<Di&&SE(Xa,Ea,En,cn+4),Ya.La&&PE(Xa,Ea,En,cn),0<go&&NE(Xa,Ea,En,cn+4),Ya.La&&_E(Xa,Ea,En,cn);else{var Qa=Ri.B,xo=Ri.qa,af=Ri.ra+8*pa*Qa+8*Di,nc=Ri.Ha,Ri=Ri.Ia+8*pa*Qa+8*Di;pa=Ya.ld,0<Di&&(ci(Xa,Ea,En,cn+4,Za,pa),Wg(xo,af,nc,Ri,Qa,cn+4,Za,pa)),Ya.La&&(Mv(Xa,Ea,En,cn,Za,pa),jE(xo,af,nc,Ri,Qa,cn,Za,pa)),0<go&&(Un(Xa,Ea,En,cn+4,Za,pa),tc(xo,af,nc,Ri,Qa,cn+4,Za,pa)),Ya.La&&(Ih(Xa,Ea,En,cn,Za,pa),wE(xo,af,nc,Ri,Qa,cn,Za,pa))}}if(bt.ia&&alert("todo:DitherRow"),rt.put!=null){if(Vr=16*nn,nn=16*(nn+1),fi?(rt.y=bt.sa,rt.O=bt.ta+zr,rt.f=bt.qa,rt.N=bt.ra+Ta,rt.ea=bt.Ha,rt.W=bt.Ia+Ta):(Vr-=_r,rt.y=Ii,rt.O=ha,rt.f=Tn,rt.N=wr,rt.ea=Xi,rt.W=ma),di||(nn-=_r),nn>rt.o&&(nn=rt.o),rt.F=null,rt.J=null,bt.Fa!=null&&0<bt.Fa.length&&Vr<nn&&(rt.J=ti(bt,rt,Vr,nn-Vr),rt.F=bt.mb,rt.F==null&&rt.F.length==0)){zn=ei(bt,3,"Could not decode alpha data.");break t}Vr<rt.j&&(_r=rt.j-Vr,Vr=rt.j,t(!(1&_r)),rt.O+=bt.R*_r,rt.N+=bt.B*(_r>>1),rt.W+=bt.B*(_r>>1),rt.F!=null&&(rt.J+=rt.width*_r)),Vr<nn&&(rt.O+=rt.v,rt.N+=rt.v>>1,rt.W+=rt.v>>1,rt.F!=null&&(rt.J+=rt.v),rt.ka=Vr-rt.j,rt.U=rt.va-rt.v,rt.T=nn-Vr,zn=rt.put(rt))}ir+1!=bt.Ic||di||(n(bt.sa,bt.ta-tr,Ii,ha+16*bt.R,tr),n(bt.qa,bt.ra-fn,Tn,wr+8*bt.B,fn),n(bt.Ha,bt.Ia-fn,Xi,ma+8*bt.B,fn))}if(!zn)return ei(pr,6,"Output aborted.")}return 1}(te,be)),be.bc!=null&&be.bc(be),Se&=1}return Se?(te.cb=0,Se):0})(b,I)||(_=b.a)}}else _=b.a}_==0&&K.Oa!=null&&K.Oa.fd&&(_=$g(K.ba))}K=_}W=K!=0?null:11>W?Y.f.RGBA.eb:Y.f.kb.y}else W=null;return W};var KE=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(O,D){for(var E="",k=0;k<4;k++)E+=String.fromCharCode(O[D++]);return E}function d(O,D){return O[D+0]|O[D+1]<<8}function f(O,D){return(O[D+0]|O[D+1]<<8|O[D+2]<<16)>>>0}function h(O,D){return(O[D+0]|O[D+1]<<8|O[D+2]<<16|O[D+3]<<24)>>>0}new c;var m=[0],g=[0],x=[],v=new c,p=e,y=function(O,D){var E={},k=0,R=!1,L=0,H=0;if(E.frames=[],!function($,q){for(var Q=0;Q<4;Q++)if($[q+Q]!="RIFF".charCodeAt(Q))return!0;return!1}(O,D)){for(h(O,D+=4),D+=8;D<O.length;){var F=u(O,D),V=h(O,D+=4);D+=4;var B=V+(1&V);switch(F){case"VP8 ":case"VP8L":E.frames[k]===void 0&&(E.frames[k]={}),(fe=E.frames[k]).src_off=R?H:D-8,fe.src_size=L+V+8,k++,R&&(R=!1,L=0,H=0);break;case"VP8X":(fe=E.header={}).feature_flags=O[D];var G=D+4;fe.canvas_width=1+f(O,G),G+=3,fe.canvas_height=1+f(O,G),G+=3;break;case"ALPH":R=!0,L=B+8,H=D-8;break;case"ANIM":(fe=E.header).bgcolor=h(O,D),G=D+4,fe.loop_count=d(O,G),G+=2;break;case"ANMF":var le,fe;(fe=E.frames[k]={}).offset_x=2*f(O,D),D+=3,fe.offset_y=2*f(O,D),D+=3,fe.width=1+f(O,D),D+=3,fe.height=1+f(O,D),D+=3,fe.duration=f(O,D),D+=3,le=O[D++],fe.dispose=1&le,fe.blend=le>>1&1}F!="ANMF"&&(D+=B)}return E}}(p,0);y.response=p,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,j=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,m=[w.canvas_height],g=[w.canvas_width];for(var S=0;S<j.length&&j[S].blend!=0;S++);}var P=j[0],A=v.WebPDecodeRGBA(p,P.src_off,P.src_size,g,m);P.rgba=A,P.imgwidth=g[0],P.imgheight=m[0];for(var C=0;C<g[0]*m[0]*4;C++)x[C]=A[C];return this.width=g,this.height=m,this.data=x,this}(function(e){var t,r,n,a,s,o,l,c,u,d=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new c,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new o,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new o,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=$;Object.defineProperty(this,"pdf",{get:function(){return q}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(ve){Q=!!ve}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(ve){ae=!!ve}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(ve){isNaN(ve)||(ue=ve)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(ve){isNaN(ve)||(ce=ve)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ve){var J;typeof ve=="number"?J=[ve,ve,ve,ve]:((J=new Array(4))[0]=ve[0],J[1]=ve.length>=2?ve[1]:J[0],J[2]=ve.length>=3?ve[2]:J[0],J[3]=ve.length>=4?ve[3]:J[1]),u.margin=J}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(ve){we=ve}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(ve){oe=ve}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(ve){ye=ve}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ve){ve instanceof d&&(u=ve)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ve){u.path=ve}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(ve){Ne=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var J;J=h(ve),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var J=h(ve);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var pe=null,_e=null;Object.defineProperty(this,"fontFaces",{get:function(){return _e},set:function(ve){pe=null,_e=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var J;if(this.ctx.font=ve,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var ut=J[1];J[2];var at=J[3],ct=J[4];J[5];var $e=J[6],dt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ct)[2];ct=Math.floor(dt==="px"?parseFloat(ct)*this.pdf.internal.scaleFactor:dt==="em"?parseFloat(ct)*this.pdf.getFontSize():parseFloat(ct)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ct);var Qe=function(ze){var Ye,or,Jt=[],mt=ze.trim();if(mt==="")return HS;if(mt in m8)return[m8[mt]];for(;mt!=="";){switch(or=null,Ye=(mt=g8(mt)).charAt(0)){case'"':case"'":or=q0e(mt.substring(1),Ye);break;default:or=W0e(mt)}if(or===null||(Jt.push(or[0]),(mt=g8(or[1]))!==""&&mt.charAt(0)!==","))return HS;mt=mt.replace(/^,/,"")}return Jt}($e);if(this.fontFaces){var ie=function(ze,Ye){if(pe===null){var or=function(Jt){var mt=[];return Object.keys(Jt).forEach(function(Dt){Jt[Dt].forEach(function(Sr){var Et=null;switch(Sr){case"bold":Et={family:Dt,weight:"bold"};break;case"italic":Et={family:Dt,style:"italic"};break;case"bolditalic":Et={family:Dt,weight:"bold",style:"italic"};break;case"":case"normal":Et={family:Dt}}Et!==null&&(Et.ref={name:Dt,style:Sr},mt.push(Et))})}),mt}(ze.getFontList());pe=function(Jt){for(var mt={},Dt=0;Dt<Jt.length;++Dt){var Sr=WS(Jt[Dt]),Et=Sr.family,cr=Sr.stretch,er=Sr.style,Fn=Sr.weight;mt[Et]=mt[Et]||{},mt[Et][cr]=mt[Et][cr]||{},mt[Et][cr][er]=mt[Et][cr][er]||{},mt[Et][cr][er][Fn]=Sr}return mt}(or.concat(Ye))}return pe}(this.pdf,this.fontFaces),me=Qe.map(function(ze){return{family:ze,stretch:"normal",weight:at,style:ut}}),Pe=function(ze,Ye,or){for(var Jt=(or=or||{}).defaultFontFamily||"times",mt=Object.assign({},V0e,or.genericFontFamilies||{}),Dt=null,Sr=null,Et=0;Et<Ye.length;++Et)if(mt[(Dt=WS(Ye[Et])).family]&&(Dt.family=mt[Dt.family]),ze.hasOwnProperty(Dt.family)){Sr=ze[Dt.family];break}if(!(Sr=Sr||ze[Jt]))throw new Error("Could not find a font-family for the rule '"+p8(Dt)+"' and default family '"+Jt+"'.");if(Sr=function(cr,er){if(er[cr])return er[cr];var Fn=ZA[cr],oi=Fn<=ZA.normal?-1:1,tn=h8(er,$H,Fn,oi);if(!tn)throw new Error("Could not find a matching font-stretch value for "+cr);return tn}(Dt.stretch,Sr),Sr=function(cr,er){if(er[cr])return er[cr];for(var Fn=FH[cr],oi=0;oi<Fn.length;++oi)if(er[Fn[oi]])return er[Fn[oi]];throw new Error("Could not find a matching font-style for "+cr)}(Dt.style,Sr),!(Sr=function(cr,er){if(er[cr])return er[cr];if(cr===400&&er[500])return er[500];if(cr===500&&er[400])return er[400];var Fn=z0e[cr],oi=h8(er,BH,Fn,cr<400?-1:1);if(!oi)throw new Error("Could not find a matching font-weight for value "+cr);return oi}(Dt.weight,Sr)))throw new Error("Failed to resolve a font for the rule '"+p8(Dt)+"'.");return Sr}(ie,me);this.pdf.setFont(Pe.ref.name,Pe.ref.style)}else{var Fe="";(at==="bold"||parseInt(at,10)>=700||ut==="bold")&&(Fe="bold"),ut==="italic"&&(Fe+="italic"),Fe.length===0&&(Fe="normal");for(var Me="",Re={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ue=0;Ue<Qe.length;Ue++){if(this.pdf.internal.getFont(Qe[Ue],Fe,{noFallback:!0,disableWarning:!0})!==void 0){Me=Qe[Ue];break}if(Fe==="bolditalic"&&this.pdf.internal.getFont(Qe[Ue],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Me=Qe[Ue],Fe="bold";else if(this.pdf.internal.getFont(Qe[Ue],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Me=Qe[Ue],Fe="normal";break}}if(Me===""){for(var he=0;he<Qe.length;he++)if(Re[Qe[he]]){Me=Re[Qe[he]];break}}Me=Me===""?"Times":Me,this.pdf.setFont(Me,Fe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,fe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,fe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};f.prototype.setLineDash=function($){this.lineDash=$},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){j.call(this,"fill",!1)},f.prototype.stroke=function(){j.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function($,q){if(isNaN($)||isNaN(q))throw an.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o($,q));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o($,q)},f.prototype.closePath=function(){var $=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Wr(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){$=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o($.x,$.y)},f.prototype.lineTo=function($,q){if(isNaN($)||isNaN(q))throw an.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o($,q));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},f.prototype.quadraticCurveTo=function($,q,Q,ae){if(isNaN(Q)||isNaN(ae)||isNaN($)||isNaN(q))throw an.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new o(Q,ae)),ce=this.ctx.transform.applyToPoint(new o($,q));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},f.prototype.bezierCurveTo=function($,q,Q,ae,ue,ce){if(isNaN(ue)||isNaN(ce)||isNaN($)||isNaN(q)||isNaN(Q)||isNaN(ae))throw an.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new o(ue,ce)),oe=this.ctx.transform.applyToPoint(new o($,q)),ye=this.ctx.transform.applyToPoint(new o(Q,ae));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:ye.x,y2:ye.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},f.prototype.arc=function($,q,Q,ae,ue,ce){if(isNaN($)||isNaN(q)||isNaN(Q)||isNaN(ae)||isNaN(ue))throw an.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new o($,q));$=we.x,q=we.y;var oe=this.ctx.transform.applyToPoint(new o(0,Q)),ye=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(oe.x-ye.x,2)+Math.pow(oe.y-ye.y,2))}Math.abs(ue-ae)>=2*Math.PI&&(ae=0,ue=2*Math.PI),this.path.push({type:"arc",x:$,y:q,radius:Q,startAngle:ae,endAngle:ue,counterclockwise:ce})},f.prototype.arcTo=function($,q,Q,ae,ue){throw new Error("arcTo not implemented.")},f.prototype.rect=function($,q,Q,ae){if(isNaN($)||isNaN(q)||isNaN(Q)||isNaN(ae))throw an.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,q),this.lineTo($+Q,q),this.lineTo($+Q,q+ae),this.lineTo($,q+ae),this.lineTo($,q),this.lineTo($+Q,q),this.lineTo($,q)},f.prototype.fillRect=function($,q,Q,ae){if(isNaN($)||isNaN(q)||isNaN(Q)||isNaN(ae))throw an.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,q,Q,ae),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},f.prototype.strokeRect=function($,q,Q,ae){if(isNaN($)||isNaN(q)||isNaN(Q)||isNaN(ae))throw an.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect($,q,Q,ae),this.stroke())},f.prototype.clearRect=function($,q,Q,ae){if(isNaN($)||isNaN(q)||isNaN(Q)||isNaN(ae))throw an.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,q,Q,ae))},f.prototype.save=function($){$=typeof $!="boolean"||$;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},f.prototype.restore=function($){$=typeof $!="boolean"||$;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(q),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function($){var q,Q,ae,ue;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))q=0,Q=0,ae=0,ue=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(ce!==null)q=parseInt(ce[1]),Q=parseInt(ce[2]),ae=parseInt(ce[3]),ue=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)q=parseInt(ce[1]),Q=parseInt(ce[2]),ae=parseInt(ce[3]),ue=parseFloat(ce[4]);else{if(ue=1,typeof $=="string"&&$.charAt(0)!=="#"){var we=new EH($);$=we.ok?we.toHex():"#000000"}$.length===4?(q=$.substring(1,2),q+=q,Q=$.substring(2,3),Q+=Q,ae=$.substring(3,4),ae+=ae):(q=$.substring(1,3),Q=$.substring(3,5),ae=$.substring(5,7)),q=parseInt(q,16),Q=parseInt(Q,16),ae=parseInt(ae,16)}}return{r:q,g:Q,b:ae,a:ue,style:$}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function($,q,Q,ae){if(isNaN(q)||isNaN(Q)||typeof $!="string")throw an.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!m.call(this)){var ue=B(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;k.call(this,{text:$,x:q,y:Q,scale:ce,angle:ue,align:this.textAlign,maxWidth:ae})}},f.prototype.strokeText=function($,q,Q,ae){if(isNaN(q)||isNaN(Q)||typeof $!="string")throw an.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){ae=isNaN(ae)?void 0:ae;var ue=B(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;k.call(this,{text:$,x:q,y:Q,scale:ce,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:ae})}},f.prototype.measureText=function($){if(typeof $!="string")throw an.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,Q=this.pdf.internal.scaleFactor,ae=q.internal.getFontSize(),ue=q.getStringUnitWidth($)*ae/q.internal.scaleFactor;return new function(ce){var we=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this}({width:ue*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function($,q){if(isNaN($)||isNaN(q))throw an.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new c($,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function($){if(isNaN($))throw an.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new c(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.translate=function($,q){if(isNaN($)||isNaN(q))throw an.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new c(1,0,0,1,$,q);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function($,q,Q,ae,ue,ce){if(isNaN($)||isNaN(q)||isNaN(Q)||isNaN(ae)||isNaN(ue)||isNaN(ce))throw an.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new c($,q,Q,ae,ue,ce);this.ctx.transform=this.ctx.transform.multiply(we)},f.prototype.setTransform=function($,q,Q,ae,ue,ce){$=isNaN($)?1:$,q=isNaN(q)?0:q,Q=isNaN(Q)?0:Q,ae=isNaN(ae)?1:ae,ue=isNaN(ue)?0:ue,ce=isNaN(ce)?0:ce,this.ctx.transform=new c($,q,Q,ae,ue,ce)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function($,q,Q,ae,ue,ce,we,oe,ye){var Ne=this.pdf.getImageProperties($),pe=1,_e=1,ve=1,J=1;ae!==void 0&&oe!==void 0&&(ve=oe/ae,J=ye/ue,pe=Ne.width/ae*oe/ae,_e=Ne.height/ue*ye/ue),ce===void 0&&(ce=q,we=Q,q=0,Q=0),ae!==void 0&&oe===void 0&&(oe=ae,ye=ue),ae===void 0&&oe===void 0&&(oe=Ne.width,ye=Ne.height);for(var ut,at=this.ctx.transform.decompose(),ct=B(at.rotate.shx),$e=new c,dt=($e=($e=($e=$e.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new l(ce-q*ve,we-Q*J,ae*pe,ue*_e)),Qe=v.call(this,dt),ie=[],me=0;me<Qe.length;me+=1)ie.indexOf(Qe[me])===-1&&ie.push(Qe[me]);if(w(ie),this.autoPaging)for(var Pe=ie[0],Fe=ie[ie.length-1],Me=Pe;Me<Fe+1;Me++){this.pdf.setPage(Me);var Re=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ue=Me===1?this.posY+this.margin[0]:this.margin[0],he=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=Me===1?0:he+(Me-2)*ze;if(this.ctx.clip_path.length!==0){var or=this.path;ut=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ut,this.posX+this.margin[3],-Ye+Ue+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=or}var Jt=JSON.parse(JSON.stringify(dt));Jt=y([Jt],this.posX+this.margin[3],-Ye+Ue+this.ctx.prevPageLastElemOffset)[0];var mt=(Me>Pe||Me<Fe)&&x.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Re,ze,null).clip().discardPath()),this.pdf.addImage($,"JPEG",Jt.x,Jt.y,Jt.w,Jt.h,null,null,ct),mt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage($,"JPEG",dt.x,dt.y,dt.w,dt.h,null,null,ct)};var v=function($,q,Q){var ae=[];q=q||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":ae.push(Math.floor(($.y+ue)/Q)+1);break;case"arc":ae.push(Math.floor(($.y+ue-$.radius)/Q)+1),ae.push(Math.floor(($.y+ue+$.radius)/Q)+1);break;case"qct":var ce=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);ae.push(Math.floor((ce.y+ue)/Q)+1),ae.push(Math.floor((ce.y+ce.h+ue)/Q)+1);break;case"bct":var we=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);ae.push(Math.floor((we.y+ue)/Q)+1),ae.push(Math.floor((we.y+we.h+ue)/Q)+1);break;case"rect":ae.push(Math.floor(($.y+ue)/Q)+1),ae.push(Math.floor(($.y+$.h+ue)/Q)+1)}for(var oe=0;oe<ae.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<ae[oe];)p.call(this);return ae},p=function(){var $=this.fillStyle,q=this.strokeStyle,Q=this.font,ae=this.lineCap,ue=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=q,this.font=Q,this.lineCap=ae,this.lineWidth=ue,this.lineJoin=ce},y=function($,q,Q){for(var ae=0;ae<$.length;ae++)switch($[ae].type){case"bct":$[ae].x2+=q,$[ae].y2+=Q;case"qct":$[ae].x1+=q,$[ae].y1+=Q;default:$[ae].x+=q,$[ae].y+=Q}return $},w=function($){return $.sort(function(q,Q){return q-Q})},j=function($,q){for(var Q,ae,ue=this.fillStyle,ce=this.strokeStyle,we=this.lineCap,oe=this.lineWidth,ye=Math.abs(oe*this.ctx.transform.scaleX),Ne=this.lineJoin,pe=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),ve=[],J=0;J<_e.length;J++)if(_e[J].x!==void 0)for(var ut=v.call(this,_e[J]),at=0;at<ut.length;at+=1)ve.indexOf(ut[at])===-1&&ve.push(ut[at]);for(var ct=0;ct<ve.length;ct++)for(;this.pdf.internal.getNumberOfPages()<ve[ct];)p.call(this);if(w(ve),this.autoPaging)for(var $e=ve[0],dt=ve[ve.length-1],Qe=$e;Qe<dt+1;Qe++){this.pdf.setPage(Qe),this.fillStyle=ue,this.strokeStyle=ce,this.lineCap=we,this.lineWidth=ye,this.lineJoin=Ne;var ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],me=Qe===1?this.posY+this.margin[0]:this.margin[0],Pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Me=Qe===1?0:Pe+(Qe-2)*Fe;if(this.ctx.clip_path.length!==0){var Re=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Q,this.posX+this.margin[3],-Me+me+this.ctx.prevPageLastElemOffset),S.call(this,$,!0),this.path=Re}if(ae=JSON.parse(JSON.stringify(pe)),this.path=y(ae,this.posX+this.margin[3],-Me+me+this.ctx.prevPageLastElemOffset),q===!1||Qe===0){var Ue=(Qe>$e||Qe<dt)&&x.call(this);Ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ie,Fe,null).clip().discardPath()),S.call(this,$,q),Ue&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}else this.lineWidth=ye,S.call(this,$,q),this.lineWidth=oe;this.path=pe},S=function($,q){if(($!=="stroke"||q||!g.call(this))&&($==="stroke"||q||!m.call(this))){for(var Q,ae,ue=[],ce=this.path,we=0;we<ce.length;we++){var oe=ce[we];switch(oe.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:oe,deltas:[],abs:[]});break;case"lt":var ye=ue.length;if(ce[we-1]&&!isNaN(ce[we-1].x)&&(Q=[oe.x-ce[we-1].x,oe.y-ce[we-1].y],ye>0)){for(;ye>=0;ye--)if(ue[ye-1].close!==!0&&ue[ye-1].begin!==!0){ue[ye-1].deltas.push(Q),ue[ye-1].abs.push(oe);break}}break;case"bct":Q=[oe.x1-ce[we-1].x,oe.y1-ce[we-1].y,oe.x2-ce[we-1].x,oe.y2-ce[we-1].y,oe.x-ce[we-1].x,oe.y-ce[we-1].y],ue[ue.length-1].deltas.push(Q);break;case"qct":var Ne=ce[we-1].x+2/3*(oe.x1-ce[we-1].x),pe=ce[we-1].y+2/3*(oe.y1-ce[we-1].y),_e=oe.x+2/3*(oe.x1-oe.x),ve=oe.y+2/3*(oe.y1-oe.y),J=oe.x,ut=oe.y;Q=[Ne-ce[we-1].x,pe-ce[we-1].y,_e-ce[we-1].x,ve-ce[we-1].y,J-ce[we-1].x,ut-ce[we-1].y],ue[ue.length-1].deltas.push(Q);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(oe)}}ae=q?null:$==="stroke"?"stroke":"fill";for(var at=!1,ct=0;ct<ue.length;ct++)if(ue[ct].arc)for(var $e=ue[ct].abs,dt=0;dt<$e.length;dt++){var Qe=$e[dt];Qe.type==="arc"?C.call(this,Qe.x,Qe.y,Qe.radius,Qe.startAngle,Qe.endAngle,Qe.counterclockwise,void 0,q,!at):R.call(this,Qe.x,Qe.y),at=!0}else if(ue[ct].close===!0)this.pdf.internal.out("h"),at=!1;else if(ue[ct].begin!==!0){var ie=ue[ct].start.x,me=ue[ct].start.y;L.call(this,ue[ct].deltas,ie,me),at=!0}ae&&O.call(this,ae),q&&D.call(this)}},P=function($){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-Q;case"top":return $+q-Q;case"hanging":return $+q-2*Q;case"middle":return $+q/2-Q;default:return $}},A=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(q,Q){this.colorStops.push([q,Q])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function($,q,Q,ae,ue,ce,we,oe,ye){for(var Ne=F.call(this,Q,ae,ue,ce),pe=0;pe<Ne.length;pe++){var _e=Ne[pe];pe===0&&(ye?E.call(this,_e.x1+$,_e.y1+q):R.call(this,_e.x1+$,_e.y1+q)),H.call(this,$,q,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}oe?D.call(this):O.call(this,we)},O=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},E=function($,q){this.pdf.internal.out(r($)+" "+n(q)+" m")},k=function($){var q;switch($.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var Q=this.pdf.getTextDimensions($.text),ae=P.call(this,$.y),ue=A.call(this,ae)-Q.h,ce=this.ctx.transform.applyToPoint(new o($.x,ae)),we=this.ctx.transform.decompose(),oe=new c;oe=(oe=(oe=oe.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var ye,Ne,pe,_e=this.ctx.transform.applyToRectangle(new l($.x,ae,Q.w,Q.h)),ve=oe.applyToRectangle(new l($.x,ue,Q.w,Q.h)),J=v.call(this,ve),ut=[],at=0;at<J.length;at+=1)ut.indexOf(J[at])===-1&&ut.push(J[at]);if(w(ut),this.autoPaging)for(var ct=ut[0],$e=ut[ut.length-1],dt=ct;dt<$e+1;dt++){this.pdf.setPage(dt);var Qe=dt===1?this.posY+this.margin[0]:this.margin[0],ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],me=this.pdf.internal.pageSize.height-this.margin[2],Pe=me-this.margin[0],Fe=this.pdf.internal.pageSize.width-this.margin[1],Me=Fe-this.margin[3],Re=dt===1?0:ie+(dt-2)*Pe;if(this.ctx.clip_path.length!==0){var Ue=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ye,this.posX+this.margin[3],-1*Re+Qe),S.call(this,"fill",!0),this.path=Ue}var he=y([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-Re+Qe+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*$.scale),pe=this.lineWidth,this.lineWidth=pe*$.scale);var ze=this.autoPaging!=="text";if(ze||he.y+he.h<=me){if(ze||he.y>=Qe&&he.x<=Fe){var Ye=ze?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||Fe-he.x)[0],or=y([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-Re+Qe+this.ctx.prevPageLastElemOffset)[0],Jt=ze&&(dt>ct||dt<$e)&&x.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,Pe,null).clip().discardPath()),this.pdf.text(Ye,or.x,or.y,{angle:$.angle,align:q,renderingMode:$.renderingMode}),Jt&&this.pdf.restoreGraphicsState()}}else he.y<me&&(this.ctx.prevPageLastElemOffset+=me-he.y);$.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=pe)}else $.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*$.scale),pe=this.lineWidth,this.lineWidth=pe*$.scale),this.pdf.text($.text,ce.x+this.posX,ce.y+this.posY,{angle:$.angle,align:q,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=pe)},R=function($,q,Q,ae){Q=Q||0,ae=ae||0,this.pdf.internal.out(r($+Q)+" "+n(q+ae)+" l")},L=function($,q,Q){return this.pdf.lines($,q,Q,null,null)},H=function($,q,Q,ae,ue,ce,we,oe){this.pdf.internal.out([t(a(Q+$)),t(s(ae+q)),t(a(ue+$)),t(s(ce+q)),t(a(we+$)),t(s(oe+q)),"c"].join(" "))},F=function($,q,Q,ae){for(var ue=2*Math.PI,ce=Math.PI/2;q>Q;)q-=ue;var we=Math.abs(Q-q);we<ue&&ae&&(we=ue-we);for(var oe=[],ye=ae?-1:1,Ne=q;we>1e-5;){var pe=Ne+ye*Math.min(we,ce);oe.push(V.call(this,$,Ne,pe)),we-=Math.abs(pe-Ne),Ne=pe}return oe},V=function($,q,Q){var ae=(Q-q)/2,ue=$*Math.cos(ae),ce=$*Math.sin(ae),we=ue,oe=-ce,ye=we*we+oe*oe,Ne=ye+we*ue+oe*ce,pe=4/3*(Math.sqrt(2*ye*Ne)-Ne)/(we*ce-oe*ue),_e=we-pe*oe,ve=oe+pe*we,J=_e,ut=-ve,at=ae+q,ct=Math.cos(at),$e=Math.sin(at);return{x1:$*Math.cos(q),y1:$*Math.sin(q),x2:_e*ct-ve*$e,y2:_e*$e+ve*ct,x3:J*ct-ut*$e,y3:J*$e+ut*ct,x4:$*Math.cos(Q),y4:$*Math.sin(Q)}},B=function($){return 180*$/Math.PI},G=function($,q,Q,ae,ue,ce){var we=$+.5*(Q-$),oe=q+.5*(ae-q),ye=ue+.5*(Q-ue),Ne=ce+.5*(ae-ce),pe=Math.min($,ue,we,ye),_e=Math.max($,ue,we,ye),ve=Math.min(q,ce,oe,Ne),J=Math.max(q,ce,oe,Ne);return new l(pe,ve,_e-pe,J-ve)},le=function($,q,Q,ae,ue,ce,we,oe){var ye,Ne,pe,_e,ve,J,ut,at,ct,$e,dt,Qe,ie,me,Pe=Q-$,Fe=ae-q,Me=ue-Q,Re=ce-ae,Ue=we-ue,he=oe-ce;for(Ne=0;Ne<41;Ne++)ct=(ut=(pe=$+(ye=Ne/40)*Pe)+ye*((ve=Q+ye*Me)-pe))+ye*(ve+ye*(ue+ye*Ue-ve)-ut),$e=(at=(_e=q+ye*Fe)+ye*((J=ae+ye*Re)-_e))+ye*(J+ye*(ce+ye*he-J)-at),Ne==0?(dt=ct,Qe=$e,ie=ct,me=$e):(dt=Math.min(dt,ct),Qe=Math.min(Qe,$e),ie=Math.max(ie,ct),me=Math.max(me,$e));return new l(Math.round(dt),Math.round(Qe),Math.round(ie-dt),Math.round(me-Qe))},fe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,q,Q=($=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:q}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(At.API),function(e){var t=function(o){var l,c,u,d,f,h,m,g,x,v;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(h=(f=((f=((f=((f=(f-(v=f%85))/85)-(x=f%85))/85)-(g=f%85))/85)-(m=f%85))/85)%85,c.push(h+33,m+33,g+33,x+33,v+33)):c.push(122);return function(p,y){for(var w=y;w>0;w--)p.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,d,f,h=String,m="length",g=255,x="charCodeAt",v="slice",p="replace";for(o[v](-2),o=o[v](0,-2)[p](/\s/g,"")[p]("z","!!!!!"),u=[],d=0,f=(o+=l="uuuuu"[v](o[m]%5||5))[m];f>d;d+=5)c=52200625*(o[x](d)-33)+614125*(o[x](d+1)-33)+7225*(o[x](d+2)-33)+85*(o[x](d+3)-33)+(o[x](d+4)-33),u.push(g&c>>24,g&c>>16,g&c>>8,g&c);return function(y,w){for(var j=w;j>0;j--)y.pop()}(u,l[m]),h.fromCharCode.apply(h,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},s=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=FA(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(At.API),function(e){e.loadFile=function(t,r,n){return function(a,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,h=0,m=function(g){var x=g.length,v=[],p=String.fromCharCode;for(h=0;h<x;h+=1)v.push(p(255&g.charCodeAt(h)));return v.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(m(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return m(f.responseText)}(a,s,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(At.API),function(e){function t(){return(Ft.html2canvas?Promise.resolve(Ft.html2canvas):wS(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Ft.DOMPurify?Promise.resolve(Ft.DOMPurify):wS(()=>import("./purify.es-sOfw8HaZ.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Wr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},s=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var g=d[m],x=g.src.find(function(v){return v.format==="truetype"});x&&u.addFont(x.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,u.context2d.save(!0),c(this.prop.container,h)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||At.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return u.updateProgress(null,d),h}).then(d,f).then(function(h){return u.updateProgress(1),h})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),h=u.call(f,l,c);return o.convert(h,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,At.getPageSize=function(l,c,u){if(Wr(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,h=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var g,x=0,v=0;if(m.hasOwnProperty(h))x=m[h][1]/f,v=m[h][0]/f;else try{x=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",v>x&&(g=v,v=x,x=g);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",x>v&&(g=v,v=x,x=g)}return{width:v,height:x,unit:c,k:f,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(WS):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(At.API),At.API.addJS=function(e){return y8=e,this.internal.events.subscribe("postPutResources",function(){Fb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Fb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),x8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+y8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Fb!==void 0&&x8!==void 0&&this.internal.out("/Names <</JavaScript "+Fb+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var o=a[s],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var o={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(At.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,s,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(f){for(var h,m=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,x={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=m,t.indexOf(f.charCodeAt(v+1))!==-1){h=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),x={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:h,numcomponents:f.charCodeAt(v+9)};break}m=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(At.API),At.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,s=k0e(e,{checkCrc:!0}),o=s.width,l=s.height,c=s.channels,u=s.palette,d=s.depth;a=u&&c===1?function(C){for(var O=C.width,D=C.height,E=C.data,k=C.palette,R=C.depth,L=!1,H=[],F=[],V=void 0,B=!1,G=0,le=0;le<k.length;le++){var fe=fI(k[le],4),$=fe[0],q=fe[1],Q=fe[2],ae=fe[3];H.push($,q,Q),ae!=null&&(ae===0?(G++,F.length<1&&F.push(le)):ae<255&&(B=!0))}if(B||G>1){L=!0,F=void 0;var ue=O*D;V=new Uint8Array(ue);for(var ce=new DataView(E.buffer),we=0;we<ue;we++){var oe=KS(ce,we,R),ye=fI(k[oe],4)[3];V[we]=ye}}else G===0&&(F=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:L?8:void 0,colorBytes:E,alphaBytes:V,needSMask:L,palette:H,mask:F}}(s):c===2||c===4?function(C){for(var O=C.data,D=C.width,E=C.height,k=C.channels,R=C.depth,L=k===2?"DeviceGray":"DeviceRGB",H=k-1,F=D*E,V=H,B=F*V,G=1*F,le=Math.ceil(B*R/8),fe=Math.ceil(G*R/8),$=new Uint8Array(le),q=new Uint8Array(fe),Q=new DataView(O.buffer),ae=new DataView($.buffer),ue=new DataView(q.buffer),ce=!1,we=0;we<F;we++){for(var oe=we*k,ye=0;ye<V;ye++)A8(ae,KS(Q,oe+ye,R),we*V+ye,R);var Ne=KS(Q,oe+V,R);Ne<(1<<R)-1&&(ce=!0),A8(ue,Ne,1*we,R)}return{colorSpace:L,colorsPerPixel:H,sMaskBitsPerComponent:ce?R:void 0,colorBytes:$,alphaBytes:q,needSMask:ce}}(s):function(C){var O=C.data,D=C.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:O instanceof Uint16Array?function(E){for(var k=E.length,R=new Uint8Array(2*k),L=new DataView(R.buffer,R.byteOffset,R.byteLength),H=0;H<k;H++)L.setUint16(2*H,E[H],!1);return R}(O):O,needSMask:!1}}(s);var f,h,m,g=a,x=g.colorSpace,v=g.colorsPerPixel,p=g.sMaskBitsPerComponent,y=g.colorBytes,w=g.alphaBytes,j=g.needSMask,S=g.palette,P=g.mask,A=null;return n!==At.API.image_compression.NONE&&typeof FA=="function"?(A=function(C){var O;switch(C){case At.API.image_compression.FAST:O=11;break;case At.API.image_compression.MEDIUM:O=13;break;case At.API.image_compression.SLOW:O=14;break;default:O=12}return O}(n),f=this.decode.FLATE_DECODE,h="/Predictor ".concat(A," /Colors ").concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(o),e=j8(y,Math.ceil(o*v*d/8),v,d,n),j&&(m=j8(w,Math.ceil(o*p/8),1,p,n))):(f=void 0,h=void 0,e=y,j&&(m=w)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:r,data:e,index:t,filter:f,decodeParameters:h,transparency:P,palette:S,sMask:m,predictor:A,width:o,height:l,bitsPerComponent:d,sMaskBitsPerComponent:p,colorSpace:x}}},function(e){e.processGIF89A=function(t,r,n,a){var s=new Y0e(t),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new GS(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(At.API),vo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){an.log("bit decode error:"+r)}},vo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},vo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},vo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},vo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,u=s>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},vo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*s;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},vo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},vo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},vo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var s=new vo(t,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new GS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(At.API),C8.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var s=new C8(t),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new GS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(At.API),At.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],m=n[u+3];s[l++]=d,s[l++]=f,s[l++]=h,o[c++]=m}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},At.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Kh=At.API,$b=Kh.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,m=e.length,g=0,x=l[0]||c,v=[];for(r=0;r<m;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(h=f&&Wr(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/d:0,v.push((l[n]||x)/c+h)),g=n;return v},v8=Kh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Kh.processArabic&&(e=Kh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:$b.apply(this,arguments).reduce(function(s,o){return s+o},0)},b8=function(e,t,r,n){for(var a=[],s=0,o=e.length,l=0;s!==o&&l+t[s]<r;)l+=t[s],s++;a.push(e.slice(0,s));var c=s;for(l=0;s!==o;)l+t[s]>n&&(a.push(e.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&a.push(e.slice(c,s)),a},w8=function(e,t,r){r||(r={});var n,a,s,o,l,c,u,d=[],f=[d],h=r.textIndent||0,m=0,g=0,x=e.split(" "),v=$b.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var p=Array(c).join(" "),y=[];x.map(function(j){(j=j.split(/\s*\n/)).length>1?y=y.concat(j.map(function(S,P){return(P&&S.length?`
`:"")+S})):y.push(j[0])}),x=y,c=v8.apply(this,[p,r])}for(s=0,o=x.length;s<o;s++){var w=0;if(n=x[s],c&&n[0]==`
`&&(n=n.substr(1),w=1),h+m+(g=(a=$b.apply(this,[n,r])).reduce(function(j,S){return j+S},0))>t||w){if(g>t){for(l=b8.apply(this,[n,a,t-(h+m),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);g=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(j,S){return j+S},0)}else d=[n];f.push(d),h=g+c,m=v}else d.push(n),h+=m+g,m=v}return u=c?function(j,S){return(S?p:"")+j.join(" ")}:function(j){return j.join(" ")},f.map(u)},Kh.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),h="Unicode";return f.metadata[h]?{widths:f.metadata[h].widths||{0:1},kerning:f.metadata[h].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(w8.apply(this,[n[l],o,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},s=0;s<16;s++)n[r[s]]=t[s],a[t[s]]=r[s];var o=function(h){return"0x"+parseInt(h,10).toString(16)},l=e.__fontmetrics__.compress=function(h){var m,g,x,v,p=["{"];for(var y in h){if(m=h[y],isNaN(parseInt(y,10))?g="'"+y+"'":(y=parseInt(y,10),g=(g=o(y).slice(2)).slice(0,-1)+a[g.slice(-1)]),typeof m=="number")m<0?(x=o(m).slice(3),v="-"):(x=o(m).slice(2),v=""),x=v+x.slice(0,-1)+a[x.slice(-1)];else{if(Wr(m)!=="object")throw new Error("Don't know what to do with value type "+Wr(m)+".");x=l(m)}p.push(g+x)}return p.push("}"),p.join("")},c=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,g,x,v,p={},y=1,w=p,j=[],S="",P="",A=h.length-1,C=1;C<A;C+=1)(v=h[C])=="'"?m?(x=m.join(""),m=void 0):m=[]:m?m.push(v):v=="{"?(j.push([w,x]),w={},x=void 0):v=="}"?((g=j.pop())[0][g[1]]=w,x=void 0,w=g[0]):v=="-"?y=-1:x===void 0?n.hasOwnProperty(v)?(S+=n[v],x=parseInt(S,16)*y,y=1,S=""):S+=v:n.hasOwnProperty(v)?(P+=n[v],w[x]=parseInt(P,16)*y,y=1,x=void 0,P=""):P+=v;return p},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var m=h.font,g=f.Unicode[m.postScriptName];g&&(m.metadata.Unicode={},m.metadata.Unicode.widths=g.widths,m.metadata.Unicode.kerning=g.kerning);var x=d.Unicode[m.postScriptName];x&&(m.metadata.Unicode.encoding=x,m.encoding=x.codePages[0])}])}(At.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(C1(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(At),At.API.addSvgAsImage=function(e,t,r,n,a,s,o,l){if(isNaN(t)||isNaN(r))throw an.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw an.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Ft.canvg?Promise.resolve(Ft.canvg):wS(()=>import("./index.es-D4_P9Ouo.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,r,n,a,o,l)})},At.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},At.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function h(g,x){var v,p=!1;for(v=0;v<g.length;v+=1)g[v]===x&&(p=!0);return p}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=l.length;for(f=0;f<m;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(Wr(e)==="object"){for(a in e)if(s=e[a],h(l,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&h(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,x=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?x.push("/"+g+" /"+r[g].value):x.push("/"+g+" "+r[g].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+s+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(At.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=s.length;f<h;++f){if(l=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(s){var o,l,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(l=Object.keys(s).sort(function(m,g){return m-g})).length;f<h;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",g=0;g<h.length;g++)m+=String.fromCharCode(h[g]);var x=u();d({data:m,addLength1:!0,objectId:x}),c("endobj");var v=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var p=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+em(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var y=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+em(l.fontName)),c("/FontDescriptor "+p+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+em(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,h="",m=0;m<f.length;m++)h+=String.fromCharCode(f[m]);var g=u();d({data:h,addLength1:!0,objectId:g}),c("endobj");var x=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var v=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+em(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var p=0;p<l.metadata.hmtx.widths.length;p++)l.metadata.hmtx.widths[p]=parseInt(l.metadata.hmtx.widths[p]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+em(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var a=function(s){var o,l=s.text||"",c=s.x,u=s.y,d=s.options||{},f=s.mutex||{},h=f.pdfEscape,m=f.activeFontKey,g=f.fonts,x=m,v="",p=0,y="",w=g[x].encoding;if(g[x].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(y=l,x=m,Array.isArray(l)&&(y=l[0]),p=0;p<y.length;p+=1)g[x].metadata.hasOwnProperty("cmap")&&(o=g[x].metadata.cmap.unicode.codeMap[y[p].charCodeAt(0)]),o||y[p].charCodeAt(0)<256&&g[x].metadata.hasOwnProperty("Unicode")?v+=y[p]:v+="";var j="";return parseInt(x.slice(1))<14||w==="WinAnsiEncoding"?j=h(v,x).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(j=r(v,g[x])),f.isHex=!0,{text:j,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);s.text=l}else s.text=a(Object.assign({},c,{text:o})).text}])}(At),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(At.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,s,o,l,c,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,w=0;this.__bidiEngine__={};var j=function(E){var k=E.charCodeAt(),R=k>>8,L=x[R];return L!==void 0?f[256*L+(255&k)]:R===252||R===253?"AL":p.test(R)?"L":R===8?"R":"N"},S=function(E){for(var k,R=0;R<E.length;R++){if((k=j(E.charAt(R)))==="L")return!1;if(k==="R")return!0}return!1},P=function(E,k,R,L){var H,F,V,B,G=k[L];switch(G){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(G="AN");break;case"AL":y=!0,G="R";break;case"WS":case"BN":G="N";break;case"CS":L<1||L+1>=k.length||(H=R[L-1])!=="EN"&&H!=="AN"||(F=k[L+1])!=="EN"&&F!=="AN"?G="N":y&&(F="AN"),G=F===H?F:"N";break;case"ES":G=(H=L>0?R[L-1]:"B")==="EN"&&L+1<k.length&&k[L+1]==="EN"?"EN":"N";break;case"ET":if(L>0&&R[L-1]==="EN"){G="EN";break}if(y){G="N";break}for(V=L+1,B=k.length;V<B&&k[V]==="ET";)V++;G=V<B&&k[V]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(B=k.length,V=L+1;V<B&&k[V]==="NSM";)V++;if(V<B){var le=E[L],fe=le>=1425&&le<=2303||le===64286;if(H=k[V],fe&&(H==="R"||H==="AL")){G="R";break}}}G=L<1||(H=k[L-1])==="B"?"N":R[L-1];break;case"B":y=!1,a=!0,G=w;break;case"S":s=!0,G="N"}return G},A=function(E,k,R){var L=E.split("");return R&&C(L,R,{hiLevel:w}),L.reverse(),k&&k.reverse(),L.join("")},C=function(E,k,R){var L,H,F,V,B,G=-1,le=E.length,fe=0,$=[],q=w?m:h,Q=[];for(y=!1,a=!1,s=!1,H=0;H<le;H++)Q[H]=j(E[H]);for(F=0;F<le;F++){if(B=fe,$[F]=P(E,Q,$,F),L=240&(fe=q[B][g[$[F]]]),fe&=15,k[F]=V=q[fe][5],L>0)if(L===16){for(H=G;H<F;H++)k[H]=1;G=-1}else G=-1;if(q[fe][6])G===-1&&(G=F);else if(G>-1){for(H=G;H<F;H++)k[H]=V;G=-1}Q[F]==="B"&&(k[F]=0),R.hiLevel|=V}s&&function(ae,ue,ce){for(var we=0;we<ce;we++)if(ae[we]==="S"){ue[we]=w;for(var oe=we-1;oe>=0&&ae[oe]==="WS";oe--)ue[oe]=w}}(Q,k,le)},O=function(E,k,R,L,H){if(!(H.hiLevel<E)){if(E===1&&w===1&&!a)return k.reverse(),void(R&&R.reverse());for(var F,V,B,G,le=k.length,fe=0;fe<le;){if(L[fe]>=E){for(B=fe+1;B<le&&L[B]>=E;)B++;for(G=fe,V=B-1;G<V;G++,V--)F=k[G],k[G]=k[V],k[V]=F,R&&(F=R[G],R[G]=R[V],R[V]=F);fe=B}fe++}}},D=function(E,k,R){var L=E.split(""),H={hiLevel:w};return R||(R=[]),C(L,R,H),function(F,V,B){if(B.hiLevel!==0&&d)for(var G,le=0;le<F.length;le++)V[le]===1&&(G=v.indexOf(F[le]))>=0&&(F[le]=v[G+1])}(L,R,H),O(2,L,k,R,H),O(1,L,k,R,H),L.join("")};return this.__bidiEngine__.doBidiReorder=function(E,k,R){if(function(H,F){if(F)for(var V=0;V<H.length;V++)F[V]=V;l===void 0&&(l=S(H)),u===void 0&&(u=S(H))}(E,k),o||!c||u)if(o&&c&&l^u)w=l?1:0,E=A(E,k,R);else if(!o&&c&&u)w=l?1:0,E=D(E,k,R),E=A(E,k);else if(!o||l||c||u){if(o&&!c&&l^u)E=A(E,k),l?(w=0,E=D(E,k,R)):(w=1,E=D(E,k,R),E=A(E,k));else if(o&&l&&!c&&u)w=1,E=D(E,k,R),E=A(E,k);else if(!o&&!c&&l^u){var L=d;l?(w=1,E=D(E,k,R),w=0,d=!1,E=D(E,k,R),d=L):(w=0,E=D(E,k,R),E=A(E,k),w=1,d=!1,E=D(E,k,R),d=L,E=A(E,k))}}else w=0,E=D(E,k,R);else w=l?1:0,E=D(E,k,R);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,c=E.isOutputVisual,l=E.isInputRtl,u=E.isOutputRtl,d=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(At),At.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Nd(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new uye(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new X0e(this.contents),this.head=new Q0e(this),this.name=new nye(this),this.cmap=new zH(this),this.toUnicode={},this.hhea=new J0e(this),this.maxp=new iye(this),this.hmtx=new aye(this),this.post=new tye(this),this.os2=new eye(this),this.loca=new cye(this),this.glyf=new sye(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,s,o,l;for(o=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)a=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Xo,Nd=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,s,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,s;for(s=[],n=0,a=t.length;n<a;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),X0e=function(){var e;function t(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,s,o,l,c,u,d,f,h,m,g,x;for(x in m=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(m)/c),o=Math.floor(f/c),d=16*m-f,(a=new Nd).writeInt(this.scalarType),a.writeShort(m),a.writeShort(f),a.writeShort(o),a.writeShort(d),s=16*m,u=a.pos+s,l=null,g=[],r)for(h=r[x],a.writeString(x),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),g=g.concat(h),x==="head"&&(l=u),u+=h.length;u%4;)g.push(0),u++;return a.write(g),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,s,o;for(r=VH.call(r);r.length%4;)r.push(0);for(s=new Nd(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=s.readUInt32();return 4294967295&a},t}(),Z0e={}.hasOwnProperty,zl=function(e,t){for(var r in t)Z0e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Xo=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Q0e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,Xo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Nd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),T8=function(){function e(t,r){var n,a,s,o,l,c,u,d,f,h,m,g,x,v,p,y,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),h=m/2,t.pos+=6,s=function(){var j,S;for(S=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)S.push(t.readUInt16());return S}(),t.pos+=2,x=function(){var j,S;for(S=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)S.push(t.readUInt16());return S}(),u=function(){var j,S;for(S=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)S.push(t.readUInt16());return S}(),d=function(){var j,S;for(S=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)S.push(t.readUInt16());return S}(),a=(this.length-t.pos+this.offset)/2,l=function(){var j,S;for(S=[],c=j=0;0<=a?j<a:j>a;c=0<=a?++j:--j)S.push(t.readUInt16());return S}(),c=p=0,w=s.length;p<w;c=++p)for(v=s[c],n=y=g=x[c];g<=v?y<=v:y>=v;n=g<=v?++y:--y)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-g)-(h-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,s,o,l,c,u,d,f,h,m,g,x,v,p,y,w,j,S,P,A,C,O,D,E,k,R,L,H,F,V,B,G,le,fe,$,q,Q,ae,ue,ce,we,oe,ye,Ne,pe;switch(L=new Nd,o=Object.keys(t).sort(function(_e,ve){return _e-ve}),r){case"macroman":for(x=0,v=function(){var _e=[];for(g=0;g<256;++g)_e.push(0);return _e}(),y={0:0},s={},H=0,G=o.length;H<G;H++)y[oe=t[a=o[H]]]==null&&(y[oe]=++x),s[a]={old:t[a],new:y[t[a]]},v[a]=y[t[a]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(v),{charMap:s,subtable:L.data,maxGlyphID:x+1};case"unicode":for(k=[],f=[],w=0,y={},n={},p=u=null,F=0,le=o.length;F<le;F++)y[S=t[a=o[F]]]==null&&(y[S]=++w),n[a]={old:S,new:y[S]},l=y[S]-a,p!=null&&l===u||(p&&f.push(p),k.push(a),u=l),p=a;for(p&&f.push(p),f.push(65535),k.push(65535),D=2*(O=k.length),C=2*Math.pow(Math.log(O)/Math.LN2,2),h=Math.log(C/2)/Math.LN2,A=2*O-C,c=[],P=[],m=[],g=V=0,fe=k.length;V<fe;g=++V){if(E=k[g],d=f[g],E===65535){c.push(0),P.push(0);break}if(E-(R=n[E].new)>=32768)for(c.push(0),P.push(2*(m.length+O-g)),a=B=E;E<=d?B<=d:B>=d;a=E<=d?++B:--B)m.push(n[a].new);else c.push(R-E),P.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*O+2*m.length),L.writeUInt16(0),L.writeUInt16(D),L.writeUInt16(C),L.writeUInt16(h),L.writeUInt16(A),ce=0,$=f.length;ce<$;ce++)a=f[ce],L.writeUInt16(a);for(L.writeUInt16(0),we=0,q=k.length;we<q;we++)a=k[we],L.writeUInt16(a);for(ye=0,Q=c.length;ye<Q;ye++)l=c[ye],L.writeUInt16(l);for(Ne=0,ae=P.length;Ne<ae;Ne++)j=P[Ne],L.writeUInt16(j);for(pe=0,ue=m.length;pe<ue;pe++)x=m[pe],L.writeUInt16(x);return{charMap:n,subtable:L.data,maxGlyphID:w+1}}},e}(),zH=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,Xo),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new T8(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=T8.encode(t,r),(a=new Nd).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e}(),J0e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,Xo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),eye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,Xo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),tye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,Xo),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),rye=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},nye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,Xo),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,s,o,l,c,u,d,f,h;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},s=d=0,f=n.length;d<f;s=++d)a=n[s],t.pos=a.offset,u=t.readString(a.length),o=new rye(u,a),c[h=a.nameID]==null&&(c[h]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),iye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,Xo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),aye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,Xo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,s,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)d.push(t.readInt16());return d}(),this.widths=(function(){var u,d,f,h;for(h=[],u=0,d=(f=this.metrics).length;u<d;u++)s=f[u],h.push(s.advance);return h}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),VH=[].slice,sye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,Xo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,s,o,l,c,u,d,f;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(t),(a=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new Nd(r.read(a))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=o===-1?new lye(l,u,f,c,d):new oye(l,o,u,f,c,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,s,o,l,c;for(o=[],s=[],l=0,c=r.length;l<c;l++)a=t[r[l]],s.push(o.length),a&&(o=o.concat(a.encode(n)));return s.push(o.length),{table:o,offsets:s}},e}(),oye=function(){function e(t,r,n,a,s,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),lye=function(){function e(t,r,n,a,s){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Nd(VH.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),cye=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,Xo),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,s=0,o=0;o<n.length;++o)if(n[o]=a,s<r.length&&r[s]==o){++s,n[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},e}(),uye=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,s,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[s=t[o]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],a[s]=n;return a},e.prototype.encode=function(t,r){var n,a,s,o,l,c,u,d,f,h,m,g,x,v,p;for(a in n=zH.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},p=n.charMap)m[(c=p[a]).old]=c.new;for(g in h=n.maxGlyphID,o)g in m||(m[g]=h++);return d=function(y){var w,j;for(w in j={},y)j[y[w]]=w;return j}(m),f=Object.keys(d).sort(function(y,w){return y-w}),x=function(){var y,w,j;for(j=[],y=0,w=f.length;y<w;y++)l=f[y],j.push(d[l]);return j}(),s=this.font.glyf.encode(o,x,m),u=this.font.loca.encode(s.offsets,x),v={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();At.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,s,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)o=r[a],s.push("/"+a+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+r},t}();function qH(e,t,r,n,a){n=n||{};var s=1.15,o=a.internal.scaleFactor,l=a.internal.getFontSize()/o,c=a.getLineHeightFactor?a.getLineHeightFactor():s,u=l*c,d=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(d):e,h=f.length||1),r+=l*(2-s),n.valign==="middle"?r-=h/2*u:n.valign==="bottom"&&(r-=h*u),n.halign==="center"||n.halign==="right"){var m=l;if(n.halign==="center"&&(m*=.5),f&&h>=1){for(var g=0;g<f.length;g++)a.text(f[g],t-a.getStringUnitWidth(f[g])*m,r),r+=u;return a}t-=a.getStringUnitWidth(e)*m}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var E8={},$m=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:E8=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,s;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(a=this.jsPDFDocument).setTextColor.apply(a,d),d=e.unifyColor(t.lineColor),d&&(s=this.jsPDFDocument).setDrawColor.apply(s,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,s){return this.jsPDFDocument.rect(t,r,n,a,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return E8||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),QA=function(e,t){return QA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},QA(e,t)};function WH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");QA(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var HH=function(e){WH(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function dye(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function fye(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Bw(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return a}function KH(e,t,r,n){var a=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:s});var o=GH(a,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function GH(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function Uj(e,t){var r,n,a,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function YH(e,t){var r=Uj(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function hye(e,t,r,n,a){var s={},o=1.3333333333333333,l=YS(t,function(w){return a.getComputedStyle(w).backgroundColor});l!=null&&(s.fillColor=l);var c=YS(t,function(w){return a.getComputedStyle(w).color});c!=null&&(s.textColor=c);var u=pye(n,r);u&&(s.cellPadding=u);var d="borderTopColor",f=o*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var m=(parseFloat(h)||0)/f;m&&(s.lineWidth=m)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},s.lineWidth.top||(s.lineWidth.right?d="borderRightColor":s.lineWidth.bottom?d="borderBottomColor":s.lineWidth.left&&(d="borderLeftColor"));var g=YS(t,function(w){return a.getComputedStyle(w)[d]});g!=null&&(s.lineColor=g);var x=["left","right","center","justify"];x.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),x=["middle","bottom","top"],x.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(s.fontSize=v/o);var p=mye(n);p&&(s.fontStyle=p);var y=(n.fontFamily||"").toLowerCase();return e.indexOf(y)!==-1&&(s.font=y),s}function mye(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function YS(e,t){var r=XH(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function XH(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:XH(e.parentElement,t):r}function pye(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=r.map(function(l){return parseInt(l||"0")/n}),o=Uj(s,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function ZH(e,t,r,n,a){var s,o;n===void 0&&(n=!1),a===void 0&&(a=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],f=[],h=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:d,body:f,foot:h};for(var m=0;m<l.rows.length;m++){var g=l.rows[m],x=(o=(s=g==null?void 0:g.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),v=gye(c,u,r,g,n,a);v&&(x==="thead"?d.push(v):x==="tfoot"?h.push(v):f.push(v))}return{head:d,body:f,foot:h}}function gye(e,t,r,n,a,s){for(var o=new HH(n),l=0;l<n.cells.length;l++){var c=n.cells[l],u=r.getComputedStyle(c);if(a||u.display!=="none"){var d=void 0;s&&(d=hye(e,c,t,u,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:xye(c)})}}var f=r.getComputedStyle(n);if(o.length>0&&(a||f.display!=="none"))return o}function xye(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function yye(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var s=a[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function vc(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])}return s}function QH(e,t){var r=new $m(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();yye(a,n,t);var s=vc({},a,n,t),o;typeof window<"u"&&(o=window);var l=vye(a,n,t),c=bye(a,n,t),u=wye(r,s),d=Nye(r,s,o);return{id:t.tableId,content:d,hooks:c,styles:l,settings:u}}function vye(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var u=e[c],d=t[c],f=r[c];n.columnStyles=vc({},u,d,f)}else{var h=[e,t,r],m=h.map(function(g){return g[c]||{}});n[c]=vc({},m[0],m[1],m[2])}},s=0,o=Object.keys(n);s<o.length;s++){var l=o[s];a(l)}return n}function bye(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=n;s<o.length;s++){var l=o[s];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function wye(e,t){var r,n,a,s,o,l,c,u,d,f,h,m,g=Uj(t.margin,40/e.scaleFactor()),x=(r=jye(e,t.startY))!==null&&r!==void 0?r:g.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var p;t.showHead===!0?p="everyPage":t.showHead===!1?p="never":p=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var y=(s=t.useCss)!==null&&s!==void 0?s:!1,w=t.theme||(y?"plain":"striped"),j=!!t.horizontalPageBreak,S=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:y,theme:w,startY:x,margin:g,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:p,showFoot:v,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:j,horizontalPageBreakRepeat:S,horizontalPageBreakBehaviour:(m=t.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function jye(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),s=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;s=o===a}return typeof t=="number"?t:(t==null||t===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function Nye(e,t,r){var n=t.head||[],a=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var l=ZH(e,t.html,r,o,t.useCss)||{};n=l.head||n,a=l.body||n,s=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||Sye(n,a,s);return{columns:c,head:n,body:a,foot:s}}function Sye(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,l;Array.isArray(n)?l=n[parseInt(s)]:l=n[s],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var u=void 0;Array.isArray(n)?u=a.length:u=s+(c>0?"_".concat(c):"");var d={dataKey:u};a.push(d)}}),a}var JA=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),_ye=function(e){WH(t,e);function t(r,n,a,s,o,l){var c=e.call(this,r,n,l)||this;return c.cell=a,c.row=s,c.column=o,c.section=s.section,c}return t}(JA),Pye=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,s,o){for(var l=0,c=r;l<c.length;l++){var u=c[l],d=new _ye(t,this,n,a,s,o),f=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var s=a[n];s(new JA(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var s=a[n];s(new JA(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,s){return a+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),JH=function(){function e(t,r,n,a,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof HH&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var s;return Math.max(n,((s=r.cells[a.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,s){var o=n.cells[s.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),u=c+l;return u>a?u:a},0)},e}(),eK=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,s=n*a+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=Uj(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),Aye=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var s=a[n],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e}();function kye(e,t){Cye(e,t);var r=[],n=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=e4(r,a,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),a&&(a=e4(r,a,function(s){return s.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),Eye(t),Oye(t,e),Tye(t)}function Cye(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=YH(e,t);t.allRows().forEach(function(s){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,s,c,null);var f=u.padding("horizontal");u.contentWidth=Bw(u.text,u.styles,e)+f;var h=Bw(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=h+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var m=10/r;u.minWidth=u.styles.minCellWidth||m,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function e4(e,t,r){for(var n=t,a=e.reduce(function(m,g){return m+g.wrappedWidth},0),s=0;s<e.length;s++){var o=e[s],l=o.wrappedWidth/a,c=n*l,u=o.width+c,d=r(o),f=u<d?d:u;t-=f-o.width,o.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(m){return t<0?m.width>r(m):!0});h.length&&(t=e4(h,t,r))}return t}function Tye(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var s=n[a],o=0,l=e.columns;o<l.length;o++){var c=l[o],u=t[c.index];if(r>1)r--,delete s.cells[c.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var d=s.cells[c.index];if(!d)continue;if(d.height=s.height,d.rowSpan>1){var f=n.length-a,h=d.rowSpan>f?f:d.rowSpan;t[c.index]={cell:d,left:h,row:s}}}}}function Eye(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,s=0,o=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(o-=1,o>1&&e.columns[l+1])s+=c.width,delete n.cells[c.index];else if(a){var u=a;delete n.cells[c.index],a=null,u.width=c.width+s}else{var u=n.cells[c.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){a=u,s+=c.width;continue}u.width=c.width+s}}}function Oye(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var s=a[n],o=0,l=e.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=O8(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=O8(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,d);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<h*u.rowSpan?r={height:h,count:u.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>s.height&&(s.height=h)}}r.count--}}function O8(e,t,r,n,a){return e.map(function(s){return Mye(s,t,r,n,a)})}function Mye(e,t,r,n,a){var s=1e4*n.scaleFactor();if(t=Math.ceil(t*s)/s,t>=Bw(e,r,n))return e;for(;t<Bw(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function tK(e,t){var r=new $m(e),n=Lye(t,r.scaleFactor()),a=new Pye(t,n);return kye(r,a),r.applyStyles(r.userStyles),a}function Lye(e,t){var r=e.content,n=Dye(r.columns);if(r.head.length===0){var a=M8(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=M8(n,"foot");a&&r.foot.push(a)}var s=e.settings.theme,o=e.styles;return{columns:n,head:XS("head",r.head,n,o,s,t),body:XS("body",r.body,n,o,s,t),foot:XS("foot",r.foot,n,o,s,t)}}function XS(e,t,r,n,a,s){var o={},l=t.map(function(c,u){for(var d=0,f={},h=0,m=0,g=0,x=r;g<x.length;g++){var v=x[g];if(o[v.index]==null||o[v.index].left===0)if(m===0){var p=void 0;Array.isArray(c)?p=c[v.index-h-d]:p=c[v.dataKey];var y={};typeof p=="object"&&!Array.isArray(p)&&(y=(p==null?void 0:p.styles)||{});var w=Rye(e,v,u,a,n,s,y),j=new eK(p,w,e);f[v.dataKey]=j,f[v.index]=j,m=j.colSpan-1,o[v.index]={left:j.rowSpan-1,times:m}}else m--,h++;else o[v.index].left--,m=o[v.index].times,d++}return new JH(c,u,e,f)});return l}function M8(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=Iye(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function Iye(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function Dye(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new Aye(a,t,r)})}function Rye(e,t,r,n,a,s,o){var l=fye(n),c;e==="head"?c=a.headStyles:e==="body"?c=a.bodyStyles:e==="foot"&&(c=a.footStyles);var u=vc({},l.table,l[e],a.styles,c),d=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?d:{},h=e==="body"&&r%2===0?vc({},l.alternateRow,a.alternateRowStyles):{},m=dye(s),g=vc({},m,u,h,f);return vc(g,o)}function Fye(e,t,r){var n;r===void 0&&(r={});var a=YH(e,t),s=new Map,o=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(h){var m=t.columns.find(function(g){return g.dataKey===h||g.index===h});m&&!s.has(m.index)&&(s.set(m.index,!0),o.push(m.index),l.push(t.columns[m.index]),a-=m.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(s.has(d)){d++;continue}var f=t.columns[d].wrappedWidth;if(u||a>=f)u=!1,o.push(d),l.push(t.columns[d]),a-=f;else break;d++}return{colIndexes:o,columns:l,lastIndex:d-1}}function $ye(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=Fye(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function rK(e,t){var r=t.settings,n=r.startY,a=r.margin,s={x:a.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=n+a.bottom+o;if(r.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(h,m){return h+m.height},0);l+=u}var d=new $m(e);(r.pageBreak==="always"||r.startY!=null&&l>d.pageSize().height)&&(iK(d),s.y=a.top),t.callWillDrawPageHooks(d,s);var f=vc({},s);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?Bye(d,t,f,s):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return Vc(d,t,h,s,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(h,m){var g=m===t.body.length-1;Uw(d,t,h,g,f,s,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return Vc(d,t,h,s,t.columns)})),KH(d,t,f,s),t.callEndPageHooks(d,s),t.finalY=s.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function Bye(e,t,r,n){var a=$ye(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?s0(e,t,r,n,u.columns,!0):L8(e,t,n,u.columns),Uye(e,t,r,n,u.columns),ZS(e,t,n,u.columns)});else for(var o=-1,l=a[0],c=function(){var u=o;if(l){e.applyStyles(e.userStyles);var d=l.columns;o>=0?s0(e,t,r,n,d,!0):L8(e,t,n,d),u=I8(e,t,o+1,n,d),ZS(e,t,n,d)}var f=u-o;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),s0(e,t,r,n,h.columns,!0),I8(e,t,o+1,n,h.columns,f),ZS(e,t,n,h.columns)}),o=u};o<t.body.length-1;)c()}function L8(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(s){return Vc(e,t,s,r,n)})}function Uye(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(s,o){var l=o===t.body.length-1;Uw(e,t,s,l,r,n,a)})}function I8(e,t,r,n,a,s){e.applyStyles(e.userStyles),s=s??t.body.length;var o=Math.min(r+s,t.body.length),l=-1;return t.body.slice(r,o).forEach(function(c,u){var d=r+u===t.body.length-1,f=nK(e,t,d,n);c.canEntireRowFit(f,a)&&(Vc(e,t,c,n,a),l=r+u)}),l}function ZS(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(s){return Vc(e,t,s,r,n)})}function zye(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),s=Math.floor((t-a)/n);return Math.max(0,s)}function Vye(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var s=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new eK(u.raw,u.styles,u.section);d=vc(d,u),d.text=[];var f=zye(u,t,n);u.text.length>f&&(d.text=u.text.splice(f,u.text.length));var h=n.scaleFactor(),m=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(h,m),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(h,m),d.contentHeight>s&&(s=d.contentHeight),a[c.index]=d}}var g=new JH(e.raw,-1,e.section,a,!0);g.height=s;for(var x=0,v=r.columns;x<v.length;x++){var c=v[x],d=g.cells[c.index];d&&(d.height=g.height);var u=e.cells[c.index];u&&(u.height=e.height)}return g}function qye(e,t,r,n){var a=e.pageSize().height,s=n.settings.margin,o=s.top+s.bottom,l=a-o;t.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),u=c<r;if(c>l)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>l;return f?(d&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function Uw(e,t,r,n,a,s,o){var l=nK(e,t,n,s);if(r.canEntireRowFit(l,o))Vc(e,t,r,s,o);else if(qye(e,r,l,t)){var c=Vye(r,l,t,e);Vc(e,t,r,s,o),s0(e,t,a,s,o),Uw(e,t,c,n,a,s,o)}else s0(e,t,a,s,o),Uw(e,t,r,n,a,s,o)}function Vc(e,t,r,n,a){n.x=t.settings.margin.left;for(var s=0,o=a;s<o.length;s++){var l=o[s],c=r.cells[l.index];if(!c){n.x+=l.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,n);if(u===!1){n.x+=l.width;continue}Wye(e,c,n);var d=c.getTextPos();qH(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function Wye(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=GH(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),Hye(e,t,r,n.lineWidth))}function Hye(e,t,r,n){var a,s,o,l;n.top&&(a=r.x,s=r.y,o=r.x+t.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,s,o,l)),n.bottom&&(a=r.x,s=r.y+t.height,o=r.x+t.width,l=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,s,o,l)),n.left&&(a=r.x,s=r.y,o=r.x,l=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,a,s,o,l)),n.right&&(a=r.x+t.width,s=r.y,o=r.x+t.width,l=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,a,s,o,l));function c(u,d,f,h,m){e.getDocument().setLineWidth(u),e.getDocument().line(d,f,h,m,"S")}}function nK(e,t,r,n){var a=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function s0(e,t,r,n,a,s){a===void 0&&(a=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(l){return Vc(e,t,l,n,a)}),t.callEndPageHooks(e,n);var o=t.settings.margin;KH(e,t,r,n),iK(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return Vc(e,t,l,n,a)}),e.applyStyles(e.userStyles))}function iK(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function Kye(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=QH(this,n),s=tK(this,a);return rK(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){qH(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return $m.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){$m.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new $m(this),s=ZH(a,t,window,r,!1),o=s.head,l=s.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var QS;function Gye(e,t){var r=QH(e,t),n=tK(e,r);rK(e,n)}try{if(typeof window<"u"&&window){var D8=window,R8=D8.jsPDF||((QS=D8.jspdf)===null||QS===void 0?void 0:QS.jsPDF);R8&&Kye(R8)}}catch(e){console.error("Could not apply autoTable plugin",e)}function F8(e,t){const r=new At,n=[34,197,94],a=[107,114,128],s=[17,24,39],o=r.internal.pageSize.getWidth(),l=r.internal.pageSize.getHeight();r.setFillColor(n[0],n[1],n[2]),r.rect(0,0,o,40,"F"),r.setTextColor(255,255,255),r.setFontSize(24),r.setFont("helvetica","bold"),r.text("GreenPay",14,20),r.setFontSize(10),r.setFont("helvetica","normal"),r.text("International Money Transfer & Digital Wallet",14,28),r.setTextColor(s[0],s[1],s[2]),r.setFontSize(16),r.setFont("helvetica","bold"),r.text("Transaction Statement",14,55),r.setFontSize(10),r.setFont("helvetica","normal"),r.setTextColor(a[0],a[1],a[2]);const c=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});r.text(`Generated: ${c}`,14,65),t.fullName&&r.text(`Account Holder: ${t.fullName}`,14,71),t.email&&r.text(`Email: ${t.email}`,14,77);const u=e.filter(y=>{var w;return((w=y.currency)==null?void 0:w.toUpperCase())!=="KES"}),d=e.filter(y=>{var w;return((w=y.currency)==null?void 0:w.toUpperCase())==="KES"}),f=u.filter(y=>(y.type==="receive"||y.type==="deposit")&&y.status==="completed").reduce((y,w)=>y+parseFloat(w.amount),0),h=u.filter(y=>(y.type==="send"||y.type==="withdraw"||y.type==="card_purchase")&&y.status==="completed").reduce((y,w)=>y+parseFloat(w.amount),0),m=d.filter(y=>(y.type==="receive"||y.type==="deposit")&&y.status==="completed").reduce((y,w)=>y+parseFloat(w.amount),0),g=d.filter(y=>(y.type==="send"||y.type==="withdraw"||y.type==="card_purchase")&&y.status==="completed").reduce((y,w)=>y+parseFloat(w.amount),0);r.setDrawColor(n[0],n[1],n[2]),r.setLineWidth(.5),r.rect(14,85,o-28,35),r.setFontSize(9),r.setFont("helvetica","bold"),r.setTextColor(s[0],s[1],s[2]),r.text("Summary",18,92),r.setFont("helvetica","normal"),r.setFontSize(8);let x=100;u.length>0&&(r.setTextColor(a[0],a[1],a[2]),r.text("USD:",18,x),r.setTextColor(34,197,94),r.text(`+$${Ut(f)}`,50,x),r.setTextColor(239,68,68),r.text(`-$${Ut(h)}`,90,x),x+=6),d.length>0&&(r.setTextColor(a[0],a[1],a[2]),r.text("KES:",18,x),r.setTextColor(34,197,94),r.text(`+KSh ${Ut(m)}`,50,x),r.setTextColor(239,68,68),r.text(`-KSh ${Ut(g)}`,90,x));const v=e.map(y=>{var A,C;const w=new Date(y.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),j=((A=y.recipientDetails)==null?void 0:A.name)||(y.type==="deposit"?"Wallet Top-up":y.type==="withdraw"?"Bank Withdrawal":y.type==="card_purchase"?"Virtual Card":y.type==="exchange"?"Currency Exchange":"Transaction"),P=`${y.type==="send"||y.type==="withdraw"||y.type==="card_purchase"||y.type==="exchange"?"-":"+"}${P1(y.currency)}${Ut(y.amount)}`;return[w,j,P,((C=y.currency)==null?void 0:C.toUpperCase())||"USD",y.status.charAt(0).toUpperCase()+y.status.slice(1)]});Gye(r,{startY:130,head:[["Date","Description","Amount","Currency","Status"]],body:v,theme:"grid",headStyles:{fillColor:n,textColor:[255,255,255],fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:8,textColor:s},alternateRowStyles:{fillColor:[249,250,251]},columnStyles:{0:{cellWidth:30},1:{cellWidth:60},2:{cellWidth:35,halign:"right"},3:{cellWidth:25,halign:"center"},4:{cellWidth:30,halign:"center"}},margin:{left:14,right:14},didDrawPage:y=>{const w=r.internal.getNumberOfPages(),j=r.internal.getCurrentPageInfo().pageNumber;r.setFontSize(8),r.setTextColor(a[0],a[1],a[2]),r.text(`Page ${j} of ${w}`,o/2,l-10,{align:"center"}),r.text("GreenPay - Trusted International Money Transfer Service",o/2,l-15,{align:"center"}),r.setFontSize(7),r.text("support@greenpay.world | www.greenpay.world",o/2,l-20,{align:"center"})}});const p=`GreenPay_Statement_${new Date().toISOString().split("T")[0]}.pdf`;r.save(p)}function Yye(){var O,D,E,k,R,L,H;const[,e]=Gt(),[t,r]=N.useState("all"),[n,a]=N.useState(!1),[s,o]=N.useState(!1),[l,c]=N.useState(""),[u,d]=N.useState({}),[f,h]=N.useState(null),{user:m}=Tr(),{toast:g}=Ct(),x=en(),{data:v,isLoading:p}=Kt({queryKey:["/api/transactions",m==null?void 0:m.id],enabled:!!(m!=null&&m.id)}),y=(v==null?void 0:v.transactions)||[],w=()=>{g({title:"Refreshing...",description:"Fetching your latest transactions"}),x.invalidateQueries({queryKey:["/api/transactions",m==null?void 0:m.id]}),setTimeout(()=>{g({title:"Refreshed",description:"Your transactions are up to date"})},800)},j=y.filter(F=>{let V=!0;switch(t){case"sent":V=F.type==="send";break;case"received":V=F.type==="receive";break;case"pending":V=F.status==="pending";break;default:V=!0}if(!V||u.status&&F.status!==u.status||u.currency&&F.currency!==u.currency||u.type&&F.type!==u.type||u.minAmount&&parseFloat(F.amount)<u.minAmount||u.maxAmount&&parseFloat(F.amount)>u.maxAmount)return!1;if(u.dateFrom){const B=new Date(F.createdAt),G=new Date(u.dateFrom);if(B<G)return!1}if(u.dateTo){const B=new Date(F.createdAt),G=new Date(u.dateTo);if(B>G)return!1}return!0}),S=St({mutationFn:async F=>(await He("POST","/api/transactions/export-email",{email:F,transactions:j})).json(),onSuccess:()=>{g({title:"Success",description:"Transaction report sent to your email!"}),o(!1),c("")},onError:()=>{g({title:"Error",description:"Failed to send export email",variant:"destructive"})}}),P=(F,V)=>{if(V==="failed")return{icon:"close",bg:"bg-red-100",color:"text-red-600"};if(V==="pending")return{icon:"schedule",bg:"bg-yellow-100",color:"text-yellow-600"};switch(F){case"send":return{icon:"arrow_upward",bg:"bg-green-100",color:"text-green-600"};case"receive":return{icon:"arrow_downward",bg:"bg-blue-100",color:"text-blue-600"};case"deposit":return{icon:"add",bg:"bg-purple-100",color:"text-purple-600"};case"withdraw":return{icon:"remove",bg:"bg-orange-100",color:"text-orange-600"};case"exchange":return{icon:"swap_horiz",bg:"bg-indigo-100",color:"text-indigo-600"};case"card_purchase":return{icon:"credit_card",bg:"bg-pink-100",color:"text-pink-600"};default:return{icon:"account_balance",bg:"bg-gray-100",color:"text-gray-600"}}},A=F=>{switch(F){case"completed":return"text-green-500";case"pending":case"processing":return"text-yellow-500";case"failed":return"text-red-500";default:return"text-muted-foreground"}},C=(F,V)=>V==="failed"?"":F==="send"||F==="withdraw"||F==="card_purchase"||F==="exchange"?"-":"+";return p?i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(X.div,{className:"bg-card shadow-sm p-4 elevation-1",children:i.jsx("h1",{className:"text-lg font-semibold",children:"Transactions"})}),i.jsx("div",{className:"p-6 flex justify-center",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})})]}):i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsxs("div",{className:"bg-background px-3 md:px-6 py-4 border-b border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end mb-4",children:[i.jsxs(X.button,{whileTap:{scale:.95},onClick:w,className:"flex items-center justify-center gap-1 px-2 md:px-3 py-2 rounded-lg bg-green-500 text-white hover:bg-green-600 transition-colors text-xs md:text-sm",children:[i.jsx(lw,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline font-medium",children:"Refresh"})]}),i.jsxs(X.button,{whileTap:{scale:.95},onClick:()=>a(!n),className:"flex items-center justify-center gap-1 px-2 md:px-3 py-2 rounded-lg bg-secondary text-secondary-foreground hover:bg-secondary/90 transition-colors text-xs md:text-sm",children:[i.jsx(fj,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline font-medium",children:"Filters"})]}),i.jsxs(X.button,{whileTap:{scale:.95},onClick:()=>o(!0),disabled:j.length===0,className:"flex items-center justify-center gap-1 px-2 md:px-3 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition-colors text-xs md:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(Nl,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline font-medium",children:"Email"})]}),i.jsxs(X.button,{whileTap:{scale:.95},onClick:()=>{j.length>0&&F8(j,{fullName:m==null?void 0:m.fullName,email:m==null?void 0:m.email,phone:m==null?void 0:m.phone})},disabled:j.length===0,className:"flex items-center justify-center gap-1 px-2 md:px-3 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors text-xs md:text-sm disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"button-export-pdf",children:[i.jsx(Gs,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline font-medium",children:"PDF"})]})]}),i.jsx("div",{className:"flex gap-1 bg-muted p-1 rounded-lg overflow-x-auto",children:[{id:"all",label:"All"},{id:"sent",label:"Sent"},{id:"received",label:"Received"},{id:"pending",label:"Pending"}].map(F=>i.jsx("button",{onClick:()=>r(F.id),className:`py-2 px-2 md:px-3 text-xs md:text-sm font-medium rounded-md transition-all whitespace-nowrap ${t===F.id?"bg-card text-foreground elevation-1":"text-muted-foreground hover:text-foreground"}`,"data-testid":`filter-${F.id}`,children:F.label},F.id))}),n&&i.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-muted p-4 rounded-lg space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"font-semibold text-sm",children:"Advanced Filters"}),i.jsx("button",{onClick:()=>{d({}),a(!1)},className:"text-xs text-muted-foreground hover:text-foreground",children:"Clear All"})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[i.jsxs("select",{value:u.status||"",onChange:F=>d({...u,status:F.target.value||void 0}),className:"px-2 py-2 text-xs md:text-sm border rounded-md bg-background",children:[i.jsx("option",{value:"",children:"All Status"}),i.jsx("option",{value:"completed",children:"Completed"}),i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"failed",children:"Failed"})]}),i.jsxs("select",{value:u.type||"",onChange:F=>d({...u,type:F.target.value||void 0}),className:"px-2 py-2 text-xs md:text-sm border rounded-md bg-background",children:[i.jsx("option",{value:"",children:"All Types"}),i.jsx("option",{value:"send",children:"Sent"}),i.jsx("option",{value:"receive",children:"Received"}),i.jsx("option",{value:"deposit",children:"Deposit"}),i.jsx("option",{value:"withdraw",children:"Withdraw"}),i.jsx("option",{value:"card_purchase",children:"Card"})]}),i.jsxs("select",{value:u.currency||"",onChange:F=>d({...u,currency:F.target.value||void 0}),className:"px-2 py-2 text-xs md:text-sm border rounded-md bg-background",children:[i.jsx("option",{value:"",children:"Currency"}),i.jsx("option",{value:"USD",children:"USD"}),i.jsx("option",{value:"KES",children:"KES"})]}),i.jsx("input",{type:"number",placeholder:"Min",value:u.minAmount||"",onChange:F=>d({...u,minAmount:F.target.value?parseFloat(F.target.value):void 0}),className:"px-2 py-2 text-xs md:text-sm border rounded-md bg-background"})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[i.jsx("input",{type:"number",placeholder:"Max",value:u.maxAmount||"",onChange:F=>d({...u,maxAmount:F.target.value?parseFloat(F.target.value):void 0}),className:"px-2 py-2 text-xs md:text-sm border rounded-md bg-background"}),i.jsx("input",{type:"date",value:u.dateFrom||"",onChange:F=>d({...u,dateFrom:F.target.value||void 0}),className:"px-2 py-2 text-xs md:text-sm border rounded-md bg-background"}),i.jsx("input",{type:"date",value:u.dateTo||"",onChange:F=>d({...u,dateTo:F.target.value||void 0}),className:"px-2 py-2 text-xs md:text-sm border rounded-md bg-background"}),i.jsxs("div",{className:"flex items-center text-xs text-muted-foreground bg-background rounded-md px-2 py-2",children:["Found: ",i.jsx("span",{className:"ml-1 font-semibold text-foreground",children:j.length})]})]})]}),s&&i.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-blue-50 border border-blue-200 p-3 md:p-4 rounded-lg mt-4 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"font-semibold text-sm",children:"Export to Email"}),i.jsx("button",{onClick:()=>o(!1),className:"text-muted-foreground hover:text-foreground",children:i.jsx(Fl,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"email",placeholder:"Enter email address",value:l,onChange:F=>c(F.target.value),className:"w-full px-3 py-2 text-sm border rounded-md bg-white"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["A detailed transaction report with ",j.length," transactions will be sent to your email"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>{if(!l){g({title:"Error",description:"Please enter an email address",variant:"destructive"});return}S.mutate(l)},disabled:S.isPending||!l,className:"flex-1 px-3 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50",children:S.isPending?"Sending...":"Send"}),i.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-sm border rounded-md hover:bg-muted",children:"Cancel"})]})]})]}),i.jsxs("div",{className:"p-3 md:p-6",children:[i.jsx(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card p-3 md:p-4 rounded-xl border border-border mb-4 md:mb-6 elevation-1",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"This Month"}),y.some(F=>{var V;return((V=F.currency)==null?void 0:V.toUpperCase())!=="KES"})&&i.jsx("div",{className:"mb-2",children:i.jsxs("p",{className:"text-xl font-bold text-primary","data-testid":"text-monthly-total-usd",children:["$",Ut(y.filter(F=>{var V;return((V=F.currency)==null?void 0:V.toUpperCase())!=="KES"}).reduce((F,V)=>V.status==="completed"?F+parseFloat(V.amount):F,0))]})}),y.some(F=>{var V;return((V=F.currency)==null?void 0:V.toUpperCase())==="KES"})&&i.jsx("div",{className:"mb-2",children:i.jsxs("p",{className:"text-xl font-bold text-primary","data-testid":"text-monthly-total-kes",children:["KSh ",Ut(y.filter(F=>{var V;return((V=F.currency)==null?void 0:V.toUpperCase())==="KES"}).reduce((F,V)=>V.status==="completed"?F+parseFloat(V.amount):F,0))]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Sent"}),y.some(F=>{var V;return((V=F.currency)==null?void 0:V.toUpperCase())!=="KES"&&(F.type==="send"||F.type==="withdraw"||F.type==="card_purchase")})&&i.jsxs("p",{className:"font-semibold text-destructive text-sm","data-testid":"text-monthly-sent-usd",children:["$",Ut(y.filter(F=>{var V;return((V=F.currency)==null?void 0:V.toUpperCase())!=="KES"&&(F.type==="send"||F.type==="withdraw"||F.type==="card_purchase")&&F.status==="completed"}).reduce((F,V)=>F+parseFloat(V.amount),0))]}),y.some(F=>{var V;return((V=F.currency)==null?void 0:V.toUpperCase())==="KES"&&(F.type==="send"||F.type==="withdraw"||F.type==="card_purchase")})&&i.jsxs("p",{className:"font-semibold text-destructive text-sm","data-testid":"text-monthly-sent-kes",children:["KSh ",Ut(y.filter(F=>{var V;return((V=F.currency)==null?void 0:V.toUpperCase())==="KES"&&(F.type==="send"||F.type==="withdraw"||F.type==="card_purchase")&&F.status==="completed"}).reduce((F,V)=>F+parseFloat(V.amount),0))]})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Received"}),y.some(F=>{var V;return((V=F.currency)==null?void 0:V.toUpperCase())!=="KES"&&(F.type==="receive"||F.type==="deposit")})&&i.jsxs("p",{className:"font-semibold text-primary text-sm","data-testid":"text-monthly-received-usd",children:["$",Ut(y.filter(F=>{var V;return((V=F.currency)==null?void 0:V.toUpperCase())!=="KES"&&(F.type==="receive"||F.type==="deposit")&&F.status==="completed"}).reduce((F,V)=>F+parseFloat(V.amount),0))]}),y.some(F=>{var V;return((V=F.currency)==null?void 0:V.toUpperCase())==="KES"&&(F.type==="receive"||F.type==="deposit")})&&i.jsxs("p",{className:"font-semibold text-primary text-sm","data-testid":"text-monthly-received-kes",children:["KSh ",Ut(y.filter(F=>{var V;return((V=F.currency)==null?void 0:V.toUpperCase())==="KES"&&(F.type==="receive"||F.type==="deposit")&&F.status==="completed"}).reduce((F,V)=>F+parseFloat(V.amount),0))]})]})]})]})}),i.jsx(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-4",children:j.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("span",{className:"material-icons text-6xl text-muted-foreground mb-4",children:"receipt_long"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No transactions yet"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Start sending or receiving money to see your transaction history here."}),i.jsx("button",{onClick:()=>e("/send-money"),className:"bg-primary text-primary-foreground px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:"Send Money"})]}):j.map(F=>{var fe,$,q,Q,ae,ue;const V=P(F.type,F.status),B=C(F.type,F.status),G=((fe=F.recipientDetails)==null?void 0:fe.name)||(F.type==="deposit"?"Wallet Top-up":F.type==="withdraw"?"Bank Withdrawal":F.type==="card_purchase"?"Virtual Card Purchase":F.type==="exchange"?"Currency Exchange":"Transaction"),le=new Date(F.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"});return i.jsx(X.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},onClick:()=>h(F),className:"bg-card p-3 md:p-4 rounded-xl border border-border hover:bg-muted/50 transition-colors elevation-1 cursor-pointer","data-testid":`transaction-${F.id}`,children:i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 md:gap-3 min-w-0 flex-1",children:[i.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 ${V.bg} rounded-full flex items-center justify-center flex-shrink-0`,children:i.jsx("span",{className:`material-icons text-sm md:text-base ${V.color}`,children:V.icon})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-medium text-sm md:text-base truncate","data-testid":`text-recipient-${F.id}`,children:G}),i.jsxs("div",{className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm text-muted-foreground overflow-x-auto",children:[i.jsx("span",{"data-testid":`text-date-${F.id}`,className:"whitespace-nowrap",children:le}),F.description&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsx("span",{className:"truncate",children:F.description})]}),F.status==="failed"&&(($=F.metadata)==null?void 0:$.status_reason)&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsxs("span",{className:"text-red-500 truncate",children:["(",F.metadata.status_reason,")"]})]})]})]})]}),i.jsxs("div",{className:"text-right flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center justify-end gap-1 md:gap-2 mb-1",children:[i.jsxs("p",{className:`font-semibold text-sm md:text-base ${F.status==="failed"?"text-muted-foreground":F.type==="send"||F.type==="withdraw"||F.type==="card_purchase"||F.type==="exchange"?"text-destructive":"text-primary"}`,"data-testid":`text-amount-${F.id}`,children:[B,P1(F.currency),Ut(F.amount)]}),i.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-semibold whitespace-nowrap ${((q=F.currency)==null?void 0:q.toUpperCase())==="KES"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:((Q=F.currency)==null?void 0:Q.toUpperCase())||"USD"})]}),i.jsxs("div",{className:"flex items-center justify-end gap-1 md:gap-2",children:[((ae=F.metadata)==null?void 0:ae.convertedAmount)&&((ue=F.metadata)==null?void 0:ue.targetCurrency)&&i.jsxs("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:[" ",F.metadata.targetCurrency," ",Ut(F.metadata.convertedAmount)]}),i.jsx("span",{className:`text-xs capitalize ${A(F.status)}`,children:F.status})]})]})]})},F.id)})})]}),f&&i.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>h(null),className:"fixed inset-0 bg-black/50 z-50 flex items-end md:items-center justify-center",children:i.jsxs(X.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},onClick:F=>F.stopPropagation(),className:"bg-card w-full md:max-w-md md:rounded-xl rounded-t-2xl p-4 md:p-6 pb-32 md:pb-6 max-h-[90vh] overflow-y-auto space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-border",children:[i.jsx("h2",{className:"text-xl font-bold",children:"Transaction Details"}),i.jsx("button",{onClick:()=>h(null),className:"text-muted-foreground hover:text-foreground p-2",children:i.jsx(Fl,{className:"h-6 w-6"})})]}),i.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 p-4 rounded-lg text-center space-y-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:f.type==="send"?"Sent to":f.type==="receive"?"Received from":"Transaction"}),i.jsxs("p",{className:"text-3xl font-bold text-primary",children:[C(f.type,f.status),P1(f.currency),Ut(f.amount)]}),i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${((O=f.currency)==null?void 0:O.toUpperCase())==="KES"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:((D=f.currency)==null?void 0:D.toUpperCase())||"USD"}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold capitalize ${f.status==="completed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":f.status==="pending"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:f.status})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-muted-foreground uppercase",children:[i.jsx(Rl,{className:"h-4 w-4"}),f.type==="send"?"Recipient":f.type==="receive"?"Sender":"Type"]}),i.jsx("p",{className:"text-base font-medium pl-6",children:((E=f.recipientDetails)==null?void 0:E.name)||(f.type==="deposit"?"Wallet Top-up":f.type==="withdraw"?"Bank Withdrawal":f.type==="card_purchase"?"Virtual Card Purchase":f.type==="exchange"?"Currency Exchange":"Transaction")})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-muted-foreground uppercase",children:[i.jsx(Il,{className:"h-4 w-4"}),"Date & Time"]}),i.jsx("p",{className:"text-base font-medium pl-6",children:new Date(f.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-muted-foreground uppercase",children:[i.jsx(HO,{className:"h-4 w-4"}),"Transaction ID"]}),i.jsxs("div",{className:"flex items-center gap-2 pl-6",children:[i.jsx("p",{className:"text-xs font-mono text-primary break-all",children:f.id}),i.jsx("button",{onClick:()=>{navigator.clipboard.writeText(f.id),g({title:"Copied",description:"Transaction ID copied to clipboard"})},className:"text-muted-foreground hover:text-foreground p-1",children:i.jsx(vU,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-muted-foreground uppercase",children:[i.jsx(HO,{className:"h-4 w-4"}),"Type"]}),i.jsx("p",{className:"text-base font-medium pl-6 capitalize",children:f.type.replace("_"," ")})]}),f.description&&i.jsxs("div",{className:"space-y-1",children:[i.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-muted-foreground uppercase",children:[i.jsx(Nl,{className:"h-4 w-4"}),"Description"]}),i.jsx("p",{className:"text-base font-medium pl-6",children:f.description})]}),((k=f.metadata)==null?void 0:k.convertedAmount)&&((R=f.metadata)==null?void 0:R.targetCurrency)&&i.jsxs("div",{className:"space-y-1",children:[i.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-muted-foreground uppercase",children:[i.jsx(Qn,{className:"h-4 w-4"}),"Converted Amount"]}),i.jsxs("p",{className:"text-base font-medium pl-6",children:[f.metadata.targetCurrency," ",Ut(f.metadata.convertedAmount)]})]}),((L=f.metadata)==null?void 0:L.fee)&&i.jsxs("div",{className:"space-y-1",children:[i.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-muted-foreground uppercase",children:[i.jsx(Qn,{className:"h-4 w-4"}),"Fee"]}),i.jsxs("p",{className:"text-base font-medium pl-6 text-red-600",children:[P1(f.currency),Ut(f.metadata.fee)]})]}),f.status==="failed"&&((H=f.metadata)==null?void 0:H.errorMessage)&&i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900/40 p-3 rounded-lg space-y-1",children:[i.jsx("label",{className:"text-xs font-semibold text-red-700 dark:text-red-400 uppercase",children:"Error Details"}),i.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:f.metadata.errorMessage})]})]}),i.jsxs("div",{className:"flex gap-2 pt-4 border-t border-border",children:[i.jsxs("button",{onClick:()=>{F8([f],{fullName:m==null?void 0:m.fullName,email:m==null?void 0:m.email,phone:m==null?void 0:m.phone})},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors text-sm font-medium",children:[i.jsx(Gs,{className:"h-4 w-4"}),"Export"]}),i.jsx("button",{onClick:()=>h(null),className:"flex-1 px-4 py-2 rounded-lg border border-border hover:bg-muted transition-colors text-sm font-medium",children:"Close"})]})]})})]})}function Xye(){var j,S;const[,e]=Gt(),[t,r]=N.useState(!1),[n,a]=N.useState("auto"),{user:s}=Tr(),{toast:o}=Ct();en();const{data:l}=Kt({queryKey:["/api/virtual-card",s==null?void 0:s.id],enabled:!!(s!=null&&s.id)}),{data:c}=Kt({queryKey:["/api/transactions",s==null?void 0:s.id],enabled:!!(s!=null&&s.id)}),{data:u}=Kt({queryKey:["/api/system-settings/card-price"]}),{data:d}=Kt({queryKey:["/api/convert-to-kes",u],queryFn:async()=>{const P=(u==null?void 0:u.price)||"60.00";return(await He("POST","/api/convert-to-kes",{usdAmount:parseFloat(P)})).json()},enabled:!!u}),{data:f}=Kt({queryKey:["/api/manual-payment-settings"],queryFn:async()=>(await He("GET","/api/manual-payment-settings")).json()}),h=l==null?void 0:l.card,m=(s==null?void 0:s.hasVirtualCard)||!!h;c!=null&&c.transactions;const g=(u==null?void 0:u.price)||"60.00",x="60.00",v=g,p=parseFloat((s==null?void 0:s.balance)||"0"),y=St({mutationFn:async()=>(await He("POST","/api/virtual-card/initialize-payment",{userId:s==null?void 0:s.id})).json(),onSuccess:P=>{if(P.success)o({title:"STK Push Sent!",description:P.message||"Check your phone and enter your M-Pesa PIN to complete the payment."}),setTimeout(()=>{e(`/payment-processing?reference=${P.reference}&type=virtual-card`)},2e3);else throw new Error(P.message||"Unable to initialize M-Pesa payment")},onError:P=>{o({title:"Purchase Failed",description:P.message||"Unable to initiate card purchase. Please try again.",variant:"destructive"})}}),w=P=>t?P:"   "+P.slice(-4);return m?i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs(X.div,{initial:{opacity:0,y:30,rotateY:-15},animate:{opacity:1,y:0,rotateY:0},transition:{delay:.1,duration:.6},className:"relative",children:[i.jsxs("div",{className:"bg-gradient-to-br from-primary to-secondary p-6 rounded-2xl text-white elevation-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-green-200 text-sm",children:"GreenPay Card"}),i.jsx("p",{className:"text-xs text-green-200",children:"Virtual"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("div",{className:"w-8 h-5 bg-white/30 rounded"}),i.jsx("div",{className:"w-5 h-5 bg-white/50 rounded-full"})]})]}),i.jsx("div",{className:"mb-6",children:i.jsx("p",{className:"text-2xl font-mono tracking-wider","data-testid":"text-card-number",children:w((h==null?void 0:h.cardNumber)||"4567123456784567")})}),i.jsxs("div",{className:"flex justify-between items-end",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-green-200 text-xs",children:"CARDHOLDER"}),i.jsx("p",{className:"text-sm font-semibold",children:((S=s==null?void 0:s.fullName)==null?void 0:S.toUpperCase())||"JOHN DOE"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-green-200 text-xs",children:"EXPIRES"}),i.jsx("p",{className:"text-sm font-semibold",children:(h==null?void 0:h.expiryDate)||"12/27"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-green-200 text-xs",children:"CVV"}),i.jsx("p",{className:"text-sm font-semibold",children:t?(h==null?void 0:h.cvv)||"123":""})]})]})]}),i.jsx("div",{className:"absolute top-4 right-4",children:i.jsx(X.button,{whileTap:{scale:.95},onClick:()=>r(!t),className:"bg-white/20 backdrop-blur-sm p-2 rounded-full","data-testid":"button-toggle-card-details",children:i.jsx("span",{className:"material-icons text-white text-sm",children:t?"visibility_off":"visibility"})})}),i.jsx("div",{className:"absolute top-4 left-4",children:i.jsx("div",{className:`px-2 py-1 rounded-full ${h?h.status==="active"?"bg-green-500":h.status==="frozen"?"bg-orange-500":h.status==="expired"?"bg-gray-500":"bg-red-500":"bg-gray-500"}`,children:i.jsx("span",{className:"text-xs font-semibold text-white",children:h?h.status==="active"?"ACTIVE":h.status==="frozen"?"FROZEN":h.status==="expired"?"EXPIRED":"BLOCKED":"LOADING..."})})})]}),i.jsx(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Available Balance"}),i.jsxs("p",{className:"text-3xl font-bold text-primary","data-testid":"text-card-balance",children:["$",Ut(p)]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Last updated: Just now"})]})}),h&&h.status!=="active"&&i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:`p-4 rounded-xl ${h.status==="frozen"?"bg-orange-50 border border-orange-200":h.status==="expired"?"bg-gray-50 border border-gray-200":"bg-red-50 border border-red-200"}`,children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:`material-icons mr-3 ${h.status==="frozen"?"text-orange-500":h.status==="expired"?"text-gray-500":"text-red-500"}`,children:h.status==="frozen"?"pause_circle_filled":h.status==="expired"?"schedule":"block"}),i.jsxs("div",{children:[i.jsx("h3",{className:`font-semibold ${h.status==="frozen"?"text-orange-700":h.status==="expired"?"text-gray-700":"text-red-700"}`,children:h.status==="frozen"?"Card Frozen":h.status==="expired"?"Card Expired":"Card Blocked"}),i.jsx("p",{className:`text-sm ${h.status==="frozen"?"text-orange-600":h.status==="expired"?"text-gray-600":"text-red-600"}`,children:h.status==="frozen"?"Your virtual card has been frozen by an administrator. Please contact support for assistance.":h.status==="expired"?"Your virtual card has expired and can no longer be used. Purchase a new card to continue making transactions.":"Your virtual card has been blocked by an administrator. Please contact support for assistance."})]})]}),h.status==="expired"&&i.jsx("div",{className:"mt-3",children:i.jsx(re,{onClick:()=>y.mutate(),disabled:y.isPending,variant:"outline",className:"bg-green-600 hover:bg-green-700 text-white border-green-600","data-testid":"button-purchase-new-card",children:y.isPending?"Processing...":"Purchase New Card"})})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-2 gap-4",children:[i.jsxs(X.button,{whileHover:h&&h.status==="active"?{scale:1.02}:{},whileTap:h&&h.status==="active"?{scale:.98}:{},onClick:()=>{if(h)if(h.status==="active")e("/deposit");else{const P={frozen:{title:"Card Frozen",desc:"frozen"},expired:{title:"Card Expired",desc:"expired. Purchase a new card to continue"},default:{title:"Card Blocked",desc:"blocked"}},A=P[h.status]||P.default;o({title:A.title,description:`Cannot top up - your card has been ${A.desc}. Please contact support.`,variant:"destructive"})}},className:`bg-card p-4 rounded-xl border border-border text-center transition-colors elevation-1 ${h?h.status==="active"?"hover:bg-muted cursor-pointer":"opacity-50 cursor-not-allowed":"opacity-30 cursor-wait"}`,"data-testid":"button-top-up",children:[i.jsx("span",{className:`material-icons text-2xl mb-2 ${h&&h.status==="active"?"text-primary":"text-gray-400"}`,children:"add"}),i.jsx("p",{className:"font-semibold",children:"Top Up"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Add money to card"})]}),i.jsxs(X.button,{whileHover:h&&h.status==="active"?{scale:1.02}:{},whileTap:h&&h.status==="active"?{scale:.98}:{},onClick:()=>{if(h)if(h.status==="active")e("/withdraw");else{const P={frozen:{title:"Card Frozen",desc:"frozen"},expired:{title:"Card Expired",desc:"expired. Purchase a new card to continue"},default:{title:"Card Blocked",desc:"blocked"}},A=P[h.status]||P.default;o({title:A.title,description:`Cannot withdraw - your card has been ${A.desc}. Please contact support.`,variant:"destructive"})}},className:`bg-card p-4 rounded-xl border border-border text-center transition-colors elevation-1 ${h?h.status==="active"?"hover:bg-muted cursor-pointer":"opacity-50 cursor-not-allowed":"opacity-30 cursor-wait"}`,"data-testid":"button-withdraw",children:[i.jsx("span",{className:`material-icons text-2xl mb-2 ${h&&h.status==="active"?"text-secondary":"text-gray-400"}`,children:"remove"}),i.jsx("p",{className:"font-semibold",children:"Withdraw"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Transfer to bank"})]}),i.jsxs(X.button,{whileHover:h&&h.status==="active"?{scale:1.02}:{},whileTap:h&&h.status==="active"?{scale:.98}:{},onClick:()=>{if(h)if(h.status==="active")o({title:"Freeze Card Feature",description:"Card freeze functionality will be implemented in a future update."});else if(h.status==="expired")o({title:"Cannot Freeze Expired Card",description:"Your card has expired. Purchase a new card to continue using our services.",variant:"destructive"});else{const P={frozen:{title:"Card Already Frozen",status:"frozen"},default:{title:"Card Already Blocked",status:"blocked"}},A=P[h.status]||P.default;o({title:A.title,description:`Your card is already ${A.status}. Please contact support for assistance.`,variant:"destructive"})}},className:`bg-card p-4 rounded-xl border border-border text-center transition-colors elevation-1 ${h?h.status==="active"?"hover:bg-muted cursor-pointer":"opacity-50 cursor-not-allowed":"opacity-30 cursor-wait"}`,"data-testid":"button-freeze-card",children:[i.jsx("span",{className:`material-icons text-2xl mb-2 ${h&&h.status==="active"?"text-orange-500":"text-gray-400"}`,children:"lock"}),i.jsx("p",{className:"font-semibold",children:"Freeze Card"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Temporarily disable"})]}),i.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-card p-4 rounded-xl border border-border text-center hover:bg-muted transition-colors elevation-1","data-testid":"button-card-settings",children:[i.jsx("span",{className:"material-icons text-muted-foreground text-2xl mb-2",children:"settings"}),i.jsx("p",{className:"font-semibold",children:"Settings"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage card"})]})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card rounded-xl border border-border elevation-1",children:[i.jsx("div",{className:"p-4 border-b border-border",children:i.jsx("h3",{className:"font-semibold",children:"Card Information"})}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"Card Status"}),i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${h?h.status==="active"?"bg-green-100 text-green-600":h.status==="frozen"?"bg-orange-100 text-orange-600":h.status==="expired"?"bg-gray-100 text-gray-600":"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:h?h.status==="active"?"Active":h.status==="frozen"?"Frozen":h.status==="expired"?"Expired":"Blocked":"Loading..."})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"Daily Limit"}),i.jsx("span",{className:"font-medium",children:"$4,000"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"Monthly Limit"}),i.jsx("span",{className:"font-medium",children:"$50,000"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"Issue Date"}),i.jsx("span",{className:"font-medium",children:new Date().toLocaleDateString()})]})]})]})]})]}):i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[i.jsx(X.button,{whileTap:{scale:.95},onClick:()=>e("/dashboard"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors","data-testid":"button-back",children:"arrow_back"}),i.jsx("h1",{className:"text-lg font-semibold",children:"Virtual Card"})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-primary to-secondary p-6 rounded-2xl text-white elevation-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-green-200 text-sm",children:"GreenPay Card"}),i.jsx("p",{className:"text-xs text-green-200",children:"Virtual"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("div",{className:"w-8 h-5 bg-white/30 rounded"}),i.jsx("div",{className:"w-5 h-5 bg-white/50 rounded-full"})]})]}),i.jsx("div",{className:"mb-6",children:i.jsx("p",{className:"text-2xl font-mono tracking-wider text-green-200",children:"   "})}),i.jsxs("div",{className:"flex justify-between items-end",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-green-200 text-xs",children:"CARDHOLDER"}),i.jsx("p",{className:"text-sm font-semibold",children:((j=s==null?void 0:s.fullName)==null?void 0:j.toUpperCase())||"YOUR NAME"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-green-200 text-xs",children:"EXPIRES"}),i.jsx("p",{className:"text-sm font-semibold",children:"/"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-green-200 text-xs",children:"CVV"}),i.jsx("p",{className:"text-sm font-semibold",children:""})]})]})]}),i.jsx(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card p-6 rounded-xl border border-border elevation-1",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:i.jsx("span",{className:"material-icons text-primary text-2xl",children:"credit_card"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Get Your Virtual Card"}),i.jsx("p",{className:"text-muted-foreground",children:"Purchase a virtual card to unlock international transactions and online payments."})]}),i.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-medium",children:"Virtual Card"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{className:"text-sm line-through text-muted-foreground",children:["$",x]}),i.jsxs("span",{className:"text-xl font-bold text-green-600",children:["$",v]}),i.jsx("div",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full font-bold",children:"75% OFF"})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground text-left",children:"One-time purchase  No monthly fees  Valid for 3 years"})]}),i.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground text-left",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-green-500 text-sm mr-2",children:"check"}),"International online payments"]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-green-500 text-sm mr-2",children:"check"}),"Secure transactions worldwide"]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-green-500 text-sm mr-2",children:"check"}),"Real-time spending controls"]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-green-500 text-sm mr-2",children:"check"}),"Instant card generation"]})]}),i.jsx(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(X.span,{initial:{rotate:-10},animate:{rotate:0},transition:{delay:.4,type:"spring",stiffness:200},className:"material-icons text-blue-600 dark:text-blue-400 text-2xl",children:"payment"}),i.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Available Payment Methods in Your Country"})]})}),i.jsxs("div",{className:"space-y-3 mt-4",children:[i.jsx("h3",{className:"font-semibold text-sm",children:"Choose Payment Method"}),i.jsx(X.div,{whileTap:{scale:.98},onClick:()=>a("auto"),className:`relative p-3 rounded-xl border-2 cursor-pointer transition-all ${n==="auto"?"border-primary bg-primary/5":"border-border bg-muted/50 hover:border-primary/50"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center mt-0.5 transition-all ${n==="auto"?"border-primary bg-primary":"border-border"}`,children:n==="auto"&&i.jsx("span",{className:"material-icons text-white text-xs",children:"check"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h4",{className:"font-semibold text-sm",children:"Automatic Payment"}),i.jsx("span",{className:"bg-green-500/10 text-green-700 dark:text-green-400 text-xs px-2 py-0.5 rounded-full font-medium",children:"Recommended"})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Instant activation via PayHero M-Pesa STK Push"})]})]})}),i.jsx(X.div,{whileTap:{scale:.98},onClick:()=>a("manual"),className:`relative p-3 rounded-xl border-2 cursor-pointer transition-all ${n==="manual"?"border-primary bg-primary/5":"border-border bg-muted/50 hover:border-primary/50"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center mt-0.5 transition-all ${n==="manual"?"border-primary bg-primary":"border-border"}`,children:n==="manual"&&i.jsx("span",{className:"material-icons text-white text-xs",children:"check"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Manual M-Pesa Payment"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Pay via paybill and contact support"})]})]})})]}),n==="manual"&&i.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-muted/50 p-4 rounded-xl border border-border space-y-3",children:[i.jsxs("h4",{className:"font-semibold text-sm flex items-center",children:[i.jsx("span",{className:"material-icons text-primary mr-2 text-sm",children:"payments"}),"Payment Instructions"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[i.jsx("span",{className:"text-muted-foreground",children:"Paybill Number:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-mono font-semibold",children:(f==null?void 0:f.paybill)||"247"}),i.jsx(re,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{navigator.clipboard.writeText((f==null?void 0:f.paybill)||"247"),o({title:"Copied",description:"Paybill number copied"})},children:i.jsx("span",{className:"material-icons text-xs",children:"content_copy"})})]})]}),i.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[i.jsx("span",{className:"text-muted-foreground",children:"Account Number:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-mono font-semibold",children:(f==null?void 0:f.account)||"4664"}),i.jsx(re,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{navigator.clipboard.writeText((f==null?void 0:f.account)||"4664"),o({title:"Copied",description:"Account number copied"})},children:i.jsx("span",{className:"material-icons text-xs",children:"content_copy"})})]})]}),i.jsxs("div",{className:"flex justify-between items-center py-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"font-semibold",children:["KES ",d!=null&&d.kesAmount?Math.round(d.kesAmount).toLocaleString():"..."]}),i.jsx(re,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{d!=null&&d.kesAmount&&(navigator.clipboard.writeText(Math.round(d.kesAmount).toString()),o({title:"Copied",description:"Amount copied"}))},children:i.jsx("span",{className:"material-icons text-xs",children:"content_copy"})})]})]})]}),i.jsx("div",{className:"p-3 bg-amber-500/10 rounded-lg border border-amber-500/20",children:i.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-400",children:[i.jsx("span",{className:"material-icons text-xs mr-1 align-middle",children:"info"}),"After payment, contact support with your M-Pesa confirmation to activate your card."]})}),i.jsxs(re,{onClick:()=>e("/support"),variant:"outline",className:"w-full",children:[i.jsx("span",{className:"material-icons text-sm mr-2",children:"support_agent"}),"Contact Support"]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-border",children:[i.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-4",children:"Our Trusted Partners In Kenya"}),i.jsxs("div",{className:"flex items-center justify-center gap-6 transition-all duration-300",children:[i.jsx("img",{src:"https://res.cloudinary.com/dyzalgxnu/image/upload/v1766714659/images_6_jdajcc.png",alt:"M-Pesa",className:"h-6 w-auto object-contain"}),i.jsx("img",{src:"https://res.cloudinary.com/dyzalgxnu/image/upload/v1766714659/images_7_gglpsr.png",alt:"Visa",className:"h-4 w-auto object-contain"}),i.jsx("img",{src:"https://res.cloudinary.com/dyzalgxnu/image/upload/v1766714659/images_8_dqu9rs.png",alt:"Mastercard",className:"h-6 w-auto object-contain"}),i.jsx("img",{src:"https://res.cloudinary.com/dyzalgxnu/image/upload/v1766714659/images_5_oo3tuy.png",alt:"NCBA",className:"h-5 w-auto object-contain"})]}),i.jsx("p",{className:"mt-4 text-[10px] text-muted-foreground leading-relaxed",children:"We partner with industry leaders to ensure your transactions are safe, encrypted, and processed instantly across 200+ countries."})]})]})})]})]})}var Z3="Switch",[Zye,OBe]=js(Z3),[Qye,Jye]=Zye(Z3),aK=N.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=N.useState(null),g=br(t,w=>m(w)),x=N.useRef(!1),v=h?d||!!h.closest("form"):!0,[p=!1,y]=Ll({prop:a,defaultProp:s,onChange:u});return i.jsxs(Qye,{scope:r,checked:p,disabled:l,children:[i.jsx(Tt.button,{type:"button",role:"switch","aria-checked":p,"aria-required":o,"data-state":lK(p),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:jt(e.onClick,w=>{y(j=>!j),v&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),v&&i.jsx(eve,{control:h,bubbles:!x.current,name:n,value:c,checked:p,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});aK.displayName=Z3;var sK="SwitchThumb",oK=N.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=Jye(sK,r);return i.jsx(Tt.span,{"data-state":lK(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});oK.displayName=sK;var eve=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,s=N.useRef(null),o=hq(r),l=GU(t);return N.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function lK(e){return e?"checked":"unchecked"}var cK=aK,tve=oK;const gi=N.forwardRef(({className:e,...t},r)=>i.jsx(cK,{className:_t("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(tve,{className:_t("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));gi.displayName=cK.displayName;function rve(){var Re,Ue;const[,e]=Gt(),{user:t,logout:r,login:n}=Tr(),{toast:a}=Ct();en();const[s,o]=N.useState(!1),[l,c]=N.useState({fullName:(t==null?void 0:t.fullName)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",country:(t==null?void 0:t.country)||""}),[u,d]=N.useState(!1),[f,h]=N.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,g]=N.useState({defaultCurrency:(t==null?void 0:t.defaultCurrency)||"KES",pushNotificationsEnabled:(t==null?void 0:t.pushNotificationsEnabled)!==!1,twoFactorEnabled:(t==null?void 0:t.twoFactorEnabled)||!1,biometricEnabled:(t==null?void 0:t.biometricEnabled)||!1,pinEnabled:(t==null?void 0:t.pinEnabled)||!1,darkMode:(t==null?void 0:t.darkMode)||!1}),[x,v]=N.useState(!1),[p,y]=N.useState("create"),[w,j]=N.useState(""),[S,P]=N.useState(""),[A,C]=N.useState(!1),[O,D]=N.useState("");N.useState(null);const[E,k]=N.useState(!1),[R,L]=N.useState(null),[H,F]=N.useState("qr"),[V,B]=N.useState(""),[G,le]=N.useState([]),[fe,$]=N.useState(null),[q,Q]=N.useState("");N.useState(!1);const[ae,ue]=N.useState(null),[ce,we]=N.useState((t==null?void 0:t.profilePhotoUrl)||null),oe=N.useRef(null),ye=St({mutationFn:async he=>(await He("PUT",`/api/users/${t==null?void 0:t.id}/profile`,he)).json(),onSuccess:he=>{n(he.user),o(!1),a({title:"Profile Updated",description:"Your profile has been updated successfully"})},onError:he=>{a({title:"Update Failed",description:he.message||"Unable to update profile",variant:"destructive"})}}),Ne=St({mutationFn:async he=>(await He("POST",`/api/users/${t==null?void 0:t.id}/change-password`,{currentPassword:he.currentPassword,newPassword:he.newPassword})).json(),onSuccess:()=>{d(!1),h({currentPassword:"",newPassword:"",confirmPassword:""}),a({title:"Password Changed",description:"Your password has been updated successfully"})},onError:he=>{a({title:"Password Change Failed",description:he.message||"Unable to change password",variant:"destructive"})}}),pe=St({mutationFn:async he=>{const ze=new FormData;ze.append("photo",he);const Ye=await fetch(`/api/users/${t==null?void 0:t.id}/profile-photo`,{method:"POST",credentials:"include",body:ze});if(!Ye.ok)throw new Error("Failed to upload photo");return Ye.json()},onSuccess:he=>{n(he.user),we(he.user.profilePhotoUrl),ue(null),a({title:"Photo Updated",description:"Your profile photo has been updated successfully"})},onError:he=>{a({title:"Upload Failed",description:he.message||"Unable to upload photo",variant:"destructive"})}}),_e=he=>{var Ye;const ze=(Ye=he.target.files)==null?void 0:Ye[0];if(ze){if(!ze.type.startsWith("image/")){a({title:"Invalid File",description:"Please select an image file",variant:"destructive"});return}if(ze.size>5*1024*1024){a({title:"File Too Large",description:"Please select an image under 5MB",variant:"destructive"});return}ue(ze);const or=new FileReader;or.onloadend=()=>{we(or.result)},or.readAsDataURL(ze),pe.mutate(ze)}},ve=St({mutationFn:async he=>(await He("PUT",`/api/users/${t==null?void 0:t.id}/settings`,he)).json(),onSuccess:he=>{n(he.user),a({title:"Settings Updated",description:"Your preferences have been saved"})},onError:he=>{a({title:"Settings Update Failed",description:he.message||"Unable to update settings",variant:"destructive"})}}),J=()=>{if(!l.fullName||!l.email||!l.phone||!l.country){a({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});return}ye.mutate(l)},ut=()=>{if(!f.currentPassword||!f.newPassword||!f.confirmPassword){a({title:"Missing Information",description:"Please fill in all password fields",variant:"destructive"});return}if(f.newPassword!==f.confirmPassword){a({title:"Password Mismatch",description:"New password and confirmation do not match",variant:"destructive"});return}if(f.newPassword.length<8){a({title:"Weak Password",description:"Password must be at least 8 characters long",variant:"destructive"});return}Ne.mutate(f)},at=(he,ze)=>{const Ye={...m,[he]:ze};g(Ye),ve.mutate(Ye)},ct=St({mutationFn:async()=>(await He("POST","/api/auth/setup-2fa",{userId:t==null?void 0:t.id})).json(),onSuccess:he=>{L(he.qrCodeUrl),$(he.secret),le(Array.isArray(he.backupCodes)?he.backupCodes:[]),F("qr"),k(!0)},onError:he=>{a({title:"Setup Failed",description:he.message||"Unable to setup 2FA",variant:"destructive"})}}),$e=St({mutationFn:async he=>(await He("POST","/api/auth/2fa/verify",{userId:t==null?void 0:t.id,token:he})).json(),onSuccess:he=>{he.user&&n(he.user),G.length>0?F("backup"):(k(!1),F("qr"),B(""),le([]),g({...m,twoFactorEnabled:!0})),B(""),a({title:"2FA Enabled",description:"Your authenticator has been successfully set up"})},onError:he=>{a({title:"Verification Failed",description:he.message||"Invalid authenticator code",variant:"destructive"})}}),dt=St({mutationFn:async he=>(await He("POST",`/api/users/${t==null?void 0:t.id}/pin/setup`,{pin:he})).json(),onSuccess:he=>{n(he.user),g({...m,pinEnabled:!0}),v(!1),j(""),P(""),a({title:"PIN Set Successfully",description:"Your PIN has been saved. It will be required for future logins and transactions."})},onError:he=>{a({title:"PIN Setup Failed",description:he.message||"Unable to set PIN",variant:"destructive"})}}),Qe=St({mutationFn:async he=>(await He("POST",`/api/users/${t==null?void 0:t.id}/pin/disable`,{password:he})).json(),onSuccess:he=>{n(he.user),g({...m,pinEnabled:!1}),C(!1),D(""),a({title:"PIN Disabled",description:"Your PIN has been disabled successfully."})},onError:he=>{a({title:"Disable Failed",description:he.message||"Unable to disable PIN",variant:"destructive"})}}),ie=St({mutationFn:async he=>(await He("POST",`/api/users/${t==null?void 0:t.id}/disable-2fa`,{password:he})).json(),onSuccess:he=>{n(he.user),g({...m,twoFactorEnabled:!1}),k(!1),Q(""),a({title:"2FA Disabled",description:"Two-factor authentication has been disabled"})},onError:he=>{a({title:"Disable Failed",description:he.message||"Unable to disable 2FA",variant:"destructive"})}}),me=St({mutationFn:async()=>{if(!window.PublicKeyCredential)throw new Error("Your device doesn't support biometric authentication");const ze={challenge:crypto.getRandomValues(new Uint8Array(32)),rp:{name:"GreenPay",id:window.location.hostname},user:{id:crypto.getRandomValues(new Uint8Array(16)),name:(t==null?void 0:t.email)||"user",displayName:(t==null?void 0:t.fullName)||"User"},pubKeyCredParams:[{alg:-7,type:"public-key"},{alg:-257,type:"public-key"}],timeout:6e4,userVerification:"preferred"},Ye=await navigator.credentials.create({publicKey:ze});if(!Ye)throw new Error("Biometric enrollment was cancelled or failed");return(await He("POST","/api/auth/biometric/setup",{userId:t==null?void 0:t.id,credentialId:Ye.id})).json()},onSuccess:he=>{he.user&&n(he.user),g({...m,biometricEnabled:!0}),a({title:"Biometric Setup Complete",description:"You can now use your fingerprint or face to authenticate"})},onError:he=>{a({title:"Setup Failed",description:he.message||"Unable to setup biometric authentication",variant:"destructive"})}}),Pe=St({mutationFn:async()=>(await He("POST",`/api/users/${t==null?void 0:t.id}/disable-biometric`,{})).json(),onSuccess:he=>{n(he.user),g({...m,biometricEnabled:!1}),a({title:"Biometric Disabled",description:"Biometric authentication has been disabled"})},onError:he=>{a({title:"Disable Failed",description:he.message||"Unable to disable biometric",variant:"destructive"})}}),Fe=async()=>{"Notification"in window&&await Notification.requestPermission()==="granted"&&(at("pushNotificationsEnabled",!0),a({title:"Notifications Enabled",description:"You'll receive push notifications for transactions"}),await He("POST","/api/notifications/register",{userId:t==null?void 0:t.id,endpoint:"browser-notification"}))},Me=()=>{localStorage.clear(),sessionStorage.clear(),r(),e("/")};return i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[t!=null&&t.profilePhotoUrl?i.jsx("img",{src:t.profilePhotoUrl,alt:"Profile",className:"w-16 h-16 rounded-full object-cover mr-4 border-2 border-primary/20"}):i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center mr-4",children:i.jsx("span",{className:"text-white font-bold text-xl",children:((Re=t==null?void 0:t.fullName)==null?void 0:Re.split(" ").map(he=>he[0]).join(""))||"JD"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-lg",children:(t==null?void 0:t.fullName)||"John Doe"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:t==null?void 0:t.email}),i.jsx("p",{className:`text-xs px-2 py-1 rounded-full inline-block mt-1 ${(t==null?void 0:t.kycStatus)==="verified"?"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-950":"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-950"}`,children:(t==null?void 0:t.kycStatus)==="verified"?"KYC Verified":"KYC Pending"})]})]}),i.jsxs(ca,{open:s,onOpenChange:o,children:[i.jsx(kc,{asChild:!0,children:i.jsxs(re,{variant:"outline",className:"w-full mt-4 flex items-center justify-center gap-2 hover:bg-primary/10 hover:text-primary hover:border-primary transition-all","data-testid":"button-edit-profile",children:[i.jsx("span",{className:"material-icons text-sm",children:"edit"}),"Update Profile"]})}),i.jsx(Vi,{className:"sm:max-w-md w-[calc(100%-2rem)] max-h-[70vh] top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] bg-gradient-to-b from-background to-muted/20 p-5 overflow-y-auto",children:i.jsxs("div",{className:"pb-20",children:[i.jsx(vi,{className:"mb-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center",children:i.jsx("span",{className:"material-icons text-white text-base",children:"person"})}),i.jsxs("div",{children:[i.jsx(ai,{className:"text-xl font-bold",children:"Update Profile"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep your info up to date"})]})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col items-center space-y-3 pb-4 border-b border-border/50",children:[i.jsxs("div",{className:"relative group",children:[ce?i.jsx("img",{src:ce,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-primary/20 shadow-lg transition-transform group-hover:scale-105"}):i.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center shadow-lg transition-transform group-hover:scale-105",children:i.jsx("span",{className:"text-white font-bold text-3xl",children:((Ue=t==null?void 0:t.fullName)==null?void 0:Ue.split(" ").map(he=>he[0]).join(""))||"JD"})}),i.jsx("button",{type:"button",onClick:()=>{var he;return(he=oe.current)==null?void 0:he.click()},disabled:pe.isPending,className:"absolute bottom-0 right-0 w-10 h-10 bg-primary rounded-full flex items-center justify-center shadow-xl hover:bg-primary/90 transition-all hover:scale-110 disabled:opacity-50 border-4 border-background",children:pe.isPending?i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):i.jsx("span",{className:"material-icons text-white text-base",children:"photo_camera"})})]}),i.jsx("input",{ref:oe,type:"file",accept:"image/*",onChange:_e,className:"hidden"}),i.jsxs("div",{className:"text-center space-y-1",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:pe.isPending?"Uploading...":"Profile Photo"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Click camera icon to update"})]})]}),i.jsxs("div",{className:"space-y-4 bg-muted/30 p-4 rounded-xl",children:[i.jsxs("h4",{className:"font-semibold text-sm text-foreground flex items-center gap-2",children:[i.jsx("span",{className:"material-icons text-sm text-primary",children:"badge"}),"Personal Information"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"fullName",className:"text-sm font-medium",children:"Full Name *"}),i.jsx(Be,{id:"fullName",placeholder:"e.g., John Doe",value:l.fullName,onChange:he=>c({...l,fullName:he.target.value}),"data-testid":"input-full-name",className:"mt-1.5"})]}),i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"email",className:"text-sm font-medium",children:"Email Address *"}),i.jsx(Be,{id:"email",type:"email",placeholder:"your.email@example.com",value:l.email,onChange:he=>c({...l,email:he.target.value}),"data-testid":"input-email",className:"mt-1.5"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1.5",children:"Used for account notifications"})]}),i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"phone",className:"text-sm font-medium",children:"Phone Number *"}),i.jsx(Be,{id:"phone",type:"tel",placeholder:"07XXXXXXXX",value:l.phone,onChange:he=>c({...l,phone:he.target.value}),"data-testid":"input-phone",className:"mt-1.5"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1.5",children:"Used for M-Pesa payments and 2FA"})]}),i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"country",className:"text-sm font-medium",children:"Country *"}),i.jsxs(Kr,{value:l.country,onValueChange:he=>c({...l,country:he}),children:[i.jsx(Br,{"data-testid":"select-country",className:"mt-1.5",children:i.jsx(Gr,{placeholder:"Select your country"})}),i.jsxs(Ur,{children:[i.jsx(nt,{value:"Kenya",children:" Kenya"}),i.jsx(nt,{value:"Nigeria",children:" Nigeria"}),i.jsx(nt,{value:"Ghana",children:" Ghana"}),i.jsx(nt,{value:"South Africa",children:" South Africa"}),i.jsx(nt,{value:"Uganda",children:" Uganda"}),i.jsx(nt,{value:"Tanzania",children:" Tanzania"}),i.jsx(nt,{value:"United States",children:" United States"}),i.jsx(nt,{value:"United Kingdom",children:" United Kingdom"}),i.jsx(nt,{value:"Canada",children:" Canada"})]})]})]})]})]}),i.jsxs("div",{className:"border-t border-border pt-4",children:[i.jsxs("button",{onClick:()=>d(!u),className:"flex items-center justify-between w-full text-sm font-medium text-foreground hover:text-primary transition-colors",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"material-icons text-sm",children:"lock"}),"Change Password"]}),i.jsx("span",{className:`material-icons text-sm transition-transform ${u?"rotate-180":""}`,children:"expand_more"})]}),u&&i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"currentPassword",className:"text-sm",children:"Current Password"}),i.jsx(Be,{id:"currentPassword",type:"password",placeholder:"Enter current password",value:f.currentPassword,onChange:he=>h({...f,currentPassword:he.target.value}),className:"mt-1.5"})]}),i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"newPassword",className:"text-sm",children:"New Password"}),i.jsx(Be,{id:"newPassword",type:"password",placeholder:"Min. 8 characters",value:f.newPassword,onChange:he=>h({...f,newPassword:he.target.value}),className:"mt-1.5"})]}),i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"confirmPassword",className:"text-sm",children:"Confirm New Password"}),i.jsx(Be,{id:"confirmPassword",type:"password",placeholder:"Re-enter new password",value:f.confirmPassword,onChange:he=>h({...f,confirmPassword:he.target.value}),className:"mt-1.5"})]}),i.jsx(re,{onClick:ut,className:"w-full",disabled:Ne.isPending,children:Ne.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"material-icons animate-spin text-sm mr-2",children:"sync"}),"Updating..."]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"material-icons text-sm mr-2",children:"check"}),"Update Password"]})})]})]}),i.jsxs("div",{className:"flex gap-3 pt-6 pb-2",children:[i.jsxs(re,{variant:"outline",onClick:()=>o(!1),className:"flex-1 hover:bg-muted transition-all",children:[i.jsx("span",{className:"material-icons text-sm mr-2",children:"close"}),"Cancel"]}),i.jsx(re,{onClick:J,className:"flex-1 bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-white shadow-lg hover:shadow-xl transition-all",disabled:ye.isPending,"data-testid":"button-save-profile",children:ye.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"material-icons animate-spin text-sm mr-2",children:"sync"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"material-icons text-sm mr-2",children:"check_circle"}),"Save Changes"]})})]})]})]})})]})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"ACCOUNT"}),i.jsxs(X.div,{whileHover:{scale:1.01},className:"bg-card p-4 rounded-xl border border-border flex items-center justify-between elevation-1",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-primary mr-3",children:"account_balance"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Default Currency"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your preferred currency"})]})]}),i.jsxs(Kr,{value:m.defaultCurrency,onValueChange:he=>at("defaultCurrency",he),children:[i.jsx(Br,{className:"w-32","data-testid":"select-default-currency",children:i.jsx(Gr,{})}),i.jsxs(Ur,{children:[i.jsx(nt,{value:"USD",children:"$ USD"}),i.jsx(nt,{value:"KES",children:"KSh KES"})]})]})]}),i.jsxs(X.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>e("/kyc"),className:"w-full bg-card p-4 rounded-xl border border-border flex items-center justify-between hover:bg-muted transition-colors elevation-1","data-testid":"button-kyc",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-secondary mr-3",children:"verified_user"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium",children:"Identity Verification"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your KYC documents"})]})]}),i.jsx(x1,{className:"w-5 h-5"})]}),i.jsxs(X.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>e("/virtual-card"),className:"w-full bg-card p-4 rounded-xl border border-border flex items-center justify-between hover:bg-muted transition-colors elevation-1","data-testid":"button-virtual-card-settings",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-primary mr-3",children:"credit_card"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium",children:"Virtual Card"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t!=null&&t.hasVirtualCard?"Manage your card":"Purchase virtual card"})]})]}),i.jsx(x1,{className:"w-5 h-5"})]})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"SECURITY"}),i.jsxs(X.div,{whileHover:{scale:1.01},className:"bg-card p-4 rounded-xl border border-border flex items-center justify-between elevation-1",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-secondary mr-3",children:"security"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Two-Factor Authentication"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Add extra security to your account"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(gi,{checked:m.twoFactorEnabled,onCheckedChange:he=>{he&&!m.twoFactorEnabled?(F("qr"),ct.mutate()):!he&&m.twoFactorEnabled&&ie.mutate("")},"data-testid":"switch-2fa"}),ct.isPending&&i.jsx("span",{className:"text-xs",children:"Setting up..."})]})]}),i.jsxs(X.div,{whileHover:{scale:1.01},className:"bg-card p-4 rounded-xl border border-border flex items-center justify-between elevation-1",children:[i.jsxs("div",{className:"flex items-center flex-1",children:[i.jsx("span",{className:"material-icons text-accent mr-3",children:"lock"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:"PIN Code"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:m.pinEnabled?"PIN is set":"Set a 4-digit PIN"})]})]}),!m.pinEnabled&&i.jsxs(ca,{open:x,onOpenChange:v,children:[i.jsx(kc,{asChild:!0,children:i.jsx(re,{size:"sm",variant:"outline",children:"Set PIN"})}),i.jsxs(Vi,{children:[i.jsx(vi,{children:i.jsx(ai,{children:"Set Your PIN"})}),i.jsxs("div",{className:"space-y-4 py-4",children:[p==="create"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"Enter 4-digit PIN"}),i.jsx(Be,{type:"password",inputMode:"numeric",placeholder:"",maxLength:4,value:w,onChange:he=>j(he.target.value.replace(/[^0-9]/g,"")),className:"text-center text-2xl tracking-widest mt-2"})]}),i.jsx(re,{className:"w-full",disabled:w.length!==4,onClick:()=>y("confirm"),children:"Next"})]}),p==="confirm"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"Confirm PIN"}),i.jsx(Be,{type:"password",inputMode:"numeric",placeholder:"",maxLength:4,value:S,onChange:he=>P(he.target.value.replace(/[^0-9]/g,"")),className:"text-center text-2xl tracking-widest mt-2"})]}),w!==S&&S&&i.jsx("p",{className:"text-sm text-destructive",children:"PINs do not match"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(re,{variant:"outline",className:"flex-1",onClick:()=>{y("create"),j(""),P("")},children:"Back"}),i.jsx(re,{className:"flex-1",disabled:w!==S||S.length!==4||dt.isPending,onClick:()=>dt.mutate(w),children:dt.isPending?"Setting...":"Set PIN"})]})]})]})]})]}),m.pinEnabled&&i.jsxs(ca,{open:A,onOpenChange:C,children:[i.jsx(kc,{asChild:!0,children:i.jsx(re,{size:"sm",variant:"destructive",children:"Reset PIN"})}),i.jsxs(Vi,{className:"max-w-sm",children:[i.jsx(vi,{children:i.jsx(ai,{className:"text-destructive",children:"Reset Your PIN"})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsx("div",{className:"p-3 bg-destructive/10 rounded-lg border border-destructive/20",children:i.jsx("p",{className:"text-sm text-destructive font-medium",children:" This will disable your PIN protection. You'll need to set a new one to use PIN authentication."})}),i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"disable-pin-password",children:"Enter your password to confirm"}),i.jsx(Be,{id:"disable-pin-password",type:"password",placeholder:"",value:O,onChange:he=>D(he.target.value),className:"mt-2",autoFocus:!0})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(re,{variant:"outline",className:"flex-1",onClick:()=>{C(!1),D("")},children:"Cancel"}),i.jsx(re,{variant:"destructive",className:"flex-1",disabled:!O||Qe.isPending,onClick:()=>Qe.mutate(O),children:Qe.isPending?"Disabling...":"Reset PIN"})]})]})]})]})]}),i.jsxs(X.div,{whileHover:{scale:1.01},className:"bg-card p-4 rounded-xl border border-border flex items-center justify-between elevation-1",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-accent mr-3",children:"fingerprint"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Biometric Authentication"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Fingerprint, face, or device unlock"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(gi,{checked:m.biometricEnabled,onCheckedChange:he=>{he&&!m.biometricEnabled?me.mutate():!he&&m.biometricEnabled&&Pe.mutate()},disabled:me.isPending||Pe.isPending,"data-testid":"switch-biometric"}),(me.isPending||Pe.isPending)&&i.jsx("span",{className:"text-xs",children:"Processing..."})]})]}),i.jsxs(X.div,{whileHover:{scale:1.01},className:"bg-card p-4 rounded-xl border border-border flex items-center justify-between elevation-1",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-accent mr-3",children:"dark_mode"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Dark Mode"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Use dark theme"})]})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx(gi,{checked:m.darkMode||!1,onCheckedChange:he=>{at("darkMode",he),he?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},"data-testid":"switch-dark-mode"})})]})]}),i.jsx(ca,{open:E,onOpenChange:he=>{he||(k(!1),F("qr"),B(""))},children:i.jsxs(Vi,{className:"sm:max-w-md",children:[i.jsx(vi,{children:i.jsxs(ai,{children:[H==="qr"&&"Setup Two-Factor Authentication",H==="verify"&&"Verify Your Authenticator",H==="backup"&&"Save Your Backup Codes"]})}),H==="qr"&&R&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-muted p-4 rounded-lg text-center",children:i.jsx("img",{src:R,alt:"2FA QR Code",className:"w-48 h-48 mx-auto"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"font-semibold",children:"Scan with Authenticator App"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Use Google Authenticator, Authy, Microsoft Authenticator, or any TOTP-compatible app to scan this QR code."})]}),fe&&i.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Or enter this code manually:"}),i.jsx("p",{className:"font-mono text-sm font-semibold break-all",children:fe})]}),i.jsx(re,{onClick:()=>F("verify"),className:"w-full",children:"Next: Verify Code"}),i.jsx(re,{onClick:()=>{k(!1),F("qr")},variant:"outline",className:"w-full",children:"Cancel"})]}),H==="verify"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter the 6-digit code from your authenticator app to verify the setup:"}),i.jsx("div",{className:"flex gap-1 justify-center",children:Array(6).fill(0).map((he,ze)=>i.jsx("input",{type:"text",inputMode:"numeric",maxLength:1,value:V[ze]||"",onChange:Ye=>{var Dt,Sr;let or=Ye.target.value.replace(/[^0-9]/g,"");const Jt=V.split("");Jt[ze]=or;const mt=Jt.join("").slice(0,6);B(mt),mt.length===6&&ze<5&&((Sr=(Dt=Ye.target.parentElement)==null?void 0:Dt.children[ze+1])==null||Sr.focus())},onPaste:Ye=>{Ye.preventDefault();const Jt=(Ye.clipboardData||window.clipboardData).getData("text").replace(/[^0-9]/g,"").slice(0,6);B(Jt)},onKeyDown:Ye=>{var or,Jt;Ye.key==="Backspace"&&!Ye.currentTarget.value&&ze>0&&((Jt=(or=Ye.currentTarget.parentElement)==null?void 0:or.children[ze-1])==null||Jt.focus())},className:"w-12 h-12 text-center text-xl font-bold border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"},ze))})]}),i.jsx(re,{onClick:()=>$e.mutate(V),disabled:V.length!==6||$e.isPending,className:"w-full",children:$e.isPending?"Verifying...":"Verify & Enable"}),i.jsx(re,{onClick:()=>F("qr"),variant:"outline",className:"w-full",disabled:$e.isPending,children:"Back"})]}),H==="backup"&&i.jsx("div",{className:"space-y-4",children:G.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900/40 p-3 rounded-lg",children:i.jsxs("p",{className:"text-sm text-amber-900 dark:text-amber-200",children:[i.jsx("strong",{children:" Save these backup codes in a safe place."})," You can use them to access your account if you lose your authenticator device."]})}),i.jsx("div",{className:"bg-muted p-4 rounded-lg space-y-2 max-h-64 overflow-y-auto border border-border",children:G.map((he,ze)=>i.jsxs("div",{className:"font-mono text-sm font-medium flex items-center justify-between bg-background/50 p-2 rounded",children:[i.jsx("span",{className:"tracking-wider",children:he}),i.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["#",ze+1]})]},ze))}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(re,{onClick:()=>{const he=G.join(`
`);navigator.clipboard.writeText(he),a({title:"Copied",description:"All backup codes copied to clipboard"})},variant:"outline",className:"flex-1",children:[i.jsx("span",{className:"material-icons text-sm mr-1",children:"content_copy"}),"Copy"]}),i.jsxs(re,{onClick:()=>{const he=G.join(`
`),ze=document.createElement("a");ze.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(he)),ze.setAttribute("download","backup-codes.txt"),ze.style.display="none",document.body.appendChild(ze),ze.click(),document.body.removeChild(ze),a({title:"Downloaded",description:"Backup codes downloaded as file"})},variant:"outline",className:"flex-1",children:[i.jsx("span",{className:"material-icons text-sm mr-1",children:"download"}),"Save"]})]}),i.jsx(re,{onClick:()=>{k(!1),F("qr"),B(""),le([]),at("twoFactorEnabled",!0)},className:"w-full",children:"I've Saved My Codes - Done"})]}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx("span",{className:"material-icons text-4xl text-muted-foreground mb-2",children:"hourglass_empty"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading backup codes..."})]})})]})}),m.twoFactorEnabled&&i.jsx(ca,{open:!1,onOpenChange:()=>{},children:i.jsxs(Vi,{children:[i.jsx(vi,{children:i.jsx(ai,{children:"Disable Two-Factor Authentication"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your password to disable 2FA. This will remove the extra security from your account."}),i.jsx(Be,{type:"password",placeholder:"Enter your password",value:q,onChange:he=>Q(he.target.value)}),i.jsx(re,{onClick:()=>ie.mutate(q),disabled:!q||ie.isPending,className:"w-full bg-destructive hover:bg-destructive/90",children:ie.isPending?"Disabling...":"Disable 2FA"})]})]})}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.35},className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wider",children:"Security"}),i.jsxs(X.div,{whileHover:{scale:1.01},className:"bg-card p-4 rounded-xl border border-border flex items-center justify-between elevation-1",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center mr-3",children:i.jsx("span",{className:"material-icons text-primary",children:"fingerprint"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Biometric Login"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"FaceID or Fingerprint"})]})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx(gi,{checked:m.biometricEnabled,onCheckedChange:he=>{he?me.mutate():Pe.mutate()},disabled:me.isPending||Pe.isPending,"data-testid":"switch-biometric"})})]})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"NOTIFICATIONS"}),i.jsxs(X.div,{whileHover:{scale:1.01},className:"bg-card p-4 rounded-xl border border-border flex items-center justify-between elevation-1",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-primary mr-3",children:"notifications"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Push Notifications"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Transaction alerts and updates"})]})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx(gi,{checked:m.pushNotificationsEnabled,onCheckedChange:he=>{he&&!m.pushNotificationsEnabled?Fe():at("pushNotificationsEnabled",he)},"data-testid":"switch-notifications"})})]})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"SUPPORT & LEGAL"}),i.jsxs(X.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>e("/support"),className:"w-full bg-card p-4 rounded-xl border border-border flex items-center justify-between hover:bg-muted transition-colors elevation-1","data-testid":"button-support",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(yU,{className:"w-5 h-5 text-primary mr-3"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium",children:"Help & Support"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Get help and contact support"})]})]}),i.jsx(x1,{className:"w-5 h-5"})]}),i.jsx(X.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:Me,className:"w-full bg-destructive/10 p-4 rounded-xl border border-destructive/20 flex items-center justify-between hover:bg-destructive/20 transition-colors elevation-1","data-testid":"button-logout",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(IC,{className:"w-5 h-5 text-destructive mr-3"}),i.jsx("span",{className:"font-medium text-destructive",children:"Sign Out"})]})})]}),i.jsx("div",{className:"text-center pt-6 pb-4",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"GreenPay v2.1.0"})})]})]})}function nve(e,t){return N.useReducer((r,n)=>t[r][n]??r,e)}var Q3="ScrollArea",[uK,MBe]=js(Q3),[ive,oo]=uK(Q3),dK=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...o}=e,[l,c]=N.useState(null),[u,d]=N.useState(null),[f,h]=N.useState(null),[m,g]=N.useState(null),[x,v]=N.useState(null),[p,y]=N.useState(0),[w,j]=N.useState(0),[S,P]=N.useState(!1),[A,C]=N.useState(!1),O=br(t,E=>c(E)),D=Qy(a);return i.jsx(ive,{scope:r,type:n,dir:D,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:P,scrollbarY:x,onScrollbarYChange:v,scrollbarYEnabled:A,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:j,children:i.jsx(Tt.div,{dir:D,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});dK.displayName=Q3;var fK="ScrollAreaViewport",hK=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...s}=e,o=oo(fK,r),l=N.useRef(null),c=br(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),i.jsx(Tt.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});hK.displayName=fK;var Vl="ScrollAreaScrollbar",J3=N.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=oo(Vl,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return N.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),a.type==="hover"?i.jsx(ave,{...n,ref:t,forceMount:r}):a.type==="scroll"?i.jsx(sve,{...n,ref:t,forceMount:r}):a.type==="auto"?i.jsx(mK,{...n,ref:t,forceMount:r}):a.type==="always"?i.jsx(eT,{...n,ref:t}):null});J3.displayName=Vl;var ave=N.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=oo(Vl,e.__scopeScrollArea),[s,o]=N.useState(!1);return N.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),i.jsx(ao,{present:r||s,children:i.jsx(mK,{"data-state":s?"visible":"hidden",...n,ref:t})})}),sve=N.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=oo(Vl,e.__scopeScrollArea),s=e.orientation==="horizontal",o=Vj(()=>c("SCROLL_END"),100),[l,c]=nve("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),N.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,o]),i.jsx(ao,{present:r||l!=="hidden",children:i.jsx(eT,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:jt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:jt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),mK=N.forwardRef((e,t)=>{const r=oo(Vl,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,o]=N.useState(!1),l=e.orientation==="horizontal",c=Vj(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return _p(r.viewport,c),_p(r.content,c),i.jsx(ao,{present:n||s,children:i.jsx(eT,{"data-state":s?"visible":"hidden",...a,ref:t})})}),eT=N.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=oo(Vl,e.__scopeScrollArea),s=N.useRef(null),o=N.useRef(0),[l,c]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=vK(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return fve(h,o.current,l,m)}return r==="horizontal"?i.jsx(ove,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,m=$8(h,l,a.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?i.jsx(lve,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,m=$8(h,l);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),ove=N.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=oo(Vl,e.__scopeScrollArea),[o,l]=N.useState(),c=N.useRef(null),u=br(t,c,s.onScrollbarXChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(gK,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":zj(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),wK(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Vw(o.paddingLeft),paddingEnd:Vw(o.paddingRight)}})}})}),lve=N.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=oo(Vl,e.__scopeScrollArea),[o,l]=N.useState(),c=N.useRef(null),u=br(t,c,s.onScrollbarYChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(gK,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":zj(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),wK(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Vw(o.paddingTop),paddingEnd:Vw(o.paddingBottom)}})}})}),[cve,pK]=uK(Vl),gK=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=oo(Vl,r),[g,x]=N.useState(null),v=br(t,O=>x(O)),p=N.useRef(null),y=N.useRef(""),w=m.viewport,j=n.content-n.viewport,S=Xn(d),P=Xn(c),A=Vj(f,10);function C(O){if(p.current){const D=O.clientX-p.current.left,E=O.clientY-p.current.top;u({x:D,y:E})}}return N.useEffect(()=>{const O=D=>{const E=D.target;(g==null?void 0:g.contains(E))&&S(D,j)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[w,g,j,S]),N.useEffect(P,[n,P]),_p(g,A),_p(m.content,A),i.jsx(cve,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Xn(s),onThumbPointerUp:Xn(o),onThumbPositionChange:P,onThumbPointerDown:Xn(l),children:i.jsx(Tt.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:jt(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),p.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(O))}),onPointerMove:jt(e.onPointerMove,C),onPointerUp:jt(e.onPointerUp,O=>{const D=O.target;D.hasPointerCapture(O.pointerId)&&D.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),p.current=null})})})}),zw="ScrollAreaThumb",xK=N.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=pK(zw,e.__scopeScrollArea);return i.jsx(ao,{present:r||a.hasThumb,children:i.jsx(uve,{ref:t,...n})})}),uve=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=oo(zw,r),o=pK(zw,r),{onThumbPositionChange:l}=o,c=br(t,f=>o.onThumbChange(f)),u=N.useRef(void 0),d=Vj(()=>{u.current&&(u.current(),u.current=void 0)},100);return N.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=hve(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),i.jsx(Tt.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:jt(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,x=f.clientY-m.top;o.onThumbPointerDown({x:g,y:x})}),onPointerUp:jt(e.onPointerUp,o.onThumbPointerUp)})});xK.displayName=zw;var tT="ScrollAreaCorner",yK=N.forwardRef((e,t)=>{const r=oo(tT,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(dve,{...e,ref:t}):null});yK.displayName=tT;var dve=N.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=oo(tT,r),[s,o]=N.useState(0),[l,c]=N.useState(0),u=!!(s&&l);return _p(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),_p(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?i.jsx(Tt.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Vw(e){return e?parseInt(e,10):0}function vK(e,t){const r=e/t;return isNaN(r)?0:r}function zj(e){const t=vK(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function fve(e,t,r,n="ltr"){const a=zj(r),s=a/2,o=t||s,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return bK([c,u],f)(e)}function $8(e,t,r="ltr"){const n=zj(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,o=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,o]:[o*-1,0],u=kA(e,c);return bK([0,o],[0,l])(u)}function bK(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function wK(e,t){return e>0&&e<t}var hve=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},o=r.left!==s.left,l=r.top!==s.top;(o||l)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Vj(e,t){const r=Xn(e),n=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),N.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function _p(e,t){const r=Xn(t);Ti(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var jK=dK,mve=hK,pve=yK;const Pa=N.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(jK,{ref:n,className:_t("relative overflow-hidden",e),...r,children:[i.jsx(mve,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(NK,{}),i.jsx(pve,{})]}));Pa.displayName=jK.displayName;const NK=N.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(J3,{ref:n,orientation:t,className:_t("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(xK,{className:"relative flex-1 rounded-full bg-border"})}));NK.displayName=J3.displayName;function gve({isAdmin:e=!1,conversationId:t}){const{user:r,logout:n}=Tr(),[,a]=Gt(),[s,o]=N.useState(""),[l,c]=N.useState(""),u=N.useRef(null),d=en(),f=j=>{(j===401||j===403)&&(n(),a("/login"))},h=()=>{var j;(j=u.current)==null||j.scrollIntoView({behavior:"smooth"})},{data:m}=Kt({queryKey:["/api/conversations/user-conversation"],enabled:!!(r!=null&&r.id)&&!t}),g=t||(m==null?void 0:m.id)||"",{data:x=[]}=Kt({queryKey:["/api/messages",g],queryFn:async()=>{const j=await fetch(`/api/messages/${g}`,{credentials:"include"});if(!j.ok)throw f(j.status),new Error("Failed to fetch messages");return j.json()},enabled:!!g,refetchInterval:2e3}),v=St({mutationFn:async j=>{const S=await fetch("/api/messages",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:j,conversationId:g})});if(!S.ok)throw f(S.status),new Error("Failed to send message");return S.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/messages",g]}),o("")}});N.useEffect(()=>{h()},[x]),N.useEffect(()=>{m!=null&&m.id&&c(m.id)},[m]);const p=()=>{!s.trim()||v.isPending||!g||v.mutate(s.trim())},y=j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),p())},w=j=>{if(!j)return"";const S=j/1024;return S<1024?`${S.toFixed(1)} KB`:`${(S/1024).toFixed(1)} MB`};return r!=null&&r.id?i.jsxs("div",{className:"flex flex-col h-96 bg-card rounded-lg border shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-primary/5",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),i.jsx("h3",{className:"font-semibold text-sm",children:e?"Admin Support Chat":"Live Support"})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Ready"})]}),i.jsx(Pa,{className:"flex-1 p-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(gh,{children:x.map((j,S)=>i.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`flex ${e&&j.senderType!=="admin"||!e&&j.senderType==="admin"?"justify-start":"justify-end"}`,children:i.jsxs("div",{className:`max-w-xs lg:max-w-md px-3 py-2 rounded-lg text-sm ${e&&j.senderType!=="admin"||!e&&j.senderType==="admin"?"bg-muted text-foreground":"bg-primary text-primary-foreground"}`,children:[j.messageType==="image"&&j.fileUrl?i.jsxs("div",{className:"space-y-2",children:[i.jsx("img",{src:j.fileUrl,alt:j.fileName||"Uploaded image",className:"rounded max-w-full h-auto max-h-64 object-contain"}),i.jsxs("a",{href:j.fileUrl,download:j.fileName,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs opacity-80 hover:opacity-100 underline",children:[i.jsx(Gs,{className:"w-3 h-3"}),"Download ",j.fileName]}),j.content&&i.jsx("p",{className:"mt-1",children:j.content})]}):j.messageType==="file"&&j.fileUrl?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-start gap-2 p-2 bg-background/10 rounded",children:[i.jsx(sw,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:j.fileName||"File"}),j.fileSize&&i.jsx("p",{className:"text-xs opacity-70",children:w(j.fileSize)})]})]}),i.jsxs("a",{href:j.fileUrl,download:j.fileName,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs opacity-80 hover:opacity-100 underline",children:[i.jsx(Gs,{className:"w-3 h-3"}),"Download"]}),j.content&&i.jsx("p",{className:"mt-1",children:j.content})]}):i.jsx("p",{children:j.content}),i.jsx("p",{className:"text-xs opacity-70 mt-1",children:new Date(j.createdAt).toLocaleTimeString()})]})},j.id||S))}),i.jsx("div",{ref:u})]})}),i.jsxs("div",{className:"p-4 border-t bg-muted/20",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(Be,{value:s,onChange:j=>o(j.target.value),onKeyDown:y,placeholder:"Type your message...",disabled:!g||v.isPending,className:"flex-1","data-testid":"input-chat-message"}),i.jsx(re,{onClick:p,disabled:!s.trim()||!g||v.isPending,size:"sm","data-testid":"button-send-message",children:i.jsx(Hi,{className:"w-4 h-4"})})]}),v.isError&&i.jsx("p",{className:"text-xs text-red-500 mt-2",children:"Failed to send message. Please try again."})]})]}):i.jsx("div",{className:"flex items-center justify-center h-64 text-muted-foreground",children:"Please log in to use live chat support"})}const xve=to({issueType:rr().min(1,"Please select an issue type"),description:rr().min(10,"Please provide a detailed description"),file:Ode().optional()});function yve(){const[,e]=Gt(),[t,r]=N.useState(null),[n,a]=N.useState(!1),{toast:s}=Ct(),o=Ho({resolver:Ko(xve),defaultValues:{issueType:"",description:"",file:void 0}}),l=St({mutationFn:async h=>{const m=new FormData;m.append("issueType",h.issueType),m.append("description",h.description),h.file&&m.append("file",h.file);const g=await fetch("/api/support/tickets",{method:"POST",credentials:"include",body:m});if(!g.ok)throw new Error("Failed to submit");return g.json()},onSuccess:()=>{s({title:"Report submitted successfully!",description:"Our support team will get back to you within 24 hours."}),o.reset()},onError:h=>{s({title:"Submission failed",description:"Please try again or contact support directly.",variant:"destructive"}),console.error("Ticket submission error:",h)}}),c=h=>{l.mutate(h)},u=()=>{e("/live-chat")},d=()=>{a(!1)},f=()=>{e("/support/tickets")};return i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-r from-primary to-secondary p-6 rounded-xl text-white elevation-2",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"Need Help?"}),i.jsx("p",{className:"text-green-100 mb-4",children:"Our support team is available 24/7 to assist you"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg font-medium hover:bg-white/30 transition-colors","data-testid":"button-start-chat",children:[i.jsx("span",{className:"material-icons text-sm mr-1",children:"chat"}),"Start Live Chat"]}),i.jsxs(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg font-medium hover:bg-white/30 transition-colors",children:[i.jsx("span",{className:"material-icons text-sm mr-1",children:"confirmation_number"}),"My Tickets"]})]})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-2 gap-4",children:[i.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-card p-4 rounded-xl border border-border text-left hover:bg-muted transition-colors elevation-1","data-testid":"category-sending",children:[i.jsx("span",{className:"material-icons text-primary text-2xl mb-2",children:"send"}),i.jsx("h3",{className:"font-semibold mb-1",children:"Sending Money"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Transfer guides"})]}),i.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-card p-4 rounded-xl border border-border text-left hover:bg-muted transition-colors elevation-1","data-testid":"category-banking",children:[i.jsx("span",{className:"material-icons text-secondary text-2xl mb-2",children:"account_balance"}),i.jsx("h3",{className:"font-semibold mb-1",children:"Banking"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Account help"})]}),i.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-card p-4 rounded-xl border border-border text-left hover:bg-muted transition-colors elevation-1","data-testid":"category-security",children:[i.jsx("span",{className:"material-icons text-accent text-2xl mb-2",children:"security"}),i.jsx("h3",{className:"font-semibold mb-1",children:"Security"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Safety tips"})]}),i.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-card p-4 rounded-xl border border-border text-left hover:bg-muted transition-colors elevation-1","data-testid":"category-virtual-card",children:[i.jsx("span",{className:"material-icons text-muted-foreground text-2xl mb-2",children:"credit_card"}),i.jsx("h3",{className:"font-semibold mb-1",children:"Virtual Card"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Card management"})]})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card rounded-xl border border-border elevation-1",children:[i.jsx("div",{className:"p-4 border-b border-border",children:i.jsx("h3",{className:"font-semibold",children:"Frequently Asked Questions"})}),i.jsx("div",{className:"divide-y divide-border",children:lhe.map((h,m)=>i.jsxs("div",{className:"p-4",children:[i.jsx(X.button,{whileTap:{scale:.99},onClick:()=>r(t===m?null:m),className:"w-full text-left hover:bg-muted/50 transition-colors rounded-lg p-2 -m-2","data-testid":`faq-${m}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"font-medium",children:h.question}),i.jsx("span",{className:`material-icons text-muted-foreground transition-transform ${t===m?"rotate-180":""}`,children:"keyboard_arrow_down"})]})}),i.jsx(X.div,{initial:!1,animate:{height:t===m?"auto":0,opacity:t===m?1:0},transition:{duration:.3},className:"overflow-hidden",children:i.jsx("div",{className:"pt-3 pb-1",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:h.answer})})})]},m))})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"CONTACT US"}),i.jsxs(X.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:u,className:"w-full bg-card p-4 rounded-xl border border-border flex items-center justify-between hover:bg-muted transition-colors elevation-1","data-testid":"contact-live-chat",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"material-icons text-primary mr-3",children:"chat"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium",children:"Live Chat"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Get instant help from our team"})]})]}),i.jsx("span",{className:"text-xs text-green-500 bg-green-100 px-2 py-1 rounded-full",children:"Online"})]})]}),n&&i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},className:"bg-card rounded-xl border border-border elevation-2",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[i.jsx("h3",{className:"font-semibold",children:"Live Support Chat"}),i.jsx(re,{variant:"ghost",size:"sm",onClick:d,className:"h-8 w-8 p-0","data-testid":"button-close-chat",children:i.jsx(Fl,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"p-4",children:i.jsx(gve,{})})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[i.jsx("h3",{className:"font-semibold mb-4",children:"Report an Issue"}),i.jsx(ro,{...o,children:i.jsxs("form",{onSubmit:o.handleSubmit(c),className:"space-y-4",children:[i.jsx(zt,{control:o.control,name:"issueType",render:({field:h})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Issue Type"}),i.jsxs(Kr,{onValueChange:h.onChange,defaultValue:h.value,children:[i.jsx(Wt,{children:i.jsx(Br,{"data-testid":"select-issue-type",children:i.jsx(Gr,{placeholder:"Select issue type"})})}),i.jsxs(Ur,{children:[i.jsx(nt,{value:"transaction",children:"Transaction Problem"}),i.jsx(nt,{value:"account",children:"Account Access"}),i.jsx(nt,{value:"bug",children:"App Bug"}),i.jsx(nt,{value:"other",children:"Other"})]})]}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:o.control,name:"description",render:({field:h})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Description"}),i.jsx(Wt,{children:i.jsx(za,{...h,placeholder:"Describe your issue in detail",className:"h-24","data-testid":"textarea-issue-description"})}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:o.control,name:"file",render:({field:h})=>i.jsxs($t,{children:[i.jsxs(mr,{className:"flex items-center gap-2",children:[i.jsx(cw,{className:"w-4 h-4"}),"Attach Media (Optional)"]}),i.jsx(Wt,{children:i.jsx(Be,{type:"file",accept:"image/*,video/*,.pdf,.doc,.docx",onChange:m=>{var g;return h.onChange((g=m.target.files)==null?void 0:g[0])},"data-testid":"input-file-upload"})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Images, videos, PDFs, or documents"}),i.jsx(Ht,{})]})}),i.jsx(re,{type:"submit",className:"w-full ripple",disabled:l.isPending,"data-testid":"button-submit-report",children:l.isPending?"Submitting...":"Submit Report"})]})})]})]})]})}function vve(){const[,e]=Gt(),[t,r]=N.useState(""),n=N.useRef(null),a=N.useRef(null),{toast:s}=Ct(),o=en(),{logout:l}=Tr(),{data:c,error:u}=Kt({queryKey:["/api/conversations/user-conversation"],queryFn:async()=>{const p=await fetch("/api/conversations/user-conversation",{credentials:"include"});if(!p.ok)throw new Error(`HTTP ${p.status}: ${p.statusText}`);return p.json()},retry:!1});N.useEffect(()=>{var p;u&&((p=u.message)!=null&&p.includes("401"))&&(localStorage.clear(),sessionStorage.clear(),l(),e("/login"))},[u,l,e]);const{data:d=[],isLoading:f}=Kt({queryKey:["/api/messages",c==null?void 0:c.id],queryFn:async()=>{if(!(c!=null&&c.id))return[];const p=await fetch(`/api/messages/${c.id}`,{credentials:"include"});if(!p.ok)throw new Error("Failed to fetch messages");return p.json()},enabled:!!(c!=null&&c.id),refetchInterval:2e3}),h=St({mutationFn:async p=>{if(!(c!=null&&c.id))throw new Error("No active conversation");return He("POST","/api/messages",{conversationId:c.id,content:p.content,messageType:p.messageType||"text",fileUrl:p.fileUrl,fileName:p.fileName,fileSize:p.fileSize})},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/messages",c==null?void 0:c.id]}),o.invalidateQueries({queryKey:["/api/conversations"]}),r("")},onError:p=>{s({title:"Failed to send message",description:"Please try again or contact support.",variant:"destructive"})}}),m=St({mutationFn:async p=>{const y=new FormData;y.append("file",p);const w=await fetch("/api/upload",{method:"POST",credentials:"include",body:y});if(!w.ok)throw new Error("Upload failed");return w.json()},onSuccess:p=>{const y=p.mimeType.startsWith("image/")?"image":"file",w=y==="image"?"Sent an image":`Sent a file: ${p.fileName}`;h.mutate({content:w,messageType:y,fileUrl:p.fileUrl,fileName:p.fileName,fileSize:p.fileSize})},onError:()=>{s({title:"Upload failed",description:"Failed to upload file. Please try again.",variant:"destructive"})}});N.useEffect(()=>{var p;(p=n.current)==null||p.scrollIntoView({behavior:"smooth"})},[d]);const g=()=>{t.trim()&&!h.isPending&&h.mutate({content:t.trim()})},x=p=>{var w;const y=(w=p.target.files)==null?void 0:w[0];if(y){if(y.size>10*1024*1024){s({title:"File too large",description:"Please select a file smaller than 10MB.",variant:"destructive"});return}m.mutate(y)}a.current&&(a.current.value="")},v=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),g())};return f?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary/20 border-t-primary rounded-full mx-auto"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading chat..."})]})}):i.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[i.jsx(Jr,{size:"sm"}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx(Pa,{className:"flex-1 px-4 py-6",children:i.jsxs("div",{className:"space-y-4 max-w-3xl mx-auto",children:[d.length===0?i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:i.jsx(us,{className:"w-8 h-8 text-primary"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Start a conversation"}),i.jsx("p",{className:"text-muted-foreground",children:"Send us a message and we'll get back to you as soon as possible."})]})]}):d.map((p,y)=>i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.05},className:`flex ${p.senderType==="user"?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-xs lg:max-w-md px-3 py-2 rounded-lg text-sm ${p.senderType==="user"?"bg-primary text-primary-foreground":"bg-muted text-foreground"}`,children:[p.messageType==="image"&&p.fileUrl&&i.jsx("div",{className:"mb-2",children:i.jsx("img",{src:p.fileUrl.startsWith("http://")||p.fileUrl.startsWith("https://")||p.fileUrl.startsWith("/")?p.fileUrl:`/${p.fileUrl}`,alt:"Uploaded image",className:"max-w-full h-auto rounded cursor-pointer",onClick:()=>{const w=p.fileUrl.startsWith("http://")||p.fileUrl.startsWith("https://")||p.fileUrl.startsWith("/")?p.fileUrl:`/${p.fileUrl}`;window.open(w,"_blank")}})}),p.messageType==="video"&&p.fileUrl&&i.jsx("div",{className:"mb-2",children:i.jsxs("video",{controls:!0,className:"max-w-full h-auto rounded",style:{maxHeight:"250px"},children:[i.jsx("source",{src:p.fileUrl.startsWith("http://")||p.fileUrl.startsWith("https://")||p.fileUrl.startsWith("/")?p.fileUrl:`/${p.fileUrl}`,type:"video/mp4"}),"Your browser does not support the video tag."]})}),p.messageType==="file"&&p.fileUrl&&i.jsxs("div",{className:"flex items-center gap-2 mb-2 p-2 bg-black/10 rounded",children:[i.jsx(VO,{className:"w-4 h-4"}),i.jsx("a",{href:p.fileUrl.startsWith("http://")||p.fileUrl.startsWith("https://")||p.fileUrl.startsWith("/")?p.fileUrl:`/${p.fileUrl}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm underline hover:no-underline",children:p.fileName||"Download file"})]}),i.jsx("p",{children:p.content}),i.jsx("p",{className:"text-xs opacity-70 mt-1",children:Qr(new Date(p.createdAt),"HH:mm")})]})},p.id)),i.jsx("div",{ref:n})]})}),i.jsx("div",{className:"border-t border-border bg-card p-4",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Be,{value:t,onChange:p=>r(p.target.value),onKeyDown:v,placeholder:"Type your message...",disabled:!(c!=null&&c.id)||h.isPending||m.isPending,className:"flex-1","data-testid":"input-message"}),i.jsx("input",{type:"file",ref:a,onChange:x,className:"hidden",accept:"image/*,application/pdf,.doc,.docx,.txt"}),i.jsx(re,{variant:"outline",size:"sm",onClick:()=>{var p;return(p=a.current)==null?void 0:p.click()},disabled:!(c!=null&&c.id)||m.isPending,"data-testid":"button-upload",children:m.isPending?i.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):i.jsx(VO,{className:"w-4 h-4"})}),i.jsx(re,{onClick:g,disabled:!t.trim()||!(c!=null&&c.id)||h.isPending||m.isPending,"data-testid":"button-send",children:h.isPending?i.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}):i.jsx("span",{className:"material-icons text-sm",children:"send"})})]}),h.isError&&i.jsx("p",{className:"text-xs text-red-500 mt-2",children:"Failed to send message. Please try again."})]})})]})]})}const bve=to({amount:rr().min(1,"Amount is required").refine(e=>parseFloat(e)>=10,"Minimum deposit is $10"),currency:rr().min(1,"Please select a currency"),paymentMethod:rr().min(1,"Please select a payment method")});function wve(){var v;const[,e]=Gt(),[t,r]=N.useState(""),{toast:n}=Ct(),{user:a,refreshUser:s}=Tr();N.useEffect(()=>{s()},[]);const o=Ho({resolver:Ko(bve),defaultValues:{amount:"",currency:"USD",paymentMethod:""}}),l=St({mutationFn:async p=>{const w=await(await He("POST","/api/deposit/initialize-payment",{amount:p.amount,currency:"USD",paymentMethod:p.paymentMethod})).json();return w.authorizationUrl&&(window.location.href=w.authorizationUrl),w},onError:p=>{n({title:"Payment Failed",description:p.message||"Unable to initialize payment. Please try again.",variant:"destructive"})}}),c=p=>{l.mutate(p)},u=[{id:"mpesa",name:"M-Pesa",icon:"https://raw.githubusercontent.com/jkdjfhfjfj/International-Transfers---Greenpay/refs/heads/main/attached_assets/images_(6)_1766711441274.png",description:"Instant mobile money deposit",fee:"1.5%"},{id:"airtel",name:"Airtel Money",icon:"https://raw.githubusercontent.com/jkdjfhfjfj/International-Transfers---Greenpay/refs/heads/main/attached_assets/images_(11)_1767702478094.png",description:"Instant mobile money deposit",fee:"1.5%"},{id:"card",name:"Debit/Credit Card",icons:["https://raw.githubusercontent.com/jkdjfhfjfj/International-Transfers---Greenpay/refs/heads/main/attached_assets/images_(12)_1767703865310.png","https://raw.githubusercontent.com/jkdjfhfjfj/International-Transfers---Greenpay/refs/heads/main/attached_assets/download_1767703865404.png","https://raw.githubusercontent.com/jkdjfhfjfj/International-Transfers---Greenpay/refs/heads/main/attached_assets/images%20(14).png"],description:"Visa, Mastercard, American Express",fee:"2.9% + $0.30"},{id:"bank_transfer",name:"Bank Transfer",icon:"https://raw.githubusercontent.com/jkdjfhfjfj/International-Transfers---Greenpay/refs/heads/main/attached_assets/images_(9)_1767703865615.png",description:"Manual transfer to NCBA Loop",fee:"Free"}],[d,f]=N.useState(""),[h,m]=N.useState(null),[g,x]=N.useState(129);return N.useEffect(()=>{d&&parseFloat(d)>0?m(parseFloat(d)*g):m(null)},[d,g]),N.useEffect(()=>{const p=new URLSearchParams(window.location.search),y=p.get("deposit"),w=p.get("error");y==="success"?(n({title:"Deposit Successful",description:"Your account has been credited successfully."}),s()):w&&n({title:"Payment Failed",description:w==="payment_failed"?"The payment was declined or cancelled.":"An error occurred during payment processing.",variant:"destructive"})},[]),i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-r from-primary/10 to-secondary/10 p-4 rounded-xl border border-primary/20",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Balance"}),i.jsxs("p",{className:"text-2xl font-bold text-primary","data-testid":"text-current-balance",children:["$",Ut(parseFloat((a==null?void 0:a.balance)||"0"))]})]})}),i.jsx(ro,{...o,children:i.jsxs("form",{onSubmit:o.handleSubmit(c),className:"space-y-6",children:[i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[i.jsx("h3",{className:"font-semibold mb-4",children:"How much USD would you like to add?"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-4",children:[i.jsx(zt,{control:o.control,name:"amount",render:({field:p})=>i.jsxs($t,{children:[i.jsx(Wt,{children:i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),i.jsx(Be,{...p,type:"number",step:"0.01",placeholder:"0.00",className:"pl-8 text-lg",onChange:y=>{p.onChange(y),f(y.target.value)},"data-testid":"input-amount"})]})}),i.jsx(Ht,{})]})}),h!==null&&i.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg border border-primary/10",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Exchange Rate:"}),i.jsxs("span",{className:"text-sm font-medium",children:["1 USD = ",g," KES"]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-1",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Approximate KES:"}),i.jsxs("span",{className:"text-lg font-bold text-primary",children:["KSh ",Ut(h)]})]})]})]})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card rounded-xl border border-border elevation-1",children:[i.jsx("div",{className:"p-4 border-b border-border",children:i.jsx("h3",{className:"font-semibold",children:"Choose Payment Method"})}),i.jsx(zt,{control:o.control,name:"paymentMethod",render:({field:p})=>i.jsxs($t,{children:[i.jsx("div",{className:"grid grid-cols-1 divide-y divide-border",children:u.map(y=>i.jsxs(X.button,{type:"button",whileTap:{scale:.98},onClick:()=>{p.onChange(y.id),r(y.id)},className:`w-full p-4 flex items-center text-left transition-colors ${p.value===y.id?"bg-primary/5 border-r-2 border-primary":"hover:bg-muted"}`,"data-testid":`payment-method-${y.id}`,children:[i.jsx("div",{className:"flex items-center gap-2 mr-4",children:y.icons?i.jsx("div",{className:"flex -space-x-2",children:y.icons.map((w,j)=>i.jsx("div",{className:"w-10 h-8 bg-white border border-border rounded shadow-sm flex items-center justify-center p-1 overflow-hidden",children:i.jsx("img",{src:w,alt:`${y.name} ${j}`,className:"max-w-full max-h-full object-contain"})},j))}):i.jsx("div",{className:"w-16 h-10 bg-white border border-border rounded-lg flex items-center justify-center p-1 overflow-hidden",children:i.jsx("img",{src:y.icon,alt:y.name,className:"max-w-full max-h-full object-contain"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:y.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:y.description})]}),p.value===y.id&&i.jsx("span",{className:"material-icons text-primary",children:"check_circle"})]},y.id))}),i.jsx(Ht,{})]})})]}),t==="bank_transfer"&&i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[i.jsx("h3",{className:"font-semibold mb-4",children:"NCBA Loop Transfer Details"}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"Bank:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-bold",children:"NCBA Loop"}),i.jsx(re,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{navigator.clipboard.writeText("NCBA Loop"),n({title:"Copied",description:"Bank name copied to clipboard"})},children:i.jsx("span",{className:"material-icons text-xs",children:"content_copy"})})]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"Account Name:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-bold",children:"Greenpay LTD"}),i.jsx(re,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{navigator.clipboard.writeText("Greenpay LTD"),n({title:"Copied",description:"Account name copied to clipboard"})},children:i.jsx("span",{className:"material-icons text-xs",children:"content_copy"})})]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"Account Number:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-bold font-mono",children:"1006123456"}),i.jsx(re,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{navigator.clipboard.writeText("1006123456"),n({title:"Copied",description:"Account number copied to clipboard"})},children:i.jsx("span",{className:"material-icons text-xs",children:"content_copy"})})]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"Reference:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"font-bold text-primary",children:["GP-",(v=a==null?void 0:a.id)==null?void 0:v.slice(-8).toUpperCase()]}),i.jsx(re,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{var p;navigator.clipboard.writeText(`GP-${(p=a==null?void 0:a.id)==null?void 0:p.slice(-8).toUpperCase()}`),n({title:"Copied",description:"Reference copied to clipboard"})},children:i.jsx("span",{className:"material-icons text-xs",children:"content_copy"})})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx("p",{className:"text-xs text-muted-foreground italic text-center",children:"* After transfer, please contact support to confirm your payment."}),i.jsxs(re,{type:"button",onClick:()=>e("/live-chat"),variant:"outline",className:"w-full",children:[i.jsx("span",{className:"material-icons text-sm mr-2",children:"support_agent"}),"Contact Support"]})]})]})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Transaction Summary"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"USD Amount"}),i.jsxs("span",{className:"font-medium",children:["$",o.watch("amount")||"0.00"]})]}),h!==null&&i.jsxs("div",{className:"flex justify-between text-primary font-semibold",children:[i.jsx("span",{children:"Expected KES"}),i.jsxs("span",{children:["KSh ",Ut(h)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Processing Fee"}),i.jsx("span",{className:"font-medium",children:t==="bank_transfer"?"Free":t==="card"?"$0.30 + 2.9%":"1.5%"})]}),i.jsx("hr",{className:"border-border"}),i.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[i.jsx("span",{children:"Total Payable"}),i.jsxs("span",{children:["$",o.watch("amount")||"0.00"]})]})]})]}),i.jsx("div",{className:"flex flex-col items-center justify-center space-y-3 pt-6 pb-2",children:i.jsxs("div",{className:"flex items-center gap-6 px-6 py-2 bg-muted/50 rounded-full border border-border/50",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground font-semibold",children:"Powered by"}),i.jsx("span",{className:"text-primary font-bold text-sm tracking-tight",children:"Paystack"})]}),i.jsx("div",{className:"w-px h-4 bg-border"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground font-semibold",children:"Secured by"}),i.jsx("span",{className:"text-primary font-bold text-sm tracking-tight",children:"NCBA Loop"})]})]})}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:i.jsx(re,{type:"submit",className:"w-full h-12 text-lg font-bold",disabled:l.isPending||!o.watch("amount"),"data-testid":"button-confirm-deposit",children:l.isPending?"Processing...":`Deposit $${o.watch("amount")||"0.00"}`})})]})})]})]})}const jve=to({amount:rr().min(1,"Amount is required").refine(e=>parseFloat(e)>=100,"Minimum withdrawal is KSh 100"),currency:rr().min(1,"Please select a currency"),withdrawMethod:rr().min(1,"Please select a withdrawal method"),accountDetails:to({bankName:rr().optional(),accountNumber:rr().optional(),accountName:rr().optional(),phoneNumber:rr().optional(),country:rr().optional()})});function Nve(){var m;const[,e]=Gt(),[t,r]=N.useState(""),{toast:n}=Ct(),{user:a}=Tr(),s=parseFloat((a==null?void 0:a.kesBalance)||"0"),o=parseFloat((a==null?void 0:a.balance)||"0"),l=Ho({resolver:Ko(jve),defaultValues:{amount:"",currency:"KES",withdrawMethod:"",accountDetails:{bankName:"",accountNumber:"",accountName:"",phoneNumber:"",country:""}}}),c=St({mutationFn:async g=>(await He("POST","/api/transactions",{userId:a==null?void 0:a.id,type:"withdraw",amount:g.amount,currency:g.currency,description:`Withdrawal via ${g.withdrawMethod}`,fee:"2.99",recipientDetails:g.accountDetails})).json(),onSuccess:g=>{n({title:"Withdrawal Request Submitted!",description:g.message||"Your withdrawal request is being reviewed and will be processed within 1-3 business days."}),l.reset(),e("/dashboard")},onError:g=>{var v,p;const x=((p=(v=g==null?void 0:g.response)==null?void 0:v.data)==null?void 0:p.message)||"Unable to process withdrawal. Please try again.";n({title:"Withdrawal failed",description:x,variant:"destructive"})}}),u=g=>{c.mutate(g)},d=[{id:"bank-transfer",name:"Bank Transfer",icon:"account_balance",description:"Direct transfer to your bank account",fee:"KSh 300",processingTime:"1-3 business days",countries:["Nigeria","Ghana","Kenya","South Africa","Uganda"]},{id:"mobile-money",name:"Mobile Money",icon:"phone_android",description:"M-Pesa, Airtel Money, MTN Mobile Money",fee:"KSh 200",processingTime:"Within 30 minutes",countries:["Kenya","Uganda","Tanzania","Rwanda","Cameroon"]},{id:"local-bank",name:"Local Bank Account",icon:"account_balance_wallet",description:"Direct deposit to local African banks",fee:"KSh 400",processingTime:"2-4 hours",countries:["Nigeria","Ghana","Kenya","South Africa","Egypt"]}],f=[{code:"NG",name:"Nigeria",flag:""},{code:"GH",name:"Ghana",flag:""},{code:"KE",name:"Kenya",flag:""},{code:"ZA",name:"South Africa",flag:""},{code:"UG",name:"Uganda",flag:""},{code:"TZ",name:"Tanzania",flag:""},{code:"RW",name:"Rwanda",flag:""},{code:"ET",name:"Ethiopia",flag:""},{code:"CM",name:"Cameroon",flag:""},{code:"SN",name:"Senegal",flag:""}],h=()=>{const g=d.find(x=>x.id===t);return(g==null?void 0:g.fee)||"KSh 2.99"};return i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-r from-primary/10 to-secondary/10 p-4 rounded-xl border border-primary/20",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Available for Withdrawal (KES)"}),i.jsxs("p",{className:"text-2xl font-bold text-primary","data-testid":"text-available-balance",children:["KSh ",Ut(s)]}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s<100&&o>0&&i.jsx("span",{className:"text-amber-600",children:"Convert USD to KES to withdraw  "}),"Real-time Balance"]})]})}),s<100&&o>0&&i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 p-4 rounded-xl",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("span",{className:"material-icons text-blue-600 mr-3 mt-0.5",children:"info"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-200 text-sm mb-1",children:"Convert USD to KES First"}),i.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300 mb-2",children:["Withdrawals require KES balance. You have $USD ",Ut(o)," available to convert."]}),i.jsx(re,{type:"button",size:"sm",onClick:()=>e("/exchange"),className:"bg-blue-600 hover:bg-blue-700 text-white text-xs",children:"Convert to KES"})]})]})}),i.jsx(ro,{...l,children:i.jsxs("form",{onSubmit:l.handleSubmit(u),className:"space-y-6",children:[i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[i.jsx("h3",{className:"font-semibold mb-4",children:"How much would you like to withdraw?"}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[i.jsx(zt,{control:l.control,name:"currency",render:({field:g})=>i.jsx($t,{children:i.jsxs(Kr,{onValueChange:g.onChange,defaultValue:g.value,children:[i.jsx(Wt,{children:i.jsx(Br,{"data-testid":"select-currency",children:i.jsx(Gr,{})})}),i.jsx(Ur,{children:sW.slice(0,3).map(x=>i.jsxs(nt,{value:x.code,children:[x.symbol," ",x.code]},x.code))})]})})}),i.jsx("div",{className:"col-span-2",children:i.jsx(zt,{control:l.control,name:"amount",render:({field:g})=>i.jsxs($t,{children:[i.jsx(Wt,{children:i.jsx(Be,{...g,type:"number",step:"0.01",placeholder:"0.00",className:"text-lg","data-testid":"input-amount"})}),i.jsx(Ht,{})]})})})]}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:["50","100","250","500"].map(g=>i.jsxs(X.button,{type:"button",whileTap:{scale:.95},onClick:()=>l.setValue("amount",g),className:"p-3 border border-border rounded-lg hover:bg-muted transition-colors text-sm font-medium","data-testid":`quick-amount-${g}`,children:["KSh ",g]},g))})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card rounded-xl border border-border elevation-1",children:[i.jsxs("div",{className:"p-4 border-b border-border",children:[i.jsx("h3",{className:"font-semibold",children:"Choose Withdrawal Method"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Available in African countries"})]}),i.jsx(zt,{control:l.control,name:"withdrawMethod",render:({field:g})=>i.jsxs($t,{children:[i.jsx("div",{className:"divide-y divide-border",children:d.map(x=>i.jsxs(X.button,{type:"button",whileTap:{scale:.98},onClick:()=>{g.onChange(x.id),r(x.id)},className:`w-full p-4 flex items-center text-left transition-colors ${g.value===x.id?"bg-primary/5 border-r-2 border-primary":"hover:bg-muted"}`,"data-testid":`withdraw-method-${x.id}`,children:[i.jsx("div",{className:"w-12 h-12 bg-muted rounded-xl flex items-center justify-center mr-4",children:i.jsx("span",{className:"material-icons text-muted-foreground",children:x.icon})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("p",{className:"font-medium",children:x.name}),i.jsx("span",{className:"text-xs text-primary bg-primary/10 px-2 py-1 rounded-full",children:x.fee})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:x.description}),i.jsx("p",{className:"text-xs text-accent font-medium mt-1",children:x.processingTime})]}),g.value===x.id&&i.jsx("span",{className:"material-icons text-primary ml-2",children:"check_circle"})]},x.id))}),i.jsx(Ht,{})]})})]}),t&&i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[i.jsx("h3",{className:"font-semibold mb-4",children:t==="mobile-money"?"Mobile Money Details":t==="bank-transfer"?"Bank Account Details":t==="western-union"?"Recipient Details":"Account Details"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(zt,{control:l.control,name:"accountDetails.country",render:({field:g})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Country"}),i.jsxs(Kr,{onValueChange:g.onChange,defaultValue:g.value,children:[i.jsx(Wt,{children:i.jsx(Br,{"data-testid":"select-country",children:i.jsx(Gr,{placeholder:"Select destination country"})})}),i.jsx(Ur,{children:f.map(x=>i.jsxs(nt,{value:x.name,children:[x.flag," ",x.name]},x.code))})]}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:l.control,name:"accountDetails.accountName",render:({field:g})=>i.jsxs($t,{children:[i.jsx(mr,{children:t==="mobile-money"?"Account Holder Name":t==="western-union"?"Recipient Name":"Account Holder Name"}),i.jsx(Wt,{children:i.jsx(Be,{...g,placeholder:"Enter full name as it appears on account","data-testid":"input-account-name"})}),i.jsx(Ht,{})]})}),t==="mobile-money"&&i.jsx(zt,{control:l.control,name:"accountDetails.phoneNumber",render:({field:g})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Mobile Money Number"}),i.jsx(Wt,{children:i.jsx(Be,{...g,type:"tel",placeholder:"e.g., +254712345678","data-testid":"input-mobile-number"})}),i.jsx(Ht,{})]})}),(t==="bank-transfer"||t==="local-bank")&&i.jsxs(i.Fragment,{children:[i.jsx(zt,{control:l.control,name:"accountDetails.bankName",render:({field:g})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Bank Name"}),i.jsx(Wt,{children:i.jsx(Be,{...g,placeholder:"e.g., GTBank, Equity Bank, Standard Bank","data-testid":"input-bank-name"})}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:l.control,name:"accountDetails.accountNumber",render:({field:g})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Account Number"}),i.jsx(Wt,{children:i.jsx(Be,{...g,placeholder:"Enter bank account number","data-testid":"input-account-number"})}),i.jsx(Ht,{})]})})]}),t==="western-union"&&i.jsx(zt,{control:l.control,name:"accountDetails.phoneNumber",render:({field:g})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Recipient Phone Number"}),i.jsx(Wt,{children:i.jsx(Be,{...g,type:"tel",placeholder:"Phone number for pickup notification","data-testid":"input-recipient-phone"})}),i.jsx(Ht,{})]})})]})]}),i.jsx(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-accent/10 p-4 rounded-xl border border-accent/20",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("span",{className:"material-icons text-accent mr-3 mt-0.5",children:"info"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-accent mb-1",children:"Important Information"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:" Ensure all account details are correct to avoid delays"}),i.jsx("li",{children:" Withdrawals cannot be cancelled once processed"}),i.jsx("li",{children:" You may be contacted for verification purposes"}),i.jsx("li",{children:" Exchange rates are locked at the time of withdrawal"})]})]})]})}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Transaction Summary"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Withdrawal Amount"}),i.jsxs("span",{className:"font-medium",children:["KSh ",l.watch("amount")||"0.00"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Processing Fee"}),i.jsx("span",{className:"font-medium",children:h()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Exchange Rate"}),i.jsx("span",{className:"font-medium",children:"1 USD = 129 KES"})]}),t&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Processing Time"}),i.jsx("span",{className:"font-medium text-accent",children:(m=d.find(g=>g.id===t))==null?void 0:m.processingTime})]}),i.jsx("hr",{className:"border-border"}),i.jsxs("div",{className:"flex justify-between font-bold",children:[i.jsx("span",{children:"You Receive"}),i.jsxs("span",{className:"text-primary",children:["KSh ",l.watch("amount")?Ut(parseFloat(l.watch("amount"))-parseFloat(h().replace("KSh ",""))):"0.00"]})]})]})]}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:i.jsx(re,{type:"submit",className:"w-full ripple",disabled:c.isPending||!t,"data-testid":"button-confirm-withdrawal",children:c.isPending?"Processing...":`Withdraw KSh ${l.watch("amount")||"0.00"}`})})]})})]})]})}function Sve(){const e=en(),{user:t}=Tr(),{toast:r}=Ct();return St({mutationFn:async n=>(await He("POST","/api/exchange/convert",{userId:t==null?void 0:t.id,...n})).json(),onSuccess:n=>{e.invalidateQueries({queryKey:["transactions",t==null?void 0:t.id]}),r({title:"Currency Exchanged",description:`Successfully converted ${n.transaction.amount} ${n.transaction.currency} to ${n.convertedAmount} ${n.transaction.metadata.targetCurrency}`})},onError:n=>{r({title:"Exchange Failed",description:n.message||"Unable to process currency exchange",variant:"destructive"})}})}function _ve(){var S;const[,e]=Gt(),[t,r]=N.useState(""),[n,a]=N.useState("USD"),[s,o]=N.useState("KES"),{user:l}=Tr(),{toast:c}=Ct(),{data:u}=LW(n),d=Sve(),f=[{code:"USD",name:"US Dollar",symbol:"$",flag:""},{code:"KES",name:"Kenyan Shilling",symbol:"KSh",flag:""}],h=((S=u==null?void 0:u.rates)==null?void 0:S[s])||1,m=t?parseFloat(t):0,g=m*h,x=m*.015,v=m+x,p=m?Ut(g):"0.00",y=m?Ut(x):"0.00",w=m?Ut(v):"0.00",j=()=>{if(!t||parseFloat(t)<=0){c({title:"Invalid Amount",description:"Please enter a valid amount to exchange",variant:"destructive"});return}if(!(l!=null&&l.hasVirtualCard)){c({title:"Virtual Card Required",description:"You need a virtual card to perform currency exchanges",variant:"destructive"});return}d.mutate({amount:t,fromCurrency:n,toCurrency:s},{onSuccess:()=>{r("")}})};return i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 p-4 rounded-xl border border-blue-200 dark:border-blue-800",children:[i.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mb-1",children:"USD Balance"}),i.jsxs("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:["$",Ut(parseFloat((l==null?void 0:l.balance)||"0"))]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 p-4 rounded-xl border border-green-200 dark:border-green-800",children:[i.jsx("p",{className:"text-xs text-green-700 dark:text-green-300 mb-1",children:"KES Balance"}),i.jsxs("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:["KSh ",Ut(parseFloat((l==null?void 0:l.kesBalance)||"0"))]})]})]}),i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-card p-4 rounded-xl border border-border",children:[i.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Quick Convert to KES"}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:[5,10,20,50].map(P=>i.jsxs("button",{onClick:()=>{r(P.toString()),a("USD"),o("KES")},className:"bg-primary/10 hover:bg-primary/20 text-primary py-2 px-3 rounded-lg text-sm font-semibold transition-colors",children:["$",P]},P))}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:" Tip: Convert USD to KES to buy airtime and withdraw"})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card p-6 rounded-xl border border-border elevation-1",children:[i.jsx("h3",{className:"font-semibold mb-4",children:"Exchange Currency"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"You pay"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(Be,{type:"number",placeholder:"0.00",value:t,onChange:P=>r(P.target.value),className:"flex-1","data-testid":"input-amount"}),i.jsxs(Kr,{value:n,onValueChange:a,children:[i.jsx(Br,{className:"w-32",children:i.jsx(Gr,{})}),i.jsx(Ur,{children:f.map(P=>i.jsx(nt,{value:P.code,children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{children:P.flag}),i.jsx("span",{children:P.code})]})},P.code))})]})]})]}),i.jsx("div",{className:"text-center py-2",children:i.jsxs("div",{className:"flex items-center justify-center text-sm text-muted-foreground",children:[i.jsx("span",{className:"material-icons mr-1 text-sm",children:"sync_alt"}),"1 ",n," = ",h.toFixed(4)," ",s]})}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"You receive"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(Be,{value:p,disabled:!0,className:"flex-1 bg-muted/50","data-testid":"text-converted-amount"}),i.jsxs(Kr,{value:s,onValueChange:o,children:[i.jsx(Br,{className:"w-32",children:i.jsx(Gr,{})}),i.jsx(Ur,{children:f.map(P=>i.jsx(nt,{value:P.code,children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{children:P.flag}),i.jsx("span",{children:P.code})]})},P.code))})]})]})]})]})]}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[i.jsx("h4",{className:"font-medium mb-3",children:"Exchange breakdown"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Exchange amount"}),i.jsxs("span",{children:[t||"0.00"," ",n]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Exchange fee (1.5%)"}),i.jsxs("span",{children:[y," ",n]})]}),i.jsx("div",{className:"border-t border-border pt-2 mt-2",children:i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Total deducted"}),i.jsxs("span",{children:[w," ",n]})]})}),i.jsx("div",{className:"bg-green-50 dark:bg-green-950 p-2 rounded text-green-700 dark:text-green-300",children:i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"You will receive"}),i.jsxs("span",{children:[p," ",s]})]})})]})]}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:i.jsx(re,{onClick:j,className:"w-full",disabled:!t||parseFloat(t)<=0||d.isPending,"data-testid":"button-exchange",children:d.isPending?i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processing Exchange..."]}):"Exchange Currency"})}),i.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-card p-4 rounded-xl border border-border elevation-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h4",{className:"font-medium",children:"Recent Exchanges"}),i.jsx(re,{variant:"ghost",size:"sm",onClick:()=>e("/transactions"),className:"text-primary hover:text-primary",children:"View All"})]}),i.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[i.jsx("span",{className:"material-icons text-3xl mb-2",children:"swap_horiz"}),i.jsx("p",{className:"text-sm",children:"No recent exchanges"}),i.jsx("p",{className:"text-xs",children:"Your currency exchanges will appear here"})]})]})]})]})}var rT="Progress",nT=100,[Pve,LBe]=js(rT),[Ave,kve]=Pve(rT),SK=N.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=Cve,...o}=e;(a||a===0)&&!B8(a)&&console.error(Tve(`${a}`,"Progress"));const l=B8(a)?a:nT;n!==null&&!U8(n,l)&&console.error(Eve(`${n}`,"Progress"));const c=U8(n,l)?n:null,u=qw(c)?s(c,l):void 0;return i.jsx(Ave,{scope:r,value:c,max:l,children:i.jsx(Tt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":qw(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":AK(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});SK.displayName=rT;var _K="ProgressIndicator",PK=N.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=kve(_K,r);return i.jsx(Tt.div,{"data-state":AK(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});PK.displayName=_K;function Cve(e,t){return`${Math.round(e/t*100)}%`}function AK(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function qw(e){return typeof e=="number"}function B8(e){return qw(e)&&!isNaN(e)&&e>0}function U8(e,t){return qw(e)&&!isNaN(e)&&e<=t&&e>=0}function Tve(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${nT}\`.`}function Eve(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${nT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var kK=SK,Ove=PK;const CK=N.forwardRef(({className:e,value:t,...r},n)=>i.jsx(kK,{ref:n,className:_t("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(Ove,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));CK.displayName=kK.displayName;function Mve(){var p;const[,e]=Gt(),{user:t,login:r}=Tr(),{toast:n}=Ct(),a=en(),[s,o]=N.useState(1),[l,c]=N.useState({documentType:"national_id",dateOfBirth:"",address:"",frontImage:null,backImage:null,selfie:null}),{data:u,isLoading:d}=Kt({queryKey:["/api/kyc",t==null?void 0:t.id],enabled:!!(t!=null&&t.id)}),f=St({mutationFn:async y=>{const w=await fetch("/api/kyc/submit",{method:"POST",body:y});if(!w.ok){const j=await w.json();throw new Error(j.message||"Failed to submit KYC")}return w.json()},onSuccess:y=>{t&&r({...t,kycStatus:"pending"}),a.invalidateQueries({queryKey:["/api/kyc",t==null?void 0:t.id]}),n({title:"KYC Submitted Successfully!",description:"Your documents have been submitted for review. You will be notified once verified."}),e("/dashboard")},onError:y=>{n({title:"KYC Submission Failed",description:y.message||"Unable to submit KYC documents",variant:"destructive"})}}),h=(y,w)=>{c({...l,[y]:w})},m=()=>{if(!l.dateOfBirth||!l.address){n({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});return}if(!l.frontImage||!l.backImage||!l.selfie){n({title:"Missing Documents",description:"Please upload all required documents: front of document, back of document, and selfie",variant:"destructive"});return}const y=new FormData;y.append("userId",(t==null?void 0:t.id)||""),y.append("documentType",l.documentType),y.append("dateOfBirth",l.dateOfBirth),y.append("address",l.address),y.append("frontImage",l.frontImage),y.append("backImage",l.backImage),y.append("selfie",l.selfie),f.mutate(y)},g=()=>{if(s===2&&(!l.frontImage||!l.backImage)){n({title:"Missing Documents",description:"Please upload both front and back of your document before continuing",variant:"destructive"});return}s<3&&o(s+1)},x=()=>{s>1&&o(s-1)};if(d)return i.jsx("div",{className:"min-h-screen bg-background pb-20 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading KYC status..."})]})});if((t==null?void 0:t.kycStatus)==="verified")return i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsxs("div",{className:"p-6 flex flex-col items-center justify-center min-h-[60vh]",children:[i.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mb-6",children:i.jsx("span",{className:"material-icons text-4xl text-green-600",children:"verified_user"})}),i.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Identity Verified!"}),i.jsx("p",{className:"text-muted-foreground text-center mb-8 max-w-sm",children:"Your identity has been successfully verified. You now have full access to all GreenPay features."}),i.jsx(re,{onClick:()=>e("/dashboard"),className:"px-8",children:"Continue to Dashboard"})]})]});if(u!=null&&u.kyc&&(t==null?void 0:t.kycStatus)==="pending")return i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsxs("div",{className:"p-6 flex flex-col items-center justify-center min-h-[60vh]",children:[i.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mb-6",children:i.jsx("span",{className:"material-icons text-4xl text-blue-600",children:"hourglass_empty"})}),i.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Documents Under Review"}),i.jsx("p",{className:"text-muted-foreground text-center mb-8 max-w-sm",children:"Your KYC documents have been submitted and are currently under review. You'll be notified once the verification is complete."}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 p-4 rounded-lg mb-6 max-w-sm w-full",children:[i.jsxs("h3",{className:"font-medium text-blue-800 dark:text-blue-100 mb-2 flex items-center",children:[i.jsx("span",{className:"material-icons text-sm mr-2",children:"info"}),"What happens next?"]}),i.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[i.jsx("li",{children:" Our team will review your documents"}),i.jsx("li",{children:" Verification typically takes 1-2 business days"}),i.jsx("li",{children:" You'll receive an email notification"}),i.jsx("li",{children:" Cannot resubmit while review is pending"})]})]}),i.jsxs("div",{className:"flex gap-3 w-full max-w-sm",children:[i.jsx(re,{onClick:()=>e("/settings"),variant:"outline",className:"flex-1",children:"Back to Settings"}),i.jsx(re,{onClick:()=>e("/dashboard"),className:"flex-1",children:"Dashboard"})]})]})]});const v=(u==null?void 0:u.kyc)&&(t==null?void 0:t.kycStatus)==="rejected";return i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1",children:[i.jsx(X.button,{whileTap:{scale:.95},onClick:()=>e("/settings"),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors","data-testid":"button-back",children:"arrow_back"}),i.jsx("h1",{className:"text-lg font-semibold",children:"Identity Verification"})]}),i.jsxs("div",{className:"p-6",children:[v&&i.jsx(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-4 rounded-xl mb-6",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("span",{className:"material-icons text-red-600 mr-3 mt-0.5",children:"error_outline"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-red-900 dark:text-red-200 mb-1",children:"Previous Verification Unsuccessful"}),i.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mb-2",children:((p=u==null?void 0:u.kyc)==null?void 0:p.rejectionReason)||"Your previous documents did not meet verification requirements. Please ensure they are clear and valid."}),i.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:"Please resubmit new documents below"})]})]})}),i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Step ",s," of 3"]}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(s/3*100),"%"]})]}),i.jsx(CK,{value:s/3*100,className:"h-2"})]}),s===1&&i.jsxs(X.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-6",children:[i.jsxs("div",{className:"bg-card p-6 rounded-xl border border-border elevation-1",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Personal Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"documentType",children:"Document Type"}),i.jsxs(Kr,{value:l.documentType,onValueChange:y=>c({...l,documentType:y}),children:[i.jsx(Br,{"data-testid":"select-document-type",children:i.jsx(Gr,{})}),i.jsxs(Ur,{children:[i.jsx(nt,{value:"national_id",children:"National ID"}),i.jsx(nt,{value:"passport",children:"Passport"}),i.jsx(nt,{value:"drivers_license",children:"Driver's License"})]})]})]}),i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"dateOfBirth",children:"Date of Birth"}),i.jsx(Be,{id:"dateOfBirth",type:"date",value:l.dateOfBirth,onChange:y=>c({...l,dateOfBirth:y.target.value}),"data-testid":"input-date-of-birth"})]}),i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"address",children:"Home Address"}),i.jsx(za,{id:"address",placeholder:"Enter your full address",value:l.address,onChange:y=>c({...l,address:y.target.value}),"data-testid":"textarea-address"})]})]})]}),i.jsx(re,{onClick:g,className:"w-full","data-testid":"button-next-step1",children:"Continue"})]}),s===2&&i.jsxs(X.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-6",children:[i.jsxs("div",{className:"bg-card p-6 rounded-xl border border-border elevation-1",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Document Upload"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"Front of Document"}),i.jsx("div",{className:"mt-2 border-2 border-dashed border-muted rounded-lg p-6 text-center",children:l.frontImage?i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"material-icons text-4xl text-green-500",children:"check_circle"}),i.jsx("p",{className:"text-sm font-medium",children:l.frontImage.name}),i.jsx(re,{variant:"outline",size:"sm",onClick:()=>h("frontImage",null),children:"Remove"})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"material-icons text-4xl text-muted-foreground",children:"cloud_upload"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload front of your document"}),i.jsx("input",{type:"file",accept:"image/*",onChange:y=>{var w;return h("frontImage",((w=y.target.files)==null?void 0:w[0])||null)},className:"hidden",id:"front-upload"}),i.jsx(re,{variant:"outline",asChild:!0,children:i.jsx("label",{htmlFor:"front-upload","data-testid":"button-upload-front",children:"Choose File"})})]})})]}),i.jsxs("div",{children:[i.jsx(Ve,{children:"Back of Document"}),i.jsx("div",{className:"mt-2 border-2 border-dashed border-muted rounded-lg p-6 text-center",children:l.backImage?i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"material-icons text-4xl text-green-500",children:"check_circle"}),i.jsx("p",{className:"text-sm font-medium",children:l.backImage.name}),i.jsx(re,{variant:"outline",size:"sm",onClick:()=>h("backImage",null),children:"Remove"})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"material-icons text-4xl text-muted-foreground",children:"cloud_upload"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload back of your document"}),i.jsx("input",{type:"file",accept:"image/*",onChange:y=>{var w;return h("backImage",((w=y.target.files)==null?void 0:w[0])||null)},className:"hidden",id:"back-upload"}),i.jsx(re,{variant:"outline",asChild:!0,children:i.jsx("label",{htmlFor:"back-upload","data-testid":"button-upload-back",children:"Choose File"})})]})})]})]})]}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx(re,{variant:"outline",onClick:x,className:"flex-1",children:"Back"}),i.jsx(re,{onClick:g,className:"flex-1","data-testid":"button-next-step2",children:"Continue"})]})]}),s===3&&i.jsxs(X.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"space-y-6",children:[i.jsxs("div",{className:"bg-card p-6 rounded-xl border border-border elevation-1",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Selfie Verification"}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx(Ve,{children:"Take a Selfie"}),i.jsx("div",{className:"mt-2 border-2 border-dashed border-muted rounded-lg p-6 text-center",children:l.selfie?i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"material-icons text-4xl text-green-500",children:"check_circle"}),i.jsx("p",{className:"text-sm font-medium",children:l.selfie.name}),i.jsx(re,{variant:"outline",size:"sm",onClick:()=>h("selfie",null),children:"Retake"})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"material-icons text-4xl text-muted-foreground",children:"face"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Take a clear photo of yourself"}),i.jsx("input",{type:"file",accept:"image/*",onChange:y=>{var w;return h("selfie",((w=y.target.files)==null?void 0:w[0])||null)},className:"hidden",id:"selfie-upload"}),i.jsx(re,{variant:"outline",asChild:!0,children:i.jsx("label",{htmlFor:"selfie-upload","data-testid":"button-upload-selfie",children:"Take Selfie"})})]})})]})})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("span",{className:"material-icons text-blue-600 mr-2 mt-1",children:"security"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-blue-800",children:"Verification Process"}),i.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Your documents will be securely reviewed by our verification team. You'll receive a notification once the review is complete."})]})]})}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx(re,{variant:"outline",onClick:x,className:"flex-1",children:"Back"}),i.jsx(re,{onClick:m,className:"flex-1",disabled:f.isPending,"data-testid":"button-submit-kyc",children:f.isPending?"Verifying...":"Submit for Verification"})]})]})]})]})}const Lve=to({phoneNumber:rr().min(10,"Phone number must be at least 10 digits").regex(/^[0-9+]+$/,"Invalid phone number format"),amount:rr().min(1,"Amount is required").refine(e=>{const t=parseFloat(e);return t>=5&&t<=1e4},"Amount must be between KSh 5 and KSh 10,000"),currency:rr().min(1,"Please select a currency"),provider:rr().min(1,"Please select a provider")});function Ive(){Gt();const{toast:e}=Ct(),{user:t,refreshUser:r}=Tr(),n=en(),[a,s]=N.useState(""),[o,l]=N.useState(!1),[c,u]=N.useState(null),d=Ho({resolver:Ko(Lve),defaultValues:{phoneNumber:"",amount:"",currency:"KES",provider:""}}),f=[{id:"safaricom",name:"Safaricom",logo:"",color:"from-green-500 to-green-600"},{id:"airtel",name:"Airtel",logo:"",color:"from-red-500 to-red-600"},{id:"telkom",name:"Telkom",logo:"",color:"from-blue-500 to-blue-600"}],h=[{label:"KSh 5",value:"5"},{label:"KSh 10",value:"10"},{label:"KSh 20",value:"20"},{label:"KSh 50",value:"50"},{label:"KSh 100",value:"100"},{label:"KSh 200",value:"200"}],m=St({mutationFn:async v=>{const p=await He("POST","/api/airtime/purchase",{userId:t==null?void 0:t.id,...v}),y=await p.json();if(p.status===400&&y.requiresPin)throw{...y,requiresPin:!0};if(!p.ok)throw new Error(y.message||"Purchase failed");return y},onSuccess:()=>{e({title:"Airtime Purchased!",description:"Your airtime has been sent successfully."}),d.reset(),u(null),r(),n.invalidateQueries({queryKey:["/api/transactions",t==null?void 0:t.id]})},onError:v=>{if(v.requiresPin){l(!0);return}e({title:"Purchase Failed",description:v.message||"Unable to purchase airtime. Please try again.",variant:"destructive"})}}),g=v=>{const p=parseFloat((t==null?void 0:t.kesBalance)||"0"),y=parseFloat(v.amount);if(p<y){e({title:"Insufficient KES Balance",description:"Please convert USD to KES in the Exchange page to buy airtime",variant:"destructive"});return}u(v),m.mutate(v)},x=v=>{c&&(l(!1),m.mutate({...c,pin:v}))};return i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[i.jsxs("h2",{className:"text-lg font-semibold mb-3 flex items-center",children:[i.jsx(gj,{className:"w-5 h-5 mr-2 text-primary"}),"Select Network"]}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:f.map(v=>i.jsxs(X.button,{whileTap:{scale:.95},onClick:()=>{s(v.id),d.setValue("provider",v.id)},className:`p-4 rounded-xl border-2 transition-all ${a===v.id?"border-primary bg-primary/5":"border-border bg-card hover:border-primary/50"}`,children:[i.jsx("div",{className:`text-3xl mb-2 bg-gradient-to-br ${v.color} bg-clip-text text-transparent`,children:v.logo}),i.jsx("p",{className:"text-xs font-medium",children:v.name})]},v.id))})]}),i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Quick Select"}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:h.map(v=>i.jsx(X.button,{whileTap:{scale:.95},onClick:()=>d.setValue("amount",v.value),className:"p-3 rounded-xl border border-border bg-card hover:border-primary hover:bg-primary/5 transition-all",children:i.jsx("p",{className:"text-sm font-semibold",children:v.label})},v.value))})]}),i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card rounded-xl border border-border p-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Purchase Details"}),i.jsx(ro,{...d,children:i.jsxs("form",{onSubmit:d.handleSubmit(g),className:"space-y-4",children:[i.jsx(zt,{control:d.control,name:"phoneNumber",render:({field:v})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Phone Number"}),i.jsx(Wt,{children:i.jsx(Be,{placeholder:"0712345678",...v,className:"text-base"})}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:d.control,name:"amount",render:({field:v})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Amount (KSh)"}),i.jsx(Wt,{children:i.jsx(Be,{type:"number",step:"1",placeholder:"50",...v,className:"text-base"})}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:d.control,name:"currency",render:({field:v})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Currency"}),i.jsxs(Kr,{onValueChange:v.onChange,defaultValue:v.value,disabled:!0,children:[i.jsx(Wt,{children:i.jsx(Br,{children:i.jsx(Gr,{placeholder:"KES - Kenyan Shilling"})})}),i.jsx(Ur,{children:i.jsx(nt,{value:"KES",children:"KES - Kenyan Shilling"})})]}),i.jsx(Ht,{})]})}),i.jsx(re,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90",disabled:m.isPending,children:m.isPending?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"material-icons animate-spin mr-2",children:"refresh"}),"Processing..."]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"material-icons mr-2",children:"smartphone"}),"Purchase Airtime"]})})]})})]}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("span",{className:"material-icons text-blue-600 mr-2",children:"info"}),i.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[i.jsx("p",{className:"font-medium mb-1",children:"Quick & Easy"}),i.jsx("p",{className:"text-xs",children:"Airtime will be delivered instantly to the number provided. Make sure the phone number and network provider are correct."})]})]})})]}),i.jsx(MW,{isOpen:o,onClose:()=>l(!1),onSuccess:x,title:"Verify Purchase",description:"Enter your 4-digit PIN to complete this airtime purchase"})]})}const JS=[{id:"KPLC",name:"KPLC",label:"KPLC (Electricity)",icon:"",color:"from-yellow-500 to-yellow-600",needsId:"meterNumber"},{id:"Zuku",name:"Zuku",label:"Zuku (Cable TV)",icon:"",color:"from-purple-500 to-purple-600",needsId:"accountNumber"},{id:"StarimesTV",name:"StarimesTV",label:"StarimesTV (Cable)",icon:"",color:"from-orange-500 to-orange-600",needsId:"accountNumber"},{id:"Nairobi_Water",name:"Nairobi Water",label:"Nairobi Water",icon:"",color:"from-blue-500 to-blue-600",needsId:"meterNumber"},{id:"Kenya_Power",name:"Kenya Power",label:"Kenya Power",icon:"",color:"from-red-500 to-red-600",needsId:"meterNumber"},{id:"Airtel_Money",name:"Airtel Money",label:"Airtel Money",icon:"",color:"from-red-500 to-red-700",needsId:"accountNumber"}];function Dve(){Gt();const{toast:e}=Ct(),{user:t,refreshUser:r}=Tr(),n=en(),[a,s]=N.useState([]),[o,l]=N.useState(!0),[c,u]=N.useState(1),[d,f]=N.useState(null),[h,m]=N.useState(""),[g,x]=N.useState(""),[v,p]=N.useState(!1);N.useEffect(()=>{t!=null&&t.id&&y()},[t==null?void 0:t.id]);const y=async()=>{try{l(!0);const k=await(await He("GET",`/api/bills/history/${t==null?void 0:t.id}`)).json();s(k.payments||[])}catch(E){console.error("Error fetching bill history:",E)}finally{l(!1)}},w=St({mutationFn:async()=>(await He("POST","/api/bills/pay",{userId:t==null?void 0:t.id,provider:d==null?void 0:d.id,meterNumber:(d==null?void 0:d.needsId)==="meterNumber"?h:null,accountNumber:(d==null?void 0:d.needsId)==="accountNumber"?h:null,amount:g})).json(),onSuccess:()=>{u(4),setTimeout(()=>{e({title:"Bill Paid Successfully!",description:"Your bill payment has been processed."}),j(),r(),n.invalidateQueries({queryKey:["/api/transactions",t==null?void 0:t.id]}),y()},1500)},onError:E=>{e({title:"Payment Failed",description:E.message||"Unable to process bill payment. Please try again.",variant:"destructive"}),u(2)}}),j=()=>{p(!1),u(1),f(null),m(""),x("")},S=E=>{f(E),u(2)},P=()=>{if(!h||!g){e({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});return}const E=parseFloat((t==null?void 0:t.kesBalance)||"0"),k=parseFloat(g);if(k<100){e({title:"Minimum Amount Required",description:"Minimum bill payment amount is KSh 100",variant:"destructive"});return}if(E<k){e({title:"Insufficient KES Balance",description:`You need KSh ${k.toFixed(2)}, but only have KSh ${E.toFixed(2)}. Please convert USD to KES in the Exchange page.`,variant:"destructive"});return}u(3)},A=()=>{w.mutate()},C=parseFloat((t==null?void 0:t.kesBalance)||"0"),O=parseFloat(g)||0;JS.find(E=>E.id===(d==null?void 0:d.id));const D=(d==null?void 0:d.needsId)==="meterNumber"?"Meter Number":"Account Number";return i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 p-4 rounded-xl border border-green-200 dark:border-green-800",children:[i.jsx("p",{className:"text-xs text-green-700 dark:text-green-300 mb-1",children:"Available KES Balance"}),i.jsxs("p",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:["KSh ",C.toLocaleString("en-KE",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:i.jsxs(re,{onClick:()=>p(!0),className:"w-full h-14 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold text-lg rounded-xl shadow-lg",children:[i.jsx("span",{className:"material-icons mr-2",children:"add_circle"}),"Start New Payment"]})}),i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-200 dark:border-slate-800 p-6",children:[i.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[i.jsx(Dl,{className:"w-5 h-5 mr-2 text-green-600"}),"Recent Payments"]}),o?i.jsxs("div",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto"}),i.jsx("p",{className:"mt-2",children:"Loading..."})]}):a.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:[i.jsx(SU,{size:32,className:"mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No bill payments yet"})]}):i.jsx("div",{className:"space-y-3",children:a.slice(0,5).map(E=>{var k;return i.jsxs(X.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[E.status==="completed"?i.jsx(Fr,{size:20,className:"text-green-600 flex-shrink-0"}):i.jsx(Dl,{size:20,className:"text-yellow-600 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:((k=JS.find(R=>R.id===E.provider))==null?void 0:k.label)||E.provider}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:E.meterNumber||E.accountNumber||"Bill"})]})]}),i.jsxs("div",{className:"text-right ml-2 flex-shrink-0",children:[i.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:["KSh ",parseFloat(E.amount).toLocaleString("en-KE",{minimumFractionDigits:2,maximumFractionDigits:2})]}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:new Date(E.createdAt).toLocaleDateString("en-KE")})]})]},E.id)})})]})]}),i.jsx(ca,{open:v,onOpenChange:p,children:i.jsxs(Vi,{className:"max-w-md",children:[c===1&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs(vi,{children:[i.jsx(ai,{children:"Select Bill Provider"}),i.jsx(Xs,{children:"Choose the service provider you want to pay"})]}),i.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-96 overflow-y-auto",children:JS.map(E=>i.jsxs(X.button,{whileTap:{scale:.95},onClick:()=>S(E),className:"p-4 rounded-xl border-2 border-border bg-card hover:border-green-600 hover:bg-green-50 dark:hover:bg-green-950/20 transition-all text-center",children:[i.jsx("div",{className:"text-3xl mb-2",children:E.icon}),i.jsx("p",{className:"text-xs font-semibold",children:E.name})]},E.id))}),i.jsx(re,{variant:"outline",onClick:j,className:"w-full",children:"Cancel"})]}),c===2&&d&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs(vi,{children:[i.jsx(ai,{children:"Payment Details"}),i.jsx(Xs,{children:d.label})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 rounded-lg border border-green-200 dark:border-green-800",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"text-3xl",children:d.icon}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold",children:d.label}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Enter your details below"})]})]})}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold mb-2 block",children:D}),i.jsx(Be,{placeholder:`Enter ${D.toLowerCase()}`,value:h,onChange:E=>m(E.target.value),className:"h-12"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Amount (KES)"}),i.jsxs("div",{className:"relative",children:[i.jsx(Be,{type:"number",placeholder:"0.00",value:g,onChange:E=>x(E.target.value),className:"h-12 pr-12",step:"0.01",min:"0"}),i.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-sm font-semibold text-gray-600",children:"KSh"})]})]}),i.jsxs("div",{className:`p-3 rounded-lg text-sm ${O>=100&&C>=O?"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 text-green-800 dark:text-green-200":"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 text-red-800 dark:text-red-200"}`,children:[i.jsxs("p",{className:"font-semibold",children:["Balance: KSh ",C.toFixed(2)]}),O>0&&i.jsx("p",{className:"text-xs mt-1",children:O<100?" Minimum amount is KSh 100":C>=O?" You can afford this payment":` Insufficient balance. Need KSh ${(O-C).toFixed(2)} more`})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(re,{variant:"outline",onClick:()=>u(1),className:"flex-1",children:"Back"}),i.jsx(re,{onClick:P,disabled:!h||!g,className:"flex-1 bg-green-600 hover:bg-green-700",children:"Continue"})]})]}),c===3&&d&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs(vi,{children:[i.jsx(ai,{children:"Confirm Payment"}),i.jsx(Xs,{children:"Review your payment details"})]}),i.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-slate-800 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between pb-2 border-b border-gray-200 dark:border-slate-700",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Provider:"}),i.jsx("span",{className:"font-semibold",children:d.label})]}),i.jsxs("div",{className:"flex justify-between pb-2 border-b border-gray-200 dark:border-slate-700",children:[i.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[D,":"]}),i.jsx("span",{className:"font-semibold",children:h})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Amount:"}),i.jsxs("span",{className:"font-bold text-lg",children:["KSh ",parseFloat(g).toFixed(2)]})]})]}),i.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg text-sm text-blue-800 dark:text-blue-200",children:[i.jsx("p",{className:"font-semibold mb-1",children:"Processing Details"}),i.jsx("p",{className:"text-xs",children:"Your payment will be deducted from your KES balance and processed instantly."})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(re,{variant:"outline",onClick:()=>u(2),className:"flex-1",children:"Back"}),i.jsx(re,{onClick:A,disabled:w.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:w.isPending?"Processing...":"Pay Now"})]})]}),c===4&&i.jsxs("div",{className:"space-y-4 text-center",children:[i.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},children:i.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-950 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Fr,{className:"w-8 h-8 text-green-600"})})}),i.jsxs("div",{children:[i.jsx(ai,{className:"text-center text-xl",children:"Payment Successful!"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Your bill payment has been processed."})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 p-4 rounded-lg text-sm",children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-1",children:"Amount Paid"}),i.jsxs("p",{className:"font-bold text-lg",children:["KSh ",parseFloat(g).toFixed(2)]})]}),i.jsx(re,{onClick:j,className:"w-full bg-green-600 hover:bg-green-700",children:"Done"})]})]})})]})}function Rve(){Gt();const{data:e,isLoading:t,refetch:r,isFetching:n}=Kt({queryKey:["/api/system/status"],refetchInterval:3e4}),a=l=>{switch(l){case"healthy":return i.jsx(LC,{className:"w-5 h-5 text-green-500"});case"degraded":return i.jsx(Ei,{className:"w-5 h-5 text-yellow-500"});case"unhealthy":return i.jsx(Ua,{className:"w-5 h-5 text-red-500"});default:return i.jsx(Ei,{className:"w-5 h-5 text-gray-400"})}},s=l=>{switch(l){case"healthy":return"default";case"degraded":return"secondary";case"unhealthy":return"destructive";default:return"outline"}},o={accountAccess:"Account Access",fileUploads:"Document Uploads",currencyExchange:"Currency Exchange",airtimePurchase:"Airtime Purchase",moneyTransfers:"Money Transfers",virtualCards:"Virtual Cards",notifications:"Notifications"};return i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(Jr,{rightContent:i.jsxs(re,{variant:"outline",size:"sm",onClick:()=>r(),disabled:n,className:"gap-2",children:[i.jsx(lw,{className:`w-4 h-4 ${n?"animate-spin":""}`}),i.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),size:"md"}),i.jsxs("div",{className:"max-w-2xl mx-auto p-4 space-y-6 mt-4",children:[i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:i.jsx(Ce,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:i.jsx(Ge,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Ze,{className:"text-lg",children:"Overall System Health"}),i.jsx(kt,{children:e!=null&&e.timestamp?new Date(e.timestamp).toLocaleString():"Loading..."})]}),e&&i.jsx(st,{variant:s(e.overall),className:"text-base px-4 py-1 capitalize",children:e.overall})]})})})}),i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-3",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Features"}),t?i.jsx(Ce,{children:i.jsx(Ie,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-center text-muted-foreground",children:[i.jsx(lw,{className:"w-5 h-5 mr-2 animate-spin"}),"Loading status information..."]})})}):e!=null&&e.features?Object.entries(e.features).map(([l,c],u)=>i.jsx(X.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+u*.05},children:i.jsx(Ce,{className:"transition-all hover:shadow-md hover:border-primary/30",children:i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("div",{className:"p-2 rounded-lg bg-muted",children:c.icon?i.jsx("span",{className:"text-xl",children:c.icon}):a(c.status)}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-sm md:text-base",children:o[l]||l}),i.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:c.message})]})]}),i.jsx(st,{variant:s(c.status),className:"capitalize ml-2 flex-shrink-0",children:c.status})]})})})},l)):i.jsx(Ce,{children:i.jsx(Ie,{className:"p-6",children:i.jsx("div",{className:"text-center text-muted-foreground",children:"No status data available"})})})]}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:i.jsx(Ce,{className:"bg-gradient-to-br from-amber-50 to-amber-100/50 border-amber-200 dark:from-amber-900/20 dark:to-amber-900/10",children:i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(T0,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-amber-900 dark:text-amber-200",children:[i.jsx("p",{className:"font-medium mb-1",children:"Auto-refresh enabled"}),i.jsx("p",{className:"text-xs md:text-sm opacity-90",children:"This page automatically refreshes every 30 seconds. All app features are continuously monitored for optimal performance."})]})]})})})})]})]})}function Fve(){const[e,t]=N.useState(!0);return N.useEffect(()=>{const r=setTimeout(()=>{t(!1)},2e3);return()=>clearTimeout(r)},[]),i.jsx(gh,{children:e&&i.jsx(X.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"fixed inset-0 bg-primary flex items-center justify-center z-50","data-testid":"loading-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx(X.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.5},className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mb-4 mx-auto elevation-3",children:i.jsx("span",{className:"material-icons text-primary text-2xl",children:"attach_money"})}),i.jsx(X.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},className:"text-2xl font-bold text-white mb-2",children:"GreenPay"}),i.jsx(X.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.5},className:"text-green-100",children:"International Money Transfer"}),i.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},className:"mt-8",children:i.jsx("div",{className:"w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto"})})]})})})}const $ve=[{id:"dashboard",icon:"home",label:"Home",path:"/dashboard"},{id:"transactions",icon:"receipt_long",label:"History",path:"/transactions"},{id:"send",icon:"swap_horiz",label:"Transfer",path:"/send-money",isCenter:!0},{id:"virtual-card",icon:"credit_card",label:"Card",path:"/virtual-card"},{id:"settings",icon:"person",label:"Profile",path:"/settings"}];function Bve(){const[e,t]=Gt(),{isAuthenticated:r}=Tr();return!(window.opener!==null||window.parent!==window)&&r&&(e.startsWith("/dashboard")||e.startsWith("/transactions")||e.startsWith("/virtual-card")||e.startsWith("/support")||e.startsWith("/settings")||e.startsWith("/send-money")||e.startsWith("/send-amount")||e.startsWith("/send-confirm")||e.startsWith("/receive-money")||e.startsWith("/deposit")||e.startsWith("/withdraw")||e.startsWith("/exchange")||e.startsWith("/airtime"))?i.jsx(X.div,{initial:{y:100},animate:{y:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed bottom-0 left-0 right-0 z-50",style:{position:"fixed",bottom:0,left:0,right:0,zIndex:9999},"data-testid":"bottom-navigation",children:i.jsx("div",{className:"bg-background/80 backdrop-blur-md border-t border-border/40 pb-safe",children:i.jsx("div",{className:"flex justify-around items-end max-w-lg mx-auto px-4 py-2 relative",children:$ve.map((s,o)=>{const l=e===s.path||s.path==="/send-money"&&(e.startsWith("/send-money")||e.startsWith("/send-amount")||e.startsWith("/send-confirm"));return s.isCenter?i.jsx(X.button,{onClick:()=>t(s.path),whileTap:{scale:.9},className:"relative -mt-8","data-testid":`nav-${s.id}`,children:i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary via-purple-500 to-secondary shadow-xl flex items-center justify-center relative overflow-hidden",children:[i.jsx(X.div,{className:"absolute inset-0 bg-gradient-to-r from-primary/50 to-secondary/50 rounded-full",animate:{scale:[1,1.2,1],opacity:[.5,.2,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),i.jsx("span",{className:"material-icons text-white text-3xl relative z-10",children:s.icon})]}),i.jsx("p",{className:"text-xs font-medium text-foreground/70 mt-2 text-center",children:s.label})]})},s.id):i.jsxs(X.button,{onClick:()=>t(s.path),whileTap:{scale:.85},className:"flex flex-col items-center py-2 px-3 min-w-[60px] relative","data-testid":`nav-${s.id}`,children:[i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:`material-icons transition-all duration-200 ${l?"text-primary text-2xl":"text-muted-foreground text-xl"}`,children:s.icon}),l&&i.jsx(X.div,{initial:{scale:0},animate:{scale:1},className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-primary rounded-full"})]}),i.jsx("span",{className:`text-xs font-medium mt-1 transition-all duration-200 ${l?"text-primary":"text-muted-foreground"}`,children:s.label})]},s.id)})})})}):null}function Uve(){const[e,t]=N.useState(null),[r,n]=N.useState(!1),[a,s]=N.useState(!1);N.useEffect(()=>{if(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches){s(!0);return}const c=d=>{d.preventDefault(),t(d),n(!0)},u=()=>{s(!0),n(!1),t(null)};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",u),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(d=>{console.log("SW registered: ",d)}).catch(d=>{console.log("SW registration failed: ",d)}),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",u)}},[]);const o=async()=>{if(!e)return;e.prompt();const{outcome:c}=await e.userChoice;c==="accepted"?(console.log("User accepted the install prompt"),n(!1)):console.log("User dismissed the install prompt"),t(null)},l=()=>{n(!1),sessionStorage.setItem("pwa-install-dismissed","true")};return a||!r||!e||sessionStorage.getItem("pwa-install-dismissed")?null:i.jsx(gh,{children:i.jsx(X.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed bottom-20 left-4 right-4 z-50 bg-card border border-border rounded-xl p-4 shadow-lg elevation-3",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-secondary rounded-xl flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"material-icons text-white",children:"get_app"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-sm",children:"Install GreenPay"}),i.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Get the full app experience with faster loading and offline access"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(re,{onClick:o,size:"sm",className:"bg-primary hover:bg-primary/90 text-xs","data-testid":"button-install-app",children:"Install App"}),i.jsx(re,{onClick:l,variant:"ghost",size:"sm",className:"text-xs","data-testid":"button-dismiss-install",children:"Not now"})]})]}),i.jsx("button",{onClick:l,className:"text-muted-foreground hover:text-foreground p-1 rounded","data-testid":"button-close-install",children:i.jsx("span",{className:"material-icons text-sm",children:"close"})})]})})})}function zve(){const[e,t]=N.useState(!1),[r,n]=N.useState([]),[a,s]=N.useState(""),[o,l]=N.useState(!1),[c,u]=N.useState(5),d=N.useRef(null),f=()=>{var m;(m=d.current)==null||m.scrollIntoView({behavior:"smooth"})};N.useEffect(()=>{f()},[r]);const h=async()=>{if(!a.trim()||o)return;const m={id:Date.now().toString(),role:"user",content:a,timestamp:new Date};n(g=>[...g,m]),s(""),l(!0);try{const g=await He("POST","/api/ai/chat",{messages:r.concat(m).map(v=>({role:v.role,content:v.content}))}),x=await g.json();if(x.remainingRequests!==void 0&&u(x.remainingRequests),g.ok){const v={id:(Date.now()+1).toString(),role:"assistant",content:x.response||"",timestamp:new Date};n(p=>[...p,v])}else if(g.status===429){const v={id:(Date.now()+1).toString(),role:"assistant",content:x.error||"Rate limit reached. Please try again later.",timestamp:new Date};n(p=>[...p,v])}else{const v={id:(Date.now()+1).toString(),role:"assistant",content:x.error||"Unable to process your request. Please try again later.",timestamp:new Date};n(p=>[...p,v])}}catch(g){console.error("Chat error:",g);const x={id:(Date.now()+1).toString(),role:"assistant",content:"Connection error. Please check your internet and try again.",timestamp:new Date};n(v=>[...v,x])}finally{l(!1)}};return i.jsxs(i.Fragment,{children:[i.jsx(X.button,{initial:{scale:0},animate:{scale:1},onClick:()=>t(!e),className:"fixed bottom-40 right-6 w-14 h-14 rounded-full shadow-lg hover:shadow-xl transition-shadow z-50 border-0 p-0 bg-transparent overflow-hidden",children:i.jsx("img",{src:"https://res.cloudinary.com/dyzalgxnu/image/upload/v1764591649/greenpay/greenpay/ai-robot.jpg",alt:"Ask AI Assistant",className:"w-full h-full object-cover rounded-full hover:scale-110 transition-transform duration-200",onError:m=>{const g=m.currentTarget;g.style.backgroundColor="#3b82f6"}})}),i.jsx(gh,{children:e&&i.jsxs(X.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"fixed bottom-20 right-4 w-80 h-80 sm:w-96 sm:h-96 max-h-[calc(100vh-120px)] bg-white rounded-2xl shadow-2xl flex flex-col z-50 border border-gray-200",children:[i.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-3 sm:p-4 rounded-t-2xl flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:"Ask AI"}),i.jsx("p",{className:"text-xs sm:text-sm text-emerald-100",children:"Get help with GreenPay"}),i.jsxs("p",{className:"text-xs text-emerald-50 mt-1",children:[c," request",c!==1?"s":""," remaining today"]})]}),i.jsx("button",{onClick:()=>t(!1),className:"flex-shrink-0 ml-2 p-1 hover:bg-green-500 rounded-full transition-colors",children:i.jsx(Fl,{className:"w-5 h-5 text-white"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 space-y-3",children:[r.length===0&&i.jsxs("div",{className:"text-center text-gray-500 mt-6 sm:mt-8",children:[i.jsx("p",{className:"text-xs sm:text-sm",children:" Hello! How can I help you today?"}),i.jsx("p",{className:"text-xs mt-2 text-gray-400",children:"Ask about payments, transfers, cards, or any feature"})]}),r.map(m=>i.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${m.role==="user"?"justify-end":"justify-start"}`,children:i.jsx("div",{className:`max-w-xs px-3 py-2 rounded-lg text-sm ${m.role==="user"?"bg-green-500 text-white rounded-br-none":"bg-gray-100 text-gray-800 rounded-bl-none"}`,children:m.content})},m.id)),o&&i.jsx("div",{className:"flex justify-start",children:i.jsx("div",{className:"bg-gray-100 px-3 py-2 rounded-lg",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-100"}),i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-200"})]})})}),i.jsx("div",{ref:d})]}),i.jsxs("div",{className:"border-t p-2 sm:p-3 flex flex-col gap-2 rounded-b-2xl bg-gray-50",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Be,{value:a,onChange:m=>s(m.target.value),onKeyPress:m=>m.key==="Enter"&&h(),placeholder:"Type your question...",className:"text-xs sm:text-sm",disabled:o}),i.jsx(re,{onClick:h,disabled:o||!a.trim(),size:"sm",className:"bg-green-500 hover:bg-green-600 text-xs sm:text-sm flex-shrink-0",children:"Send"})]}),i.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Powered by Gemini"})]})]})})]})}function Vve(){const[,e]=Gt(),{user:t}=Tr(),{toast:r}=Ct();N.useEffect(()=>{const s=new URLSearchParams(window.location.search),o=s.get("reference"),l=s.get("trxref"),c=o||l;c&&(t!=null&&t.id)?c.includes("card")?n(c):a(c):(r({title:"Payment Error",description:"Invalid payment reference",variant:"destructive"}),e("/dashboard"))},[t==null?void 0:t.id,e,r]);const n=async s=>{try{const l=await(await He("POST","/api/virtual-card/verify-payment",{reference:s,userId:t==null?void 0:t.id})).json();l.success&&l.card?(r({title:"Card Purchase Successful!",description:"Your virtual card has been activated"}),e("/virtual-card")):(r({title:"Payment Incomplete",description:l.message||"Your payment was not completed successfully. Please try again.",variant:"destructive"}),e("/virtual-card"))}catch{r({title:"Payment Error",description:"Unable to verify card payment",variant:"destructive"}),e("/virtual-card")}},a=async s=>{try{const o=new URLSearchParams(window.location.search),l=o.get("amount")||"0",c=o.get("currency")||"USD";if((await He("POST","/api/deposit/verify-payment",{reference:s,userId:t==null?void 0:t.id,amount:l,currency:c})).ok)r({title:"Deposit Successful!",description:"Your account has been credited"}),e("/dashboard");else throw new Error("Payment verification failed")}catch{r({title:"Payment Error",description:"Unable to verify deposit payment",variant:"destructive"}),e("/deposit")}};return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Verifying your payment..."})]})})}function qve(){const[,e]=Gt();Tr();const{toast:t}=Ct();N.useEffect(()=>{const n=new URLSearchParams(window.location.search),a=n.get("reference"),s=n.get("type");a&&s&&(s==="virtual-card"?t({title:"Card Purchase Successful!",description:"Your virtual card has been activated and is ready to use"}):s==="deposit"&&t({title:"Deposit Successful!",description:"Your account has been credited successfully"}))},[t]);const r=()=>{const a=new URLSearchParams(window.location.search).get("type");e(a==="virtual-card"?"/virtual-card":"/dashboard")};return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx(Fr,{className:"w-16 h-16 text-green-500"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Payment Successful!"}),i.jsx("p",{className:"text-muted-foreground",children:"Your payment has been processed successfully"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(re,{onClick:r,className:"w-full","data-testid":"button-continue",children:"Continue"}),i.jsx(re,{variant:"outline",onClick:()=>e("/dashboard"),className:"w-full","data-testid":"button-dashboard",children:"Go to Dashboard"})]})]})})}function Wve(){const[,e]=Gt(),{toast:t}=Ct();N.useEffect(()=>{const n=new URLSearchParams(window.location.search),a=n.get("error"),s=n.get("status");let o="Your payment could not be processed. Please try again.";a?o=decodeURIComponent(a):s&&(o=`Payment status: ${s}. Please try again.`),t({title:"Payment Failed",description:o,variant:"destructive"})},[t]);const r=()=>{const a=new URLSearchParams(window.location.search).get("type");e(a==="virtual-card"?"/virtual-card":"/deposit")};return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx(Ua,{className:"w-16 h-16 text-red-500"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Payment Failed"}),i.jsx("p",{className:"text-muted-foreground",children:"We couldn't process your payment. This could be due to insufficient funds, network issues, or other payment problems."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(re,{onClick:r,className:"w-full","data-testid":"button-retry",children:"Try Again"}),i.jsx(re,{variant:"outline",onClick:()=>e("/dashboard"),className:"w-full","data-testid":"button-dashboard",children:"Go to Dashboard"}),i.jsx(re,{variant:"ghost",onClick:()=>e("/support"),className:"w-full text-sm","data-testid":"button-support",children:"Contact Support"})]})]})})}function Hve(){const[,e]=Gt(),[t,r]=N.useState("processing"),[n,a]=N.useState(0),[s,o]=N.useState(""),[l,c]=N.useState("");N.useEffect(()=>{const d=new URLSearchParams(window.location.search),f=d.get("reference"),h=d.get("type");f&&o(f),h&&c(h)},[]),N.useEffect(()=>{if(!s)return;const d=setInterval(async()=>{try{a(g=>g+1);const m=await(await fetch(`/api/transaction-status/${s}`)).json();console.log("Transaction status poll result:",m),m.success&&m.status&&(m.status.toLowerCase()==="success"||m.status.toLowerCase()==="completed"?(r("success"),clearInterval(d),setTimeout(()=>{e("/dashboard")},3e3)):(m.status.toLowerCase()==="failed"||m.status.toLowerCase()==="cancelled")&&(r("failed"),clearInterval(d))),n>=60&&(r("timeout"),clearInterval(d))}catch(h){console.error("Status polling error:",h)}},5e3),f=setTimeout(()=>{},3e3);return()=>{clearInterval(d),clearTimeout(f)}},[s,n]);const u=()=>{e(l==="virtual-card"?"/virtual-card":"/dashboard")};return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs(gh,{mode:"wait",children:[t==="processing"&&i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center space-y-6",children:[i.jsx(X.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"mx-auto w-16 h-16 flex items-center justify-center",children:i.jsx(id,{className:"w-16 h-16 text-primary"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Processing Payment"}),i.jsx("p",{className:"text-muted-foreground",children:"Please wait while we confirm your M-Pesa payment..."})]}),i.jsx("div",{className:"bg-card p-4 rounded-lg border",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Reference: ",i.jsx("span",{className:"font-mono text-foreground",children:s})]})}),i.jsx(X.div,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},className:"text-sm text-muted-foreground",children:"This may take up to 2 minutes..."})]},"processing"),t==="success"&&i.jsxs(X.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"text-center space-y-6",children:[i.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:i.jsx(Fr,{className:"w-20 h-20 text-green-500 mx-auto"})}),i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-2",children:[i.jsx("h1",{className:"text-2xl font-bold text-green-600",children:"Payment Successful!"}),i.jsx("p",{className:"text-muted-foreground",children:l==="virtual-card"?"Your virtual card has been activated successfully.":"Your payment has been processed successfully."})]}),i.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:i.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Redirecting to dashboard in 3 seconds..."})})]},"success"),(t==="failed"||t==="timeout")&&i.jsxs(X.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"text-center space-y-6",children:[i.jsx(X.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:i.jsx(Ua,{className:"w-20 h-20 text-red-500 mx-auto"})}),i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-2",children:[i.jsx("h1",{className:"text-2xl font-bold text-red-600",children:t==="timeout"?"Payment Timeout":"Payment Failed"}),i.jsx("p",{className:"text-muted-foreground",children:t==="timeout"?"We couldn't confirm your payment status. Please contact support if you completed the payment.":"Your payment was not completed successfully. Please try again."})]}),i.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:i.jsx(re,{onClick:u,className:"w-full","data-testid":"button-try-again",children:l==="virtual-card"?"Try Purchase Again":"Back to Dashboard"})})]},"failed")]})})})}const Kve=to({email:rr().email("Invalid email address"),password:rr().min(1,"Password is required"),twoFactorCode:rr().optional()});function z8(){const[,e]=Gt(),[t,r]=N.useState(!1),[n,a]=N.useState(!1),{toast:s}=Ct(),o=Ho({resolver:Ko(Kve),defaultValues:{email:"",password:"",twoFactorCode:""}}),l=async c=>{a(!0);try{const u=await He("POST","/api/admin/login",c),d=await u.json();if(d.requiresTwoFactor){r(!0),s({title:"2FA Required",description:"Please enter your 2FA code"});return}u.ok?(localStorage.setItem("adminAuth",JSON.stringify(d.admin)),s({title:"Login Successful",description:"Welcome to GreenPay Admin Panel"}),e("/admin/dashboard")):s({title:"Login Failed",description:d.message||"Invalid credentials",variant:"destructive"})}catch{s({title:"Login Error",description:"An error occurred during login",variant:"destructive"})}finally{a(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:i.jsxs(Ce,{className:"w-full max-w-md",children:[i.jsxs(Ge,{className:"text-center",children:[i.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-4",children:i.jsx(_a,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),i.jsx(Ze,{className:"text-2xl font-bold",children:"GreenPay Admin"}),i.jsx(kt,{children:"Secure administrative access to GreenPay platform"})]}),i.jsxs(Ie,{children:[i.jsx(ro,{...o,children:i.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-4",children:[i.jsx(zt,{control:o.control,name:"email",render:({field:c})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Email Address"}),i.jsx(Wt,{children:i.jsx(Be,{...c,type:"email",placeholder:"admin@greenpay.com",disabled:n,"data-testid":"input-admin-email"})}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:o.control,name:"password",render:({field:c})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Password"}),i.jsx(Wt,{children:i.jsx(Be,{...c,type:"password",placeholder:"Enter your password",disabled:n,"data-testid":"input-admin-password"})}),i.jsx(Ht,{})]})}),t&&i.jsx(zt,{control:o.control,name:"twoFactorCode",render:({field:c})=>i.jsxs($t,{children:[i.jsxs(mr,{className:"flex items-center gap-2",children:[i.jsx(wU,{className:"w-4 h-4"}),"2FA Code"]}),i.jsx(Wt,{children:i.jsx(Be,{...c,placeholder:"Enter 6-digit code",maxLength:6,disabled:n,"data-testid":"input-2fa-code"})}),i.jsx(Ht,{})]})}),i.jsx(re,{type:"submit",className:"w-full",disabled:n,"data-testid":"button-admin-login",children:n?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing In..."]}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wa,{className:"w-4 h-4"}),"Sign In to Admin Panel"]})})]})}),i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[i.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Test Credentials:"}),i.jsxs("p",{className:"text-xs text-blue-500 dark:text-blue-300",children:["Email: admin@greenpay.com",i.jsx("br",{}),"Password: Admin123!@#"]})]})]})]})})}var Gve="Separator",V8="horizontal",Yve=["horizontal","vertical"],TK=N.forwardRef((e,t)=>{const{decorative:r,orientation:n=V8,...a}=e,s=Xve(n)?n:V8,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return i.jsx(Tt.div,{"data-orientation":s,...l,...a,ref:t})});TK.displayName=Gve;function Xve(e){return Yve.includes(e)}var EK=TK;const OK=N.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>i.jsx(EK,{ref:a,decorative:r,orientation:t,className:_t("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));OK.displayName=EK.displayName;var Zve=Array.isArray,qa=Zve,Qve=typeof Zv=="object"&&Zv&&Zv.Object===Object&&Zv,MK=Qve,Jve=MK,ebe=typeof self=="object"&&self&&self.Object===Object&&self,tbe=Jve||ebe||Function("return this")(),ql=tbe,rbe=ql,nbe=rbe.Symbol,av=nbe,q8=av,LK=Object.prototype,ibe=LK.hasOwnProperty,abe=LK.toString,yx=q8?q8.toStringTag:void 0;function sbe(e){var t=ibe.call(e,yx),r=e[yx];try{e[yx]=void 0;var n=!0}catch{}var a=abe.call(e);return n&&(t?e[yx]=r:delete e[yx]),a}var obe=sbe,lbe=Object.prototype,cbe=lbe.toString;function ube(e){return cbe.call(e)}var dbe=ube,W8=av,fbe=obe,hbe=dbe,mbe="[object Null]",pbe="[object Undefined]",H8=W8?W8.toStringTag:void 0;function gbe(e){return e==null?e===void 0?pbe:mbe:H8&&H8 in Object(e)?fbe(e):hbe(e)}var Yc=gbe;function xbe(e){return e!=null&&typeof e=="object"}var Xc=xbe,ybe=Yc,vbe=Xc,bbe="[object Symbol]";function wbe(e){return typeof e=="symbol"||vbe(e)&&ybe(e)==bbe}var fg=wbe,jbe=qa,Nbe=fg,Sbe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_be=/^\w*$/;function Pbe(e,t){if(jbe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Nbe(e)?!0:_be.test(e)||!Sbe.test(e)||t!=null&&e in Object(t)}var iT=Pbe;function Abe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Td=Abe;const hg=Mr(Td);var kbe=Yc,Cbe=Td,Tbe="[object AsyncFunction]",Ebe="[object Function]",Obe="[object GeneratorFunction]",Mbe="[object Proxy]";function Lbe(e){if(!Cbe(e))return!1;var t=kbe(e);return t==Ebe||t==Obe||t==Tbe||t==Mbe}var aT=Lbe;const lr=Mr(aT);var Ibe=ql,Dbe=Ibe["__core-js_shared__"],Rbe=Dbe,e_=Rbe,K8=function(){var e=/[^.]+$/.exec(e_&&e_.keys&&e_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Fbe(e){return!!K8&&K8 in e}var $be=Fbe,Bbe=Function.prototype,Ube=Bbe.toString;function zbe(e){if(e!=null){try{return Ube.call(e)}catch{}try{return e+""}catch{}}return""}var IK=zbe,Vbe=aT,qbe=$be,Wbe=Td,Hbe=IK,Kbe=/[\\^$.*+?()[\]{}|]/g,Gbe=/^\[object .+?Constructor\]$/,Ybe=Function.prototype,Xbe=Object.prototype,Zbe=Ybe.toString,Qbe=Xbe.hasOwnProperty,Jbe=RegExp("^"+Zbe.call(Qbe).replace(Kbe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function e1e(e){if(!Wbe(e)||qbe(e))return!1;var t=Vbe(e)?Jbe:Gbe;return t.test(Hbe(e))}var t1e=e1e;function r1e(e,t){return e==null?void 0:e[t]}var n1e=r1e,i1e=t1e,a1e=n1e;function s1e(e,t){var r=a1e(e,t);return i1e(r)?r:void 0}var vh=s1e,o1e=vh,l1e=o1e(Object,"create"),qj=l1e,G8=qj;function c1e(){this.__data__=G8?G8(null):{},this.size=0}var u1e=c1e;function d1e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var f1e=d1e,h1e=qj,m1e="__lodash_hash_undefined__",p1e=Object.prototype,g1e=p1e.hasOwnProperty;function x1e(e){var t=this.__data__;if(h1e){var r=t[e];return r===m1e?void 0:r}return g1e.call(t,e)?t[e]:void 0}var y1e=x1e,v1e=qj,b1e=Object.prototype,w1e=b1e.hasOwnProperty;function j1e(e){var t=this.__data__;return v1e?t[e]!==void 0:w1e.call(t,e)}var N1e=j1e,S1e=qj,_1e="__lodash_hash_undefined__";function P1e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=S1e&&t===void 0?_1e:t,this}var A1e=P1e,k1e=u1e,C1e=f1e,T1e=y1e,E1e=N1e,O1e=A1e;function mg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mg.prototype.clear=k1e;mg.prototype.delete=C1e;mg.prototype.get=T1e;mg.prototype.has=E1e;mg.prototype.set=O1e;var M1e=mg;function L1e(){this.__data__=[],this.size=0}var I1e=L1e;function D1e(e,t){return e===t||e!==e&&t!==t}var sT=D1e,R1e=sT;function F1e(e,t){for(var r=e.length;r--;)if(R1e(e[r][0],t))return r;return-1}var Wj=F1e,$1e=Wj,B1e=Array.prototype,U1e=B1e.splice;function z1e(e){var t=this.__data__,r=$1e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():U1e.call(t,r,1),--this.size,!0}var V1e=z1e,q1e=Wj;function W1e(e){var t=this.__data__,r=q1e(t,e);return r<0?void 0:t[r][1]}var H1e=W1e,K1e=Wj;function G1e(e){return K1e(this.__data__,e)>-1}var Y1e=G1e,X1e=Wj;function Z1e(e,t){var r=this.__data__,n=X1e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Q1e=Z1e,J1e=I1e,ewe=V1e,twe=H1e,rwe=Y1e,nwe=Q1e;function pg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}pg.prototype.clear=J1e;pg.prototype.delete=ewe;pg.prototype.get=twe;pg.prototype.has=rwe;pg.prototype.set=nwe;var Hj=pg,iwe=vh,awe=ql,swe=iwe(awe,"Map"),oT=swe,Y8=M1e,owe=Hj,lwe=oT;function cwe(){this.size=0,this.__data__={hash:new Y8,map:new(lwe||owe),string:new Y8}}var uwe=cwe;function dwe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var fwe=dwe,hwe=fwe;function mwe(e,t){var r=e.__data__;return hwe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Kj=mwe,pwe=Kj;function gwe(e){var t=pwe(this,e).delete(e);return this.size-=t?1:0,t}var xwe=gwe,ywe=Kj;function vwe(e){return ywe(this,e).get(e)}var bwe=vwe,wwe=Kj;function jwe(e){return wwe(this,e).has(e)}var Nwe=jwe,Swe=Kj;function _we(e,t){var r=Swe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Pwe=_we,Awe=uwe,kwe=xwe,Cwe=bwe,Twe=Nwe,Ewe=Pwe;function gg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}gg.prototype.clear=Awe;gg.prototype.delete=kwe;gg.prototype.get=Cwe;gg.prototype.has=Twe;gg.prototype.set=Ewe;var lT=gg,DK=lT,Owe="Expected a function";function cT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Owe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(cT.Cache||DK),r}cT.Cache=DK;var RK=cT;const Mwe=Mr(RK);var Lwe=RK,Iwe=500;function Dwe(e){var t=Lwe(e,function(n){return r.size===Iwe&&r.clear(),n}),r=t.cache;return t}var Rwe=Dwe,Fwe=Rwe,$we=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bwe=/\\(\\)?/g,Uwe=Fwe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace($we,function(r,n,a,s){t.push(a?s.replace(Bwe,"$1"):n||r)}),t}),zwe=Uwe;function Vwe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var uT=Vwe,X8=av,qwe=uT,Wwe=qa,Hwe=fg,Kwe=1/0,Z8=X8?X8.prototype:void 0,Q8=Z8?Z8.toString:void 0;function FK(e){if(typeof e=="string")return e;if(Wwe(e))return qwe(e,FK)+"";if(Hwe(e))return Q8?Q8.call(e):"";var t=e+"";return t=="0"&&1/e==-Kwe?"-0":t}var Gwe=FK,Ywe=Gwe;function Xwe(e){return e==null?"":Ywe(e)}var $K=Xwe,Zwe=qa,Qwe=iT,Jwe=zwe,e2e=$K;function t2e(e,t){return Zwe(e)?e:Qwe(e,t)?[e]:Jwe(e2e(e))}var BK=t2e,r2e=fg,n2e=1/0;function i2e(e){if(typeof e=="string"||r2e(e))return e;var t=e+"";return t=="0"&&1/e==-n2e?"-0":t}var Gj=i2e,a2e=BK,s2e=Gj;function o2e(e,t){t=a2e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[s2e(t[r++])];return r&&r==n?e:void 0}var dT=o2e,l2e=dT;function c2e(e,t,r){var n=e==null?void 0:l2e(e,t);return n===void 0?r:n}var UK=c2e;const Zs=Mr(UK);function u2e(e){return e==null}var d2e=u2e;const fr=Mr(d2e);var f2e=Yc,h2e=qa,m2e=Xc,p2e="[object String]";function g2e(e){return typeof e=="string"||!h2e(e)&&m2e(e)&&f2e(e)==p2e}var x2e=g2e;const oh=Mr(x2e);var zK={exports:{}},Yr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT=Symbol.for("react.element"),hT=Symbol.for("react.portal"),Yj=Symbol.for("react.fragment"),Xj=Symbol.for("react.strict_mode"),Zj=Symbol.for("react.profiler"),Qj=Symbol.for("react.provider"),Jj=Symbol.for("react.context"),y2e=Symbol.for("react.server_context"),eN=Symbol.for("react.forward_ref"),tN=Symbol.for("react.suspense"),rN=Symbol.for("react.suspense_list"),nN=Symbol.for("react.memo"),iN=Symbol.for("react.lazy"),v2e=Symbol.for("react.offscreen"),VK;VK=Symbol.for("react.module.reference");function lo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case fT:switch(e=e.type,e){case Yj:case Zj:case Xj:case tN:case rN:return e;default:switch(e=e&&e.$$typeof,e){case y2e:case Jj:case eN:case iN:case nN:case Qj:return e;default:return t}}case hT:return t}}}Yr.ContextConsumer=Jj;Yr.ContextProvider=Qj;Yr.Element=fT;Yr.ForwardRef=eN;Yr.Fragment=Yj;Yr.Lazy=iN;Yr.Memo=nN;Yr.Portal=hT;Yr.Profiler=Zj;Yr.StrictMode=Xj;Yr.Suspense=tN;Yr.SuspenseList=rN;Yr.isAsyncMode=function(){return!1};Yr.isConcurrentMode=function(){return!1};Yr.isContextConsumer=function(e){return lo(e)===Jj};Yr.isContextProvider=function(e){return lo(e)===Qj};Yr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===fT};Yr.isForwardRef=function(e){return lo(e)===eN};Yr.isFragment=function(e){return lo(e)===Yj};Yr.isLazy=function(e){return lo(e)===iN};Yr.isMemo=function(e){return lo(e)===nN};Yr.isPortal=function(e){return lo(e)===hT};Yr.isProfiler=function(e){return lo(e)===Zj};Yr.isStrictMode=function(e){return lo(e)===Xj};Yr.isSuspense=function(e){return lo(e)===tN};Yr.isSuspenseList=function(e){return lo(e)===rN};Yr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yj||e===Zj||e===Xj||e===tN||e===rN||e===v2e||typeof e=="object"&&e!==null&&(e.$$typeof===iN||e.$$typeof===nN||e.$$typeof===Qj||e.$$typeof===Jj||e.$$typeof===eN||e.$$typeof===VK||e.getModuleId!==void 0)};Yr.typeOf=lo;zK.exports=Yr;var b2e=zK.exports,w2e=Yc,j2e=Xc,N2e="[object Number]";function S2e(e){return typeof e=="number"||j2e(e)&&w2e(e)==N2e}var qK=S2e;const _2e=Mr(qK);var P2e=qK;function A2e(e){return P2e(e)&&e!=+e}var k2e=A2e;const sv=Mr(k2e);var Do=function(t){return t===0?0:t>0?1:-1},Cf=function(t){return oh(t)&&t.indexOf("%")===t.length-1},et=function(t){return _2e(t)&&!sv(t)},C2e=function(t){return fr(t)},wi=function(t){return et(t)||oh(t)},T2e=0,ov=function(t){var r=++T2e;return"".concat(t||"").concat(r)},lh=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!et(t)&&!oh(t))return n;var s;if(Cf(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return sv(s)&&(s=n),a&&s>r&&(s=r),s},Lu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},E2e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Eo=function(t,r){return et(t)&&et(r)?function(n){return t+n*(r-t)}:function(){return r}};function Ww(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Zs(n,t))===r})}var O2e=function(t,r){return et(t)&&et(r)?t-r:oh(t)&&oh(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Bm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function t4(e){"@babel/helpers - typeof";return t4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t4(e)}var M2e=["viewBox","children"],L2e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],J8=["points","pathLength"],t_={svg:M2e,polygon:J8,polyline:J8},mT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Hw=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),!hg(n))return null;var a={};return Object.keys(n).forEach(function(s){mT.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},I2e=function(t,r,n){return function(a){return t(r,n,a),null}},Kw=function(t,r,n){if(!hg(t)||t4(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];mT.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=I2e(o,r,n))}),a},D2e=["children"],R2e=["children"];function eD(e,t){if(e==null)return{};var r=F2e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function F2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function r4(e){"@babel/helpers - typeof";return r4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r4(e)}var tD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Cc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},rD=null,r_=null,pT=function e(t){if(t===rD&&Array.isArray(r_))return r_;var r=[];return N.Children.forEach(t,function(n){fr(n)||(b2e.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),r_=r,rD=t,r};function Qs(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Cc(a)}):n=[Cc(t)],pT(e).forEach(function(a){var s=Zs(a,"type.displayName")||Zs(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function as(e,t){var r=Qs(e,t);return r&&r[0]}var nD=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!et(n)||n<=0||!et(a)||a<=0)},$2e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],B2e=function(t){return t&&t.type&&oh(t.type)&&$2e.indexOf(t.type)>=0},U2e=function(t){return t&&r4(t)==="object"&&"clipDot"in t},z2e=function(t,r,n,a){var s,o=(s=t_==null?void 0:t_[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!lr(t)&&(a&&o.includes(r)||L2e.includes(r))||n&&mT.includes(r)},yr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(N.isValidElement(t)&&(a=t.props),!hg(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;z2e((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},n4=function e(t,r){if(t===r)return!0;var n=N.Children.count(t);if(n!==N.Children.count(r))return!1;if(n===0)return!0;if(n===1)return iD(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!iD(s,o))return!1}return!0},iD=function(t,r){if(fr(t)&&fr(r))return!0;if(!fr(t)&&!fr(r)){var n=t.props||{},a=n.children,s=eD(n,D2e),o=r.props||{},l=o.children,c=eD(o,R2e);return a&&l?Bm(s,c)&&n4(a,l):!a&&!l?Bm(s,c):!1}return!1},aD=function(t,r){var n=[],a={};return pT(t).forEach(function(s,o){if(B2e(s))n.push(s);else if(s){var l=Cc(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,o);n.push(f),a[l]=!0}}}),n},V2e=function(t){var r=t&&t.type;return r&&tD[r]?tD[r]:null},q2e=function(t,r){return pT(r).indexOf(t)},W2e=["children","width","height","viewBox","className","style","title","desc"];function i4(){return i4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i4.apply(this,arguments)}function H2e(e,t){if(e==null)return{};var r=K2e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function K2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function a4(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=H2e(e,W2e),d=a||{width:r,height:n,x:0,y:0},f=vr("recharts-surface",s);return se.createElement("svg",i4({},yr(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),se.createElement("title",null,l),se.createElement("desc",null,c),t)}var G2e=["children","className"];function s4(){return s4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s4.apply(this,arguments)}function Y2e(e,t){if(e==null)return{};var r=X2e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Zn=se.forwardRef(function(e,t){var r=e.children,n=e.className,a=Y2e(e,G2e),s=vr("recharts-layer",n);return se.createElement("g",s4({className:s},yr(a,!0),{ref:t}),r)}),Tc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function Z2e(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var Q2e=Z2e,J2e=Q2e;function eje(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:J2e(e,t,r)}var tje=eje,rje="\\ud800-\\udfff",nje="\\u0300-\\u036f",ije="\\ufe20-\\ufe2f",aje="\\u20d0-\\u20ff",sje=nje+ije+aje,oje="\\ufe0e\\ufe0f",lje="\\u200d",cje=RegExp("["+lje+rje+sje+oje+"]");function uje(e){return cje.test(e)}var WK=uje;function dje(e){return e.split("")}var fje=dje,HK="\\ud800-\\udfff",hje="\\u0300-\\u036f",mje="\\ufe20-\\ufe2f",pje="\\u20d0-\\u20ff",gje=hje+mje+pje,xje="\\ufe0e\\ufe0f",yje="["+HK+"]",o4="["+gje+"]",l4="\\ud83c[\\udffb-\\udfff]",vje="(?:"+o4+"|"+l4+")",KK="[^"+HK+"]",GK="(?:\\ud83c[\\udde6-\\uddff]){2}",YK="[\\ud800-\\udbff][\\udc00-\\udfff]",bje="\\u200d",XK=vje+"?",ZK="["+xje+"]?",wje="(?:"+bje+"(?:"+[KK,GK,YK].join("|")+")"+ZK+XK+")*",jje=ZK+XK+wje,Nje="(?:"+[KK+o4+"?",o4,GK,YK,yje].join("|")+")",Sje=RegExp(l4+"(?="+l4+")|"+Nje+jje,"g");function _je(e){return e.match(Sje)||[]}var Pje=_je,Aje=fje,kje=WK,Cje=Pje;function Tje(e){return kje(e)?Cje(e):Aje(e)}var Eje=Tje,Oje=tje,Mje=WK,Lje=Eje,Ije=$K;function Dje(e){return function(t){t=Ije(t);var r=Mje(t)?Lje(t):void 0,n=r?r[0]:t.charAt(0),a=r?Oje(r,1).join(""):t.slice(1);return n[e]()+a}}var Rje=Dje,Fje=Rje,$je=Fje("toUpperCase"),Bje=$je;const aN=Mr(Bje);function un(e){return function(){return e}}const QK=Math.cos,Gw=Math.sin,Zo=Math.sqrt,Yw=Math.PI,sN=2*Yw,c4=Math.PI,u4=2*c4,mf=1e-6,Uje=u4-mf;function JK(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function zje(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return JK;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Vje{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?JK:zje(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>mf)if(!(Math.abs(f*c-u*d)>mf)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,x=c*c+u*u,v=m*m+g*g,p=Math.sqrt(x),y=Math.sqrt(h),w=s*Math.tan((c4-Math.acos((x+h-v)/(2*p*y)))/2),j=w/y,S=w/p;Math.abs(j-1)>mf&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*m>d*g)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>mf||Math.abs(this._y1-d)>mf)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%u4+u4),h>Uje?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>mf&&this._append`A${n},${n},0,${+(h>=c4)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function gT(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Vje(t)}function xT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function eG(e){this._context=e}eG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function oN(e){return new eG(e)}function tG(e){return e[0]}function rG(e){return e[1]}function nG(e,t){var r=un(!0),n=null,a=oN,s=null,o=gT(l);e=typeof e=="function"?e:e===void 0?tG:un(e),t=typeof t=="function"?t:t===void 0?rG:un(t);function l(c){var u,d=(c=xT(c)).length,f,h=!1,m;for(n==null&&(s=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:un(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:un(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:un(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function Bb(e,t,r){var n=null,a=un(!0),s=null,o=oN,l=null,c=gT(u);e=typeof e=="function"?e:e===void 0?tG:un(+e),t=typeof t=="function"?t:un(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?rG:un(+r);function u(f){var h,m,g,x=(f=xT(f)).length,v,p=!1,y,w=new Array(x),j=new Array(x);for(s==null&&(l=o(y=c())),h=0;h<=x;++h){if(!(h<x&&a(v=f[h],h,f))===p)if(p=!p)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],j[g]);l.lineEnd(),l.areaEnd()}p&&(w[h]=+e(v,h,f),j[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):j[h]))}if(y)return l=null,y+""||null}function d(){return nG().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:un(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:un(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:un(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:un(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:un(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:un(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:un(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class iG{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function qje(e){return new iG(e,!0)}function Wje(e){return new iG(e,!1)}const yT={draw(e,t){const r=Zo(t/Yw);e.moveTo(r,0),e.arc(0,0,r,0,sN)}},Hje={draw(e,t){const r=Zo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},aG=Zo(1/3),Kje=aG*2,Gje={draw(e,t){const r=Zo(t/Kje),n=r*aG;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Yje={draw(e,t){const r=Zo(t),n=-r/2;e.rect(n,n,r,r)}},Xje=.8908130915292852,sG=Gw(Yw/10)/Gw(7*Yw/10),Zje=Gw(sN/10)*sG,Qje=-QK(sN/10)*sG,Jje={draw(e,t){const r=Zo(t*Xje),n=Zje*r,a=Qje*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=sN*s/5,l=QK(o),c=Gw(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},n_=Zo(3),eNe={draw(e,t){const r=-Zo(t/(n_*3));e.moveTo(0,r*2),e.lineTo(-n_*r,-r),e.lineTo(n_*r,-r),e.closePath()}},Ms=-.5,Ls=Zo(3)/2,d4=1/Zo(12),tNe=(d4/2+1)*3,rNe={draw(e,t){const r=Zo(t/tNe),n=r/2,a=r*d4,s=n,o=r*d4+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(Ms*n-Ls*a,Ls*n+Ms*a),e.lineTo(Ms*s-Ls*o,Ls*s+Ms*o),e.lineTo(Ms*l-Ls*c,Ls*l+Ms*c),e.lineTo(Ms*n+Ls*a,Ms*a-Ls*n),e.lineTo(Ms*s+Ls*o,Ms*o-Ls*s),e.lineTo(Ms*l+Ls*c,Ms*c-Ls*l),e.closePath()}};function nNe(e,t){let r=null,n=gT(a);e=typeof e=="function"?e:un(e||yT),t=typeof t=="function"?t:un(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:un(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:un(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Xw(){}function Zw(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function oG(e){this._context=e}oG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iNe(e){return new oG(e)}function lG(e){this._context=e}lG.prototype={areaStart:Xw,areaEnd:Xw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aNe(e){return new lG(e)}function cG(e){this._context=e}cG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Zw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sNe(e){return new cG(e)}function uG(e){this._context=e}uG.prototype={areaStart:Xw,areaEnd:Xw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function oNe(e){return new uG(e)}function sD(e){return e<0?-1:1}function oD(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(sD(s)+sD(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function lD(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function i_(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function Qw(e){this._context=e}Qw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:i_(this,this._t0,lD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,i_(this,lD(this,r=oD(this,e,t)),r);break;default:i_(this,this._t0,r=oD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function dG(e){this._context=new fG(e)}(dG.prototype=Object.create(Qw.prototype)).point=function(e,t){Qw.prototype.point.call(this,t,e)};function fG(e){this._context=e}fG.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function lNe(e){return new Qw(e)}function cNe(e){return new dG(e)}function hG(e){this._context=e}hG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=cD(e),a=cD(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cD(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function uNe(e){return new hG(e)}function lN(e,t){this._context=e,this._t=t}lN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function dNe(e){return new lN(e,.5)}function fNe(e){return new lN(e,0)}function hNe(e){return new lN(e,1)}function Pp(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function f4(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function mNe(e,t){return e[t]}function pNe(e){const t=[];return t.key=e,t}function gNe(){var e=un([]),t=f4,r=Pp,n=mNe;function a(s){var o=Array.from(e.apply(this,arguments),pNe),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=xT(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:un(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:un(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?f4:typeof s=="function"?s:un(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Pp,a):r},a}function xNe(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Pp(e,t)}}function yNe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Pp(e,t)}}function vNe(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var x=e[t[g]],v=x[n][1]||0,p=x[n-1][1]||0;m+=v-p}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Pp(e,t)}}function Y0(e){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y0(e)}var bNe=["type","size","sizeType"];function h4(){return h4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h4.apply(this,arguments)}function uD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(r),!0).forEach(function(n){wNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wNe(e,t,r){return t=jNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jNe(e){var t=NNe(e,"string");return Y0(t)=="symbol"?t:t+""}function NNe(e,t){if(Y0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Y0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SNe(e,t){if(e==null)return{};var r=_Ne(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Ne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mG={symbolCircle:yT,symbolCross:Hje,symbolDiamond:Gje,symbolSquare:Yje,symbolStar:Jje,symbolTriangle:eNe,symbolWye:rNe},PNe=Math.PI/180,ANe=function(t){var r="symbol".concat(aN(t));return mG[r]||yT},kNe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*PNe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},CNe=function(t,r){mG["symbol".concat(aN(t))]=r},vT=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=SNe(t,bNe),u=dD(dD({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=ANe(n),p=nNe().type(v).size(kNe(s,l,n));return p()},f=u.className,h=u.cx,m=u.cy,g=yr(u,!0);return h===+h&&m===+m&&s===+s?se.createElement("path",h4({},g,{className:vr("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};vT.registerSymbol=CNe;function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function m4(){return m4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m4.apply(this,arguments)}function fD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TNe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(r),!0).forEach(function(n){X0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ENe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ONe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gG(n.key),n)}}function MNe(e,t,r){return t&&ONe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LNe(e,t,r){return t=Jw(t),INe(e,pG()?Reflect.construct(t,r||[],Jw(e).constructor):t.apply(e,r))}function INe(e,t){if(t&&(Ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DNe(e)}function DNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pG=function(){return!!e})()}function Jw(e){return Jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jw(e)}function RNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p4(e,t)}function p4(e,t){return p4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},p4(e,t)}function X0(e,t,r){return t=gG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gG(e){var t=FNe(e,"string");return Ap(t)=="symbol"?t:t+""}function FNe(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Is=32,bT=function(e){function t(){return ENe(this,t),LNe(this,t,arguments)}return RNe(t,e),MNe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Is/2,o=Is/6,l=Is/3,c=n.inactive?a:n.color;if(n.type==="plainline")return se.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Is,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return se.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Is,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return se.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Is/8,"h").concat(Is,"v").concat(Is*3/4,"h").concat(-Is,"z"),className:"recharts-legend-icon"});if(se.isValidElement(n.legendIcon)){var u=TNe({},n);return delete u.legendIcon,se.cloneElement(n.legendIcon,u)}return se.createElement(vT,{fill:c,cx:s,cy:s,size:Is,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Is,height:Is},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,g){var x=m.formatter||c,v=vr(X0(X0({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var p=lr(m.value)?null:m.value;Tc(!lr(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return se.createElement("li",m4({className:v,style:f,key:"legend-item-".concat(g)},Kw(n.props,m,g)),se.createElement(a4,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),se.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},x?x(p,m,g):p))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return se.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(N.PureComponent);X0(bT,"displayName","Legend");X0(bT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var $Ne=Hj;function BNe(){this.__data__=new $Ne,this.size=0}var UNe=BNe;function zNe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var VNe=zNe;function qNe(e){return this.__data__.get(e)}var WNe=qNe;function HNe(e){return this.__data__.has(e)}var KNe=HNe,GNe=Hj,YNe=oT,XNe=lT,ZNe=200;function QNe(e,t){var r=this.__data__;if(r instanceof GNe){var n=r.__data__;if(!YNe||n.length<ZNe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new XNe(n)}return r.set(e,t),this.size=r.size,this}var JNe=QNe,e5e=Hj,t5e=UNe,r5e=VNe,n5e=WNe,i5e=KNe,a5e=JNe;function xg(e){var t=this.__data__=new e5e(e);this.size=t.size}xg.prototype.clear=t5e;xg.prototype.delete=r5e;xg.prototype.get=n5e;xg.prototype.has=i5e;xg.prototype.set=a5e;var xG=xg,s5e="__lodash_hash_undefined__";function o5e(e){return this.__data__.set(e,s5e),this}var l5e=o5e;function c5e(e){return this.__data__.has(e)}var u5e=c5e,d5e=lT,f5e=l5e,h5e=u5e;function e2(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new d5e;++t<r;)this.add(e[t])}e2.prototype.add=e2.prototype.push=f5e;e2.prototype.has=h5e;var yG=e2;function m5e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var vG=m5e;function p5e(e,t){return e.has(t)}var bG=p5e,g5e=yG,x5e=vG,y5e=bG,v5e=1,b5e=2;function w5e(e,t,r,n,a,s){var o=r&v5e,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&b5e?new g5e:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var g=e[f],x=t[f];if(n)var v=o?n(x,g,f,t,e,s):n(g,x,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!x5e(t,function(p,y){if(!y5e(m,y)&&(g===p||a(g,p,r,n,s)))return m.push(y)})){h=!1;break}}else if(!(g===x||a(g,x,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var wG=w5e,j5e=ql,N5e=j5e.Uint8Array,S5e=N5e;function _5e(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var P5e=_5e;function A5e(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var wT=A5e,hD=av,mD=S5e,k5e=sT,C5e=wG,T5e=P5e,E5e=wT,O5e=1,M5e=2,L5e="[object Boolean]",I5e="[object Date]",D5e="[object Error]",R5e="[object Map]",F5e="[object Number]",$5e="[object RegExp]",B5e="[object Set]",U5e="[object String]",z5e="[object Symbol]",V5e="[object ArrayBuffer]",q5e="[object DataView]",pD=hD?hD.prototype:void 0,a_=pD?pD.valueOf:void 0;function W5e(e,t,r,n,a,s,o){switch(r){case q5e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case V5e:return!(e.byteLength!=t.byteLength||!s(new mD(e),new mD(t)));case L5e:case I5e:case F5e:return k5e(+e,+t);case D5e:return e.name==t.name&&e.message==t.message;case $5e:case U5e:return e==t+"";case R5e:var l=T5e;case B5e:var c=n&O5e;if(l||(l=E5e),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=M5e,o.set(e,t);var d=C5e(l(e),l(t),n,a,s,o);return o.delete(e),d;case z5e:if(a_)return a_.call(e)==a_.call(t)}return!1}var H5e=W5e;function K5e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var jG=K5e,G5e=jG,Y5e=qa;function X5e(e,t,r){var n=t(e);return Y5e(e)?n:G5e(n,r(e))}var Z5e=X5e;function Q5e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var J5e=Q5e;function eSe(){return[]}var tSe=eSe,rSe=J5e,nSe=tSe,iSe=Object.prototype,aSe=iSe.propertyIsEnumerable,gD=Object.getOwnPropertySymbols,sSe=gD?function(e){return e==null?[]:(e=Object(e),rSe(gD(e),function(t){return aSe.call(e,t)}))}:nSe,oSe=sSe;function lSe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var cSe=lSe,uSe=Yc,dSe=Xc,fSe="[object Arguments]";function hSe(e){return dSe(e)&&uSe(e)==fSe}var mSe=hSe,xD=mSe,pSe=Xc,NG=Object.prototype,gSe=NG.hasOwnProperty,xSe=NG.propertyIsEnumerable,ySe=xD(function(){return arguments}())?xD:function(e){return pSe(e)&&gSe.call(e,"callee")&&!xSe.call(e,"callee")},jT=ySe,t2={exports:{}};function vSe(){return!1}var bSe=vSe;t2.exports;(function(e,t){var r=ql,n=bSe,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(t2,t2.exports);var SG=t2.exports,wSe=9007199254740991,jSe=/^(?:0|[1-9]\d*)$/;function NSe(e,t){var r=typeof e;return t=t??wSe,!!t&&(r=="number"||r!="symbol"&&jSe.test(e))&&e>-1&&e%1==0&&e<t}var NT=NSe,SSe=9007199254740991;function _Se(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=SSe}var ST=_Se,PSe=Yc,ASe=ST,kSe=Xc,CSe="[object Arguments]",TSe="[object Array]",ESe="[object Boolean]",OSe="[object Date]",MSe="[object Error]",LSe="[object Function]",ISe="[object Map]",DSe="[object Number]",RSe="[object Object]",FSe="[object RegExp]",$Se="[object Set]",BSe="[object String]",USe="[object WeakMap]",zSe="[object ArrayBuffer]",VSe="[object DataView]",qSe="[object Float32Array]",WSe="[object Float64Array]",HSe="[object Int8Array]",KSe="[object Int16Array]",GSe="[object Int32Array]",YSe="[object Uint8Array]",XSe="[object Uint8ClampedArray]",ZSe="[object Uint16Array]",QSe="[object Uint32Array]",pn={};pn[qSe]=pn[WSe]=pn[HSe]=pn[KSe]=pn[GSe]=pn[YSe]=pn[XSe]=pn[ZSe]=pn[QSe]=!0;pn[CSe]=pn[TSe]=pn[zSe]=pn[ESe]=pn[VSe]=pn[OSe]=pn[MSe]=pn[LSe]=pn[ISe]=pn[DSe]=pn[RSe]=pn[FSe]=pn[$Se]=pn[BSe]=pn[USe]=!1;function JSe(e){return kSe(e)&&ASe(e.length)&&!!pn[PSe(e)]}var e_e=JSe;function t_e(e){return function(t){return e(t)}}var _G=t_e,r2={exports:{}};r2.exports;(function(e,t){var r=MK,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(r2,r2.exports);var r_e=r2.exports,n_e=e_e,i_e=_G,yD=r_e,vD=yD&&yD.isTypedArray,a_e=vD?i_e(vD):n_e,PG=a_e,s_e=cSe,o_e=jT,l_e=qa,c_e=SG,u_e=NT,d_e=PG,f_e=Object.prototype,h_e=f_e.hasOwnProperty;function m_e(e,t){var r=l_e(e),n=!r&&o_e(e),a=!r&&!n&&c_e(e),s=!r&&!n&&!a&&d_e(e),o=r||n||a||s,l=o?s_e(e.length,String):[],c=l.length;for(var u in e)(t||h_e.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||u_e(u,c)))&&l.push(u);return l}var p_e=m_e,g_e=Object.prototype;function x_e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||g_e;return e===r}var y_e=x_e;function v_e(e,t){return function(r){return e(t(r))}}var AG=v_e,b_e=AG,w_e=b_e(Object.keys,Object),j_e=w_e,N_e=y_e,S_e=j_e,__e=Object.prototype,P_e=__e.hasOwnProperty;function A_e(e){if(!N_e(e))return S_e(e);var t=[];for(var r in Object(e))P_e.call(e,r)&&r!="constructor"&&t.push(r);return t}var k_e=A_e,C_e=aT,T_e=ST;function E_e(e){return e!=null&&T_e(e.length)&&!C_e(e)}var lv=E_e,O_e=p_e,M_e=k_e,L_e=lv;function I_e(e){return L_e(e)?O_e(e):M_e(e)}var cN=I_e,D_e=Z5e,R_e=oSe,F_e=cN;function $_e(e){return D_e(e,F_e,R_e)}var B_e=$_e,bD=B_e,U_e=1,z_e=Object.prototype,V_e=z_e.hasOwnProperty;function q_e(e,t,r,n,a,s){var o=r&U_e,l=bD(e),c=l.length,u=bD(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:V_e.call(t,h)))return!1}var m=s.get(e),g=s.get(t);if(m&&g)return m==t&&g==e;var x=!0;s.set(e,t),s.set(t,e);for(var v=o;++f<c;){h=l[f];var p=e[h],y=t[h];if(n)var w=o?n(y,p,h,t,e,s):n(p,y,h,e,t,s);if(!(w===void 0?p===y||a(p,y,r,n,s):w)){x=!1;break}v||(v=h=="constructor")}if(x&&!v){var j=e.constructor,S=t.constructor;j!=S&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof S=="function"&&S instanceof S)&&(x=!1)}return s.delete(e),s.delete(t),x}var W_e=q_e,H_e=vh,K_e=ql,G_e=H_e(K_e,"DataView"),Y_e=G_e,X_e=vh,Z_e=ql,Q_e=X_e(Z_e,"Promise"),J_e=Q_e,ePe=vh,tPe=ql,rPe=ePe(tPe,"Set"),kG=rPe,nPe=vh,iPe=ql,aPe=nPe(iPe,"WeakMap"),sPe=aPe,g4=Y_e,x4=oT,y4=J_e,v4=kG,b4=sPe,CG=Yc,yg=IK,wD="[object Map]",oPe="[object Object]",jD="[object Promise]",ND="[object Set]",SD="[object WeakMap]",_D="[object DataView]",lPe=yg(g4),cPe=yg(x4),uPe=yg(y4),dPe=yg(v4),fPe=yg(b4),pf=CG;(g4&&pf(new g4(new ArrayBuffer(1)))!=_D||x4&&pf(new x4)!=wD||y4&&pf(y4.resolve())!=jD||v4&&pf(new v4)!=ND||b4&&pf(new b4)!=SD)&&(pf=function(e){var t=CG(e),r=t==oPe?e.constructor:void 0,n=r?yg(r):"";if(n)switch(n){case lPe:return _D;case cPe:return wD;case uPe:return jD;case dPe:return ND;case fPe:return SD}return t});var hPe=pf,s_=xG,mPe=wG,pPe=H5e,gPe=W_e,PD=hPe,AD=qa,kD=SG,xPe=PG,yPe=1,CD="[object Arguments]",TD="[object Array]",Ub="[object Object]",vPe=Object.prototype,ED=vPe.hasOwnProperty;function bPe(e,t,r,n,a,s){var o=AD(e),l=AD(t),c=o?TD:PD(e),u=l?TD:PD(t);c=c==CD?Ub:c,u=u==CD?Ub:u;var d=c==Ub,f=u==Ub,h=c==u;if(h&&kD(e)){if(!kD(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new s_),o||xPe(e)?mPe(e,t,r,n,a,s):pPe(e,t,c,r,n,a,s);if(!(r&yPe)){var m=d&&ED.call(e,"__wrapped__"),g=f&&ED.call(t,"__wrapped__");if(m||g){var x=m?e.value():e,v=g?t.value():t;return s||(s=new s_),a(x,v,r,n,s)}}return h?(s||(s=new s_),gPe(e,t,r,n,a,s)):!1}var wPe=bPe,jPe=wPe,OD=Xc;function TG(e,t,r,n,a){return e===t?!0:e==null||t==null||!OD(e)&&!OD(t)?e!==e&&t!==t:jPe(e,t,r,n,TG,a)}var _T=TG,NPe=xG,SPe=_T,_Pe=1,PPe=2;function APe(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new NPe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?SPe(d,u,_Pe|PPe,n,f):h))return!1}}return!0}var kPe=APe,CPe=Td;function TPe(e){return e===e&&!CPe(e)}var EG=TPe,EPe=EG,OPe=cN;function MPe(e){for(var t=OPe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,EPe(a)]}return t}var LPe=MPe;function IPe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var OG=IPe,DPe=kPe,RPe=LPe,FPe=OG;function $Pe(e){var t=RPe(e);return t.length==1&&t[0][2]?FPe(t[0][0],t[0][1]):function(r){return r===e||DPe(r,e,t)}}var BPe=$Pe;function UPe(e,t){return e!=null&&t in Object(e)}var zPe=UPe,VPe=BK,qPe=jT,WPe=qa,HPe=NT,KPe=ST,GPe=Gj;function YPe(e,t,r){t=VPe(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=GPe(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&KPe(a)&&HPe(o,a)&&(WPe(e)||qPe(e)))}var XPe=YPe,ZPe=zPe,QPe=XPe;function JPe(e,t){return e!=null&&QPe(e,t,ZPe)}var eAe=JPe,tAe=_T,rAe=UK,nAe=eAe,iAe=iT,aAe=EG,sAe=OG,oAe=Gj,lAe=1,cAe=2;function uAe(e,t){return iAe(e)&&aAe(t)?sAe(oAe(e),t):function(r){var n=rAe(r,e);return n===void 0&&n===t?nAe(r,e):tAe(t,n,lAe|cAe)}}var dAe=uAe;function fAe(e){return e}var vg=fAe;function hAe(e){return function(t){return t==null?void 0:t[e]}}var mAe=hAe,pAe=dT;function gAe(e){return function(t){return pAe(t,e)}}var xAe=gAe,yAe=mAe,vAe=xAe,bAe=iT,wAe=Gj;function jAe(e){return bAe(e)?yAe(wAe(e)):vAe(e)}var NAe=jAe,SAe=BPe,_Ae=dAe,PAe=vg,AAe=qa,kAe=NAe;function CAe(e){return typeof e=="function"?e:e==null?PAe:typeof e=="object"?AAe(e)?_Ae(e[0],e[1]):SAe(e):kAe(e)}var Ed=CAe;function TAe(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var MG=TAe;function EAe(e){return e!==e}var OAe=EAe;function MAe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var LAe=MAe,IAe=MG,DAe=OAe,RAe=LAe;function FAe(e,t,r){return t===t?RAe(e,t,r):IAe(e,DAe,r)}var $Ae=FAe,BAe=$Ae;function UAe(e,t){var r=e==null?0:e.length;return!!r&&BAe(e,t,0)>-1}var zAe=UAe;function VAe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var qAe=VAe;function WAe(){}var HAe=WAe,o_=kG,KAe=HAe,GAe=wT,YAe=1/0,XAe=o_&&1/GAe(new o_([,-0]))[1]==YAe?function(e){return new o_(e)}:KAe,ZAe=XAe,QAe=yG,JAe=zAe,e4e=qAe,t4e=bG,r4e=ZAe,n4e=wT,i4e=200;function a4e(e,t,r){var n=-1,a=JAe,s=e.length,o=!0,l=[],c=l;if(r)o=!1,a=e4e;else if(s>=i4e){var u=t?null:r4e(e);if(u)return n4e(u);o=!1,a=t4e,c=new QAe}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var s4e=a4e,o4e=Ed,l4e=s4e;function c4e(e,t){return e&&e.length?l4e(e,o4e(t)):[]}var u4e=c4e;const MD=Mr(u4e);function LG(e,t,r){return t===!0?MD(e,r):lr(t)?MD(e,t):e}function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}var d4e=["ref"];function LD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LD(Object(r),!0).forEach(function(n){uN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ID(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DG(n.key),n)}}function h4e(e,t,r){return t&&ID(e.prototype,t),r&&ID(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m4e(e,t,r){return t=n2(t),p4e(e,IG()?Reflect.construct(t,r||[],n2(e).constructor):t.apply(e,r))}function p4e(e,t){if(t&&(kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g4e(e)}function g4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IG=function(){return!!e})()}function n2(e){return n2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n2(e)}function x4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w4(e,t)}function w4(e,t){return w4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},w4(e,t)}function uN(e,t,r){return t=DG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DG(e){var t=y4e(e,"string");return kp(t)=="symbol"?t:t+""}function y4e(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v4e(e,t){if(e==null)return{};var r=b4e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function w4e(e){return e.value}function j4e(e,t){if(se.isValidElement(e))return se.cloneElement(e,t);if(typeof e=="function")return se.createElement(e,t);t.ref;var r=v4e(t,d4e);return se.createElement(bT,r)}var DD=1,Um=function(e){function t(){var r;f4e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=m4e(this,t,[].concat(a)),uN(r,"lastBoundingBox",{width:-1,height:-1}),r}return x4e(t,e),h4e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>DD||Math.abs(a.height-this.lastBoundingBox.height)>DD)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?cc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return cc(cc({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=cc(cc({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return se.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},j4e(s,cc(cc({},this.props),{},{payload:LG(d,u,w4e)})))}}],[{key:"getWithHeight",value:function(n,a){var s=cc(cc({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&et(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(N.PureComponent);uN(Um,"displayName","Legend");uN(Um,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var RD=av,N4e=jT,S4e=qa,FD=RD?RD.isConcatSpreadable:void 0;function _4e(e){return S4e(e)||N4e(e)||!!(FD&&e&&e[FD])}var P4e=_4e,A4e=jG,k4e=P4e;function RG(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=k4e),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?RG(l,t-1,r,n,a):A4e(a,l):n||(a[a.length]=l)}return a}var FG=RG;function C4e(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var T4e=C4e,E4e=T4e,O4e=E4e(),M4e=O4e,L4e=M4e,I4e=cN;function D4e(e,t){return e&&L4e(e,t,I4e)}var $G=D4e,R4e=lv;function F4e(e,t){return function(r,n){if(r==null)return r;if(!R4e(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var $4e=F4e,B4e=$G,U4e=$4e,z4e=U4e(B4e),PT=z4e,V4e=PT,q4e=lv;function W4e(e,t){var r=-1,n=q4e(e)?Array(e.length):[];return V4e(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var BG=W4e;function H4e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var K4e=H4e,$D=fg;function G4e(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=$D(e),o=t!==void 0,l=t===null,c=t===t,u=$D(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var Y4e=G4e,X4e=Y4e;function Z4e(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=X4e(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Q4e=Z4e,l_=uT,J4e=dT,eke=Ed,tke=BG,rke=K4e,nke=_G,ike=Q4e,ake=vg,ske=qa;function oke(e,t,r){t.length?t=l_(t,function(s){return ske(s)?function(o){return J4e(o,s.length===1?s[0]:s)}:s}):t=[ake];var n=-1;t=l_(t,nke(eke));var a=tke(e,function(s,o,l){var c=l_(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return rke(a,function(s,o){return ike(s,o,r)})}var lke=oke;function cke(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var uke=cke,dke=uke,BD=Math.max;function fke(e,t,r){return t=BD(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=BD(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),dke(e,this,l)}}var hke=fke;function mke(e){return function(){return e}}var pke=mke,gke=vh,xke=function(){try{var e=gke(Object,"defineProperty");return e({},"",{}),e}catch{}}(),UG=xke,yke=pke,UD=UG,vke=vg,bke=UD?function(e,t){return UD(e,"toString",{configurable:!0,enumerable:!1,value:yke(t),writable:!0})}:vke,wke=bke,jke=800,Nke=16,Ske=Date.now;function _ke(e){var t=0,r=0;return function(){var n=Ske(),a=Nke-(n-r);if(r=n,a>0){if(++t>=jke)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Pke=_ke,Ake=wke,kke=Pke,Cke=kke(Ake),Tke=Cke,Eke=vg,Oke=hke,Mke=Tke;function Lke(e,t){return Mke(Oke(e,t,Eke),e+"")}var Ike=Lke,Dke=sT,Rke=lv,Fke=NT,$ke=Td;function Bke(e,t,r){if(!$ke(r))return!1;var n=typeof t;return(n=="number"?Rke(r)&&Fke(t,r.length):n=="string"&&t in r)?Dke(r[t],e):!1}var dN=Bke,Uke=FG,zke=lke,Vke=Ike,zD=dN,qke=Vke(function(e,t){if(e==null)return[];var r=t.length;return r>1&&zD(e,t[0],t[1])?t=[]:r>2&&zD(t[0],t[1],t[2])&&(t=[t[0]]),zke(e,Uke(t,1),[])}),Wke=qke;const AT=Mr(Wke);function Z0(e){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z0(e)}function j4(){return j4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j4.apply(this,arguments)}function Hke(e,t){return Xke(e)||Yke(e,t)||Gke(e,t)||Kke()}function Kke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gke(e,t){if(e){if(typeof e=="string")return VD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VD(e,t)}}function VD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Xke(e){if(Array.isArray(e))return e}function qD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qD(Object(r),!0).forEach(function(n){Zke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zke(e,t,r){return t=Qke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qke(e){var t=Jke(e,"string");return Z0(t)=="symbol"?t:t+""}function Jke(e,t){if(Z0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eCe(e){return Array.isArray(e)&&wi(e[0])&&wi(e[1])?e.join(" ~ "):e}var tCe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,x=t.label,v=t.labelFormatter,p=t.accessibilityLayer,y=p===void 0?!1:p,w=function(){if(d&&d.length){var k={padding:0,margin:0},R=(h?AT(d,h):d).map(function(L,H){if(L.type==="none")return null;var F=c_({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),V=L.formatter||f||eCe,B=L.value,G=L.name,le=B,fe=G;if(V&&le!=null&&fe!=null){var $=V(B,G,L,H,d);if(Array.isArray($)){var q=Hke($,2);le=q[0],fe=q[1]}else le=$}return se.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:F},wi(fe)?se.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,wi(fe)?se.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,se.createElement("span",{className:"recharts-tooltip-item-value"},le),se.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return se.createElement("ul",{className:"recharts-tooltip-item-list",style:k},R)}return null},j=c_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=c_({margin:0},u),P=!fr(x),A=P?x:"",C=vr("recharts-default-tooltip",m),O=vr("recharts-tooltip-label",g);P&&v&&d!==void 0&&d!==null&&(A=v(x,d));var D=y?{role:"status","aria-live":"assertive"}:{};return se.createElement("div",j4({className:C,style:j},D),se.createElement("p",{className:O,style:S},se.isValidElement(A)?A:"".concat(A)),w())};function Q0(e){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q0(e)}function zb(e,t,r){return t=rCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rCe(e){var t=nCe(e,"string");return Q0(t)=="symbol"?t:t+""}function nCe(e,t){if(Q0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vx="recharts-tooltip-wrapper",iCe={visibility:"hidden"};function aCe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return vr(vx,zb(zb(zb(zb({},"".concat(vx,"-right"),et(r)&&t&&et(t.x)&&r>=t.x),"".concat(vx,"-left"),et(r)&&t&&et(t.x)&&r<t.x),"".concat(vx,"-bottom"),et(n)&&t&&et(t.y)&&n>=t.y),"".concat(vx,"-top"),et(n)&&t&&et(t.y)&&n<t.y))}function WD(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&et(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,x=c[n]+u;return g>x?Math.max(d,c[n]):Math.max(f,c[n])}function sCe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function oCe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=WD({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=WD({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=sCe({translateX:d,translateY:f,useTranslate3d:l})):u=iCe,{cssProperties:u,cssClasses:aCe({translateX:d,translateY:f,coordinate:r})}}function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function HD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HD(Object(r),!0).forEach(function(n){S4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VG(n.key),n)}}function uCe(e,t,r){return t&&cCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dCe(e,t,r){return t=i2(t),fCe(e,zG()?Reflect.construct(t,r||[],i2(e).constructor):t.apply(e,r))}function fCe(e,t){if(t&&(Cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hCe(e)}function hCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zG=function(){return!!e})()}function i2(e){return i2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},i2(e)}function mCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N4(e,t)}function N4(e,t){return N4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},N4(e,t)}function S4(e,t,r){return t=VG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VG(e){var t=pCe(e,"string");return Cp(t)=="symbol"?t:t+""}function pCe(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GD=1,gCe=function(e){function t(){var r;lCe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=dCe(this,t,[].concat(a)),S4(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),S4(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return mCe(t,e),uCe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>GD||Math.abs(n.height-this.state.lastBoundingBox.height)>GD)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,g=a.position,x=a.reverseDirection,v=a.useTranslate3d,p=a.viewBox,y=a.wrapperStyle,w=oCe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:p}),j=w.cssClasses,S=w.cssProperties,P=KD(KD({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return se.createElement("div",{tabIndex:-1,className:j,style:P,ref:function(C){n.wrapperNode=C}},u)}}])}(N.PureComponent),xCe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ec={isSsr:xCe(),get:function(t){return Ec[t]},set:function(t,r){if(typeof t=="string")Ec[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Ec[a]=t[a]})}}};function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function YD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YD(Object(r),!0).forEach(function(n){kT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WG(n.key),n)}}function bCe(e,t,r){return t&&vCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wCe(e,t,r){return t=a2(t),jCe(e,qG()?Reflect.construct(t,r||[],a2(e).constructor):t.apply(e,r))}function jCe(e,t){if(t&&(Tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NCe(e)}function NCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qG=function(){return!!e})()}function a2(e){return a2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a2(e)}function SCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_4(e,t)}function _4(e,t){return _4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_4(e,t)}function kT(e,t,r){return t=WG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=_Ce(e,"string");return Tp(t)=="symbol"?t:t+""}function _Ce(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PCe(e){return e.dataKey}function ACe(e,t){return se.isValidElement(e)?se.cloneElement(e,t):typeof e=="function"?se.createElement(e,t):se.createElement(tCe,t)}var Po=function(e){function t(){return yCe(this,t),wCe(this,t,arguments)}return SCe(t,e),bCe(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,g=a.payload,x=a.payloadUniqBy,v=a.position,p=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,j=a.wrapperStyle,S=g??[];f&&S.length&&(S=LG(g.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),x,PCe));var P=S.length>0;return se.createElement(gCe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:P,offset:m,position:v,reverseDirection:p,useTranslate3d:y,viewBox:w,wrapperStyle:j},ACe(u,XD(XD({},this.props),{},{payload:S})))}}])}(N.PureComponent);kT(Po,"displayName","Tooltip");kT(Po,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ec.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var kCe=ql,CCe=function(){return kCe.Date.now()},TCe=CCe,ECe=/\s/;function OCe(e){for(var t=e.length;t--&&ECe.test(e.charAt(t)););return t}var MCe=OCe,LCe=MCe,ICe=/^\s+/;function DCe(e){return e&&e.slice(0,LCe(e)+1).replace(ICe,"")}var RCe=DCe,FCe=RCe,ZD=Td,$Ce=fg,QD=NaN,BCe=/^[-+]0x[0-9a-f]+$/i,UCe=/^0b[01]+$/i,zCe=/^0o[0-7]+$/i,VCe=parseInt;function qCe(e){if(typeof e=="number")return e;if($Ce(e))return QD;if(ZD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ZD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=FCe(e);var r=UCe.test(e);return r||zCe.test(e)?VCe(e.slice(2),r?2:8):BCe.test(e)?QD:+e}var HG=qCe,WCe=Td,u_=TCe,JD=HG,HCe="Expected a function",KCe=Math.max,GCe=Math.min;function YCe(e,t,r){var n,a,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(HCe);t=JD(t)||0,WCe(r)&&(d=!!r.leading,f="maxWait"in r,s=f?KCe(JD(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(P){var A=n,C=a;return n=a=void 0,u=P,o=e.apply(C,A),o}function g(P){return u=P,l=setTimeout(p,t),d?m(P):o}function x(P){var A=P-c,C=P-u,O=t-A;return f?GCe(O,s-C):O}function v(P){var A=P-c,C=P-u;return c===void 0||A>=t||A<0||f&&C>=s}function p(){var P=u_();if(v(P))return y(P);l=setTimeout(p,x(P))}function y(P){return l=void 0,h&&n?m(P):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?o:y(u_())}function S(){var P=u_(),A=v(P);if(n=arguments,a=this,c=P,A){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(p,t),m(c)}return l===void 0&&(l=setTimeout(p,t)),o}return S.cancel=w,S.flush=j,S}var XCe=YCe,ZCe=XCe,QCe=Td,JCe="Expected a function";function e3e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(JCe);return QCe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),ZCe(e,t,{leading:n,maxWait:t,trailing:a})}var t3e=e3e;const KG=Mr(t3e);function J0(e){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J0(e)}function eR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(r),!0).forEach(function(n){r3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r3e(e,t,r){return t=n3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n3e(e){var t=i3e(e,"string");return J0(t)=="symbol"?t:t+""}function i3e(e,t){if(J0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(J0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a3e(e,t){return c3e(e)||l3e(e,t)||o3e(e,t)||s3e()}function s3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o3e(e,t){if(e){if(typeof e=="string")return tR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tR(e,t)}}function tR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function c3e(e){if(Array.isArray(e))return e}var rR=N.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,x=g===void 0?0:g,v=e.id,p=e.className,y=e.onResize,w=e.style,j=w===void 0?{}:w,S=N.useRef(null),P=N.useRef();P.current=y,N.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=N.useState({containerWidth:a.width,containerHeight:a.height}),C=a3e(A,2),O=C[0],D=C[1],E=N.useCallback(function(R,L){D(function(H){var F=Math.round(R),V=Math.round(L);return H.containerWidth===F&&H.containerHeight===V?H:{containerWidth:F,containerHeight:V}})},[]);N.useEffect(function(){var R=function(G){var le,fe=G[0].contentRect,$=fe.width,q=fe.height;E($,q),(le=P.current)===null||le===void 0||le.call(P,$,q)};x>0&&(R=KG(R,x,{trailing:!0,leading:!1}));var L=new ResizeObserver(R),H=S.current.getBoundingClientRect(),F=H.width,V=H.height;return E(F,V),L.observe(S.current),function(){L.disconnect()}},[E,x]);var k=N.useMemo(function(){var R=O.containerWidth,L=O.containerHeight;if(R<0||L<0)return null;Tc(Cf(o)||Cf(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Tc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=Cf(o)?R:o,F=Cf(c)?L:c;r&&r>0&&(H?F=H/r:F&&(H=F*r),h&&F>h&&(F=h)),Tc(H>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,F,o,c,d,f,r);var V=!Array.isArray(m)&&Cc(m.type).endsWith("Chart");return se.Children.map(m,function(B){return se.isValidElement(B)?N.cloneElement(B,Vb({width:H,height:F},V?{style:Vb({height:"100%",width:"100%",maxHeight:F,maxWidth:H},B.props.style)}:{})):B})},[r,m,c,h,f,d,O,o]);return se.createElement("div",{id:v?"".concat(v):void 0,className:vr("recharts-responsive-container",p),style:Vb(Vb({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},k)}),GG=function(t){return null};GG.displayName="Cell";function ey(e){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(e)}function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function P4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(n){u3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u3e(e,t,r){return t=d3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d3e(e){var t=f3e(e,"string");return ey(t)=="symbol"?t:t+""}function f3e(e,t){if(ey(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gh={widthCache:{},cacheCount:0},h3e=2e3,m3e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iR="recharts_measurement_span";function p3e(e){var t=P4({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var o0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ec.isSsr)return{width:0,height:0};var n=p3e(r),a=JSON.stringify({text:t,copyStyle:n});if(Gh.widthCache[a])return Gh.widthCache[a];try{var s=document.getElementById(iR);s||(s=document.createElement("span"),s.setAttribute("id",iR),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=P4(P4({},m3e),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Gh.widthCache[a]=c,++Gh.cacheCount>h3e&&(Gh.cacheCount=0,Gh.widthCache={}),c}catch{return{width:0,height:0}}},g3e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ty(e){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(e)}function s2(e,t){return b3e(e)||v3e(e,t)||y3e(e,t)||x3e()}function x3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y3e(e,t){if(e){if(typeof e=="string")return aR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aR(e,t)}}function aR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function b3e(e){if(Array.isArray(e))return e}function w3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N3e(n.key),n)}}function j3e(e,t,r){return t&&sR(e.prototype,t),r&&sR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function N3e(e){var t=S3e(e,"string");return ty(t)=="symbol"?t:t+""}function S3e(e,t){if(ty(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_3e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,P3e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},A3e=Object.keys(YG),vm="NaN";function k3e(e,t){return e*YG[t]}var qb=function(){function e(t,r){w3e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!_3e.test(r)&&(this.num=NaN,this.unit=""),A3e.includes(r)&&(this.num=k3e(t,r),this.unit="px")}return j3e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=P3e.exec(r))!==null&&n!==void 0?n:[],s=s2(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function XG(e){if(e.includes(vm))return vm;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=oR.exec(t))!==null&&r!==void 0?r:[],a=s2(n,4),s=a[1],o=a[2],l=a[3],c=qb.parse(s??""),u=qb.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return vm;t=t.replace(oR,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=lR.exec(t))!==null&&f!==void 0?f:[],m=s2(h,4),g=m[1],x=m[2],v=m[3],p=qb.parse(g??""),y=qb.parse(v??""),w=x==="+"?p.add(y):p.subtract(y);if(w.isNaN())return vm;t=t.replace(lR,w.toString())}return t}var cR=/\(([^()]*)\)/;function C3e(e){for(var t=e;t.includes("(");){var r=cR.exec(t),n=s2(r,2),a=n[1];t=t.replace(cR,XG(a))}return t}function T3e(e){var t=e.replace(/\s+/g,"");return t=C3e(t),t=XG(t),t}function E3e(e){try{return T3e(e)}catch{return vm}}function d_(e){var t=E3e(e.slice(5,-1));return t===vm?"":t}var O3e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],M3e=["dx","dy","angle","className","breakAll"];function A4(){return A4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A4.apply(this,arguments)}function uR(e,t){if(e==null)return{};var r=L3e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dR(e,t){return F3e(e)||R3e(e,t)||D3e(e,t)||I3e()}function I3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D3e(e,t){if(e){if(typeof e=="string")return fR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fR(e,t)}}function fR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function F3e(e){if(Array.isArray(e))return e}var ZG=/[ \f\n\r\t\v\u2028\u2029]+/,QG=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];fr(r)||(n?s=r.toString().split(""):s=r.toString().split(ZG));var o=s.map(function(c){return{word:c,width:o0(c,a).width}}),l=n?0:o0("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},$3e=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=et(o),f=l,h=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(F,V){var B=V.word,G=V.width,le=F[F.length-1];if(le&&(a==null||s||le.width+G+n<Number(a)))le.words.push(B),le.width+=G+n;else{var fe={words:[B],width:G};F.push(fe)}return F},[])},m=h(r),g=function(H){return H.reduce(function(F,V){return F.width>V.width?F:V})};if(!d)return m;for(var x="",v=function(H){var F=f.slice(0,H),V=QG({breakAll:u,style:c,children:F+x}).wordsWithComputedWidth,B=h(V),G=B.length>o||g(B).width>Number(a);return[G,B]},p=0,y=f.length-1,w=0,j;p<=y&&w<=f.length-1;){var S=Math.floor((p+y)/2),P=S-1,A=v(P),C=dR(A,2),O=C[0],D=C[1],E=v(S),k=dR(E,1),R=k[0];if(!O&&!R&&(p=S+1),O&&R&&(y=S-1),!O&&R){j=D;break}w++}return j||m},hR=function(t){var r=fr(t)?[]:t.toString().split(ZG);return[{words:r}]},B3e=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Ec.isSsr){var c,u,d=QG({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return hR(a);return $3e({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return hR(a)},mR="#808080",o2=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,x=g===void 0?"end":g,v=t.fill,p=v===void 0?mR:v,y=uR(t,O3e),w=N.useMemo(function(){return B3e({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),j=y.dx,S=y.dy,P=y.angle,A=y.className,C=y.breakAll,O=uR(y,M3e);if(!wi(n)||!wi(s))return null;var D=n+(et(j)?j:0),E=s+(et(S)?S:0),k;switch(x){case"start":k=d_("calc(".concat(u,")"));break;case"middle":k=d_("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:k=d_("calc(".concat(w.length-1," * -").concat(l,")"));break}var R=[];if(f){var L=w[0].width,H=y.width;R.push("scale(".concat((et(H)?H/L:1)/L,")"))}return P&&R.push("rotate(".concat(P,", ").concat(D,", ").concat(E,")")),R.length&&(O.transform=R.join(" ")),se.createElement("text",A4({},yr(O,!0),{x:D,y:E,className:vr("recharts-text",A),textAnchor:m,fill:p.includes("url")?mR:p}),w.map(function(F,V){var B=F.words.join(C?"":" ");return se.createElement("tspan",{x:D,dy:V===0?k:l,key:"".concat(B,"-").concat(V)},B)}))};function dd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function U3e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function CT(e){let t,r,n;e.length!==2?(t=dd,r=(l,c)=>dd(e(l),c),n=(l,c)=>e(l)-c):(t=e===dd||e===U3e?e:z3e,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function z3e(){return 0}function JG(e){return e===null?NaN:+e}function*V3e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const q3e=CT(dd),cv=q3e.right;CT(JG).center;class pR extends Map{constructor(t,r=K3e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(gR(this,t))}has(t){return super.has(gR(this,t))}set(t,r){return super.set(W3e(this,t),r)}delete(t){return super.delete(H3e(this,t))}}function gR({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function W3e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function H3e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function K3e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function G3e(e=dd){if(e===dd)return eY;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function eY(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Y3e=Math.sqrt(50),X3e=Math.sqrt(10),Z3e=Math.sqrt(2);function l2(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=Y3e?10:s>=X3e?5:s>=Z3e?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?l2(e,t,r*2):[l,c,u]}function k4(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?l2(t,e,r):l2(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function C4(e,t,r){return t=+t,e=+e,r=+r,l2(e,t,r)[2]}function T4(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?C4(t,e,r):C4(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function xR(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function yR(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function tY(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?eY:G3e(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));tY(e,t,m,g,a)}const s=e[t];let o=r,l=n;for(bx(e,r,t),a(e[n],s)>0&&bx(e,r,n);o<l;){for(bx(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?bx(e,r,l):(++l,bx(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function bx(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Q3e(e,t,r){if(e=Float64Array.from(V3e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return yR(e);if(t>=1)return xR(e);var n,a=(n-1)*t,s=Math.floor(a),o=xR(tY(e,s).subarray(0,s+1)),l=yR(e.subarray(s+1));return o+(l-o)*(a-s)}}function J3e(e,t,r=JG){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function eTe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function co(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const E4=Symbol("implicit");function TT(){var e=new pR,t=[],r=[],n=E4;function a(s){let o=e.get(s);if(o===void 0){if(n!==E4)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new pR;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return TT(t,r).unknown(n)},co.apply(a,arguments),a}function ry(){var e=TT().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,x=m?n:a;s=(x-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(x-g-s*(h-c))*d,o=s*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=eTe(h).map(function(p){return g+s*p});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return ry(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},co.apply(f(),arguments)}function rY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return rY(t())},e}function l0(){return rY(ry.apply(null,arguments).paddingInner(1))}function ET(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function nY(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function uv(){}var ny=.7,c2=1/ny,zm="\\s*([+-]?\\d+)\\s*",iy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ol="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tTe=/^#([0-9a-f]{3,8})$/,rTe=new RegExp(`^rgb\\(${zm},${zm},${zm}\\)$`),nTe=new RegExp(`^rgb\\(${Ol},${Ol},${Ol}\\)$`),iTe=new RegExp(`^rgba\\(${zm},${zm},${zm},${iy}\\)$`),aTe=new RegExp(`^rgba\\(${Ol},${Ol},${Ol},${iy}\\)$`),sTe=new RegExp(`^hsl\\(${iy},${Ol},${Ol}\\)$`),oTe=new RegExp(`^hsla\\(${iy},${Ol},${Ol},${iy}\\)$`),vR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ET(uv,ay,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bR,formatHex:bR,formatHex8:lTe,formatHsl:cTe,formatRgb:wR,toString:wR});function bR(){return this.rgb().formatHex()}function lTe(){return this.rgb().formatHex8()}function cTe(){return iY(this).formatHsl()}function wR(){return this.rgb().formatRgb()}function ay(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=tTe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?jR(t):r===3?new Ra(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Wb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Wb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rTe.exec(e))?new Ra(t[1],t[2],t[3],1):(t=nTe.exec(e))?new Ra(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=iTe.exec(e))?Wb(t[1],t[2],t[3],t[4]):(t=aTe.exec(e))?Wb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sTe.exec(e))?_R(t[1],t[2]/100,t[3]/100,1):(t=oTe.exec(e))?_R(t[1],t[2]/100,t[3]/100,t[4]):vR.hasOwnProperty(e)?jR(vR[e]):e==="transparent"?new Ra(NaN,NaN,NaN,0):null}function jR(e){return new Ra(e>>16&255,e>>8&255,e&255,1)}function Wb(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ra(e,t,r,n)}function uTe(e){return e instanceof uv||(e=ay(e)),e?(e=e.rgb(),new Ra(e.r,e.g,e.b,e.opacity)):new Ra}function O4(e,t,r,n){return arguments.length===1?uTe(e):new Ra(e,t,r,n??1)}function Ra(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ET(Ra,O4,nY(uv,{brighter(e){return e=e==null?c2:Math.pow(c2,e),new Ra(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ny:Math.pow(ny,e),new Ra(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ra(Wf(this.r),Wf(this.g),Wf(this.b),u2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NR,formatHex:NR,formatHex8:dTe,formatRgb:SR,toString:SR}));function NR(){return`#${Tf(this.r)}${Tf(this.g)}${Tf(this.b)}`}function dTe(){return`#${Tf(this.r)}${Tf(this.g)}${Tf(this.b)}${Tf((isNaN(this.opacity)?1:this.opacity)*255)}`}function SR(){const e=u2(this.opacity);return`${e===1?"rgb(":"rgba("}${Wf(this.r)}, ${Wf(this.g)}, ${Wf(this.b)}${e===1?")":`, ${e})`}`}function u2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tf(e){return e=Wf(e),(e<16?"0":"")+e.toString(16)}function _R(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Lo(e,t,r,n)}function iY(e){if(e instanceof Lo)return new Lo(e.h,e.s,e.l,e.opacity);if(e instanceof uv||(e=ay(e)),!e)return new Lo;if(e instanceof Lo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new Lo(o,l,c,e.opacity)}function fTe(e,t,r,n){return arguments.length===1?iY(e):new Lo(e,t,r,n??1)}function Lo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ET(Lo,fTe,nY(uv,{brighter(e){return e=e==null?c2:Math.pow(c2,e),new Lo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ny:Math.pow(ny,e),new Lo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ra(f_(e>=240?e-240:e+120,a,n),f_(e,a,n),f_(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Lo(PR(this.h),Hb(this.s),Hb(this.l),u2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=u2(this.opacity);return`${e===1?"hsl(":"hsla("}${PR(this.h)}, ${Hb(this.s)*100}%, ${Hb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function PR(e){return e=(e||0)%360,e<0?e+360:e}function Hb(e){return Math.max(0,Math.min(1,e||0))}function f_(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const OT=e=>()=>e;function hTe(e,t){return function(r){return e+r*t}}function mTe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function pTe(e){return(e=+e)==1?aY:function(t,r){return r-t?mTe(t,r,e):OT(isNaN(t)?r:t)}}function aY(e,t){var r=t-e;return r?hTe(e,r):OT(isNaN(e)?t:e)}const AR=function e(t){var r=pTe(t);function n(a,s){var o=r((a=O4(a)).r,(s=O4(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=aY(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function gTe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function xTe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function yTe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=bg(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function vTe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function d2(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function bTe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=bg(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var M4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,h_=new RegExp(M4.source,"g");function wTe(e){return function(){return e}}function jTe(e){return function(t){return e(t)+""}}function NTe(e,t){var r=M4.lastIndex=h_.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=M4.exec(e))&&(a=h_.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:d2(n,a)})),r=h_.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?jTe(c[0].x):wTe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function bg(e,t){var r=typeof t,n;return t==null||r==="boolean"?OT(t):(r==="number"?d2:r==="string"?(n=ay(t))?(t=n,AR):NTe:t instanceof ay?AR:t instanceof Date?vTe:xTe(t)?gTe:Array.isArray(t)?yTe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bTe:d2)(e,t)}function MT(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function STe(e,t){t===void 0&&(t=e,e=bg);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function _Te(e){return function(){return e}}function f2(e){return+e}var kR=[0,1];function Na(e){return e}function L4(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:_Te(isNaN(t)?NaN:.5)}function PTe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ATe(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=L4(a,n),s=r(o,s)):(n=L4(n,a),s=r(s,o)),function(l){return s(n(l))}}function kTe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=L4(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=cv(e,l,1,n)-1;return s[c](a[c](l))}}function dv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fN(){var e=kR,t=kR,r=bg,n,a,s,o=Na,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Na&&(o=PTe(e[0],e[h-1])),l=h>2?kTe:ATe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),d2)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,f2),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=MT,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Na,d()):o!==Na},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function LT(){return fN()(Na,Na)}function CTe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function h2(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ep(e){return e=h2(Math.abs(e)),e?e[1]:NaN}function TTe(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function ETe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var OTe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sy(e){if(!(t=OTe.exec(e)))throw new Error("invalid format: "+e);var t;return new IT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sy.prototype=IT.prototype;function IT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}IT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function MTe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var sY;function LTe(e,t){var r=h2(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(sY=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+h2(e,Math.max(0,t+s-1))[0]}function CR(e,t){var r=h2(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const TR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:CTe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>CR(e*100,t),r:CR,s:LTe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ER(e){return e}var OR=Array.prototype.map,MR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ITe(e){var t=e.grouping===void 0||e.thousands===void 0?ER:TTe(OR.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?ER:ETe(OR.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=sy(f);var h=f.fill,m=f.align,g=f.sign,x=f.symbol,v=f.zero,p=f.width,y=f.comma,w=f.precision,j=f.trim,S=f.type;S==="n"?(y=!0,S="g"):TR[S]||(w===void 0&&(w=12),j=!0,S="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var P=x==="$"?r:x==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=x==="$"?n:/[%p]/.test(S)?o:"",C=TR[S],O=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function D(E){var k=P,R=A,L,H,F;if(S==="c")R=C(E)+R,E="";else{E=+E;var V=E<0||1/E<0;if(E=isNaN(E)?c:C(Math.abs(E),w),j&&(E=MTe(E)),V&&+E==0&&g!=="+"&&(V=!1),k=(V?g==="("?g:l:g==="-"||g==="("?"":g)+k,R=(S==="s"?MR[8+sY/3]:"")+R+(V&&g==="("?")":""),O){for(L=-1,H=E.length;++L<H;)if(F=E.charCodeAt(L),48>F||F>57){R=(F===46?a+E.slice(L+1):E.slice(L))+R,E=E.slice(0,L);break}}}y&&!v&&(E=t(E,1/0));var B=k.length+E.length+R.length,G=B<p?new Array(p-B+1).join(h):"";switch(y&&v&&(E=t(G+E,G.length?p-R.length:1/0),G=""),m){case"<":E=k+E+R+G;break;case"=":E=k+G+E+R;break;case"^":E=G.slice(0,B=G.length>>1)+k+E+R+G.slice(B);break;default:E=G+k+E+R;break}return s(E)}return D.toString=function(){return f+""},D}function d(f,h){var m=u((f=sy(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Ep(h)/3)))*3,x=Math.pow(10,-g),v=MR[8+g/3];return function(p){return m(x*p)+v}}return{format:u,formatPrefix:d}}var Kb,DT,oY;DTe({thousands:",",grouping:[3],currency:["$",""]});function DTe(e){return Kb=ITe(e),DT=Kb.format,oY=Kb.formatPrefix,Kb}function RTe(e){return Math.max(0,-Ep(Math.abs(e)))}function FTe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ep(t)/3)))*3-Ep(Math.abs(e)))}function $Te(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ep(t)-Ep(e))+1}function lY(e,t,r,n){var a=T4(e,t,r),s;switch(n=sy(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=FTe(a,o))&&(n.precision=s),oY(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=$Te(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=RTe(a))&&(n.precision=s-(n.type==="%")*2);break}}return DT(n)}function Od(e){var t=e.domain;return e.ticks=function(r){var n=t();return k4(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return lY(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=C4(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function m2(){var e=LT();return e.copy=function(){return dv(e,m2())},co.apply(e,arguments),Od(e)}function cY(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,f2),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return cY(e).unknown(t)},e=arguments.length?Array.from(e,f2):[0,1],Od(r)}function uY(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function LR(e){return Math.log(e)}function IR(e){return Math.exp(e)}function BTe(e){return-Math.log(-e)}function UTe(e){return-Math.exp(-e)}function zTe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function VTe(e){return e===10?zTe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function qTe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function DR(e){return(t,r)=>-e(-t,r)}function RT(e){const t=e(LR,IR),r=t.domain;let n=10,a,s;function o(){return a=qTe(n),s=VTe(n),r()[0]<0?(a=DR(a),s=DR(s),e(BTe,UTe)):e(LR,IR),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,x;const v=l==null?10:+l;let p=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(x=h<0?g/s(-h):g*s(h),!(x<u)){if(x>d)break;p.push(x)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(x=h>0?g/s(-h):g*s(h),!(x<u)){if(x>d)break;p.push(x)}p.length*2<v&&(p=k4(u,d,v))}else p=k4(h,m,Math.min(m-h,v)).map(s);return f?p.reverse():p},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=sy(c)).precision==null&&(c.trim=!0),c=DT(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(uY(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function dY(){const e=RT(fN()).domain([1,10]);return e.copy=()=>dv(e,dY()).base(e.base()),co.apply(e,arguments),e}function RR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function FR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function FT(e){var t=1,r=e(RR(t),FR(t));return r.constant=function(n){return arguments.length?e(RR(t=+n),FR(t)):t},Od(r)}function fY(){var e=FT(fN());return e.copy=function(){return dv(e,fY()).constant(e.constant())},co.apply(e,arguments)}function $R(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function WTe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function HTe(e){return e<0?-e*e:e*e}function $T(e){var t=e(Na,Na),r=1;function n(){return r===1?e(Na,Na):r===.5?e(WTe,HTe):e($R(r),$R(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Od(t)}function BT(){var e=$T(fN());return e.copy=function(){return dv(e,BT()).exponent(e.exponent())},co.apply(e,arguments),e}function KTe(){return BT.apply(null,arguments).exponent(.5)}function BR(e){return Math.sign(e)*e*e}function GTe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function hY(){var e=LT(),t=[0,1],r=!1,n;function a(s){var o=GTe(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(BR(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,f2)).map(BR)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return hY(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},co.apply(a,arguments),Od(a)}function mY(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=J3e(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[cv(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(dd),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return mY().domain(e).range(t).unknown(n)},co.apply(s,arguments)}function pY(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[cv(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return pY().domain([e,t]).range(a).unknown(s)},co.apply(Od(o),arguments)}function gY(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[cv(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return gY().domain(e).range(t).unknown(r)},co.apply(a,arguments)}const m_=new Date,p_=new Date;function ji(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>ji(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(m_.setTime(+s),p_.setTime(+o),e(m_),e(p_),Math.floor(r(m_,p_))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const p2=ji(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);p2.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ji(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):p2);p2.range;const bc=1e3,Ws=bc*60,wc=Ws*60,qc=wc*24,UT=qc*7,UR=qc*30,g_=qc*365,Ef=ji(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*bc)},(e,t)=>(t-e)/bc,e=>e.getUTCSeconds());Ef.range;const zT=ji(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bc)},(e,t)=>{e.setTime(+e+t*Ws)},(e,t)=>(t-e)/Ws,e=>e.getMinutes());zT.range;const VT=ji(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ws)},(e,t)=>(t-e)/Ws,e=>e.getUTCMinutes());VT.range;const qT=ji(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bc-e.getMinutes()*Ws)},(e,t)=>{e.setTime(+e+t*wc)},(e,t)=>(t-e)/wc,e=>e.getHours());qT.range;const WT=ji(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wc)},(e,t)=>(t-e)/wc,e=>e.getUTCHours());WT.range;const fv=ji(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ws)/qc,e=>e.getDate()-1);fv.range;const hN=ji(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qc,e=>e.getUTCDate()-1);hN.range;const xY=ji(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qc,e=>Math.floor(e/qc));xY.range;function bh(e){return ji(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ws)/UT)}const mN=bh(0),g2=bh(1),YTe=bh(2),XTe=bh(3),Op=bh(4),ZTe=bh(5),QTe=bh(6);mN.range;g2.range;YTe.range;XTe.range;Op.range;ZTe.range;QTe.range;function wh(e){return ji(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/UT)}const pN=wh(0),x2=wh(1),JTe=wh(2),eEe=wh(3),Mp=wh(4),tEe=wh(5),rEe=wh(6);pN.range;x2.range;JTe.range;eEe.range;Mp.range;tEe.range;rEe.range;const HT=ji(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());HT.range;const KT=ji(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());KT.range;const Wc=ji(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ji(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Wc.range;const Hc=ji(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ji(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Hc.range;function yY(e,t,r,n,a,s){const o=[[Ef,1,bc],[Ef,5,5*bc],[Ef,15,15*bc],[Ef,30,30*bc],[s,1,Ws],[s,5,5*Ws],[s,15,15*Ws],[s,30,30*Ws],[a,1,wc],[a,3,3*wc],[a,6,6*wc],[a,12,12*wc],[n,1,qc],[n,2,2*qc],[r,1,UT],[t,1,UR],[t,3,3*UR],[e,1,g_]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=CT(([,,v])=>v).right(o,h);if(m===o.length)return e.every(T4(u/g_,d/g_,f));if(m===0)return p2.every(Math.max(T4(u,d,f),1));const[g,x]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(x)}return[l,c]}const[nEe,iEe]=yY(Hc,KT,pN,xY,WT,VT),[aEe,sEe]=yY(Wc,HT,mN,fv,qT,zT);function x_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function y_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wx(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function oEe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=jx(a),d=Nx(a),f=jx(s),h=Nx(s),m=jx(o),g=Nx(o),x=jx(l),v=Nx(l),p=jx(c),y=Nx(c),w={a:V,A:B,b:G,B:le,c:null,d:KR,e:KR,f:TEe,g:BEe,G:zEe,H:AEe,I:kEe,j:CEe,L:vY,m:EEe,M:OEe,p:fe,q:$,Q:XR,s:ZR,S:MEe,u:LEe,U:IEe,V:DEe,w:REe,W:FEe,x:null,X:null,y:$Ee,Y:UEe,Z:VEe,"%":YR},j={a:q,A:Q,b:ae,B:ue,c:null,d:GR,e:GR,f:KEe,g:n6e,G:a6e,H:qEe,I:WEe,j:HEe,L:wY,m:GEe,M:YEe,p:ce,q:we,Q:XR,s:ZR,S:XEe,u:ZEe,U:QEe,V:JEe,w:e6e,W:t6e,x:null,X:null,y:r6e,Y:i6e,Z:s6e,"%":YR},S={a:D,A:E,b:k,B:R,c:L,d:WR,e:WR,f:NEe,g:qR,G:VR,H:HR,I:HR,j:vEe,L:jEe,m:yEe,M:bEe,p:O,q:xEe,Q:_Ee,s:PEe,S:wEe,u:fEe,U:hEe,V:mEe,w:dEe,W:pEe,x:H,X:F,y:qR,Y:VR,Z:gEe,"%":SEe};w.x=P(r,w),w.X=P(n,w),w.c=P(t,w),j.x=P(r,j),j.X=P(n,j),j.c=P(t,j);function P(oe,ye){return function(Ne){var pe=[],_e=-1,ve=0,J=oe.length,ut,at,ct;for(Ne instanceof Date||(Ne=new Date(+Ne));++_e<J;)oe.charCodeAt(_e)===37&&(pe.push(oe.slice(ve,_e)),(at=zR[ut=oe.charAt(++_e)])!=null?ut=oe.charAt(++_e):at=ut==="e"?" ":"0",(ct=ye[ut])&&(ut=ct(Ne,at)),pe.push(ut),ve=_e+1);return pe.push(oe.slice(ve,_e)),pe.join("")}}function A(oe,ye){return function(Ne){var pe=wx(1900,void 0,1),_e=C(pe,oe,Ne+="",0),ve,J;if(_e!=Ne.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(ye&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(ve=y_(wx(pe.y,0,1)),J=ve.getUTCDay(),ve=J>4||J===0?x2.ceil(ve):x2(ve),ve=hN.offset(ve,(pe.V-1)*7),pe.y=ve.getUTCFullYear(),pe.m=ve.getUTCMonth(),pe.d=ve.getUTCDate()+(pe.w+6)%7):(ve=x_(wx(pe.y,0,1)),J=ve.getDay(),ve=J>4||J===0?g2.ceil(ve):g2(ve),ve=fv.offset(ve,(pe.V-1)*7),pe.y=ve.getFullYear(),pe.m=ve.getMonth(),pe.d=ve.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),J="Z"in pe?y_(wx(pe.y,0,1)).getUTCDay():x_(wx(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(J+5)%7:pe.w+pe.U*7-(J+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,y_(pe)):x_(pe)}}function C(oe,ye,Ne,pe){for(var _e=0,ve=ye.length,J=Ne.length,ut,at;_e<ve;){if(pe>=J)return-1;if(ut=ye.charCodeAt(_e++),ut===37){if(ut=ye.charAt(_e++),at=S[ut in zR?ye.charAt(_e++):ut],!at||(pe=at(oe,Ne,pe))<0)return-1}else if(ut!=Ne.charCodeAt(pe++))return-1}return pe}function O(oe,ye,Ne){var pe=u.exec(ye.slice(Ne));return pe?(oe.p=d.get(pe[0].toLowerCase()),Ne+pe[0].length):-1}function D(oe,ye,Ne){var pe=m.exec(ye.slice(Ne));return pe?(oe.w=g.get(pe[0].toLowerCase()),Ne+pe[0].length):-1}function E(oe,ye,Ne){var pe=f.exec(ye.slice(Ne));return pe?(oe.w=h.get(pe[0].toLowerCase()),Ne+pe[0].length):-1}function k(oe,ye,Ne){var pe=p.exec(ye.slice(Ne));return pe?(oe.m=y.get(pe[0].toLowerCase()),Ne+pe[0].length):-1}function R(oe,ye,Ne){var pe=x.exec(ye.slice(Ne));return pe?(oe.m=v.get(pe[0].toLowerCase()),Ne+pe[0].length):-1}function L(oe,ye,Ne){return C(oe,t,ye,Ne)}function H(oe,ye,Ne){return C(oe,r,ye,Ne)}function F(oe,ye,Ne){return C(oe,n,ye,Ne)}function V(oe){return o[oe.getDay()]}function B(oe){return s[oe.getDay()]}function G(oe){return c[oe.getMonth()]}function le(oe){return l[oe.getMonth()]}function fe(oe){return a[+(oe.getHours()>=12)]}function $(oe){return 1+~~(oe.getMonth()/3)}function q(oe){return o[oe.getUTCDay()]}function Q(oe){return s[oe.getUTCDay()]}function ae(oe){return c[oe.getUTCMonth()]}function ue(oe){return l[oe.getUTCMonth()]}function ce(oe){return a[+(oe.getUTCHours()>=12)]}function we(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ye=P(oe+="",w);return ye.toString=function(){return oe},ye},parse:function(oe){var ye=A(oe+="",!1);return ye.toString=function(){return oe},ye},utcFormat:function(oe){var ye=P(oe+="",j);return ye.toString=function(){return oe},ye},utcParse:function(oe){var ye=A(oe+="",!0);return ye.toString=function(){return oe},ye}}}var zR={"-":"",_:" ",0:"0"},Oi=/^\s*\d+/,lEe=/^%/,cEe=/[\\^$*+?|[\]().{}]/g;function Cr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function uEe(e){return e.replace(cEe,"\\$&")}function jx(e){return new RegExp("^(?:"+e.map(uEe).join("|")+")","i")}function Nx(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function dEe(e,t,r){var n=Oi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function fEe(e,t,r){var n=Oi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function hEe(e,t,r){var n=Oi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function mEe(e,t,r){var n=Oi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function pEe(e,t,r){var n=Oi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function VR(e,t,r){var n=Oi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function qR(e,t,r){var n=Oi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function gEe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function xEe(e,t,r){var n=Oi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function yEe(e,t,r){var n=Oi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function WR(e,t,r){var n=Oi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function vEe(e,t,r){var n=Oi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function HR(e,t,r){var n=Oi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function bEe(e,t,r){var n=Oi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function wEe(e,t,r){var n=Oi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function jEe(e,t,r){var n=Oi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function NEe(e,t,r){var n=Oi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function SEe(e,t,r){var n=lEe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function _Ee(e,t,r){var n=Oi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function PEe(e,t,r){var n=Oi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function KR(e,t){return Cr(e.getDate(),t,2)}function AEe(e,t){return Cr(e.getHours(),t,2)}function kEe(e,t){return Cr(e.getHours()%12||12,t,2)}function CEe(e,t){return Cr(1+fv.count(Wc(e),e),t,3)}function vY(e,t){return Cr(e.getMilliseconds(),t,3)}function TEe(e,t){return vY(e,t)+"000"}function EEe(e,t){return Cr(e.getMonth()+1,t,2)}function OEe(e,t){return Cr(e.getMinutes(),t,2)}function MEe(e,t){return Cr(e.getSeconds(),t,2)}function LEe(e){var t=e.getDay();return t===0?7:t}function IEe(e,t){return Cr(mN.count(Wc(e)-1,e),t,2)}function bY(e){var t=e.getDay();return t>=4||t===0?Op(e):Op.ceil(e)}function DEe(e,t){return e=bY(e),Cr(Op.count(Wc(e),e)+(Wc(e).getDay()===4),t,2)}function REe(e){return e.getDay()}function FEe(e,t){return Cr(g2.count(Wc(e)-1,e),t,2)}function $Ee(e,t){return Cr(e.getFullYear()%100,t,2)}function BEe(e,t){return e=bY(e),Cr(e.getFullYear()%100,t,2)}function UEe(e,t){return Cr(e.getFullYear()%1e4,t,4)}function zEe(e,t){var r=e.getDay();return e=r>=4||r===0?Op(e):Op.ceil(e),Cr(e.getFullYear()%1e4,t,4)}function VEe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Cr(t/60|0,"0",2)+Cr(t%60,"0",2)}function GR(e,t){return Cr(e.getUTCDate(),t,2)}function qEe(e,t){return Cr(e.getUTCHours(),t,2)}function WEe(e,t){return Cr(e.getUTCHours()%12||12,t,2)}function HEe(e,t){return Cr(1+hN.count(Hc(e),e),t,3)}function wY(e,t){return Cr(e.getUTCMilliseconds(),t,3)}function KEe(e,t){return wY(e,t)+"000"}function GEe(e,t){return Cr(e.getUTCMonth()+1,t,2)}function YEe(e,t){return Cr(e.getUTCMinutes(),t,2)}function XEe(e,t){return Cr(e.getUTCSeconds(),t,2)}function ZEe(e){var t=e.getUTCDay();return t===0?7:t}function QEe(e,t){return Cr(pN.count(Hc(e)-1,e),t,2)}function jY(e){var t=e.getUTCDay();return t>=4||t===0?Mp(e):Mp.ceil(e)}function JEe(e,t){return e=jY(e),Cr(Mp.count(Hc(e),e)+(Hc(e).getUTCDay()===4),t,2)}function e6e(e){return e.getUTCDay()}function t6e(e,t){return Cr(x2.count(Hc(e)-1,e),t,2)}function r6e(e,t){return Cr(e.getUTCFullYear()%100,t,2)}function n6e(e,t){return e=jY(e),Cr(e.getUTCFullYear()%100,t,2)}function i6e(e,t){return Cr(e.getUTCFullYear()%1e4,t,4)}function a6e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Mp(e):Mp.ceil(e),Cr(e.getUTCFullYear()%1e4,t,4)}function s6e(){return"+0000"}function YR(){return"%"}function XR(e){return+e}function ZR(e){return Math.floor(+e/1e3)}var Yh,NY,SY;o6e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function o6e(e){return Yh=oEe(e),NY=Yh.format,Yh.parse,SY=Yh.utcFormat,Yh.utcParse,Yh}function l6e(e){return new Date(e)}function c6e(e){return e instanceof Date?+e:+new Date(+e)}function GT(e,t,r,n,a,s,o,l,c,u){var d=LT(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),x=u("%I:%M"),v=u("%I %p"),p=u("%a %d"),y=u("%b %d"),w=u("%B"),j=u("%Y");function S(P){return(c(P)<P?m:l(P)<P?g:o(P)<P?x:s(P)<P?v:n(P)<P?a(P)<P?p:y:r(P)<P?w:j)(P)}return d.invert=function(P){return new Date(f(P))},d.domain=function(P){return arguments.length?h(Array.from(P,c6e)):h().map(l6e)},d.ticks=function(P){var A=h();return e(A[0],A[A.length-1],P??10)},d.tickFormat=function(P,A){return A==null?S:u(A)},d.nice=function(P){var A=h();return(!P||typeof P.range!="function")&&(P=t(A[0],A[A.length-1],P??10)),P?h(uY(A,P)):d},d.copy=function(){return dv(d,GT(e,t,r,n,a,s,o,l,c,u))},d}function u6e(){return co.apply(GT(aEe,sEe,Wc,HT,mN,fv,qT,zT,Ef,NY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function d6e(){return co.apply(GT(nEe,iEe,Hc,KT,pN,hN,WT,VT,Ef,SY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gN(){var e=0,t=1,r,n,a,s,o=Na,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(bg),u.rangeRound=d(MT),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Md(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function _Y(){var e=Od(gN()(Na));return e.copy=function(){return Md(e,_Y())},Zc.apply(e,arguments)}function PY(){var e=RT(gN()).domain([1,10]);return e.copy=function(){return Md(e,PY()).base(e.base())},Zc.apply(e,arguments)}function AY(){var e=FT(gN());return e.copy=function(){return Md(e,AY()).constant(e.constant())},Zc.apply(e,arguments)}function YT(){var e=$T(gN());return e.copy=function(){return Md(e,YT()).exponent(e.exponent())},Zc.apply(e,arguments)}function f6e(){return YT.apply(null,arguments).exponent(.5)}function kY(){var e=[],t=Na;function r(n){if(n!=null&&!isNaN(n=+n))return t((cv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(dd),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>Q3e(e,s/n))},r.copy=function(){return kY(t).domain(e)},Zc.apply(r,arguments)}function xN(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=Na,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-s)*(n*x<n*s?l:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function g(x){return function(v){var p,y,w;return arguments.length?([p,y,w]=v,u=STe(x,[p,y,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(bg),m.rangeRound=g(MT),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,a=x(e),s=x(t),o=x(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m}}function CY(){var e=Od(xN()(Na));return e.copy=function(){return Md(e,CY())},Zc.apply(e,arguments)}function TY(){var e=RT(xN()).domain([.1,1,10]);return e.copy=function(){return Md(e,TY()).base(e.base())},Zc.apply(e,arguments)}function EY(){var e=FT(xN());return e.copy=function(){return Md(e,EY()).constant(e.constant())},Zc.apply(e,arguments)}function XT(){var e=$T(xN());return e.copy=function(){return Md(e,XT()).exponent(e.exponent())},Zc.apply(e,arguments)}function h6e(){return XT.apply(null,arguments).exponent(.5)}const QR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ry,scaleDiverging:CY,scaleDivergingLog:TY,scaleDivergingPow:XT,scaleDivergingSqrt:h6e,scaleDivergingSymlog:EY,scaleIdentity:cY,scaleImplicit:E4,scaleLinear:m2,scaleLog:dY,scaleOrdinal:TT,scalePoint:l0,scalePow:BT,scaleQuantile:mY,scaleQuantize:pY,scaleRadial:hY,scaleSequential:_Y,scaleSequentialLog:PY,scaleSequentialPow:YT,scaleSequentialQuantile:kY,scaleSequentialSqrt:f6e,scaleSequentialSymlog:AY,scaleSqrt:KTe,scaleSymlog:fY,scaleThreshold:gY,scaleTime:u6e,scaleUtc:d6e,tickFormat:lY},Symbol.toStringTag,{value:"Module"}));var m6e=fg;function p6e(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!m6e(o):r(o,l)))var l=o,c=s}return c}var OY=p6e;function g6e(e,t){return e>t}var x6e=g6e,y6e=OY,v6e=x6e,b6e=vg;function w6e(e){return e&&e.length?y6e(e,b6e,v6e):void 0}var j6e=w6e;const yN=Mr(j6e);function N6e(e,t){return e<t}var S6e=N6e,_6e=OY,P6e=S6e,A6e=vg;function k6e(e){return e&&e.length?_6e(e,A6e,P6e):void 0}var C6e=k6e;const vN=Mr(C6e);var T6e=uT,E6e=Ed,O6e=BG,M6e=qa;function L6e(e,t){var r=M6e(e)?T6e:O6e;return r(e,E6e(t))}var I6e=L6e,D6e=FG,R6e=I6e;function F6e(e,t){return D6e(R6e(e,t),1)}var $6e=F6e;const B6e=Mr($6e);var U6e=_T;function z6e(e,t){return U6e(e,t)}var V6e=z6e;const bN=Mr(V6e);var wg=1e9,q6e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},QT,wn=!0,io="[DecimalError] ",Hf=io+"Invalid argument: ",ZT=io+"Exponent out of range: ",jg=Math.floor,gf=Math.pow,W6e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ls,_i=1e7,gn=7,MY=9007199254740991,y2=jg(MY/gn),ht={};ht.absoluteValue=ht.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ht.comparedTo=ht.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ht.decimalPlaces=ht.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*gn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ht.dividedBy=ht.div=function(e){return Oc(this,new this.constructor(e))};ht.dividedToIntegerBy=ht.idiv=function(e){var t=this,r=t.constructor;return on(Oc(t,new r(e),0,1),r.precision)};ht.equals=ht.eq=function(e){return!this.cmp(e)};ht.exponent=function(){return si(this)};ht.greaterThan=ht.gt=function(e){return this.cmp(e)>0};ht.greaterThanOrEqualTo=ht.gte=function(e){return this.cmp(e)>=0};ht.isInteger=ht.isint=function(){return this.e>this.d.length-2};ht.isNegative=ht.isneg=function(){return this.s<0};ht.isPositive=ht.ispos=function(){return this.s>0};ht.isZero=function(){return this.s===0};ht.lessThan=ht.lt=function(e){return this.cmp(e)<0};ht.lessThanOrEqualTo=ht.lte=function(e){return this.cmp(e)<1};ht.logarithm=ht.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ls))throw Error(io+"NaN");if(r.s<1)throw Error(io+(r.s?"NaN":"-Infinity"));return r.eq(ls)?new n(0):(wn=!1,t=Oc(oy(r,s),oy(e,s),s),wn=!0,on(t,a))};ht.minus=ht.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?DY(t,e):LY(t,(e.s=-e.s,e))};ht.modulo=ht.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(io+"NaN");return r.s?(wn=!1,t=Oc(r,e,0,1).times(e),wn=!0,r.minus(t)):on(new n(r),a)};ht.naturalExponential=ht.exp=function(){return IY(this)};ht.naturalLogarithm=ht.ln=function(){return oy(this)};ht.negated=ht.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ht.plus=ht.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LY(t,e):DY(t,(e.s=-e.s,e))};ht.precision=ht.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hf+e);if(t=si(a)+1,n=a.d.length-1,r=n*gn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ht.squareRoot=ht.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(io+"NaN")}for(e=si(l),wn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=bl(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=jg((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(Oc(l,s,o+2)).times(.5),bl(s.d).slice(0,o)===(t=bl(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(on(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return wn=!0,on(n,r)};ht.times=ht.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%_i|0,t=l/_i|0;s[a]=(s[a]+t)%_i|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,wn?on(e,f.precision):e};ht.toDecimalPlaces=ht.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Bl(e,0,wg),t===void 0?t=n.rounding:Bl(t,0,8),on(r,e+si(r)+1,t))};ht.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ch(n,!0):(Bl(e,0,wg),t===void 0?t=a.rounding:Bl(t,0,8),n=on(new a(n),e+1,t),r=ch(n,!0,e+1)),r};ht.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?ch(a):(Bl(e,0,wg),t===void 0?t=s.rounding:Bl(t,0,8),n=on(new s(a),e+si(a)+1,t),r=ch(n.abs(),!1,e+si(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ht.toInteger=ht.toint=function(){var e=this,t=e.constructor;return on(new t(e),si(e)+1,t.rounding)};ht.toNumber=function(){return+this};ht.toPower=ht.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ls);if(l=new c(l),!l.s){if(e.s<1)throw Error(io+"Infinity");return l}if(l.eq(ls))return l;if(n=c.precision,e.eq(ls))return on(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=MY){for(a=new c(ls),t=Math.ceil(n/gn+4),wn=!1;r%2&&(a=a.times(l),eF(a.d,t)),r=jg(r/2),r!==0;)l=l.times(l),eF(l.d,t);return wn=!0,e.s<0?new c(ls).div(a):on(a,n)}}else if(s<0)throw Error(io+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,wn=!1,a=e.times(oy(l,n+u)),wn=!0,a=IY(a),a.s=s,a};ht.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=si(a),n=ch(a,r<=s.toExpNeg||r>=s.toExpPos)):(Bl(e,1,wg),t===void 0?t=s.rounding:Bl(t,0,8),a=on(new s(a),e,t),r=si(a),n=ch(a,e<=r||r<=s.toExpNeg,e)),n};ht.toSignificantDigits=ht.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Bl(e,1,wg),t===void 0?t=n.rounding:Bl(t,0,8)),on(new n(r),e,t)};ht.toString=ht.valueOf=ht.val=ht.toJSON=ht[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=si(e),r=e.constructor;return ch(e,t<=r.toExpNeg||t>=r.toExpPos)};function LY(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),wn?on(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/gn),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/_i|0,c[s]%=_i;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,wn?on(t,f):t}function Bl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Hf+e)}function bl(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=gn-n.length,r&&(s+=Cu(r)),s+=n;o=e[t],n=o+"",r=gn-n.length,r&&(s+=Cu(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Oc=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%_i|0,o=s/_i|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*_i+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,h,m,g,x,v,p,y,w,j,S,P,A,C,O=n.constructor,D=n.s==a.s?1:-1,E=n.d,k=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(io+"Division by zero");for(c=n.e-a.e,A=k.length,S=E.length,m=new O(D),g=m.d=[],u=0;k[u]==(E[u]||0);)++u;if(k[u]>(E[u]||0)&&--c,s==null?y=s=O.precision:o?y=s+(si(n)-si(a))+1:y=s,y<0)return new O(0);if(y=y/gn+2|0,u=0,A==1)for(d=0,k=k[0],y++;(u<S||d)&&y--;u++)w=d*_i+(E[u]||0),g[u]=w/k|0,d=w%k|0;else{for(d=_i/(k[0]+1)|0,d>1&&(k=e(k,d),E=e(E,d),A=k.length,S=E.length),j=A,x=E.slice(0,A),v=x.length;v<A;)x[v++]=0;C=k.slice(),C.unshift(0),P=k[0],k[1]>=_i/2&&++P;do d=0,l=t(k,x,A,v),l<0?(p=x[0],A!=v&&(p=p*_i+(x[1]||0)),d=p/P|0,d>1?(d>=_i&&(d=_i-1),f=e(k,d),h=f.length,v=x.length,l=t(f,x,h,v),l==1&&(d--,r(f,A<h?C:k,h))):(d==0&&(l=d=1),f=k.slice()),h=f.length,h<v&&f.unshift(0),r(x,f,v),l==-1&&(v=x.length,l=t(k,x,A,v),l<1&&(d++,r(x,A<v?C:k,v))),v=x.length):l===0&&(d++,x=[0]),g[u++]=d,l&&x[0]?x[v++]=E[j]||0:(x=[E[j]],v=1);while((j++<S||x[0]!==void 0)&&y--)}return g[0]||g.shift(),m.e=c,on(m,o?s+si(m)+1:s)}}();function IY(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(si(e)>16)throw Error(ZT+si(e));if(!e.s)return new d(ls);for(t==null?(wn=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(gf(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(ls),d.precision=l;;){if(a=on(a.times(e),l),r=r.times(++c),o=s.plus(Oc(a,r,l)),bl(o.d).slice(0,l)===bl(s.d).slice(0,l)){for(;u--;)s=on(s.times(s),l);return d.precision=f,t==null?(wn=!0,on(s,f)):s}s=o}}function si(e){for(var t=e.e*gn,r=e.d[0];r>=10;r/=10)t++;return t}function v_(e,t,r){if(t>e.LN10.sd())throw wn=!0,r&&(e.precision=r),Error(io+"LN10 precision limit exceeded");return on(new e(e.LN10),t)}function Cu(e){for(var t="";e--;)t+="0";return t}function oy(e,t){var r,n,a,s,o,l,c,u,d,f=1,h=10,m=e,g=m.d,x=m.constructor,v=x.precision;if(m.s<1)throw Error(io+(m.s?"NaN":"-Infinity"));if(m.eq(ls))return new x(0);if(t==null?(wn=!1,u=v):u=t,m.eq(10))return t==null&&(wn=!0),v_(x,u);if(u+=h,x.precision=u,r=bl(g),n=r.charAt(0),s=si(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=bl(m.d),n=r.charAt(0),f++;s=si(m),n>1?(m=new x("0."+r),s++):m=new x(n+"."+r.slice(1))}else return c=v_(x,u+2,v).times(s+""),m=oy(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=v,t==null?(wn=!0,on(m,v)):m;for(l=o=m=Oc(m.minus(ls),m.plus(ls),u),d=on(m.times(m),u),a=3;;){if(o=on(o.times(d),u),c=l.plus(Oc(o,new x(a),u)),bl(c.d).slice(0,u)===bl(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(v_(x,u+2,v).times(s+""))),l=Oc(l,new x(f),u),x.precision=v,t==null?(wn=!0,on(l,v)):l;l=c,a+=2}}function JR(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=jg(r/gn),e.d=[],n=(r+1)%gn,r<0&&(n+=gn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=gn;n<a;)e.d.push(+t.slice(n,n+=gn));t=t.slice(n),n=gn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),wn&&(e.e>y2||e.e<-y2))throw Error(ZT+r)}else e.s=0,e.e=0,e.d=[0];return e}function on(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=gn,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/gn),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=gn,a=n-gn+o}if(r!==void 0&&(s=gf(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/gf(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=si(e),f.length=1,t=t-s-1,f[0]=gf(10,(gn-t%gn)%gn),e.e=jg(-t/gn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=gf(10,gn-n),f[d]=a>0?(u/gf(10,o-a)%gf(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==_i&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=_i)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(wn&&(e.e>y2||e.e<-y2))throw Error(ZT+si(e));return e}function DY(e,t){var r,n,a,s,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),wn?on(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/gn),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=_i-1;--c[s],c[a]+=_i}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,wn?on(t,m):t):new h(0)}function ch(e,t,r){var n,a=si(e),s=bl(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Cu(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Cu(-a-1)+s,r&&(n=r-o)>0&&(s+=Cu(n))):a>=o?(s+=Cu(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Cu(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Cu(n))),e.s<0?"-"+s:s}function eF(e,t){if(e.length>t)return e.length=t,!0}function RY(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Hf+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return JR(o,s.toString())}else if(typeof s!="string")throw Error(Hf+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,W6e.test(s))JR(o,s);else throw Error(Hf+s)}if(a.prototype=ht,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=RY,a.config=a.set=H6e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function H6e(e){if(!e||typeof e!="object")throw Error(io+"Object expected");var t,r,n,a=["precision",1,wg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(jg(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Hf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Hf+r+": "+n);return this}var QT=RY(q6e);ls=new QT(1);const Xr=QT;function K6e(e){return Z6e(e)||X6e(e)||Y6e(e)||G6e()}function G6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y6e(e,t){if(e){if(typeof e=="string")return I4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I4(e,t)}}function X6e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Z6e(e){if(Array.isArray(e))return I4(e)}function I4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Q6e=function(t){return t},FY={"@@functional/placeholder":!0},$Y=function(t){return t===FY},tF=function(t){return function r(){return arguments.length===0||arguments.length===1&&$Y(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},J6e=function e(t,r){return t===1?r:tF(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==FY}).length;return o>=t?r.apply(void 0,a):e(t-o,tF(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return $Y(f)?c.shift():f});return r.apply(void 0,K6e(d).concat(c))}))})},wN=function(t){return J6e(t.length,t)},D4=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},eOe=wN(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),tOe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Q6e;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},R4=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},BY=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function rOe(e){var t;return e===0?t=1:t=Math.floor(new Xr(e).abs().log(10).toNumber())+1,t}function nOe(e,t,r){for(var n=new Xr(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var iOe=wN(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),aOe=wN(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),sOe=wN(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const jN={rangeStep:nOe,getDigitCount:rOe,interpolateNumber:iOe,uninterpolateNumber:aOe,uninterpolateTruncation:sOe};function F4(e){return cOe(e)||lOe(e)||UY(e)||oOe()}function oOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function cOe(e){if(Array.isArray(e))return $4(e)}function ly(e,t){return fOe(e)||dOe(e,t)||UY(e,t)||uOe()}function uOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UY(e,t){if(e){if(typeof e=="string")return $4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $4(e,t)}}function $4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dOe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function fOe(e){if(Array.isArray(e))return e}function zY(e){var t=ly(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function VY(e,t,r){if(e.lte(0))return new Xr(0);var n=jN.getDigitCount(e.toNumber()),a=new Xr(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new Xr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Xr(Math.ceil(c))}function hOe(e,t,r){var n=1,a=new Xr(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Xr(10).pow(jN.getDigitCount(e)-1),a=new Xr(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Xr(Math.floor(e)))}else e===0?a=new Xr(Math.floor((t-1)/2)):r||(a=new Xr(Math.floor(e)));var o=Math.floor((t-1)/2),l=tOe(eOe(function(c){return a.add(new Xr(c-o).mul(n)).toNumber()}),D4);return l(0,t)}function qY(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Xr(0),tickMin:new Xr(0),tickMax:new Xr(0)};var s=VY(new Xr(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Xr(0):(o=new Xr(e).add(t).div(2),o=o.sub(new Xr(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Xr(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?qY(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new Xr(l).mul(s)),tickMax:o.add(new Xr(c).mul(s))})}function mOe(e){var t=ly(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=zY([r,n]),c=ly(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(F4(D4(0,a-1).map(function(){return 1/0}))):[].concat(F4(D4(0,a-1).map(function(){return-1/0})),[d]);return r>n?R4(f):f}if(u===d)return hOe(u,a,s);var h=qY(u,d,o,s),m=h.step,g=h.tickMin,x=h.tickMax,v=jN.rangeStep(g,x.add(new Xr(.1).mul(m)),m);return r>n?R4(v):v}function pOe(e,t){var r=ly(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=zY([n,a]),l=ly(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=VY(new Xr(u).sub(c).div(d-1),s,0),h=[].concat(F4(jN.rangeStep(new Xr(c),new Xr(u).sub(new Xr(.99).mul(f)),f)),[u]);return n>a?R4(h):h}var gOe=BY(mOe),xOe=BY(pOe),yOe="Invariant failed";function uh(e,t){throw new Error(yOe)}var vOe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Lp(e){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(e)}function v2(){return v2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v2.apply(this,arguments)}function bOe(e,t){return SOe(e)||NOe(e,t)||jOe(e,t)||wOe()}function wOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jOe(e,t){if(e){if(typeof e=="string")return rF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rF(e,t)}}function rF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function SOe(e){if(Array.isArray(e))return e}function _Oe(e,t){if(e==null)return{};var r=POe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function POe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KY(n.key),n)}}function COe(e,t,r){return t&&kOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TOe(e,t,r){return t=b2(t),EOe(e,WY()?Reflect.construct(t,r||[],b2(e).constructor):t.apply(e,r))}function EOe(e,t){if(t&&(Lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OOe(e)}function OOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WY=function(){return!!e})()}function b2(e){return b2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},b2(e)}function MOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B4(e,t)}function B4(e,t){return B4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B4(e,t)}function HY(e,t,r){return t=KY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KY(e){var t=LOe(e,"string");return Lp(t)=="symbol"?t:t+""}function LOe(e,t){if(Lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hv=function(e){function t(){return AOe(this,t),TOe(this,t,arguments)}return MOe(t,e),COe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=_Oe(n,vOe),m=yr(h,!1);this.props.direction==="x"&&d.type!=="number"&&uh();var g=c.map(function(x){var v=u(x,l),p=v.x,y=v.y,w=v.value,j=v.errorVal;if(!j)return null;var S=[],P,A;if(Array.isArray(j)){var C=bOe(j,2);P=C[0],A=C[1]}else P=A=j;if(s==="vertical"){var O=d.scale,D=y+a,E=D+o,k=D-o,R=O(w-P),L=O(w+A);S.push({x1:L,y1:E,x2:L,y2:k}),S.push({x1:R,y1:D,x2:L,y2:D}),S.push({x1:R,y1:E,x2:R,y2:k})}else if(s==="horizontal"){var H=f.scale,F=p+a,V=F-o,B=F+o,G=H(w-P),le=H(w+A);S.push({x1:V,y1:le,x2:B,y2:le}),S.push({x1:F,y1:G,x2:F,y2:le}),S.push({x1:V,y1:G,x2:B,y2:G})}return se.createElement(Zn,v2({className:"recharts-errorBar",key:"bar-".concat(S.map(function(fe){return"".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))},m),S.map(function(fe){return se.createElement("line",v2({},fe,{key:"line-".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))}))});return se.createElement(Zn,{className:"recharts-errorBars"},g)}}])}(se.Component);HY(hv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});HY(hv,"displayName","ErrorBar");function cy(e){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cy(e)}function nF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nF(Object(r),!0).forEach(function(n){IOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IOe(e,t,r){return t=DOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DOe(e){var t=ROe(e,"string");return cy(t)=="symbol"?t:t+""}function ROe(e,t){if(cy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GY=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=as(r,Um);if(!o)return null;var l=Um.defaultProps,c=l!==void 0?of(of({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?of(of({},h),f.props):{},g=m.dataKey,x=m.name,v=m.legendType,p=m.hide;return{inactive:p,dataKey:g,type:c.iconType||v||"square",color:JT(f),value:x||g,payload:m}}),of(of(of({},c),Um.getWithHeight(o,a)),{},{payload:u,item:o})};function uy(e){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uy(e)}function iF(e){return UOe(e)||BOe(e)||$Oe(e)||FOe()}function FOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Oe(e,t){if(e){if(typeof e=="string")return U4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U4(e,t)}}function BOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UOe(e){if(Array.isArray(e))return U4(e)}function U4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aF(Object(r),!0).forEach(function(n){Vm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vm(e,t,r){return t=zOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zOe(e){var t=VOe(e,"string");return uy(t)=="symbol"?t:t+""}function VOe(e,t){if(uy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vs(e,t,r){return fr(e)||fr(t)?r:wi(t)?Zs(e,t,r):lr(t)?t(e):r}function c0(e,t,r,n){var a=B6e(e,function(l){return vs(l,t)});if(r==="number"){var s=a.filter(function(l){return et(l)||parseFloat(l)});return s.length?[vN(s),yN(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!fr(l)}):a;return o.map(function(l){return wi(l)||l instanceof Date?l:""})}var qOe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Do(f-d)!==Do(h-f)){var g=[];if(Do(h-f)===Do(c[1]-c[0])){m=h;var x=f+c[1]-c[0];g[0]=Math.min(x,(x+d)/2),g[1]=Math.max(x,(x+d)/2)}else{m=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var p=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>p[0]&&t<=p[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var y=Math.min(d,h),w=Math.max(d,h);if(t>(y+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},JT=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Rn(Rn({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},WOe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],x=g.items,v=g.cateAxisId,p=x.filter(function(A){return Cc(A.type).indexOf("Bar")>=0});if(p&&p.length){var y=p[0].type.defaultProps,w=y!==void 0?Rn(Rn({},y),p[0].props):p[0].props,j=w.barSize,S=w[v];o[S]||(o[S]=[]);var P=fr(j)?r:j;o[S].push({item:p[0],stackList:p.slice(1),barSize:fr(P)?void 0:lh(P,n,0)})}}return o},HOe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=lh(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,g=o.reduce(function(j,S){return j+S.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(h=!0,m*=.9,g=c*m);var x=(a-g)/2>>0,v={offset:x-u,size:0};d=o.reduce(function(j,S){var P={item:S.item,position:{offset:v.offset+v.size+u,size:h?m:S.barSize}},A=[].concat(iF(j),[P]);return v=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){A.push({item:C,position:v})}),A},f)}else{var p=lh(n,a,0,!0);a-2*p-(c-1)*u<=0&&(u=0);var y=(a-2*p-(c-1)*u)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;d=o.reduce(function(j,S,P){var A=[].concat(iF(j),[{item:S.item,position:{offset:p+(y+u)*P+(y-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){A.push({item:C,position:A[A.length-1].position})}),A},f)}return d},KOe=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=GY({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&g==="middle")&&m!=="center"&&et(t[m]))return Rn(Rn({},t),{},Vm({},m,t[m]+(f||0)));if((x==="horizontal"||x==="vertical"&&m==="center")&&g!=="middle"&&et(t[g]))return Rn(Rn({},t),{},Vm({},g,t[g]+(h||0)))}return t},GOe=function(t,r,n){return fr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},YY=function(t,r,n,a,s){var o=r.props.children,l=Qs(o,hv).filter(function(u){return GOe(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=vs(d,n);if(fr(f))return u;var h=Array.isArray(f)?[vN(f),yN(f)]:[f,f],m=c.reduce(function(g,x){var v=vs(d,x,0),p=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(p,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},YOe=function(t,r,n,a,s){var o=r.map(function(l){return YY(t,l,n,s,a)}).filter(function(l){return!fr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},XY=function(t,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&YY(t,c,u,a)||c0(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},ZY=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},QY=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},jc=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Do(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!sv(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},b_=new WeakMap,Gb=function(t,r){if(typeof r!="function")return t;b_.has(t)||b_.set(t,new WeakMap);var n=b_.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},XOe=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:ry(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:m2(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:l0(),realScaleType:"point"}:s==="category"?{scale:ry(),realScaleType:"band"}:{scale:m2(),realScaleType:"linear"};if(oh(a)){var c="scale".concat(aN(a));return{scale:(QR[c]||l0)(),realScaleType:QR[c]?c:"point"}}return lr(a)?{scale:a}:{scale:l0(),realScaleType:"point"}},sF=1e-4,ZOe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-sF,o=Math.max(a[0],a[1])+sF,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},QOe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},JOe=function(t,r){if(!r||r.length!==2||!et(r[0])||!et(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!et(t[0])||t[0]<n)&&(s[0]=n),(!et(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},eMe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=sv(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},tMe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=sv(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},rMe={sign:eMe,expand:xNe,none:Pp,silhouette:yNe,wiggle:vNe,positive:tMe},nMe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=rMe[n],o=gNe().keys(a).value(function(l,c){return+vs(l,c,0)}).order(f4).offset(s);return o(t)},iMe=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Rn(Rn({},h.type.defaultProps),h.props):h.props,x=g.stackId,v=g.hide;if(v)return f;var p=g[n],y=f[p]||{hasStack:!1,stackGroups:{}};if(wi(x)){var w=y.stackGroups[x]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[x]=w}else y.stackGroups[ov("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Rn(Rn({},f),{},Vm({},p,y))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(x,v){var p=m.stackGroups[v];return Rn(Rn({},x),{},Vm({},v,{numericAxisId:n,cateAxisId:a,items:p.items,stackedData:nMe(t,p.items,s)}))},g)}return Rn(Rn({},f),{},Vm({},h,m))},d)},aMe=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=gOe(u,s,l);return t.domain([vN(d),yN(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=xOe(f,s,l);return{niceTicks:h}}return null};function oF(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!fr(a[t.dataKey])){var l=Ww(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=vs(a,fr(o)?t.dataKey:o);return fr(c)?null:t.scale(c)}var lF=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=vs(o,r.dataKey,r.domain[l]);return fr(c)?null:r.scale(c)-s/2+a},sMe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},oMe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Rn(Rn({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(wi(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},lMe=function(t){return t.reduce(function(r,n){return[vN(n.concat([r[0]]).filter(et)),yN(n.concat([r[1]]).filter(et))]},[1/0,-1/0])},JY=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=lMe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},cF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,z4=function(t,r,n){if(lr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(et(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(cF.test(t[0])){var s=+cF.exec(t[0])[1];a[0]=r[0]-s}else lr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(et(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(uF.test(t[1])){var o=+uF.exec(t[1])[1];a[1]=r[1]+o}else lr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},w2=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=AT(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},dF=function(t,r,n){return!t||!t.length||bN(t,Zs(n,"type.defaultProps.domain"))?r:t},eX=function(t,r){var n=t.type.defaultProps?Rn(Rn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Rn(Rn({},yr(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:JT(t),value:vs(r,a),type:c,payload:r,chartType:u,hide:d})};function dy(e){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dy(e)}function fF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fF(Object(r),!0).forEach(function(n){cMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cMe(e,t,r){return t=uMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uMe(e){var t=dMe(e,"string");return dy(t)=="symbol"?t:t+""}function dMe(e,t){if(dy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j2=Math.PI/180,fMe=function(t){return t*180/Math.PI},qi=function(t,r,n,a){return{x:t+Math.cos(-j2*a)*n,y:r+Math.sin(-j2*a)*n}},hMe=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},mMe=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=hMe({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:fMe(u),angleInRadian:u}},pMe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},gMe=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},mF=function(t,r){var n=t.x,a=t.y,s=mMe({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=pMe(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?hF(hF({},r),{},{radius:o,angle:gMe(m,r)}):null};function fy(e){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fy(e)}var xMe=["offset"];function yMe(e){return jMe(e)||wMe(e)||bMe(e)||vMe()}function vMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bMe(e,t){if(e){if(typeof e=="string")return V4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V4(e,t)}}function wMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jMe(e){if(Array.isArray(e))return V4(e)}function V4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NMe(e,t){if(e==null)return{};var r=SMe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pF(Object(r),!0).forEach(function(n){_Me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Me(e,t,r){return t=PMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PMe(e){var t=AMe(e,"string");return fy(t)=="symbol"?t:t+""}function AMe(e,t){if(fy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hy.apply(this,arguments)}var kMe=function(t){var r=t.value,n=t.formatter,a=fr(t.children)?r:t.children;return lr(n)?n(a):a},CMe=function(t,r){var n=Do(r-t),a=Math.min(Math.abs(r-t),360);return n*a},TMe=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,x=c.clockWise,v=(f+h)/2,p=CMe(m,g),y=p>=0?1:-1,w,j;a==="insideStart"?(w=m+y*o,j=x):a==="insideEnd"?(w=g-y*o,j=!x):a==="end"&&(w=g+y*o,j=x),j=p<=0?j:!j;var S=qi(u,d,v,w),P=qi(u,d,v,w+(j?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(j?0:1,`,
    `).concat(P.x,",").concat(P.y),C=fr(t.id)?ov("recharts-radial-line-"):t.id;return se.createElement("text",hy({},n,{dominantBaseline:"central",className:vr("recharts-radial-bar-label",l)}),se.createElement("defs",null,se.createElement("path",{id:C,d:A})),se.createElement("textPath",{xlinkHref:"#".concat(C)},r))},EMe=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var m=qi(o,l,u+n,h),g=m.x,x=m.y;return{x:g,y:x,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,p=qi(o,l,v,h),y=p.x,w=p.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},OMe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",g=f>0?"start":"end",x=u>=0?1:-1,v=x*a,p=x>0?"end":"start",y=x>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return mi(mi({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return mi(mi({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var S={x:l-v,y:c+d/2,textAnchor:p,verticalAnchor:"middle"};return mi(mi({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(s==="right"){var P={x:l+u+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return mi(mi({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:d}:{})}var A=n?{width:u,height:d}:{};return s==="insideLeft"?mi({x:l+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},A):s==="insideRight"?mi({x:l+u-v,y:c+d/2,textAnchor:p,verticalAnchor:"middle"},A):s==="insideTop"?mi({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},A):s==="insideBottom"?mi({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},A):s==="insideTopLeft"?mi({x:l+v,y:c+h,textAnchor:y,verticalAnchor:g},A):s==="insideTopRight"?mi({x:l+u-v,y:c+h,textAnchor:p,verticalAnchor:g},A):s==="insideBottomLeft"?mi({x:l+v,y:c+d-h,textAnchor:y,verticalAnchor:m},A):s==="insideBottomRight"?mi({x:l+u-v,y:c+d-h,textAnchor:p,verticalAnchor:m},A):hg(s)&&(et(s.x)||Cf(s.x))&&(et(s.y)||Cf(s.y))?mi({x:l+lh(s.x,u),y:c+lh(s.y,d),textAnchor:"end",verticalAnchor:"end"},A):mi({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},MMe=function(t){return"cx"in t&&et(t.cx)};function oa(e){var t=e.offset,r=t===void 0?5:t,n=NMe(e,xMe),a=mi({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||fr(l)&&fr(c)&&!N.isValidElement(u)&&!lr(u))return null;if(N.isValidElement(u))return N.cloneElement(u,a);var m;if(lr(u)){if(m=N.createElement(u,a),N.isValidElement(m))return m}else m=kMe(a);var g=MMe(s),x=yr(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return TMe(a,m,x);var v=g?EMe(a):OMe(a);return se.createElement(o2,hy({className:vr("recharts-label",f)},x,v,{breakAll:h}),m)}oa.displayName="Label";var tX=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,x=t.width,v=t.height,p=t.clockWise,y=t.labelViewBox;if(y)return y;if(et(x)&&et(v)){if(et(f)&&et(h))return{x:f,y:h,width:x,height:v};if(et(m)&&et(g))return{x:m,y:g,width:x,height:v}}return et(f)&&et(h)?{x:f,y:h,width:0,height:0}:et(r)&&et(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:p}:t.viewBox?t.viewBox:{}},LMe=function(t,r){return t?t===!0?se.createElement(oa,{key:"label-implicit",viewBox:r}):wi(t)?se.createElement(oa,{key:"label-implicit",viewBox:r,value:t}):N.isValidElement(t)?t.type===oa?N.cloneElement(t,{key:"label-implicit",viewBox:r}):se.createElement(oa,{key:"label-implicit",content:t,viewBox:r}):lr(t)?se.createElement(oa,{key:"label-implicit",content:t,viewBox:r}):hg(t)?se.createElement(oa,hy({viewBox:r},t,{key:"label-implicit"})):null:null},IMe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=tX(t),o=Qs(a,oa).map(function(c,u){return N.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=LMe(t.label,r||s);return[l].concat(yMe(o))};oa.parseViewBox=tX;oa.renderCallByParent=IMe;function DMe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var RMe=DMe;const FMe=Mr(RMe);function my(e){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},my(e)}var $Me=["valueAccessor"],BMe=["data","dataKey","clockWise","id","textBreakAll"];function UMe(e){return WMe(e)||qMe(e)||VMe(e)||zMe()}function zMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VMe(e,t){if(e){if(typeof e=="string")return q4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q4(e,t)}}function qMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WMe(e){if(Array.isArray(e))return q4(e)}function q4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N2(){return N2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N2.apply(this,arguments)}function gF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gF(Object(r),!0).forEach(function(n){HMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HMe(e,t,r){return t=KMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KMe(e){var t=GMe(e,"string");return my(t)=="symbol"?t:t+""}function GMe(e,t){if(my(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(my(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yF(e,t){if(e==null)return{};var r=YMe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var XMe=function(t){return Array.isArray(t.value)?FMe(t.value):t.value};function fd(e){var t=e.valueAccessor,r=t===void 0?XMe:t,n=yF(e,$Me),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=yF(n,BMe);return!a||!a.length?null:se.createElement(Zn,{className:"recharts-label-list"},a.map(function(d,f){var h=fr(s)?r(d,f):vs(d&&d.payload,s),m=fr(l)?{}:{id:"".concat(l,"-").concat(f)};return se.createElement(oa,N2({},yr(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:oa.parseViewBox(fr(o)?d:xF(xF({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}fd.displayName="LabelList";function ZMe(e,t){return e?e===!0?se.createElement(fd,{key:"labelList-implicit",data:t}):se.isValidElement(e)||lr(e)?se.createElement(fd,{key:"labelList-implicit",data:t,content:e}):hg(e)?se.createElement(fd,N2({data:t},e,{key:"labelList-implicit"})):null:null}function QMe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Qs(n,fd).map(function(o,l){return N.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=ZMe(e.label,t);return[s].concat(UMe(a))}fd.renderCallByParent=QMe;function py(e){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},py(e)}function W4(){return W4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W4.apply(this,arguments)}function vF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vF(Object(r),!0).forEach(function(n){JMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JMe(e,t,r){return t=eLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eLe(e){var t=tLe(e,"string");return py(t)=="symbol"?t:t+""}function tLe(e,t){if(py(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(py(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rLe=function(t,r){var n=Do(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Yb=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/j2,h=u?s:s+o*f,m=qi(r,n,d,h),g=qi(r,n,a,h),x=u?s-o*f:s,v=qi(r,n,d*Math.cos(f*j2),x);return{center:m,circleTangency:g,lineTangency:v,theta:f}},rX=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=rLe(o,l),u=o+c,d=qi(r,n,s,o),f=qi(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=qi(r,n,a,o),g=qi(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},nLe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Do(d-u),h=Yb({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,x=h.theta,v=Yb({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),p=v.circleTangency,y=v.lineTangency,w=v.theta,j=c?Math.abs(u-d):Math.abs(u-d)-x-w;if(j<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):rX({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var P=Yb({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=P.circleTangency,C=P.lineTangency,O=P.theta,D=Yb({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=D.circleTangency,k=D.lineTangency,R=D.theta,L=c?Math.abs(u-d):Math.abs(u-d)-O-R;if(L<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},iLe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nX=function(t){var r=bF(bF({},iLe),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var m=vr("recharts-sector",h),g=o-s,x=lh(l,g,0,!0),v;return x>0&&Math.abs(d-f)<360?v=nLe({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=rX({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),se.createElement("path",W4({},yr(r,!0),{className:m,d:v,role:"img"}))};function gy(e){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gy(e)}function H4(){return H4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H4.apply(this,arguments)}function wF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wF(Object(r),!0).forEach(function(n){aLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aLe(e,t,r){return t=sLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sLe(e){var t=oLe(e,"string");return gy(t)=="symbol"?t:t+""}function oLe(e,t){if(gy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NF={curveBasisClosed:aNe,curveBasisOpen:sNe,curveBasis:iNe,curveBumpX:qje,curveBumpY:Wje,curveLinearClosed:oNe,curveLinear:oN,curveMonotoneX:lNe,curveMonotoneY:cNe,curveNatural:uNe,curveStep:dNe,curveStepAfter:hNe,curveStepBefore:fNe},Xb=function(t){return t.x===+t.x&&t.y===+t.y},Sx=function(t){return t.x},_x=function(t){return t.y},lLe=function(t,r){if(lr(t))return t;var n="curve".concat(aN(t));return(n==="curveMonotone"||n==="curveBump")&&r?NF["".concat(n).concat(r==="vertical"?"Y":"X")]:NF[n]||oN},cLe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=lLe(n,l),f=u?s.filter(function(x){return Xb(x)}):s,h;if(Array.isArray(o)){var m=u?o.filter(function(x){return Xb(x)}):o,g=f.map(function(x,v){return jF(jF({},x),{},{base:m[v]})});return l==="vertical"?h=Bb().y(_x).x1(Sx).x0(function(x){return x.base.x}):h=Bb().x(Sx).y1(_x).y0(function(x){return x.base.y}),h.defined(Xb).curve(d),h(g)}return l==="vertical"&&et(o)?h=Bb().y(_x).x1(Sx).x0(o):et(o)?h=Bb().x(Sx).y1(_x).y0(o):h=nG().x(Sx).y(_x),h.defined(Xb).curve(d),h(f)},K4=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?cLe(t):a;return N.createElement("path",H4({},yr(t,!1),Hw(t),{className:vr("recharts-curve",r),d:o,ref:s}))},iX={exports:{}},uLe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",dLe=uLe,fLe=dLe;function aX(){}function sX(){}sX.resetWarningCache=aX;var hLe=function(){function e(n,a,s,o,l,c){if(c!==fLe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:sX,resetWarningCache:aX};return r.PropTypes=r,r};iX.exports=hLe();var mLe=iX.exports;const Dr=Mr(mLe);var pLe=Object.getOwnPropertyNames,gLe=Object.getOwnPropertySymbols,xLe=Object.prototype.hasOwnProperty;function SF(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function Zb(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function _F(e){return pLe(e).concat(gLe(e))}var yLe=Object.hasOwn||function(e,t){return xLe.call(e,t)};function jh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var vLe="__v",bLe="__o",wLe="_owner",PF=Object.getOwnPropertyDescriptor,AF=Object.keys;function jLe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function NLe(e,t){return jh(e.getTime(),t.getTime())}function SLe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function _Le(e,t){return e===t}function kF(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var PLe=jh;function ALe(e,t,r){var n=AF(e),a=n.length;if(AF(t).length!==a)return!1;for(;a-- >0;)if(!oX(e,t,r,n[a]))return!1;return!0}function Px(e,t,r){var n=_F(e),a=n.length;if(_F(t).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],!oX(e,t,r,s)||(o=PF(e,s),l=PF(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function kLe(e,t){return jh(e.valueOf(),t.valueOf())}function CLe(e,t){return e.source===t.source&&e.flags===t.flags}function CF(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function TLe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function ELe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function oX(e,t,r,n){return(n===wLe||n===bLe||n===vLe)&&(e.$$typeof||t.$$typeof)?!0:yLe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var OLe="[object Arguments]",MLe="[object Boolean]",LLe="[object Date]",ILe="[object Error]",DLe="[object Map]",RLe="[object Number]",FLe="[object Object]",$Le="[object RegExp]",BLe="[object Set]",ULe="[object String]",zLe="[object URL]",VLe=Array.isArray,TF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,EF=Object.assign,qLe=Object.prototype.toString.call.bind(Object.prototype.toString);function WLe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,x,v){if(g===x)return!0;if(g==null||x==null)return!1;var p=typeof g;if(p!==typeof x)return!1;if(p!=="object")return p==="number"?o(g,x,v):p==="function"?a(g,x,v):!1;var y=g.constructor;if(y!==x.constructor)return!1;if(y===Object)return l(g,x,v);if(VLe(g))return t(g,x,v);if(TF!=null&&TF(g))return f(g,x,v);if(y===Date)return r(g,x,v);if(y===RegExp)return u(g,x,v);if(y===Map)return s(g,x,v);if(y===Set)return d(g,x,v);var w=qLe(g);return w===LLe?r(g,x,v):w===$Le?u(g,x,v):w===DLe?s(g,x,v):w===BLe?d(g,x,v):w===FLe?typeof g.then!="function"&&typeof x.then!="function"&&l(g,x,v):w===zLe?h(g,x,v):w===ILe?n(g,x,v):w===OLe?l(g,x,v):w===MLe||w===RLe||w===ULe?c(g,x,v):!1}}function HLe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Px:jLe,areDatesEqual:NLe,areErrorsEqual:SLe,areFunctionsEqual:_Le,areMapsEqual:n?SF(kF,Px):kF,areNumbersEqual:PLe,areObjectsEqual:n?Px:ALe,arePrimitiveWrappersEqual:kLe,areRegExpsEqual:CLe,areSetsEqual:n?SF(CF,Px):CF,areTypedArraysEqual:n?Px:TLe,areUrlsEqual:ELe};if(r&&(a=EF({},a,r(a))),t){var s=Zb(a.areArraysEqual),o=Zb(a.areMapsEqual),l=Zb(a.areObjectsEqual),c=Zb(a.areSetsEqual);a=EF({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function KLe(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function GLe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var YLe=Ld();Ld({strict:!0});Ld({circular:!0});Ld({circular:!0,strict:!0});Ld({createInternalComparator:function(){return jh}});Ld({strict:!0,createInternalComparator:function(){return jh}});Ld({circular:!0,createInternalComparator:function(){return jh}});Ld({circular:!0,createInternalComparator:function(){return jh},strict:!0});function Ld(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,o=s===void 0?!1:s,l=HLe(e),c=WLe(l),u=n?n(c):KLe(c);return GLe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function XLe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function OF(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):XLe(a)};requestAnimationFrame(n)}function G4(e){"@babel/helpers - typeof";return G4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G4(e)}function ZLe(e){return tIe(e)||eIe(e)||JLe(e)||QLe()}function QLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JLe(e,t){if(e){if(typeof e=="string")return MF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MF(e,t)}}function MF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tIe(e){if(Array.isArray(e))return e}function rIe(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=ZLe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){OF(a.bind(null,u),c);return}a(c),OF(a.bind(null,u));return}G4(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function xy(e){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xy(e)}function LF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LF(Object(r),!0).forEach(function(n){lX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lX(e,t,r){return t=nIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nIe(e){var t=iIe(e,"string");return xy(t)==="symbol"?t:String(t)}function iIe(e,t){if(xy(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aIe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},sIe=function(t){return t},oIe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},u0=function(t,r){return Object.keys(r).reduce(function(n,a){return IF(IF({},n),{},lX({},a,t(a,r[a])))},{})},DF=function(t,r,n){return t.map(function(a){return"".concat(oIe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function lIe(e,t){return dIe(e)||uIe(e,t)||cX(e,t)||cIe()}function cIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function dIe(e){if(Array.isArray(e))return e}function fIe(e){return pIe(e)||mIe(e)||cX(e)||hIe()}function hIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cX(e,t){if(e){if(typeof e=="string")return Y4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y4(e,t)}}function mIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pIe(e){if(Array.isArray(e))return Y4(e)}function Y4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S2=1e-4,uX=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},dX=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},RF=function(t,r){return function(n){var a=uX(t,r);return dX(a,n)}},gIe=function(t,r){return function(n){var a=uX(t,r),s=[].concat(fIe(a.map(function(o,l){return o*l}).slice(1)),[0]);return dX(s,n)}},FF=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=lIe(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var f=RF(a,o),h=RF(s,l),m=gIe(a,o),g=function(p){return p>1?1:p<0?0:p},x=function(p){for(var y=p>1?1:p,w=y,j=0;j<8;++j){var S=f(w)-y,P=m(w);if(Math.abs(S-y)<S2||P<S2)return h(w);w=g(w-S/P)}return h(w)};return x.isStepper=!1,x},xIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*s,x=h+(m-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<S2&&Math.abs(x)<S2?[f,0]:[v,x]};return c.isStepper=!0,c.dt=l,c},yIe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return FF(a);case"spring":return xIe();default:if(a.split("(")[0]==="cubic-bezier")return FF(a)}return typeof a=="function"?a:null};function yy(e){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yy(e)}function $F(e){return wIe(e)||bIe(e)||fX(e)||vIe()}function vIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wIe(e){if(Array.isArray(e))return Z4(e)}function BF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BF(Object(r),!0).forEach(function(n){X4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X4(e,t,r){return t=jIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jIe(e){var t=NIe(e,"string");return yy(t)==="symbol"?t:String(t)}function NIe(e,t){if(yy(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SIe(e,t){return AIe(e)||PIe(e,t)||fX(e,t)||_Ie()}function _Ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fX(e,t){if(e){if(typeof e=="string")return Z4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z4(e,t)}}function Z4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function AIe(e){if(Array.isArray(e))return e}var _2=function(t,r,n){return t+(r-t)*n},Q4=function(t){var r=t.from,n=t.to;return r!==n},kIe=function e(t,r,n){var a=u0(function(s,o){if(Q4(o)){var l=t(o.from,o.to,o.velocity),c=SIe(l,2),u=c[0],d=c[1];return $i($i({},o),{},{from:u,velocity:d})}return o},r);return n<1?u0(function(s,o){return Q4(o)?$i($i({},o),{},{velocity:_2(o.velocity,a[s].velocity,n),from:_2(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const CIe=function(e,t,r,n,a){var s=aIe(e,t),o=s.reduce(function(v,p){return $i($i({},v),{},X4({},p,[e[p],t[p]]))},{}),l=s.reduce(function(v,p){return $i($i({},v),{},X4({},p,{from:e[p],velocity:0,to:t[p]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return u0(function(p,y){return y.from},l)},m=function(){return!Object.values(l).filter(Q4).length},g=function(p){u||(u=p);var y=p-u,w=y/r.dt;l=kIe(r,l,w),a($i($i($i({},e),t),h())),u=p,m()||(c=requestAnimationFrame(f))},x=function(p){d||(d=p);var y=(p-d)/n,w=u0(function(S,P){return _2.apply(void 0,$F(P).concat([r(y)]))},o);if(a($i($i($i({},e),t),w)),y<1)c=requestAnimationFrame(f);else{var j=u0(function(S,P){return _2.apply(void 0,$F(P).concat([r(1)]))},o);a($i($i($i({},e),t),j))}};return f=r.isStepper?g:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}var TIe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function EIe(e,t){if(e==null)return{};var r=OIe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OIe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function w_(e){return DIe(e)||IIe(e)||LIe(e)||MIe()}function MIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LIe(e,t){if(e){if(typeof e=="string")return J4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J4(e,t)}}function IIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DIe(e){if(Array.isArray(e))return J4(e)}function J4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UF(Object(r),!0).forEach(function(n){Bx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bx(e,t,r){return t=hX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hX(n.key),n)}}function $Ie(e,t,r){return t&&FIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hX(e){var t=BIe(e,"string");return Ip(t)==="symbol"?t:String(t)}function BIe(e,t){if(Ip(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ip(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ek(e,t)}function ek(e,t){return ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ek(e,t)}function zIe(e){var t=VIe();return function(){var n=P2(e),a;if(t){var s=P2(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return tk(this,a)}}function tk(e,t){if(t&&(Ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rk(e)}function rk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VIe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function P2(e){return P2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P2(e)}var Kc=function(e){UIe(r,e);var t=zIe(r);function r(n,a){var s;RIe(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(rk(s)),s.changeStyle=s.changeStyle.bind(rk(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),tk(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},tk(s);s.state={style:c?Bx({},c,u):u}}else s.state={style:{}};return s}return $Ie(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var m={style:c?Bx({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(YLe(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=g||u?f:a.to;if(this.state&&h){var v={style:c?Bx({},c,x):x};(c&&h[c]!==x||!c&&h!==x)&&this.setState(v)}this.runAnimation(bo(bo({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=CIe(o,l,yIe(u),c,this.changeStyle),g=function(){s.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(x,v,p){if(p===0)return x;var y=v.duration,w=v.easing,j=w===void 0?"ease":w,S=v.style,P=v.properties,A=v.onAnimationEnd,C=p>0?o[p-1]:v,O=P||Object.keys(S);if(typeof j=="function"||j==="spring")return[].concat(w_(x),[s.runJSAnimation.bind(s,{from:C.style,to:S,duration:y,easing:j}),y]);var D=DF(O,y,j),E=bo(bo(bo({},C.style),S),{},{transition:D});return[].concat(w_(x),[E,y,A]).filter(sIe)};return this.manager.start([c].concat(w_(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=rIe());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var x=l?Bx({},l,c):c,v=DF(Object.keys(x),o,u);g.start([d,s,bo(bo({},x),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=EIe(a,TIe),u=N.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(m){var g=m.props,x=g.style,v=x===void 0?{}:x,p=g.className,y=N.cloneElement(m,bo(bo({},c),{},{style:bo(bo({},v),d),className:p}));return y};return u===1?f(N.Children.only(s)):se.createElement("div",null,N.Children.map(s,function(h){return f(h)}))}}]),r}(N.PureComponent);Kc.displayName="Animate";Kc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Kc.propTypes={from:Dr.oneOfType([Dr.object,Dr.string]),to:Dr.oneOfType([Dr.object,Dr.string]),attributeName:Dr.string,duration:Dr.number,begin:Dr.number,easing:Dr.oneOfType([Dr.string,Dr.func]),steps:Dr.arrayOf(Dr.shape({duration:Dr.number.isRequired,style:Dr.object.isRequired,easing:Dr.oneOfType([Dr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Dr.func]),properties:Dr.arrayOf("string"),onAnimationEnd:Dr.func})),children:Dr.oneOfType([Dr.node,Dr.func]),isActive:Dr.bool,canBegin:Dr.bool,onAnimationEnd:Dr.func,shouldReAnimate:Dr.bool,onAnimationStart:Dr.func,onAnimationReStart:Dr.func};function vy(e){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vy(e)}function A2(){return A2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A2.apply(this,arguments)}function qIe(e,t){return GIe(e)||KIe(e,t)||HIe(e,t)||WIe()}function WIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HIe(e,t){if(e){if(typeof e=="string")return zF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zF(e,t)}}function zF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function GIe(e){if(Array.isArray(e))return e}function VF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VF(Object(r),!0).forEach(function(n){YIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YIe(e,t,r){return t=XIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XIe(e){var t=ZIe(e,"string");return vy(t)=="symbol"?t:t+""}function ZIe(e,t){if(vy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WF=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var g=Math.min(o,s);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},QIe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},JIe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eE=function(t){var r=qF(qF({},JIe),t),n=N.useRef(),a=N.useState(-1),s=qIe(a,2),o=s[0],l=s[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,x=r.animationDuration,v=r.animationBegin,p=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=vr("recharts-rectangle",m);return y?se.createElement(Kc,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:x,animationEasing:g,isActive:y},function(j){var S=j.width,P=j.height,A=j.x,C=j.y;return se.createElement(Kc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,isActive:p,easing:g},se.createElement("path",A2({},yr(r,!0),{className:w,d:WF(A,C,S,P,h),ref:n})))}):se.createElement("path",A2({},yr(r,!0),{className:w,d:WF(c,u,d,f,h)}))};function nk(){return nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nk.apply(this,arguments)}var tE=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=vr("recharts-dot",s);return r===+r&&n===+n&&a===+a?N.createElement("circle",nk({},yr(t,!1),Hw(t),{className:o,cx:r,cy:n,r:a})):null};function by(e){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},by(e)}var e8e=["x","y","top","left","width","height","className"];function ik(){return ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ik.apply(this,arguments)}function HF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t8e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HF(Object(r),!0).forEach(function(n){r8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r8e(e,t,r){return t=n8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n8e(e){var t=i8e(e,"string");return by(t)=="symbol"?t:t+""}function i8e(e,t){if(by(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(by(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a8e(e,t){if(e==null)return{};var r=s8e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var o8e=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},l8e=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,x=a8e(t,e8e),v=t8e({x:n,y:s,top:l,left:u,width:f,height:m},x);return!et(n)||!et(s)||!et(f)||!et(m)||!et(l)||!et(u)?null:se.createElement("path",ik({},yr(v,!0),{className:vr("recharts-cross",g),d:o8e(n,s,f,m,l,u)}))},c8e=AG,u8e=c8e(Object.getPrototypeOf,Object),d8e=u8e,f8e=Yc,h8e=d8e,m8e=Xc,p8e="[object Object]",g8e=Function.prototype,x8e=Object.prototype,mX=g8e.toString,y8e=x8e.hasOwnProperty,v8e=mX.call(Object);function b8e(e){if(!m8e(e)||f8e(e)!=p8e)return!1;var t=h8e(e);if(t===null)return!0;var r=y8e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&mX.call(r)==v8e}var w8e=b8e;const j8e=Mr(w8e);var N8e=Yc,S8e=Xc,_8e="[object Boolean]";function P8e(e){return e===!0||e===!1||S8e(e)&&N8e(e)==_8e}var A8e=P8e;const k8e=Mr(A8e);function wy(e){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wy(e)}function k2(){return k2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k2.apply(this,arguments)}function C8e(e,t){return M8e(e)||O8e(e,t)||E8e(e,t)||T8e()}function T8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E8e(e,t){if(e){if(typeof e=="string")return KF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KF(e,t)}}function KF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function M8e(e){if(Array.isArray(e))return e}function GF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GF(Object(r),!0).forEach(function(n){L8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L8e(e,t,r){return t=I8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I8e(e){var t=D8e(e,"string");return wy(t)=="symbol"?t:t+""}function D8e(e,t){if(wy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XF=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},R8e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},F8e=function(t){var r=YF(YF({},R8e),t),n=N.useRef(),a=N.useState(-1),s=C8e(a,2),o=s[0],l=s[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,x=r.animationDuration,v=r.animationBegin,p=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=vr("recharts-trapezoid",m);return p?se.createElement(Kc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:x,animationEasing:g,isActive:p},function(w){var j=w.upperWidth,S=w.lowerWidth,P=w.height,A=w.x,C=w.y;return se.createElement(Kc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,easing:g},se.createElement("path",k2({},yr(r,!0),{className:y,d:XF(A,C,j,S,P),ref:n})))}):se.createElement("g",null,se.createElement("path",k2({},yr(r,!0),{className:y,d:XF(c,u,d,f,h)})))},$8e=["option","shapeType","propTransformer","activeClassName","isActive"];function jy(e){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jy(e)}function B8e(e,t){if(e==null)return{};var r=U8e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function C2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZF(Object(r),!0).forEach(function(n){z8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z8e(e,t,r){return t=V8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V8e(e){var t=q8e(e,"string");return jy(t)=="symbol"?t:t+""}function q8e(e,t){if(jy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W8e(e,t){return C2(C2({},t),e)}function H8e(e,t){return e==="symbols"}function QF(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return se.createElement(eE,r);case"trapezoid":return se.createElement(F8e,r);case"sector":return se.createElement(nX,r);case"symbols":if(H8e(t))return se.createElement(vT,r);break;default:return null}}function K8e(e){return N.isValidElement(e)?e.props:e}function G8e(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?W8e:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=B8e(e,$8e),u;if(N.isValidElement(t))u=N.cloneElement(t,C2(C2({},c),K8e(t)));else if(lr(t))u=t(c);else if(j8e(t)&&!k8e(t)){var d=a(t,c);u=se.createElement(QF,{shapeType:r,elementProps:d})}else{var f=c;u=se.createElement(QF,{shapeType:r,elementProps:f})}return l?se.createElement(Zn,{className:o},u):u}function NN(e,t){return t!=null&&"trapezoids"in e.props}function SN(e,t){return t!=null&&"sectors"in e.props}function Ny(e,t){return t!=null&&"points"in e.props}function Y8e(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function X8e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Z8e(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Q8e(e,t){var r;return NN(e,t)?r=Y8e:SN(e,t)?r=X8e:Ny(e,t)&&(r=Z8e),r}function J8e(e,t){var r;return NN(e,t)?r="trapezoids":SN(e,t)?r="sectors":Ny(e,t)&&(r="points"),r}function eDe(e,t){if(NN(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(SN(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ny(e,t)?t.payload:{}}function tDe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=J8e(r,t),s=eDe(r,t),o=n.filter(function(c,u){var d=bN(s,c),f=r.props[a].filter(function(g){var x=Q8e(r,t);return x(g,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var rDe=Math.ceil,nDe=Math.max;function iDe(e,t,r,n){for(var a=-1,s=nDe(rDe((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var aDe=iDe,sDe=HG,JF=1/0,oDe=17976931348623157e292;function lDe(e){if(!e)return e===0?e:0;if(e=sDe(e),e===JF||e===-JF){var t=e<0?-1:1;return t*oDe}return e===e?e:0}var pX=lDe,cDe=aDe,uDe=dN,j_=pX;function dDe(e){return function(t,r,n){return n&&typeof n!="number"&&uDe(t,r,n)&&(r=n=void 0),t=j_(t),r===void 0?(r=t,t=0):r=j_(r),n=n===void 0?t<r?1:-1:j_(n),cDe(t,r,n,e)}}var fDe=dDe,hDe=fDe,mDe=hDe(),pDe=mDe;const T2=Mr(pDe);function Sy(e){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sy(e)}function e7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e7(Object(r),!0).forEach(function(n){gX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gX(e,t,r){return t=gDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gDe(e){var t=xDe(e,"string");return Sy(t)=="symbol"?t:t+""}function xDe(e,t){if(Sy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yDe=["Webkit","Moz","O","ms"],vDe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=yDe.reduce(function(s,o){return t7(t7({},s),{},gX({},o+n,r))},{});return a[t]=r,a};function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function E2(){return E2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E2.apply(this,arguments)}function r7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r7(Object(r),!0).forEach(function(n){rs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yX(n.key),n)}}function wDe(e,t,r){return t&&n7(e.prototype,t),r&&n7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jDe(e,t,r){return t=O2(t),NDe(e,xX()?Reflect.construct(t,r||[],O2(e).constructor):t.apply(e,r))}function NDe(e,t){if(t&&(Dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SDe(e)}function SDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xX=function(){return!!e})()}function O2(e){return O2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O2(e)}function _De(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ak(e,t)}function ak(e,t){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ak(e,t)}function rs(e,t,r){return t=yX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yX(e){var t=PDe(e,"string");return Dp(t)=="symbol"?t:t+""}function PDe(e,t){if(Dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ADe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=l0().domain(T2(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},i7=function(t){return t.changedTouches&&!!t.changedTouches.length},Rp=function(e){function t(r){var n;return bDe(this,t),n=jDe(this,t,[r]),rs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),rs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),rs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),rs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),rs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),rs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),rs(n,"handleSlideDragStart",function(a){var s=i7(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return _De(t,e),wDe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=vs(s[n],l,n);return lr(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,x=n.pageX-s;x>0?x=Math.min(x,u+d-f-l,u+d-f-o):x<0&&(x=Math.max(x,u-o,u-l));var v=this.getIndex({startX:o+x,endX:l+x});(v.startIndex!==h||v.endIndex!==m)&&g&&g(v),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=i7(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,x=d.gap,v=d.data,p={startX:this.state.startX,endX:this.state.endX},y=n.pageX-s;y>0?y=Math.min(y,f+h-m-u):y<0&&(y=Math.max(y,f-u)),p[o]=u+y;var w=this.getIndex(p),j=w.startIndex,S=w.endIndex,P=function(){var C=v.length-1;return o==="startX"&&(l>c?j%x===0:S%x===0)||l<c&&S===C||o==="endX"&&(l>c?S%x===0:j%x===0)||l>c&&S===C};this.setState(rs(rs({},o,u+y),"brushMoveStartX",n.pageX),function(){g&&P()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(rs({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return se.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=N.Children.only(u);return f?se.cloneElement(f,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,x=c.startIndex,v=c.endIndex,p=Math.max(n,this.props.x),y=N_(N_({},yr(this.props,!1)),{},{x:p,y:u,width:d,height:f}),w=m||"Min value: ".concat((s=g[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return se.createElement(Zn,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return se.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return se.createElement(Zn,{className:"recharts-brush-texts"},se.createElement(o2,E2({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(a)),se.createElement(o2,E2({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,x=h.isTextActive,v=h.isSlideMoving,p=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!et(l)||!et(c)||!et(u)||!et(d)||u<=0||d<=0)return null;var w=vr("recharts-brush",s),j=se.Children.count(o)===1,S=vDe("userSelect","none");return se.createElement(Zn,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(x||v||p||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return se.createElement(se.Fragment,null,se.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),se.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),se.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return se.isValidElement(n)?s=se.cloneElement(n,a):lr(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return N_({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?ADe({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(N.PureComponent);rs(Rp,"displayName","Brush");rs(Rp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var kDe=PT;function CDe(e,t){var r;return kDe(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var TDe=CDe,EDe=vG,ODe=Ed,MDe=TDe,LDe=qa,IDe=dN;function DDe(e,t,r){var n=LDe(e)?EDe:MDe;return r&&IDe(e,t,r)&&(t=void 0),n(e,ODe(t))}var RDe=DDe;const FDe=Mr(RDe);var Ml=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},a7=UG;function $De(e,t,r){t=="__proto__"&&a7?a7(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var BDe=$De,UDe=BDe,zDe=$G,VDe=Ed;function qDe(e,t){var r={};return t=VDe(t),zDe(e,function(n,a,s){UDe(r,a,t(n,a,s))}),r}var WDe=qDe;const HDe=Mr(WDe);function KDe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var GDe=KDe,YDe=PT;function XDe(e,t){var r=!0;return YDe(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var ZDe=XDe,QDe=GDe,JDe=ZDe,eRe=Ed,tRe=qa,rRe=dN;function nRe(e,t,r){var n=tRe(e)?QDe:JDe;return r&&rRe(e,t,r)&&(t=void 0),n(e,eRe(t))}var iRe=nRe;const vX=Mr(iRe);var aRe=["x","y"];function _y(e){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_y(e)}function sk(){return sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sk.apply(this,arguments)}function s7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ax(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s7(Object(r),!0).forEach(function(n){sRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sRe(e,t,r){return t=oRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oRe(e){var t=lRe(e,"string");return _y(t)=="symbol"?t:t+""}function lRe(e,t){if(_y(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cRe(e,t){if(e==null)return{};var r=uRe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dRe(e,t){var r=e.x,n=e.y,a=cRe(e,aRe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Ax(Ax(Ax(Ax(Ax({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function o7(e){return se.createElement(G8e,sk({shapeType:"rectangle",propTransformer:dRe,activeClassName:"recharts-active-bar"},e))}var fRe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=et(n)||C2e(n);return s?t(n,a):(s||uh(),r)}},hRe=["value","background"],bX;function Fp(e){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(e)}function mRe(e,t){if(e==null)return{};var r=pRe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function M2(){return M2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M2.apply(this,arguments)}function l7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l7(Object(r),!0).forEach(function(n){Yu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jX(n.key),n)}}function xRe(e,t,r){return t&&c7(e.prototype,t),r&&c7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yRe(e,t,r){return t=L2(t),vRe(e,wX()?Reflect.construct(t,r||[],L2(e).constructor):t.apply(e,r))}function vRe(e,t){if(t&&(Fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bRe(e)}function bRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wX=function(){return!!e})()}function L2(e){return L2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L2(e)}function wRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ok(e,t)}function ok(e,t){return ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ok(e,t)}function Yu(e,t,r){return t=jX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jX(e){var t=jRe(e,"string");return Fp(t)=="symbol"?t:t+""}function jRe(e,t){if(Fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nh=function(e){function t(){var r;gRe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=yRe(this,t,[].concat(a)),Yu(r,"state",{isAnimationFinished:!1}),Yu(r,"id",ov("recharts-bar-")),Yu(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Yu(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return wRe(t,e),xRe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=yr(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,x=ni(ni(ni({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return se.createElement(Zn,M2({className:"recharts-bar-rectangle"},Kw(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),se.createElement(o7,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return se.createElement(Kc,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,x=s.map(function(v,p){var y=h&&h[p];if(y){var w=Eo(y.x,v.x),j=Eo(y.y,v.y),S=Eo(y.width,v.width),P=Eo(y.height,v.height);return ni(ni({},v),{},{x:w(g),y:j(g),width:S(g),height:P(g)})}if(o==="horizontal"){var A=Eo(0,v.height),C=A(g);return ni(ni({},v),{},{y:v.y+v.height-C,height:C})}var O=Eo(0,v.width),D=O(g);return ni(ni({},v),{},{width:D})});return se.createElement(Zn,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!bN(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=yr(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=mRe(u,hRe);if(!f)return null;var m=ni(ni(ni(ni(ni({},h),{},{fill:"#eee"},f),c),Kw(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return se.createElement(o7,M2({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=Qs(d,hv);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,p){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:vs(v,p)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return se.createElement(Zn,g,f.map(function(x){return se.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,x=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,p=vr("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,j=y||w,S=fr(x)?this.id:x;return se.createElement(Zn,{className:p},y||w?se.createElement("defs",null,se.createElement("clipPath",{id:"clipPath-".concat(S)},se.createElement("rect",{x:y?u:u-f/2,y:w?d:d-h/2,width:y?f:f*2,height:w?h:h*2}))):null,se.createElement(Zn,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,S),(!m||v)&&fd.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(N.PureComponent);bX=Nh;Yu(Nh,"displayName","Bar");Yu(Nh,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ec.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Yu(Nh,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=QOe(n,r);if(!m)return null;var g=t.layout,x=r.type.defaultProps,v=x!==void 0?ni(ni({},x),r.props):r.props,p=v.dataKey,y=v.children,w=v.minPointSize,j=g==="horizontal"?o:s,S=u?j.scale.domain():null,P=sMe({numericAxis:j}),A=Qs(y,GG),C=f.map(function(O,D){var E,k,R,L,H,F;u?E=JOe(u[d+D],S):(E=vs(O,p),Array.isArray(E)||(E=[P,E]));var V=fRe(w,bX.defaultProps.minPointSize)(E[1],D);if(g==="horizontal"){var B,G=[o.scale(E[0]),o.scale(E[1])],le=G[0],fe=G[1];k=lF({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:O,index:D}),R=(B=fe??le)!==null&&B!==void 0?B:void 0,L=m.size;var $=le-fe;if(H=Number.isNaN($)?0:$,F={x:k,y:o.y,width:L,height:o.height},Math.abs(V)>0&&Math.abs(H)<Math.abs(V)){var q=Do(H||V)*(Math.abs(V)-Math.abs(H));R-=q,H+=q}}else{var Q=[s.scale(E[0]),s.scale(E[1])],ae=Q[0],ue=Q[1];if(k=ae,R=lF({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:O,index:D}),L=ue-ae,H=m.size,F={x:s.x,y:R,width:s.width,height:H},Math.abs(V)>0&&Math.abs(L)<Math.abs(V)){var ce=Do(L||V)*(Math.abs(V)-Math.abs(L));L+=ce}}return ni(ni(ni({},O),{},{x:k,y:R,width:L,height:H,value:u?E:E[1],payload:O,background:F},A&&A[D]&&A[D].props),{},{tooltipPayload:[eX(r,O)],tooltipPosition:{x:k+L/2,y:R+H/2}})});return ni({data:C,layout:g},h)});function Py(e){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Py(e)}function NRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NX(n.key),n)}}function SRe(e,t,r){return t&&u7(e.prototype,t),r&&u7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ao(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d7(Object(r),!0).forEach(function(n){_N(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _N(e,t,r){return t=NX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NX(e){var t=_Re(e,"string");return Py(t)=="symbol"?t:t+""}function _Re(e,t){if(Py(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Py(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SX=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!as(u,Nh);return d.reduce(function(m,g){var x=r[g],v=x.orientation,p=x.domain,y=x.padding,w=y===void 0?{}:y,j=x.mirror,S=x.reversed,P="".concat(v).concat(j?"Mirror":""),A,C,O,D,E;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var k=p[1]-p[0],R=1/0,L=x.categoricalDomain.sort(O2e);if(L.forEach(function(Q,ae){ae>0&&(R=Math.min((Q||0)-(L[ae-1]||0),R))}),Number.isFinite(R)){var H=R/k,F=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(A=H*F/2),x.padding==="no-gap"){var V=lh(t.barCategoryGap,H*F),B=H*F/2;A=B-V-(B-V)/F*V}}}a==="xAxis"?C=[n.left+(w.left||0)+(A||0),n.left+n.width-(w.right||0)-(A||0)]:a==="yAxis"?C=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(A||0),n.top+n.height-(w.bottom||0)-(A||0)]:C=x.range,S&&(C=[C[1],C[0]]);var G=XOe(x,s,h),le=G.scale,fe=G.realScaleType;le.domain(p).range(C),ZOe(le);var $=aMe(le,Ao(Ao({},x),{},{realScaleType:fe}));a==="xAxis"?(E=v==="top"&&!j||v==="bottom"&&j,O=n.left,D=f[P]-E*x.height):a==="yAxis"&&(E=v==="left"&&!j||v==="right"&&j,O=f[P]-E*x.width,D=n.top);var q=Ao(Ao(Ao({},x),$),{},{realScaleType:fe,x:O,y:D,scale:le,width:a==="xAxis"?n.width:x.width,height:a==="yAxis"?n.height:x.height});return q.bandSize=w2(q,$),!x.hide&&a==="xAxis"?f[P]+=(E?-1:1)*q.height:x.hide||(f[P]+=(E?-1:1)*q.width),Ao(Ao({},m),{},_N({},g,q))},{})},_X=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},PRe=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return _X({x:r,y:n},{x:a,y:s})},PX=function(){function e(t){NRe(this,e),this.scale=t}return SRe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();_N(PX,"EPS",1e-4);var rE=function(t){var r=Object.keys(t).reduce(function(n,a){return Ao(Ao({},n),{},_N({},a,PX.create(t[a])))},{});return Ao(Ao({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return HDe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return vX(a,function(s,o){return r[o].isInRange(s)})}})};function ARe(e){return(e%180+180)%180}var kRe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=ARe(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},CRe=Ed,TRe=lv,ERe=cN;function ORe(e){return function(t,r,n){var a=Object(t);if(!TRe(t)){var s=CRe(r);t=ERe(t),r=function(l){return s(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:void 0}}var MRe=ORe,LRe=pX;function IRe(e){var t=LRe(e),r=t%1;return t===t?r?t-r:t:0}var DRe=IRe,RRe=MG,FRe=Ed,$Re=DRe,BRe=Math.max;function URe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:$Re(r);return a<0&&(a=BRe(n+a,0)),RRe(e,FRe(t),a)}var zRe=URe,VRe=MRe,qRe=zRe,WRe=VRe(qRe),HRe=WRe;const KRe=Mr(HRe);var GRe=Mwe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),nE=N.createContext(void 0),iE=N.createContext(void 0),AX=N.createContext(void 0),kX=N.createContext({}),CX=N.createContext(void 0),TX=N.createContext(0),EX=N.createContext(0),f7=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=GRe(s);return se.createElement(nE.Provider,{value:n},se.createElement(iE.Provider,{value:a},se.createElement(kX.Provider,{value:s},se.createElement(AX.Provider,{value:d},se.createElement(CX.Provider,{value:o},se.createElement(TX.Provider,{value:u},se.createElement(EX.Provider,{value:c},l)))))))},YRe=function(){return N.useContext(CX)},OX=function(t){var r=N.useContext(nE);r==null&&uh();var n=r[t];return n==null&&uh(),n},XRe=function(){var t=N.useContext(nE);return Lu(t)},ZRe=function(){var t=N.useContext(iE),r=KRe(t,function(n){return vX(n.domain,Number.isFinite)});return r||Lu(t)},MX=function(t){var r=N.useContext(iE);r==null&&uh();var n=r[t];return n==null&&uh(),n},QRe=function(){var t=N.useContext(AX);return t},JRe=function(){return N.useContext(kX)},aE=function(){return N.useContext(EX)},sE=function(){return N.useContext(TX)};function $p(e){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(e)}function eFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IX(n.key),n)}}function rFe(e,t,r){return t&&tFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nFe(e,t,r){return t=I2(t),iFe(e,LX()?Reflect.construct(t,r||[],I2(e).constructor):t.apply(e,r))}function iFe(e,t){if(t&&($p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aFe(e)}function aFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LX=function(){return!!e})()}function I2(e){return I2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I2(e)}function sFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lk(e,t)}function lk(e,t){return lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lk(e,t)}function h7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h7(Object(r),!0).forEach(function(n){oE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oE(e,t,r){return t=IX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IX(e){var t=oFe(e,"string");return $p(t)=="symbol"?t:t+""}function oFe(e,t){if($p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lFe(e,t){return fFe(e)||dFe(e,t)||uFe(e,t)||cFe()}function cFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uFe(e,t){if(e){if(typeof e=="string")return p7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p7(e,t)}}function p7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function fFe(e){if(Array.isArray(e))return e}function ck(){return ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ck.apply(this,arguments)}var hFe=function(t,r){var n;return se.isValidElement(t)?n=se.cloneElement(t,r):lr(t)?n=t(r):n=se.createElement("line",ck({},r,{className:"recharts-reference-line-line"})),n},mFe=function(t,r,n,a,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var g=u.y,x=t.y.apply(g,{position:o});if(Ml(u,"discard")&&!t.y.isInRange(x))return null;var v=[{x:d+h,y:x},{x:d,y:x}];return c==="left"?v.reverse():v}if(r){var p=u.x,y=t.x.apply(p,{position:o});if(Ml(u,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:f+m},{x:y,y:f}];return l==="top"?w.reverse():w}if(a){var j=u.segment,S=j.map(function(P){return t.apply(P,{position:o})});return Ml(u,"discard")&&FDe(S,function(P){return!t.isInRange(P)})?null:S}return null};function pFe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=YRe(),d=OX(a),f=MX(s),h=QRe();if(!u||!h)return null;Tc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=rE({x:d.scale,y:f.scale}),g=wi(t),x=wi(r),v=n&&n.length===2,p=mFe(m,g,x,v,h,e.position,d.orientation,f.orientation,e);if(!p)return null;var y=lFe(p,2),w=y[0],j=w.x,S=w.y,P=y[1],A=P.x,C=P.y,O=Ml(e,"hidden")?"url(#".concat(u,")"):void 0,D=m7(m7({clipPath:O},yr(e,!0)),{},{x1:j,y1:S,x2:A,y2:C});return se.createElement(Zn,{className:vr("recharts-reference-line",l)},hFe(o,D),oa.renderCallByParent(e,PRe({x1:j,y1:S,x2:A,y2:C})))}var lE=function(e){function t(){return eFe(this,t),nFe(this,t,arguments)}return sFe(t,e),rFe(t,[{key:"render",value:function(){return se.createElement(pFe,this.props)}}])}(se.Component);oE(lE,"displayName","ReferenceLine");oE(lE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uk.apply(this,arguments)}function Bp(e){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bp(e)}function g7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g7(Object(r),!0).forEach(function(n){PN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RX(n.key),n)}}function yFe(e,t,r){return t&&xFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vFe(e,t,r){return t=D2(t),bFe(e,DX()?Reflect.construct(t,r||[],D2(e).constructor):t.apply(e,r))}function bFe(e,t){if(t&&(Bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wFe(e)}function wFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DX=function(){return!!e})()}function D2(e){return D2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D2(e)}function jFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dk(e,t)}function dk(e,t){return dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dk(e,t)}function PN(e,t,r){return t=RX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RX(e){var t=NFe(e,"string");return Bp(t)=="symbol"?t:t+""}function NFe(e,t){if(Bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SFe=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=rE({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Ml(t,"discard")&&!o.isInRange(l)?null:l},AN=function(e){function t(){return gFe(this,t),vFe(this,t,arguments)}return jFe(t,e),yFe(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=wi(a),d=wi(s);if(Tc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=SFe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,x=g.shape,v=g.className,p=Ml(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=x7(x7({clipPath:p},yr(this.props,!0)),{},{cx:h,cy:m});return se.createElement(Zn,{className:vr("recharts-reference-dot",v)},t.renderDot(x,y),oa.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(se.Component);PN(AN,"displayName","ReferenceDot");PN(AN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});PN(AN,"renderDot",function(e,t){var r;return se.isValidElement(e)?r=se.cloneElement(e,t):lr(e)?r=e(t):r=se.createElement(tE,uk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function fk(){return fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fk.apply(this,arguments)}function Up(e){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Up(e)}function y7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y7(Object(r),!0).forEach(function(n){kN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$X(n.key),n)}}function AFe(e,t,r){return t&&PFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kFe(e,t,r){return t=R2(t),CFe(e,FX()?Reflect.construct(t,r||[],R2(e).constructor):t.apply(e,r))}function CFe(e,t){if(t&&(Up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TFe(e)}function TFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FX=function(){return!!e})()}function R2(e){return R2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R2(e)}function EFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hk(e,t)}function hk(e,t){return hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hk(e,t)}function kN(e,t,r){return t=$X(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $X(e){var t=OFe(e,"string");return Up(t)=="symbol"?t:t+""}function OFe(e,t){if(Up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MFe=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=rE({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ml(s,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:_X(m,g)},CN=function(e){function t(){return _Fe(this,t),kFe(this,t,arguments)}return EFe(t,e),AFe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Tc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=wi(a),h=wi(s),m=wi(o),g=wi(l),x=this.props.shape;if(!f&&!h&&!m&&!g&&!x)return null;var v=MFe(f,h,m,g,this.props);if(!v&&!x)return null;var p=Ml(this.props,"hidden")?"url(#".concat(d,")"):void 0;return se.createElement(Zn,{className:vr("recharts-reference-area",c)},t.renderRect(x,v7(v7({clipPath:p},yr(this.props,!0)),v)),oa.renderCallByParent(this.props,v))}}])}(se.Component);kN(CN,"displayName","ReferenceArea");kN(CN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});kN(CN,"renderRect",function(e,t){var r;return se.isValidElement(e)?r=se.cloneElement(e,t):lr(e)?r=e(t):r=se.createElement(eE,fk({},t,{className:"recharts-reference-area-rect"})),r});function BX(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function LFe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return kRe(n,r)}function IFe(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function F2(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function DFe(e,t){return BX(e,t+1)}function RFe(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:BX(n,u)};var x=c,v,p=function(){return v===void 0&&(v=r(g,x)),v},y=g.coordinate,w=c===0||F2(e,y,p,d,l);w||(c=0,d=o,u+=1),w&&(d=y+e*(p()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function Ay(e){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ay(e)}function b7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b7(Object(r),!0).forEach(function(n){FFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FFe(e,t,r){return t=$Fe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Fe(e){var t=BFe(e,"string");return Ay(t)=="symbol"?t:t+""}function BFe(e,t){if(Ay(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UFe(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],g,x=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var v=e*(m.coordinate+e*x()/2-c);s[h]=m=aa(aa({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=aa(aa({},m),{},{tickCoord:m.coordinate});var p=F2(e,m.tickCoord,x,l,c);p&&(c=m.tickCoord-e*(x()/2+a),s[h]=aa(aa({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function zFe(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=aa(aa({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=F2(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=aa(aa({},d),{},{isShow:!0}))}for(var g=s?l-1:l,x=function(y){var w=o[y],j,S=function(){return j===void 0&&(j=r(w,y)),j};if(y===0){var P=e*(w.coordinate-e*S()/2-c);o[y]=w=aa(aa({},w),{},{tickCoord:P<0?w.coordinate-P*e:w.coordinate})}else o[y]=w=aa(aa({},w),{},{tickCoord:w.coordinate});var A=F2(e,w.tickCoord,S,c,u);A&&(c=w.tickCoord+e*(S()/2+a),o[y]=aa(aa({},w),{},{isShow:!0}))},v=0;v<g;v++)x(v);return o}function cE(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(et(c)||Ec.isSsr)return DFe(a,typeof c=="number"&&et(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?o0(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(w,j){var S=lr(u)?u(w.value,j):w.value;return m==="width"?LFe(o0(S,{fontSize:t,letterSpacing:r}),g,f):o0(S,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?Do(a[1].coordinate-a[0].coordinate):1,p=IFe(s,v,m);return c==="equidistantPreserveStart"?RFe(v,p,x,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=zFe(v,p,x,a,o,c==="preserveStartEnd"):h=UFe(v,p,x,a,o),h.filter(function(y){return y.isShow}))}var VFe=["viewBox"],qFe=["viewBox"],WFe=["ticks"];function zp(e){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(e)}function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bm.apply(this,arguments)}function w7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w7(Object(r),!0).forEach(function(n){uE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S_(e,t){if(e==null)return{};var r=HFe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zX(n.key),n)}}function GFe(e,t,r){return t&&j7(e.prototype,t),r&&j7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YFe(e,t,r){return t=$2(t),XFe(e,UX()?Reflect.construct(t,r||[],$2(e).constructor):t.apply(e,r))}function XFe(e,t){if(t&&(zp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZFe(e)}function ZFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UX=function(){return!!e})()}function $2(e){return $2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$2(e)}function QFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mk(e,t)}function mk(e,t){return mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mk(e,t)}function uE(e,t,r){return t=zX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zX(e){var t=JFe(e,"string");return zp(t)=="symbol"?t:t+""}function JFe(e,t){if(zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ng=function(e){function t(r){var n;return KFe(this,t),n=YFe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return QFe(t,e),GFe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=S_(n,VFe),l=this.props,c=l.viewBox,u=S_(l,qFe);return!Bm(s,c)||!Bm(o,u)||!Bm(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,g,x,v,p,y,w=f?-1:1,j=n.tickSize||d,S=et(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,v=o+ +!f*c,x=v-w*j,y=x-w*h,p=S;break;case"left":x=v=n.coordinate,g=s+ +!f*l,m=g-w*j,p=m-w*h,y=S;break;case"right":x=v=n.coordinate,g=s+ +f*l,m=g+w*j,p=m+w*h,y=S;break;default:m=g=n.coordinate,v=o+ +f*c,x=v+w*j,y=x+w*h,p=S;break}return{line:{x1:m,y1:x,x2:g,y2:v},tick:{x:p,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=hi(hi(hi({},yr(this.props,!1)),yr(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=hi(hi({},f),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=hi(hi({},f),{},{x1:a+m*o,y1:s,x2:a+m*o,y2:s+l})}return se.createElement("line",bm({},f,{className:vr("recharts-cartesian-axis-line",Zs(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=cE(hi(hi({},this.props),{},{ticks:n}),a,s),g=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),v=yr(this.props,!1),p=yr(d,!1),y=hi(hi({},v),{},{fill:"none"},yr(c,!1)),w=m.map(function(j,S){var P=o.getTickLineCoord(j),A=P.line,C=P.tick,O=hi(hi(hi(hi({textAnchor:g,verticalAnchor:x},v),{},{stroke:"none",fill:u},p),C),{},{index:S,payload:j,visibleTicksCount:m.length,tickFormatter:f});return se.createElement(Zn,bm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Kw(o.props,j,S)),c&&se.createElement("line",bm({},y,A,{className:vr("recharts-cartesian-axis-tick-line",Zs(c,"className"))})),d&&t.renderTickItem(d,O,"".concat(lr(f)?f(j.value,S):j.value).concat(h||"")))});return se.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=S_(f,WFe),g=h;return lr(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:se.createElement(Zn,{className:vr("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),oa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o,l=vr(a.className,"recharts-cartesian-axis-tick-value");return se.isValidElement(n)?o=se.cloneElement(n,hi(hi({},a),{},{className:l})):lr(n)?o=n(hi(hi({},a),{},{className:l})):o=se.createElement(o2,bm({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(N.Component);uE(Ng,"displayName","CartesianAxis");uE(Ng,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var e7e=["x1","y1","x2","y2","key"],t7e=["offset"];function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(e)}function N7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function la(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N7(Object(r),!0).forEach(function(n){r7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r7e(e,t,r){return t=n7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n7e(e){var t=i7e(e,"string");return dh(t)=="symbol"?t:t+""}function i7e(e,t){if(dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Of.apply(this,arguments)}function S7(e,t){if(e==null)return{};var r=a7e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var s7e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return se.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function VX(e,t){var r;if(se.isValidElement(e))r=se.cloneElement(e,t);else if(lr(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=S7(t,e7e),u=yr(c,!1);u.offset;var d=S7(u,t7e);r=se.createElement("line",Of({},d,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function o7e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=la(la({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return VX(a,u)});return se.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function l7e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=la(la({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return VX(a,u)});return se.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function c7e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],x=g?a+o-h:d[m+1]-h;if(x<=0)return null;var v=m%t.length;return se.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:x,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function u7e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],x=g?s+l-h:d[m+1]-h;if(x<=0)return null;var v=m%n.length;return se.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:x,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var d7e=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return QY(cE(la(la(la({},Ng.defaultProps),n),{},{ticks:jc(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},f7e=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return QY(cE(la(la(la({},Ng.defaultProps),n),{},{ticks:jc(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},Xh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function pk(e){var t,r,n,a,s,o,l=aE(),c=sE(),u=JRe(),d=la(la({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Xh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Xh.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Xh.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Xh.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Xh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Xh.verticalFill,x:et(e.x)?e.x:u.left,y:et(e.y)?e.y:u.top,width:et(e.width)?e.width:u.width,height:et(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,x=d.syncWithTicks,v=d.horizontalValues,p=d.verticalValues,y=XRe(),w=ZRe();if(!et(m)||m<=0||!et(g)||g<=0||!et(f)||f!==+f||!et(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||d7e,S=d.horizontalCoordinatesGenerator||f7e,P=d.horizontalPoints,A=d.verticalPoints;if((!P||!P.length)&&lr(S)){var C=v&&v.length,O=S({yAxis:w?la(la({},w),{},{ticks:C?v:w.ticks}):void 0,width:l,height:c,offset:u},C?!0:x);Tc(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(dh(O),"]")),Array.isArray(O)&&(P=O)}if((!A||!A.length)&&lr(j)){var D=p&&p.length,E=j({xAxis:y?la(la({},y),{},{ticks:D?p:y.ticks}):void 0,width:l,height:c,offset:u},D?!0:x);Tc(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(dh(E),"]")),Array.isArray(E)&&(A=E)}return se.createElement("g",{className:"recharts-cartesian-grid"},se.createElement(s7e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),se.createElement(o7e,Of({},d,{offset:u,horizontalPoints:P,xAxis:y,yAxis:w})),se.createElement(l7e,Of({},d,{offset:u,verticalPoints:A,xAxis:y,yAxis:w})),se.createElement(c7e,Of({},d,{horizontalPoints:P})),se.createElement(u7e,Of({},d,{verticalPoints:A})))}pk.displayName="CartesianGrid";var h7e=["type","layout","connectNulls","ref"],m7e=["key"];function Vp(e){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vp(e)}function _7(e,t){if(e==null)return{};var r=p7e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d0.apply(this,arguments)}function P7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P7(Object(r),!0).forEach(function(n){ko(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zh(e){return v7e(e)||y7e(e)||x7e(e)||g7e()}function g7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x7e(e,t){if(e){if(typeof e=="string")return gk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gk(e,t)}}function y7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v7e(e){if(Array.isArray(e))return gk(e)}function gk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WX(n.key),n)}}function w7e(e,t,r){return t&&A7(e.prototype,t),r&&A7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function j7e(e,t,r){return t=B2(t),N7e(e,qX()?Reflect.construct(t,r||[],B2(e).constructor):t.apply(e,r))}function N7e(e,t){if(t&&(Vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S7e(e)}function S7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qX=function(){return!!e})()}function B2(e){return B2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B2(e)}function _7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xk(e,t)}function xk(e,t){return xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xk(e,t)}function ko(e,t,r){return t=WX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WX(e){var t=P7e(e,"string");return Vp(t)=="symbol"?t:t+""}function P7e(e,t){if(Vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mv=function(e){function t(){var r;b7e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=j7e(this,t,[].concat(a)),ko(r,"state",{isAnimationFinished:!0,totalLength:0}),ko(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ko(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(p,y){return p+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],g=0,x=0;g<c.length;x+=c[g],++g)if(x+c[g]>f){m=[].concat(Zh(c.slice(0,g)),[f-x]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Zh(t.repeat(c,d)),Zh(m),v).map(function(p){return"".concat(p,"px")}).join(", ")}),ko(r,"id",ov("recharts-line-")),ko(r,"pathRef",function(o){r.mainCurve=o}),ko(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ko(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return _7e(t,e),w7e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=Qs(d,hv);if(!f)return null;var h=function(x,v){return{x:x.x,y:x.y,value:x.value,errorVal:vs(x.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return se.createElement(Zn,m,f.map(function(g){return se.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=yr(this.props,!1),h=yr(c,!0),m=u.map(function(x,v){var p=es(es(es({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:x.x,cy:x.y,value:x.value,dataKey:d,payload:x.payload,points:u});return t.renderDotItem(c,p)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return se.createElement(Zn,d0({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=_7(l,h7e),h=es(es(es({},yr(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return se.createElement(K4,d0({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=o.animateNewValues,x=o.width,v=o.height,p=this.state,y=p.prevPoints,w=p.totalLength;return se.createElement(Kc,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var S=j.t;if(y){var P=y.length/l.length,A=l.map(function(k,R){var L=Math.floor(R*P);if(y[L]){var H=y[L],F=Eo(H.x,k.x),V=Eo(H.y,k.y);return es(es({},k),{},{x:F(S),y:V(S)})}if(g){var B=Eo(x*2,k.x),G=Eo(v/2,k.y);return es(es({},k),{},{x:B(S),y:G(S)})}return es(es({},k),{},{x:k.x,y:k.y})});return s.renderCurveStatically(A,n,a)}var C=Eo(0,w),O=C(S),D;if(c){var E="".concat(c).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});D=s.getStrokeDasharray(O,w,E)}else D=s.generateSimpleStrokeDasharray(w,O);return s.renderCurveStatically(l,n,a,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!bN(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,g=a.height,x=a.isAnimationActive,v=a.id;if(s||!l||!l.length)return null;var p=this.state.isAnimationFinished,y=l.length===1,w=vr("recharts-line",c),j=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,P=j||S,A=fr(v)?this.id:v,C=(n=yr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=C.r,D=O===void 0?3:O,E=C.strokeWidth,k=E===void 0?2:E,R=U2e(o)?o:{},L=R.clipDot,H=L===void 0?!0:L,F=D*2+k;return se.createElement(Zn,{className:w},j||S?se.createElement("defs",null,se.createElement("clipPath",{id:"clipPath-".concat(A)},se.createElement("rect",{x:j?h:h-m/2,y:S?f:f-g/2,width:j?m:m*2,height:S?g:g*2})),!H&&se.createElement("clipPath",{id:"clipPath-dots-".concat(A)},se.createElement("rect",{x:h-F/2,y:f-F/2,width:m+F,height:g+F}))):null,!y&&this.renderCurve(P,A),this.renderErrorBar(P,A),(y||o)&&this.renderDots(P,H,A),(!x||p)&&fd.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(Zh(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Zh(o),Zh(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if(se.isValidElement(n))s=se.cloneElement(n,a);else if(lr(n))s=n(a);else{var o=a.key,l=_7(a,m7e),c=vr("recharts-line-dot",typeof n!="boolean"?n.className:"");s=se.createElement(tE,d0({key:o},l,{className:c}))}return s}}])}(N.PureComponent);ko(mv,"displayName","Line");ko(mv,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ec.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ko(mv,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var g=vs(h,o);return d==="horizontal"?{x:oF({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:fr(g)?null:n.scale(g),value:g,payload:h}:{x:fr(g)?null:r.scale(g),y:oF({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:g,payload:h}});return es({points:f,layout:d},u)});function qp(e){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(e)}function A7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GX(n.key),n)}}function C7e(e,t,r){return t&&k7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function T7e(e,t,r){return t=U2(t),E7e(e,HX()?Reflect.construct(t,r||[],U2(e).constructor):t.apply(e,r))}function E7e(e,t){if(t&&(qp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O7e(e)}function O7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HX=function(){return!!e})()}function U2(e){return U2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U2(e)}function M7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yk(e,t)}function yk(e,t){return yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yk(e,t)}function KX(e,t,r){return t=GX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GX(e){var t=L7e(e,"string");return qp(t)=="symbol"?t:t+""}function L7e(e,t){if(qp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vk(){return vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vk.apply(this,arguments)}function I7e(e){var t=e.xAxisId,r=aE(),n=sE(),a=OX(t);return a==null?null:N.createElement(Ng,vk({},a,{className:vr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return jc(o,!0)}}))}var Wp=function(e){function t(){return A7e(this,t),T7e(this,t,arguments)}return M7e(t,e),C7e(t,[{key:"render",value:function(){return N.createElement(I7e,this.props)}}])}(N.Component);KX(Wp,"displayName","XAxis");KX(Wp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Hp(e){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hp(e)}function D7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZX(n.key),n)}}function F7e(e,t,r){return t&&R7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $7e(e,t,r){return t=z2(t),B7e(e,YX()?Reflect.construct(t,r||[],z2(e).constructor):t.apply(e,r))}function B7e(e,t){if(t&&(Hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U7e(e)}function U7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YX=function(){return!!e})()}function z2(e){return z2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z2(e)}function z7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bk(e,t)}function bk(e,t){return bk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bk(e,t)}function XX(e,t,r){return t=ZX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZX(e){var t=V7e(e,"string");return Hp(t)=="symbol"?t:t+""}function V7e(e,t){if(Hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wk(){return wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wk.apply(this,arguments)}var q7e=function(t){var r=t.yAxisId,n=aE(),a=sE(),s=MX(r);return s==null?null:N.createElement(Ng,wk({},s,{className:vr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return jc(l,!0)}}))},Kp=function(e){function t(){return D7e(this,t),$7e(this,t,arguments)}return z7e(t,e),F7e(t,[{key:"render",value:function(){return N.createElement(q7e,this.props)}}])}(N.Component);XX(Kp,"displayName","YAxis");XX(Kp,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function k7(e){return G7e(e)||K7e(e)||H7e(e)||W7e()}function W7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H7e(e,t){if(e){if(typeof e=="string")return jk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jk(e,t)}}function K7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G7e(e){if(Array.isArray(e))return jk(e)}function jk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nk=function(t,r,n,a,s){var o=Qs(t,lE),l=Qs(t,AN),c=[].concat(k7(o),k7(l)),u=Qs(t,CN),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(x,v){if(v.props[d]===n&&Ml(v.props,"extendDomain")&&et(v.props[f])){var p=v.props[f];return[Math.min(x[0],p),Math.max(x[1],p)]}return x},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(x,v){if(v.props[d]===n&&Ml(v.props,"extendDomain")&&et(v.props[m])&&et(v.props[g])){var p=v.props[m],y=v.props[g];return[Math.min(x[0],p,y),Math.max(x[1],p,y)]}return x},h)}return s&&s.length&&(h=s.reduce(function(x,v){return et(v)?[Math.min(x[0],v),Math.max(x[1],v)]:x},h)),h},QX={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var x=r?r+u:u;if(!this._events[x])return!1;var v=this._events[x],p=arguments.length,y,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),p){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,g),!0}for(w=1,y=new Array(p-1);w<p;w++)y[w-1]=arguments[w];v.fn.apply(v.context,y)}else{var j=v.length,S;for(w=0;w<j;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),p){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!y)for(S=1,y=new Array(p-1);S<p;S++)y[S-1]=arguments[S];v[w].fn.apply(v[w].context,y)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var x=0,v=[],p=g.length;x<p;x++)(g[x].fn!==d||h&&!g[x].once||f&&g[x].context!==f)&&v.push(g[x]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(QX);var Y7e=QX.exports;const X7e=Mr(Y7e);var __=new X7e,P_="recharts.syncMouseEvents";function ky(e){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ky(e)}function Z7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JX(n.key),n)}}function J7e(e,t,r){return t&&Q7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function A_(e,t,r){return t=JX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JX(e){var t=e$e(e,"string");return ky(t)=="symbol"?t:t+""}function e$e(e,t){if(ky(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ky(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var t$e=function(){function e(){Z7e(this,e),A_(this,"activeIndex",0),A_(this,"coordinateList",[]),A_(this,"layout","horizontal")}return J7e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function r$e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&et(n)&&et(a))return!0}return!1}function n$e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function eZ(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=qi(t,r,n,a),l=qi(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function i$e(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=qi(l,c,u,f),m=qi(l,c,d,f);n=h.x,a=h.y,s=m.x,o=m.y}else return eZ(t);return[{x:n,y:a},{x:s,y:o}]}function Cy(e){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cy(e)}function C7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C7(Object(r),!0).forEach(function(n){a$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a$e(e,t,r){return t=s$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s$e(e){var t=o$e(e,"string");return Cy(t)=="symbol"?t:t+""}function o$e(e,t){if(Cy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l$e(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,x=K4;if(h==="ScatterChart")g=o,x=l8e;else if(h==="BarChart")g=n$e(f,o,c,d),x=eE;else if(f==="radial"){var v=eZ(o),p=v.cx,y=v.cy,w=v.radius,j=v.startAngle,S=v.endAngle;g={cx:p,cy:y,startAngle:j,endAngle:S,innerRadius:w,outerRadius:w},x=nX}else g={points:i$e(f,o,c)},x=K4;var P=Qb(Qb(Qb(Qb({stroke:"#ccc",pointerEvents:"none"},c),g),yr(m,!1)),{},{payload:l,payloadIndex:u,className:vr("recharts-tooltip-cursor",m.className)});return N.isValidElement(m)?N.cloneElement(m,P):N.createElement(x,P)}var c$e=["item"],u$e=["children","className","width","height","style","compact","title","desc"];function Gp(e){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(e)}function wm(){return wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wm.apply(this,arguments)}function T7(e,t){return h$e(e)||f$e(e,t)||rZ(e,t)||d$e()}function d$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function h$e(e){if(Array.isArray(e))return e}function E7(e,t){if(e==null)return{};var r=m$e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function p$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nZ(n.key),n)}}function x$e(e,t,r){return t&&g$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y$e(e,t,r){return t=V2(t),v$e(e,tZ()?Reflect.construct(t,r||[],V2(e).constructor):t.apply(e,r))}function v$e(e,t){if(t&&(Gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b$e(e)}function b$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tZ=function(){return!!e})()}function V2(e){return V2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V2(e)}function w$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sk(e,t)}function Sk(e,t){return Sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sk(e,t)}function Yp(e){return S$e(e)||N$e(e)||rZ(e)||j$e()}function j$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rZ(e,t){if(e){if(typeof e=="string")return _k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _k(e,t)}}function N$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S$e(e){if(Array.isArray(e))return _k(e)}function _k(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O7(Object(r),!0).forEach(function(n){Lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lt(e,t,r){return t=nZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nZ(e){var t=_$e(e,"string");return Gp(t)=="symbol"?t:t+""}function _$e(e,t){if(Gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P$e={xAxis:["bottom","top"],yAxis:["left","right"]},A$e={width:"100%",height:"100%"},iZ={x:0,y:0};function Jb(e){return e}var k$e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},C$e=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return Ee(Ee(Ee({},a),qi(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return Ee(Ee(Ee({},a),qi(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return iZ},TN=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Yp(l),Yp(u)):l},[]);return o.length>0?o:t&&t.length&&et(a)&&et(s)?t.slice(a,s+1):[]};function aZ(e){return e==="number"?[0,"auto"]:void 0}var Pk=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=TN(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Ww(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Yp(c),[eX(u,h)]):c},[])},M7=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=k$e(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=qOe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Pk(t,r,d,f),m=C$e(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},T$e=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=ZY(d,s);return n.reduce(function(g,x){var v,p=x.type.defaultProps!==void 0?Ee(Ee({},x.type.defaultProps),x.props):x.props,y=p.type,w=p.dataKey,j=p.allowDataOverflow,S=p.allowDuplicatedCategory,P=p.scale,A=p.ticks,C=p.includeHidden,O=p[o];if(g[O])return g;var D=TN(t.data,{graphicalItems:a.filter(function($){var q,Q=o in $.props?$.props[o]:(q=$.type.defaultProps)===null||q===void 0?void 0:q[o];return Q===O}),dataStartIndex:c,dataEndIndex:u}),E=D.length,k,R,L;r$e(p.domain,j,y)&&(k=z4(p.domain,null,j),m&&(y==="number"||P!=="auto")&&(L=c0(D,w,"category")));var H=aZ(y);if(!k||k.length===0){var F,V=(F=p.domain)!==null&&F!==void 0?F:H;if(w){if(k=c0(D,w,y),y==="category"&&m){var B=E2e(k);S&&B?(R=k,k=T2(0,E)):S||(k=dF(V,k,x).reduce(function($,q){return $.indexOf(q)>=0?$:[].concat(Yp($),[q])},[]))}else if(y==="category")S?k=k.filter(function($){return $!==""&&!fr($)}):k=dF(V,k,x).reduce(function($,q){return $.indexOf(q)>=0||q===""||fr(q)?$:[].concat(Yp($),[q])},[]);else if(y==="number"){var G=YOe(D,a.filter(function($){var q,Q,ae=o in $.props?$.props[o]:(q=$.type.defaultProps)===null||q===void 0?void 0:q[o],ue="hide"in $.props?$.props.hide:(Q=$.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return ae===O&&(C||!ue)}),w,s,d);G&&(k=G)}m&&(y==="number"||P!=="auto")&&(L=c0(D,w,"category"))}else m?k=T2(0,E):l&&l[O]&&l[O].hasStack&&y==="number"?k=h==="expand"?[0,1]:JY(l[O].stackGroups,c,u):k=XY(D,a.filter(function($){var q=o in $.props?$.props[o]:$.type.defaultProps[o],Q="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return q===O&&(C||!Q)}),y,d,!0);if(y==="number")k=Nk(f,k,O,s,A),V&&(k=z4(V,k,j));else if(y==="category"&&V){var le=V,fe=k.every(function($){return le.indexOf($)>=0});fe&&(k=le)}}return Ee(Ee({},g),{},Lt({},O,Ee(Ee({},p),{},{axisType:s,domain:k,categoricalDomain:L,duplicateDomain:R,originalDomain:(v=p.domain)!==null&&v!==void 0?v:H,isCategorical:m,layout:d})))},{})},E$e=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=TN(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=ZY(d,s),x=-1;return n.reduce(function(v,p){var y=p.type.defaultProps!==void 0?Ee(Ee({},p.type.defaultProps),p.props):p.props,w=y[o],j=aZ("number");if(!v[w]){x++;var S;return g?S=T2(0,m):l&&l[w]&&l[w].hasStack?(S=JY(l[w].stackGroups,c,u),S=Nk(f,S,w,s)):(S=z4(j,XY(h,n.filter(function(P){var A,C,O=o in P.props?P.props[o]:(A=P.type.defaultProps)===null||A===void 0?void 0:A[o],D="hide"in P.props?P.props.hide:(C=P.type.defaultProps)===null||C===void 0?void 0:C.hide;return O===w&&!D}),"number",d),a.defaultProps.allowDataOverflow),S=Nk(f,S,w,s)),Ee(Ee({},v),{},Lt({},w,Ee(Ee({axisType:s},a.defaultProps),{},{hide:!0,orientation:Zs(P$e,"".concat(s,".").concat(x%2),null),domain:S,originalDomain:j,isCategorical:g,layout:d})))}return v},{})},O$e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Qs(d,s),m={};return h&&h.length?m=T$e(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=E$e(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},M$e=function(t){var r=Lu(t),n=jc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:AT(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:w2(r,n)}},L7=function(t){var r=t.children,n=t.defaultShowTooltip,a=as(r,Rp),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},L$e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Cc(r&&r.type);return n&&n.indexOf("Bar")>=0})},I7=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},I$e=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=as(f,Rp),g=as(f,Um),x=Object.keys(c).reduce(function(S,P){var A=c[P],C=A.orientation;return!A.mirror&&!A.hide?Ee(Ee({},S),{},Lt({},C,S[C]+A.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(S,P){var A=o[P],C=A.orientation;return!A.mirror&&!A.hide?Ee(Ee({},S),{},Lt({},C,Zs(S,"".concat(C))+A.height)):S},{top:h.top||0,bottom:h.bottom||0}),p=Ee(Ee({},v),x),y=p.bottom;m&&(p.bottom+=m.props.height||Rp.defaultProps.height),g&&r&&(p=KOe(p,a,n,r));var w=u-p.left-p.right,j=d-p.top-p.bottom;return Ee(Ee({brushBottom:y},p),{},{width:Math.max(w,0),height:Math.max(j,0)})},D$e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},sZ=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(p,y){var w=y.graphicalItems,j=y.stackGroups,S=y.offset,P=y.updateId,A=y.dataStartIndex,C=y.dataEndIndex,O=p.barSize,D=p.layout,E=p.barGap,k=p.barCategoryGap,R=p.maxBarSize,L=I7(D),H=L.numericAxisName,F=L.cateAxisName,V=L$e(w),B=[];return w.forEach(function(G,le){var fe=TN(p.data,{graphicalItems:[G],dataStartIndex:A,dataEndIndex:C}),$=G.type.defaultProps!==void 0?Ee(Ee({},G.type.defaultProps),G.props):G.props,q=$.dataKey,Q=$.maxBarSize,ae=$["".concat(H,"Id")],ue=$["".concat(F,"Id")],ce={},we=c.reduce(function(Qe,ie){var me=y["".concat(ie.axisType,"Map")],Pe=$["".concat(ie.axisType,"Id")];me&&me[Pe]||ie.axisType==="zAxis"||uh();var Fe=me[Pe];return Ee(Ee({},Qe),{},Lt(Lt({},ie.axisType,Fe),"".concat(ie.axisType,"Ticks"),jc(Fe)))},ce),oe=we[F],ye=we["".concat(F,"Ticks")],Ne=j&&j[ae]&&j[ae].hasStack&&oMe(G,j[ae].stackGroups),pe=Cc(G.type).indexOf("Bar")>=0,_e=w2(oe,ye),ve=[],J=V&&WOe({barSize:O,stackGroups:j,totalSize:D$e(we,F)});if(pe){var ut,at,ct=fr(Q)?R:Q,$e=(ut=(at=w2(oe,ye,!0))!==null&&at!==void 0?at:ct)!==null&&ut!==void 0?ut:0;ve=HOe({barGap:E,barCategoryGap:k,bandSize:$e!==_e?$e:_e,sizeList:J[ue],maxBarSize:ct}),$e!==_e&&(ve=ve.map(function(Qe){return Ee(Ee({},Qe),{},{position:Ee(Ee({},Qe.position),{},{offset:Qe.position.offset-$e/2})})}))}var dt=G&&G.type&&G.type.getComposedData;dt&&B.push({props:Ee(Ee({},dt(Ee(Ee({},we),{},{displayedData:fe,props:p,dataKey:q,item:G,bandSize:_e,barPosition:ve,offset:S,stackedData:Ne,layout:D,dataStartIndex:A,dataEndIndex:C}))),{},Lt(Lt(Lt({key:G.key||"item-".concat(le)},H,we[H]),F,we[F]),"animationId",P)),childIndex:q2e(G,p.children),item:G})}),B},m=function(p,y){var w=p.props,j=p.dataStartIndex,S=p.dataEndIndex,P=p.updateId;if(!nD({props:w}))return null;var A=w.children,C=w.layout,O=w.stackOffset,D=w.data,E=w.reverseStackOrder,k=I7(C),R=k.numericAxisName,L=k.cateAxisName,H=Qs(A,n),F=iMe(D,H,"".concat(R,"Id"),"".concat(L,"Id"),O,E),V=c.reduce(function($,q){var Q="".concat(q.axisType,"Map");return Ee(Ee({},$),{},Lt({},Q,O$e(w,Ee(Ee({},q),{},{graphicalItems:H,stackGroups:q.axisType===R&&F,dataStartIndex:j,dataEndIndex:S}))))},{}),B=I$e(Ee(Ee({},V),{},{props:w,graphicalItems:H}),y==null?void 0:y.legendBBox);Object.keys(V).forEach(function($){V[$]=d(w,V[$],B,$.replace("Map",""),r)});var G=V["".concat(L,"Map")],le=M$e(G),fe=h(w,Ee(Ee({},V),{},{dataStartIndex:j,dataEndIndex:S,updateId:P,graphicalItems:H,stackGroups:F,offset:B}));return Ee(Ee({formattedGraphicalItems:fe,graphicalItems:H,offset:B,stackGroups:F},le),V)},g=function(v){function p(y){var w,j,S;return p$e(this,p),S=y$e(this,p,[y]),Lt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Lt(S,"accessibilityManager",new t$e),Lt(S,"handleLegendBBoxUpdate",function(P){if(P){var A=S.state,C=A.dataStartIndex,O=A.dataEndIndex,D=A.updateId;S.setState(Ee({legendBBox:P},m({props:S.props,dataStartIndex:C,dataEndIndex:O,updateId:D},Ee(Ee({},S.state),{},{legendBBox:P}))))}}),Lt(S,"handleReceiveSyncEvent",function(P,A,C){if(S.props.syncId===P){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),Lt(S,"handleBrushChange",function(P){var A=P.startIndex,C=P.endIndex;if(A!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var O=S.state.updateId;S.setState(function(){return Ee({dataStartIndex:A,dataEndIndex:C},m({props:S.props,dataStartIndex:A,dataEndIndex:C,updateId:O},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:C})}}),Lt(S,"handleMouseEnter",function(P){var A=S.getMouseInfo(P);if(A){var C=Ee(Ee({},A),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var O=S.props.onMouseEnter;lr(O)&&O(C,P)}}),Lt(S,"triggeredAfterMouseMove",function(P){var A=S.getMouseInfo(P),C=A?Ee(Ee({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var O=S.props.onMouseMove;lr(O)&&O(C,P)}),Lt(S,"handleItemMouseEnter",function(P){S.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Lt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Lt(S,"handleMouseMove",function(P){P.persist(),S.throttleTriggeredAfterMouseMove(P)}),Lt(S,"handleMouseLeave",function(P){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var C=S.props.onMouseLeave;lr(C)&&C(A,P)}),Lt(S,"handleOuterEvent",function(P){var A=V2e(P),C=Zs(S.props,"".concat(A));if(A&&lr(C)){var O,D;/.*touch.*/i.test(A)?D=S.getMouseInfo(P.changedTouches[0]):D=S.getMouseInfo(P),C((O=D)!==null&&O!==void 0?O:{},P)}}),Lt(S,"handleClick",function(P){var A=S.getMouseInfo(P);if(A){var C=Ee(Ee({},A),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var O=S.props.onClick;lr(O)&&O(C,P)}}),Lt(S,"handleMouseDown",function(P){var A=S.props.onMouseDown;if(lr(A)){var C=S.getMouseInfo(P);A(C,P)}}),Lt(S,"handleMouseUp",function(P){var A=S.props.onMouseUp;if(lr(A)){var C=S.getMouseInfo(P);A(C,P)}}),Lt(S,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Lt(S,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.handleMouseDown(P.changedTouches[0])}),Lt(S,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.handleMouseUp(P.changedTouches[0])}),Lt(S,"handleDoubleClick",function(P){var A=S.props.onDoubleClick;if(lr(A)){var C=S.getMouseInfo(P);A(C,P)}}),Lt(S,"handleContextMenu",function(P){var A=S.props.onContextMenu;if(lr(A)){var C=S.getMouseInfo(P);A(C,P)}}),Lt(S,"triggerSyncEvent",function(P){S.props.syncId!==void 0&&__.emit(P_,S.props.syncId,P,S.eventEmitterSymbol)}),Lt(S,"applySyncEvent",function(P){var A=S.props,C=A.layout,O=A.syncMethod,D=S.state.updateId,E=P.dataStartIndex,k=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)S.setState(Ee({dataStartIndex:E,dataEndIndex:k},m({props:S.props,dataStartIndex:E,dataEndIndex:k,updateId:D},S.state)));else if(P.activeTooltipIndex!==void 0){var R=P.chartX,L=P.chartY,H=P.activeTooltipIndex,F=S.state,V=F.offset,B=F.tooltipTicks;if(!V)return;if(typeof O=="function")H=O(B,P);else if(O==="value"){H=-1;for(var G=0;G<B.length;G++)if(B[G].value===P.activeLabel){H=G;break}}var le=Ee(Ee({},V),{},{x:V.left,y:V.top}),fe=Math.min(R,le.x+le.width),$=Math.min(L,le.y+le.height),q=B[H]&&B[H].value,Q=Pk(S.state,S.props.data,H),ae=B[H]?{x:C==="horizontal"?B[H].coordinate:fe,y:C==="horizontal"?$:B[H].coordinate}:iZ;S.setState(Ee(Ee({},P),{},{activeLabel:q,activeCoordinate:ae,activePayload:Q,activeTooltipIndex:H}))}else S.setState(P)}),Lt(S,"renderCursor",function(P){var A,C=S.state,O=C.isTooltipActive,D=C.activeCoordinate,E=C.activePayload,k=C.offset,R=C.activeTooltipIndex,L=C.tooltipAxisBandSize,H=S.getTooltipEventType(),F=(A=P.props.active)!==null&&A!==void 0?A:O,V=S.props.layout,B=P.key||"_recharts-cursor";return se.createElement(l$e,{key:B,activeCoordinate:D,activePayload:E,activeTooltipIndex:R,chartName:r,element:P,isActive:F,layout:V,offset:k,tooltipAxisBandSize:L,tooltipEventType:H})}),Lt(S,"renderPolarAxis",function(P,A,C){var O=Zs(P,"type.axisType"),D=Zs(S.state,"".concat(O,"Map")),E=P.type.defaultProps,k=E!==void 0?Ee(Ee({},E),P.props):P.props,R=D&&D[k["".concat(O,"Id")]];return N.cloneElement(P,Ee(Ee({},R),{},{className:vr(O,R.className),key:P.key||"".concat(A,"-").concat(C),ticks:jc(R,!0)}))}),Lt(S,"renderPolarGrid",function(P){var A=P.props,C=A.radialLines,O=A.polarAngles,D=A.polarRadius,E=S.state,k=E.radiusAxisMap,R=E.angleAxisMap,L=Lu(k),H=Lu(R),F=H.cx,V=H.cy,B=H.innerRadius,G=H.outerRadius;return N.cloneElement(P,{polarAngles:Array.isArray(O)?O:jc(H,!0).map(function(le){return le.coordinate}),polarRadius:Array.isArray(D)?D:jc(L,!0).map(function(le){return le.coordinate}),cx:F,cy:V,innerRadius:B,outerRadius:G,key:P.key||"polar-grid",radialLines:C})}),Lt(S,"renderLegend",function(){var P=S.state.formattedGraphicalItems,A=S.props,C=A.children,O=A.width,D=A.height,E=S.props.margin||{},k=O-(E.left||0)-(E.right||0),R=GY({children:C,formattedGraphicalItems:P,legendWidth:k,legendContent:u});if(!R)return null;var L=R.item,H=E7(R,c$e);return N.cloneElement(L,Ee(Ee({},H),{},{chartWidth:O,chartHeight:D,margin:E,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Lt(S,"renderTooltip",function(){var P,A=S.props,C=A.children,O=A.accessibilityLayer,D=as(C,Po);if(!D)return null;var E=S.state,k=E.isTooltipActive,R=E.activeCoordinate,L=E.activePayload,H=E.activeLabel,F=E.offset,V=(P=D.props.active)!==null&&P!==void 0?P:k;return N.cloneElement(D,{viewBox:Ee(Ee({},F),{},{x:F.left,y:F.top}),active:V,label:H,payload:V?L:[],coordinate:R,accessibilityLayer:O})}),Lt(S,"renderBrush",function(P){var A=S.props,C=A.margin,O=A.data,D=S.state,E=D.offset,k=D.dataStartIndex,R=D.dataEndIndex,L=D.updateId;return N.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Gb(S.handleBrushChange,P.props.onChange),data:O,x:et(P.props.x)?P.props.x:E.left,y:et(P.props.y)?P.props.y:E.top+E.height+E.brushBottom-(C.bottom||0),width:et(P.props.width)?P.props.width:E.width,startIndex:k,endIndex:R,updateId:"brush-".concat(L)})}),Lt(S,"renderReferenceElement",function(P,A,C){if(!P)return null;var O=S,D=O.clipPathId,E=S.state,k=E.xAxisMap,R=E.yAxisMap,L=E.offset,H=P.type.defaultProps||{},F=P.props,V=F.xAxisId,B=V===void 0?H.xAxisId:V,G=F.yAxisId,le=G===void 0?H.yAxisId:G;return N.cloneElement(P,{key:P.key||"".concat(A,"-").concat(C),xAxis:k[B],yAxis:R[le],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:D})}),Lt(S,"renderActivePoints",function(P){var A=P.item,C=P.activePoint,O=P.basePoint,D=P.childIndex,E=P.isRange,k=[],R=A.props.key,L=A.item.type.defaultProps!==void 0?Ee(Ee({},A.item.type.defaultProps),A.item.props):A.item.props,H=L.activeDot,F=L.dataKey,V=Ee(Ee({index:D,dataKey:F,cx:C.x,cy:C.y,r:4,fill:JT(A.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},yr(H,!1)),Hw(H));return k.push(p.renderActiveDot(H,V,"".concat(R,"-activePoint-").concat(D))),O?k.push(p.renderActiveDot(H,Ee(Ee({},V),{},{cx:O.x,cy:O.y}),"".concat(R,"-basePoint-").concat(D))):E&&k.push(null),k}),Lt(S,"renderGraphicChild",function(P,A,C){var O=S.filterFormatItem(P,A,C);if(!O)return null;var D=S.getTooltipEventType(),E=S.state,k=E.isTooltipActive,R=E.tooltipAxis,L=E.activeTooltipIndex,H=E.activeLabel,F=S.props.children,V=as(F,Po),B=O.props,G=B.points,le=B.isRange,fe=B.baseLine,$=O.item.type.defaultProps!==void 0?Ee(Ee({},O.item.type.defaultProps),O.item.props):O.item.props,q=$.activeDot,Q=$.hide,ae=$.activeBar,ue=$.activeShape,ce=!!(!Q&&k&&V&&(q||ae||ue)),we={};D!=="axis"&&V&&V.props.trigger==="click"?we={onClick:Gb(S.handleItemMouseEnter,P.props.onClick)}:D!=="axis"&&(we={onMouseLeave:Gb(S.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Gb(S.handleItemMouseEnter,P.props.onMouseEnter)});var oe=N.cloneElement(P,Ee(Ee({},O.props),we));function ye(ie){return typeof R.dataKey=="function"?R.dataKey(ie.payload):null}if(ce)if(L>=0){var Ne,pe;if(R.dataKey&&!R.allowDuplicatedCategory){var _e=typeof R.dataKey=="function"?ye:"payload.".concat(R.dataKey.toString());Ne=Ww(G,_e,H),pe=le&&fe&&Ww(fe,_e,H)}else Ne=G==null?void 0:G[L],pe=le&&fe&&fe[L];if(ue||ae){var ve=P.props.activeIndex!==void 0?P.props.activeIndex:L;return[N.cloneElement(P,Ee(Ee(Ee({},O.props),we),{},{activeIndex:ve})),null,null]}if(!fr(Ne))return[oe].concat(Yp(S.renderActivePoints({item:O,activePoint:Ne,basePoint:pe,childIndex:L,isRange:le})))}else{var J,ut=(J=S.getItemByXY(S.state.activeCoordinate))!==null&&J!==void 0?J:{graphicalItem:oe},at=ut.graphicalItem,ct=at.item,$e=ct===void 0?P:ct,dt=at.childIndex,Qe=Ee(Ee(Ee({},O.props),we),{},{activeIndex:dt});return[N.cloneElement($e,Qe),null,null]}return le?[oe,null,null]:[oe,null]}),Lt(S,"renderCustomized",function(P,A,C){return N.cloneElement(P,Ee(Ee({key:"recharts-customized-".concat(C)},S.props),S.state))}),Lt(S,"renderMap",{CartesianGrid:{handler:Jb,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Jb},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Jb},YAxis:{handler:Jb},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:ov("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=KG(S.triggeredAfterMouseMove,(j=y.throttleDelay)!==null&&j!==void 0?j:1e3/60),S.state={},S}return w$e(p,v),x$e(p,[{key:"componentDidMount",value:function(){var w,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,j=w.children,S=w.data,P=w.height,A=w.layout,C=as(j,Po);if(C){var O=C.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,E=Pk(this.state,S,O,D),k=this.state.tooltipTicks[O].coordinate,R=(this.state.offset.top+P)/2,L=A==="horizontal",H=L?{x:k,y:R}:{y:k,x:R},F=this.state.formattedGraphicalItems.find(function(B){var G=B.item;return G.type.name==="Scatter"});F&&(H=Ee(Ee({},H),F.props.points[O].tooltipPosition),E=F.props.points[O].tooltipPayload);var V={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:D,activePayload:E,activeCoordinate:H};this.setState(V),this.renderCursor(C),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,P;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(w){n4([as(w.children,Po)],[as(this.props.children,Po)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=as(this.props.children,Po);if(w&&typeof w.props.shared=="boolean"){var j=w.props.shared?"axis":"item";return l.indexOf(j)>=0?j:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var j=this.container,S=j.getBoundingClientRect(),P=g3e(S),A={chartX:Math.round(w.pageX-P.left),chartY:Math.round(w.pageY-P.top)},C=S.width/j.offsetWidth||1,O=this.inRange(A.chartX,A.chartY,C);if(!O)return null;var D=this.state,E=D.xAxisMap,k=D.yAxisMap,R=this.getTooltipEventType(),L=M7(this.state,this.props.data,this.props.layout,O);if(R!=="axis"&&E&&k){var H=Lu(E).scale,F=Lu(k).scale,V=H&&H.invert?H.invert(A.chartX):null,B=F&&F.invert?F.invert(A.chartY):null;return Ee(Ee({},A),{},{xValue:V,yValue:B},L)}return L?Ee(Ee({},A),L):null}},{key:"inRange",value:function(w,j){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,A=w/S,C=j/S;if(P==="horizontal"||P==="vertical"){var O=this.state.offset,D=A>=O.left&&A<=O.left+O.width&&C>=O.top&&C<=O.top+O.height;return D?{x:A,y:C}:null}var E=this.state,k=E.angleAxisMap,R=E.radiusAxisMap;if(k&&R){var L=Lu(k);return mF({x:A,y:C},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,j=this.getTooltipEventType(),S=as(w,Po),P={};S&&j==="axis"&&(S.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Hw(this.props,this.handleOuterEvent);return Ee(Ee({},A),P)}},{key:"addListener",value:function(){__.on(P_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){__.removeListener(P_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,j,S){for(var P=this.state.formattedGraphicalItems,A=0,C=P.length;A<C;A++){var O=P[A];if(O.item===w||O.props.key===w.key||j===Cc(O.item.type)&&S===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,j=this.state.offset,S=j.left,P=j.top,A=j.height,C=j.width;return se.createElement("defs",null,se.createElement("clipPath",{id:w},se.createElement("rect",{x:S,y:P,height:A,width:C})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(j,S){var P=T7(S,2),A=P[0],C=P[1];return Ee(Ee({},j),{},Lt({},A,C.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(j,S){var P=T7(S,2),A=P[0],C=P[1];return Ee(Ee({},j),{},Lt({},A,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(w){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(w){var j=this.state,S=j.formattedGraphicalItems,P=j.activeItem;if(S&&S.length)for(var A=0,C=S.length;A<C;A++){var O=S[A],D=O.props,E=O.item,k=E.type.defaultProps!==void 0?Ee(Ee({},E.type.defaultProps),E.props):E.props,R=Cc(E.type);if(R==="Bar"){var L=(D.data||[]).find(function(B){return QIe(w,B)});if(L)return{graphicalItem:O,payload:L}}else if(R==="RadialBar"){var H=(D.data||[]).find(function(B){return mF(w,B)});if(H)return{graphicalItem:O,payload:H}}else if(NN(O,P)||SN(O,P)||Ny(O,P)){var F=tDe({graphicalItem:O,activeTooltipItem:P,itemData:k.data}),V=k.activeIndex===void 0?F:k.activeIndex;return{graphicalItem:Ee(Ee({},O),{},{childIndex:V}),payload:Ny(O,P)?k.data[F]:O.props.data[F]}}}return null}},{key:"render",value:function(){var w=this;if(!nD(this))return null;var j=this.props,S=j.children,P=j.className,A=j.width,C=j.height,O=j.style,D=j.compact,E=j.title,k=j.desc,R=E7(j,u$e),L=yr(R,!1);if(D)return se.createElement(f7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement(a4,wm({},L,{width:A,height:C,title:E,desc:k}),this.renderClipPath(),aD(S,this.renderMap)));if(this.props.accessibilityLayer){var H,F;L.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,L.role=(F=this.props.role)!==null&&F!==void 0?F:"application",L.onKeyDown=function(B){w.accessibilityManager.keyboardEvent(B)},L.onFocus=function(){w.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return se.createElement(f7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement("div",wm({className:vr("recharts-wrapper",P),style:Ee({position:"relative",cursor:"default",width:A,height:C},O)},V,{ref:function(G){w.container=G}}),se.createElement(a4,wm({},L,{width:A,height:C,title:E,desc:k,style:A$e}),this.renderClipPath(),aD(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);Lt(g,"displayName",r),Lt(g,"defaultProps",Ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Lt(g,"getDerivedStateFromProps",function(v,p){var y=v.dataKey,w=v.data,j=v.children,S=v.width,P=v.height,A=v.layout,C=v.stackOffset,O=v.margin,D=p.dataStartIndex,E=p.dataEndIndex;if(p.updateId===void 0){var k=L7(v);return Ee(Ee(Ee({},k),{},{updateId:0},m(Ee(Ee({props:v},k),{},{updateId:0}),p)),{},{prevDataKey:y,prevData:w,prevWidth:S,prevHeight:P,prevLayout:A,prevStackOffset:C,prevMargin:O,prevChildren:j})}if(y!==p.prevDataKey||w!==p.prevData||S!==p.prevWidth||P!==p.prevHeight||A!==p.prevLayout||C!==p.prevStackOffset||!Bm(O,p.prevMargin)){var R=L7(v),L={chartX:p.chartX,chartY:p.chartY,isTooltipActive:p.isTooltipActive},H=Ee(Ee({},M7(p,w,A)),{},{updateId:p.updateId+1}),F=Ee(Ee(Ee({},R),L),H);return Ee(Ee(Ee({},F),m(Ee({props:v},F),p)),{},{prevDataKey:y,prevData:w,prevWidth:S,prevHeight:P,prevLayout:A,prevStackOffset:C,prevMargin:O,prevChildren:j})}if(!n4(j,p.prevChildren)){var V,B,G,le,fe=as(j,Rp),$=fe&&(V=(B=fe.props)===null||B===void 0?void 0:B.startIndex)!==null&&V!==void 0?V:D,q=fe&&(G=(le=fe.props)===null||le===void 0?void 0:le.endIndex)!==null&&G!==void 0?G:E,Q=$!==D||q!==E,ae=!fr(w),ue=ae&&!Q?p.updateId:p.updateId+1;return Ee(Ee({updateId:ue},m(Ee(Ee({props:v},p),{},{updateId:ue,dataStartIndex:$,dataEndIndex:q}),p)),{},{prevChildren:j,dataStartIndex:$,dataEndIndex:q})}return null}),Lt(g,"renderActiveDot",function(v,p,y){var w;return N.isValidElement(v)?w=N.cloneElement(v,p):lr(v)?w=v(p):w=se.createElement(tE,p),se.createElement(Zn,{className:"recharts-active-dot",key:y},w)});var x=N.forwardRef(function(p,y){return se.createElement(g,wm({},p,{ref:y}))});return x.displayName=g.displayName,x},R$e=sZ({chartName:"LineChart",GraphicalChild:mv,axisComponents:[{axisType:"xAxis",AxisComp:Wp},{axisType:"yAxis",AxisComp:Kp}],formatAxisMap:SX}),F$e=sZ({chartName:"BarChart",GraphicalChild:Nh,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Wp},{axisType:"yAxis",AxisComp:Kp}],formatAxisMap:SX});const Xp=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:_t("w-full caption-bottom text-sm",e),...t})}));Xp.displayName="Table";const Zp=N.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:_t("[&_tr]:border-b",e),...t}));Zp.displayName="TableHeader";const Qp=N.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:_t("[&_tr:last-child]:border-0",e),...t}));Qp.displayName="TableBody";const $$e=N.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:_t("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));$$e.displayName="TableFooter";const Ro=N.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:_t("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ro.displayName="TableRow";const jr=N.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:_t("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));jr.displayName="TableHead";const Nr=N.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:_t("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Nr.displayName="TableCell";const B$e=N.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:_t("mt-4 text-sm text-muted-foreground",e),...t}));B$e.displayName="TableCaption";function U$e({userId:e}){const{data:t,isLoading:r,error:n}=Kt({queryKey:[`/api/admin/users/${e}/activity`],queryFn:async()=>(await He("GET",`/api/admin/users/${e}/activity?hours=48`)).json()});if(r)return i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsx(id,{className:"w-6 h-6 animate-spin text-blue-600"})});if(n)return i.jsx("div",{className:"p-6 text-center text-red-600",children:"Failed to load activity timeline"});if(!t||t.activities.length===0)return i.jsxs("div",{className:"p-6 text-center text-gray-500",children:["No activities found in the last ",(t==null?void 0:t.timeWindow)||"48 hours"]});const a=u=>({success:"default",failed:"destructive",pending:"secondary",completed:"default"})[u]||"outline",s=u=>{switch(u){case"success":return i.jsx(LC,{className:"w-4 h-4 text-green-600"});case"failed":return i.jsx(Ua,{className:"w-4 h-4 text-red-600"});case"pending":return i.jsx(Ei,{className:"w-4 h-4 text-yellow-600"});default:return null}},o=t.activities.filter(u=>u.details.status==="success").length,l=t.activities.filter(u=>u.details.status==="failed").length,c=t.activities.filter(u=>u.type==="page_visit"||u.details.page).length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Total Activities"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.totalActivities})]}),i.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Successful"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:o})]}),i.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Failed"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:l})]}),i.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Pages Visited"}),i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:c})]})]}),i.jsx(Pa,{className:"h-[500px] pr-4",children:i.jsx("div",{className:"space-y-4",children:t.activities.map(u=>{var m,g,x,v;const d=u.details.status||"unknown",f=((m=u.details.metadata)==null?void 0:m.errorMessage)||((g=u.details.metadata)==null?void 0:g.error),h=((x=u.action)==null?void 0:x.includes("purchase"))||((v=u.action)==null?void 0:v.includes("card"));return i.jsx("div",{className:`border rounded-lg p-4 hover:bg-gray-50 transition ${d==="failed"?"border-red-200 bg-red-50/30":d==="success"?"border-green-200":"border-gray-200"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-2xl",children:u.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:u.action}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Qr(new Date(u.timestamp),"MMM dd, yyyy HH:mm:ss")})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[s(d),i.jsx(st,{variant:a(d),children:d})]})]}),u.details&&i.jsxs("div",{className:`mt-3 p-3 rounded text-sm space-y-2 ${d==="failed"?"bg-red-100/50":"bg-gray-50"}`,children:[h&&i.jsxs(i.Fragment,{children:[u.details.amount&&i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Amount:"})," $",u.details.amount," ",u.details.currency||"USD"]}),u.details.cardNumber&&i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Card:"})," ",u.details.cardNumber]}),u.details.balance!==void 0&&i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Balance:"})," $",u.details.balance]})]}),u.details.page&&i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:" Page:"})," ",u.details.page]}),u.details.action&&i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:" Action:"})," ",u.details.action]}),u.details.recipient&&i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Recipient:"})," ",u.details.recipient]}),u.details.sender&&i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Sender:"})," ",u.details.sender]}),u.details.description&&i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Note:"})," ",u.details.description]}),u.details.documentType&&i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Document:"})," ",u.details.documentType]}),u.details.device&&i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Device:"})," ",u.details.device]}),u.details.browser&&i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Browser:"})," ",u.details.browser]}),u.details.ipAddress&&i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"IP:"})," ",u.details.ipAddress]}),f&&i.jsxs("div",{className:"mt-2 p-2 bg-red-200/50 border border-red-300 rounded",children:[i.jsx("p",{className:"text-red-800 font-semibold text-xs",children:" Error:"}),i.jsx("p",{className:"text-red-700 text-xs",children:f})]})]})]})]})},u.id)})})})]})}function z$e(){const[e,t]=N.useState(1),[r,n]=N.useState(""),[a,s]=N.useState(""),[o,l]=N.useState(null),[c,u]=N.useState(!1),[d,f]=N.useState(null),[h,m]=N.useState(!1),[g,x]=N.useState(null),{toast:v}=Ct(),p=en(),{data:y,isLoading:w,error:j}=Kt({queryKey:["/api/admin/users",{page:e,status:r,search:a}],queryFn:async()=>{const k=new URLSearchParams({page:e.toString(),limit:"20",...r&&r!=="all"&&{status:r},...a&&{search:a}});return(await He("GET",`/api/admin/users?${k}`)).json()}}),S=St({mutationFn:async k=>(await He("PUT",`/api/admin/users/${k}/block`,{})).json(),onSuccess:()=>{p.invalidateQueries({queryKey:["/api/admin/users"]}),v({title:"User Blocked",description:"User has been successfully blocked"})},onError:()=>{v({title:"Error",description:"Failed to block user",variant:"destructive"})}}),P=St({mutationFn:async k=>(await He("PUT",`/api/admin/users/${k}/unblock`,{})).json(),onSuccess:()=>{p.invalidateQueries({queryKey:["/api/admin/users"]}),v({title:"User Unblocked",description:"User has been successfully unblocked"})},onError:()=>{v({title:"Error",description:"Failed to unblock user",variant:"destructive"})}}),A=St({mutationFn:async k=>(await He("DELETE",`/api/admin/users/${k}`,{})).json(),onSuccess:()=>{p.invalidateQueries({queryKey:["/api/admin/users"]}),v({title:"User Deleted",description:"User and all related data have been permanently deleted"}),u(!1),f(null)},onError:()=>{v({title:"Error",description:"Failed to delete user",variant:"destructive"})}}),C=k=>!k.isEmailVerified&&!k.isPhoneVerified?i.jsx(st,{variant:"destructive",children:"Blocked"}):k.kycStatus==="verified"?i.jsx(st,{variant:"default",children:"Verified"}):k.kycStatus==="pending"?i.jsx(st,{variant:"secondary",children:"Pending KYC"}):i.jsx(st,{variant:"outline",children:"Active"}),O=k=>!k.isEmailVerified&&!k.isPhoneVerified,D=k=>{f(k),u(!0)},E=()=>{d&&A.mutate(d.id)};return j?i.jsx(Ce,{children:i.jsx(Ie,{className:"p-6",children:i.jsx("div",{className:"text-center text-red-600",children:"Failed to load users data"})})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(_a,{className:"w-5 h-5"}),"User Management"]}),i.jsx(kt,{children:"Manage platform users, review KYC status, and control access"})]}),i.jsx(Ie,{children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(ng,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(Be,{placeholder:"Search by name, email, or phone...",value:a,onChange:k=>s(k.target.value),className:"pl-10","data-testid":"input-user-search"})]})}),i.jsxs(Kr,{value:r,onValueChange:n,children:[i.jsxs(Br,{className:"w-full md:w-48","data-testid":"select-user-status",children:[i.jsx(fj,{className:"w-4 h-4 mr-2"}),i.jsx(Gr,{placeholder:"Filter by status"})]}),i.jsxs(Ur,{children:[i.jsx(nt,{value:"all",children:"All Users"}),i.jsx(nt,{value:"active",children:"Active Users"}),i.jsx(nt,{value:"pending",children:"Pending KYC"}),i.jsx(nt,{value:"verified",children:"Verified Users"}),i.jsx(nt,{value:"blocked",children:"Blocked Users"})]})]})]})})]}),i.jsxs(Ce,{children:[i.jsx(Ge,{children:i.jsxs(Ze,{children:["Users (",(y==null?void 0:y.total)||0,")"]})}),i.jsx(Ie,{children:w?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"w-6 h-6 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs(Xp,{children:[i.jsx(Zp,{children:i.jsxs(Ro,{children:[i.jsx(jr,{children:"User"}),i.jsx(jr,{children:"Contact"}),i.jsx(jr,{children:"Status"}),i.jsx(jr,{children:"KYC"}),i.jsx(jr,{children:"Balance"}),i.jsx(jr,{children:"Joined"}),i.jsx(jr,{children:"Actions"})]})}),i.jsx(Qp,{children:y==null?void 0:y.users.map(k=>i.jsxs(Ro,{children:[i.jsx(Nr,{children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium","data-testid":`text-user-name-${k.id}`,children:k.fullName}),i.jsx("p",{className:"text-sm text-gray-500",children:k.country})]})}),i.jsx(Nr,{children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm",children:k.email}),i.jsx("p",{className:"text-sm text-gray-500",children:k.phone})]})}),i.jsx(Nr,{children:C(k)}),i.jsx(Nr,{children:i.jsx(st,{variant:k.kycStatus==="verified"?"default":"secondary","data-testid":`badge-kyc-${k.id}`,children:k.kycStatus})}),i.jsx(Nr,{children:i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("span",{className:"font-mono",children:["$",k.balance||"0.00"]}),i.jsxs("span",{className:"text-xs text-gray-500 font-mono",children:["KES ",k.kesBalance||"0.00"]})]})}),i.jsx(Nr,{children:i.jsx("span",{className:"text-sm",children:Qr(new Date(k.createdAt),"MMM dd, yyyy")})}),i.jsx(Nr,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(ca,{children:[i.jsx(kc,{asChild:!0,children:i.jsx(re,{variant:"ghost",size:"sm",onClick:()=>l(k),"data-testid":`button-view-user-${k.id}`,title:"View User Details",children:i.jsx(zo,{className:"w-4 h-4"})})}),i.jsxs(Vi,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(vi,{children:[i.jsxs(ai,{children:["User Details: ",k.fullName]}),i.jsx(Xs,{children:"Complete user information and account status"})]}),i.jsx(V$e,{user:k})]})]}),i.jsxs(ca,{open:h&&(g==null?void 0:g.id)===k.id,onOpenChange:R=>{R||(m(!1),x(null))},children:[i.jsx(kc,{asChild:!0,children:i.jsx(re,{variant:"ghost",size:"sm",onClick:()=>{x(k),m(!0)},title:"View User Activity",children:i.jsx(Dl,{className:"w-4 h-4"})})}),i.jsxs(Vi,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(vi,{children:[i.jsxs(ai,{children:["User Activity: ",k.fullName]}),i.jsx(Xs,{children:"Last 48 hours of activity including logins, transactions, actions, and attempts"})]}),i.jsx(U$e,{userId:k.id})]})]}),O(k)?i.jsx(re,{variant:"ghost",size:"sm",onClick:()=>P.mutate(k.id),disabled:P.isPending,"data-testid":`button-unblock-user-${k.id}`,children:i.jsx(_U,{className:"w-4 h-4 text-green-600"})}):i.jsx(re,{variant:"ghost",size:"sm",onClick:()=>S.mutate(k.id),disabled:S.isPending,"data-testid":`button-block-user-${k.id}`,children:i.jsx(PU,{className:"w-4 h-4 text-red-600"})}),i.jsx(re,{variant:"ghost",size:"sm",onClick:()=>D(k),disabled:A.isPending,className:"text-red-600 hover:text-red-800 hover:bg-red-50","data-testid":`button-delete-user-${k.id}`,children:i.jsx(Fc,{className:"w-4 h-4"})})]})})]},k.id))})]}),y&&y.totalPages>1&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",y.page," of ",y.totalPages]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(re,{variant:"outline",size:"sm",onClick:()=>t(e-1),disabled:e<=1,"data-testid":"button-prev-page",children:"Previous"}),i.jsx(re,{variant:"outline",size:"sm",onClick:()=>t(e+1),disabled:e>=y.totalPages,"data-testid":"button-next-page",children:"Next"})]})]})]})})]}),i.jsx(ca,{open:c,onOpenChange:u,children:i.jsxs(Vi,{children:[i.jsxs(vi,{children:[i.jsxs(ai,{className:"flex items-center gap-2",children:[i.jsx(pj,{className:"w-5 h-5 text-red-600"}),"Delete User Account"]}),i.jsx(Xs,{children:"This action cannot be undone. This will permanently delete the user account and all associated data including:"})]}),d&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"User to be deleted:"}),i.jsxs("div",{className:"space-y-1 text-sm text-red-800",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Name:"})," ",d.fullName]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Email:"})," ",d.email]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Phone:"})," ",d.phone]})]})]}),i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:"The following data will be permanently deleted:"}),i.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[i.jsx("li",{children:" User profile and personal information"}),i.jsx("li",{children:" All transaction history"}),i.jsx("li",{children:" Virtual card information"}),i.jsx("li",{children:" KYC documents and verification status"}),i.jsx("li",{children:" Payment requests and recipients"}),i.jsx("li",{children:" Notifications and preferences"})]})]})]}),i.jsxs(Dj,{className:"gap-2",children:[i.jsx(re,{variant:"outline",onClick:()=>u(!1),disabled:A.isPending,children:"Cancel"}),i.jsx(re,{variant:"destructive",onClick:E,disabled:A.isPending,"data-testid":"confirm-delete-user",children:A.isPending?"Deleting...":"Delete User"})]})]})})]})}function V$e({user:e}){const[t,r]=N.useState(""),[n,a]=N.useState(""),[s,o]=N.useState("USD"),[l,c]=N.useState("add"),[u,d]=N.useState(""),[f,h]=N.useState(!1),{toast:m}=Ct(),g=en(),x=async P=>{const A=s==="USD"?t:n;if(!A||!u){m({title:"Error",description:"Please enter both amount and transaction details",variant:"destructive"});return}h(!0);try{(await He("PUT",`/api/admin/users/${P.id}/balance`,{amount:parseFloat(A),type:l,details:u,currency:s})).ok&&(m({title:"Balance Updated",description:`Successfully updated balance for ${P.fullName}`}),g.invalidateQueries({queryKey:["/api/admin/users"]}),r(""),a(""),d(""))}catch{m({title:"Error",description:"Failed to update user balance",variant:"destructive"})}finally{h(!1)}},v=async P=>{var A,C;h(!0);try{(await He("PUT",`/api/admin/users/${e.id}/virtual-card`,{action:P})).ok&&(m({title:"Card Updated",description:`Successfully ${{activate:"activated",freeze:"frozen",inactive:"permanently deactivated"}[P]||P}d virtual card for ${e.fullName}`}),g.invalidateQueries({queryKey:["/api/admin/users"]}))}catch(O){(await((C=(A=O.response)==null?void 0:A.json)==null?void 0:C.call(A))||{}).requiresPurchase?m({title:"Cannot Reactivate",description:"This card is inactive. User must purchase a new card to reactivate.",variant:"destructive"}):m({title:"Error",description:"Failed to update virtual card",variant:"destructive"})}finally{h(!1)}},p=async(P,A)=>{h(!0);try{(await He("PUT",`/api/admin/users/${P}/account`,{action:A})).ok&&(m({title:"Account Action Completed",description:{block:"Account suspended successfully",unblock:"Account activated successfully",force_logout:"User logged out successfully",reset_password:"Password reset email sent to user"}[A]||"Action completed successfully"}),g.invalidateQueries({queryKey:["/api/admin/users"]}))}catch{m({title:"Error",description:"Failed to perform account action",variant:"destructive"})}finally{h(!1)}},y=async(P,A)=>{h(!0);try{(await He("PUT",`/api/admin/users/${P}/security`,{action:A})).ok&&(m({title:"Security Action Completed",description:{reset_2fa:"Two-factor authentication reset successfully",verify_email:"Email marked as verified",verify_phone:"Phone number marked as verified"}[A]||"Security action completed successfully"}),g.invalidateQueries({queryKey:["/api/admin/users"]}))}catch{m({title:"Error",description:"Failed to perform security action",variant:"destructive"})}finally{h(!1)}},w=async(P,A)=>{h(!0);try{(await He("PUT",`/api/admin/users/${P}/notifications`,{action:A})).ok&&(m({title:"Notification Settings Updated",description:A.includes("enable")?"Notifications enabled for user":"Notifications disabled for user"}),g.invalidateQueries({queryKey:["/api/admin/users"]}))}catch{m({title:"Error",description:"Failed to update notification settings",variant:"destructive"})}finally{h(!1)}},j=async(P,A)=>{if(A==="view_activity"){m({title:"Feature Coming Soon",description:"User activity logs will be available in the next update"});return}if(A==="export_data"){h(!0);try{const C=await He("GET",`/api/admin/users/${P}/export`);if(C.ok){const O=await C.blob(),D=window.URL.createObjectURL(O),E=document.createElement("a");E.href=D,E.download=`user-data-${P}.json`,document.body.appendChild(E),E.click(),document.body.removeChild(E),window.URL.revokeObjectURL(D),m({title:"Data Exported",description:"User data has been exported and downloaded"})}}catch{m({title:"Error",description:"Failed to export user data",variant:"destructive"})}finally{h(!1)}}},S=async P=>{var O,D;const A=(O=document.getElementById("notification-title"))==null?void 0:O.value,C=(D=document.getElementById("notification-message"))==null?void 0:D.value;if(!A||!C){m({title:"Error",description:"Please enter both title and message",variant:"destructive"});return}h(!0);try{(await He("POST",`/api/admin/users/${P}/notification`,{title:A,message:C,type:"info"})).ok&&(m({title:"Notification Sent",description:"Custom notification sent to user successfully"}),document.getElementById("notification-title").value="",document.getElementById("notification-message").value="")}catch{m({title:"Error",description:"Failed to send notification",variant:"destructive"})}finally{h(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[i.jsx(Ys,{className:"w-4 h-4"}),"Personal Information"]}),i.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Full Name:"}),i.jsx("span",{className:"text-sm font-medium",children:e.fullName})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email:"}),i.jsx("span",{className:"text-sm font-medium break-all",children:e.email})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Phone:"}),i.jsx("span",{className:"text-sm font-medium",children:e.phone})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Country:"}),i.jsx("span",{className:"text-sm font-medium",children:e.country})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Member Since:"}),i.jsx("span",{className:"text-sm font-medium",children:Qr(new Date(e.createdAt),"MMM dd, yyyy")})]})]})]})}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[i.jsx(_a,{className:"w-4 h-4"}),"Account Status"]}),i.jsxs("div",{className:"space-y-3 bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email Status:"}),i.jsx(st,{variant:e.isEmailVerified?"default":"secondary",children:e.isEmailVerified?"Verified":"Unverified"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Phone Status:"}),i.jsx(st,{variant:e.isPhoneVerified?"default":"secondary",children:e.isPhoneVerified?"Verified":"Unverified"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"KYC Status:"}),i.jsx(st,{variant:e.kycStatus==="verified"?"default":e.kycStatus==="pending"?"secondary":"destructive",children:e.kycStatus})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Virtual Card:"}),i.jsx(st,{variant:e.hasVirtualCard?"default":"outline",children:e.hasVirtualCard?"Active":"None"})]})]})]})})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(Qn,{className:"w-4 h-4"}),"Balance Management"]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx(Ve,{children:"Current Balance"}),i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:["$",e.balance||"0.00"]}),i.jsxs("div",{className:"text-xl font-semibold text-gray-500",children:["KES ",e.kesBalance||"0.00"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"update-type",children:"Action"}),i.jsxs(Kr,{value:l,onValueChange:P=>c(P),children:[i.jsx(Br,{"data-testid":"select-balance-action",children:i.jsx(Gr,{placeholder:"Select action"})}),i.jsxs(Ur,{children:[i.jsx(nt,{value:"add",children:"Add"}),i.jsx(nt,{value:"subtract",children:"Subtract"}),i.jsx(nt,{value:"set",children:"Set"})]})]})]}),i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"currency-type",children:"Currency"}),i.jsxs(Kr,{value:s,onValueChange:P=>o(P),children:[i.jsx(Br,{"data-testid":"select-currency-type",children:i.jsx(Gr,{placeholder:"Currency"})}),i.jsxs(Ur,{children:[i.jsx(nt,{value:"USD",children:"USD ($)"}),i.jsx(nt,{value:"KES",children:"KES (KSh)"})]})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx(Ve,{htmlFor:"balance-amount",children:"Amount"}),i.jsx(Be,{id:"balance-amount",type:"number",step:"0.01",value:s==="USD"?t:n,onChange:P=>{s==="USD"?r(P.target.value):a(P.target.value)},placeholder:"0.00","data-testid":"input-balance-amount"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx(Ve,{htmlFor:"transaction-details",children:"Transaction Details"}),i.jsx(Be,{id:"transaction-details",type:"text",value:u,onChange:P=>d(P.target.value),placeholder:"Enter description for transaction history (e.g., Admin adjustment, Bonus payment, Refund)","data-testid":"input-transaction-details"})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(re,{onClick:()=>x(e),disabled:f||!t&&!n,className:"w-full","data-testid":"button-update-balance",children:f?"Updating...":"Update Balance"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"Virtual Card Management"}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ks,{className:"w-5 h-5 text-blue-600"}),i.jsx("span",{children:"Card Status: "}),e.hasVirtualCard?i.jsx(st,{variant:e.cardStatus==="active"?"default":e.cardStatus==="frozen"?"destructive":"secondary",children:e.cardStatus||"active"}):i.jsx(st,{variant:"outline",children:"No Card"})]})}),i.jsx("div",{className:"flex gap-2",children:e.hasVirtualCard?i.jsxs(i.Fragment,{children:[e.cardStatus==="inactive"?i.jsx("div",{className:"text-red-600 text-sm mb-2",children:"Card is inactive. User must purchase a new card to reactivate."}):null,i.jsx(re,{onClick:()=>v(e.cardStatus==="active"?"freeze":"activate"),disabled:f||e.cardStatus==="inactive",variant:e.cardStatus==="active"?"destructive":"default","data-testid":"button-toggle-card",children:e.cardStatus==="active"?"Freeze Card":"Activate Card"}),e.cardStatus!=="inactive"&&i.jsx(re,{onClick:()=>v("inactive"),disabled:f,variant:"destructive","data-testid":"button-set-card-inactive",children:"Set Inactive"})]}):i.jsxs(re,{onClick:()=>v("issue"),disabled:f,variant:"default","data-testid":"button-issue-card",children:[i.jsx(Ks,{className:"w-4 h-4 mr-2"}),"Issue Virtual Card"]})})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(Sl,{className:"w-4 h-4"}),"Account Management"]}),i.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[i.jsxs(re,{variant:"outline",size:"sm",onClick:()=>p(e.id,e.isBlocked?"unblock":"block"),disabled:f,"data-testid":"button-suspend-account",children:[e.isBlocked?i.jsx(ow,{className:"w-4 h-4 mr-2"}):i.jsx(wa,{className:"w-4 h-4 mr-2"}),e.isBlocked?"Unblock Account":"Suspend Account"]}),i.jsxs(re,{variant:"outline",size:"sm",onClick:()=>p(e.id,"force_logout"),disabled:f,"data-testid":"button-force-logout",children:[i.jsx(IC,{className:"w-4 h-4 mr-2"}),"Force Logout"]}),i.jsxs(re,{variant:"outline",size:"sm",onClick:()=>p(e.id,"reset_password"),disabled:f,"data-testid":"button-reset-password",children:[i.jsx(wU,{className:"w-4 h-4 mr-2"}),"Reset Password"]})]})})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(_a,{className:"w-4 h-4"}),"Security Actions"]}),i.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[i.jsxs(re,{variant:"outline",size:"sm",onClick:()=>y(e.id,"reset_2fa"),disabled:f,"data-testid":"button-reset-2fa",children:[i.jsx(_a,{className:"w-4 h-4 mr-2"}),"Reset 2FA"]}),i.jsxs(re,{variant:"outline",size:"sm",onClick:()=>y(e.id,"verify_email"),disabled:f,"data-testid":"button-verify-email",children:[i.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Verify Email"]}),i.jsxs(re,{variant:"outline",size:"sm",onClick:()=>y(e.id,"verify_phone"),disabled:f,"data-testid":"button-verify-phone",children:[i.jsx(mj,{className:"w-4 h-4 mr-2"}),"Verify Phone"]}),i.jsxs(re,{variant:"outline",size:"sm",onClick:()=>w(e.id,e.pushNotificationsEnabled?"disable_notifications":"enable_notifications"),disabled:f,"data-testid":"button-toggle-notifications",children:[e.pushNotificationsEnabled?i.jsx(Bne,{className:"w-4 h-4 mr-2"}):i.jsx(Bo,{className:"w-4 h-4 mr-2"}),e.pushNotificationsEnabled?"Disable Notifications":"Enable Notifications"]}),i.jsxs(re,{variant:"outline",size:"sm",onClick:()=>j(e.id,"view_activity"),disabled:f,"data-testid":"button-view-activity",children:[i.jsx(T0,{className:"w-4 h-4 mr-2"}),"View Activity"]}),i.jsxs(re,{variant:"outline",size:"sm",onClick:()=>j(e.id,"export_data"),disabled:f,"data-testid":"button-export-data",children:[i.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Export Data"]})]})})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(Bo,{className:"w-4 h-4"}),"Send Custom Notification"]}),i.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"notification-title",children:"Notification Title"}),i.jsx(Be,{id:"notification-title",type:"text",placeholder:"Enter notification title","data-testid":"input-notification-title"})]}),i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"notification-message",children:"Message"}),i.jsx(Be,{id:"notification-message",type:"text",placeholder:"Enter notification message","data-testid":"input-notification-message"})]}),i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"notification-type",children:"Type"}),i.jsxs(Kr,{children:[i.jsx(Br,{"data-testid":"select-notification-type",children:i.jsx(Gr,{placeholder:"Select notification type"})}),i.jsxs(Ur,{children:[i.jsx(nt,{value:"info",children:"Info"}),i.jsx(nt,{value:"success",children:"Success"}),i.jsx(nt,{value:"warning",children:"Warning"}),i.jsx(nt,{value:"security",children:"Security Alert"})]})]})]}),i.jsxs(re,{onClick:()=>S(e.id),disabled:f,className:"w-full","data-testid":"button-send-notification",children:[i.jsx(Bo,{className:"w-4 h-4 mr-2"}),"Send Notification"]})]})})]})]})}function q$e(){const[e,t]=N.useState(null),[r,n]=N.useState(""),[a,s]=N.useState(""),{toast:o}=Ct(),l=en(),{data:c,isLoading:u,error:d}=Kt({queryKey:["/api/admin/kyc"],queryFn:async()=>(await He("GET","/api/admin/kyc")).json()}),f=St({mutationFn:async({id:p,status:y,notes:w})=>(await He("PUT",`/api/admin/kyc/${p}`,{status:y,verificationNotes:w})).json(),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/admin/kyc"]}),l.invalidateQueries({queryKey:["/api/admin/dashboard"]}),o({title:"KYC Updated",description:"KYC document status has been updated successfully"}),t(null),n(""),s("")},onError:()=>{o({title:"Error",description:"Failed to update KYC document",variant:"destructive"})}}),h=p=>{switch(p){case"verified":return i.jsx(st,{variant:"default",className:"bg-green-500",children:"Verified"});case"rejected":return i.jsx(st,{variant:"destructive",children:"Rejected"});case"pending":return i.jsx(st,{variant:"secondary",children:"Pending Review"});default:return i.jsx(st,{variant:"outline",children:p})}},m=p=>{switch(p){case"national_id":return"National ID";case"passport":return"Passport";case"drivers_license":return"Driver's License";default:return p}},g=()=>{!e||!r||f.mutate({id:e.id,status:r,notes:a})};if(d)return i.jsx(Ce,{children:i.jsx(Ie,{className:"p-6",children:i.jsx("div",{className:"text-center text-red-600",children:"Failed to load KYC documents"})})});const x=(c==null?void 0:c.kycDocuments.filter(p=>p.status==="pending"))||[],v=(c==null?void 0:c.kycDocuments.filter(p=>p.status!=="pending"))||[];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Vy,{className:"w-5 h-5"}),"KYC Document Review"]}),i.jsx(kt,{children:"Review and approve user identity verification documents"})]}),i.jsx(Ie,{children:i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:x.length}),i.jsx("p",{className:"text-sm text-yellow-600",children:"Pending Review"})]}),i.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:v.filter(p=>p.status==="verified").length}),i.jsx("p",{className:"text-sm text-green-600",children:"Verified"})]}),i.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-red-600",children:v.filter(p=>p.status==="rejected").length}),i.jsx("p",{className:"text-sm text-red-600",children:"Rejected"})]})]})})]}),x.length>0&&i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2 text-yellow-600",children:[i.jsx(pj,{className:"w-5 h-5"}),"Pending Reviews (",x.length,")"]}),i.jsx(kt,{children:"Documents awaiting verification"})]}),i.jsx(Ie,{children:u?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"w-6 h-6 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})}):i.jsxs(Xp,{children:[i.jsx(Zp,{children:i.jsxs(Ro,{children:[i.jsx(jr,{children:"User ID"}),i.jsx(jr,{children:"Document Type"}),i.jsx(jr,{children:"Submitted"}),i.jsx(jr,{children:"Documents"}),i.jsx(jr,{children:"Status"}),i.jsx(jr,{children:"Actions"})]})}),i.jsx(Qp,{children:x.map(p=>i.jsxs(Ro,{children:[i.jsx(Nr,{children:i.jsxs("span",{className:"font-mono text-sm",children:[p.userId.slice(0,8),"..."]})}),i.jsx(Nr,{children:i.jsx("span",{className:"font-medium",children:m(p.documentType)})}),i.jsx(Nr,{children:i.jsx("span",{className:"text-sm",children:Qr(new Date(p.createdAt),"MMM dd, yyyy")})}),i.jsx(Nr,{children:i.jsxs("div",{className:"flex gap-1",children:[p.frontImageUrl&&i.jsx(st,{variant:"outline",className:"text-xs",children:"Front"}),p.backImageUrl&&i.jsx(st,{variant:"outline",className:"text-xs",children:"Back"}),p.selfieUrl&&i.jsx(st,{variant:"outline",className:"text-xs",children:"Selfie"})]})}),i.jsx(Nr,{children:h(p.status)}),i.jsx(Nr,{children:i.jsxs(ca,{children:[i.jsx(kc,{asChild:!0,children:i.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>t(p),"data-testid":`button-review-kyc-${p.id}`,children:[i.jsx(zo,{className:"w-4 h-4"}),"Review"]})}),i.jsxs(Vi,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(vi,{children:[i.jsx(ai,{children:"KYC Document Review"}),i.jsxs(Xs,{children:["Review identity verification documents for user ",p.userId.slice(0,8),"..."]})]}),e&&i.jsx(W$e,{kyc:e,onSubmit:g,reviewStatus:r,setReviewStatus:n,reviewNotes:a,setReviewNotes:s,isLoading:f.isPending})]})]})})]},p.id))})]})})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsx(Ze,{children:"All KYC Documents"}),i.jsx(kt,{children:"Complete history of KYC document submissions"})]}),i.jsx(Ie,{children:u?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"w-6 h-6 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})}):i.jsxs(Xp,{children:[i.jsx(Zp,{children:i.jsxs(Ro,{children:[i.jsx(jr,{children:"User ID"}),i.jsx(jr,{children:"Document Type"}),i.jsx(jr,{children:"Status"}),i.jsx(jr,{children:"Submitted"}),i.jsx(jr,{children:"Verified"}),i.jsx(jr,{children:"Actions"})]})}),i.jsx(Qp,{children:c==null?void 0:c.kycDocuments.map(p=>i.jsxs(Ro,{children:[i.jsx(Nr,{children:i.jsxs("span",{className:"font-mono text-sm",children:[p.userId.slice(0,8),"..."]})}),i.jsx(Nr,{children:i.jsx("span",{className:"font-medium",children:m(p.documentType)})}),i.jsx(Nr,{children:h(p.status)}),i.jsx(Nr,{children:i.jsx("span",{className:"text-sm",children:Qr(new Date(p.createdAt),"MMM dd, yyyy")})}),i.jsx(Nr,{children:i.jsx("span",{className:"text-sm",children:p.verifiedAt?Qr(new Date(p.verifiedAt),"MMM dd, yyyy"):"-"})}),i.jsx(Nr,{children:i.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>t(p),"data-testid":`button-view-kyc-${p.id}`,children:[i.jsx(zo,{className:"w-4 h-4"}),"View"]})})]},p.id))})]})})]})]})}function W$e({kyc:e,onSubmit:t,reviewStatus:r,setReviewStatus:n,reviewNotes:a,setReviewNotes:s,isLoading:o}){return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Document Information"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Vy,{className:"w-4 h-4"}),i.jsxs("span",{className:"text-sm",children:["Type: ",e.documentType]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Il,{className:"w-4 h-4"}),i.jsxs("span",{className:"text-sm",children:["DOB: ",e.dateOfBirth||"Not provided"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(jU,{className:"w-4 h-4"}),i.jsxs("span",{className:"text-sm",children:["Address: ",e.address||"Not provided"]})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Submission Details"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Rl,{className:"w-4 h-4"}),i.jsxs("span",{className:"text-sm",children:["User: ",e.userId?e.userId.slice(0,8)+"...":"N/A"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Il,{className:"w-4 h-4"}),i.jsxs("span",{className:"text-sm",children:["Submitted: ",Qr(new Date(e.createdAt),"MMM dd, yyyy HH:mm")]})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"Document Images"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.frontImageUrl&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium",children:"Front Image"}),i.jsxs("div",{className:"border rounded-lg overflow-hidden bg-gray-50 dark:bg-gray-800",children:[i.jsx("img",{src:e.frontImageUrl,alt:"Front of document",className:"w-full h-48 object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>window.open(e.frontImageUrl,"_blank"),"data-testid":"img-kyc-front"}),i.jsx("p",{className:"text-xs text-center p-2 text-gray-500",children:"Click to view full size"})]})]}),e.backImageUrl&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium",children:"Back Image"}),i.jsxs("div",{className:"border rounded-lg overflow-hidden bg-gray-50 dark:bg-gray-800",children:[i.jsx("img",{src:e.backImageUrl,alt:"Back of document",className:"w-full h-48 object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>window.open(e.backImageUrl,"_blank"),"data-testid":"img-kyc-back"}),i.jsx("p",{className:"text-xs text-center p-2 text-gray-500",children:"Click to view full size"})]})]}),e.selfieUrl&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium",children:"Selfie"}),i.jsxs("div",{className:"border rounded-lg overflow-hidden bg-gray-50 dark:bg-gray-800",children:[i.jsx("img",{src:e.selfieUrl,alt:"Verification selfie",className:"w-full h-48 object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>window.open(e.selfieUrl,"_blank"),"data-testid":"img-kyc-selfie"}),i.jsx("p",{className:"text-xs text-center p-2 text-gray-500",children:"Click to view full size"})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Review Decision"}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Status"}),i.jsxs(Kr,{value:r,onValueChange:n,children:[i.jsx(Br,{"data-testid":"select-kyc-status",children:i.jsx(Gr,{placeholder:"Select review decision"})}),i.jsxs(Ur,{children:[i.jsx(nt,{value:"verified",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Fr,{className:"w-4 h-4 text-green-600"}),"Approve & Verify"]})}),i.jsx(nt,{value:"rejected",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ua,{className:"w-4 h-4 text-red-600"}),"Reject"]})})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Review Notes"}),i.jsx(za,{placeholder:"Add notes about your review decision...",value:a,onChange:l=>s(l.target.value),className:"mt-1","data-testid":"textarea-kyc-notes"})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(re,{onClick:t,disabled:!r||o,className:"flex items-center gap-2","data-testid":"button-submit-kyc-review",children:[o?i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):i.jsx(Fr,{className:"w-4 h-4"}),"Submit Review"]})})]}),e.verificationNotes&&i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsx("h5",{className:"font-medium mb-2",children:"Previous Review Notes"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.verificationNotes})]})]})}function H$e(){const[e,t]=N.useState(1),[r,n]=N.useState(""),[a,s]=N.useState(""),[o,l]=N.useState(null),{toast:c}=Ct(),u=en(),{data:d,isLoading:f,error:h}=Kt({queryKey:["/api/admin/transactions",{page:e,status:r,search:a}],queryFn:async()=>{const y=new URLSearchParams({page:e.toString(),limit:"20",...r&&r!=="all"&&{status:r},...a&&{search:a}});return(await He("GET",`/api/admin/transactions?${y}`)).json()}}),m=St({mutationFn:async({id:y,updates:w})=>(await He("PUT",`/api/admin/transactions/${y}`,w)).json(),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/admin/transactions"]}),u.invalidateQueries({queryKey:["/api/admin/dashboard"]}),c({title:"Transaction Updated",description:"Transaction status has been updated successfully"}),l(null)},onError:()=>{c({title:"Error",description:"Failed to update transaction",variant:"destructive"})}}),g=y=>{switch(y){case"completed":return i.jsx(st,{variant:"default",className:"bg-green-500",children:"Completed"});case"pending":return i.jsx(st,{variant:"secondary",children:"Pending"});case"failed":return i.jsx(st,{variant:"destructive",children:"Failed"});case"cancelled":return i.jsx(st,{variant:"outline",children:"Cancelled"});default:return i.jsx(st,{variant:"outline",children:y})}},x=y=>{switch(y){case"send":return i.jsx(st,{variant:"outline",className:"text-red-600",children:"Send"});case"receive":return i.jsx(st,{variant:"outline",className:"text-green-600",children:"Receive"});case"deposit":return i.jsx(st,{variant:"outline",className:"text-blue-600",children:"Deposit"});case"withdrawal":return i.jsx(st,{variant:"outline",className:"text-orange-600",children:"Withdrawal"});default:return i.jsx(st,{variant:"outline",children:y})}},v=(y,w)=>{const j=parseFloat(y);return new Intl.NumberFormat("en-US",{style:"currency",currency:w||"USD"}).format(j)},p=y=>{o&&m.mutate({id:o.id,updates:{status:y}})};return h?i.jsx(Ce,{children:i.jsx(Ie,{className:"p-6",children:i.jsx("div",{className:"text-center text-red-600",children:"Failed to load transactions data"})})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Rne,{className:"w-5 h-5"}),"Transaction Management"]}),i.jsx(kt,{children:"Monitor and manage all platform transactions"})]}),i.jsx(Ie,{children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(ng,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(Be,{placeholder:"Search by transaction ID, user ID, or amount...",value:a,onChange:y=>s(y.target.value),className:"pl-10","data-testid":"input-transaction-search"})]})}),i.jsxs(Kr,{value:r,onValueChange:n,children:[i.jsxs(Br,{className:"w-full md:w-48","data-testid":"select-transaction-status",children:[i.jsx(fj,{className:"w-4 h-4 mr-2"}),i.jsx(Gr,{placeholder:"Filter by status"})]}),i.jsxs(Ur,{children:[i.jsx(nt,{value:"all",children:"All Transactions"}),i.jsx(nt,{value:"pending",children:"Pending"}),i.jsx(nt,{value:"completed",children:"Completed"}),i.jsx(nt,{value:"failed",children:"Failed"}),i.jsx(nt,{value:"cancelled",children:"Cancelled"})]})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(Ce,{children:i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qn,{className:"w-4 h-4 text-green-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Total Volume"}),i.jsxs("p",{className:"text-lg font-bold",children:["$",(d==null?void 0:d.transactions.reduce((y,w)=>y+parseFloat(w.amount),0).toFixed(2))||"0.00"]})]})]})})}),i.jsx(Ce,{children:i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Fr,{className:"w-4 h-4 text-green-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Completed"}),i.jsx("p",{className:"text-lg font-bold",children:(d==null?void 0:d.transactions.filter(y=>y.status==="completed").length)||0})]})]})})}),i.jsx(Ce,{children:i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Dl,{className:"w-4 h-4 text-yellow-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),i.jsx("p",{className:"text-lg font-bold",children:(d==null?void 0:d.transactions.filter(y=>y.status==="pending").length)||0})]})]})})}),i.jsx(Ce,{children:i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ua,{className:"w-4 h-4 text-red-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Failed"}),i.jsx("p",{className:"text-lg font-bold",children:(d==null?void 0:d.transactions.filter(y=>y.status==="failed").length)||0})]})]})})})]}),i.jsxs(Ce,{children:[i.jsx(Ge,{children:i.jsxs(Ze,{children:["Transactions (",(d==null?void 0:d.total)||0,")"]})}),i.jsx(Ie,{children:f?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"w-6 h-6 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs(Xp,{children:[i.jsx(Zp,{children:i.jsxs(Ro,{children:[i.jsx(jr,{children:"Transaction ID"}),i.jsx(jr,{children:"Type"}),i.jsx(jr,{children:"Amount"}),i.jsx(jr,{children:"Status"}),i.jsx(jr,{children:"Users"}),i.jsx(jr,{children:"Date"}),i.jsx(jr,{children:"Actions"})]})}),i.jsx(Qp,{children:d==null?void 0:d.transactions.map(y=>i.jsxs(Ro,{children:[i.jsx(Nr,{children:i.jsx("span",{className:"font-mono text-sm","data-testid":`text-transaction-id-${y.id}`,children:y.id?y.id.slice(0,8)+"...":"N/A"})}),i.jsx(Nr,{children:x(y.type)}),i.jsx(Nr,{children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:v(y.amount,y.currency)}),y.targetCurrency!==y.currency&&i.jsxs("p",{className:"text-sm text-gray-500",children:[" ",v((parseFloat(y.amount)*parseFloat(y.exchangeRate)).toString(),y.targetCurrency)]})]})}),i.jsx(Nr,{children:g(y.status)}),i.jsx(Nr,{children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-sm",children:["From: ",y.senderId?y.senderId.slice(0,8)+"...":"N/A"]}),i.jsxs("p",{className:"text-sm",children:["To: ",y.recipientId?y.recipientId.slice(0,8)+"...":"N/A"]})]})}),i.jsx(Nr,{children:i.jsx("span",{className:"text-sm",children:Qr(new Date(y.createdAt),"MMM dd, yyyy HH:mm")})}),i.jsx(Nr,{children:i.jsxs(ca,{children:[i.jsx(kc,{asChild:!0,children:i.jsx(re,{variant:"ghost",size:"sm",onClick:()=>l(y),"data-testid":`button-view-transaction-${y.id}`,children:i.jsx(zo,{className:"w-4 h-4"})})}),i.jsxs(Vi,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(vi,{children:[i.jsx(ai,{children:"Transaction Details"}),i.jsx(Xs,{children:"Complete transaction information and controls"})]}),o&&i.jsx(K$e,{transaction:o,onStatusUpdate:p,isLoading:m.isPending})]})]})})]},y.id))})]}),d&&d.totalPages>1&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",d.page," of ",d.totalPages]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(re,{variant:"outline",size:"sm",onClick:()=>t(e-1),disabled:e<=1,"data-testid":"button-prev-page",children:"Previous"}),i.jsx(re,{variant:"outline",size:"sm",onClick:()=>t(e+1),disabled:e>=d.totalPages,"data-testid":"button-next-page",children:"Next"})]})]})]})})]})]})}function K$e({transaction:e,onStatusUpdate:t,isLoading:r}){const[n,a]=N.useState(!1),[s,o]=N.useState(e.createdAt),{toast:l}=Ct(),c=en(),u=St({mutationFn:async m=>(await He("PUT",`/api/admin/transactions/${e.id}/date`,{createdAt:m})).json(),onSuccess:()=>{l({title:"Success",description:"Transaction date updated successfully"}),c.invalidateQueries({queryKey:["/api/admin/transactions"]}),a(!1)},onError:()=>{l({title:"Error",description:"Failed to update transaction date",variant:"destructive"})}}),d=(m,g)=>{const x=parseFloat(m);return new Intl.NumberFormat("en-US",{style:"currency",currency:g||"USD"}).format(x)},f=()=>{u.mutate(s)},h=()=>{o(e.createdAt),a(!1)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Transaction Details"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"ID:"}),i.jsx("p",{className:"text-sm font-mono",children:e.id})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Type:"}),i.jsx("p",{className:"text-sm font-medium",children:e.type})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Payment Method:"}),i.jsx("p",{className:"text-sm font-medium",children:e.paymentMethod})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Description:"}),i.jsx("p",{className:"text-sm",children:e.description||"No description"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Amount & Currency"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Amount:"}),i.jsx("p",{className:"text-sm font-medium",children:d(e.amount,e.currency)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Fee:"}),i.jsx("p",{className:"text-sm font-medium",children:d(e.fee,e.currency)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Exchange Rate:"}),i.jsx("p",{className:"text-sm font-medium",children:e.exchangeRate})]}),e.targetCurrency!==e.currency&&i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Target Amount:"}),i.jsx("p",{className:"text-sm font-medium",children:d((parseFloat(e.amount)*parseFloat(e.exchangeRate)).toString(),e.targetCurrency)})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Sender"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Rl,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-mono",children:e.senderId})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Recipient"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Rl,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-mono",children:e.recipientId})]})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Timeline"}),!n&&i.jsxs(re,{size:"sm",variant:"outline",onClick:()=>a(!0),"data-testid":"button-edit-date",children:[i.jsx(XP,{className:"w-4 h-4 mr-2"}),"Edit Date"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ve,{className:"text-sm text-gray-500",children:"Created Date & Time:"}),n?i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(Be,{type:"datetime-local",value:new Date(s).toISOString().slice(0,16),onChange:m=>o(new Date(m.target.value).toISOString()),className:"flex-1","data-testid":"input-edit-date"}),i.jsx(re,{size:"sm",onClick:f,disabled:u.isPending,"data-testid":"button-save-date",children:i.jsx(zs,{className:"w-4 h-4"})}),i.jsx(re,{size:"sm",variant:"outline",onClick:h,disabled:u.isPending,"data-testid":"button-cancel-date",children:i.jsx(Fl,{className:"w-4 h-4"})})]}):i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(Il,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:Qr(new Date(e.createdAt),"MMM dd, yyyy HH:mm:ss")})]})]}),e.updatedAt&&i.jsxs("div",{children:[i.jsx(Ve,{className:"text-sm text-gray-500",children:"Last Updated:"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(Il,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:Qr(new Date(e.updatedAt),"MMM dd, yyyy HH:mm:ss")})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Status Management"}),i.jsxs("div",{className:"flex gap-2",children:[e.status==="pending"&&i.jsxs(i.Fragment,{children:[i.jsxs(re,{size:"sm",onClick:()=>t("completed"),disabled:r,"data-testid":"button-approve-transaction",className:"bg-green-600 hover:bg-green-700",children:[i.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Approve"]}),i.jsxs(re,{size:"sm",variant:"destructive",onClick:()=>t("failed"),disabled:r,"data-testid":"button-reject-transaction",children:[i.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Reject"]})]}),e.status==="failed"&&i.jsxs(re,{size:"sm",onClick:()=>t("pending"),disabled:r,"data-testid":"button-retry-transaction",children:[i.jsx(Dl,{className:"w-4 h-4 mr-2"}),"Mark as Pending"]}),i.jsxs(re,{size:"sm",variant:"outline",onClick:()=>t("cancelled"),disabled:r||e.status==="completed","data-testid":"button-cancel-transaction",children:[i.jsx(Wne,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})}function G$e(){var p;const[e,t]=N.useState(""),[r,n]=N.useState(null),{toast:a}=Ct(),s=en(),{data:o,isLoading:l,error:c}=Kt({queryKey:["/api/admin/virtual-cards",{search:e}],queryFn:async()=>{const y=new URLSearchParams({...e&&{search:e}});return(await He("GET",`/api/admin/virtual-cards?${y}`)).json()}}),u=(o==null?void 0:o.cards)||[],d=St({mutationFn:async({id:y,updates:w})=>(await He("PUT",`/api/admin/virtual-cards/${y}`,w)).json(),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/admin/virtual-cards"]}),a({title:"Card Updated",description:"Virtual card has been updated successfully"}),n(null)},onError:()=>{a({title:"Error",description:"Failed to update virtual card",variant:"destructive"})}}),f=y=>{switch(y){case"active":return i.jsx(st,{variant:"default",className:"bg-green-500",children:"Active"});case"frozen":return i.jsx(st,{variant:"destructive",children:"Frozen"});case"expired":return i.jsx(st,{variant:"secondary",children:"Expired"});default:return i.jsx(st,{variant:"outline",children:"Unknown"})}},h=y=>{if(y.status==="expired"){a({title:"Cannot Modify Expired Card",description:"Expired cards cannot be reactivated. The user must purchase a new card.",variant:"destructive"});return}const w=y.status==="active"?"frozen":"active";d.mutate({id:y.id,updates:{status:w}})},m=y=>`****-****-****-${y.slice(-4)}`;if(c)return i.jsx(Ce,{children:i.jsx(Ie,{className:"p-6",children:i.jsx("div",{className:"text-center text-red-600",children:"Failed to load virtual cards data"})})});const g=u.filter(y=>y.status==="active").length||0,x=u.filter(y=>y.status==="frozen").length||0,v=((p=o==null?void 0:o.virtualCards)==null?void 0:p.reduce((y,w)=>y+parseFloat(w.balance),0))||0;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Ks,{className:"w-5 h-5"}),"Virtual Card Management"]}),i.jsx(kt,{children:"Monitor and manage virtual cards across the platform"})]}),i.jsx(Ie,{children:i.jsxs("div",{className:"relative",children:[i.jsx(ng,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(Be,{placeholder:"Search by card number, user ID, or cardholder name...",value:e,onChange:y=>t(y.target.value),className:"pl-10","data-testid":"input-card-search"})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(Ce,{children:i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ks,{className:"w-4 h-4 text-blue-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Total Cards"}),i.jsx("p",{className:"text-lg font-bold",children:u.length||0})]})]})})}),i.jsx(Ce,{children:i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ow,{className:"w-4 h-4 text-green-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Active Cards"}),i.jsx("p",{className:"text-lg font-bold",children:g})]})]})})}),i.jsx(Ce,{children:i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wa,{className:"w-4 h-4 text-red-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Frozen Cards"}),i.jsx("p",{className:"text-lg font-bold",children:x})]})]})})}),i.jsx(Ce,{children:i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qn,{className:"w-4 h-4 text-green-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Total Balance"}),i.jsxs("p",{className:"text-lg font-bold",children:["$",v.toFixed(2)]})]})]})})})]}),i.jsxs(Ce,{children:[i.jsx(Ge,{children:i.jsxs(Ze,{children:["Virtual Cards (",u.length||0,")"]})}),i.jsx(Ie,{children:l?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"w-6 h-6 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})}):i.jsxs(Xp,{children:[i.jsx(Zp,{children:i.jsxs(Ro,{children:[i.jsx(jr,{children:"Card Details"}),i.jsx(jr,{children:"Cardholder"}),i.jsx(jr,{children:"Status"}),i.jsx(jr,{children:"Balance"}),i.jsx(jr,{children:"Purchase Date"}),i.jsx(jr,{children:"Last Used"}),i.jsx(jr,{children:"Actions"})]})}),i.jsx(Qp,{children:u.map(y=>i.jsxs(Ro,{children:[i.jsx(Nr,{children:i.jsxs("div",{children:[i.jsx("p",{className:"font-mono font-medium","data-testid":`text-card-number-${y.id}`,children:m(y.cardNumber)}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Expires: ",Qr(new Date(y.expiryDate),"MM/yy")]})]})}),i.jsx(Nr,{children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:y.cardHolderName}),i.jsxs("p",{className:"text-sm text-gray-500",children:[y.userId.slice(0,8),"..."]})]})}),i.jsx(Nr,{children:f(y.status)}),i.jsx(Nr,{children:i.jsxs("span",{className:"font-mono",children:["$",parseFloat(y.balance).toFixed(2)," ",y.currency]})}),i.jsx(Nr,{children:i.jsx("span",{className:"text-sm",children:Qr(new Date(y.purchaseDate),"MMM dd, yyyy")})}),i.jsx(Nr,{children:i.jsx("span",{className:"text-sm",children:y.lastUsed?Qr(new Date(y.lastUsed),"MMM dd, yyyy"):"Never"})}),i.jsx(Nr,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(ca,{children:[i.jsx(kc,{asChild:!0,children:i.jsx(re,{variant:"ghost",size:"sm",onClick:()=>n(y),"data-testid":`button-view-card-${y.id}`,children:i.jsx(zo,{className:"w-4 h-4"})})}),i.jsxs(Vi,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(vi,{children:[i.jsx(ai,{children:"Virtual Card Details"}),i.jsx(Xs,{children:"Complete card information and controls"})]}),r&&i.jsx(Y$e,{card:r,onToggleStatus:()=>h(r),isLoading:d.isPending})]})]}),i.jsx(re,{variant:"ghost",size:"sm",onClick:()=>h(y),disabled:d.isPending,"data-testid":`button-toggle-card-${y.id}`,children:y.status==="active"?i.jsx(wa,{className:"w-4 h-4 text-red-600"}):i.jsx(ow,{className:"w-4 h-4 text-green-600"})})]})})]},y.id))})]})})]})]})}function Y$e({card:e,onToggleStatus:t,isLoading:r}){const n=a=>{switch(a){case"active":return i.jsx(st,{variant:"default",className:"bg-green-500",children:"Active"});case"frozen":return i.jsx(st,{variant:"destructive",children:"Frozen"});case"expired":return i.jsx(st,{variant:"secondary",children:"Expired"});default:return i.jsx(st,{variant:"outline",children:"Unknown"})}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Card Information"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Card Number:"}),i.jsx("p",{className:"text-sm font-mono",children:e.cardNumber})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"CVV:"}),i.jsx("p",{className:"text-sm font-mono",children:e.cvv})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Expiry Date:"}),i.jsx("p",{className:"text-sm font-medium",children:Qr(new Date(e.expiryDate),"MMM yyyy")})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Cardholder Name:"}),i.jsx("p",{className:"text-sm font-medium",children:e.cardHolderName})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Account Details"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"User ID:"}),i.jsx("p",{className:"text-sm font-mono",children:e.userId})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Balance:"}),i.jsxs("p",{className:"text-sm font-medium",children:["$",parseFloat(e.balance).toFixed(2)," ",e.currency]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Status:"}),n(e.status)]})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Usage Information"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Il,{className:"w-4 h-4"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Purchase Date:"}),i.jsx("p",{className:"text-sm",children:Qr(new Date(e.purchaseDate),"MMM dd, yyyy HH:mm")})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Il,{className:"w-4 h-4"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Last Used:"}),i.jsx("p",{className:"text-sm",children:e.lastUsed?Qr(new Date(e.lastUsed),"MMM dd, yyyy HH:mm"):"Never used"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Card Actions"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(re,{onClick:t,disabled:r||e.status==="expired",variant:e.status==="active"?"destructive":"default","data-testid":"button-toggle-card-status",children:[r?i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):e.status==="active"?i.jsx(wa,{className:"w-4 h-4 mr-2"}):i.jsx(ow,{className:"w-4 h-4 mr-2"}),e.status==="expired"?"Cannot Reactivate":e.status==="active"?"Freeze Card":"Activate Card"]}),i.jsxs(re,{variant:"outline",size:"sm",children:[i.jsx(Rl,{className:"w-4 h-4 mr-2"}),"View User Profile"]})]})]})]})}var k_="rovingFocusGroup.onEntryFocus",X$e={bubbles:!1,cancelable:!0},EN="RovingFocusGroup",[Ak,oZ,Z$e]=lj(EN),[Q$e,lZ]=js(EN,[Z$e]),[J$e,e9e]=Q$e(EN),cZ=N.forwardRef((e,t)=>i.jsx(Ak.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Ak.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(t9e,{...e,ref:t})})}));cZ.displayName=EN;var t9e=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=N.useRef(null),m=br(t,h),g=Qy(s),[x=null,v]=Ll({prop:o,defaultProp:l,onChange:c}),[p,y]=N.useState(!1),w=Xn(u),j=oZ(r),S=N.useRef(!1),[P,A]=N.useState(0);return N.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(k_,w),()=>C.removeEventListener(k_,w)},[w]),i.jsx(J$e,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:x,onItemFocus:N.useCallback(C=>v(C),[v]),onItemShiftTab:N.useCallback(()=>y(!0),[]),onFocusableItemAdd:N.useCallback(()=>A(C=>C+1),[]),onFocusableItemRemove:N.useCallback(()=>A(C=>C-1),[]),children:i.jsx(Tt.div,{tabIndex:p||P===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:jt(e.onMouseDown,()=>{S.current=!0}),onFocus:jt(e.onFocus,C=>{const O=!S.current;if(C.target===C.currentTarget&&O&&!p){const D=new CustomEvent(k_,X$e);if(C.currentTarget.dispatchEvent(D),!D.defaultPrevented){const E=j().filter(F=>F.focusable),k=E.find(F=>F.active),R=E.find(F=>F.id===x),H=[k,R,...E].filter(Boolean).map(F=>F.ref.current);fZ(H,d)}}S.current=!1}),onBlur:jt(e.onBlur,()=>y(!1))})})}),uZ="RovingFocusGroupItem",dZ=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,...o}=e,l=_l(),c=s||l,u=e9e(uZ,r),d=u.currentTabStopId===c,f=oZ(r),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return N.useEffect(()=>{if(n)return h(),()=>m()},[n,h,m]),i.jsx(Ak.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:i.jsx(Tt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:jt(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:jt(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:jt(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const x=i9e(g,u.orientation,u.dir);if(x!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let p=f().filter(y=>y.focusable).map(y=>y.ref.current);if(x==="last")p.reverse();else if(x==="prev"||x==="next"){x==="prev"&&p.reverse();const y=p.indexOf(g.currentTarget);p=u.loop?a9e(p,y+1):p.slice(y+1)}setTimeout(()=>fZ(p))}})})})});dZ.displayName=uZ;var r9e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function n9e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function i9e(e,t,r){const n=n9e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return r9e[n]}function fZ(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function a9e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var s9e=cZ,o9e=dZ,dE="Tabs",[l9e,IBe]=js(dE,[lZ]),hZ=lZ(),[c9e,fE]=l9e(dE),mZ=N.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Qy(l),[f,h]=Ll({prop:n,onChange:a,defaultProp:s});return i.jsx(c9e,{scope:r,baseId:_l(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(Tt.div,{dir:d,"data-orientation":o,...u,ref:t})})});mZ.displayName=dE;var pZ="TabsList",gZ=N.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=fE(pZ,r),o=hZ(r);return i.jsx(s9e,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:i.jsx(Tt.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});gZ.displayName=pZ;var xZ="TabsTrigger",yZ=N.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,o=fE(xZ,r),l=hZ(r),c=wZ(o.baseId,n),u=jZ(o.baseId,n),d=n===o.value;return i.jsx(o9e,{asChild:!0,...l,focusable:!a,active:d,children:i.jsx(Tt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:jt(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:jt(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:jt(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});yZ.displayName=xZ;var vZ="TabsContent",bZ=N.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...o}=e,l=fE(vZ,r),c=wZ(l.baseId,n),u=jZ(l.baseId,n),d=n===l.value,f=N.useRef(d);return N.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(ao,{present:a||d,children:({present:h})=>i.jsx(Tt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});bZ.displayName=vZ;function wZ(e,t){return`${e}-trigger-${t}`}function jZ(e,t){return`${e}-content-${t}`}var u9e=mZ,NZ=gZ,SZ=yZ,_Z=bZ;const hE=u9e,ON=N.forwardRef(({className:e,...t},r)=>i.jsx(NZ,{ref:r,className:_t("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ON.displayName=NZ.displayName;const gl=N.forwardRef(({className:e,...t},r)=>i.jsx(SZ,{ref:r,className:_t("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));gl.displayName=SZ.displayName;const xl=N.forwardRef(({className:e,...t},r)=>i.jsx(_Z,{ref:r,className:_t("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));xl.displayName=_Z.displayName;const d9e={fees:{transfer_fee:"2.50",exchange_rate_margin:"0.05",virtual_card_fee:"5.00",withdrawal_fee:"1.00"},security:{two_factor_required:!0,kyc_auto_approval:!1,kyc_required:!1,pin_required:!1,enable_otp_feature:!0,otp_email_enabled:!0,otp_sms_enabled:!0,otp_whatsapp_enabled:!0,max_daily_limit:"10000",min_transaction_amount:"1.00"},notifications:{email_notifications:!0,sms_notifications:!0,push_notifications:!0,admin_alerts:!0},general:{platform_name:"GreenPay",support_email:"support@greenpay.com",default_currency:"USD",session_timeout:"30",terms_url:"https://greenpay.com/terms",maintenance_message:"",maintenance_mode:!1,api_rate_limit:"1000",max_upload_size:"10"},whatsapp:{phone_number_id:"",business_account_id:"",access_token:"",is_active:!1}},C_="greenpay_admin_settings";function f9e(){const[e,t]=N.useState(d9e),[r,n]=N.useState(!1);N.useEffect(()=>{const d=localStorage.getItem(C_);if(d)try{t(JSON.parse(d))}catch(h){console.error("Failed to parse admin settings",h)}n(!0);const f=h=>{if(h.key===C_&&h.newValue)try{t(JSON.parse(h.newValue))}catch(m){console.error("Failed to parse storage change",m)}};return window.addEventListener("storage",f),()=>window.removeEventListener("storage",f)},[]);const a=N.useCallback(d=>{t(d),localStorage.setItem(C_,JSON.stringify(d)),window.dispatchEvent(new CustomEvent("admin-settings-updated",{detail:d}))},[]),s=N.useCallback(d=>{t(f=>({...f,fees:{...f.fees,...d}}))},[]),o=N.useCallback(d=>{t(f=>({...f,security:{...f.security,...d}}))},[]),l=N.useCallback(d=>{t(f=>({...f,notifications:{...f.notifications,...d}}))},[]),c=N.useCallback(d=>{t(f=>({...f,general:{...f.general,...d}}))},[]),u=N.useCallback(d=>{t(f=>({...f,whatsapp:{...f.whatsapp,...d}}))},[]);return{settings:e,saveSettings:a,updateFees:s,updateSecurity:o,updateNotifications:l,updateGeneral:c,updateWhatsApp:u,isLoaded:r}}function h9e(){const{settings:e,saveSettings:t,updateFees:r,updateSecurity:n,updateNotifications:a,updateGeneral:s,updateWhatsApp:o,isLoaded:l}=f9e(),[c,u]=N.useState(e.fees),[d,f]=N.useState(e.security),[h,m]=N.useState(e.notifications),[g,x]=N.useState(e.whatsapp),[v,p]=N.useState(e.general),{toast:y}=Ct(),w=en();N.useEffect(()=>{l&&(u(e.fees),f({...e.security,enable_otp_feature:e.security.enable_otp_feature!==void 0?e.security.enable_otp_feature:!0}),m(e.notifications),x(e.whatsapp),p({...e.general,welcome_bonus_amount:e.general.welcome_bonus_amount||"5.00",dashboard_announcement:e.general.dashboard_announcement||"",show_announcement:e.general.show_announcement!==void 0?e.general.show_announcement:!1}))},[e,l]);const{data:j,isLoading:S}=Kt({queryKey:["/api/admin/settings"],queryFn:async()=>(await He("GET","/api/admin/settings")).json()}),P=St({mutationFn:async({key:k,value:R})=>(await He("PUT",`/api/admin/settings/${k}`,{value:R})).json(),onSuccess:()=>{w.invalidateQueries({queryKey:["/api/admin/settings"]}),y({title:"Settings Updated",description:"System settings have been saved successfully"})},onError:()=>{y({title:"Error",description:"Failed to update settings",variant:"destructive"})}}),A=()=>{r(c),t({...e,fees:c}),Object.entries(c).forEach(([k,R])=>{P.mutate({key:k,value:R})})},C=async()=>{n(d),t({...e,security:d}),Object.entries(d).forEach(([k,R])=>{let L=k,H=R.toString();k==="enable_otp_feature"?(L="enable_otp_messages",H=R?"true":"false"):k==="otp_email_enabled"?(L="otp_email_enabled",H=R?"true":"false"):k==="otp_sms_enabled"?(L="otp_sms_enabled",H=R?"true":"false"):k==="otp_whatsapp_enabled"&&(L="otp_whatsapp_enabled",H=R?"true":"false"),P.mutate({key:L,value:H})})},O=()=>{a(h),t({...e,notifications:h}),Object.entries(h).forEach(([k,R])=>{P.mutate({key:k,value:R.toString()})})},D=()=>{s(v),t({...e,general:v}),Object.entries(v).forEach(([k,R])=>{P.mutate({key:k,value:R.toString()})})},E=async()=>{if(!g.phone_number_id||!g.business_account_id||!g.access_token){y({title:"Error",description:"Please fill in all WhatsApp configuration fields",variant:"destructive"});return}o(g),t({...e,whatsapp:g});try{(await He("POST","/api/admin/whatsapp/config",{phoneNumberId:g.phone_number_id,businessAccountId:g.business_account_id,accessToken:g.access_token,isActive:g.is_active})).ok?(y({title:"Success",description:"WhatsApp configuration saved successfully"}),w.invalidateQueries({queryKey:["/api/admin/whatsapp/config"]})):y({title:"Error",description:"Failed to save WhatsApp configuration",variant:"destructive"})}catch{y({title:"Error",description:"An error occurred while saving WhatsApp configuration",variant:"destructive"})}};return S?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"w-6 h-6 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx(Ce,{children:i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Sl,{className:"w-5 h-5"}),"System Settings"]}),i.jsx(kt,{children:"Configure platform settings, fees, and system behavior"})]})}),i.jsxs(hE,{defaultValue:"fees",className:"space-y-4",children:[i.jsx(Pa,{className:"w-full whitespace-nowrap rounded-lg border",children:i.jsxs(ON,{className:"inline-flex h-10 w-full justify-start rounded-none bg-transparent p-1",children:[i.jsx(gl,{value:"fees",className:"rounded-md px-3",children:"Fees & Pricing"}),i.jsx(gl,{value:"security",className:"rounded-md px-3",children:"Security"}),i.jsx(gl,{value:"notifications",className:"rounded-md px-3",children:"Notifications"}),i.jsx(gl,{value:"whatsapp",className:"rounded-md px-3",children:"WhatsApp"}),i.jsx(gl,{value:"general",className:"rounded-md px-3",children:"General"})]})}),i.jsx(xl,{value:"whatsapp",children:i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(qy,{className:"w-5 h-5"}),"WhatsApp Configuration"]}),i.jsx(kt,{children:"Configure Meta WhatsApp Business API credentials for admin messaging"})]}),i.jsxs(Ie,{className:"space-y-6",children:[i.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Webhook Information"}),i.jsxs("div",{className:"text-xs space-y-1",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"URL:"})," ",i.jsx("code",{className:"bg-white p-1 rounded border",children:"https://<your-domain>/api/whatsapp/webhook"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Verify Token:"})," ",i.jsx("code",{className:"bg-white p-1 rounded border",children:"greenpay_verify_token_2024"})]}),i.jsx("p",{className:"text-blue-800 mt-2",children:"Enter these in your Meta App Dashboard webhook settings"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"phone_number_id",children:"Phone Number ID"}),i.jsx(Be,{id:"phone_number_id",placeholder:"Your WhatsApp phone number ID from Meta",value:g.phone_number_id,onChange:k=>x({...g,phone_number_id:k.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"business_account_id",children:"Business Account ID"}),i.jsx(Be,{id:"business_account_id",placeholder:"Your WhatsApp Business Account ID",value:g.business_account_id,onChange:k=>x({...g,business_account_id:k.target.value})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"access_token",children:"Access Token"}),i.jsx(Be,{id:"access_token",type:"password",placeholder:"Your Meta access token with whatsapp_business_messaging permission",value:g.access_token,onChange:k=>x({...g,access_token:k.target.value})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"whatsapp_active",checked:g.is_active,onChange:k=>x({...g,is_active:k.target.checked}),className:"w-4 h-4"}),i.jsx(Ve,{htmlFor:"whatsapp_active",children:"Enable WhatsApp Messaging"})]}),i.jsxs(re,{className:"w-full",onClick:E,children:[i.jsx(zs,{className:"w-4 h-4 mr-2"}),"Save WhatsApp Configuration"]})]})]})}),i.jsx(xl,{value:"fees",children:i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Qn,{className:"w-5 h-5"}),"Fees & Pricing Configuration"]}),i.jsx(kt,{children:"Set transaction fees and pricing for different services"})]}),i.jsxs(Ie,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"transfer_fee",children:"Transfer Fee ($)"}),i.jsx(Be,{id:"transfer_fee",type:"number",step:"0.01",value:c.transfer_fee,onChange:k=>u({...c,transfer_fee:k.target.value}),"data-testid":"input-transfer-fee"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"exchange_rate_margin",children:"Exchange Rate Margin (%)"}),i.jsx(Be,{id:"exchange_rate_margin",type:"number",step:"0.01",value:c.exchange_rate_margin,onChange:k=>u({...c,exchange_rate_margin:k.target.value}),"data-testid":"input-exchange-margin"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"virtual_card_fee",children:"Virtual Card Fee ($)"}),i.jsx(Be,{id:"virtual_card_fee",type:"number",step:"0.01",value:c.virtual_card_fee,onChange:k=>u({...c,virtual_card_fee:k.target.value}),"data-testid":"input-card-fee"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"withdrawal_fee",children:"Withdrawal Fee ($)"}),i.jsx(Be,{id:"withdrawal_fee",type:"number",step:"0.01",value:c.withdrawal_fee,onChange:k=>u({...c,withdrawal_fee:k.target.value}),"data-testid":"input-withdrawal-fee"})]})]}),i.jsxs(re,{onClick:A,disabled:P.isPending,"data-testid":"button-save-fees",children:[i.jsx(zs,{className:"w-4 h-4 mr-2"}),"Save Fee Settings"]})]})]})}),i.jsx(xl,{value:"security",children:i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(_a,{className:"w-5 h-5"}),"Security Configuration"]}),i.jsx(kt,{children:"Configure security settings and validation rules"})]}),i.jsxs(Ie,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"Two-Factor Authentication Required"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Require 2FA for all users"})]}),i.jsx(gi,{checked:d.two_factor_required,onCheckedChange:k=>{f({...d,two_factor_required:k}),P.mutate({key:"two_factor_required",value:k?"true":"false"})},"data-testid":"switch-2fa-required"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"KYC Verification Required"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Require KYC before users can transact"})]}),i.jsx(gi,{checked:d.kyc_auto_approval===!1,onCheckedChange:k=>{f({...d,kyc_auto_approval:!k}),P.mutate({key:"kyc_required",value:k?"true":"false"})},"data-testid":"switch-kyc-required"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"PIN Code Required"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Require PIN for major transactions"})]}),i.jsx(gi,{checked:d.pin_required,onCheckedChange:k=>{f({...d,pin_required:k}),P.mutate({key:"pin_required",value:k?"true":"false"})},"data-testid":"switch-pin-required"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"OTP Feature"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Enable OTP verification during login"})]}),i.jsx(gi,{checked:d.enable_otp_feature!==!1,onCheckedChange:k=>f({...d,enable_otp_feature:k}),"data-testid":"switch-otp-feature"})]}),i.jsxs("div",{className:"space-y-2 border-t pt-3",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"OTP Methods (if OTP enabled):"}),i.jsxs("div",{className:"flex items-center justify-between pl-4",children:[i.jsx(Ve,{className:"font-normal",children:"Email OTP"}),i.jsx(gi,{checked:d.otp_email_enabled!==!1,onCheckedChange:k=>f({...d,otp_email_enabled:k}),"data-testid":"switch-otp-email"})]}),i.jsxs("div",{className:"flex items-center justify-between pl-4",children:[i.jsx(Ve,{className:"font-normal",children:"SMS OTP"}),i.jsx(gi,{checked:d.otp_sms_enabled!==!1,onCheckedChange:k=>f({...d,otp_sms_enabled:k}),"data-testid":"switch-otp-sms"})]}),i.jsxs("div",{className:"flex items-center justify-between pl-4",children:[i.jsx(Ve,{className:"font-normal",children:"WhatsApp OTP"}),i.jsx(gi,{checked:d.otp_whatsapp_enabled!==!1,onCheckedChange:k=>f({...d,otp_whatsapp_enabled:k}),"data-testid":"switch-otp-whatsapp"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"max_daily_limit",children:"Max Daily Limit ($)"}),i.jsx(Be,{id:"max_daily_limit",type:"number",value:d.max_daily_limit,onChange:k=>f({...d,max_daily_limit:k.target.value}),"data-testid":"input-daily-limit"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"min_transaction_amount",children:"Min Transaction Amount ($)"}),i.jsx(Be,{id:"min_transaction_amount",type:"number",step:"0.01",value:d.min_transaction_amount,onChange:k=>f({...d,min_transaction_amount:k.target.value}),"data-testid":"input-min-amount"})]})]})]}),i.jsxs(re,{onClick:C,disabled:P.isPending,"data-testid":"button-save-security",children:[i.jsx(zs,{className:"w-4 h-4 mr-2"}),"Save Security Settings"]})]})]})}),i.jsx(xl,{value:"notifications",children:i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Nl,{className:"w-5 h-5"}),"Notification Settings"]}),i.jsx(kt,{children:"Configure notification preferences and alerts"})]}),i.jsxs(Ie,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"Email Notifications"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Send email notifications to users"})]}),i.jsx(gi,{checked:h.email_notifications,onCheckedChange:k=>m({...h,email_notifications:k}),"data-testid":"switch-email-notifications"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"SMS Notifications"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Send SMS notifications for transactions"})]}),i.jsx(gi,{checked:h.sms_notifications,onCheckedChange:k=>m({...h,sms_notifications:k}),"data-testid":"switch-sms-notifications"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"Push Notifications"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Send mobile push notifications"})]}),i.jsx(gi,{checked:h.push_notifications,onCheckedChange:k=>m({...h,push_notifications:k}),"data-testid":"switch-push-notifications"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"Admin Alerts"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Receive admin alerts for critical events"})]}),i.jsx(gi,{checked:h.admin_alerts,onCheckedChange:k=>m({...h,admin_alerts:k}),"data-testid":"switch-admin-alerts"})]})]}),i.jsxs(re,{onClick:O,disabled:P.isPending,"data-testid":"button-save-notifications",children:[i.jsx(zs,{className:"w-4 h-4 mr-2"}),"Save Notification Settings"]})]})]})}),i.jsx(xl,{value:"general",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(bU,{className:"w-5 h-5"}),"General Settings"]}),i.jsx(kt,{children:"Platform-wide settings, bonuses, and announcements"})]}),i.jsxs(Ie,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"welcome_bonus",children:"Welcome Bonus Amount ($)"}),i.jsx(Be,{id:"welcome_bonus",type:"number",step:"0.01",value:v.welcome_bonus_amount,onChange:k=>p({...v,welcome_bonus_amount:k.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"platform_name",children:"Platform Name"}),i.jsx(Be,{id:"platform_name",value:v.platform_name,onChange:k=>p({...v,platform_name:k.target.value}),"data-testid":"input-platform-name"})]})]}),i.jsxs("div",{className:"space-y-4 border-t pt-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"Show Dashboard Announcement"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Display a message to all users on their dashboard"})]}),i.jsx(gi,{checked:v.show_announcement===!0||v.show_announcement==="true",onCheckedChange:k=>p({...v,show_announcement:k})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"announcement_text",children:"Announcement Message"}),i.jsx(za,{id:"announcement_text",placeholder:"Enter info to display to users...",value:v.dashboard_announcement,onChange:k=>p({...v,dashboard_announcement:k.target.value}),className:"min-h-[100px]"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 border-t pt-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"support_email",children:"Support Email"}),i.jsx(Be,{id:"support_email",type:"email",value:v.support_email,onChange:k=>p({...v,support_email:k.target.value}),"data-testid":"input-support-email"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"default_currency",children:"Default Currency"}),i.jsx(Be,{id:"default_currency",value:v.default_currency,onChange:k=>p({...v,default_currency:k.target.value}),"data-testid":"input-default-currency"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"session_timeout",children:"Session Timeout (minutes)"}),i.jsx(Be,{id:"session_timeout",type:"number",value:v.session_timeout,onChange:k=>p({...v,session_timeout:k.target.value}),"data-testid":"input-session-timeout"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"api_rate_limit",children:"API Rate Limit (requests/hour)"}),i.jsx(Be,{id:"api_rate_limit",type:"number",value:v.api_rate_limit,onChange:k=>p({...v,api_rate_limit:k.target.value}),"data-testid":"input-api-rate-limit"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"max_upload_size",children:"Max Upload Size (MB)"}),i.jsx(Be,{id:"max_upload_size",type:"number",value:v.max_upload_size,onChange:k=>p({...v,max_upload_size:k.target.value}),"data-testid":"input-max-upload-size"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"terms_url",children:"Terms of Service URL"}),i.jsx(Be,{id:"terms_url",type:"url",value:v.terms_url,onChange:k=>p({...v,terms_url:k.target.value}),"data-testid":"input-terms-url"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"maintenance_message",children:"Maintenance Message"}),i.jsx(za,{id:"maintenance_message",placeholder:"Enter message to display during maintenance...",value:v.maintenance_message,onChange:k=>p({...v,maintenance_message:k.target.value}),"data-testid":"textarea-maintenance-message"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsx(Ve,{className:"text-amber-900",children:"Maintenance Mode"}),i.jsx("p",{className:"text-sm text-amber-700",children:"Block user access to the platform"})]}),i.jsx(gi,{checked:v.maintenance_mode,onCheckedChange:k=>p({...v,maintenance_mode:k}),"data-testid":"switch-maintenance-mode"})]}),i.jsxs(re,{onClick:D,disabled:P.isPending,"data-testid":"button-save-general",className:"w-full",children:[i.jsx(zs,{className:"w-4 h-4 mr-2"}),"Save General Settings"]})]})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(qO,{className:"w-5 h-5"}),"System Management"]}),i.jsx(kt,{children:"Application administration and monitoring tools"})]}),i.jsx(Ie,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(re,{variant:"outline",className:"h-20 flex flex-col items-center justify-center gap-2",children:[i.jsx(_a,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm",children:"Backup Database"})]}),i.jsxs(re,{variant:"outline",className:"h-20 flex flex-col items-center justify-center gap-2",children:[i.jsx(wa,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm",children:"View Audit Logs"})]}),i.jsxs(re,{variant:"outline",className:"h-20 flex flex-col items-center justify-center gap-2",children:[i.jsx(qO,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm",children:"System Status"})]}),i.jsxs(re,{variant:"outline",className:"h-20 flex flex-col items-center justify-center gap-2",children:[i.jsx(Qn,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm",children:"Revenue Report"})]})]})})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Ys,{className:"w-5 h-5"}),"Bulk User Management"]}),i.jsx(kt,{children:"Perform bulk operations on user accounts"})]}),i.jsx(Ie,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(re,{variant:"destructive",className:"w-full",children:"Deactivate Inactive Users (30+ days)"}),i.jsx(re,{variant:"outline",className:"w-full",children:"Export User List (CSV)"}),i.jsx(re,{variant:"outline",className:"w-full",children:"Reset Failed Login Attempts"}),i.jsx(re,{variant:"outline",className:"w-full",children:"Sync KYC Status"})]})})]})]})})]})]})}function D7(){const[e,t]=N.useState({channelId:"3407",provider:"m-pesa",cardPrice:"60.00"}),[r,n]=N.useState({paybill:"247",account:"4664"}),[a,s]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState(!0),[d,f]=N.useState(!1),[h,m]=N.useState(null),{toast:g}=Ct();N.useEffect(()=>{x(),y()},[]);const x=async()=>{u(!0);try{const j=await He("GET","/api/admin/payhero-settings");if(j.ok){const S=await j.json();t(S)}else throw new Error("Failed to load settings")}catch(j){console.error("Error loading PayHero settings:",j),g({title:"Loading Failed",description:"Failed to load PayHero settings. Using default values.",variant:"destructive"})}finally{u(!1)}},v=async()=>{s(!0);try{if((await He("PUT","/api/admin/payhero-settings",e)).ok)await x(),g({title:"Settings Updated",description:"PayHero configuration has been saved successfully."});else throw new Error("Failed to update settings")}catch{g({title:"Update Failed",description:"Failed to update PayHero settings. Please try again.",variant:"destructive"})}finally{s(!1)}},p=async()=>{f(!0),m(null);try{const S=await(await He("POST","/api/admin/test-payhero",{amount:1,phone:"0700000000",reference:"TEST-"+Date.now()})).json();m({success:S.success,message:S.success?"PayHero connection successful!":S.message||"Connection test failed"})}catch{m({success:!1,message:"Failed to test connection"})}finally{f(!1)}},y=async()=>{try{const j=await He("GET","/api/admin/manual-payment-settings");if(j.ok){const S=await j.json();n(S)}}catch(j){console.error("Error loading manual payment settings:",j)}},w=async()=>{l(!0);try{if((await He("PUT","/api/admin/manual-payment-settings",r)).ok)await y(),g({title:"Settings Updated",description:"Manual payment configuration has been saved. Users will see these new payment details immediately."});else throw new Error("Failed to update settings")}catch{g({title:"Update Failed",description:"Failed to update manual payment settings. Please try again.",variant:"destructive"})}finally{l(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"PayHero Settings"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Configure M-Pesa payment processing settings"})]}),i.jsxs(st,{variant:"secondary",className:"flex items-center gap-2",children:[i.jsx(Sl,{className:"w-4 h-4"}),"Payment Gateway"]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Sl,{className:"w-5 h-5"}),"Configuration"]}),i.jsx(kt,{children:"Update PayHero API settings for M-Pesa integration"})]}),i.jsx(Ie,{className:"space-y-4",children:c?i.jsxs("div",{className:"flex items-center justify-center py-8",children:[i.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin mr-3"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading settings..."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"channelId",children:"Channel ID"}),i.jsx(Be,{id:"channelId",type:"number",value:e.channelId,onChange:j=>t({...e,channelId:j.target.value}),placeholder:"e.g., 608","data-testid":"input-channel-id"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Your PayHero payment channel ID from dashboard"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"provider",children:"Provider"}),i.jsxs(Kr,{value:e.provider,onValueChange:j=>t({...e,provider:j}),children:[i.jsx(Br,{"data-testid":"select-provider",children:i.jsx(Gr,{placeholder:"Select provider"})}),i.jsxs(Ur,{children:[i.jsx(nt,{value:"m-pesa",children:"M-Pesa"}),i.jsx(nt,{value:"sasapay",children:"SasaPay"})]})]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Payment provider for processing transactions"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"cardPrice",children:"Virtual Card Price (USD)"}),i.jsx(Be,{id:"cardPrice",type:"number",step:"0.01",value:e.cardPrice,onChange:j=>t({...e,cardPrice:j.target.value}),placeholder:"60.00","data-testid":"input-card-price"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Price for purchasing virtual cards (automatically synced to user side)"})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsxs(re,{onClick:v,disabled:a,className:"flex-1","data-testid":"button-save-settings",children:[i.jsx(zs,{className:"w-4 h-4 mr-2"}),a?"Saving...":"Save Settings"]}),i.jsxs(re,{onClick:p,variant:"outline",disabled:d,className:"flex-1","data-testid":"button-test-connection",children:[i.jsx(KO,{className:"w-4 h-4 mr-2"}),d?"Testing...":"Test Connection"]})]})]})})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(KO,{className:"w-5 h-5"}),"Connection Status"]}),i.jsx(kt,{children:"Test PayHero API connectivity and monitor status"})]}),i.jsxs(Ie,{className:"space-y-4",children:[h&&i.jsxs("div",{className:`p-4 rounded-lg border ${h.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.success?i.jsx(Fr,{className:"w-5 h-5 text-green-600"}):i.jsx(Ua,{className:"w-5 h-5 text-red-600"}),i.jsx("span",{className:`font-medium ${h.success?"text-green-800":"text-red-800"}`,children:h.success?"Connection Successful":"Connection Failed"})]}),i.jsx("p",{className:`text-sm ${h.success?"text-green-700":"text-red-700"}`,children:h.message})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Current Channel ID:"}),i.jsx(st,{variant:"outline",children:e.channelId})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Provider:"}),i.jsx(st,{variant:"outline",className:"capitalize",children:e.provider})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Card Price:"}),i.jsxs(st,{variant:"outline",children:["$",e.cardPrice]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"API Endpoint:"}),i.jsx(st,{variant:"secondary",children:"backend.payhero.co.ke"})]})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Test Instructions:"}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[i.jsx("li",{children:' Click "Test Connection" to verify API connectivity'}),i.jsx("li",{children:" Test uses a minimal 1 KES transaction"}),i.jsx("li",{children:" Successful test confirms channel is active"}),i.jsx("li",{children:" Failed tests indicate configuration issues"})]})]})]})]})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Sl,{className:"w-5 h-5"}),"Manual M-Pesa Payment Settings"]}),i.jsx(kt,{children:"Configure alternative manual payment method for virtual card purchases (second priority after PayHero)"})]}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"paybill",children:"Paybill Number"}),i.jsx(Be,{id:"paybill",value:r.paybill,onChange:j=>n({...r,paybill:j.target.value}),placeholder:"e.g., 247","data-testid":"input-paybill"}),i.jsx("p",{className:"text-sm text-gray-500",children:"M-Pesa paybill number for manual payments"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"account",children:"Account Number"}),i.jsx(Be,{id:"account",value:r.account,onChange:j=>n({...r,account:j.target.value}),placeholder:"e.g., 4664","data-testid":"input-account"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Account number for manual M-Pesa payments"})]})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-blue-800 flex items-start gap-2",children:[i.jsx("span",{className:"material-icons text-sm mt-0.5",children:"info"}),i.jsx("span",{children:"These settings are displayed to users as an alternative payment method on the virtual card purchase page. Changes take effect immediately for all users."})]})}),i.jsxs(re,{onClick:w,disabled:o,"data-testid":"button-save-manual-payment",children:[i.jsx(zs,{className:"w-4 h-4 mr-2"}),o?"Saving...":"Save Manual Payment Settings"]})]})]}),i.jsxs(Ce,{children:[i.jsx(Ge,{children:i.jsx(Ze,{children:"Important Notes"})}),i.jsx(Ie,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Channel ID Requirements:"}),i.jsxs("ul",{className:"space-y-1",children:[i.jsx("li",{children:" Must be a valid PayHero channel ID"}),i.jsx("li",{children:' Found in PayHero dashboard under "Payment Channels"'}),i.jsx("li",{children:" Each channel has specific settings and limits"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Provider Options:"}),i.jsxs("ul",{className:"space-y-1",children:[i.jsxs("li",{children:[" ",i.jsx("strong",{children:"M-Pesa:"})," Standard mobile money (most common)"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"SasaPay:"})," Alternative mobile payment platform"]}),i.jsx("li",{children:" Provider must match your PayHero channel setup"})]})]})]})})]})]})}function m9e(){const[e,t]=N.useState(null),[r,n]=N.useState(""),[a,s]=N.useState(!1),[o,l]=N.useState("approve"),[c,u]=N.useState("pending"),{toast:d}=Ct(),f=en(),{data:h,isLoading:m}=Kt({queryKey:["/api/admin/withdrawals"]}),g=(h==null?void 0:h.withdrawals)||[],x=St({mutationFn:async({id:C,action:O,notes:D})=>(await He("POST",`/api/admin/withdrawals/${C}/${O==="approve"?"approve":"reject"}`,{adminNotes:D})).json(),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/admin/withdrawals"]}),d({title:`Withdrawal ${o==="approve"?"approved":"rejected"}`,description:`The withdrawal request has been ${o==="approve"?"approved":"rejected"} successfully.`}),s(!1),n("")},onError:C=>{d({title:"Error",description:(C==null?void 0:C.message)||`Failed to ${o} withdrawal`,variant:"destructive"})}}),v=St({mutationFn:async({id:C,status:O,notes:D})=>(await He("PUT",`/api/admin/withdrawals/${C}/status`,{status:O,adminNotes:D})).json(),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/admin/withdrawals"]}),d({title:"Status Updated",description:"Withdrawal status has been updated successfully."}),s(!1),n("")},onError:C=>{d({title:"Error",description:(C==null?void 0:C.message)||"Failed to update withdrawal status",variant:"destructive"})}}),p=(C,O)=>{t(C),l(O),O==="edit"&&u(C.status),s(!0)},y=()=>{e&&(o==="edit"?v.mutate({id:e.id,status:c,notes:r}):x.mutate({id:e.id,action:o,notes:r}))},w=C=>{switch(C){case"pending":return i.jsxs(st,{variant:"outline",className:"text-yellow-600 border-yellow-200",children:[i.jsx(Dl,{className:"w-3 h-3 mr-1"}),"Pending"]});case"completed":return i.jsxs(st,{variant:"outline",className:"text-green-600 border-green-200",children:[i.jsx(Fr,{className:"w-3 h-3 mr-1"}),"Approved"]});case"failed":return i.jsxs(st,{variant:"outline",className:"text-red-600 border-red-200",children:[i.jsx(Ua,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return i.jsx(st,{variant:"outline",children:C})}},j=C=>new Date(C).toLocaleString(),S=(C,O)=>`${O} ${parseFloat(C).toFixed(2)}`;if(m)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-8 h-8 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading withdrawals..."})]})});const P=g.filter(C=>C.status==="pending"),A=g.filter(C=>C.status!=="pending");return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Withdrawal Management"}),i.jsx("p",{className:"text-gray-600",children:"Review and manage user withdrawal requests"})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsx(Ce,{className:"bg-yellow-50 border-yellow-200",children:i.jsxs(Ie,{className:"p-4 flex items-center gap-2",children:[i.jsx(Ei,{className:"w-4 h-4 text-yellow-600"}),i.jsxs("span",{className:"text-sm font-medium text-yellow-800",children:[P.length," pending reviews"]})]})})})]}),i.jsxs(hE,{defaultValue:"pending",className:"space-y-4",children:[i.jsxs(ON,{children:[i.jsxs(gl,{value:"pending",children:["Pending (",P.length,")"]}),i.jsxs(gl,{value:"processed",children:["Processed (",A.length,")"]})]}),i.jsx(xl,{value:"pending",children:i.jsx(Pa,{className:"h-[600px]",children:i.jsx("div",{className:"space-y-4",children:P.length===0?i.jsx(Ce,{children:i.jsxs(Ie,{className:"p-8 text-center",children:[i.jsx(Fr,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Pending Withdrawals"}),i.jsx("p",{className:"text-gray-600",children:"All withdrawal requests have been processed."})]})}):P.map(C=>i.jsxs(Ce,{className:"border-l-4 border-l-yellow-400",children:[i.jsx(Ge,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Rl,{className:"w-5 h-5 text-gray-500"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:C.userInfo.fullName}),i.jsx("p",{className:"text-sm text-gray-600",children:C.userInfo.email})]})]}),w(C.status)]})}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx(Ve,{className:"text-xs text-gray-500",children:"Amount"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Qn,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"font-medium",children:S(C.amount,C.currency)})]})]}),i.jsxs("div",{children:[i.jsx(Ve,{className:"text-xs text-gray-500",children:"Fee"}),i.jsx("p",{className:"font-medium",children:S(C.fee,C.currency)})]}),i.jsxs("div",{children:[i.jsx(Ve,{className:"text-xs text-gray-500",children:"Total"}),i.jsxs("p",{className:"font-medium text-red-600",children:["-",S((parseFloat(C.amount)+parseFloat(C.fee)).toString(),C.currency)]})]}),i.jsxs("div",{children:[i.jsx(Ve,{className:"text-xs text-gray-500",children:"Requested"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Il,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"text-sm",children:j(C.createdAt)})]})]})]}),i.jsxs("div",{children:[i.jsx(Ve,{className:"text-xs text-gray-500",children:"Description"}),i.jsx("p",{className:"text-sm",children:C.description})]}),C.recipientDetails&&i.jsxs("div",{children:[i.jsx(Ve,{className:"text-xs text-gray-500",children:"Recipient Details"}),i.jsx("div",{className:"bg-gray-50 p-3 rounded-lg text-sm space-y-1",children:Object.entries(C.recipientDetails).map(([O,D])=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"capitalize text-gray-600",children:[O.replace(/([A-Z])/g," $1"),":"]}),i.jsx("span",{className:"font-medium",children:D})]},O))})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsxs(re,{onClick:()=>p(C,"approve"),className:"flex-1 bg-green-600 hover:bg-green-700","data-testid":`approve-${C.id}`,children:[i.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Approve"]}),i.jsxs(re,{onClick:()=>p(C,"reject"),variant:"outline",className:"flex-1 text-red-600 border-red-200 hover:bg-red-50","data-testid":`reject-${C.id}`,children:[i.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Reject"]}),i.jsxs(re,{onClick:()=>p(C,"edit"),variant:"outline",className:"flex-1 text-blue-600 border-blue-200 hover:bg-blue-50","data-testid":`edit-${C.id}`,children:[i.jsx(XP,{className:"w-4 h-4 mr-2"}),"Edit Status"]})]})]})]},C.id))})})}),i.jsx(xl,{value:"processed",children:i.jsx(Pa,{className:"h-[600px]",children:i.jsx("div",{className:"space-y-4",children:A.map(C=>i.jsxs(Ce,{className:`border-l-4 ${C.status==="completed"?"border-l-green-400":"border-l-red-400"}`,children:[i.jsx(Ge,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Rl,{className:"w-5 h-5 text-gray-500"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:C.userInfo.fullName}),i.jsx("p",{className:"text-sm text-gray-600",children:C.userInfo.email})]})]}),w(C.status)]})}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx(Ve,{className:"text-xs text-gray-500",children:"Amount"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Qn,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"font-medium",children:S(C.amount,C.currency)})]})]}),i.jsxs("div",{children:[i.jsx(Ve,{className:"text-xs text-gray-500",children:"Requested"}),i.jsx("span",{className:"text-sm",children:j(C.createdAt)})]}),i.jsxs("div",{children:[i.jsx(Ve,{className:"text-xs text-gray-500",children:"Processed"}),i.jsx("span",{className:"text-sm",children:C.processedAt?j(C.processedAt):"N/A"})]})]}),C.adminNotes&&i.jsxs("div",{children:[i.jsx(Ve,{className:"text-xs text-gray-500",children:"Admin Notes"}),i.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded-lg",children:C.adminNotes})]}),i.jsx("div",{className:"flex gap-2 pt-4",children:i.jsxs(re,{onClick:()=>p(C,"edit"),variant:"outline",className:"text-blue-600 border-blue-200 hover:bg-blue-50","data-testid":`edit-processed-${C.id}`,children:[i.jsx(XP,{className:"w-4 h-4 mr-2"}),"Edit Status"]})})]})]},C.id))})})})]}),i.jsx(ca,{open:a,onOpenChange:s,children:i.jsxs(Vi,{children:[i.jsxs(vi,{children:[i.jsxs(ai,{children:[o==="edit"?"Edit Withdrawal Status":o==="approve"?"Approve":"Reject"," Withdrawal Request"]}),i.jsx(Xs,{children:o==="edit"?"Change the status of this withdrawal request.":o==="approve"?"This will approve the withdrawal and notify the user that their funds are being processed.":"This will reject the withdrawal request. Please provide a reason for rejection."})]}),e&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Withdrawal Details"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"User:"})," ",e.userInfo.fullName]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Amount:"})," ",S(e.amount,e.currency)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Fee:"})," ",S(e.fee,e.currency)]})]})]}),o==="edit"&&i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"status-select",children:"Status"}),i.jsxs(Kr,{value:c,onValueChange:u,children:[i.jsx(Br,{"data-testid":"status-select",children:i.jsx(Gr,{})}),i.jsxs(Ur,{children:[i.jsx(nt,{value:"pending",children:"Pending"}),i.jsx(nt,{value:"completed",children:"Completed"}),i.jsx(nt,{value:"failed",children:"Failed"})]})]})]}),i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"admin-notes",children:o==="edit"?"Notes (Optional)":o==="approve"?"Processing Notes (Optional)":"Rejection Reason (Required)"}),i.jsx(za,{id:"admin-notes",value:r,onChange:C=>n(C.target.value),placeholder:o==="edit"?"Enter any notes about this status change...":o==="approve"?"Enter any processing notes...":"Please explain why this withdrawal is being rejected...",className:"mt-1","data-testid":"admin-notes-input"})]})]}),i.jsxs(Dj,{children:[i.jsx(re,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),i.jsx(re,{onClick:y,disabled:x.isPending||v.isPending||o==="reject"&&!r.trim(),className:o==="edit"?"bg-blue-600 hover:bg-blue-700":o==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700","data-testid":"confirm-action-button",children:x.isPending||v.isPending?"Processing...":o==="edit"?"Update Status":o==="approve"?"Approve Withdrawal":"Reject Withdrawal"})]})]})})]})}const p9e=to({title:rr().min(1,"Title is required").max(100,"Title must be less than 100 characters"),message:rr().min(1,"Message is required").max(500,"Message must be less than 500 characters"),type:Mde(["general","promotion","security","maintenance","alert"]),actionUrl:rr().optional(),expiresIn:Tde().min(1,"Expiry must be at least 1 hour").max(168,"Expiry cannot exceed 1 week").optional()});function g9e(){const[e,t]=N.useState(!1),{toast:r}=Ct(),n=en(),{data:a,isLoading:s}=Kt({queryKey:["/api/admin/notifications"]}),o=(a==null?void 0:a.notifications)||[],l=Ho({resolver:Ko(p9e),defaultValues:{title:"",message:"",type:"general",actionUrl:""}}),c=St({mutationFn:async p=>(await He("POST","/api/admin/broadcast-notification",p)).json(),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/admin/notifications"]}),r({title:"Notification Sent",description:"Your notification has been broadcast to all users successfully."}),t(!1),l.reset()},onError:p=>{r({title:"Error",description:(p==null?void 0:p.message)||"Failed to send notification",variant:"destructive"})}}),u=St({mutationFn:async p=>(await He("DELETE",`/api/admin/notifications/${p}`)).json(),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/admin/notifications"]}),r({title:"Notification Deleted",description:"The notification has been deleted successfully."})},onError:p=>{r({title:"Error",description:(p==null?void 0:p.message)||"Failed to delete notification",variant:"destructive"})}}),d=p=>{c.mutate(p)},f=p=>{switch(p){case"promotion":return"bg-blue-100 text-blue-800";case"security":return"bg-red-100 text-red-800";case"maintenance":return"bg-yellow-100 text-yellow-800";case"alert":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},h=p=>new Date(p).toLocaleString(),m=p=>p?new Date(p)<new Date:!1;if(s)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-8 h-8 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading notifications..."})]})});const g=o.filter(p=>p.isGlobal),x=g.filter(p=>!m(p.expiresAt)),v=g.filter(p=>m(p.expiresAt));return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notification Management"}),i.jsx("p",{className:"text-gray-600",children:"Manage and broadcast notifications to users"})]}),i.jsxs(re,{onClick:()=>t(!0),className:"bg-green-600 hover:bg-green-700",children:[i.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Broadcast Notification"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Ce,{children:i.jsxs(Ie,{className:"p-6 flex items-center gap-3",children:[i.jsx(Bo,{className:"w-8 h-8 text-blue-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:g.length}),i.jsx("p",{className:"text-sm text-gray-600",children:"Total Notifications"})]})]})}),i.jsx(Ce,{children:i.jsxs(Ie,{className:"p-6 flex items-center gap-3",children:[i.jsx(Fr,{className:"w-8 h-8 text-green-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:x.length}),i.jsx("p",{className:"text-sm text-gray-600",children:"Active Notifications"})]})]})}),i.jsx(Ce,{children:i.jsxs(Ie,{className:"p-6 flex items-center gap-3",children:[i.jsx(Dl,{className:"w-8 h-8 text-gray-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-gray-600",children:v.length}),i.jsx("p",{className:"text-sm text-gray-600",children:"Expired Notifications"})]})]})})]}),i.jsxs(hE,{defaultValue:"active",className:"space-y-4",children:[i.jsxs(ON,{children:[i.jsxs(gl,{value:"active",children:["Active (",x.length,")"]}),i.jsxs(gl,{value:"expired",children:["Expired (",v.length,")"]})]}),i.jsx(xl,{value:"active",children:i.jsx(Pa,{className:"h-[500px]",children:i.jsx("div",{className:"space-y-4",children:x.length===0?i.jsx(Ce,{children:i.jsxs(Ie,{className:"p-8 text-center",children:[i.jsx(Bo,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Active Notifications"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first broadcast notification to engage with users."}),i.jsxs(re,{onClick:()=>t(!0),className:"bg-green-600 hover:bg-green-700",children:[i.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Send Notification"]})]})}):x.map(p=>i.jsxs(Ce,{className:"border-l-4 border-l-green-400",children:[i.jsx(Ge,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(us,{className:"w-5 h-5 text-gray-500"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:p.title}),i.jsx("p",{className:"text-sm text-gray-600",children:"Global broadcast"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(st,{className:f(p.type),children:p.type}),i.jsx(re,{variant:"outline",size:"sm",onClick:()=>u.mutate(p.id),disabled:u.isPending,className:"text-red-600 border-red-200 hover:bg-red-50","data-testid":`delete-notification-${p.id}`,children:i.jsx(Fc,{className:"w-4 h-4"})})]})]})}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsx("p",{className:"text-gray-700",children:p.body}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx(Ve,{className:"text-xs text-gray-500",children:"Created"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Il,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{children:h(p.createdAt)})]})]}),p.expiresAt&&i.jsxs("div",{children:[i.jsx(Ve,{className:"text-xs text-gray-500",children:"Expires"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Dl,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{children:h(p.expiresAt)})]})]})]}),p.actionUrl&&i.jsxs("div",{children:[i.jsx(Ve,{className:"text-xs text-gray-500",children:"Action URL"}),i.jsx("p",{className:"text-sm font-mono bg-gray-50 p-2 rounded",children:p.actionUrl})]})]})]},p.id))})})}),i.jsx(xl,{value:"expired",children:i.jsx(Pa,{className:"h-[500px]",children:i.jsx("div",{className:"space-y-4",children:v.map(p=>i.jsxs(Ce,{className:"border-l-4 border-l-gray-400 opacity-75",children:[i.jsx(Ge,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(us,{className:"w-5 h-5 text-gray-500"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-700",children:p.title}),i.jsx("p",{className:"text-sm text-gray-600",children:"Expired notification"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(st,{variant:"outline",className:"text-gray-600",children:"Expired"}),i.jsx(re,{variant:"outline",size:"sm",onClick:()=>u.mutate(p.id),disabled:u.isPending,className:"text-red-600 border-red-200 hover:bg-red-50","data-testid":`delete-expired-notification-${p.id}`,children:i.jsx(Fc,{className:"w-4 h-4"})})]})]})}),i.jsxs(Ie,{children:[i.jsx("p",{className:"text-gray-600 text-sm",children:p.body}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Expired on ",h(p.expiresAt)]})]})]},p.id))})})})]}),i.jsx(ca,{open:e,onOpenChange:t,children:i.jsxs(Vi,{className:"max-w-2xl",children:[i.jsxs(vi,{children:[i.jsx(ai,{children:"Broadcast Notification"}),i.jsx(Xs,{children:"Send a notification to all users. This will appear in their notifications panel."})]}),i.jsx(ro,{...l,children:i.jsxs("form",{onSubmit:l.handleSubmit(d),className:"space-y-4",children:[i.jsx(zt,{control:l.control,name:"title",render:({field:p})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Title"}),i.jsx(Wt,{children:i.jsx(Be,{placeholder:"Enter notification title",...p,"data-testid":"notification-title"})}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:l.control,name:"message",render:({field:p})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Message"}),i.jsx(Wt,{children:i.jsx(za,{placeholder:"Enter your message...",className:"min-h-[100px]",...p,"data-testid":"notification-message"})}),i.jsx(Ht,{})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(zt,{control:l.control,name:"type",render:({field:p})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Type"}),i.jsxs(Kr,{onValueChange:p.onChange,defaultValue:p.value,children:[i.jsx(Wt,{children:i.jsx(Br,{"data-testid":"notification-type",children:i.jsx(Gr,{placeholder:"Select notification type"})})}),i.jsxs(Ur,{children:[i.jsx(nt,{value:"general",children:"General"}),i.jsx(nt,{value:"promotion",children:"Promotion"}),i.jsx(nt,{value:"security",children:"Security"}),i.jsx(nt,{value:"maintenance",children:"Maintenance"}),i.jsx(nt,{value:"alert",children:"Alert"})]})]}),i.jsx(Ht,{})]})}),i.jsx(zt,{control:l.control,name:"expiresIn",render:({field:p})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Expires In (hours)"}),i.jsx(Wt,{children:i.jsx(Be,{type:"number",placeholder:"24",...p,onChange:y=>p.onChange(y.target.value?parseInt(y.target.value):void 0),"data-testid":"notification-expires"})}),i.jsx(Ht,{})]})})]}),i.jsx(zt,{control:l.control,name:"actionUrl",render:({field:p})=>i.jsxs($t,{children:[i.jsx(mr,{children:"Action URL (Optional)"}),i.jsx(Wt,{children:i.jsx(Be,{placeholder:"https://example.com/action",...p,"data-testid":"notification-action-url"})}),i.jsx(Ht,{})]})}),i.jsxs(Dj,{children:[i.jsx(re,{variant:"outline",type:"button",onClick:()=>t(!1),children:"Cancel"}),i.jsx(re,{type:"submit",disabled:c.isPending,className:"bg-green-600 hover:bg-green-700","data-testid":"send-notification-button",children:c.isPending?"Sending...":i.jsxs(i.Fragment,{children:[i.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Send Notification"]})})]})]})})]})})]})}function x9e(){const[e,t]=N.useState("60.00"),{toast:r}=Ct(),n=en(),{data:a,isLoading:s}=Kt({queryKey:["/api/system-settings/card-price"]}),o=(a==null?void 0:a.price)||"60.00";N.useEffect(()=>{o&&t(o)},[o]);const l=St({mutationFn:async d=>(await He("PUT","/api/system-settings/card-price",{price:parseFloat(d).toFixed(2)})).json(),onSuccess:()=>{r({title:"Price Updated",description:"Virtual card price has been updated successfully."}),n.invalidateQueries({queryKey:["/api/system-settings/card-price"]}),n.invalidateQueries({queryKey:["/api/virtual-card"]})},onError:d=>{r({title:"Update Failed",description:d.message||"Failed to update card price. Please try again.",variant:"destructive"})}}),c=()=>{const d=parseFloat(e);if(isNaN(d)||d<=0){r({title:"Invalid Price",description:"Please enter a valid price greater than 0.",variant:"destructive"});return}l.mutate(e)},u=parseFloat(e)!==parseFloat(o);return s?i.jsx(Ce,{children:i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Ks,{className:"w-5 h-5"}),"Card Price Management"]}),i.jsx(kt,{children:"Loading current price..."})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Card Price Management"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Configure virtual card pricing for users"})]}),i.jsxs(st,{variant:"secondary",className:"flex items-center gap-2",children:[i.jsx(Ks,{className:"w-4 h-4"}),"Pricing Settings"]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Qn,{className:"w-5 h-5"}),"Current Price"]}),i.jsx(kt,{children:"The current price users see for virtual cards"})]}),i.jsxs(Ie,{children:[i.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",o]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx(Fr,{className:"w-4 h-4 text-green-500"}),"Active price displayed to users"]})]})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Ks,{className:"w-5 h-5"}),"Update Price"]}),i.jsx(kt,{children:"Set a new price for virtual card purchases"})]}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"card-price",children:"New Card Price (USD)"}),i.jsxs("div",{className:"relative",children:[i.jsx(Qn,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(Be,{id:"card-price",type:"number",step:"0.01",min:"0",value:e,onChange:d=>t(d.target.value),className:"pl-10",placeholder:"60.00","data-testid":"input-card-price"})]})]}),u&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[i.jsx(Ei,{className:"w-4 h-4 text-yellow-600"}),i.jsxs("span",{className:"text-sm text-yellow-800",children:["Price change: $",o,"  $",parseFloat(e).toFixed(2)]})]}),i.jsxs(re,{onClick:c,disabled:!u||l.isPending,className:"w-full","data-testid":"button-save-price",children:[i.jsx(zs,{className:"w-4 h-4 mr-2"}),l.isPending?"Updating...":"Update Price"]})]})]})]}),i.jsxs(Ce,{children:[i.jsx(Ge,{children:i.jsx(Ze,{children:"Important Information"})}),i.jsxs(Ie,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Fr,{className:"w-5 h-5 text-green-500 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Immediate Effect"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Price changes take effect immediately for all new card purchases"})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Fr,{className:"w-5 h-5 text-green-500 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"User Display"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Updated price will be shown on the virtual card page for all users"})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Fr,{className:"w-5 h-5 text-green-500 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Payment Processing"}),i.jsx("p",{className:"text-sm text-gray-600",children:"M-Pesa payments will be processed for the new amount"})]})]})]})]})]})}function y9e(){const[e,t]=N.useState([]),[r,n]=N.useState(!1),[a,s]=N.useState(!1),[o,l]=N.useState(""),[c,u]=N.useState("all"),d=N.useRef(null),f=N.useRef(null),[h,m]=N.useState(!0),g=N.useRef(!0),{data:x,isLoading:v}=Kt({queryKey:["/api/admin/system-logs"],queryFn:async()=>{const D=await fetch("/api/admin/system-logs?minutes=30");if(!D.ok)throw new Error("Failed to fetch system logs");return D.json()}}),p=[...((x==null?void 0:x.logs)||[]).map(D=>({id:D.id,timestamp:D.timestamp,level:D.level,message:D.message,source:D.source,data:D.data?typeof D.data=="string"?JSON.parse(D.data):D.data:void 0})),...e].sort((D,E)=>new Date(D.timestamp).getTime()-new Date(E.timestamp).getTime()).slice(-2e3);N.useEffect(()=>(g.current=!0,y(),()=>{g.current=!1,f.current&&f.current.close()}),[]),N.useEffect(()=>{h&&d.current&&(d.current.scrollTop=d.current.scrollHeight)},[p,h]);const y=()=>{try{const E=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/logs`;f.current=new WebSocket(E),f.current.onopen=()=>{n(!0),console.log("Connected to logs WebSocket")},f.current.onmessage=k=>{if(!a)try{const R=JSON.parse(k.data);t(L=>[...L,R].slice(-500))}catch(R){console.error("Failed to parse log entry:",R)}},f.current.onclose=()=>{n(!1),g.current&&setTimeout(()=>{g.current&&y()},3e3)},f.current.onerror=k=>{console.error("WebSocket error:",k),n(!1)}}catch(D){console.error("Failed to connect WebSocket:",D),n(!1)}},w=D=>{switch(D){case"error":return i.jsx(Ua,{className:"w-4 h-4 text-red-500"});case"warn":return i.jsx(Ei,{className:"w-4 h-4 text-yellow-500"});case"info":return i.jsx(hj,{className:"w-4 h-4 text-blue-500"});case"api":return i.jsx(T0,{className:"w-4 h-4 text-green-500"});default:return i.jsx(Fr,{className:"w-4 h-4 text-gray-500"})}},j=D=>{switch(D){case"error":return"text-red-600 dark:text-red-400";case"warn":return"text-yellow-600 dark:text-yellow-400";case"info":return"text-blue-600 dark:text-blue-400";case"api":return"text-green-600 dark:text-green-400";default:return"text-gray-600 dark:text-gray-400"}},S=()=>{t([])},P=()=>{const D=A.map(L=>`[${L.timestamp}] ${L.level.toUpperCase()}: ${L.message}${L.data?`
`+JSON.stringify(L.data,null,2):""}`).join(`
`),E=new Blob([D],{type:"text/plain"}),k=URL.createObjectURL(E),R=document.createElement("a");R.href=k,R.download=`system-logs-${new Date().toISOString().split("T")[0]}.txt`,R.click(),URL.revokeObjectURL(k)},A=p.filter(D=>{const E=!o||D.message.toLowerCase().includes(o.toLowerCase())||D.source&&D.source.toLowerCase().includes(o.toLowerCase()),k=c==="all"||D.level===c;return E&&k}),C=["all","api","info","warn","error","debug"],O=p.reduce((D,E)=>(D[E.level]=(D[E.level]||0)+1,D),{});return i.jsxs("div",{className:"space-y-4 md:space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"System Logs"}),i.jsx("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:"Real-time system logs and API requests"})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs(st,{variant:r?"default":"destructive",className:"flex items-center gap-2",children:[i.jsx(G5,{className:"w-3 h-3 md:w-4 md:h-4"}),i.jsx("span",{className:"text-xs md:text-sm",children:r?"Connected":"Disconnected"})]}),i.jsxs(st,{variant:"secondary",className:"flex items-center gap-2",children:[i.jsx(T0,{className:"w-3 h-3 md:w-4 md:h-4"}),i.jsxs("span",{className:"text-xs md:text-sm",children:[p.length," logs"]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs(re,{variant:a?"default":"outline",size:"sm",onClick:()=>s(!a),"data-testid":"button-pause-logs",children:[a?i.jsx(NU,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}):i.jsx(Zne,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),i.jsx("span",{className:"text-xs md:text-sm",children:a?"Resume":"Pause"})]}),i.jsxs(re,{variant:"outline",size:"sm",onClick:S,"data-testid":"button-clear-logs",children:[i.jsx(Fc,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),i.jsx("span",{className:"text-xs md:text-sm",children:"Clear"})]}),i.jsxs(re,{variant:"outline",size:"sm",onClick:P,disabled:A.length===0,"data-testid":"button-download-logs",children:[i.jsx(Gs,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),i.jsx("span",{className:"text-xs md:text-sm hidden sm:inline",children:"Download"}),i.jsx("span",{className:"text-xs md:text-sm sm:hidden",children:"Export"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-xs md:text-sm ml-auto",children:[i.jsx("input",{type:"checkbox",checked:h,onChange:D=>m(D.target.checked),className:"rounded"}),"Auto-scroll"]})]}),i.jsxs("div",{className:"space-y-3 md:space-y-0 md:flex md:items-center md:gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(ng,{className:"w-4 h-4 text-gray-500"}),i.jsx(Be,{placeholder:"Filter logs...",value:o,onChange:D=>l(D.target.value),className:"flex-1","data-testid":"input-log-filter"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(fj,{className:"w-4 h-4 text-gray-500"}),i.jsx("select",{value:c,onChange:D=>u(D.target.value),className:"px-3 py-1.5 border rounded-md bg-background text-sm flex-1 md:flex-none md:min-w-[120px]","data-testid":"select-log-level",children:C.map(D=>i.jsxs("option",{value:D,children:[D.charAt(0).toUpperCase()+D.slice(1),D!=="all"&&O[D]?` (${O[D]})`:""]},D))})]})]})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(G5,{className:"w-5 h-5"}),"Live System Logs"]}),i.jsxs(kt,{children:["Showing ",A.length," of ",p.length," log entries (last 30 minutes)",v&&i.jsx(st,{variant:"outline",className:"ml-2",children:"Loading..."}),a&&i.jsx(st,{variant:"outline",className:"ml-2",children:"Paused"})]})]}),i.jsx(Ie,{children:i.jsx("div",{className:"bg-black text-green-400 font-mono rounded-lg p-2 md:p-4 h-[50vh] md:h-96",children:i.jsx(Pa,{className:"h-full",ref:d,children:A.length===0?i.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:i.jsxs("div",{className:"text-center",children:[i.jsx(G5,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:v?"Loading logs...":"No logs to display"}),!r&&!v&&i.jsx("p",{className:"text-xs mt-1",children:"Waiting for connection..."})]})}):i.jsx("div",{className:"space-y-2",children:A.map(D=>i.jsx("div",{className:"hover:bg-gray-800 p-2 rounded transition-colors",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-1 md:gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 md:shrink-0",children:[i.jsx("span",{className:"text-gray-400 text-xs md:w-16 shrink-0",children:new Date(D.timestamp).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 md:w-4 md:h-4",children:w(D.level)}),i.jsx("span",{className:`text-xs uppercase font-semibold ${j(D.level)}`,children:D.level})]})]}),i.jsxs("div",{className:"flex-1 min-w-0 pl-2 md:pl-0",children:[i.jsx("div",{className:"text-xs md:text-sm break-words",children:D.message}),D.data&&i.jsx("pre",{className:"mt-2 text-xs text-gray-400 overflow-x-auto bg-gray-900 p-2 rounded border-l-2 border-gray-600",children:JSON.stringify(D.data,null,2)})]})]})},D.id))})})})})]}),!r&&i.jsx(Ce,{className:"border-yellow-200 bg-yellow-50",children:i.jsxs(Ie,{className:"pt-6",children:[i.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[i.jsx(Ei,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Connection Lost"})]}),i.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"Attempting to reconnect to log stream..."})]})})]})}function v9e(){const[e,t]=N.useState(null),[r,n]=N.useState(""),[a,s]=N.useState(!1),o=N.useRef(null),l=N.useRef(null),{toast:c}=Ct(),u=en(),{data:d=[],isLoading:f}=Kt({queryKey:["/api/admin/conversations"],queryFn:async()=>{const A=await fetch("/api/admin/conversations",{credentials:"include"});if(!A.ok)throw new Error("Failed to fetch conversations");return A.json()},refetchOnWindowFocus:!1}),{data:h=[],isLoading:m}=Kt({queryKey:["/api/messages",e],queryFn:async()=>{if(!e)return[];const A=await fetch(`/api/messages/${e}`,{credentials:"include"});if(!A.ok)throw new Error("Failed to fetch messages");return A.json()},enabled:!!e,refetchOnWindowFocus:!1}),g=N.useCallback(()=>{const A=window.location.protocol==="https:"?"wss:":"ws:",C=window.location.host,O=new WebSocket(`${A}//${C}/ws`);O.onopen=()=>{console.log("Admin WebSocket connected"),s(!0),O.send(JSON.stringify({type:"register",userId:"admin",isAdmin:!0}))},O.onmessage=D=>{try{const E=JSON.parse(D.data);E.type==="new_message"?(e&&u.setQueryData(["/api/messages",e],k=>k?k.some(L=>L.id===E.message.id)?k:[...k,E.message]:[E.message]),u.invalidateQueries({queryKey:["/api/admin/conversations"]})):E.type==="new_conversation"&&u.invalidateQueries({queryKey:["/api/admin/conversations"]})}catch(E){console.error("Error parsing admin WebSocket message:",E)}},O.onclose=()=>{console.log("Admin WebSocket disconnected"),s(!1),setTimeout(()=>{g()},3e3)},O.onerror=D=>{console.error("Admin WebSocket error:",D),s(!1)},l.current=O},[e,u]);N.useEffect(()=>(g(),()=>{l.current&&(l.current.close(),l.current=null)}),[g]);const x=St({mutationFn:async A=>{if(!e)throw new Error("No conversation selected");return He("POST","/api/messages",{conversationId:e,content:A.content,messageType:"text"})},onSuccess:()=>{u.invalidateQueries({queryKey:["/api/messages"]}),u.invalidateQueries({queryKey:["/api/admin/conversations"]}),n("")},onError:A=>{c({title:"Failed to send message",description:"Please try again.",variant:"destructive"})}}),v=St({mutationFn:async A=>He("PUT",`/api/admin/conversations/${A}/assign`,{}),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/admin/conversations"]}),c({title:"Conversation assigned",description:"You are now handling this conversation."})},onError:A=>{c({title:"Failed to assign conversation",description:"Please try again.",variant:"destructive"})}}),p=()=>{!r.trim()||!e||x.mutate({content:r.trim()})},y=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),p())},w=A=>{v.mutate(A)};N.useEffect(()=>{var A;(A=o.current)==null||A.scrollIntoView({behavior:"smooth"})},[h]);const j=A=>{if(A===0)return"0 Bytes";const C=1024,O=["Bytes","KB","MB","GB"],D=Math.floor(Math.log(A)/Math.log(C));return parseFloat((A/Math.pow(C,D)).toFixed(2))+" "+O[D]},S=A=>A.senderType==="user"?A.readAt?i.jsx(Fr,{className:"w-3 h-3 text-green-500"}):i.jsx(zne,{className:"w-3 h-3 text-gray-400"}):null,P=d.find(A=>A.id===e);return i.jsxs("div",{className:"h-full flex",children:[i.jsx("div",{className:"w-1/3 border-r border-border",children:i.jsxs(Ce,{className:"h-full rounded-none",children:[i.jsxs(Ge,{className:"border-b",children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(us,{className:"w-5 h-5"}),"Active Conversations"]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.length," active conversation",d.length!==1?"s":""]})]}),i.jsx(Ie,{className:"p-0",children:i.jsx(Pa,{className:"h-96",children:f?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):d.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(us,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),i.jsx("p",{"data-testid":"text-no-conversations",children:"No active conversations"})]}):d.map(A=>i.jsxs("div",{className:`p-4 border-b border-border cursor-pointer hover:bg-muted transition-colors ${e===A.id?"bg-muted":""}`,onClick:()=>t(A.id),"data-testid":`conversation-${A.id}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Rl,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{className:"font-medium text-sm",children:A.title||"User Support Request"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(st,{variant:A.status==="active"?"default":"secondary",className:"text-xs",children:A.status}),!A.adminId&&i.jsx(re,{variant:"outline",size:"sm",onClick:C=>{C.stopPropagation(),w(A.id)},disabled:v.isPending,"data-testid":`button-take-${A.id}`,children:"Take"})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:A.lastMessageAt?Qr(new Date(A.lastMessageAt),"MMM d, HH:mm"):Qr(new Date(A.createdAt),"MMM d, HH:mm")}),A.adminId&&i.jsx("span",{className:"text-green-600",children:"Assigned"})]})]},A.id))})})]})}),i.jsx("div",{className:"flex-1 flex flex-col",children:e?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"border-b border-border p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:(P==null?void 0:P.title)||"User Support Chat"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Started ",Qr(new Date((P==null?void 0:P.createdAt)||""),"MMM d, yyyy HH:mm")]})]}),i.jsx(st,{variant:(P==null?void 0:P.status)==="active"?"default":"secondary",children:P==null?void 0:P.status})]})}),i.jsx(Pa,{className:"flex-1 p-4",children:i.jsxs("div",{className:"space-y-4",children:[m?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):h.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(us,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),i.jsx("p",{children:"No messages yet"})]}):h.map(A=>i.jsx("div",{className:`flex ${A.senderType==="admin"?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${A.senderType==="admin"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[A.senderType==="user"&&i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx(Rl,{className:"w-3 h-3 mr-1"}),i.jsx("span",{className:"text-xs font-medium",children:"User"})]}),A.messageType==="file"||A.messageType==="image"||A.messageType==="video"?i.jsxs("div",{className:"space-y-2",children:[A.messageType==="image"&&A.fileUrl?i.jsx("img",{src:A.fileUrl,alt:A.fileName,className:"max-w-full rounded border cursor-pointer hover:opacity-80",onClick:()=>window.open(A.fileUrl,"_blank"),"data-testid":`image-${A.id}`}):A.messageType==="video"&&A.fileUrl?i.jsxs("video",{controls:!0,className:"max-w-full rounded border",style:{maxHeight:"250px"},"data-testid":`video-${A.id}`,children:[i.jsx("source",{src:A.fileUrl,type:"video/mp4"}),"Your browser does not support the video tag."]}):A.fileUrl?i.jsxs("a",{href:A.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 p-2 bg-background/10 rounded hover:bg-background/20 transition-colors",children:[A.messageType==="image"?i.jsx(Gne,{className:"w-4 h-4 flex-shrink-0"}):i.jsx(sw,{className:"w-4 h-4 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:A.fileName||"Download file"}),A.fileSize&&i.jsx("p",{className:"text-xs opacity-75",children:j(A.fileSize)})]})]}):i.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-background/10 rounded",children:[i.jsx(sw,{className:"w-4 h-4"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:A.fileName||"File"}),A.fileSize&&i.jsx("p",{className:"text-xs opacity-75",children:j(A.fileSize)})]})]}),A.content!==A.fileName&&A.content&&i.jsx("p",{className:"text-sm",children:A.content})]}):i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:A.content}),i.jsxs("div",{className:"flex items-center justify-between mt-1",children:[i.jsx("span",{className:"text-xs opacity-75",children:Qr(new Date(A.createdAt),"HH:mm")}),S(A)]})]})},A.id)),i.jsx("div",{ref:o})]})}),i.jsx("div",{className:"border-t border-border p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Be,{placeholder:"Type your response...",value:r,onChange:A=>n(A.target.value),onKeyPress:y,disabled:x.isPending,className:"flex-1","data-testid":"input-admin-message"}),i.jsx(re,{onClick:p,disabled:!r.trim()||x.isPending,"data-testid":"button-send-admin-message",children:x.isPending?i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):i.jsx(Hi,{className:"w-4 h-4"})})]})})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center text-center",children:i.jsxs("div",{children:[i.jsx(us,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a conversation"}),i.jsx("p",{className:"text-muted-foreground",children:"Choose a conversation from the list to start chatting with users"})]})})})]})}function b9e(){return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Live Support"}),i.jsx("p",{className:"text-gray-600",children:"Real-time customer support conversations"})]})}),i.jsx(Ce,{className:"h-[600px]",children:i.jsx(v9e,{})})]})}function w9e(){const[e,t]=N.useState(1),[r,n]=N.useState(null),[a,s]=N.useState(""),[o,l]=N.useState(""),[c,u]=N.useState(""),[d,f]=N.useState(""),[h,m]=N.useState(null),{toast:g}=Ct(),x=en(),{data:v,isLoading:p,refetch:y,isFetching:w}=Kt({queryKey:["support-tickets",e],queryFn:async()=>{const E=await fetch(`/api/admin/support/tickets?page=${e}&limit=10`,{credentials:"include"});if(!E.ok)throw new Error("Failed to fetch");return E.json()}}),j=St({mutationFn:async E=>He("PUT",`/api/admin/support/tickets/${E.id}`,{status:E.status,priority:E.priority,adminNotes:E.notes}),onSuccess:()=>{x.invalidateQueries({queryKey:["support-tickets"]}),g({title:"Updated"})}}),S=St({mutationFn:async()=>{const E=new FormData;E.append("content",d),h&&E.append("file",h);const k=await fetch(`/api/admin/support-tickets/${r}/reply`,{method:"POST",credentials:"include",body:E});if(!k.ok)throw new Error("Failed to send reply");return k.json()},onSuccess:()=>{x.invalidateQueries({queryKey:["support-tickets"]}),g({title:"Reply sent"}),f(""),m(null)}}),P=St({mutationFn:async E=>He("DELETE",`/api/admin/support/tickets/${E}`),onSuccess:()=>{x.invalidateQueries({queryKey:["support-tickets"]}),g({title:"Deleted"}),n(null)}});if(p)return i.jsx("div",{className:"p-4",children:"Loading..."});const A=(v==null?void 0:v.tickets)||[],C=r?A.find(E=>E.id===r):null,O=E=>{n(E.id),s(E.status),l(E.priority),u(E.adminNotes||"")},D=()=>{C&&j.mutate({id:C.id,status:a,priority:o,notes:c})};return r&&C?i.jsxs("div",{className:"space-y-4",children:[i.jsx(re,{variant:"outline",onClick:()=>n(null),className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",children:" Back"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[i.jsxs(Ce,{className:"bg-gradient-to-br from-emerald-50 to-green-50 border-2 border-emerald-200",children:[i.jsx(Ge,{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white rounded-t-lg",children:i.jsx(Ze,{className:"text-2xl",children:C.issueType})}),i.jsxs(Ie,{className:"space-y-4 pt-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-emerald-800",children:"Description"}),i.jsx("p",{className:"text-sm mt-2 bg-white p-4 rounded-lg border-l-4 border-emerald-500",children:C.description})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Ve,{className:"text-sm font-semibold text-emerald-800",children:"Status"}),i.jsxs(Kr,{value:a,onValueChange:s,children:[i.jsx(Br,{className:"mt-1 border-emerald-200",children:i.jsx(Gr,{})}),i.jsxs(Ur,{children:[i.jsx(nt,{value:"open",children:"Open"}),i.jsx(nt,{value:"in_progress",children:"In Progress"}),i.jsx(nt,{value:"resolved",children:"Resolved"}),i.jsx(nt,{value:"closed",children:"Closed"})]})]})]}),i.jsxs("div",{children:[i.jsx(Ve,{className:"text-sm font-semibold text-emerald-800",children:"Priority"}),i.jsxs(Kr,{value:o,onValueChange:l,children:[i.jsx(Br,{className:"mt-1 border-emerald-200",children:i.jsx(Gr,{})}),i.jsxs(Ur,{children:[i.jsx(nt,{value:"low",children:"Low"}),i.jsx(nt,{value:"medium",children:"Medium"}),i.jsx(nt,{value:"high",children:"High"}),i.jsx(nt,{value:"urgent",children:"Urgent"})]})]})]})]}),i.jsxs("div",{children:[i.jsx(Ve,{htmlFor:"notes",className:"text-sm font-semibold text-emerald-800",children:"Admin Notes"}),i.jsx(za,{id:"notes",value:c,onChange:E=>u(E.target.value),className:"mt-1 border-emerald-200",rows:3})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(re,{variant:"outline",onClick:()=>n(null),className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",children:"Cancel"}),i.jsxs(re,{variant:"destructive",onClick:()=>{confirm("Delete ticket?")&&P.mutate(C.id)},children:[i.jsx(Fc,{className:"w-4 h-4 mr-2"})," Delete"]}),i.jsx(re,{onClick:D,disabled:j.isPending,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:j.isPending?"Saving...":"Save Changes"})]})]})]}),i.jsxs(Ce,{className:"border-2 border-emerald-200 bg-gradient-to-br from-emerald-50 to-transparent",children:[i.jsx(Ge,{className:"bg-gradient-to-r from-emerald-100 to-green-50 border-b border-emerald-200",children:i.jsx(Ze,{className:"text-emerald-800",children:"Conversation"})}),i.jsx(Ie,{className:"space-y-3 pt-6 max-h-64 overflow-y-auto",children:!C.replies||C.replies.length===0?i.jsx("p",{className:"text-emerald-600 text-center py-8",children:"No replies yet"}):C.replies.map(E=>i.jsxs("div",{className:`p-3 rounded-lg text-sm ${E.senderType==="admin"?"bg-emerald-50 border-l-4 border-emerald-500 ml-4":"bg-white border-l-4 border-emerald-300 mr-4"}`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"font-semibold text-xs text-emerald-800",children:E.senderType==="admin"?" Admin":" User"}),i.jsx("span",{className:"text-xs text-emerald-600",children:Qr(new Date(E.createdAt),"MMM d HH:mm")})]}),i.jsx("p",{className:"text-sm text-gray-800",children:E.content}),E.fileUrl&&i.jsxs("a",{href:E.fileUrl,target:"_blank",className:"text-xs text-emerald-600 mt-1 inline-block font-semibold hover:underline",children:[" ",E.fileName]})]},E.id))})]}),i.jsxs(Ce,{className:"border-2 border-emerald-200 bg-gradient-to-br from-emerald-50 to-green-50",children:[i.jsx(Ge,{className:"bg-gradient-to-r from-emerald-100 to-green-50 border-b border-emerald-200",children:i.jsx(Ze,{className:"text-emerald-800",children:"Send Reply"})}),i.jsxs(Ie,{className:"space-y-3 pt-6",children:[i.jsx(za,{placeholder:"Type your reply...",value:d,onChange:E=>f(E.target.value),rows:2,className:"text-sm border-emerald-200"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Be,{type:"file",onChange:E=>{var k;return m(((k=E.target.files)==null?void 0:k[0])||null)},className:"text-sm border-emerald-200 flex-1",accept:"image/*,video/*,.pdf,.doc,.docx"}),h&&i.jsxs("span",{className:"text-xs text-emerald-600 self-center px-2 font-semibold",children:[" ",h.name]})]}),i.jsxs(re,{onClick:()=>S.mutate(),disabled:!d.trim()||S.isPending,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white",children:[i.jsx(Hi,{className:"w-4 h-4 mr-2"}),S.isPending?"Sending...":"Send Reply"]})]})]})]}),i.jsxs(Ce,{className:"border-2 border-emerald-200 h-fit bg-gradient-to-br from-emerald-50 to-green-50",children:[i.jsx(Ge,{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white rounded-t-lg",children:i.jsx(Ze,{children:"User Information"})}),i.jsxs(Ie,{className:"space-y-3 pt-6",children:[C.user&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border-l-4 border-emerald-500",children:[i.jsx(Rl,{className:"w-5 h-5 text-emerald-600"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-emerald-700",children:"Full Name"}),i.jsx("p",{className:"font-semibold text-sm truncate",children:C.user.fullName})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border-l-4 border-emerald-500",children:[i.jsx(Nl,{className:"w-5 h-5 text-emerald-600"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-emerald-700",children:"Email"}),i.jsx("p",{className:"font-semibold text-sm truncate",children:C.user.email})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border-l-4 border-emerald-500",children:[i.jsx(mj,{className:"w-5 h-5 text-emerald-600"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-emerald-700",children:"Phone"}),i.jsx("p",{className:"font-semibold text-sm",children:C.user.phone})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border-l-4 border-emerald-500",children:[i.jsx(Il,{className:"w-5 h-5 text-emerald-600"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-emerald-700",children:"Created"}),i.jsx("p",{className:"font-semibold text-sm",children:Qr(new Date(C.createdAt),"MMM d, yyyy")})]})]}),i.jsxs(st,{className:"w-full justify-center py-2 mt-4 bg-emerald-600 hover:bg-emerald-700 text-white",children:["ID: ",C.id.substring(0,8)]})]})]})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent",children:"Support Tickets"}),i.jsxs("p",{className:"text-emerald-700 text-sm mt-1",children:[(v==null?void 0:v.total)||0," total tickets"]})]}),i.jsxs(re,{size:"sm",variant:"outline",onClick:()=>y(),disabled:w,className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",children:[i.jsx(Qne,{className:`w-4 h-4 mr-2 ${w?"animate-spin":""}`}),"Refresh"]})]}),i.jsxs(Ce,{className:"border-emerald-200",children:[i.jsx(Ge,{className:"bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-200",children:i.jsx(Ze,{className:"text-emerald-800",children:"All Tickets"})}),i.jsxs(Ie,{className:"pt-6",children:[A.length===0?i.jsx("p",{className:"text-emerald-600 text-center py-8",children:"No tickets"}):i.jsx("div",{className:"space-y-3",children:A.map(E=>i.jsx("div",{className:"p-4 border border-emerald-200 rounded-lg hover:shadow-lg transition-all bg-gradient-to-r from-emerald-50 to-green-50 hover:from-emerald-100 hover:to-green-100 cursor-pointer",onClick:()=>O(E),children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h3",{className:"font-bold text-emerald-900",children:E.issueType}),i.jsx(st,{className:"bg-emerald-600 text-white",children:E.status}),i.jsx(st,{className:"bg-emerald-500 text-white",children:E.priority})]}),i.jsxs("p",{className:"text-sm text-emerald-800 mb-2",children:[E.description.substring(0,80),"..."]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-emerald-700",children:[E.user&&i.jsxs(i.Fragment,{children:[i.jsxs("span",{children:[" ",E.user.fullName]}),i.jsxs("span",{children:[" ",E.user.email]})]}),i.jsx("span",{children:Qr(new Date(E.createdAt),"MMM d")})]})]}),i.jsx(re,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:"View"})]})},E.id))}),v&&v.totalPages>1&&i.jsxs("div",{className:"flex gap-2 mt-6",children:[i.jsx(re,{size:"sm",disabled:e<=1,onClick:()=>t(E=>E-1),className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",variant:"outline",children:"Prev"}),i.jsxs("span",{className:"text-sm py-2 text-emerald-700 font-semibold",children:[e," / ",v.totalPages]}),i.jsx(re,{size:"sm",disabled:e>=v.totalPages,onClick:()=>t(E=>E+1),className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",variant:"outline",children:"Next"})]})]})]})]})}function j9e({isOpen:e,onClose:t,templates:r}){const[n,a]=N.useState(""),[s,o]=N.useState(""),[l,c]=N.useState({}),[u,d]=N.useState({}),[f,h]=N.useState(!1),{toast:m}=Ct(),{data:g}=Kt({queryKey:["/api/admin/users"],select:S=>S.users||[]}),{data:x,isLoading:v}=Kt({queryKey:["/api/admin/whatsapp/template-parameters",s],enabled:!!s,queryFn:async()=>{const S=await fetch(`/api/admin/whatsapp/template-parameters/${s}`);if(!S.ok)throw new Error("Failed to fetch template parameters");return S.json()}}),p=async()=>{if(!n||!s){m({title:"Validation Error",description:"Please select a user and template",variant:"destructive"});return}const S=(x==null?void 0:x.required)||[];if(S.length>0){const P=S.filter(A=>{var O;const C=(O=x==null?void 0:x.parameterMetadata)==null?void 0:O[A];return(C==null?void 0:C.type)==="media"?!u[A]:!l[A]||!l[A].trim()});if(P.length>0){m({title:"Missing Parameters",description:`Please provide values for: ${P.join(", ")}`,variant:"destructive"});return}}h(!0);try{const P=Object.keys(u).length>0;let A,C={};if(P){const E=new FormData;E.append("userId",n),E.append("templateName",s),E.append("parameters",JSON.stringify(l)),Object.entries(u).forEach(([k,R])=>{E.append(`media_${k}`,R)}),A=E}else A=JSON.stringify({userId:n,templateName:s,parameters:l}),C["Content-Type"]="application/json";const D=await(await fetch("/api/admin/whatsapp/send-template",{method:"POST",headers:C,body:A})).json();if(D.success)m({title:"Template Delivered",description:`Template "${s}" delivered to WhatsApp`}),a(""),o(""),c({}),d({}),t();else{const E=D.message||D.error||"Template delivery failed";m({title:"Delivery Failed",description:E,variant:"destructive"})}}catch(P){m({title:"Send Failed",description:P.message||"Failed to send template",variant:"destructive"})}finally{h(!1)}};if(!e)return null;const y=(x==null?void 0:x.required)||[],w=(x==null?void 0:x.paramCount)||0,j=(x==null?void 0:x.parameterMetadata)||{};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs(Ce,{className:"w-full max-w-md max-h-96 overflow-y-auto",children:[i.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0",children:[i.jsxs("div",{children:[i.jsx(Ze,{children:"Send Template to User"}),i.jsx(kt,{children:"Send a WhatsApp template to a specific user"})]}),i.jsx(re,{onClick:t,variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:i.jsx(Fl,{className:"w-4 h-4"})})]}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"user",children:"Select User"}),i.jsxs(Kr,{value:n,onValueChange:a,children:[i.jsx(Br,{children:i.jsx(Gr,{placeholder:"Choose a user"})}),i.jsx(Ur,{className:"max-h-60",children:g==null?void 0:g.map(S=>i.jsxs(nt,{value:S.id,children:[S.fullName," (",S.phone,")"]},S.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"template",children:"Select Template"}),i.jsxs(Kr,{value:s,onValueChange:S=>{o(S),c({})},children:[i.jsx(Br,{children:i.jsx(Gr,{placeholder:"Choose a template"})}),i.jsx(Ur,{children:r.map((S,P)=>i.jsxs(nt,{value:S.name,children:[S.name," ",S.status&&`(${S.status})`]},P))})]})]}),s&&x&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 space-y-2",children:[i.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Template Information"}),i.jsxs("div",{className:"text-xs space-y-1 text-blue-800",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Language:"})," ",x.language]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Status:"})," ",x.status]}),w>0&&i.jsxs("p",{children:[i.jsx("strong",{children:"Required Parameters:"})," ",w]})]})]}),s&&v&&i.jsx("div",{className:"text-sm text-gray-500",children:"Loading template requirements..."}),s&&x&&w>0&&i.jsxs("div",{className:"space-y-3 bg-amber-50 border border-amber-200 rounded-lg p-3",children:[i.jsxs("div",{className:"text-sm font-medium text-amber-900 flex items-center gap-2",children:[i.jsx(Ei,{className:"w-4 h-4"}),"This template requires ",w," parameter(s)"]}),y.map((S,P)=>{const A=j[S],C=(A==null?void 0:A.type)==="media",O=(A==null?void 0:A.mediaType)||"image";return i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ve,{htmlFor:S,className:"text-xs font-medium",children:C?i.jsxs(i.Fragment,{children:["Parameter ",P+1,": ",S," (Upload ",O,") *"]}):i.jsxs(i.Fragment,{children:["Parameter ",P+1,": ",S," *"]})}),C?i.jsxs("div",{className:"relative",children:[i.jsx(Be,{id:S,type:"file",accept:O==="image"?"image/*":O==="video"?"video/*":"*/*",onChange:D=>{var k;const E=(k=D.target.files)==null?void 0:k[0];E&&d({...u,[S]:E})},className:"text-sm"}),u[S]&&i.jsxs("div",{className:"text-xs text-green-600 mt-1 flex items-center gap-1",children:[i.jsx(cw,{className:"w-3 h-3"}),u[S].name]})]}):i.jsx(Be,{id:S,placeholder:`Enter ${S}`,value:l[S]||"",onChange:D=>c({...l,[S]:D.target.value}),required:!0,className:"text-sm"})]},S)})]}),s&&x&&w===0&&i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:i.jsx("p",{className:"text-sm text-green-800",children:" No parameters required for this template"})}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(re,{onClick:t,variant:"outline",className:"flex-1",children:"Cancel"}),i.jsxs(re,{onClick:p,disabled:f||!n||!s||v,className:"flex-1",children:[i.jsx(Hi,{className:"w-4 h-4 mr-2"}),f?"Sending...":"Send"]})]})]})]})})}function PZ(){const[e,t]=N.useState([]),[r,n]=N.useState(!1),[a,s]=N.useState(null),[o,l]=N.useState(!1),[c,u]=N.useState(!1);N.useState(null);const{toast:d}=Ct();N.useEffect(()=>{f()},[]);const f=async()=>{n(!0);try{const m=await He("GET","/api/admin/whatsapp/templates");if(m.ok){const g=await m.json();t(g.templates||[]),d({title:"Templates Loaded",description:`Found ${g.count} template(s) in Meta Business Manager`})}else throw new Error("Failed to fetch templates")}catch{d({title:"Load Failed",description:"Could not fetch templates from Meta. Check your credentials.",variant:"destructive"}),t([])}finally{n(!1)}},h=m=>{const x={APPROVED:{variant:"default",label:" Approved"},PENDING_REVIEW:{variant:"secondary",label:" Pending"},REJECTED:{variant:"destructive",label:" Rejected"},DISABLED:{variant:"outline",label:"Disabled"},PAUSED:{variant:"outline",label:"Paused"}}[m]||{variant:"outline",label:m};return i.jsx(st,{variant:x.variant,children:x.label})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ce,{children:[i.jsx(Ge,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(us,{className:"w-5 h-5"}),"WhatsApp Template Manager"]}),i.jsx(kt,{children:"View and manage your WhatsApp templates from Meta Business Manager"})]}),i.jsxs(re,{onClick:f,disabled:r,variant:"outline",children:[i.jsx(lw,{className:`w-4 h-4 mr-2 ${r?"animate-spin":""}`}),r?"Loading...":"Refresh Templates"]})]})}),i.jsx(Ie,{children:e.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-gray-500 mb-4",children:"No templates found"}),i.jsx("p",{className:"text-sm text-gray-400",children:"Create templates first or load from Meta"})]}):i.jsx("div",{className:"space-y-4",children:e.map((m,g)=>i.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:m.name}),h(m.status)]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Language:"})," ",m.language||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Category:"})," ",m.category||"N/A"]})]})]}),i.jsxs(re,{onClick:()=>{s(m),l(!0)},variant:"ghost",size:"sm",children:[i.jsx(zo,{className:"w-4 h-4 mr-2"}),"View"]})]})},g))})})]}),i.jsxs(re,{onClick:()=>u(!0),className:"w-full bg-green-600 hover:bg-green-700",size:"lg",children:[i.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Send Template to User"]}),o&&a&&i.jsxs(Ce,{className:"border-blue-200 bg-blue-50",children:[i.jsx(Ge,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ze,{className:"text-lg",children:a.name}),i.jsx(re,{onClick:()=>l(!1),variant:"ghost",size:"sm",children:""})]})}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-700",children:"Status"}),i.jsx("p",{className:"text-gray-600 mt-1",children:a.status})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-700",children:"Language"}),i.jsx("p",{className:"text-gray-600 mt-1",children:a.language||"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-700",children:"Category"}),i.jsx("p",{className:"text-gray-600 mt-1",children:a.category||"N/A"})]})]}),a.components&&a.components.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"Components"}),i.jsx("div",{className:"space-y-2 bg-white p-3 rounded border",children:a.components.map((m,g)=>i.jsxs("div",{className:"text-sm",children:[i.jsxs("p",{className:"font-medium text-gray-900 capitalize",children:[m.type,":"]}),i.jsx("p",{className:"text-gray-600 ml-2",children:m.text||JSON.stringify(m)})]},g))})]}),i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3",children:i.jsxs("p",{className:"text-sm text-yellow-800",children:[i.jsx("strong",{children:"Note:"})," To edit this template, go to Meta Business Manager. Changes sync when you refresh."]})})]})]}),i.jsx(j9e,{isOpen:c,onClose:()=>u(!1),templates:e})]})}function N9e(){var R,L,H,F,V;const[e,t]=N.useState("settings"),[r,n]=N.useState({apiKey:"",accountEmail:"",senderId:"",whatsappAccessToken:"",whatsappPhoneNumberId:"",whatsappBusinessAccountId:""}),[a,s]=N.useState({enableOtpMessages:!0,enablePasswordResetMessages:!0,enableFundReceiptMessages:!0,enableKycVerifiedMessages:!0,enableCardActivationMessages:!0,enableLoginAlertMessages:!0}),[o,l]=N.useState(!1),[c,u]=N.useState(!0),[d,f]=N.useState(""),[h,m]=N.useState(""),[g,x]=N.useState(!1),[v,p]=N.useState(!1),{toast:y}=Ct(),{data:w}=Kt({queryKey:["/api/admin/users"],select:B=>B.users||[]});N.useEffect(()=>{j()},[]);const j=async()=>{u(!0);try{const[B,G]=await Promise.all([He("GET","/api/admin/messaging-settings"),He("GET","/api/admin/message-toggles")]);if(B.ok){const le=await B.json();n(le)}if(G.ok){const le=await G.json();s(le)}}catch(B){console.error("Error loading settings:",B),y({title:"Loading Failed",description:"Failed to load settings. Using default values.",variant:"destructive"})}finally{u(!1)}},S=async()=>{l(!0);try{if((await He("PUT","/api/admin/message-toggles",a)).ok)y({title:"Toggles Updated",description:"Message types have been updated successfully."});else throw new Error("Failed to update toggles")}catch{y({title:"Update Failed",description:"Failed to update message toggles. Please try again.",variant:"destructive"}),await j()}finally{l(!1)}},P=async()=>{p(!0);try{const B=await He("POST","/api/admin/whatsapp/create-templates");if(B.ok){const G=await B.json();y({title:"Templates Created",description:`Successfully created ${G.successCount} template(s). ${G.failedCount>0?`Failed: ${G.failedCount}`:"All templates ready!"}`})}else{const G=await B.json();throw new Error(G.message||"Failed to create templates")}}catch(B){y({title:"Template Creation Failed",description:B.message||"Failed to create WhatsApp templates. Please try again.",variant:"destructive"})}finally{p(!1)}},A=async()=>{l(!0);try{if((await He("PUT","/api/admin/messaging-settings",r)).ok)await j(),y({title:"Settings Updated",description:"Messaging configuration has been saved successfully."});else throw new Error("Failed to update settings")}catch{y({title:"Update Failed",description:"Failed to update messaging settings. Please try again.",variant:"destructive"})}finally{l(!1)}},C=async()=>{if(!d||!h.trim()){y({title:"Validation Error",description:"Please select a user and enter a message.",variant:"destructive"});return}x(!0);try{const B=await He("POST","/api/admin/send-message",{userId:d,message:h});if(B.ok){const G=await B.json(),le=[];G.sms&&le.push("SMS"),G.whatsapp&&le.push("WhatsApp"),y({title:"Message Sent",description:le.length>0?`Message sent via ${le.join(" and ")}`:"Message delivery status unknown"}),m(""),f("")}else{const G=await B.json();throw new Error(G.message||"Failed to send message")}}catch(B){y({title:"Send Failed",description:B.message||"Failed to send message. Please try again.",variant:"destructive"})}finally{x(!1)}},O=()=>160-("[Greenpay] ".length+h.length),D=!!((R=r.apiKey)!=null&&R.trim()&&((L=r.accountEmail)!=null&&L.trim())&&((H=r.senderId)!=null&&H.trim())),E=!!((F=r.whatsappAccessToken)!=null&&F.trim()&&((V=r.whatsappPhoneNumberId)!=null&&V.trim())),k=D||E;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Messaging Settings"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Configure SMS and WhatsApp messaging channels"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(st,{variant:D?"default":"outline",className:"flex items-center gap-2",children:[i.jsx(us,{className:"w-4 h-4"}),"SMS: ",D?" Configured":"Not Set"]}),i.jsxs(st,{variant:E?"default":"outline",className:"flex items-center gap-2",children:[i.jsx(us,{className:"w-4 h-4"}),"WhatsApp: ",E?" Configured":"Not Set"]}),k&&i.jsxs(st,{variant:"secondary",className:"flex items-center gap-2",children:[i.jsx(Fr,{className:"w-4 h-4"}),"Messaging Ready"]})]})]}),i.jsx("div",{className:"border-b border-gray-200",children:i.jsxs("div",{className:"flex gap-8",children:[i.jsx("button",{onClick:()=>t("settings"),className:`pb-4 px-1 text-sm font-medium transition border-b-2 ${e==="settings"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Configuration"}),i.jsx("button",{onClick:()=>t("templates"),className:`pb-4 px-1 text-sm font-medium transition border-b-2 ${e==="templates"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Templates Manager"})]})}),e==="settings"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Sl,{className:"w-5 h-5"}),"SMS Configuration"]}),i.jsx(kt,{children:"Configure SMS delivery via TalkNTalk API"})]}),i.jsx(Ie,{className:"space-y-4",children:c?i.jsxs("div",{className:"flex items-center justify-center py-8",children:[i.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin mr-3"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading settings..."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"apiKey",children:"API Key (X-API-Key)"}),i.jsx(Be,{id:"apiKey",type:"password",value:r.apiKey,onChange:B=>n({...r,apiKey:B.target.value}),placeholder:"Enter your TalkNTalk API key"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Your TalkNTalk API key for SMS authentication"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"accountEmail",children:"Account Email (X-Account-Email)"}),i.jsx(Be,{id:"accountEmail",type:"email",value:r.accountEmail,onChange:B=>n({...r,accountEmail:B.target.value}),placeholder:"support@greenpay.world"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Your TalkNTalk account email address"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"senderId",children:"Sender ID"}),i.jsx(Be,{id:"senderId",value:r.senderId,onChange:B=>n({...r,senderId:B.target.value}),placeholder:"Greenpay"}),i.jsx("p",{className:"text-sm text-gray-500",children:"SMS sender ID (alphanumeric, max 11 characters)"})]})]})})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Sl,{className:"w-5 h-5"}),"WhatsApp Configuration"]}),i.jsx(kt,{children:"Configure WhatsApp delivery via Meta Business API"})]}),i.jsx(Ie,{className:"space-y-4",children:c?i.jsxs("div",{className:"flex items-center justify-center py-8",children:[i.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin mr-3"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading settings..."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"whatsappAccessToken",children:"Access Token"}),i.jsx(Be,{id:"whatsappAccessToken",type:"password",value:r.whatsappAccessToken,onChange:B=>n({...r,whatsappAccessToken:B.target.value}),placeholder:"Enter your Meta access token"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Your Meta WhatsApp Business API access token"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"whatsappPhoneNumberId",children:"Phone Number ID"}),i.jsx(Be,{id:"whatsappPhoneNumberId",value:r.whatsappPhoneNumberId,onChange:B=>n({...r,whatsappPhoneNumberId:B.target.value}),placeholder:"1234567890"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Your WhatsApp Business phone number ID from Meta"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"whatsappBusinessAccountId",children:"Business Account ID (WABA ID)"}),i.jsx(Be,{id:"whatsappBusinessAccountId",value:r.whatsappBusinessAccountId,onChange:B=>n({...r,whatsappBusinessAccountId:B.target.value}),placeholder:"526034077251940"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Your WhatsApp Business Account ID from Meta (required for creating templates)"})]}),i.jsxs(Pc,{children:[i.jsx(Ei,{className:"h-4 w-4"}),i.jsx(Ac,{className:"text-xs",children:"Set up Meta Business account at developers.facebook.com and create WhatsApp Business app"})]})]})})]})]}),i.jsxs(re,{onClick:A,disabled:o,className:"w-full",size:"lg",children:[i.jsx(zs,{className:"w-4 h-4 mr-2"}),o?"Saving...":"Save All Settings"]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Hi,{className:"w-5 h-5"}),"Send Test Message"]}),i.jsx(kt,{children:"Send a test message to any user via all configured channels"})]}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"user",children:"Select User"}),i.jsxs(Kr,{value:d,onValueChange:f,children:[i.jsx(Br,{children:i.jsx(Gr,{placeholder:"Choose a user"})}),i.jsx(Ur,{children:w==null?void 0:w.map(B=>i.jsxs(nt,{value:B.id,children:[B.fullName," (",B.phone,")"]},B.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"message",children:"Message"}),i.jsx(za,{id:"message",value:h,onChange:B=>m(B.target.value),placeholder:"Enter your message (without [Greenpay] prefix)",rows:4,maxLength:149}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("p",{className:"text-gray-500",children:'Message will be prefixed with "[Greenpay]"'}),i.jsxs("p",{className:`${O()<0?"text-red-500":"text-gray-500"}`,children:[O()," chars remaining"]})]})]}),i.jsxs(re,{onClick:C,disabled:g||!d||!h.trim()||O()<0,className:"w-full",children:[i.jsx(Hi,{className:"w-4 h-4 mr-2"}),g?"Sending...":`Send Test Message${D&&E?" (SMS + WhatsApp)":D?" (SMS Only)":E?" (WhatsApp Only)":""}`]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-blue-800 flex items-start gap-2",children:[i.jsx("span",{className:"text-lg",children:""}),i.jsx("span",{children:'Messages are sent via all configured channels. All messages are automatically prefixed with "[Greenpay]".'})]})})]})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Sl,{className:"w-5 h-5"}),"Message Type Controls"]}),i.jsx(kt,{children:"Enable or disable specific message types sent to users"})]}),i.jsx(Ie,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"enableOtpMessages",label:"OTP Verification",desc:"Login/signup verification codes"},{key:"enablePasswordResetMessages",label:"Password Reset",desc:"Password reset codes"},{key:"enableFundReceiptMessages",label:"Fund Receipt",desc:"Money received notifications"},{key:"enableKycVerifiedMessages",label:"KYC Verified",desc:"Account verification complete"},{key:"enableCardActivationMessages",label:"Card Activation",desc:"Virtual card activated"},{key:"enableLoginAlertMessages",label:"Login Alert",desc:"New login notifications with location/IP"}].map(B=>i.jsxs("div",{className:"flex items-start justify-between p-3 border rounded-lg hover:bg-gray-50",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:B.label}),i.jsx("p",{className:"text-sm text-gray-600",children:B.desc})]}),i.jsx("button",{onClick:()=>s(G=>({...G,[B.key]:!G[B.key]})),className:`ml-4 px-3 py-1 rounded-full text-sm font-medium transition ${a[B.key]?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a[B.key]?"ON":"OFF"})]},B.key))}),i.jsxs(re,{onClick:S,disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700",children:[i.jsx(zs,{className:"w-4 h-4 mr-2"}),o?"Saving...":"Save Message Toggles"]})]})})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(us,{className:"w-5 h-5"}),"WhatsApp Message Templates"]}),i.jsx(kt,{children:"Create pre-approved message templates in Meta Business Manager"})]}),i.jsx(Ie,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Click the button below to automatically create all required WhatsApp message templates in your Meta Business Account. Templates must be approved by Meta before they can be used."}),i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-yellow-800 flex items-start gap-2",children:[i.jsx("span",{className:"text-lg",children:""}),i.jsx("span",{children:"Templates will be created in pending status. You must approve them in Meta Business Manager before users can receive messages."})]})}),i.jsxs(re,{onClick:P,disabled:v,className:"w-full bg-green-600 hover:bg-green-700",children:[i.jsx(us,{className:"w-4 h-4 mr-2"}),v?"Creating Templates...":"Create All WhatsApp Templates"]})]})})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Fr,{className:"w-5 h-5"}),"Automatic Notifications"]}),i.jsx(kt,{children:"Messages are automatically sent for the following events (when enabled above)"})]}),i.jsx(Ie,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"User Actions:"}),i.jsxs("ul",{className:"space-y-1 text-gray-600",children:[i.jsxs("li",{children:[" ",i.jsx("strong",{children:"OTP Verification:"})," Login/signup verification code"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Fund Receipt:"})," Money received notification"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Login Alert:"})," Location and IP on new login"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Password Reset:"})," Password reset code"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Admin Actions:"}),i.jsxs("ul",{className:"space-y-1 text-gray-600",children:[i.jsxs("li",{children:[" ",i.jsx("strong",{children:"KYC Verified:"})," Account verification complete"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Card Activation:"})," Virtual card activated"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Transactions:"})," Withdrawal & transfer updates"]})]})]})]})})]}),i.jsxs(Ce,{children:[i.jsx(Ge,{children:i.jsx(Ze,{children:"Setup Guide"})}),i.jsx(Ie,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"SMS (TalkNTalk):"}),i.jsxs("ol",{className:"space-y-1 text-gray-600 list-decimal list-inside",children:[i.jsx("li",{children:"Sign up at talkntalk.africa"}),i.jsx("li",{children:"Get your API key and account email"}),i.jsx("li",{children:"Create a sender ID"}),i.jsx("li",{children:"Fill SMS settings above"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"WhatsApp (Meta):"}),i.jsxs("ol",{className:"space-y-1 text-gray-600 list-decimal list-inside",children:[i.jsx("li",{children:"Create Meta Business account"}),i.jsx("li",{children:"Create WhatsApp Business app"}),i.jsx("li",{children:"Get Phone Number ID & Access Token"}),i.jsx("li",{children:"Fill WhatsApp settings above"})]})]})]})})]})]}),e==="templates"&&i.jsx(PZ,{})]})}function S9e(){const{toast:e}=Ct(),[t,r]=N.useState(""),[n,a]=N.useState(!1),[s,o]=N.useState(!1),[l,c]=N.useState(""),[u,d]=N.useState(!1),[f,h]=N.useState(!1),[m,g]=N.useState(""),[x,v]=N.useState(""),[p,y]=N.useState({}),[w,j]=N.useState(!1),[S,P]=N.useState(null),[A,C]=N.useState([]),[O,D]=N.useState(!1),[E,k]=N.useState(""),[R,L]=N.useState({}),[H,F]=N.useState(!1),[V,B]=N.useState(""),[G,le]=N.useState("");N.useEffect(()=>{fe(),$()},[]);const fe=async()=>{try{const _e=await He("GET","/api/admin/mailtrap-settings");if(_e.ok){const ve=await _e.json();a(ve.isConfigured)}}catch(_e){console.error("Error loading Mailtrap settings:",_e),e({title:"Error",description:"Failed to load Mailtrap settings",variant:"destructive"})}},$=async()=>{D(!0);try{const _e=await He("GET","/api/admin/users-list");if(_e.ok){const ve=await _e.json();C(ve)}}catch(_e){console.error("Error loading users:",_e)}finally{D(!1)}},q=async()=>{if(!t.trim()){e({title:"Validation Error",description:"API key is required",variant:"destructive"});return}d(!0);try{if((await He("POST","/api/admin/mailtrap-settings",{apiKey:t.trim()})).ok)e({title:"Success",description:"Mailtrap API key saved successfully"}),a(!0),r(""),o(!1),await fe();else throw new Error("Failed to save settings")}catch{e({title:"Save Failed",description:"Failed to save Mailtrap settings",variant:"destructive"})}finally{d(!1)}},Q=()=>{o(!0),r("")},ae=()=>{o(!1),r("")},ue=async()=>{if(!l.trim()){e({title:"Validation Error",description:"Test email address is required",variant:"destructive"});return}h(!0);try{if((await He("POST","/api/admin/mailtrap-test",{email:l.trim()})).ok)e({title:"Success",description:"Test email sent successfully"}),c("");else throw new Error("Failed to send test email")}catch{e({title:"Test Failed",description:"Failed to send test email",variant:"destructive"})}finally{h(!1)}},ce=()=>{if(!V.trim()){e({title:"Validation Error",description:"Parameter key is required",variant:"destructive"});return}y({...p,[V]:G}),B(""),le("")},we=_e=>{const ve={...p};delete ve[_e],y(ve)},oe=async()=>{if(!m.trim()||!x.trim()){e({title:"Validation Error",description:"Template UUID and email are required",variant:"destructive"});return}j(!0);try{if((await He("POST","/api/admin/send-template-test",{email:x.trim(),templateUuid:m.trim(),parameters:p})).ok)e({title:"Success",description:"Template email sent successfully"}),g(""),v(""),y({});else throw new Error("Failed to send template")}catch{e({title:"Send Failed",description:"Failed to send template email",variant:"destructive"})}finally{j(!1)}},ye=()=>{if(!V.trim()){e({title:"Validation Error",description:"Parameter key is required",variant:"destructive"});return}L({...R,[V]:G}),B(""),le("")},Ne=_e=>{const ve={...R};delete ve[_e],L(ve)},pe=async()=>{if(!(S!=null&&S.id)||!E.trim()){e({title:"Validation Error",description:"Please select a user and provide a template UUID",variant:"destructive"});return}F(!0);try{if((await He("POST","/api/admin/send-template-to-user",{userId:S.id,templateUuid:E.trim(),parameters:R})).ok)e({title:"Success",description:"Template email sent to user successfully"}),P(null),k(""),L({});else throw new Error("Failed to send to user")}catch{e({title:"Send Failed",description:"Failed to send template to user",variant:"destructive"})}finally{F(!1)}};return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Mail Management"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Manage Mailtrap templates and send transactional emails to users"})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Nl,{className:"w-5 h-5"}),"Mailtrap Email Service"]}),i.jsx(kt,{children:"Configure Mailtrap for sending transactional emails"})]}),i.jsxs(Ie,{className:"space-y-6",children:[n?i.jsxs(Pc,{className:"border-green-200 bg-green-50",children:[i.jsx(Fr,{className:"h-4 w-4 text-green-600"}),i.jsx(Ac,{className:"text-green-800",children:"Mailtrap is configured and ready to use"})]}):i.jsxs(Pc,{className:"border-yellow-200 bg-yellow-50",children:[i.jsx(Ei,{className:"h-4 w-4 text-yellow-600"}),i.jsx(Ac,{className:"text-yellow-800",children:"Mailtrap is not configured. Add your API key below."})]}),!s&&n?i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"API Key Configured"}),i.jsx("p",{className:"text-sm text-gray-600",children:""})]}),i.jsx(re,{onClick:Q,variant:"outline",className:"ml-4",children:"Edit Key"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"api-key",children:"Mailtrap API Key"}),i.jsx(Be,{id:"api-key",type:"password",placeholder:"Enter your Mailtrap API token",value:t,onChange:_e=>r(_e.target.value)}),i.jsx("p",{className:"text-sm text-gray-500",children:"Get your API key from your Mailtrap account settings"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(re,{onClick:q,disabled:u,className:"flex-1 bg-green-600 hover:bg-green-700",children:[i.jsx(zs,{className:"w-4 h-4 mr-2"}),u?"Saving...":"Save API Key"]}),s&&i.jsx(re,{onClick:ae,variant:"outline",disabled:u,children:"Cancel"})]})]}),n&&i.jsxs("div",{className:"space-y-4 p-4 border-t",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"test-email",children:"Send Quick Test Email"}),i.jsx(Be,{id:"test-email",type:"email",placeholder:"your@email.com",value:l,onChange:_e=>c(_e.target.value)})]}),i.jsx(re,{onClick:ue,disabled:f,className:"w-full",variant:"outline",children:f?"Sending...":"Send Quick Test"})]})]})]}),n&&i.jsxs(i.Fragment,{children:[i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Nl,{className:"w-5 h-5"}),"Test Mailtrap Template"]}),i.jsx(kt,{children:"Send a Mailtrap template by UUID to test it"})]}),i.jsxs(Ie,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"test-uuid",children:"Template UUID *"}),i.jsx(Be,{id:"test-uuid",placeholder:"e.g., 64254a5b-a2ba-4b7d-aa41-5a0907c836db",value:m,onChange:_e=>g(_e.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"test-email-addr",children:"Email Address *"}),i.jsx(Be,{id:"test-email-addr",type:"email",placeholder:"recipient@example.com",value:x,onChange:_e=>v(_e.target.value)})]})]}),i.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg border",children:[i.jsx("h3",{className:"font-semibold text-sm",children:"Template Parameters"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[i.jsx(Be,{placeholder:"Parameter key (e.g., first_name)",value:V,onChange:_e=>B(_e.target.value)}),i.jsx(Be,{placeholder:"Parameter value",value:G,onChange:_e=>le(_e.target.value)}),i.jsxs(re,{onClick:ce,variant:"outline",className:"w-full",children:[i.jsx(YP,{className:"w-4 h-4 mr-2"}),"Add"]})]}),Object.keys(p).length>0&&i.jsx("div",{className:"space-y-2",children:Object.entries(p).map(([_e,ve])=>i.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[i.jsxs("span",{className:"text-sm",children:[i.jsxs("span",{className:"font-semibold",children:[_e,":"]})," ",ve]}),i.jsx(re,{onClick:()=>we(_e),variant:"ghost",size:"sm",children:i.jsx(Fc,{className:"w-4 h-4 text-red-500"})})]},_e))})]}),i.jsx(re,{onClick:oe,disabled:w,className:"w-full bg-blue-600 hover:bg-blue-700",children:w?i.jsxs(i.Fragment,{children:[i.jsx(id,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Send Template"]})})]})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Nl,{className:"w-5 h-5"}),"Send Email Template to User"]}),i.jsx(kt,{children:"Send a Mailtrap template to a specific user via email"})]}),i.jsxs(Ie,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"user-select",children:"Select User *"}),O?i.jsx("div",{className:"p-3 bg-gray-50 rounded border text-sm text-gray-600",children:"Loading users..."}):i.jsxs("select",{id:"user-select",value:(S==null?void 0:S.id)||"",onChange:_e=>{const ve=A.find(J=>J.id===_e.target.value);P(ve||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:[i.jsx("option",{value:"",children:"-- Select a user --"}),A.map(_e=>i.jsxs("option",{value:_e.id,children:[_e.name||"Unknown"," (",_e.email||_e.phone||"No contact",")"]},_e.id))]})]}),S&&i.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded",children:i.jsxs("p",{className:"text-sm text-blue-900",children:[i.jsx("span",{className:"font-semibold",children:"Selected:"})," ",S.name||"Unknown"," (",S.email,")"]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"template-uuid",children:"Template UUID *"}),i.jsx(Be,{id:"template-uuid",placeholder:"e.g., 64254a5b-a2ba-4b7d-aa41-5a0907c836db",value:E,onChange:_e=>k(_e.target.value)})]}),i.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg border",children:[i.jsx("h3",{className:"font-semibold text-sm",children:"Template Parameters"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[i.jsx(Be,{placeholder:"Parameter key (e.g., otp)",value:V,onChange:_e=>B(_e.target.value)}),i.jsx(Be,{placeholder:"Parameter value",value:G,onChange:_e=>le(_e.target.value)}),i.jsxs(re,{onClick:ye,variant:"outline",className:"w-full",children:[i.jsx(YP,{className:"w-4 h-4 mr-2"}),"Add"]})]}),Object.keys(R).length>0&&i.jsx("div",{className:"space-y-2",children:Object.entries(R).map(([_e,ve])=>i.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[i.jsxs("span",{className:"text-sm",children:[i.jsxs("span",{className:"font-semibold",children:[_e,":"]})," ",ve]}),i.jsx(re,{onClick:()=>Ne(_e),variant:"ghost",size:"sm",children:i.jsx(Fc,{className:"w-4 h-4 text-red-500"})})]},_e))})]}),i.jsx(re,{onClick:pe,disabled:H||!S,className:"w-full bg-green-600 hover:bg-green-700",children:H?i.jsxs(i.Fragment,{children:[i.jsx(id,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Send Email"]})})]})]})]})]})}function _9e(){const[,e]=Gt(),[t,r]=N.useState(null),[n,a]=N.useState(""),[s,o]=N.useState(!1),l=N.useRef(null),{toast:c}=Ct(),u=en(),{data:d}=Kt({queryKey:["/api/admin/messaging-settings"],queryFn:async()=>(await He("GET","/api/admin/messaging-settings")).json()});N.useEffect(()=>{d!=null&&d.whatsappAccessToken&&(d!=null&&d.whatsappPhoneNumberId)?o(!0):o(!1)},[d]);const{data:f=[]}=Kt({queryKey:["/api/admin/whatsapp/conversations"],queryFn:async()=>(await He("GET","/api/admin/whatsapp/conversations")).json(),refetchInterval:3e3}),{data:h=[]}=Kt({queryKey:["/api/admin/whatsapp/messages",t],queryFn:async()=>t?(await He("GET",`/api/admin/whatsapp/messages/${t}`)).json():[],enabled:!!t,refetchInterval:2e3}),m=f.find(P=>P.id===t),[g,x]=N.useState(null),[v,p]=N.useState(new Set),y=N.useRef(null),w=()=>{m&&t&&He("POST","/api/admin/whatsapp/typing",{phoneNumber:m.phoneNumber}).catch(P=>console.error("Failed to send typing indicator:",P))};N.useEffect(()=>(n.trim()&&m&&(y.current&&clearTimeout(y.current),w(),y.current=setTimeout(()=>{y.current=null},3e3)),()=>{y.current&&clearTimeout(y.current)}),[n,m]);const j=St({mutationFn:async P=>(await He("POST","/api/admin/whatsapp/send",P)).json(),onSuccess:()=>{a(""),x(null),u.invalidateQueries({queryKey:["/api/admin/whatsapp/messages",t]}),c({title:"Message sent",description:"WhatsApp message sent successfully"})},onError:P=>{c({title:"Error",description:(P==null?void 0:P.message)||"Failed to send message",variant:"destructive"})}}),S=async()=>{if(!t||!n.trim())return;const P=f.find(O=>O.id===t);if(!P)return;let A,C;if(g){const O=new FormData;O.append("file",g);try{const D=await fetch("/api/upload",{method:"POST",credentials:"include",body:O});if(!D.ok)throw new Error(`Upload failed: ${D.status}`);const E=await D.json();A=E.fileUrl||E.url,C=g.type.startsWith("image/")?"image":g.type.startsWith("video/")?"video":"file",console.log("[WhatsApp] Media uploaded:",{mediaUrl:A,mediaType:C})}catch(D){console.error("[WhatsApp] Media upload error:",D),c({title:"Error",description:D.message||"Failed to upload media file",variant:"destructive"});return}}j.mutate({conversationId:t,phoneNumber:P.phoneNumber,message:n.trim(),mediaUrl:A,mediaType:C})};return N.useEffect(()=>{var P;(P=l.current)==null||P.scrollIntoView({behavior:"smooth"})},[h]),s?i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-3 gap-4 h-[600px]",children:[i.jsxs(Ce,{className:"col-span-1",children:[i.jsx(Ge,{className:"pb-3",children:i.jsxs(Ze,{className:"flex items-center gap-2 text-lg",children:[i.jsx(qy,{className:"w-4 h-4"}),"Conversations"]})}),i.jsx(Ie,{className:"p-0",children:i.jsx(Pa,{className:"h-[530px]",children:f.length===0?i.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No conversations yet"}):i.jsx("div",{className:"space-y-1 p-2",children:f.map(P=>i.jsx("button",{onClick:()=>r(P.id),className:`w-full text-left p-3 rounded-lg transition-colors ${t===P.id?"bg-green-100 border-l-4 border-green-500":"hover:bg-gray-100"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:P.displayName||P.phoneNumber}),i.jsx("p",{className:"text-xs text-gray-500",children:P.phoneNumber})]}),i.jsx(st,{variant:"outline",className:"text-xs",children:P.status})]})},P.id))})})})]}),i.jsx(Ce,{className:"col-span-2",children:m?i.jsxs(i.Fragment,{children:[i.jsx(Ge,{className:"pb-3 border-b",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(mj,{className:"w-4 h-4"}),m.displayName||m.phoneNumber]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:m.phoneNumber})]})})}),i.jsxs(Ie,{className:"flex flex-col h-[540px] p-0",children:[i.jsx(Pa,{className:"flex-1 p-4",children:i.jsx("div",{className:"space-y-3",children:h.length===0?i.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No messages yet"}):i.jsxs(i.Fragment,{children:[[...h].reverse().map(P=>{var C;const A=P.messageType&&P.messageType!=="text"&&P.fileUrl;return i.jsx("div",{className:`flex ${P.isFromAdmin?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg space-y-2 ${P.isFromAdmin?"bg-green-500 text-white":"bg-gray-200 text-gray-900"}`,children:[P.content&&i.jsx("p",{className:"text-sm",children:P.content}),A&&i.jsxs(i.Fragment,{children:[P.messageType==="image"&&i.jsx("img",{src:P.fileUrl,alt:P.fileName||"Message media",className:"max-w-full h-auto rounded cursor-pointer hover:opacity-80 max-h-64",onClick:()=>window.open(P.fileUrl,"_blank")}),P.messageType==="video"&&i.jsx("video",{controls:!0,className:"max-w-full h-auto rounded",style:{maxHeight:"200px"},children:i.jsx("source",{src:P.fileUrl,type:"video/mp4"})}),(P.messageType==="file"||P.messageType==="document")&&i.jsx("a",{href:P.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"block text-xs underline break-all hover:opacity-80",children:(C=P.fileName)!=null&&C.endsWith(".pdf")?" PDF Document":" "+(P.fileName||"Download File")})]}),i.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs opacity-70",children:[i.jsx(Dl,{className:"w-3 h-3"}),Qr(new Date(P.createdAt),"HH:mm"),P.isFromAdmin&&P.status==="sent"&&i.jsx(LC,{className:"w-3 h-3"})]})]})},P.id)}),v.has((m==null?void 0:m.phoneNumber)||"")&&i.jsx("div",{className:"flex justify-start",children:i.jsx("div",{className:"bg-gray-200 text-gray-900 px-4 py-2 rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-xs",children:"typing"}),i.jsxs("div",{className:"flex gap-0.5",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),i.jsx("div",{className:"w-1.5 h-1.5 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),i.jsx("div",{className:"w-1.5 h-1.5 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})}),i.jsx("div",{ref:l})]})})}),i.jsxs("div",{className:"border-t p-4 space-y-2",children:[g&&i.jsxs("div",{className:"text-xs bg-blue-50 p-2 rounded flex justify-between items-center",children:[i.jsxs("span",{children:[" ",g.name]}),i.jsx("button",{onClick:()=>x(null),className:"text-red-600 hover:text-red-800",children:""})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Be,{placeholder:"Type a message...",value:n,onChange:P=>a(P.target.value),onKeyPress:P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),S())},disabled:j.isPending}),i.jsx("input",{type:"file",id:"media-upload",className:"hidden",onChange:P=>{var A;(A=P.target.files)!=null&&A[0]&&x(P.target.files[0])},accept:"image/*,video/*,application/pdf,.doc,.docx,.txt"}),i.jsx(re,{variant:"outline",size:"sm",onClick:()=>{var P;return(P=document.getElementById("media-upload"))==null?void 0:P.click()},disabled:j.isPending,children:""}),i.jsx(re,{onClick:S,disabled:j.isPending||!n.trim(),size:"sm",children:i.jsx(Hi,{className:"w-4 h-4"})})]})]})]})]}):i.jsx("div",{className:"h-[540px] flex items-center justify-center text-muted-foreground",children:"Select a conversation to start messaging"})})]})}):i.jsx("div",{className:"space-y-4",children:i.jsx(Ce,{className:"border-yellow-200 bg-yellow-50",children:i.jsx(Ie,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"text-lg",children:""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-yellow-900",children:"WhatsApp Not Configured"}),i.jsx("p",{className:"text-sm text-yellow-800 mt-1",children:"Please configure your WhatsApp Business credentials in the Messaging Settings to start messaging users."}),i.jsx(re,{size:"sm",className:"mt-3",onClick:()=>e("/admin/mail-management?tab=messaging-settings"),children:"Go to Messaging Settings"})]})]})})})})}function P9e(){const[e,t]=N.useState([]),[r,n]=N.useState(!1),[a,s]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState(null),[d,f]=N.useState(null),[h,m]=N.useState(null),[g,x]=N.useState(null),[v,p]=N.useState(!1),[y,w]=N.useState({valid:!1,message:""});N.useEffect(()=>{j()},[]);const j=async()=>{l(!0);try{const R=await(await fetch("/api/admin/database/check")).json();u(R)}catch(k){u({connected:!1,message:k instanceof Error?k.message:"Connection check failed"})}finally{l(!1)}},S=async()=>{if(!(c!=null&&c.connected)){f({type:"error",text:"Database connection failed. Please check your connection."});return}n(!0),f(null);try{const k=await fetch("/api/admin/database/backup",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(!k.ok){const L=await k.json();throw new Error(L.error||"Export failed")}const R=await k.json();if(R.success){f({type:"success",text:"Database exported successfully!"});const L=document.createElement("a");L.href=`/api/admin/database/backup/${R.backup.id}/download`,L.download=R.backup.filename,document.body.appendChild(L),L.click(),document.body.removeChild(L)}}catch(k){f({type:"error",text:`Failed to export database: ${k instanceof Error?k.message:"Unknown error"}`})}finally{n(!1)}},P=async k=>{if(k.size>104857600)return{valid:!1,message:`File is too large. Maximum size is ${D(104857600)}`};const L=[".json",".sql",".gz",".gzip"],H=k.name.toLowerCase();if(!L.some(V=>H.endsWith(V)))return{valid:!1,message:`Invalid file type. Allowed types: ${L.join(", ")}`};if(H.endsWith(".json"))try{const V=await k.text(),B=JSON.parse(V);if(!B.tables&&!B.backup)return{valid:!1,message:"JSON file does not appear to be a valid database backup"}}catch{return{valid:!1,message:"Invalid JSON format in backup file"}}return{valid:!0,message:"File validated successfully"}},A=async k=>{try{const R=await k.text();let L="";if(k.name.toLowerCase().endsWith(".json"))try{const H=JSON.parse(R);L=JSON.stringify(H,null,2).substring(0,1e3)}catch{L=R.substring(0,1e3)}else L=R.substring(0,1e3);L+=R.length>1e3?`

...[truncated - full file will be restored]`:"",x(L),p(!0)}catch{f({type:"error",text:"Failed to read file preview"})}},C=async k=>{if(m(k),x(null),p(!1),!k){w({valid:!1,message:""});return}const R=await P(k);w(R),R.valid&&await A(k)},O=async()=>{if(!h){f({type:"error",text:"Please select a backup file"});return}if(!(c!=null&&c.connected)){f({type:"error",text:"Database connection failed. Please check your connection."});return}s(!0),f(null);try{const k=new FormData;k.append("file",h);const R=await fetch("/api/admin/database/restore",{method:"POST",body:k,credentials:"include"}),L=await R.json();R.ok?(f({type:"success",text:`Database restored successfully! Restored ${Object.values(L.recordsRestored).reduce((H,F)=>H+F,0)} records.`}),m(null),p(!1),x(null)):f({type:"error",text:`Restore failed: ${L.error||"Unknown error"}`})}catch(k){f({type:"error",text:`Failed to restore database: ${k instanceof Error?k.message:"Unknown error"}`})}finally{s(!1)}},D=k=>{if(k===0)return"0 Bytes";const R=1024,L=["Bytes","KB","MB","GB"],H=Math.floor(Math.log(k)/Math.log(R));return Math.round(k/Math.pow(R,H)*100)/100+" "+L[H]},E=k=>new Date(k).toLocaleString();return i.jsxs("div",{className:"space-y-6",children:[i.jsx(Ce,{className:c!=null&&c.connected?"border-green-200":"border-red-200",children:i.jsx(Ie,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[o?i.jsx(id,{className:"w-5 h-5 animate-spin text-yellow-500"}):c!=null&&c.connected?i.jsx(Fr,{className:"w-5 h-5 text-green-600"}):i.jsx(Ua,{className:"w-5 h-5 text-red-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:c!=null&&c.connected?"Connected":"Disconnected"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:c==null?void 0:c.message})]})]}),i.jsx(re,{onClick:j,variant:"outline",size:"sm",children:"Check Again"})]})})}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(Gs,{className:"w-5 h-5"}),"Export Database"]}),i.jsx(kt,{children:"Create a complete backup of your database"})]}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs(Pc,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:[i.jsx(Ei,{className:"h-4 w-4 text-blue-600"}),i.jsx(Ac,{className:"text-blue-800 dark:text-blue-400",children:"This will export all data from all tables in your database as a compressed file."})]}),i.jsx(re,{onClick:S,disabled:r,className:"w-full",children:r?i.jsxs(i.Fragment,{children:[i.jsx(id,{className:"w-4 h-4 mr-2 animate-spin"}),"Exporting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Export Database Now"]})})]})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(cw,{className:"w-5 h-5"}),"Restore Database"]}),i.jsx(kt,{children:"Restore database from a previously exported file"})]}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs(Pc,{className:"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",children:[i.jsx(Ei,{className:"h-4 w-4 text-yellow-600"}),i.jsx(Ac,{className:"text-yellow-800 dark:text-yellow-400",children:"Warning: This will replace all current database data with the imported backup."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Select Backup File"}),i.jsx("input",{type:"file",accept:".json,.sql,.gz",onChange:k=>{var R;return C(((R=k.target.files)==null?void 0:R[0])||null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg",disabled:a}),h&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:h.name}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:D(h.size)})]}),y.valid?i.jsx(Fr,{className:"w-5 h-5 text-green-600"}):i.jsx(Ua,{className:"w-5 h-5 text-red-600"})]}),i.jsx("p",{className:`text-xs ${y.valid?"text-green-700 dark:text-green-400":"text-red-700 dark:text-red-400"}`,children:y.message})]}),v&&g&&i.jsxs("div",{className:"p-3 bg-gray-900 rounded-lg border border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-xs font-medium text-white",children:"File Preview"}),i.jsx(re,{size:"sm",variant:"ghost",onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-300",children:""})]}),i.jsx("pre",{className:"text-xs text-gray-300 overflow-auto max-h-40 font-mono",children:g})]}),h&&!v&&i.jsxs(re,{size:"sm",variant:"outline",onClick:()=>p(!0),className:"w-full",children:[i.jsx(zo,{className:"w-4 h-4 mr-2"}),"View File Preview"]})]})]}),i.jsx(re,{onClick:O,disabled:a||!h||!y.valid||!(c!=null&&c.connected),className:"w-full",variant:"destructive",children:a?i.jsxs(i.Fragment,{children:[i.jsx(id,{className:"w-4 h-4 mr-2 animate-spin"}),"Restoring..."]}):i.jsxs(i.Fragment,{children:[i.jsx(cw,{className:"w-4 h-4 mr-2"}),"Restore from File"]})})]})]}),d&&i.jsxs(Pc,{className:d.type==="success"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",children:[d.type==="success"?i.jsx(Fr,{className:"h-4 w-4 text-green-600"}):i.jsx(Ua,{className:"h-4 w-4 text-red-600"}),i.jsx(Ac,{className:d.type==="success"?"text-green-800 dark:text-green-400":"text-red-800 dark:text-red-400",children:d.text})]}),e.length>0&&i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsx(Ze,{children:"Recent Backups"}),i.jsx(kt,{children:"Your exported database backups"})]}),i.jsx(Ie,{children:i.jsx("div",{className:"space-y-2",children:e.map(k=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-sm",children:k.filename}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[E(k.createdAt),"  ",D(k.size),"  ",k.tablesCount," tables  ",k.recordsCount," records"]})]}),i.jsx(re,{size:"sm",variant:"outline",onClick:()=>{const R=document.createElement("a");R.href=`/api/admin/database/backup/${k.id}/download`,R.download=k.filename,document.body.appendChild(R),R.click(),document.body.removeChild(R)},children:i.jsx(Gs,{className:"w-4 h-4"})})]},k.id))})})]})]})}const T_={info:{icon:hj,color:"bg-blue-100 text-blue-800",label:"Info"},warn:{icon:pj,color:"bg-yellow-100 text-yellow-800",label:"Warning"},error:{icon:Ei,color:"bg-red-100 text-red-800",label:"Error"},debug:{icon:zo,color:"bg-gray-100 text-gray-800",label:"Debug"}};function A9e(){const[e,t]=N.useState([]),[r,n]=N.useState([]),[a,s]=N.useState(""),[o,l]=N.useState("all"),[c,u]=N.useState("all"),[d,f]=N.useState(!0),[h,m]=N.useState(null),[g,x]=N.useState(!1),[v,p]=N.useState([]);N.useEffect(()=>{y()},[]),N.useEffect(()=>{try{let j=e||[];const S=Array.from(new Set(e.map(P=>P==null?void 0:P.userId).filter(P=>P&&P.trim()&&P!=="system"))).sort();if(p(S),a&&a.trim()){const P=a.toLowerCase();j=j.filter(A=>{var C,O,D,E,k,R;return((O=(C=A==null?void 0:A.userId)==null?void 0:C.toLowerCase())==null?void 0:O.includes(P))||!1||((E=(D=A==null?void 0:A.message)==null?void 0:D.toLowerCase())==null?void 0:E.includes(P))||!1||((R=(k=A==null?void 0:A.source)==null?void 0:k.toLowerCase())==null?void 0:R.includes(P))||!1})}c&&c!=="all"&&(j=j.filter(P=>(P==null?void 0:P.userId)===c)),o&&o!=="all"&&(j=j.filter(P=>(P==null?void 0:P.level)===o)),n(j)}catch(j){console.error("Error filtering logs:",j),n(e||[])}},[e,a,c,o]);const y=async()=>{try{f(!0);const j=await fetch("/api/admin/user-activities");if(j.ok){const P=(await j.json()).map(A=>{const C=A.userId||(A.source?A.source.split(":")[1]:"system");return{...A,userId:C||"system",timestamp:new Date(A.timestamp)}});t(P)}}catch(j){console.error("Failed to fetch logs:",j)}finally{f(!1)}},w=()=>{const j=[["User ID","Level","Message","Source","Timestamp"],...r.map(C=>[C.userId,C.level,C.message,C.source,C.timestamp.toISOString()])].map(C=>C.map(O=>`"${O}"`).join(",")).join(`
`),S=new Blob([j],{type:"text/csv"}),P=window.URL.createObjectURL(S),A=document.createElement("a");A.href=P,A.download=`console-logs-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(A),A.click(),window.URL.revokeObjectURL(P),document.body.removeChild(A)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(ng,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),i.jsx(Be,{placeholder:"Search by message, source...",value:a,onChange:j=>s(j.target.value),className:"pl-10"})]}),i.jsxs("select",{value:c,onChange:j=>u(j.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg dark:bg-gray-800 dark:border-gray-600 min-w-max",children:[i.jsx("option",{value:"all",children:"All Users"}),v.map(j=>i.jsx("option",{value:j,children:j},j))]}),i.jsxs("select",{value:o,onChange:j=>l(j.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg dark:bg-gray-800 dark:border-gray-600 min-w-max",children:[i.jsx("option",{value:"all",children:"All Levels"}),i.jsx("option",{value:"info",children:"Info"}),i.jsx("option",{value:"warn",children:"Warning"}),i.jsx("option",{value:"error",children:"Error"}),i.jsx("option",{value:"debug",children:"Debug"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(re,{onClick:y,variant:"outline",className:"flex-1 sm:flex-none",children:"Refresh"}),i.jsxs(re,{onClick:w,variant:"outline",className:"flex-1 sm:flex-none",children:[i.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),g&&h&&i.jsxs(Ce,{className:"border-blue-300 dark:border-blue-700",children:[i.jsx(Ge,{className:"bg-blue-50 dark:bg-blue-900/30",children:i.jsxs(Ze,{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-lg",children:"Full Log Details"}),i.jsx(re,{variant:"ghost",size:"sm",onClick:()=>x(!1),children:""})]})}),i.jsxs(Ie,{className:"space-y-4 pt-6",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase",children:"User ID"}),i.jsx("p",{className:"text-sm font-mono text-gray-900 dark:text-white",children:h.userId})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase",children:"Level"}),i.jsx(st,{className:"mt-1",children:h.level.toUpperCase()})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase",children:"Source"}),i.jsx("p",{className:"text-sm font-mono text-gray-900 dark:text-white",children:h.source})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase",children:"Timestamp"}),i.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:h.timestamp.toLocaleString()})]})]}),i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Message"}),i.jsx("p",{className:"text-sm text-gray-900 dark:text-white break-words bg-gray-50 dark:bg-gray-800 p-3 rounded",children:h.message})]}),h.data&&i.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Full Data"}),i.jsx("pre",{className:"text-xs bg-gray-900 dark:bg-gray-950 text-gray-200 p-4 rounded overflow-auto max-h-60 font-mono border border-gray-700",children:typeof h.data=="string"?h.data:JSON.stringify(h.data,null,2)})]})]})]}),d?i.jsx(Ce,{children:i.jsx(Ie,{className:"flex justify-center py-8",children:i.jsx("div",{className:"animate-spin",children:"Loading logs..."})})}):r.length===0?i.jsx(Ce,{children:i.jsx(Ie,{className:"flex justify-center py-8 text-gray-500",children:"No console logs found"})}):i.jsx("div",{className:"space-y-3",children:r&&r.length>0?r.map(j=>{var A,C;if(!j||!j.id)return null;const S=T_[j.level]||T_.info,P=(S==null?void 0:S.icon)||hj;return i.jsx(Ce,{children:i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex gap-4 flex-1",children:[i.jsx("div",{className:`p-2 rounded-lg ${(S==null?void 0:S.color)||"bg-gray-100 text-gray-800"}`,children:i.jsx(P,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white",children:["User: ",j.userId||"unknown"]}),i.jsx(st,{variant:"outline",className:"text-xs",children:j.source||"system"})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 break-words",children:j.message||"No message"}),i.jsx("div",{className:"flex gap-4 text-xs text-gray-500 dark:text-gray-500",children:i.jsx("span",{children:((C=(A=j.timestamp)==null?void 0:A.toLocaleString)==null?void 0:C.call(A))||"No timestamp"})})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(st,{className:(S==null?void 0:S.color)||"bg-gray-100 text-gray-800",children:(S==null?void 0:S.label)||"Unknown"}),i.jsx(re,{size:"sm",variant:"ghost",onClick:()=>{m(j),x(!0)},children:"View"})]})]})})},j.id)}):i.jsx(Ce,{children:i.jsx(Ie,{className:"flex justify-center py-8 text-gray-500",children:"No logs match your filters"})})}),e.length>0&&i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:Object.entries(T_).map(([j,S])=>{const P=e.filter(C=>C.level===j).length,A=S.icon;return i.jsx(Ce,{children:i.jsx(Ie,{className:"p-3",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`inline-block p-2 rounded mb-1 ${S.color}`,children:i.jsx(A,{className:"w-4 h-4"})}),i.jsx("p",{className:"text-xs font-medium",children:P}),i.jsx("p",{className:"text-xs text-gray-500 capitalize",children:j})]})})},j)})})]})}function k9e(){var m;const[,e]=Gt(),[t,r]=N.useState(null),[n,a]=N.useState("dashboard"),[s,o]=N.useState(!1);N.useEffect(()=>{const g=localStorage.getItem("adminAuth");if(!g){e("/admin/login");return}r(JSON.parse(g))},[e]);const{data:l,isLoading:c,error:u}=Kt({queryKey:["/api/admin/dashboard"],enabled:!!t}),d=()=>{localStorage.removeItem("adminAuth"),e("/admin/login")},f=[{id:"dashboard",label:"Dashboard",icon:Yne},{id:"users",label:"User Management",icon:Ys},{id:"kyc",label:"KYC Review",icon:Vy},{id:"transactions",label:"Transactions",icon:Qn},{id:"withdrawals",label:"Withdrawals",icon:$ne},{id:"cards",label:"Virtual Cards",icon:Ks},{id:"pricing",label:"Card Pricing",icon:Qn},{id:"notifications",label:"Notifications",icon:Bo},{id:"mail",label:"Mail Management",icon:Nl},{id:"whatsapp",label:"WhatsApp Messaging",icon:qy},{id:"support",label:"Live Support",icon:Ys},{id:"tickets",label:"Support Tickets",icon:sw},{id:"logs",label:"System Logs",icon:T0},{id:"payhero",label:"PayHero Settings",icon:DC},{id:"manual-payment",label:"Manual Payment",icon:Qn},{id:"messaging",label:"Messaging Settings",icon:Bo},{id:"templates",label:"WhatsApp Templates",icon:us},{id:"activity",label:"Activity Logs",icon:Kne},{id:"database",label:"Database Management",icon:qne},{id:"analytics",label:"Analytics",icon:xU},{id:"settings",label:"Settings",icon:Sl}],h=()=>{switch(n){case"dashboard":return i.jsx(R7,{dashboardData:l});case"users":return i.jsx(C9e,{});case"kyc":return i.jsx(T9e,{});case"transactions":return i.jsx(E9e,{});case"withdrawals":return i.jsx(m9e,{});case"cards":return i.jsx(O9e,{});case"pricing":return i.jsx(x9e,{});case"notifications":return i.jsx(g9e,{});case"mail":return i.jsx(S9e,{});case"whatsapp":return i.jsx(_9e,{});case"support":return i.jsx(b9e,{});case"tickets":return i.jsx(w9e,{});case"logs":return i.jsx(y9e,{});case"payhero":return i.jsx(D7,{});case"manual-payment":return i.jsx(D7,{});case"messaging":return i.jsx(N9e,{});case"templates":return i.jsx(PZ,{});case"activity":return i.jsx(A9e,{});case"database":return i.jsx(P9e,{});case"analytics":return i.jsx(M9e,{dashboardData:l});case"settings":return i.jsx(L9e,{});default:return i.jsx(R7,{dashboardData:l})}};return c?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading admin dashboard..."})]})}):u?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-2",children:"Error loading dashboard"}),i.jsx("p",{className:"text-gray-600",children:"Please try refreshing the page"})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[s&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>o(!1)}),i.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-xl transform transition-transform duration-300 ease-in-out
        lg:translate-x-0 lg:static lg:inset-0
        ${s?"translate-x-0":"-translate-x-full"}
      `,children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(_a,{className:"w-8 h-8 text-green-600 mr-3"}),i.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"GreenPay Admin"})]}),i.jsx(re,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>o(!1),children:i.jsx(Fl,{className:"w-5 h-5"})})]}),i.jsx(Pa,{className:"flex-1 py-6",children:i.jsx("nav",{className:"space-y-2 px-3",children:f.map(g=>{const x=g.icon;return i.jsxs("button",{onClick:()=>{a(g.id),o(!1)},className:`
                      w-full flex items-center px-3 py-2.5 rounded-lg text-sm font-medium transition-colors
                      ${n===g.id?"bg-green-100 text-green-700 border border-green-200":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}
                    `,children:[i.jsx(x,{className:"w-5 h-5 mr-3"}),g.label]},g.id)})})}),i.jsx(OK,{}),i.jsxs("div",{className:"p-4 border-t border-gray-200",children:[i.jsxs("div",{className:"flex items-center mb-3",children:[i.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3",children:i.jsx(Ys,{className:"w-4 h-4 text-green-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(t==null?void 0:t.email)||"Admin"}),i.jsx("p",{className:"text-xs text-gray-500",children:"System Administrator"})]})]}),i.jsxs(re,{variant:"ghost",size:"sm",onClick:d,className:"w-full justify-start text-gray-600 hover:text-red-600 hover:bg-red-50",children:[i.jsx(IC,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 lg:hidden",children:i.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[i.jsx(re,{variant:"ghost",size:"sm",onClick:()=>o(!0),children:i.jsx(Xne,{className:"w-5 h-5"})}),i.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:((m=f.find(g=>g.id===n))==null?void 0:m.label)||"Dashboard"}),i.jsx("div",{className:"w-8"})," "]})}),i.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:i.jsx("div",{className:"p-6",children:h()})})]})]})}function R7({dashboardData:e}){const t=e==null?void 0:e.metrics;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(Ce,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:i.jsx(Ie,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total Users"}),i.jsx("p",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalUsers)||0}),i.jsxs("p",{className:"text-blue-100 text-xs mt-1",children:[(t==null?void 0:t.activeUsers)||0," active"]})]}),i.jsx(Ys,{className:"w-8 h-8 text-blue-100"})]})})}),i.jsx(Ce,{className:"bg-gradient-to-r from-green-500 to-green-600 text-white",children:i.jsx(Ie,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Total Volume"}),i.jsxs("p",{className:"text-2xl font-bold",children:["$",((t==null?void 0:t.totalVolume)||0).toLocaleString()]}),i.jsxs("p",{className:"text-green-100 text-xs mt-1",children:[(t==null?void 0:t.completedTransactions)||0," transactions"]})]}),i.jsx(Qn,{className:"w-8 h-8 text-green-100"})]})})}),i.jsx(Ce,{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white",children:i.jsx(Ie,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Revenue"}),i.jsxs("p",{className:"text-2xl font-bold",children:["$",((t==null?void 0:t.totalRevenue)||0).toLocaleString()]}),i.jsx("p",{className:"text-purple-100 text-xs mt-1",children:"This month"})]}),i.jsx(Wy,{className:"w-8 h-8 text-purple-100"})]})})}),i.jsx(Ce,{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:i.jsx(Ie,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Pending KYC"}),i.jsx("p",{className:"text-2xl font-bold",children:(t==null?void 0:t.pendingKyc)||0}),i.jsx("p",{className:"text-orange-100 text-xs mt-1",children:"Requires review"})]}),i.jsx(Vy,{className:"w-8 h-8 text-orange-100"})]})})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsx(Ze,{children:"Transaction Trends"}),i.jsx(kt,{children:"Daily transaction volume over time"})]}),i.jsx(Ie,{children:i.jsx("div",{className:"h-80",children:i.jsx(rR,{width:"100%",height:"100%",children:i.jsxs(R$e,{data:(e==null?void 0:e.transactionTrends)||[],children:[i.jsx(pk,{strokeDasharray:"3 3"}),i.jsx(Wp,{dataKey:"date"}),i.jsx(Kp,{}),i.jsx(Po,{}),i.jsx(mv,{type:"monotone",dataKey:"volume",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981"}})]})})})})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsx(Ze,{children:"Transaction Count"}),i.jsx(kt,{children:"Number of transactions per day"})]}),i.jsx(Ie,{children:i.jsx("div",{className:"h-80",children:i.jsx(rR,{width:"100%",height:"100%",children:i.jsxs(F$e,{data:(e==null?void 0:e.transactionTrends)||[],children:[i.jsx(pk,{strokeDasharray:"3 3"}),i.jsx(Wp,{dataKey:"date"}),i.jsx(Kp,{}),i.jsx(Po,{}),i.jsx(Nh,{dataKey:"count",fill:"#3b82f6",radius:[4,4,0,0]})]})})})})]})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsx(Ze,{children:"Quick Actions"}),i.jsx(kt,{children:"Common administrative tasks"})]}),i.jsx(Ie,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs(re,{variant:"outline",className:"h-20 flex-col gap-2",children:[i.jsx(_U,{className:"w-6 h-6"}),i.jsx("span",{className:"text-sm",children:"Approve KYC"})]}),i.jsxs(re,{variant:"outline",className:"h-20 flex-col gap-2",children:[i.jsx(PU,{className:"w-6 h-6"}),i.jsx("span",{className:"text-sm",children:"Block User"})]}),i.jsxs(re,{variant:"outline",className:"h-20 flex-col gap-2",children:[i.jsx(Ks,{className:"w-6 h-6"}),i.jsx("span",{className:"text-sm",children:"Issue Card"})]}),i.jsxs(re,{variant:"outline",className:"h-20 flex-col gap-2",children:[i.jsx(Sl,{className:"w-6 h-6"}),i.jsx("span",{className:"text-sm",children:"Settings"})]})]})})]})]})}function C9e(){return i.jsx(z$e,{})}function T9e(){return i.jsx(q$e,{})}function E9e(){return i.jsx(H$e,{})}function O9e(){return i.jsx(G$e,{})}function M9e({dashboardData:e}){return i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsxs(Ze,{className:"flex items-center gap-2",children:[i.jsx(xU,{className:"w-5 h-5"}),"Analytics & Reports"]}),i.jsx(kt,{children:"Detailed analytics and reporting tools"})]}),i.jsx(Ie,{children:i.jsx("p",{className:"text-gray-500",children:"Advanced analytics interface coming soon..."})})]})}function L9e(){return i.jsx(h9e,{})}function Qc({title:e,description:t,keywords:r,canonical:n="https://greenpay.world",ogType:a="website",ogImage:s="https://greenpay.world/og-image.png",structuredData:o}){return i.jsxs(Ete,{children:[i.jsx("title",{children:e}),i.jsx("meta",{name:"title",content:e}),i.jsx("meta",{name:"description",content:t}),r&&i.jsx("meta",{name:"keywords",content:r}),i.jsx("link",{rel:"canonical",href:n}),i.jsx("meta",{property:"og:type",content:a}),i.jsx("meta",{property:"og:url",content:n}),i.jsx("meta",{property:"og:title",content:e}),i.jsx("meta",{property:"og:description",content:t}),i.jsx("meta",{property:"og:image",content:s}),i.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),i.jsx("meta",{name:"twitter:url",content:n}),i.jsx("meta",{name:"twitter:title",content:e}),i.jsx("meta",{name:"twitter:description",content:t}),i.jsx("meta",{name:"twitter:image",content:s}),o&&i.jsx("script",{type:"application/ld+json",children:JSON.stringify(o)})]})}function I9e(){return i.jsxs(i.Fragment,{children:[i.jsx(Qc,{title:"Send Money to Kenya Instantly | GreenPay - Best USD to KES Rates",description:"Send money to Kenya instantly with GreenPay. Best USD to KES exchange rates, low fees, instant M-Pesa delivery. Join thousands sending money home today!",keywords:"send money to Kenya, USD to KES, international money transfer, Kenya remittance, M-Pesa, send money home, Kenya diaspora",canonical:"https://greenpay.world/features/send-money"}),i.jsx("div",{className:"min-h-screen bg-gradient-to-b from-green-50 to-white",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[i.jsxs("header",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Send Money to Kenya Instantly"}),i.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Fast, secure, and affordable international money transfers with the best USD to KES exchange rates"}),i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsx(Ci,{href:"/signup",children:i.jsxs(re,{size:"lg",className:"bg-green-600 hover:bg-green-700",children:["Get Started Free ",i.jsx(gs,{className:"ml-2 h-5 w-5"})]})}),i.jsx(Ci,{href:"/login",children:i.jsx(re,{size:"lg",variant:"outline",children:"Sign In"})})]})]}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[i.jsx(Ce,{children:i.jsxs(Ge,{children:[i.jsx(gj,{className:"h-10 w-10 text-green-600 mb-2"}),i.jsx(Ze,{children:"Instant Transfers"}),i.jsx(kt,{children:"Money arrives in seconds, not days. Send to M-Pesa or bank accounts instantly."})]})}),i.jsx(Ce,{children:i.jsxs(Ge,{children:[i.jsx(Qn,{className:"h-10 w-10 text-green-600 mb-2"}),i.jsx(Ze,{children:"Best Exchange Rates"}),i.jsx(kt,{children:"Live USD to KES rates updated in real-time. No hidden fees or markups."})]})}),i.jsx(Ce,{children:i.jsxs(Ge,{children:[i.jsx(_a,{className:"h-10 w-10 text-green-600 mb-2"}),i.jsx(Ze,{children:"100% Secure"}),i.jsx(kt,{children:"Bank-level encryption and security. Your money is always protected."})]})})]}),i.jsxs(Ce,{className:"mb-12",children:[i.jsx(Ge,{children:i.jsx(Ze,{className:"text-2xl",children:"How It Works"})}),i.jsx(Ie,{children:i.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-3 font-bold text-lg",children:"1"}),i.jsx("h3",{className:"font-semibold mb-2",children:"Create Account"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Sign up for free in under 2 minutes"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-3 font-bold text-lg",children:"2"}),i.jsx("h3",{className:"font-semibold mb-2",children:"Add Money"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Deposit USD to your wallet"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-3 font-bold text-lg",children:"3"}),i.jsx("h3",{className:"font-semibold mb-2",children:"Enter Details"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Add recipient phone or account"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-3 font-bold text-lg",children:"4"}),i.jsx("h3",{className:"font-semibold mb-2",children:"Send Instantly"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Money arrives in seconds"})]})]})})]}),i.jsxs(Ce,{className:"bg-green-50 border-green-200",children:[i.jsx(Ge,{children:i.jsx(Ze,{className:"text-2xl",children:"Why Choose GreenPay?"})}),i.jsx(Ie,{children:i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Live Exchange Rates:"})," Real-time USD to KES conversion rates, updated every minute"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("span",{children:[i.jsx("strong",{children:"No Hidden Fees:"})," Transparent pricing with no surprises"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("span",{children:[i.jsx("strong",{children:"24/7 Support:"})," Live chat support whenever you need help"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Trusted by Thousands:"})," Join the Kenyan diaspora sending money home"]})]})]})})]}),i.jsx("div",{className:"text-center mt-12",children:i.jsx(Ci,{href:"/signup",children:i.jsxs(re,{size:"lg",className:"bg-green-600 hover:bg-green-700",children:["Start Sending Money Now ",i.jsx(gs,{className:"ml-2 h-5 w-5"})]})})})]})})]})}function D9e(){return i.jsxs(i.Fragment,{children:[i.jsx(Qc,{title:"Virtual Mastercard for Online Shopping | GreenPay Digital Wallet",description:"Get instant virtual Mastercard for online shopping worldwide. Use on Amazon, Netflix, any website. Secure, instant issuance. Purchase your virtual card today!",keywords:"virtual card, virtual Mastercard, online shopping, digital card, international payments, virtual debit card",canonical:"https://greenpay.world/features/virtual-cards"}),i.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[i.jsxs("header",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Virtual Mastercard for Online Shopping"}),i.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Get instant virtual cards for secure online payments worldwide"}),i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsx(Ci,{href:"/signup",children:i.jsxs(re,{size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:["Get Your Card Now ",i.jsx(gs,{className:"ml-2 h-5 w-5"})]})}),i.jsx(Ci,{href:"/login",children:i.jsx(re,{size:"lg",variant:"outline",children:"Sign In"})})]})]}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[i.jsx(Ce,{children:i.jsxs(Ge,{children:[i.jsx(Ks,{className:"h-10 w-10 text-blue-600 mb-2"}),i.jsx(Ze,{children:"Instant Issuance"}),i.jsx(kt,{children:"Get your virtual Mastercard instantly. No waiting for physical cards."})]})}),i.jsx(Ce,{children:i.jsxs(Ge,{children:[i.jsx(bU,{className:"h-10 w-10 text-blue-600 mb-2"}),i.jsx(Ze,{children:"Shop Worldwide"}),i.jsx(kt,{children:"Use on any website that accepts Mastercard. Perfect for international purchases."})]})}),i.jsx(Ce,{children:i.jsxs(Ge,{children:[i.jsx(wa,{className:"h-10 w-10 text-blue-600 mb-2"}),i.jsx(Ze,{children:"Secure Payments"}),i.jsx(kt,{children:"Protected by Mastercard security. Freeze or cancel anytime from your app."})]})})]}),i.jsxs(Ce,{className:"bg-blue-50 border-blue-200 mb-12",children:[i.jsx(Ge,{children:i.jsx(Ze,{className:"text-2xl",children:"Perfect For"})}),i.jsx(Ie,{children:i.jsxs("ul",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.jsx("span",{children:"Online shopping (Amazon, eBay, AliExpress)"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.jsx("span",{children:"Subscription services (Netflix, Spotify)"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.jsx("span",{children:"Digital products and software"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.jsx("span",{children:"International payments"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.jsx("span",{children:"Travel bookings"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.jsx("span",{children:"App stores and gaming"})]})]})})]}),i.jsx("div",{className:"text-center",children:i.jsx(Ci,{href:"/signup",children:i.jsxs(re,{size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:["Get Your Virtual Card ",i.jsx(gs,{className:"ml-2 h-5 w-5"})]})})})]})})]})}function R9e(){return i.jsxs(i.Fragment,{children:[i.jsx(Qc,{title:"USD to KES Exchange Rate - Live Rates | GreenPay Currency Exchange",description:"Convert USD to KES with live exchange rates. Current rate: 129.27 KES per USD. No hidden fees. Fast, secure currency exchange for Kenya.",keywords:"USD to KES, currency exchange, exchange rate, Kenya shilling, US dollar to Kenyan shilling, forex Kenya",canonical:"https://greenpay.world/features/exchange"}),i.jsx("div",{className:"min-h-screen bg-gradient-to-b from-green-50 to-white",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[i.jsxs("header",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"USD to KES Exchange - Best Rates"}),i.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Convert between USD and KES with live exchange rates. No hidden fees."}),i.jsx(Ci,{href:"/signup",children:i.jsxs(re,{size:"lg",className:"bg-green-600 hover:bg-green-700",children:["Start Exchanging ",i.jsx(gs,{className:"ml-2 h-5 w-5"})]})})]}),i.jsxs(Ce,{className:"mb-8",children:[i.jsx(Ge,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wy,{className:"h-6 w-6 text-green-600"}),i.jsx(Ze,{children:"Live Exchange Rate"})]})}),i.jsx(Ie,{children:i.jsxs("div",{className:"text-center p-8 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-5xl font-bold text-green-600 mb-2",children:"129.27"}),i.jsx("div",{className:"text-gray-600",children:"KES per 1 USD"}),i.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"Updated in real-time"})]})})]}),i.jsx("div",{className:"text-center",children:i.jsx(Ci,{href:"/signup",children:i.jsxs(re,{size:"lg",className:"bg-green-600 hover:bg-green-700",children:["Get Started ",i.jsx(gs,{className:"ml-2 h-5 w-5"})]})})})]})})]})}var mE="Collapsible",[F9e,AZ]=js(mE),[$9e,pE]=F9e(mE),kZ=N.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:s,onOpenChange:o,...l}=e,[c=!1,u]=Ll({prop:n,defaultProp:a,onChange:o});return i.jsx($9e,{scope:r,disabled:s,contentId:_l(),open:c,onOpenToggle:N.useCallback(()=>u(d=>!d),[u]),children:i.jsx(Tt.div,{"data-state":xE(c),"data-disabled":s?"":void 0,...l,ref:t})})});kZ.displayName=mE;var CZ="CollapsibleTrigger",TZ=N.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=pE(CZ,r);return i.jsx(Tt.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":xE(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:jt(e.onClick,a.onOpenToggle)})});TZ.displayName=CZ;var gE="CollapsibleContent",EZ=N.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=pE(gE,e.__scopeCollapsible);return i.jsx(ao,{present:r||a.open,children:({present:s})=>i.jsx(B9e,{...n,ref:t,present:s})})});EZ.displayName=gE;var B9e=N.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...s}=e,o=pE(gE,r),[l,c]=N.useState(n),u=N.useRef(null),d=br(t,u),f=N.useRef(0),h=f.current,m=N.useRef(0),g=m.current,x=o.open||l,v=N.useRef(x),p=N.useRef(void 0);return N.useEffect(()=>{const y=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(y)},[]),Ti(()=>{const y=u.current;if(y){p.current=p.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();f.current=w.height,m.current=w.width,v.current||(y.style.transitionDuration=p.current.transitionDuration,y.style.animationName=p.current.animationName),c(n)}},[o.open,n]),i.jsx(Tt.div,{"data-state":xE(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:x&&a})});function xE(e){return e?"open":"closed"}var U9e=kZ,z9e=TZ,V9e=EZ,Jc="Accordion",q9e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[yE,W9e,H9e]=lj(Jc),[MN,DBe]=js(Jc,[H9e,AZ]),vE=AZ(),OZ=se.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,s=n;return i.jsx(yE.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?i.jsx(X9e,{...s,ref:t}):i.jsx(Y9e,{...a,ref:t})})});OZ.displayName=Jc;var[MZ,K9e]=MN(Jc),[LZ,G9e]=MN(Jc,{collapsible:!1}),Y9e=se.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:s=!1,...o}=e,[l,c]=Ll({prop:r,defaultProp:n,onChange:a});return i.jsx(MZ,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:se.useCallback(()=>s&&c(""),[s,c]),children:i.jsx(LZ,{scope:e.__scopeAccordion,collapsible:s,children:i.jsx(IZ,{...o,ref:t})})})}),X9e=se.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...s}=e,[o=[],l]=Ll({prop:r,defaultProp:n,onChange:a}),c=se.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=se.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return i.jsx(MZ,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:i.jsx(LZ,{scope:e.__scopeAccordion,collapsible:!0,children:i.jsx(IZ,{...s,ref:t})})})}),[Z9e,LN]=MN(Jc),IZ=se.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:s="vertical",...o}=e,l=se.useRef(null),c=br(l,t),u=W9e(r),f=Qy(a)==="ltr",h=jt(e.onKeyDown,m=>{var C;if(!q9e.includes(m.key))return;const g=m.target,x=u().filter(O=>{var D;return!((D=O.ref.current)!=null&&D.disabled)}),v=x.findIndex(O=>O.ref.current===g),p=x.length;if(v===-1)return;m.preventDefault();let y=v;const w=0,j=p-1,S=()=>{y=v+1,y>j&&(y=w)},P=()=>{y=v-1,y<w&&(y=j)};switch(m.key){case"Home":y=w;break;case"End":y=j;break;case"ArrowRight":s==="horizontal"&&(f?S():P());break;case"ArrowDown":s==="vertical"&&S();break;case"ArrowLeft":s==="horizontal"&&(f?P():S());break;case"ArrowUp":s==="vertical"&&P();break}const A=y%p;(C=x[A].ref.current)==null||C.focus()});return i.jsx(Z9e,{scope:r,disabled:n,direction:a,orientation:s,children:i.jsx(yE.Slot,{scope:r,children:i.jsx(Tt.div,{...o,"data-orientation":s,ref:c,onKeyDown:n?void 0:h})})})}),q2="AccordionItem",[Q9e,bE]=MN(q2),DZ=se.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,s=LN(q2,r),o=K9e(q2,r),l=vE(r),c=_l(),u=n&&o.value.includes(n)||!1,d=s.disabled||e.disabled;return i.jsx(Q9e,{scope:r,open:u,disabled:d,triggerId:c,children:i.jsx(U9e,{"data-orientation":s.orientation,"data-state":zZ(u),...l,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});DZ.displayName=q2;var RZ="AccordionHeader",FZ=se.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=LN(Jc,r),s=bE(RZ,r);return i.jsx(Tt.h3,{"data-orientation":a.orientation,"data-state":zZ(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:t})});FZ.displayName=RZ;var kk="AccordionTrigger",$Z=se.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=LN(Jc,r),s=bE(kk,r),o=G9e(kk,r),l=vE(r);return i.jsx(yE.ItemSlot,{scope:r,children:i.jsx(z9e,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:s.triggerId,...l,...n,ref:t})})});$Z.displayName=kk;var BZ="AccordionContent",UZ=se.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=LN(Jc,r),s=bE(BZ,r),o=vE(r);return i.jsx(V9e,{role:"region","aria-labelledby":s.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});UZ.displayName=BZ;function zZ(e){return e?"open":"closed"}var J9e=OZ,eBe=DZ,tBe=FZ,VZ=$Z,qZ=UZ;const rBe=J9e,xf=N.forwardRef(({className:e,...t},r)=>i.jsx(eBe,{ref:r,className:_t("border-b",e),...t}));xf.displayName="AccordionItem";const yf=N.forwardRef(({className:e,children:t,...r},n)=>i.jsx(tBe,{className:"flex",children:i.jsxs(VZ,{ref:n,className:_t("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,i.jsx(MC,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));yf.displayName=VZ.displayName;const vf=N.forwardRef(({className:e,children:t,...r},n)=>i.jsx(qZ,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:i.jsx("div",{className:_t("pb-4 pt-0",e),children:t})}));vf.displayName=qZ.displayName;function nBe(){const e={"@context":"https://schema.org","@type":"FAQPage",mainEntity:[{"@type":"Question",name:"How do I send money to Kenya with GreenPay?",acceptedAnswer:{"@type":"Answer",text:"Sign up for a free GreenPay account, add funds in USD, select Kenya as the destination, enter the recipient details, and confirm your transfer. Money arrives instantly."}},{"@type":"Question",name:"What is the USD to KES exchange rate?",acceptedAnswer:{"@type":"Answer",text:"GreenPay offers live exchange rates updated in real-time. Current rate is approximately 129 KES per 1 USD. Check our app for the latest rates."}}]};return i.jsxs(i.Fragment,{children:[i.jsx(Qc,{title:"Help Center & FAQ | GreenPay Support - Money Transfer Questions",description:"Find answers to common questions about sending money to Kenya, USD to KES rates, virtual cards, and airtime. Get help with GreenPay international transfers.",keywords:"GreenPay help, money transfer FAQ, Kenya transfer questions, USD to KES help, virtual card support",canonical:"https://greenpay.world/help",structuredData:e}),i.jsx("div",{className:"min-h-screen bg-white",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[i.jsxs("header",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Help Center & FAQ"}),i.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Find answers to common questions about GreenPay"})]}),i.jsxs(Ce,{className:"mb-8",children:[i.jsx(Ge,{children:i.jsx(Ze,{children:"Frequently Asked Questions"})}),i.jsx(Ie,{children:i.jsxs(rBe,{type:"single",collapsible:!0,children:[i.jsxs(xf,{value:"item-1",children:[i.jsx(yf,{children:"How do I send money to Kenya with GreenPay?"}),i.jsx(vf,{children:"Sign up for a free GreenPay account, add funds in USD, select Kenya as the destination, enter the recipient details, and confirm your transfer. Money arrives instantly."})]}),i.jsxs(xf,{value:"item-2",children:[i.jsx(yf,{children:"What is the USD to KES exchange rate?"}),i.jsx(vf,{children:"GreenPay offers live exchange rates updated in real-time. Current rate is approximately 129 KES per 1 USD. Check our app for the latest rates."})]}),i.jsxs(xf,{value:"item-3",children:[i.jsx(yf,{children:"How long does it take to send money to Kenya?"}),i.jsx(vf,{children:"Transfers to Kenya are instant. Once you confirm your transaction, the recipient receives the money immediately in their digital wallet or M-Pesa account."})]}),i.jsxs(xf,{value:"item-4",children:[i.jsx(yf,{children:"Are virtual cards included?"}),i.jsx(vf,{children:"Yes! GreenPay offers virtual Mastercard cards that you can use for online shopping worldwide. Purchase a virtual card from your dashboard."})]}),i.jsxs(xf,{value:"item-5",children:[i.jsx(yf,{children:"What fees does GreenPay charge?"}),i.jsx(vf,{children:"GreenPay offers transparent pricing with no hidden fees. You see the exact fees before confirming any transaction. Typically fees are 2-3% for international transfers."})]}),i.jsxs(xf,{value:"item-6",children:[i.jsx(yf,{children:"Is GreenPay secure?"}),i.jsx(vf,{children:"Yes. GreenPay uses bank-level encryption and security measures to protect your money and personal information. We comply with all financial regulations and use secure payment processing partners."})]})]})})]}),i.jsxs("div",{className:"text-center",children:[i.jsx(Ci,{href:"/support",children:i.jsx(re,{variant:"outline",className:"mr-4",children:"Contact Support"})}),i.jsx(Ci,{href:"/signup",children:i.jsxs(re,{className:"bg-green-600 hover:bg-green-700",children:["Get Started ",i.jsx(gs,{className:"ml-2 h-5 w-5"})]})})]})]})})]})}function iBe(){return i.jsxs(i.Fragment,{children:[i.jsx(Qc,{title:"Buy Airtime for Kenya | Safaricom, Airtel, Telkom Top-Up | GreenPay",description:"Top up mobile airtime for Kenya instantly. Support for Safaricom, Airtel Kenya, and Telkom. Fast delivery, transparent pricing. Buy airtime now!",keywords:"Kenya airtime, Safaricom airtime, Airtel Kenya top-up, Telkom Kenya, mobile airtime, buy airtime Kenya",canonical:"https://greenpay.world/features/airtime"}),i.jsx("div",{className:"min-h-screen bg-gradient-to-b from-purple-50 to-white",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[i.jsxs("header",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Buy Airtime for Kenya"}),i.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Top up mobile airtime instantly for Safaricom, Airtel, and Telkom Kenya"}),i.jsx(Ci,{href:"/signup",children:i.jsxs(re,{size:"lg",className:"bg-purple-600 hover:bg-purple-700",children:["Buy Airtime Now ",i.jsx(gs,{className:"ml-2 h-5 w-5"})]})})]}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[i.jsx(Ce,{children:i.jsxs(Ge,{children:[i.jsx(gj,{className:"h-10 w-10 text-purple-600 mb-2"}),i.jsx(Ze,{children:"Instant Delivery"}),i.jsx(kt,{children:"Airtime delivered in seconds directly to any Kenyan mobile number"})]})}),i.jsx(Ce,{children:i.jsxs(Ge,{children:[i.jsx(DC,{className:"h-10 w-10 text-purple-600 mb-2"}),i.jsx(Ze,{children:"All Networks"}),i.jsx(kt,{children:"Support for Safaricom, Airtel Kenya, and Telkom Kenya"})]})}),i.jsx(Ce,{children:i.jsxs(Ge,{children:[i.jsx(Sn,{className:"h-10 w-10 text-purple-600 mb-2"}),i.jsx(Ze,{children:"No Hidden Fees"}),i.jsx(kt,{children:"Transparent pricing. Pay exactly what you see with no surprises."})]})})]}),i.jsxs(Ce,{className:"bg-purple-50 border-purple-200",children:[i.jsx(Ge,{children:i.jsx(Ze,{children:"Supported Networks"})}),i.jsx(Ie,{children:i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-purple-600"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Safaricom"})," - Kenya's largest mobile network"]})]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-purple-600"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Airtel Kenya"})," - Fast and reliable service"]})]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-purple-600"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Telkom Kenya"})," - Great coverage nationwide"]})]})]})})]}),i.jsx("div",{className:"text-center mt-12",children:i.jsx(Ci,{href:"/signup",children:i.jsxs(re,{size:"lg",className:"bg-purple-600 hover:bg-purple-700",children:["Top Up Airtime ",i.jsx(gs,{className:"ml-2 h-5 w-5"})]})})})]})})]})}function aBe(){return i.jsxs(i.Fragment,{children:[i.jsx(Qc,{title:"About GreenPay | Empowering Kenya Diaspora with Fast Money Transfers",description:"Learn about GreenPay's mission to make international money transfers to Kenya simple and affordable. Join thousands sending money home with transparency and speed.",keywords:"about GreenPay, Kenya diaspora, international remittance company, money transfer service, about us",canonical:"https://greenpay.world/about"}),i.jsx("div",{className:"min-h-screen bg-white",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[i.jsxs("header",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"About GreenPay"}),i.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Empowering the Kenyan diaspora to send money home with speed, security, and transparency"})]}),i.jsxs(Ce,{className:"mb-8",children:[i.jsxs(Ge,{children:[i.jsx(Jne,{className:"h-8 w-8 text-green-600 mb-2"}),i.jsx(Ze,{children:"Our Mission"})]}),i.jsx(Ie,{children:i.jsx("p",{className:"text-gray-700",children:"GreenPay was founded to make international money transfers to Kenya simple, affordable, and instant. We believe everyone deserves access to fast, transparent financial services without hidden fees or complicated processes. Our mission is to connect families and support economic growth in Kenya through reliable remittance services."})})]}),i.jsxs(Ce,{className:"mb-8",children:[i.jsxs(Ge,{children:[i.jsx(Hne,{className:"h-8 w-8 text-green-600 mb-2"}),i.jsx(Ze,{children:"Why GreenPay?"})]}),i.jsx(Ie,{children:i.jsxs("ul",{className:"space-y-3 text-gray-700",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Built for Kenya:"})," Optimized specifically for USD to KES transfers and M-Pesa integration"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Transparent Pricing:"})," No hidden fees. What you see is what you pay"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Instant Transfers:"})," Money arrives in seconds, not days"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"24/7 Support:"})," Our team is always here to help you"]})]})})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsx(Ys,{className:"h-8 w-8 text-green-600 mb-2"}),i.jsx(Ze,{children:"Join Thousands of Users"})]}),i.jsxs(Ie,{children:[i.jsx("p",{className:"text-gray-700 mb-4",children:"GreenPay is trusted by thousands of people in the Kenyan diaspora who send money home regularly. Whether it's supporting family, investing in property, or managing business operations, GreenPay makes it easy and affordable."}),i.jsx(Ci,{href:"/signup",children:i.jsxs(re,{className:"bg-green-600 hover:bg-green-700",children:["Get Started Today ",i.jsx(gs,{className:"ml-2 h-5 w-5"})]})})]})]})]})})]})}function sBe(){return i.jsxs(i.Fragment,{children:[i.jsx(Qc,{title:"Pricing & Fees | Transparent Money Transfer Costs | GreenPay",description:"Clear, transparent pricing for money transfers to Kenya. 2-3% transfer fees, $5 virtual cards, no hidden costs. See exactly what you'll pay before you send.",keywords:"GreenPay pricing, money transfer fees, Kenya transfer cost, virtual card price, remittance fees",canonical:"https://greenpay.world/pricing"}),i.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[i.jsxs("header",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Transparent Pricing & Fees"}),i.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"No hidden fees. Pay exactly what you see. Simple and transparent."})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[i.jsxs(Ce,{className:"border-2 border-green-200",children:[i.jsxs(Ge,{children:[i.jsx(Ze,{className:"text-2xl",children:"Money Transfers"}),i.jsx(kt,{children:"Send money to Kenya"})]}),i.jsxs(Ie,{children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"2-3%"}),i.jsx("div",{className:"text-gray-600",children:"Transaction Fee"})]}),i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsx("span",{children:"Live USD to KES exchange rates"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsx("span",{children:"Instant delivery to M-Pesa or bank account"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsx("span",{children:"No minimum transfer amount"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsx("span",{children:"24/7 customer support"})]})]})]})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsx(Ze,{className:"text-2xl",children:"Virtual Cards"}),i.jsx(kt,{children:"For online shopping"})]}),i.jsxs(Ie,{children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:"$5"}),i.jsx("div",{className:"text-gray-600",children:"One-time Purchase Fee"})]}),i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.jsx("span",{children:"Instant virtual Mastercard"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.jsx("span",{children:"Use on any website worldwide"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.jsx("span",{children:"No monthly fees"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx(Sn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.jsx("span",{children:"Freeze/unfreeze anytime"})]})]})]})]})]}),i.jsxs(Ce,{className:"bg-gray-50",children:[i.jsx(Ge,{children:i.jsx(Ze,{children:"Other Services"})}),i.jsx(Ie,{children:i.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Currency Exchange"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Live rates, minimal spread"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Airtime Top-Up"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Face value + small service fee"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Withdrawals"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Standard processing fees apply"})]})]})})]}),i.jsx("div",{className:"text-center mt-12",children:i.jsx(Ci,{href:"/signup",children:i.jsxs(re,{size:"lg",className:"bg-green-600 hover:bg-green-700",children:["Get Started Free ",i.jsx(gs,{className:"ml-2 h-5 w-5"})]})})})]})})]})}function oBe(){return i.jsxs(i.Fragment,{children:[i.jsx(Qc,{title:"Security & Compliance | Bank-Level Protection | GreenPay",description:"Your money is protected with 256-bit encryption, two-factor authentication, KYC verification, and AML compliance. Trust GreenPay for secure transfers.",keywords:"GreenPay security, money transfer safety, encryption, KYC verification, AML compliance, secure remittance",canonical:"https://greenpay.world/security"}),i.jsx("div",{className:"min-h-screen bg-white",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[i.jsxs("header",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Security & Compliance"}),i.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Your money and data are protected with bank-level security"})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:[i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsx(wa,{className:"h-10 w-10 text-green-600 mb-2"}),i.jsx(Ze,{children:"Bank-Level Encryption"})]}),i.jsx(Ie,{children:i.jsx("p",{className:"text-gray-700",children:"All data is encrypted using industry-standard 256-bit SSL encryption. Your personal information and financial data are protected both in transit and at rest."})})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsx(_a,{className:"h-10 w-10 text-green-600 mb-2"}),i.jsx(Ze,{children:"Two-Factor Authentication"})]}),i.jsx(Ie,{children:i.jsx("p",{className:"text-gray-700",children:"Protect your account with multi-factor authentication via SMS or WhatsApp. Every transaction requires verification to ensure it's really you."})})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsx(Vy,{className:"h-10 w-10 text-green-600 mb-2"}),i.jsx(Ze,{children:"KYC Verification"})]}),i.jsx(Ie,{children:i.jsx("p",{className:"text-gray-700",children:"We verify all users through a secure Know Your Customer (KYC) process to prevent fraud and comply with international financial regulations."})})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsx(zo,{className:"h-10 w-10 text-green-600 mb-2"}),i.jsx(Ze,{children:"Transaction Monitoring"})]}),i.jsx(Ie,{children:i.jsx("p",{className:"text-gray-700",children:"Our advanced fraud detection system monitors all transactions in real-time to identify and prevent suspicious activity before it affects you."})})]})]}),i.jsxs(Ce,{className:"bg-green-50 border-green-200 mb-8",children:[i.jsx(Ge,{children:i.jsx(Ze,{children:"Compliance & Regulations"})}),i.jsx(Ie,{children:i.jsxs("ul",{className:"space-y-3 text-gray-700",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"AML/CTF Compliance:"})," We follow strict Anti-Money Laundering and Counter-Terrorism Financing protocols"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Data Protection:"})," Full compliance with international data protection regulations"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Financial Licensing:"})," Authorized and regulated to provide money transfer services"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Regular Audits:"})," Independent security audits and penetration testing"]})]})})]}),i.jsx("div",{className:"text-center",children:i.jsx(Ci,{href:"/signup",children:i.jsxs(re,{size:"lg",className:"bg-green-600 hover:bg-green-700",children:["Create Secure Account ",i.jsx(gs,{className:"ml-2 h-5 w-5"})]})})})]})})]})}function lBe(){return i.jsxs(i.Fragment,{children:[i.jsx(Qc,{title:"Contact Support | Get Help with Money Transfers | GreenPay",description:"Contact GreenPay support via live chat, email, or phone. 24/7 customer service for money transfers, virtual cards, and account help. support@greenpay.world",keywords:"GreenPay contact, customer support, live chat, help desk, contact support",canonical:"https://greenpay.world/contact"}),i.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[i.jsxs("header",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Contact Support"}),i.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"We're here to help. Get in touch with our support team."})]}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsx(qy,{className:"h-10 w-10 text-green-600 mb-2"}),i.jsx(Ze,{children:"Live Chat"})]}),i.jsxs(Ie,{children:[i.jsx("p",{className:"text-gray-700 mb-4",children:"Chat with our support team in real-time. Available 24/7 for account holders."}),i.jsx(Ci,{href:"/login",children:i.jsx(re,{variant:"outline",className:"w-full",children:"Sign In to Chat"})})]})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsx(Nl,{className:"h-10 w-10 text-green-600 mb-2"}),i.jsx(Ze,{children:"Email Support"})]}),i.jsxs(Ie,{children:[i.jsx("p",{className:"text-gray-700 mb-4",children:"Send us an email and we'll respond within 24 hours."}),i.jsx("a",{href:"mailto:support@greenpay.world",children:i.jsx(re,{variant:"outline",className:"w-full",children:"support@greenpay.world"})})]})]}),i.jsxs(Ce,{children:[i.jsxs(Ge,{children:[i.jsx(mj,{className:"h-10 w-10 text-green-600 mb-2"}),i.jsx(Ze,{children:"Phone Support"})]}),i.jsxs(Ie,{children:[i.jsx("p",{className:"text-gray-700 mb-4",children:"Call us for urgent assistance. International rates apply."}),i.jsx("a",{href:"tel:+18006737729",children:i.jsx(re,{variant:"outline",className:"w-full",children:"+1-800-GREENPAY"})})]})]})]}),i.jsxs(Ce,{className:"bg-blue-50 border-blue-200 mb-8",children:[i.jsx(Ge,{children:i.jsx(Ze,{children:"Need Help?"})}),i.jsxs(Ie,{children:[i.jsx("p",{className:"text-gray-700 mb-4",children:"Before contacting support, check our Help Center for answers to common questions about transfers, virtual cards, and account management."}),i.jsx(Ci,{href:"/help",children:i.jsx(re,{variant:"outline",children:"Visit Help Center"})})]})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-gray-600 mb-4",children:"Don't have an account yet?"}),i.jsx(Ci,{href:"/signup",children:i.jsxs(re,{size:"lg",className:"bg-green-600 hover:bg-green-700",children:["Sign Up Free ",i.jsx(gs,{className:"ml-2 h-5 w-5"})]})})]})]})})]})}function cBe(){const[,e]=Gt(),t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},r={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900 p-4",children:i.jsxs(X.div,{className:"max-w-4xl mx-auto",variants:t,initial:"hidden",animate:"visible",children:[i.jsxs(X.div,{variants:r,className:"mb-8 flex items-center gap-4",children:[i.jsx(re,{variant:"ghost",size:"icon",onClick:()=>e("/login"),className:"rounded-full hover:bg-blue-100 dark:hover:bg-slate-800",children:i.jsx(E0,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Terms and Conditions"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Important legal information for using GreenPay"})]})]}),i.jsx(X.p,{variants:r,className:"text-sm text-slate-600 dark:text-slate-400 mb-8",children:"Last updated: November 30, 2025"}),i.jsx(X.div,{variants:r,className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[{icon:wa,label:"Your Rights",color:"from-blue-500"},{icon:Qn,label:"Payment Terms",color:"from-indigo-500"},{icon:_a,label:"Security",color:"from-purple-500"}].map((n,a)=>i.jsxs(X.div,{whileHover:{scale:1.05},className:`bg-gradient-to-br ${n.color} to-slate-100 dark:to-slate-800 rounded-lg p-4 shadow-md`,children:[i.jsx(n.icon,{className:"w-8 h-8 text-slate-900 dark:text-white mb-2"}),i.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:n.label})]},a))}),i.jsxs(X.div,{variants:t,initial:"hidden",animate:"visible",className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl p-8 md:p-12 space-y-8 border border-blue-100 dark:border-slate-700",children:[i.jsxs(X.section,{variants:r,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx(Fne,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),i.jsx("div",{children:i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"1. Acceptance of Terms"})})]}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:'By accessing and using GreenPay ("the Application"), you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service.'})]}),i.jsxs(X.section,{variants:r,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx(wa,{className:"w-6 h-6 text-indigo-600 flex-shrink-0 mt-1"}),i.jsx("div",{children:i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"2. Use License"})})]}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"Permission is granted to temporarily download one copy of the materials (information or software) on GreenPay for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title, and under this license you may not:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[i.jsx("li",{children:"Modifying or copying the materials"}),i.jsx("li",{children:"Using the materials for any commercial purpose or for any public display"}),i.jsx("li",{children:"Attempting to decompile or reverse engineer any software contained on the Application"}),i.jsx("li",{children:"Removing any copyright or other proprietary notations from the materials"}),i.jsx("li",{children:'Transferring the materials to another person or "mirroring" the materials on any other server'}),i.jsx("li",{children:"Violating any applicable laws or regulations"})]})]}),i.jsxs(X.section,{variants:r,children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"3. Disclaimer of Warranties"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"The materials on GreenPay are provided on an 'as is' basis. GreenPay makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights. Further, GreenPay does not warrant or make any representations concerning the accuracy, likely results, or reliability of the use of the materials on its Internet web site or otherwise relating to such materials or on any sites linked to this site."})]}),i.jsxs(X.section,{variants:r,children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"4. Limitations of Liability"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"In no event shall GreenPay or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on GreenPay, even if GreenPay or an authorized representative has been notified orally or in writing of the possibility of such damage. Because some jurisdictions do not allow limitations on implied warranties, or limitations of liability for consequential or incidental damages, these limitations may not apply to you."})]}),i.jsxs(X.section,{variants:r,children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"5. Accuracy of Materials"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"The materials appearing on GreenPay could include technical, typographical, or photographic errors. GreenPay does not warrant that any of the materials on its Application are accurate, complete, or current. GreenPay may make changes to the materials contained on its Application at any time without notice."})]}),i.jsxs(X.section,{variants:r,children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"6. Materials on Other Sites"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"GreenPay has not reviewed all of the sites linked to its Application and is not responsible for the contents of any such linked site. The inclusion of any link does not imply endorsement by GreenPay of the site. Use of any such linked website is at the user's own risk."})]}),i.jsxs(X.section,{variants:r,children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"7. Modifications of Terms"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"GreenPay may revise these terms of service for its Application at any time without notice. By using this Application, you are agreeing to be bound by the then current version of these terms of service."})]}),i.jsxs(X.section,{variants:r,children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"8. Governing Law"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"These terms and conditions are governed by and construed in accordance with the laws of the jurisdiction in which GreenPay operates, and you irrevocably submit to the exclusive jurisdiction of the courts in that location."})]}),i.jsxs(X.section,{variants:r,children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"9. User Accounts and Passwords"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"When you create an account on GreenPay, you are responsible for:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[i.jsx("li",{children:"Maintaining the confidentiality of your account information and password"}),i.jsx("li",{children:"Restricting access to your computer or mobile device"}),i.jsx("li",{children:"Accepting responsibility for all activities that occur under your account"}),i.jsx("li",{children:"Notifying GreenPay immediately of any unauthorized use of your account"})]})]}),i.jsxs(X.section,{variants:r,children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"10. Payment and Financial Transactions"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"GreenPay facilitates financial transactions including money transfers, virtual card payments, currency exchange, and airtime purchases. By using these services, you:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[i.jsx("li",{children:"Acknowledge that all transactions are final and cannot be reversed"}),i.jsx("li",{children:"Accept responsibility for verifying recipient details before confirming payments"}),i.jsx("li",{children:"Understand that GreenPay acts as a facilitator and is not liable for third-party errors"}),i.jsx("li",{children:"Agree to comply with all applicable laws and regulations regarding financial transactions"}),i.jsx("li",{children:"Accept that transaction fees and exchange rates are clearly displayed before confirmation"})]})]}),i.jsxs(X.section,{variants:r,children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"11. Security and Privacy"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"GreenPay implements comprehensive security measures including:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[i.jsx("li",{children:"Two-factor authentication and biometric login capabilities"}),i.jsx("li",{children:"End-to-end encryption for sensitive data transmission"}),i.jsx("li",{children:"Regular security audits and vulnerability assessments"}),i.jsx("li",{children:"Compliance with international data protection standards"})]}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mt-3",children:"Your use of biometric authentication and backup codes is governed by these terms. You are solely responsible for safeguarding your backup codes."})]}),i.jsxs(X.section,{variants:r,children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"12. Document Upload and Verification"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"When you upload documents for KYC verification, you represent and warrant that:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[i.jsx("li",{children:"All documents are authentic and accurate"}),i.jsx("li",{children:"You have the right to upload and share the documents"}),i.jsx("li",{children:"The documents comply with all applicable privacy laws"}),i.jsx("li",{children:"GreenPay may verify documents with third-party services"})]})]}),i.jsxs(X.section,{variants:r,children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"13. Third-Party Services"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"GreenPay integrates with third-party services including WhatsApp Business API, Cloudinary, Mailtrap, and payment processors. Your use of these services is subject to their respective terms and conditions. GreenPay is not responsible for any issues arising from third-party services."})]}),i.jsxs(X.section,{variants:r,children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"14. Prohibited Activities"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"You agree not to:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[i.jsx("li",{children:"Engage in any illegal or fraudulent activities"}),i.jsx("li",{children:"Use the Application for money laundering or terrorism financing"}),i.jsx("li",{children:"Attempt to gain unauthorized access to the Application or its systems"}),i.jsx("li",{children:"Harass, threaten, or defame other users"}),i.jsx("li",{children:"Upload malware, viruses, or malicious code"}),i.jsx("li",{children:"Interfere with the normal operation of the Application"})]})]}),i.jsxs(X.section,{variants:r,children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"15. Limitation of Service"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"GreenPay reserves the right to limit, suspend, or terminate your account if you violate these terms, engage in suspicious activities, or pose a security risk. Termination may result in loss of access to funds and account data."})]}),i.jsxs(X.section,{variants:r,children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"16. Intellectual Property Rights"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"All content on the GreenPay Application, including logos, designs, text, and graphics, are the property of GreenPay or its content suppliers and are protected by international copyright laws. You may not reproduce, distribute, or transmit any content without prior written permission."})]}),i.jsxs(X.section,{variants:r,children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"17. Indemnification"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"You agree to indemnify, defend, and hold harmless GreenPay and its officers, directors, employees, and agents from any and all claims, damages, losses, costs, and expenses (including attorney's fees) arising from or related to your use of the Application or violation of these terms."})]}),i.jsxs(X.section,{variants:r,children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"18. Contact Information"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"If you have any questions about these Terms and Conditions, please contact us at:"}),i.jsxs("div",{className:"mt-3 text-slate-700 dark:text-slate-300 space-y-1",children:[i.jsx("p",{children:"Email: support@greenpay.com"}),i.jsx("p",{children:"WhatsApp: Available through the Application"}),i.jsx("p",{children:"Support Page: /support"})]})]}),i.jsx(X.section,{variants:r,className:"pt-6 border-t border-slate-200 dark:border-slate-700",children:i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"By continuing to use GreenPay, you agree to be bound by all terms and conditions outlined above. Thank you for using GreenPay!"})})]}),i.jsxs(X.div,{variants:r,className:"mt-8 flex justify-center gap-4 flex-wrap",children:[i.jsx(re,{onClick:()=>e("/login"),className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white px-8",children:"Back to Login"}),i.jsx(re,{onClick:()=>e("/privacy"),variant:"outline",className:"border-blue-200 dark:border-blue-800",children:"Privacy Policy"})]})]})})}function uBe(){const[,e]=Gt(),t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},r={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-blue-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900 p-4",children:i.jsxs(X.div,{className:"max-w-4xl mx-auto",variants:t,initial:"hidden",animate:"visible",children:[i.jsxs(X.div,{variants:r,className:"mb-8 flex items-center gap-4",children:[i.jsx(re,{variant:"ghost",size:"icon",onClick:()=>e("/login"),className:"rounded-full hover:bg-emerald-100 dark:hover:bg-slate-800",children:i.jsx(E0,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-emerald-600 to-blue-600 bg-clip-text text-transparent",children:"Privacy Policy"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Your data, your control"})]})]}),i.jsx(X.p,{variants:r,className:"text-sm text-slate-600 dark:text-slate-400 mb-8",children:"Last updated: November 30, 2025"}),i.jsx(X.div,{variants:r,className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[{icon:_a,label:"Data Security",color:"from-emerald-500"},{icon:wa,label:"Encryption",color:"from-blue-500"},{icon:zo,label:"Privacy Controls",color:"from-purple-500"}].map((n,a)=>i.jsxs(X.div,{whileHover:{scale:1.05},className:`bg-gradient-to-br ${n.color} to-slate-100 dark:to-slate-800 rounded-lg p-4 shadow-md`,children:[i.jsx(n.icon,{className:"w-8 h-8 text-slate-900 dark:text-white mb-2"}),i.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:n.label})]},a))}),i.jsxs(X.div,{variants:t,initial:"hidden",animate:"visible",className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl p-8 md:p-12 space-y-8 border border-emerald-100 dark:border-slate-700",children:[i.jsxs(X.section,{variants:r,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx(_a,{className:"w-6 h-6 text-emerald-600 flex-shrink-0 mt-1"}),i.jsx("div",{children:i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"1. Information We Collect"})})]}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"We collect information necessary to provide our fintech services, including:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4 mt-3",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Identity Information:"})," Name, email, phone number, date of birth"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Financial Information:"})," Bank account details, card information, transaction history"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Identity Verification:"})," Government ID, passport, proof of residence"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Biometric Data:"})," Fingerprints and facial recognition for WebAuthn authentication"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Device Information:"})," IP address, device type, browser type, operating system"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Usage Data:"})," Features used, pages visited, transaction patterns"]})]})]}),i.jsxs(X.section,{variants:r,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx(wa,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),i.jsx("div",{children:i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"2. How We Use Your Information"})})]}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"We use your information to:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[i.jsx("li",{children:"Process and facilitate financial transactions"}),i.jsx("li",{children:"Verify your identity and comply with KYC regulations"}),i.jsx("li",{children:"Provide secure authentication through biometric login"}),i.jsx("li",{children:"Detect and prevent fraud and illegal activities"}),i.jsx("li",{children:"Send important account and transaction notifications"}),i.jsx("li",{children:"Improve our services and user experience"}),i.jsx("li",{children:"Comply with legal and regulatory requirements"}),i.jsx("li",{children:"Provide customer support"})]})]}),i.jsxs(X.section,{variants:r,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx(Ys,{className:"w-6 h-6 text-purple-600 flex-shrink-0 mt-1"}),i.jsx("div",{children:i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"3. Data Sharing and Third Parties"})})]}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"We share your data with trusted third parties only when necessary:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Payment Processors:"})," Stripe and other payment gateways for transaction processing"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"WhatsApp Business:"})," For customer communication and support"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Email Service:"})," Mailtrap for notification delivery"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Media Storage:"})," Cloudinary for secure document storage"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Regulatory Bodies:"})," As required by law and compliance obligations"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Law Enforcement:"})," When legally required or to prevent illegal activities"]})]}),i.jsx("div",{className:"mt-4 p-4 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg border border-emerald-200 dark:border-emerald-800",children:i.jsxs("p",{className:"text-sm text-emerald-900 dark:text-emerald-100",children:[i.jsx("strong",{children:"Note:"})," We never sell your personal data to advertisers or marketing companies."]})})]}),i.jsxs(X.section,{variants:r,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx(wa,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),i.jsx("div",{children:i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"4. Data Security"})})]}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"We implement industry-leading security measures to protect your data:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"End-to-End Encryption:"})," All data transmitted using TLS/SSL encryption"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Two-Factor Authentication:"})," Protect your account with 2FA and backup codes"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Biometric Security:"})," WebAuthn standard for secure device authentication"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Regular Audits:"})," Continuous security testing and vulnerability assessments"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Access Controls:"})," Strict permissions limiting employee access to sensitive data"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Data Minimization:"})," We only collect data necessary for our services"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Secure Storage:"})," Database encryption and secure backup procedures"]})]})]}),i.jsxs(X.section,{variants:r,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx(zo,{className:"w-6 h-6 text-purple-600 flex-shrink-0 mt-1"}),i.jsx("div",{children:i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"5. Your Privacy Rights"})})]}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"You have the right to:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Access:"})," Request a copy of all personal data we hold about you"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Rectification:"})," Correct inaccurate or incomplete information"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Deletion:"})," Request erasure of your data subject to legal requirements"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Portability:"})," Receive your data in a structured format"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Restrict Processing:"})," Limit how we use your information"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Object:"})," Opt-out of marketing communications"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Withdraw Consent:"})," Revoke permissions you've granted us"]})]}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mt-3",children:'To exercise these rights, contact us using the information in the "Contact Us" section.'})]}),i.jsxs(X.section,{variants:r,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx(Bo,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),i.jsx("div",{children:i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"6. Biometric Data and WebAuthn"})})]}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"When you enable biometric login through WebAuthn, we securely store your biometric credential ID on our servers. Your actual biometric data (fingerprint/face) never leaves your device. The biometric template is processed locally by your device's secure enclave, and only the credential ID is transmitted for authentication verification. You can disable biometric login at any time in your settings, which will delete all stored credential data."})]}),i.jsxs(X.section,{variants:r,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx(Fc,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-1"}),i.jsx("div",{children:i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"7. Data Retention"})})]}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"We retain your personal data only as long as necessary to provide our services and comply with legal requirements. Transaction records are retained for a minimum of 7 years per financial regulations. You can request deletion of non-essential data anytime through your account settings. Upon account deletion, we securely dispose of your data, except where we're legally required to retain it."})]}),i.jsxs(X.section,{variants:r,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx(_a,{className:"w-6 h-6 text-emerald-600 flex-shrink-0 mt-1"}),i.jsx("div",{children:i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"8. Cookies and Tracking"})})]}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"We use essential cookies to maintain your session and provide security features. We do not use tracking cookies for advertising purposes. You can manage cookie preferences in your browser settings. Disabling cookies may limit certain features of our application."})]}),i.jsxs(X.section,{variants:r,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx(Ys,{className:"w-6 h-6 text-purple-600 flex-shrink-0 mt-1"}),i.jsx("div",{children:i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"9. Children's Privacy"})})]}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"GreenPay is not intended for users under 18 years of age. We do not knowingly collect personal information from children. If we become aware that a child has provided us with personal information, we will delete such information immediately and terminate the child's account."})]}),i.jsxs(X.section,{variants:r,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx(wa,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),i.jsx("div",{children:i.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"10. Policy Updates"})})]}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:"We may update this Privacy Policy periodically to reflect changes in our practices, technology, legal requirements, or other factors. We will notify you of material changes via email or through a prominent notice on our platform. Your continued use of GreenPay following such notification constitutes your acceptance of the updated Privacy Policy."})]}),i.jsxs(X.section,{variants:r,children:[i.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-3",children:[i.jsx(Ys,{className:"w-6 h-6 text-purple-600"}),"11. Contact Us"]}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed mb-3",children:"If you have questions about our Privacy Policy or your data, please contact us:"}),i.jsxs("div",{className:"space-y-2 text-slate-700 dark:text-slate-300 ml-4",children:[i.jsx("p",{children:" Email: privacy@greenpay.com"}),i.jsx("p",{children:" WhatsApp: Available through the Application"}),i.jsx("p",{children:" Support Page: /support"})]})]}),i.jsxs(X.section,{variants:r,className:"pt-8 border-t border-slate-200 dark:border-slate-700",children:[i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Also review our Terms and Conditions:"}),i.jsx(re,{variant:"outline",onClick:()=>e("/terms"),className:"border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 font-semibold",children:"View Terms and Conditions"})]})]}),i.jsxs(X.div,{variants:r,className:"mt-8 flex justify-center gap-4 flex-wrap",children:[i.jsx(re,{onClick:()=>e("/login"),className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white px-8",children:"Back to Login"}),i.jsx(re,{onClick:()=>e("/terms"),variant:"outline",className:"border-emerald-200 dark:border-emerald-800",children:"Terms and Conditions"})]})]})})}function dBe(){Gt();const{user:e}=Tr(),{toast:t}=Ct(),[r,n]=N.useState(!1),[a,s]=N.useState(""),o=e!=null&&e.createdAt?Math.floor((Date.now()-new Date(e.createdAt).getTime())/(1e3*60*60*24)):0,l=o>=30,c=(e==null?void 0:e.kycStatus)==="verified",{data:u,isLoading:d}=Kt({queryKey:["/api/loans/performance",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>(await He("GET","/api/loans/performance")).json()}),{data:f,isLoading:h}=Kt({queryKey:["/api/loans",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),queryFn:async()=>(await He("GET","/api/loans")).json()}),m=St({mutationFn:async()=>(await He("POST","/api/loans/apply",{amount:parseFloat(a)})).json(),onSuccess:A=>{t({title:"Loan Application Submitted",description:`Requested amount: $${a}. Admin will review your application.`}),s(""),n(!1)},onError:A=>{t({title:"Application Failed",description:A.message||"Unable to submit loan application",variant:"destructive"})}}),g=(u==null?void 0:u.performance)||{},x=(f==null?void 0:f.loans)||[],v=x.find(A=>A.status==="active"),p=g.score||0,y=Math.min(g.maxLoanAmount||0,5e4),w=l&&c&&p>=60&&!v,j=[];l||j.push(`Account must be 30+ days old (${o} days)`),c||j.push("KYC verification required"),p<60&&j.push(`Performance score too low (${p}/100)`),v&&j.push("Active loan exists");const S=A=>A>=80?"text-green-600":A>=60?"text-amber-600":"text-red-600",P=A=>A>=80?"bg-green-50 dark:bg-green-950/20":A>=60?"bg-amber-50 dark:bg-amber-950/20":"bg-red-50 dark:bg-red-950/20";return i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:i.jsx(re,{onClick:()=>{l?c?p<60?t({title:"Score Too Low",description:`Your performance score is ${p}/100. Need 60+ to qualify.`,variant:"destructive"}):t(v?{title:"Active Loan Exists",description:"Pay off your current loan before applying for a new one.",variant:"destructive"}:{title:"Eligible! ",description:`You can borrow up to $${Ut(y)}.`}):t({title:"KYC Required",description:"Complete identity verification in settings to check your loan limit.",variant:"destructive"}):t({title:"Account Too New",description:`Your account needs to be 30 days old. Current age: ${o} days. Wait ${30-o} more days.`,variant:"destructive"})},className:"w-full bg-gradient-to-r from-primary via-primary to-secondary hover:opacity-90 text-white",children:"Check Your Loan Limit"})}),!w&&i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm font-semibold text-amber-900 dark:text-amber-100 mb-2",children:"Not Eligible Yet"}),i.jsx("ul",{className:"space-y-1",children:j.map((A,C)=>i.jsxs("li",{className:"text-xs text-amber-800 dark:text-amber-200 flex items-start gap-2",children:[i.jsx("span",{className:"mt-0.5",children:""}),i.jsx("span",{children:A})]},C))})]}),i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-2xl border border-border p-6",children:[i.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[i.jsx(Wy,{className:"w-5 h-5 text-primary"}),"Account Performance"]}),d?i.jsxs("div",{className:"space-y-3 animate-pulse",children:[i.jsx("div",{className:"h-4 bg-muted rounded"}),i.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:`${P(p)} rounded-lg p-4`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-semibold",children:"Performance Score"}),i.jsxs("span",{className:`text-2xl font-bold ${S(p)}`,children:[p,"/100"]})]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all ${p>=80?"bg-green-600":p>=60?"bg-amber-600":"bg-red-600"}`,style:{width:`${p}%`}})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total Transactions"}),i.jsx("p",{className:"font-bold text-lg",children:g.transactionCount||0})]}),i.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Account Age"}),i.jsxs("p",{className:"font-bold text-lg",children:[g.accountAgeDays||0," days"]})]}),i.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total Volume"}),i.jsxs("p",{className:"font-bold text-lg",children:["$",Ut(g.totalVolume||0)]})]}),i.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"KYC Status"}),i.jsx("p",{className:"font-bold text-lg capitalize",children:g.kycStatus||"Not verified"})]})]}),i.jsxs("div",{className:`rounded-lg p-4 flex items-start gap-3 ${w?"bg-green-50 dark:bg-green-950/20":"bg-amber-50 dark:bg-amber-950/20"}`,children:[w?i.jsx(Fr,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}):i.jsx(Ei,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:`font-semibold ${w?"text-green-900 dark:text-green-100":"text-amber-900 dark:text-amber-100"}`,children:w?`You're Eligible! Limit: $${Ut(y)}`:"Not Eligible Yet"}),i.jsx("p",{className:`text-sm ${w?"text-green-700 dark:text-green-200":"text-amber-700 dark:text-amber-200"}`,children:w?"You meet all requirements. Apply now!":j.length>0?j[0]:"Build your account history"})]})]})]})]}),v&&i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-2xl border border-primary/20 p-6",children:[i.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[i.jsx(Qn,{className:"w-5 h-5 text-primary"}),"Active Loan"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Loan Amount"}),i.jsxs("span",{className:"font-bold",children:["$",Ut(v.amount)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Remaining Balance"}),i.jsxs("span",{className:"font-bold",children:["$",Ut(v.remainingBalance)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Monthly Payment"}),i.jsxs("span",{className:"font-bold",children:["$",Ut(v.monthlyPayment)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Next Payment"}),i.jsx("span",{className:"font-bold",children:new Date(v.nextPaymentDate).toLocaleDateString()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Interest Rate"}),i.jsxs("span",{className:"font-bold",children:[v.interestRate,"% per year"]})]})]})]}),!v&&i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-2xl border border-border p-6",children:r?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Loan Amount (USD)"}),i.jsx("input",{type:"number",value:a,onChange:A=>s(A.target.value),placeholder:`Up to $${Ut(y)}`,max:y,min:100,step:100,className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Maximum: $",Ut(y)]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(re,{onClick:()=>n(!1),variant:"outline",className:"flex-1",children:"Cancel"}),i.jsx(re,{onClick:()=>m.mutate(),disabled:!a||parseFloat(a)<=0||m.isPending,className:"flex-1 bg-primary hover:bg-primary/90",children:m.isPending?"Submitting...":"Submit Application"})]})]}):i.jsx(re,{onClick:()=>n(!0),disabled:!w,className:"w-full bg-gradient-to-r from-primary via-primary to-secondary hover:opacity-90 text-white disabled:opacity-50",children:w?"Apply for a Loan":"Complete Requirements to Apply"})}),x.length>0&&i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-2xl border border-border p-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-4",children:"Loan History"}),i.jsx("div",{className:"space-y-3",children:x.map(A=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold capitalize",children:A.status}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",Ut(A.amount)]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold",children:["$",Ut(A.remainingBalance)]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[A.interestRate,"% APR"]})]})]},A.id))})]})]})]})}function fBe(){const[,e]=Gt(),{toast:t}=Ct(),[r,n]=N.useState([]);N.useState(new Set);const[a,s]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState({name:"",scopes:["read","write"],rateLimit:"1000"}),[d,f]=N.useState(null);N.useEffect(()=>{h()},[]);const h=async()=>{try{s(!0);const v=await fetch("/api/admin/api-keys",{credentials:"include"});if(v.ok){const p=await v.json();n(p.keys||[])}else{const p=await v.json().catch(()=>({}));console.error(`API Error ${v.status}:`,p),v.status===401?t({description:"Please log in to view API keys",variant:"destructive"}):v.status===403?t({description:"You need admin privileges to manage API keys",variant:"destructive"}):t({description:p.message||p.error||"Failed to load API keys",variant:"destructive"})}}catch(v){console.error("Failed to fetch API keys:",v),t({description:"Network error loading API keys",variant:"destructive"})}finally{s(!1)}},m=async v=>{if(v.preventDefault(),!c.name.trim()){t({description:"Please enter a key name",variant:"destructive"});return}try{const p=await fetch("/api/admin/api-keys/generate",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:c.name,scope:c.scopes,rateLimit:parseInt(c.rateLimit)})}),y=await p.json();p.ok?(f(y.key),u({name:"",scopes:["read","write"],rateLimit:"1000"}),t({description:"API key generated successfully! Copy it now."}),await h()):t({description:y.error||"Failed to generate key",variant:"destructive"})}catch{t({description:"Error generating API key",variant:"destructive"})}},g=async v=>{try{(await fetch(`/api/admin/api-keys/${v}/revoke`,{method:"POST",credentials:"include"})).ok?(t({description:"API key revoked successfully"}),await h()):t({description:"Failed to revoke key",variant:"destructive"})}catch{t({description:"Error revoking API key",variant:"destructive"})}},x=v=>{navigator.clipboard.writeText(v),t({description:"Copied to clipboard"})};return i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(Jr,{size:"md"}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-2xl border border-primary/20 p-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"GreenPay API"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Integrate GreenPay's payment services into your applications."}),i.jsx("div",{className:"flex gap-2 flex-wrap",children:i.jsxs(re,{size:"sm",onClick:()=>e("/api-documentation"),children:[i.jsx(UO,{className:"w-4 h-4 mr-2"}),"Documentation"]})})]}),i.jsx(UO,{className:"w-16 h-16 text-primary/30"})]})}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{title:"RESTful API",description:"Modern REST endpoints for all operations"},{title:"Rate Limiting",description:"Flexible rate limits based on your plan"},{title:"Webhook Support",description:"Real-time event notifications"}].map((v,p)=>i.jsxs("div",{className:"bg-card rounded-lg border border-border p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Fr,{className:"w-5 h-5 text-green-600"}),i.jsx("h3",{className:"font-semibold",children:v.title})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:v.description})]},p))}),i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:i.jsxs(ca,{open:o,onOpenChange:l,children:[i.jsx(kc,{asChild:!0,children:i.jsxs(re,{className:"w-full bg-gradient-to-r from-primary via-primary to-secondary",children:[i.jsx(YP,{className:"w-4 h-4 mr-2"}),"Generate New API Key"]})}),i.jsxs(Vi,{children:[i.jsx(vi,{children:i.jsx(ai,{children:"Generate New API Key"})}),d?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm font-semibold text-green-900 dark:text-green-100 mb-3",children:"Your API key has been generated!"}),i.jsx("div",{className:"bg-background p-3 rounded font-mono text-sm break-all border border-border mb-3",children:d}),i.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Copy this key now. You won't be able to see it again!"}),i.jsxs(re,{onClick:()=>x(d),className:"w-full",children:[i.jsx(vU,{className:"w-4 h-4 mr-2"}),"Copy Key"]})]}),i.jsx(re,{variant:"outline",onClick:()=>{f(null),l(!1)},children:"Done"})]}):i.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Key Name"}),i.jsx(Be,{placeholder:"e.g., Mobile App, Backend Service",value:c.name,onChange:v=>u({...c,name:v.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Rate Limit (requests/minute)"}),i.jsxs(Kr,{value:c.rateLimit,onValueChange:v=>u({...c,rateLimit:v}),children:[i.jsx(Br,{children:i.jsx(Gr,{})}),i.jsxs(Ur,{children:[i.jsx(nt,{value:"100",children:"100"}),i.jsx(nt,{value:"500",children:"500"}),i.jsx(nt,{value:"1000",children:"1,000"}),i.jsx(nt,{value:"5000",children:"5,000"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Scopes"}),i.jsx("div",{className:"space-y-2",children:["read","write"].map(v=>i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:c.scopes.includes(v),onChange:p=>{p.target.checked?u({...c,scopes:[...c.scopes,v]}):u({...c,scopes:c.scopes.filter(y=>y!==v)})},className:"rounded"}),i.jsx("span",{className:"text-sm capitalize",children:v})]},v))})]}),i.jsx(re,{type:"submit",className:"w-full",children:"Generate Key"})]})]})]})}),i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Your API Keys"}),a?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin",children:""}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading keys..."})]}):r.length===0?i.jsx("div",{className:"bg-card rounded-lg border border-border p-8 text-center",children:i.jsx("p",{className:"text-muted-foreground",children:"No API keys yet. Generate one to get started!"})}):i.jsx("div",{className:"space-y-3",children:r.map(v=>i.jsxs("div",{className:"bg-card rounded-lg border border-border p-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h4",{className:"font-semibold",children:v.name}),i.jsx("span",{className:`text-xs px-2 py-1 rounded ${v.isActive?"bg-green-100 text-green-800 dark:bg-green-950 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-950 dark:text-red-200"}`,children:v.isActive?"Active":"Revoked"})]}),i.jsxs("div",{className:"flex gap-3 text-xs text-muted-foreground",children:[i.jsxs("span",{children:["Scopes: ",v.scope.join(", ")]}),i.jsxs("span",{children:["Rate: ",v.rateLimit,"/min"]}),v.lastUsedAt&&i.jsxs("span",{children:["Last used:"," ",new Date(v.lastUsedAt).toLocaleDateString()]})]})]}),v.isActive&&i.jsx(re,{variant:"destructive",size:"sm",onClick:()=>g(v.id),children:i.jsx(Fc,{className:"w-4 h-4"})})]},v.id))})]}),i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card rounded-lg border border-border p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Available Endpoints"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:["POST /api/auth/signup","POST /api/auth/login","POST /api/transactions/send","GET /api/exchange-rates/:from/:to","POST /api/deposit/initialize-payment","POST /api/airtime/purchase","GET /api/notifications","POST /api/support/tickets"].map((v,p)=>i.jsx("div",{className:"bg-muted/50 rounded p-3 font-mono text-xs",children:v},p))}),i.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"See the full API documentation for all 30+ endpoints and examples."})]})]})]})}const kx=[{method:"POST",path:"/auth/signup",title:"Sign Up",description:"Create new user account",category:"Authentication",request:JSON.stringify({fullName:"John Doe",email:"john@example.com",phone:"+254712345678",country:"KE",password:"SecurePass123!"},null,2),response:JSON.stringify({user:{id:"user-id-123",email:"john@example.com",fullName:"John Doe",phone:"+254712345678",country:"KE",isPhoneVerified:!0,isEmailVerified:!0},message:"Account created successfully"},null,2),examples:[{language:"JavaScript",code:`const response = await fetch('https://greenpay.world/api/auth/signup', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer gpay_xxxxx',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    fullName: "John Doe",
    email: "john@example.com",
    phone: "+254712345678",
    country: "KE",
    password: "SecurePass123!"
  })
});
const data = await response.json();`},{language:"Python",code:`import requests
response = requests.post(
  'https://greenpay.world/api/auth/signup',
  headers={'Authorization': 'Bearer gpay_xxxxx'},
  json={
    'fullName': 'John Doe',
    'email': 'john@example.com',
    'phone': '+254712345678',
    'country': 'KE',
    'password': 'SecurePass123!'
  }
)
data = response.json()`},{language:"cURL",code:`curl -X POST https://greenpay.world/api/auth/signup \\
  -H "Authorization: Bearer gpay_xxxxx" \\
  -H "Content-Type: application/json" \\
  -d '{
    "fullName": "John Doe",
    "email": "john@example.com",
    "phone": "+254712345678",
    "country": "KE",
    "password": "SecurePass123!"
  }'`}]},{method:"POST",path:"/auth/login",title:"Login",description:"User login with email and password",category:"Authentication",request:JSON.stringify({email:"john@example.com",password:"SecurePass123!"},null,2),response:JSON.stringify({user:{id:"user-id",email:"john@example.com",fullName:"John Doe",balance:"0.00",kycStatus:"pending"},requiresOtp:!0,message:"OTP sent to your phone"},null,2)},{method:"POST",path:"/auth/verify-otp",title:"Verify OTP",description:"Verify OTP code for login",category:"Authentication",request:JSON.stringify({code:"123456"},null,2),response:JSON.stringify({success:!0,user:{id:"user-id",email:"john@example.com"},message:"Login successful"},null,2)},{method:"GET",path:"/exchange-rates/:base",title:"Get Exchange Rates",description:"Get exchange rates for a base currency",category:"Financial",response:JSON.stringify({base:"USD",rates:{KES:145.5,EUR:.92,GBP:.79},timestamp:"2024-01-15T10:30:00Z"},null,2)},{method:"POST",path:"/exchange/convert",title:"Convert Currency",description:"Convert between currencies",category:"Financial",request:JSON.stringify({amount:"100",fromCurrency:"USD",toCurrency:"KES"},null,2),response:JSON.stringify({fromAmount:"100",fromCurrency:"USD",toAmount:"14550.00",toCurrency:"KES",rate:145.5,fee:"10.00",netAmount:"14540.00"},null,2)},{method:"GET",path:"/transactions",title:"Get Transactions",description:"Retrieve all user transactions",category:"Financial",response:JSON.stringify({transactions:[{id:"txn-id",type:"send",amount:"500",currency:"KES",status:"completed",recipientName:"Jane Doe",timestamp:"2024-01-15T10:30:00Z"}]},null,2)},{method:"POST",path:"/deposit/initialize-payment",title:"Initialize Deposit",description:"Start a deposit transaction",category:"Financial",request:JSON.stringify({amount:"1000",currency:"KES",paymentMethod:"mpesa"},null,2),response:JSON.stringify({paymentId:"pay-id",amount:"1000",currency:"KES",status:"pending",paymentLink:"https://pay.greenpay.world/...",expiresAt:"2024-01-15T11:30:00Z"},null,2)},{method:"POST",path:"/airtime/purchase",title:"Purchase Airtime",description:"Buy airtime for a phone",category:"Financial",request:JSON.stringify({phoneNumber:"+254712345678",amount:"50",provider:"safaricom"},null,2),response:JSON.stringify({transaction:{id:"txn-id",status:"completed",phoneNumber:"+254712345678",amount:"50",provider:"safaricom",timestamp:"2024-01-15T10:30:00Z"}},null,2)},{method:"GET",path:"/users/profile",title:"Get Profile",description:"Retrieve user profile information",category:"User Profile",response:JSON.stringify({id:"user-id",fullName:"John Doe",email:"john@example.com",phone:"+254712345678",country:"KE",balance:"10000.00",currency:"KES",kycStatus:"verified",hasVirtualCard:!0},null,2)},{method:"PUT",path:"/users/profile",title:"Update Profile",description:"Update user profile data",category:"User Profile",request:JSON.stringify({fullName:"John Updated",phone:"+254712345679",darkMode:!0},null,2),response:JSON.stringify({user:{id:"user-id",fullName:"John Updated"},message:"Profile updated successfully"},null,2)},{method:"POST",path:"/kyc/submit",title:"Submit KYC",description:"Submit KYC documents for verification",category:"User Profile",request:JSON.stringify({documentType:"national_id",frontImage:"base64-encoded-image",dateOfBirth:"1990-01-15"},null,2),response:JSON.stringify({kyc:{id:"kyc-id",status:"pending",submittedAt:"2024-01-15T10:30:00Z"}},null,2)},{method:"GET",path:"/notifications",title:"Get Notifications",description:"Retrieve user notifications",category:"User Profile",response:JSON.stringify({notifications:[{id:"notif-id",title:"Payment Received",message:"You received 1000 KES from John",read:!1,timestamp:"2024-01-15T10:30:00Z"}]},null,2)},{method:"POST",path:"/support/tickets",title:"Create Ticket",description:"Create a support ticket",category:"Support",request:JSON.stringify({issueType:"payment_issue",description:"Transaction failed but money was deducted"},null,2),response:JSON.stringify({ticket:{id:"ticket-id",status:"open",createdAt:"2024-01-15T10:30:00Z",trackingUrl:"https://support.greenpay.world/tickets/..."}},null,2)},{method:"GET",path:"/support/tickets",title:"Get Support Tickets",description:"Retrieve all support tickets",category:"Support",response:JSON.stringify({tickets:[{id:"ticket-id",status:"open",issueType:"payment_issue",createdAt:"2024-01-15T10:30:00Z"}]},null,2)},{method:"GET",path:"/system/status",title:"System Status",description:"Check API and system health",category:"System",response:JSON.stringify({status:"operational",version:"1.0.0",timestamp:"2024-01-15T10:30:00Z",components:{api:"operational",database:"operational",whatsapp:"operational",email:"operational"}},null,2)}];function hBe(){Gt();const[e,t]=N.useState(null),[r,n]=N.useState(null),[a,s]=N.useState(""),[o,l]=N.useState(null),[c,u]=N.useState(null),{toast:d}=Ct();Tr();const f=Array.from(new Set(kx.map(g=>g.category))),h=(g,x)=>{navigator.clipboard.writeText(g),t(x),d({description:"Copied to clipboard"}),setTimeout(()=>t(null),2e3)},m=()=>{try{const g=new At({orientation:"p",unit:"mm",format:"a4"}),x=g.internal.pageSize.getWidth(),v=g.internal.pageSize.getHeight();let p=15;g.setFillColor(34,197,94),g.rect(0,0,x,50,"F"),g.setTextColor(255,255,255),g.setFont("helvetica","bold"),g.setFontSize(28),g.text("GreenPay API",15,25),g.setFontSize(14),g.text("Complete Developer Reference",15,35),g.setFontSize(10),g.text("Version 1.0.0 - November 2024",15,42),g.addPage(),p=15,g.setTextColor(0,0,0),g.setFont("helvetica","bold"),g.setFontSize(16),g.text("Table of Contents",15,p),p+=12,f.forEach((w,j)=>{g.setFont("helvetica","normal"),g.setFontSize(10);const S=kx.filter(P=>P.category===w).length;g.text(`${j+1}. ${w} (${S} endpoints)`,20,p),p+=8}),f.forEach(w=>{g.addPage(),p=15,g.setFillColor(34,197,94),g.rect(0,p-8,x,12,"F"),g.setTextColor(255,255,255),g.setFont("helvetica","bold"),g.setFontSize(14),g.text(w,15,p),p+=18,kx.filter(j=>j.category===w).forEach(j=>{p>v-40&&(g.addPage(),p=15),g.setTextColor(0,0,0),g.setFont("helvetica","bold"),g.setFontSize(11),g.text(`${j.method} ${j.path}`,15,p),p+=6,g.setFont("helvetica","normal"),g.setFontSize(10),g.setTextColor(100,100,100),g.text(j.title,15,p),p+=4,g.setTextColor(80,80,80);const S=g.splitTextToSize(j.description,180);g.text(S,15,p),p+=S.length*4+3,j.request&&(p>v-30&&(g.addPage(),p=15),g.setFont("helvetica","bold"),g.setTextColor(34,197,94),g.setFontSize(9),g.text("Request Body:",15,p),p+=5,g.setFont("courier","normal"),g.setFontSize(8),g.setTextColor(40,40,40),j.request.split(`
`).forEach(A=>{p>v-15&&(g.addPage(),p=15),g.text(A,18,p),p+=3.5}),p+=2),j.response&&(p>v-30&&(g.addPage(),p=15),g.setFont("helvetica","bold"),g.setTextColor(34,197,94),g.setFontSize(9),g.text("Response:",15,p),p+=5,g.setFont("courier","normal"),g.setFontSize(8),g.setTextColor(40,40,40),j.response.split(`
`).forEach(A=>{p>v-15&&(g.addPage(),p=15),g.text(A,18,p),p+=3.5}),p+=5)})});const y=g.getNumberOfPages();for(let w=1;w<=y;w++)g.setPage(w),g.setFontSize(9),g.setTextColor(150,150,150),g.text(`Page ${w} of ${y}`,x-30,v-10),g.text("GreenPay  2024",15,v-10);g.save("GreenPay-API-Documentation.pdf"),d({description:"PDF downloaded successfully"})}catch{d({description:"Error generating PDF",variant:"destructive"})}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white to-green-50 pb-20",children:[i.jsx(Jr,{rightContent:i.jsx("button",{onClick:m,className:"text-gray-800 dark:text-gray-200 p-2 rounded-full hover:bg-black/10 dark:hover:bg-white/20 transition-colors",children:i.jsx(Gs,{className:"w-5 h-5"})}),size:"md"}),i.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:[i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-green-600",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Test API Endpoints"}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx("input",{type:"password",placeholder:"Enter your API key (gpay_...)",value:a,onChange:g=>s(g.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600"}),i.jsx("button",{onClick:()=>s(""),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 font-medium",children:"Clear"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Your API key is stored locally only - never sent to external servers"})]}),f.map(g=>i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-1 w-8 bg-green-600 rounded"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:g}),i.jsx("span",{className:"text-sm font-semibold bg-green-100 text-green-700 px-3 py-1 rounded-full",children:kx.filter(x=>x.category===g).length})]}),i.jsx("div",{className:"grid grid-cols-1 gap-4",children:kx.filter(x=>x.category===g).map((x,v)=>{var w,j;const p=`${x.method}-${x.path}`,y=r===p;return i.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden hover:shadow-lg transition-all",children:[i.jsx("button",{onClick:()=>n(y?null:p),className:"w-full text-left bg-gradient-to-r from-gray-50 to-gray-100 p-4 border-b hover:from-gray-100 hover:to-gray-150 transition-all",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded text-white ${x.method==="GET"?"bg-blue-600":"bg-green-600"}`,children:x.method}),i.jsx("code",{className:"font-mono text-sm font-semibold text-gray-900",children:x.path})]}),i.jsx("h4",{className:"text-lg font-bold text-gray-900",children:x.title}),i.jsx("p",{className:"text-sm text-gray-600",children:x.description})]}),i.jsx(Vne,{className:`w-6 h-6 text-green-600 opacity-20 flex-shrink-0 transition-transform ${y?"rotate-180":""}`})]})}),y&&i.jsxs("div",{className:"p-6 space-y-4 bg-white",children:[x.request&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Request"}),i.jsx("button",{onClick:()=>h(x.request,`req-${p}`),className:`text-xs px-2 py-1 rounded transition-all ${e===`req-${p}`?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:e===`req-${p}`?"Copied":"Copy"})]}),i.jsx("pre",{className:"bg-gray-900 text-gray-100 p-3 rounded text-xs overflow-x-auto",children:x.request})]}),x.response&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Response Example"}),i.jsx("button",{onClick:()=>h(x.response,`resp-${p}`),className:`text-xs px-2 py-1 rounded transition-all ${e===`resp-${p}`?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:e===`resp-${p}`?"Copied":"Copy"})]}),i.jsx("pre",{className:"bg-green-50 border border-green-300 text-gray-900 p-3 rounded text-xs overflow-x-auto",children:x.response})]}),x.examples&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-bold text-gray-700 mb-3 block",children:"Code Examples"}),i.jsx("div",{className:"flex gap-2 mb-3",children:x.examples.map(S=>i.jsx("button",{onClick:()=>u(c===S.language?null:S.language),className:`px-3 py-1 rounded text-sm font-medium transition-all ${c===S.language?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:S.language},S.language))}),c&&i.jsxs("div",{children:[i.jsx("button",{onClick:()=>{var S;return h(((S=x.examples.find(P=>P.language===c))==null?void 0:S.code)||"",`ex-${p}-${c}`)},className:`text-xs px-2 py-1 rounded transition-all mb-2 ${e===`ex-${p}-${c}`?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:e===`ex-${p}-${c}`?"Copied":"Copy Code"}),i.jsx("pre",{className:"bg-gray-900 text-gray-100 p-3 rounded text-xs overflow-x-auto",children:(j=(w=x.examples)==null?void 0:w.find(S=>S.language===c))==null?void 0:j.code})]})]}),i.jsxs("button",{onClick:()=>{if(!a){d({description:"Please enter your API key",variant:"destructive"});return}l(JSON.stringify(JSON.parse(x.response||"{}"),null,2))},className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center gap-2 transition-all",children:[i.jsx(NU,{className:"w-4 h-4"}),"Test This Endpoint"]}),o&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-gray-700 mb-2",children:"Test Response:"}),i.jsx("pre",{className:"bg-blue-50 border border-blue-300 text-gray-900 p-3 rounded text-xs overflow-x-auto",children:o})]})]})]},v)})})]},g)),i.jsx("div",{className:"text-center text-sm text-gray-500 py-6 border-t",children:i.jsx("p",{children:" 2024 GreenPay. All rights reserved. API v1.0.0"})})]})]})}function mBe(){var p;Gt();const[e,t]=N.useState(null),[r,n]=N.useState(""),[a,s]=N.useState(null),{toast:o}=Ct(),l=en(),{data:c,isLoading:u,refetch:d,isFetching:f}=Kt({queryKey:["user-support-tickets"],queryFn:async()=>{const y=await fetch("/api/user/support-tickets",{credentials:"include"});if(!y.ok)throw new Error("Failed to fetch");return y.json()}}),h=St({mutationFn:async()=>{const y=new FormData;y.append("content",r),a&&y.append("file",a);const w=await fetch(`/api/user/support-tickets/${e}/reply`,{method:"POST",credentials:"include",body:y});if(!w.ok)throw new Error("Failed to send reply");return w.json()},onSuccess:()=>{l.invalidateQueries({queryKey:["user-support-tickets"]}),o({title:"Reply sent successfully"}),n(""),s(null)},onError:y=>{console.error("Reply error:",y),o({title:"Failed to send reply",variant:"destructive"})}});if(u)return i.jsx("div",{className:"p-8 text-center",children:"Loading..."});const m=(c==null?void 0:c.tickets)||[],g=e?m.find(y=>y.id===e):null,x=y=>{switch(y){case"open":return i.jsx(Ei,{className:"w-5 h-5 text-emerald-600"});case"in_progress":return i.jsx(Dl,{className:"w-5 h-5 text-emerald-500"});case"resolved":case"closed":return i.jsx(Fr,{className:"w-5 h-5 text-emerald-700"});default:return i.jsx(Ei,{className:"w-5 h-5"})}},v=y=>{switch(y){case"open":return"bg-emerald-50 text-emerald-800 border-emerald-300";case"in_progress":return"bg-emerald-100 text-emerald-800 border-emerald-300";case"resolved":return"bg-emerald-100 text-emerald-800 border-emerald-300";case"closed":return"bg-emerald-50 text-emerald-800 border-emerald-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}};return g?i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-card shadow-sm p-4 flex items-center elevation-1 border-b border-border",children:[i.jsx(X.button,{whileTap:{scale:.95},onClick:()=>t(null),className:"material-icons text-muted-foreground mr-3 p-2 rounded-full hover:bg-muted transition-colors",children:"arrow_back"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:g.issueType}),i.jsx("p",{className:"text-xs text-muted-foreground",children:Qr(new Date(g.createdAt),"MMM d, yyyy HH:mm")})]}),i.jsxs("div",{className:"ml-auto flex gap-2",children:[i.jsx(st,{className:`${v(g.status)} border text-xs`,children:g.status}),i.jsx(st,{variant:"outline",className:"text-xs bg-emerald-50 text-emerald-700 border-emerald-300",children:g.priority})]})]}),i.jsxs("div",{className:"p-4 space-y-4 max-w-full",children:[i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card p-4 rounded-xl border border-emerald-200 elevation-1 bg-gradient-to-br from-emerald-50 to-transparent",children:[i.jsx("p",{className:"text-sm font-semibold text-emerald-800 mb-2",children:"ISSUE DESCRIPTION"}),i.jsx("p",{className:"text-sm text-foreground",children:g.description})]}),i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card rounded-xl border border-emerald-200 elevation-1",children:[i.jsx("div",{className:"p-4 border-b border-emerald-200 bg-gradient-to-r from-emerald-50 to-transparent",children:i.jsxs("p",{className:"text-sm font-semibold text-emerald-800",children:["CONVERSATION (",((p=g.replies)==null?void 0:p.length)||0,")"]})}),i.jsx("div",{className:"p-4 max-h-80 overflow-y-auto space-y-3",children:!g.replies||g.replies.length===0?i.jsx("p",{className:"text-muted-foreground text-center py-6 text-sm",children:"No replies yet"}):g.replies.map(y=>i.jsxs(X.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:`p-3 rounded-lg text-sm ${y.senderType==="admin"?"bg-emerald-50 border-l-4 border-emerald-500":"bg-muted border-l-4 border-muted-foreground"}`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"font-semibold text-xs text-emerald-800",children:y.senderType==="admin"?" Support":" You"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:Qr(new Date(y.createdAt),"MMM d HH:mm")})]}),i.jsx("p",{className:"text-foreground",children:y.content}),y.fileUrl&&i.jsxs("a",{href:y.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-emerald-600 mt-2 inline-block hover:underline font-semibold",children:[" ",y.fileName||"Download"]})]},y.id))})]}),i.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card p-4 rounded-xl border border-emerald-200 elevation-1 bg-gradient-to-br from-emerald-50 to-transparent",children:[i.jsx("p",{className:"text-sm font-semibold text-emerald-800 mb-3",children:"SEND REPLY"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(za,{placeholder:"Type your response...",value:r,onChange:y=>n(y.target.value),rows:2,className:"text-sm rounded-lg"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Be,{type:"file",onChange:y=>{var w;return s(((w=y.target.files)==null?void 0:w[0])||null)},className:"text-sm flex-1",accept:"image/*,video/*,.pdf,.doc,.docx"}),a&&i.jsxs("span",{className:"text-xs text-emerald-600 self-center px-2 font-semibold",children:[" ",a.name]})]}),i.jsxs(re,{onClick:()=>h.mutate(),disabled:!r.trim()||h.isPending,className:"w-full ripple bg-emerald-600 hover:bg-emerald-700 text-white",children:[i.jsx("span",{className:"material-icons text-sm mr-2",children:"send"}),h.isPending?"Sending...":"Send Reply"]})]})]})]})]}):i.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[i.jsx(Jr,{size:"sm"}),i.jsx("div",{className:"p-4 space-y-3",children:m.length===0?i.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-card p-6 rounded-xl text-center border border-emerald-200 elevation-1 bg-gradient-to-br from-emerald-50 to-transparent",children:[i.jsx("span",{className:"material-icons text-4xl text-emerald-600 mb-2 inline-block",children:"inbox"}),i.jsx("p",{className:"text-emerald-800 font-semibold text-sm",children:"No support tickets yet"}),i.jsx("p",{className:"text-xs text-emerald-700 mt-1",children:"Visit the support page to report an issue"})]}):m.map((y,w)=>{var j;return i.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.05},whileHover:{scale:1.01},whileTap:{scale:.99},children:i.jsx(Ce,{className:"cursor-pointer hover:shadow-md transition-all border-emerald-200 bg-card elevation-1 hover:border-emerald-300",onClick:()=>t(y.id),children:i.jsx(Ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x(y.status),i.jsx("h3",{className:"font-semibold text-sm truncate",children:y.issueType})]}),i.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mb-2",children:y.description}),i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-muted-foreground",children:Qr(new Date(y.createdAt),"MMM d")}),i.jsxs("span",{className:"text-emerald-700 font-semibold",children:[((j=y.replies)==null?void 0:j.length)||0," replies"]})]})]}),i.jsx("div",{className:"flex flex-col gap-2 items-end flex-shrink-0",children:i.jsx(st,{className:`${v(y.status)} border text-xs`,children:y.status})})]})})})},y.id)})})]})}function F7({component:e}){const[,t]=Gt(),{isAuthenticated:r,isLoading:n}=Tr();return n?i.jsx(Fve,{}):r?i.jsx(e,{}):(t("/login"),null)}function pBe({component:e}){const[,t]=Gt(),r=pz("adminAuth",null);return r?!r.role||r.role!=="admin"?(t("/admin/login"),localStorage.removeItem("adminAuth"),null):i.jsx(e,{}):(t("/admin/login"),null)}function gBe(){return i.jsxs(ore,{children:[i.jsx(Rt,{path:"/",component:Lue}),i.jsx(Rt,{path:"/login",component:Fde}),i.jsx(Rt,{path:"/signup",component:uhe}),i.jsx(Rt,{path:"/auth/otp-verification",component:dhe}),i.jsx(Rt,{path:"/auth/kyc-verification",component:hhe}),i.jsx(Rt,{path:"/auth/virtual-card-purchase",component:ghe}),i.jsx(Rt,{path:"/auth/forgot-password",component:bhe}),i.jsx(Rt,{path:"/auth/reset-password",component:jhe}),i.jsx(Rt,{path:"/dashboard",children:i.jsx(F7,{component:Bme})}),i.jsx(Rt,{path:"/send-money",component:tpe}),i.jsx(Rt,{path:"/send-amount",component:npe}),i.jsx(Rt,{path:"/send-confirm",component:ipe}),i.jsx(Rt,{path:"/receive-money",component:ope}),i.jsx(Rt,{path:"/transactions",component:Yye}),i.jsx(Rt,{path:"/virtual-card",component:Xye}),i.jsx(Rt,{path:"/settings",component:rve}),i.jsx(Rt,{path:"/support",component:yve}),i.jsx(Rt,{path:"/support/tickets",children:i.jsx(F7,{component:mBe})}),i.jsx(Rt,{path:"/live-chat",component:vve}),i.jsx(Rt,{path:"/deposit",component:wve}),i.jsx(Rt,{path:"/withdraw",component:Nve}),i.jsx(Rt,{path:"/exchange",component:_ve}),i.jsx(Rt,{path:"/kyc",component:Mve}),i.jsx(Rt,{path:"/airtime",component:Ive}),i.jsx(Rt,{path:"/bills",component:Dve}),i.jsx(Rt,{path:"/status",component:Rve}),i.jsx(Rt,{path:"/payment-callback",component:Vve}),i.jsx(Rt,{path:"/payment-success",component:qve}),i.jsx(Rt,{path:"/payment-failed",component:Wve}),i.jsx(Rt,{path:"/payment-processing",component:Hve}),i.jsx(Rt,{path:"/features/send-money",component:I9e}),i.jsx(Rt,{path:"/features/virtual-cards",component:D9e}),i.jsx(Rt,{path:"/features/exchange",component:R9e}),i.jsx(Rt,{path:"/features/airtime",component:iBe}),i.jsx(Rt,{path:"/help",component:nBe}),i.jsx(Rt,{path:"/about",component:aBe}),i.jsx(Rt,{path:"/pricing",component:sBe}),i.jsx(Rt,{path:"/security",component:oBe}),i.jsx(Rt,{path:"/contact",component:lBe}),i.jsx(Rt,{path:"/terms",component:cBe}),i.jsx(Rt,{path:"/privacy",component:uBe}),i.jsx(Rt,{path:"/loans",component:dBe}),i.jsx(Rt,{path:"/api-service",component:fBe}),i.jsx(Rt,{path:"/api-documentation",component:hBe}),i.jsx(Rt,{path:"/admin-login",component:z8}),i.jsx(Rt,{path:"/admin/login",component:z8}),i.jsx(Rt,{path:"/admin/dashboard",children:i.jsx(pBe,{component:k9e})}),i.jsx(Rt,{component:Mue})]})}function xBe(){const[e]=Gt(),{isAuthenticated:t}=Tr(),n=["/","/login","/signup","/splash","/help","/about","/pricing","/security","/contact","/terms","/privacy","/loans","/api-service","/api-documentation","/send-money","/virtual-cards","/exchange","/airtime","/admin-login"].some(s=>e===s||e.startsWith(s+"/")),a=t&&!n;return i.jsxs(ose,{children:[i.jsx(Iie,{}),i.jsx(gBe,{}),i.jsx(Bve,{}),i.jsx(Uve,{}),a&&i.jsxs(i.Fragment,{children:[i.jsx(use,{}),i.jsx(zve,{})]})]})}function yBe(){return i.jsx(Are,{client:Bre,children:i.jsx(cse,{children:i.jsx(xBe,{})})})}const E_="1.0.3",O_=localStorage.getItem("app_version"),$7=parseInt(sessionStorage.getItem("reload_count")||"0"),B7=parseInt(sessionStorage.getItem("last_reload")||"0"),M_=Date.now();M_-B7<1e4&&$7>3?console.error("Crash loop detected. Stopping automatic reloads."):(M_-B7>1e4?sessionStorage.setItem("reload_count","1"):sessionStorage.setItem("reload_count",($7+1).toString()),sessionStorage.setItem("last_reload",M_.toString()));O_&&O_!==E_?(localStorage.setItem("app_version",E_),localStorage.clear(),sessionStorage.clear(),window.location.reload()):O_||localStorage.setItem("app_version",E_);window.addEventListener("error",e=>{if(e.message.includes("Loading chunk")||e.message.includes("CSS_CHUNK_LOAD_FAILED")||e.message.includes("Unexpected token")||e.message.includes("is not a function")){const t=parseInt(sessionStorage.getItem("last_critical_error")||"0");Date.now()-t>6e4&&(sessionStorage.setItem("last_critical_error",Date.now().toString()),console.warn("Critical error detected, forcing full reset and reload..."),window.location.href=window.location.origin+"/?clear_cache=1&s=1")}});typeof global>"u"&&(window.global=window);uB(document.getElementById("root")).render(i.jsx(xB,{children:i.jsx(yBe,{})}));export{Wr as _,Zv as c,Mr as g};
